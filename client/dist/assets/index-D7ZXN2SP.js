function pJ(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Bbt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function P8(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){var s=!1;try{s=this instanceof r}catch{}return s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var vT={exports:{}},tv={};var L9;function hpe(){if(L9)return tv;L9=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,i){var a=null;if(i!==void 0&&(a=""+i),s.key!==void 0&&(a=""+s.key),"key"in s){i={};for(var o in s)o!=="key"&&(i[o]=s[o])}else i=s;return s=i.ref,{$$typeof:t,type:r,key:a,ref:s!==void 0?s:null,props:i}}return tv.Fragment=e,tv.jsx=n,tv.jsxs=n,tv}var $9;function ppe(){return $9||($9=1,vT.exports=hpe()),vT.exports}var l=ppe(),wT={exports:{}},ar={};var P9;function mpe(){if(P9)return ar;P9=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),h=Symbol.iterator;function m(H){return H===null||typeof H!="object"?null:(H=h&&H[h]||H["@@iterator"],typeof H=="function"?H:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,x={};function v(H,Q,X){this.props=H,this.context=Q,this.refs=x,this.updater=X||g}v.prototype.isReactComponent={},v.prototype.setState=function(H,Q){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,Q,"setState")},v.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function w(){}w.prototype=v.prototype;function B(H,Q,X){this.props=H,this.context=Q,this.refs=x,this.updater=X||g}var k=B.prototype=new w;k.constructor=B,y(k,v.prototype),k.isPureReactComponent=!0;var E=Array.isArray;function N(){}var O={H:null,A:null,T:null,S:null},F=Object.prototype.hasOwnProperty;function D(H,Q,X){var re=X.ref;return{$$typeof:t,type:H,key:Q,ref:re!==void 0?re:null,props:X}}function T(H,Q){return D(H.type,Q,H.props)}function j(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function P(H){var Q={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(X){return Q[X]})}var U=/\/+/g;function z(H,Q){return typeof H=="object"&&H!==null&&H.key!=null?P(""+H.key):Q.toString(36)}function ee(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(N,N):(H.status="pending",H.then(function(Q){H.status==="pending"&&(H.status="fulfilled",H.value=Q)},function(Q){H.status==="pending"&&(H.status="rejected",H.reason=Q)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function q(H,Q,X,re,le){var he=typeof H;(he==="undefined"||he==="boolean")&&(H=null);var xe=!1;if(H===null)xe=!0;else switch(he){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(H.$$typeof){case t:case e:xe=!0;break;case d:return xe=H._init,q(xe(H._payload),Q,X,re,le)}}if(xe)return le=le(H),xe=re===""?"."+z(H,0):re,E(le)?(X="",xe!=null&&(X=xe.replace(U,"$&/")+"/"),q(le,Q,X,"",function(ve){return ve})):le!=null&&(j(le)&&(le=T(le,X+(le.key==null||H&&H.key===le.key?"":(""+le.key).replace(U,"$&/")+"/")+xe)),Q.push(le)),1;xe=0;var Be=re===""?".":re+":";if(E(H))for(var me=0;me<H.length;me++)re=H[me],he=Be+z(re,me),xe+=q(re,Q,X,he,le);else if(me=m(H),typeof me=="function")for(H=me.call(H),me=0;!(re=H.next()).done;)re=re.value,he=Be+z(re,me++),xe+=q(re,Q,X,he,le);else if(he==="object"){if(typeof H.then=="function")return q(ee(H),Q,X,re,le);throw Q=String(H),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return xe}function Z(H,Q,X){if(H==null)return H;var re=[],le=0;return q(H,re,"","",function(he){return Q.call(X,he,le++)}),re}function G(H){if(H._status===-1){var Q=H._result;Q=Q(),Q.then(function(X){(H._status===0||H._status===-1)&&(H._status=1,H._result=X)},function(X){(H._status===0||H._status===-1)&&(H._status=2,H._result=X)}),H._status===-1&&(H._status=0,H._result=Q)}if(H._status===1)return H._result.default;throw H._result}var ne=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},K={map:Z,forEach:function(H,Q,X){Z(H,function(){Q.apply(this,arguments)},X)},count:function(H){var Q=0;return Z(H,function(){Q++}),Q},toArray:function(H){return Z(H,function(Q){return Q})||[]},only:function(H){if(!j(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return ar.Activity=f,ar.Children=K,ar.Component=v,ar.Fragment=n,ar.Profiler=s,ar.PureComponent=B,ar.StrictMode=r,ar.Suspense=c,ar.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,ar.__COMPILER_RUNTIME={__proto__:null,c:function(H){return O.H.useMemoCache(H)}},ar.cache=function(H){return function(){return H.apply(null,arguments)}},ar.cacheSignal=function(){return null},ar.cloneElement=function(H,Q,X){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var re=y({},H.props),le=H.key;if(Q!=null)for(he in Q.key!==void 0&&(le=""+Q.key),Q)!F.call(Q,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&Q.ref===void 0||(re[he]=Q[he]);var he=arguments.length-2;if(he===1)re.children=X;else if(1<he){for(var xe=Array(he),Be=0;Be<he;Be++)xe[Be]=arguments[Be+2];re.children=xe}return D(H.type,le,re)},ar.createContext=function(H){return H={$$typeof:a,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:i,_context:H},H},ar.createElement=function(H,Q,X){var re,le={},he=null;if(Q!=null)for(re in Q.key!==void 0&&(he=""+Q.key),Q)F.call(Q,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(le[re]=Q[re]);var xe=arguments.length-2;if(xe===1)le.children=X;else if(1<xe){for(var Be=Array(xe),me=0;me<xe;me++)Be[me]=arguments[me+2];le.children=Be}if(H&&H.defaultProps)for(re in xe=H.defaultProps,xe)le[re]===void 0&&(le[re]=xe[re]);return D(H,he,le)},ar.createRef=function(){return{current:null}},ar.forwardRef=function(H){return{$$typeof:o,render:H}},ar.isValidElement=j,ar.lazy=function(H){return{$$typeof:d,_payload:{_status:-1,_result:H},_init:G}},ar.memo=function(H,Q){return{$$typeof:u,type:H,compare:Q===void 0?null:Q}},ar.startTransition=function(H){var Q=O.T,X={};O.T=X;try{var re=H(),le=O.S;le!==null&&le(X,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(N,ne)}catch(he){ne(he)}finally{Q!==null&&X.types!==null&&(Q.types=X.types),O.T=Q}},ar.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},ar.use=function(H){return O.H.use(H)},ar.useActionState=function(H,Q,X){return O.H.useActionState(H,Q,X)},ar.useCallback=function(H,Q){return O.H.useCallback(H,Q)},ar.useContext=function(H){return O.H.useContext(H)},ar.useDebugValue=function(){},ar.useDeferredValue=function(H,Q){return O.H.useDeferredValue(H,Q)},ar.useEffect=function(H,Q){return O.H.useEffect(H,Q)},ar.useEffectEvent=function(H){return O.H.useEffectEvent(H)},ar.useId=function(){return O.H.useId()},ar.useImperativeHandle=function(H,Q,X){return O.H.useImperativeHandle(H,Q,X)},ar.useInsertionEffect=function(H,Q){return O.H.useInsertionEffect(H,Q)},ar.useLayoutEffect=function(H,Q){return O.H.useLayoutEffect(H,Q)},ar.useMemo=function(H,Q){return O.H.useMemo(H,Q)},ar.useOptimistic=function(H,Q){return O.H.useOptimistic(H,Q)},ar.useReducer=function(H,Q,X){return O.H.useReducer(H,Q,X)},ar.useRef=function(H){return O.H.useRef(H)},ar.useState=function(H){return O.H.useState(H)},ar.useSyncExternalStore=function(H,Q,X){return O.H.useSyncExternalStore(H,Q,X)},ar.useTransition=function(){return O.H.useTransition()},ar.version="19.2.4",ar}var U9;function F1(){return U9||(U9=1,wT.exports=mpe()),wT.exports}var C=F1();const Hp=nc(C),gpe=pJ({__proto__:null,default:Hp},[C]);var ST={exports:{}},nv={},CT={exports:{}},kT={};var z9;function ype(){return z9||(z9=1,(function(t){function e(q,Z){var G=q.length;q.push(Z);e:for(;0<G;){var ne=G-1>>>1,K=q[ne];if(0<s(K,Z))q[ne]=Z,q[G]=K,G=ne;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var Z=q[0],G=q.pop();if(G!==Z){q[0]=G;e:for(var ne=0,K=q.length,H=K>>>1;ne<H;){var Q=2*(ne+1)-1,X=q[Q],re=Q+1,le=q[re];if(0>s(X,G))re<K&&0>s(le,X)?(q[ne]=le,q[re]=G,ne=re):(q[ne]=X,q[Q]=G,ne=Q);else if(re<K&&0>s(le,G))q[ne]=le,q[re]=G,ne=re;else break e}}return Z}function s(q,Z){var G=q.sortIndex-Z.sortIndex;return G!==0?G:q.id-Z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var c=[],u=[],d=1,f=null,h=3,m=!1,g=!1,y=!1,x=!1,v=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function k(q){for(var Z=n(u);Z!==null;){if(Z.callback===null)r(u);else if(Z.startTime<=q)r(u),Z.sortIndex=Z.expirationTime,e(c,Z);else break;Z=n(u)}}function E(q){if(y=!1,k(q),!g)if(n(c)!==null)g=!0,N||(N=!0,P());else{var Z=n(u);Z!==null&&ee(E,Z.startTime-q)}}var N=!1,O=-1,F=5,D=-1;function T(){return x?!0:!(t.unstable_now()-D<F)}function j(){if(x=!1,N){var q=t.unstable_now();D=q;var Z=!0;try{e:{g=!1,y&&(y=!1,w(O),O=-1),m=!0;var G=h;try{t:{for(k(q),f=n(c);f!==null&&!(f.expirationTime>q&&T());){var ne=f.callback;if(typeof ne=="function"){f.callback=null,h=f.priorityLevel;var K=ne(f.expirationTime<=q);if(q=t.unstable_now(),typeof K=="function"){f.callback=K,k(q),Z=!0;break t}f===n(c)&&r(c),k(q)}else r(c);f=n(c)}if(f!==null)Z=!0;else{var H=n(u);H!==null&&ee(E,H.startTime-q),Z=!1}}break e}finally{f=null,h=G,m=!1}Z=void 0}}finally{Z?P():N=!1}}}var P;if(typeof B=="function")P=function(){B(j)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,z=U.port2;U.port1.onmessage=j,P=function(){z.postMessage(null)}}else P=function(){v(j,0)};function ee(q,Z){O=v(function(){q(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_next=function(q){switch(h){case 1:case 2:case 3:var Z=3;break;default:Z=h}var G=h;h=Z;try{return q()}finally{h=G}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function(q,Z){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var G=h;h=q;try{return Z()}finally{h=G}},t.unstable_scheduleCallback=function(q,Z,G){var ne=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ne+G:ne):G=ne,q){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=G+K,q={id:d++,callback:Z,priorityLevel:q,startTime:G,expirationTime:K,sortIndex:-1},G>ne?(q.sortIndex=G,e(u,q),n(c)===null&&q===n(u)&&(y?(w(O),O=-1):y=!0,ee(E,G-ne))):(q.sortIndex=K,e(c,q),g||m||(g=!0,N||(N=!0,P()))),q},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(q){var Z=h;return function(){var G=h;h=Z;try{return q.apply(this,arguments)}finally{h=G}}}})(kT)),kT}var M9;function xpe(){return M9||(M9=1,CT.exports=ype()),CT.exports}var BT={exports:{}},hl={};var Q9;function bpe(){if(Q9)return hl;Q9=1;var t=F1();function e(c){var u="https://react.dev/errors/"+c;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+c+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function i(c,u,d){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:f==null?null:""+f,children:c,containerInfo:u,implementation:d}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(c,u){if(c==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return hl.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,hl.createPortal=function(c,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return i(c,u,null,d)},hl.flushSync=function(c){var u=a.T,d=r.p;try{if(a.T=null,r.p=2,c)return c()}finally{a.T=u,r.p=d,r.d.f()}},hl.preconnect=function(c,u){typeof c=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,r.d.C(c,u))},hl.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},hl.preinit=function(c,u){if(typeof c=="string"&&u&&typeof u.as=="string"){var d=u.as,f=o(d,u.crossOrigin),h=typeof u.integrity=="string"?u.integrity:void 0,m=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;d==="style"?r.d.S(c,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:f,integrity:h,fetchPriority:m}):d==="script"&&r.d.X(c,{crossOrigin:f,integrity:h,fetchPriority:m,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},hl.preinitModule=function(c,u){if(typeof c=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var d=o(u.as,u.crossOrigin);r.d.M(c,{crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&r.d.M(c)},hl.preload=function(c,u){if(typeof c=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var d=u.as,f=o(d,u.crossOrigin);r.d.L(c,d,{crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},hl.preloadModule=function(c,u){if(typeof c=="string")if(u){var d=o(u.as,u.crossOrigin);r.d.m(c,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else r.d.m(c)},hl.requestFormReset=function(c){r.d.r(c)},hl.unstable_batchedUpdates=function(c,u){return c(u)},hl.useFormState=function(c,u,d){return a.H.useFormState(c,u,d)},hl.useFormStatus=function(){return a.H.useHostTransitionStatus()},hl.version="19.2.4",hl}var H9;function mJ(){if(H9)return BT.exports;H9=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),BT.exports=bpe(),BT.exports}var W9;function vpe(){if(W9)return nv;W9=1;var t=xpe(),e=F1(),n=mJ();function r(A){var p="https://react.dev/errors/"+A;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+A+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(A){return!(!A||A.nodeType!==1&&A.nodeType!==9&&A.nodeType!==11)}function i(A){var p=A,b=A;if(A.alternate)for(;p.return;)p=p.return;else{A=p;do p=A,(p.flags&4098)!==0&&(b=p.return),A=p.return;while(A)}return p.tag===3?b:null}function a(A){if(A.tag===13){var p=A.memoizedState;if(p===null&&(A=A.alternate,A!==null&&(p=A.memoizedState)),p!==null)return p.dehydrated}return null}function o(A){if(A.tag===31){var p=A.memoizedState;if(p===null&&(A=A.alternate,A!==null&&(p=A.memoizedState)),p!==null)return p.dehydrated}return null}function c(A){if(i(A)!==A)throw Error(r(188))}function u(A){var p=A.alternate;if(!p){if(p=i(A),p===null)throw Error(r(188));return p!==A?null:A}for(var b=A,S=p;;){var _=b.return;if(_===null)break;var $=_.alternate;if($===null){if(S=_.return,S!==null){b=S;continue}break}if(_.child===$.child){for($=_.child;$;){if($===b)return c(_),A;if($===S)return c(_),p;$=$.sibling}throw Error(r(188))}if(b.return!==S.return)b=_,S=$;else{for(var te=!1,Ae=_.child;Ae;){if(Ae===b){te=!0,b=_,S=$;break}if(Ae===S){te=!0,S=_,b=$;break}Ae=Ae.sibling}if(!te){for(Ae=$.child;Ae;){if(Ae===b){te=!0,b=$,S=_;break}if(Ae===S){te=!0,S=$,b=_;break}Ae=Ae.sibling}if(!te)throw Error(r(189))}}if(b.alternate!==S)throw Error(r(190))}if(b.tag!==3)throw Error(r(188));return b.stateNode.current===b?A:p}function d(A){var p=A.tag;if(p===5||p===26||p===27||p===6)return A;for(A=A.child;A!==null;){if(p=d(A),p!==null)return p;A=A.sibling}return null}var f=Object.assign,h=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),B=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),T=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function P(A){return A===null||typeof A!="object"?null:(A=j&&A[j]||A["@@iterator"],typeof A=="function"?A:null)}var U=Symbol.for("react.client.reference");function z(A){if(A==null)return null;if(typeof A=="function")return A.$$typeof===U?null:A.displayName||A.name||null;if(typeof A=="string")return A;switch(A){case y:return"Fragment";case v:return"Profiler";case x:return"StrictMode";case E:return"Suspense";case N:return"SuspenseList";case D:return"Activity"}if(typeof A=="object")switch(A.$$typeof){case g:return"Portal";case B:return A.displayName||"Context";case w:return(A._context.displayName||"Context")+".Consumer";case k:var p=A.render;return A=A.displayName,A||(A=p.displayName||p.name||"",A=A!==""?"ForwardRef("+A+")":"ForwardRef"),A;case O:return p=A.displayName||null,p!==null?p:z(A.type)||"Memo";case F:p=A._payload,A=A._init;try{return z(A(p))}catch{}}return null}var ee=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G={pending:!1,data:null,method:null,action:null},ne=[],K=-1;function H(A){return{current:A}}function Q(A){0>K||(A.current=ne[K],ne[K]=null,K--)}function X(A,p){K++,ne[K]=A.current,A.current=p}var re=H(null),le=H(null),he=H(null),xe=H(null);function Be(A,p){switch(X(he,p),X(le,A),X(re,null),p.nodeType){case 9:case 11:A=(A=p.documentElement)&&(A=A.namespaceURI)?a9(A):0;break;default:if(A=p.tagName,p=p.namespaceURI)p=a9(p),A=o9(p,A);else switch(A){case"svg":A=1;break;case"math":A=2;break;default:A=0}}Q(re),X(re,A)}function me(){Q(re),Q(le),Q(he)}function ve(A){A.memoizedState!==null&&X(xe,A);var p=re.current,b=o9(p,A.type);p!==b&&(X(le,A),X(re,b))}function Ee(A){le.current===A&&(Q(re),Q(le)),xe.current===A&&(Q(xe),Yb._currentValue=G)}var ye,Ue;function at(A){if(ye===void 0)try{throw Error()}catch(b){var p=b.stack.trim().match(/\n( *(at )?)/);ye=p&&p[1]||"",Ue=-1<b.stack.indexOf(`
    at`)?" (<anonymous>)":-1<b.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ye+A+Ue}var ie=!1;function Le(A,p){if(!A||ie)return"";ie=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var S={DetermineComponentFrameRoot:function(){try{if(p){var Et=function(){throw Error()};if(Object.defineProperty(Et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Et,[])}catch(ct){var nt=ct}Reflect.construct(A,[],Et)}else{try{Et.call()}catch(ct){nt=ct}A.call(Et.prototype)}}else{try{throw Error()}catch(ct){nt=ct}(Et=A())&&typeof Et.catch=="function"&&Et.catch(function(){})}}catch(ct){if(ct&&nt&&typeof ct.stack=="string")return[ct.stack,nt.stack]}return[null,null]}};S.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(S.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(S.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var $=S.DetermineComponentFrameRoot(),te=$[0],Ae=$[1];if(te&&Ae){var Te=te.split(`
`),et=Ae.split(`
`);for(_=S=0;S<Te.length&&!Te[S].includes("DetermineComponentFrameRoot");)S++;for(;_<et.length&&!et[_].includes("DetermineComponentFrameRoot");)_++;if(S===Te.length||_===et.length)for(S=Te.length-1,_=et.length-1;1<=S&&0<=_&&Te[S]!==et[_];)_--;for(;1<=S&&0<=_;S--,_--)if(Te[S]!==et[_]){if(S!==1||_!==1)do if(S--,_--,0>_||Te[S]!==et[_]){var xt=`
`+Te[S].replace(" at new "," at ");return A.displayName&&xt.includes("<anonymous>")&&(xt=xt.replace("<anonymous>",A.displayName)),xt}while(1<=S&&0<=_);break}}}finally{ie=!1,Error.prepareStackTrace=b}return(b=A?A.displayName||A.name:"")?at(b):""}function tt(A,p){switch(A.tag){case 26:case 27:case 5:return at(A.type);case 16:return at("Lazy");case 13:return A.child!==p&&p!==null?at("Suspense Fallback"):at("Suspense");case 19:return at("SuspenseList");case 0:case 15:return Le(A.type,!1);case 11:return Le(A.type.render,!1);case 1:return Le(A.type,!0);case 31:return at("Activity");default:return""}}function It(A){try{var p="",b=null;do p+=tt(A,b),b=A,A=A.return;while(A);return p}catch(S){return`
Error generating stack: `+S.message+`
`+S.stack}}var _e=Object.prototype.hasOwnProperty,At=t.unstable_scheduleCallback,ot=t.unstable_cancelCallback,$t=t.unstable_shouldYield,kt=t.unstable_requestPaint,Ht=t.unstable_now,Sn=t.unstable_getCurrentPriorityLevel,zt=t.unstable_ImmediatePriority,en=t.unstable_UserBlockingPriority,fn=t.unstable_NormalPriority,Qt=t.unstable_LowPriority,rn=t.unstable_IdlePriority,Yt=t.log,sn=t.unstable_setDisableYieldValue,On=null,Ot=null;function xn(A){if(typeof Yt=="function"&&sn(A),Ot&&typeof Ot.setStrictMode=="function")try{Ot.setStrictMode(On,A)}catch{}}var ke=Math.clz32?Math.clz32:Ct,$e=Math.log,yt=Math.LN2;function Ct(A){return A>>>=0,A===0?32:31-($e(A)/yt|0)|0}var _t=256,Lt=262144,Ut=4194304;function Jt(A){var p=A&42;if(p!==0)return p;switch(A&-A){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return A&261888;case 262144:case 524288:case 1048576:case 2097152:return A&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return A&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return A}}function dt(A,p,b){var S=A.pendingLanes;if(S===0)return 0;var _=0,$=A.suspendedLanes,te=A.pingedLanes;A=A.warmLanes;var Ae=S&134217727;return Ae!==0?(S=Ae&~$,S!==0?_=Jt(S):(te&=Ae,te!==0?_=Jt(te):b||(b=Ae&~A,b!==0&&(_=Jt(b))))):(Ae=S&~$,Ae!==0?_=Jt(Ae):te!==0?_=Jt(te):b||(b=S&~A,b!==0&&(_=Jt(b)))),_===0?0:p!==0&&p!==_&&(p&$)===0&&($=_&-_,b=p&-p,$>=b||$===32&&(b&4194048)!==0)?p:_}function pr(A,p){return(A.pendingLanes&~(A.suspendedLanes&~A.pingedLanes)&p)===0}function Gr(A,p){switch(A){case 1:case 2:case 4:case 8:case 64:return p+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hn(){var A=Ut;return Ut<<=1,(Ut&62914560)===0&&(Ut=4194304),A}function Fs(A){for(var p=[],b=0;31>b;b++)p.push(A);return p}function cn(A,p){A.pendingLanes|=p,p!==268435456&&(A.suspendedLanes=0,A.pingedLanes=0,A.warmLanes=0)}function Ki(A,p,b,S,_,$){var te=A.pendingLanes;A.pendingLanes=b,A.suspendedLanes=0,A.pingedLanes=0,A.warmLanes=0,A.expiredLanes&=b,A.entangledLanes&=b,A.errorRecoveryDisabledLanes&=b,A.shellSuspendCounter=0;var Ae=A.entanglements,Te=A.expirationTimes,et=A.hiddenUpdates;for(b=te&~b;0<b;){var xt=31-ke(b),Et=1<<xt;Ae[xt]=0,Te[xt]=-1;var nt=et[xt];if(nt!==null)for(et[xt]=null,xt=0;xt<nt.length;xt++){var ct=nt[xt];ct!==null&&(ct.lane&=-536870913)}b&=~Et}S!==0&&Cs(A,S,0),$!==0&&_===0&&A.tag!==0&&(A.suspendedLanes|=$&~(te&~p))}function Cs(A,p,b){A.pendingLanes|=p,A.suspendedLanes&=~p;var S=31-ke(p);A.entangledLanes|=p,A.entanglements[S]=A.entanglements[S]|1073741824|b&261930}function Ds(A,p){var b=A.entangledLanes|=p;for(A=A.entanglements;b;){var S=31-ke(b),_=1<<S;_&p|A[S]&p&&(A[S]|=p),b&=~_}}function wr(A,p){var b=p&-p;return b=(b&42)!==0?1:ts(b),(b&(A.suspendedLanes|p))!==0?0:b}function ts(A){switch(A){case 2:A=1;break;case 8:A=4;break;case 32:A=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:A=128;break;case 268435456:A=134217728;break;default:A=0}return A}function Er(A){return A&=-A,2<A?8<A?(A&134217727)!==0?32:268435456:8:2}function Bt(){var A=Z.p;return A!==0?A:(A=window.event,A===void 0?32:j9(A.type))}function Si(A,p){var b=Z.p;try{return Z.p=A,p()}finally{Z.p=b}}var ms=Math.random().toString(36).slice(2),Jn="__reactFiber$"+ms,ns="__reactProps$"+ms,Ci="__reactContainer$"+ms,ft="__reactEvents$"+ms,Cn="__reactListeners$"+ms,Wn="__reactHandles$"+ms,Xn="__reactResources$"+ms,sr="__reactMarker$"+ms;function oa(A){delete A[Jn],delete A[ns],delete A[ft],delete A[Cn],delete A[Wn]}function Qr(A){var p=A[Jn];if(p)return p;for(var b=A.parentNode;b;){if(p=b[Ci]||b[Jn]){if(b=p.alternate,p.child!==null||b!==null&&b.child!==null)for(A=h9(A);A!==null;){if(b=A[Jn])return b;A=h9(A)}return p}A=b,b=A.parentNode}return null}function os(A){if(A=A[Jn]||A[Ci]){var p=A.tag;if(p===5||p===6||p===13||p===31||p===26||p===27||p===3)return A}return null}function Pr(A){var p=A.tag;if(p===5||p===26||p===27||p===6)return A.stateNode;throw Error(r(33))}function Xi(A){var p=A[Xn];return p||(p=A[Xn]={hoistableStyles:new Map,hoistableScripts:new Map}),p}function Ir(A){A[sr]=!0}var ti=new Set,rs={};function st(A,p){gt(A,p),gt(A+"Capture",p)}function gt(A,p){for(rs[A]=p,A=0;A<p.length;A++)ti.add(p[A])}var Pt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gt={},jn={};function mr(A){return _e.call(jn,A)?!0:_e.call(Gt,A)?!1:Pt.test(A)?jn[A]=!0:(Gt[A]=!0,!1)}function ai(A,p,b){if(mr(p))if(b===null)A.removeAttribute(p);else{switch(typeof b){case"undefined":case"function":case"symbol":A.removeAttribute(p);return;case"boolean":var S=p.toLowerCase().slice(0,5);if(S!=="data-"&&S!=="aria-"){A.removeAttribute(p);return}}A.setAttribute(p,""+b)}}function vo(A,p,b){if(b===null)A.removeAttribute(p);else{switch(typeof b){case"undefined":case"function":case"symbol":case"boolean":A.removeAttribute(p);return}A.setAttribute(p,""+b)}}function ki(A,p,b,S){if(S===null)A.removeAttribute(b);else{switch(typeof S){case"undefined":case"function":case"symbol":case"boolean":A.removeAttribute(b);return}A.setAttributeNS(p,b,""+S)}}function En(A){switch(typeof A){case"bigint":case"boolean":case"number":case"string":case"undefined":return A;case"object":return A;default:return""}}function wo(A){var p=A.type;return(A=A.nodeName)&&A.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function oi(A,p,b){var S=Object.getOwnPropertyDescriptor(A.constructor.prototype,p);if(!A.hasOwnProperty(p)&&typeof S<"u"&&typeof S.get=="function"&&typeof S.set=="function"){var _=S.get,$=S.set;return Object.defineProperty(A,p,{configurable:!0,get:function(){return _.call(this)},set:function(te){b=""+te,$.call(this,te)}}),Object.defineProperty(A,p,{enumerable:S.enumerable}),{getValue:function(){return b},setValue:function(te){b=""+te},stopTracking:function(){A._valueTracker=null,delete A[p]}}}}function Yi(A){if(!A._valueTracker){var p=wo(A)?"checked":"value";A._valueTracker=oi(A,p,""+A[p])}}function xu(A){if(!A)return!1;var p=A._valueTracker;if(!p)return!0;var b=p.getValue(),S="";return A&&(S=wo(A)?A.checked?"true":"false":A.value),A=S,A!==b?(p.setValue(A),!0):!1}function Sa(A){if(A=A||(typeof document<"u"?document:void 0),typeof A>"u")return null;try{return A.activeElement||A.body}catch{return A.body}}var Ji=/[\n"\\]/g;function Bi(A){return A.replace(Ji,function(p){return"\\"+p.charCodeAt(0).toString(16)+" "})}function sc(A,p,b,S,_,$,te,Ae){A.name="",te!=null&&typeof te!="function"&&typeof te!="symbol"&&typeof te!="boolean"?A.type=te:A.removeAttribute("type"),p!=null?te==="number"?(p===0&&A.value===""||A.value!=p)&&(A.value=""+En(p)):A.value!==""+En(p)&&(A.value=""+En(p)):te!=="submit"&&te!=="reset"||A.removeAttribute("value"),p!=null?EA(A,te,En(p)):b!=null?EA(A,te,En(b)):S!=null&&A.removeAttribute("value"),_==null&&$!=null&&(A.defaultChecked=!!$),_!=null&&(A.checked=_&&typeof _!="function"&&typeof _!="symbol"),Ae!=null&&typeof Ae!="function"&&typeof Ae!="symbol"&&typeof Ae!="boolean"?A.name=""+En(Ae):A.removeAttribute("name")}function BA(A,p,b,S,_,$,te,Ae){if($!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"&&(A.type=$),p!=null||b!=null){if(!($!=="submit"&&$!=="reset"||p!=null)){Yi(A);return}b=b!=null?""+En(b):"",p=p!=null?""+En(p):b,Ae||p===A.value||(A.value=p),A.defaultValue=p}S=S??_,S=typeof S!="function"&&typeof S!="symbol"&&!!S,A.checked=Ae?A.checked:!!S,A.defaultChecked=!!S,te!=null&&typeof te!="function"&&typeof te!="symbol"&&typeof te!="boolean"&&(A.name=te),Yi(A)}function EA(A,p,b){p==="number"&&Sa(A.ownerDocument)===A||A.defaultValue===""+b||(A.defaultValue=""+b)}function Ca(A,p,b,S){if(A=A.options,p){p={};for(var _=0;_<b.length;_++)p["$"+b[_]]=!0;for(b=0;b<A.length;b++)_=p.hasOwnProperty("$"+A[b].value),A[b].selected!==_&&(A[b].selected=_),_&&S&&(A[b].defaultSelected=!0)}else{for(b=""+En(b),p=null,_=0;_<A.length;_++){if(A[_].value===b){A[_].selected=!0,S&&(A[_].defaultSelected=!0);return}p!==null||A[_].disabled||(p=A[_])}p!==null&&(p.selected=!0)}}function xf(A,p,b){if(p!=null&&(p=""+En(p),p!==A.value&&(A.value=p),b==null)){A.defaultValue!==p&&(A.defaultValue=p);return}A.defaultValue=b!=null?""+En(b):""}function dd(A,p,b,S){if(p==null){if(S!=null){if(b!=null)throw Error(r(92));if(ee(S)){if(1<S.length)throw Error(r(93));S=S[0]}b=S}b==null&&(b=""),p=b}b=En(p),A.defaultValue=b,S=A.textContent,S===b&&S!==""&&S!==null&&(A.value=S),Yi(A)}function Xo(A,p){if(p){var b=A.firstChild;if(b&&b===A.lastChild&&b.nodeType===3){b.nodeValue=p;return}}A.textContent=p}var fd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ad(A,p,b){var S=p.indexOf("--")===0;b==null||typeof b=="boolean"||b===""?S?A.setProperty(p,""):p==="float"?A.cssFloat="":A[p]="":S?A.setProperty(p,b):typeof b!="number"||b===0||fd.has(p)?p==="float"?A.cssFloat=b:A[p]=(""+b).trim():A[p]=b+"px"}function hd(A,p,b){if(p!=null&&typeof p!="object")throw Error(r(62));if(A=A.style,b!=null){for(var S in b)!b.hasOwnProperty(S)||p!=null&&p.hasOwnProperty(S)||(S.indexOf("--")===0?A.setProperty(S,""):S==="float"?A.cssFloat="":A[S]="");for(var _ in p)S=p[_],p.hasOwnProperty(_)&&b[_]!==S&&Ad(A,_,S)}else for(var $ in p)p.hasOwnProperty($)&&Ad(A,$,p[$])}function Fl(A){if(A.indexOf("-")===-1)return!1;switch(A){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ul=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function li(A){return ul.test(""+A)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":A}function eo(){}var Uc=null;function mn(A){return A=A.target||A.srcElement||window,A.correspondingUseElement&&(A=A.correspondingUseElement),A.nodeType===3?A.parentNode:A}var ic=null,Dn=null;function IA(A){var p=os(A);if(p&&(A=p.stateNode)){var b=A[ns]||null;e:switch(A=p.stateNode,p.type){case"input":if(sc(A,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name),p=b.name,b.type==="radio"&&p!=null){for(b=A;b.parentNode;)b=b.parentNode;for(b=b.querySelectorAll('input[name="'+Bi(""+p)+'"][type="radio"]'),p=0;p<b.length;p++){var S=b[p];if(S!==A&&S.form===A.form){var _=S[ns]||null;if(!_)throw Error(r(90));sc(S,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(p=0;p<b.length;p++)S=b[p],S.form===A.form&&xu(S)}break e;case"textarea":xf(A,b.value,b.defaultValue);break e;case"select":p=b.value,p!=null&&Ca(A,!!b.multiple,p,!1)}}}var bf=!1;function bu(A,p,b){if(bf)return A(p,b);bf=!0;try{var S=A(p);return S}finally{if(bf=!1,(ic!==null||Dn!==null)&&(JS(),ic&&(p=ic,A=Dn,Dn=ic=null,IA(p),A)))for(p=0;p<A.length;p++)IA(A[p])}}function Ei(A,p){var b=A.stateNode;if(b===null)return null;var S=b[ns]||null;if(S===null)return null;b=S[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(S=!S.disabled)||(A=A.type,S=!(A==="button"||A==="input"||A==="select"||A==="textarea")),A=!S;break e;default:A=!1}if(A)return null;if(b&&typeof b!="function")throw Error(r(231,p,typeof b));return b}var ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),md=!1;if(ci)try{var L={};Object.defineProperty(L,"passive",{get:function(){md=!0}}),window.addEventListener("test",L,L),window.removeEventListener("test",L,L)}catch{md=!1}var V=null,se=null,pe=null;function Re(){if(pe)return pe;var A,p=se,b=p.length,S,_="value"in V?V.value:V.textContent,$=_.length;for(A=0;A<b&&p[A]===_[A];A++);var te=b-A;for(S=1;S<=te&&p[b-S]===_[$-S];S++);return pe=_.slice(A,1<S?1-S:void 0)}function Ge(A){var p=A.keyCode;return"charCode"in A?(A=A.charCode,A===0&&p===13&&(A=13)):A=p,A===10&&(A=13),32<=A||A===13?A:0}function ht(){return!0}function kn(){return!1}function Tn(A){function p(b,S,_,$,te){this._reactName=b,this._targetInst=_,this.type=S,this.nativeEvent=$,this.target=te,this.currentTarget=null;for(var Ae in A)A.hasOwnProperty(Ae)&&(b=A[Ae],this[Ae]=b?b($):$[Ae]);return this.isDefaultPrevented=($.defaultPrevented!=null?$.defaultPrevented:$.returnValue===!1)?ht:kn,this.isPropagationStopped=kn,this}return f(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var b=this.nativeEvent;b&&(b.preventDefault?b.preventDefault():typeof b.returnValue!="unknown"&&(b.returnValue=!1),this.isDefaultPrevented=ht)},stopPropagation:function(){var b=this.nativeEvent;b&&(b.stopPropagation?b.stopPropagation():typeof b.cancelBubble!="unknown"&&(b.cancelBubble=!0),this.isPropagationStopped=ht)},persist:function(){},isPersistent:ht}),p}var Mn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(A){return A.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nr=Tn(Mn),ni=f({},Mn,{view:0,detail:0}),gd=Tn(ni),yd,ac,zc,vu=f({},ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vn,button:0,buttons:0,relatedTarget:function(A){return A.relatedTarget===void 0?A.fromElement===A.srcElement?A.toElement:A.fromElement:A.relatedTarget},movementX:function(A){return"movementX"in A?A.movementX:(A!==zc&&(zc&&A.type==="mousemove"?(yd=A.screenX-zc.screenX,ac=A.screenY-zc.screenY):ac=yd=0,zc=A),yd)},movementY:function(A){return"movementY"in A?A.movementY:ac}}),NA=Tn(vu),Mc=f({},vu,{dataTransfer:0}),Qc=Tn(Mc),Xh=f({},ni,{relatedTarget:0}),Hc=Tn(Xh),Yh=f({},Mn,{animationName:0,elapsedTime:0,pseudoElement:0}),M=Tn(Yh),ae=f({},Mn,{clipboardData:function(A){return"clipboardData"in A?A.clipboardData:window.clipboardData}}),Se=Tn(ae),Oe=f({},Mn,{data:0}),Qe=Tn(Oe),bt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bn(A){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(A):(A=dn[A])?!!p[A]:!1}function Vn(){return Bn}var er=f({},ni,{key:function(A){if(A.key){var p=bt[A.key]||A.key;if(p!=="Unidentified")return p}return A.type==="keypress"?(A=Ge(A),A===13?"Enter":String.fromCharCode(A)):A.type==="keydown"||A.type==="keyup"?Tt[A.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vn,charCode:function(A){return A.type==="keypress"?Ge(A):0},keyCode:function(A){return A.type==="keydown"||A.type==="keyup"?A.keyCode:0},which:function(A){return A.type==="keypress"?Ge(A):A.type==="keydown"||A.type==="keyup"?A.keyCode:0}}),jr=Tn(er),Vs=f({},vu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ui=Tn(Vs),gs=f({},ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vn}),Zi=Tn(gs),Ii=f({},Mn,{propertyName:0,elapsedTime:0,pseudoElement:0}),la=Tn(Ii),Wc=f({},vu,{deltaX:function(A){return"deltaX"in A?A.deltaX:"wheelDeltaX"in A?-A.wheelDeltaX:0},deltaY:function(A){return"deltaY"in A?A.deltaY:"wheelDeltaY"in A?-A.wheelDeltaY:"wheelDelta"in A?-A.wheelDelta:0},deltaZ:0,deltaMode:0}),Dl=Tn(Wc),Vc=f({},Mn,{newState:0,oldState:0}),wu=Tn(Vc),xd=[9,13,27,32],Ll=ci&&"CompositionEvent"in window,dl=null;ci&&"documentMode"in document&&(dl=document.documentMode);var qe=ci&&"TextEvent"in window&&!dl,St=ci&&(!Ll||dl&&8<dl&&11>=dl),Vt=" ",In=!1;function zn(A,p){switch(A){case"keyup":return xd.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sr(A){return A=A.detail,typeof A=="object"&&"data"in A?A.data:null}var Ni=!1;function ys(A,p){switch(A){case"compositionend":return Sr(p);case"keypress":return p.which!==32?null:(In=!0,Vt);case"textInput":return A=p.data,A===Vt&&In?null:A;default:return null}}function di(A,p){if(Ni)return A==="compositionend"||!Ll&&zn(A,p)?(A=Re(),pe=se=V=null,Ni=!1,A):null;switch(A){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return St&&p.locale!=="ko"?null:p.data;default:return null}}var La={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bd(A){var p=A&&A.nodeName&&A.nodeName.toLowerCase();return p==="input"?!!La[A.type]:p==="textarea"}function ea(A,p,b,S){ic?Dn?Dn.push(S):Dn=[S]:ic=S,p=iC(p,"onChange"),0<p.length&&(b=new Nr("onChange","change",null,b,S),A.push({event:b,listeners:p}))}var $l=null,vd=null;function Om(A){e9(A,0)}function qc(A){var p=Pr(A);if(xu(p))return A}function vf(A,p){if(A==="change")return p}var fl=!1;if(ci){var Yo;if(ci){var Su="oninput"in document;if(!Su){var Cu=document.createElement("div");Cu.setAttribute("oninput","return;"),Su=typeof Cu.oninput=="function"}Yo=Su}else Yo=!1;fl=Yo&&(!document.documentMode||9<document.documentMode)}function wd(){$l&&($l.detachEvent("onpropertychange",Jh),vd=$l=null)}function Jh(A){if(A.propertyName==="value"&&qc(vd)){var p=[];ea(p,vd,A,mn(A)),bu(Om,p)}}function Zh(A,p,b){A==="focusin"?(wd(),$l=p,vd=b,$l.attachEvent("onpropertychange",Jh)):A==="focusout"&&wd()}function ta(A){if(A==="selectionchange"||A==="keyup"||A==="keydown")return qc(vd)}function $0(A,p){if(A==="click")return qc(p)}function ku(A,p){if(A==="input"||A==="change")return qc(p)}function Bu(A,p){return A===p&&(A!==0||1/A===1/p)||A!==A&&p!==p}var to=typeof Object.is=="function"?Object.is:Bu;function Sd(A,p){if(to(A,p))return!0;if(typeof A!="object"||A===null||typeof p!="object"||p===null)return!1;var b=Object.keys(A),S=Object.keys(p);if(b.length!==S.length)return!1;for(S=0;S<b.length;S++){var _=b[S];if(!_e.call(p,_)||!to(A[_],p[_]))return!1}return!0}function ep(A){for(;A&&A.firstChild;)A=A.firstChild;return A}function tp(A,p){var b=ep(A);A=0;for(var S;b;){if(b.nodeType===3){if(S=A+b.textContent.length,A<=p&&S>=p)return{node:b,offset:p-A};A=S}e:{for(;b;){if(b.nextSibling){b=b.nextSibling;break e}b=b.parentNode}b=void 0}b=ep(b)}}function Cd(A,p){return A&&p?A===p?!0:A&&A.nodeType===3?!1:p&&p.nodeType===3?Cd(A,p.parentNode):"contains"in A?A.contains(p):A.compareDocumentPosition?!!(A.compareDocumentPosition(p)&16):!1:!1}function kd(A){A=A!=null&&A.ownerDocument!=null&&A.ownerDocument.defaultView!=null?A.ownerDocument.defaultView:window;for(var p=Sa(A.document);p instanceof A.HTMLIFrameElement;){try{var b=typeof p.contentWindow.location.href=="string"}catch{b=!1}if(b)A=p.contentWindow;else break;p=Sa(A.document)}return p}function Eu(A){var p=A&&A.nodeName&&A.nodeName.toLowerCase();return p&&(p==="input"&&(A.type==="text"||A.type==="search"||A.type==="tel"||A.type==="url"||A.type==="password")||p==="textarea"||A.contentEditable==="true")}var jA=ci&&"documentMode"in document&&11>=document.documentMode,Pl=null,Bd=null,So=null,oc=!1;function ss(A,p,b){var S=b.window===b?b.document:b.nodeType===9?b:b.ownerDocument;oc||Pl==null||Pl!==Sa(S)||(S=Pl,"selectionStart"in S&&Eu(S)?S={start:S.selectionStart,end:S.selectionEnd}:(S=(S.ownerDocument&&S.ownerDocument.defaultView||window).getSelection(),S={anchorNode:S.anchorNode,anchorOffset:S.anchorOffset,focusNode:S.focusNode,focusOffset:S.focusOffset}),So&&Sd(So,S)||(So=S,S=iC(Bd,"onSelect"),0<S.length&&(p=new Nr("onSelect","select",null,p,b),A.push({event:p,listeners:S}),p.target=Pl)))}function Hr(A,p){var b={};return b[A.toLowerCase()]=p.toLowerCase(),b["Webkit"+A]="webkit"+p,b["Moz"+A]="moz"+p,b}var Ls={animationend:Hr("Animation","AnimationEnd"),animationiteration:Hr("Animation","AnimationIteration"),animationstart:Hr("Animation","AnimationStart"),transitionrun:Hr("Transition","TransitionRun"),transitionstart:Hr("Transition","TransitionStart"),transitioncancel:Hr("Transition","TransitionCancel"),transitionend:Hr("Transition","TransitionEnd")},na={},Iu={};ci&&(Iu=document.createElement("div").style,"AnimationEvent"in window||(delete Ls.animationend.animation,delete Ls.animationiteration.animation,delete Ls.animationstart.animation),"TransitionEvent"in window||delete Ls.transitionend.transition);function Gc(A){if(na[A])return na[A];if(!Ls[A])return A;var p=Ls[A],b;for(b in p)if(p.hasOwnProperty(b)&&b in Iu)return na[A]=p[b];return A}var TA=Gc("animationend"),Fm=Gc("animationiteration"),bb=Gc("animationstart"),IS=Gc("transitionrun"),NS=Gc("transitionstart"),jS=Gc("transitioncancel"),vb=Gc("transitionend"),wb=new Map,_A="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_A.push("scrollEnd");function lc(A,p){wb.set(A,p),st(p,[A])}var Dm=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var p=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(p))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},Ul=[],RA=0,P0=0;function Lm(){for(var A=RA,p=P0=RA=0;p<A;){var b=Ul[p];Ul[p++]=null;var S=Ul[p];Ul[p++]=null;var _=Ul[p];Ul[p++]=null;var $=Ul[p];if(Ul[p++]=null,S!==null&&_!==null){var te=S.pending;te===null?_.next=_:(_.next=te.next,te.next=_),S.pending=_}$!==0&&Pm(b,_,$)}}function $m(A,p,b,S){Ul[RA++]=A,Ul[RA++]=p,Ul[RA++]=b,Ul[RA++]=S,P0|=S,A.lanes|=S,A=A.alternate,A!==null&&(A.lanes|=S)}function U0(A,p,b,S){return $m(A,p,b,S),Co(A)}function Ed(A,p){return $m(A,null,null,p),Co(A)}function Pm(A,p,b){A.lanes|=b;var S=A.alternate;S!==null&&(S.lanes|=b);for(var _=!1,$=A.return;$!==null;)$.childLanes|=b,S=$.alternate,S!==null&&(S.childLanes|=b),$.tag===22&&(A=$.stateNode,A===null||A._visibility&1||(_=!0)),A=$,$=$.return;return A.tag===3?($=A.stateNode,_&&p!==null&&(_=31-ke(b),A=$.hiddenUpdates,S=A[_],S===null?A[_]=[p]:S.push(p),p.lane=b|536870912),$):null}function Co(A){if(50<Hb)throw Hb=0,Wj=null,Error(r(185));for(var p=A.return;p!==null;)A=p,p=A.return;return A.tag===3?A.stateNode:null}var no={};function z0(A,p,b,S){this.tag=A,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ko(A,p,b,S){return new z0(A,p,b,S)}function M0(A){return A=A.prototype,!(!A||!A.isReactComponent)}function cc(A,p){var b=A.alternate;return b===null?(b=ko(A.tag,p,A.key,A.mode),b.elementType=A.elementType,b.type=A.type,b.stateNode=A.stateNode,b.alternate=A,A.alternate=b):(b.pendingProps=p,b.type=A.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=A.flags&65011712,b.childLanes=A.childLanes,b.lanes=A.lanes,b.child=A.child,b.memoizedProps=A.memoizedProps,b.memoizedState=A.memoizedState,b.updateQueue=A.updateQueue,p=A.dependencies,b.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},b.sibling=A.sibling,b.index=A.index,b.ref=A.ref,b.refCleanup=A.refCleanup,b}function Um(A,p){A.flags&=65011714;var b=A.alternate;return b===null?(A.childLanes=0,A.lanes=p,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=b.childLanes,A.lanes=b.lanes,A.child=b.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=b.memoizedProps,A.memoizedState=b.memoizedState,A.updateQueue=b.updateQueue,A.type=b.type,p=b.dependencies,A.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),A}function np(A,p,b,S,_,$){var te=0;if(S=A,typeof A=="function")M0(A)&&(te=1);else if(typeof A=="string")te=npe(A,b,re.current)?26:A==="html"||A==="head"||A==="body"?27:5;else e:switch(A){case D:return A=ko(31,b,p,_),A.elementType=D,A.lanes=$,A;case y:return wf(b.children,_,$,p);case x:te=8,_|=24;break;case v:return A=ko(12,b,p,_|2),A.elementType=v,A.lanes=$,A;case E:return A=ko(13,b,p,_),A.elementType=E,A.lanes=$,A;case N:return A=ko(19,b,p,_),A.elementType=N,A.lanes=$,A;default:if(typeof A=="object"&&A!==null)switch(A.$$typeof){case B:te=10;break e;case w:te=9;break e;case k:te=11;break e;case O:te=14;break e;case F:te=16,S=null;break e}te=29,b=Error(r(130,A===null?"null":typeof A,"")),S=null}return p=ko(te,b,p,_),p.elementType=A,p.type=S,p.lanes=$,p}function wf(A,p,b,S){return A=ko(7,A,S,p),A.lanes=b,A}function zm(A,p,b){return A=ko(6,A,null,p),A.lanes=b,A}function Q0(A){var p=ko(18,null,null,0);return p.stateNode=A,p}function rp(A,p,b){return p=ko(4,A.children!==null?A.children:[],A.key,p),p.lanes=b,p.stateNode={containerInfo:A.containerInfo,pendingChildren:null,implementation:A.implementation},p}var H0=new WeakMap;function uc(A,p){if(typeof A=="object"&&A!==null){var b=H0.get(A);return b!==void 0?b:(p={value:A,source:p,stack:It(p)},H0.set(A,p),p)}return{value:A,source:p,stack:It(p)}}var sp=[],OA=0,W0=null,Mm=0,dc=[],fc=0,Sf=null,Ac=1,hc="";function zl(A,p){sp[OA++]=Mm,sp[OA++]=W0,W0=A,Mm=p}function TS(A,p,b){dc[fc++]=Ac,dc[fc++]=hc,dc[fc++]=Sf,Sf=A;var S=Ac;A=hc;var _=32-ke(S)-1;S&=~(1<<_),b+=1;var $=32-ke(p)+_;if(30<$){var te=_-_%5;$=(S&(1<<te)-1).toString(32),S>>=te,_-=te,Ac=1<<32-ke(p)+_|b<<_|S,hc=$+A}else Ac=1<<$|b<<_|S,hc=A}function Sb(A){A.return!==null&&(zl(A,1),TS(A,1,0))}function V0(A){for(;A===W0;)W0=sp[--OA],sp[OA]=null,Mm=sp[--OA],sp[OA]=null;for(;A===Sf;)Sf=dc[--fc],dc[fc]=null,hc=dc[--fc],dc[fc]=null,Ac=dc[--fc],dc[fc]=null}function _S(A,p){dc[fc++]=Ac,dc[fc++]=hc,dc[fc++]=Sf,Ac=p.id,hc=p.overflow,Sf=A}var ro=null,qs=null,Tr=!1,Jo=null,ji=!1,Kc=Error(r(519));function Cf(A){var p=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ip(uc(p,A)),Kc}function Cb(A){var p=A.stateNode,b=A.type,S=A.memoizedProps;switch(p[Jn]=A,p[ns]=S,b){case"dialog":Rr("cancel",p),Rr("close",p);break;case"iframe":case"object":case"embed":Rr("load",p);break;case"video":case"audio":for(b=0;b<Vb.length;b++)Rr(Vb[b],p);break;case"source":Rr("error",p);break;case"img":case"image":case"link":Rr("error",p),Rr("load",p);break;case"details":Rr("toggle",p);break;case"input":Rr("invalid",p),BA(p,S.value,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name,!0);break;case"select":Rr("invalid",p);break;case"textarea":Rr("invalid",p),dd(p,S.value,S.defaultValue,S.children)}b=S.children,typeof b!="string"&&typeof b!="number"&&typeof b!="bigint"||p.textContent===""+b||S.suppressHydrationWarning===!0||s9(p.textContent,b)?(S.popover!=null&&(Rr("beforetoggle",p),Rr("toggle",p)),S.onScroll!=null&&Rr("scroll",p),S.onScrollEnd!=null&&Rr("scrollend",p),S.onClick!=null&&(p.onclick=eo),p=!0):p=!1,p||Cf(A,!0)}function Id(A){for(ro=A.return;ro;)switch(ro.tag){case 5:case 31:case 13:ji=!1;return;case 27:case 3:ji=!0;return;default:ro=ro.return}}function so(A){if(A!==ro)return!1;if(!Tr)return Id(A),Tr=!0,!1;var p=A.tag,b;if((b=p!==3&&p!==27)&&((b=p===5)&&(b=A.type,b=!(b!=="form"&&b!=="button")||aT(A.type,A.memoizedProps)),b=!b),b&&qs&&Cf(A),Id(A),p===13){if(A=A.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(r(317));qs=A9(A)}else if(p===31){if(A=A.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(r(317));qs=A9(A)}else p===27?(p=qs,xp(A.type)?(A=dT,dT=null,qs=A):qs=p):qs=ro?_u(A.stateNode.nextSibling):null;return!0}function FA(){qs=ro=null,Tr=!1}function kb(){var A=Jo;return A!==null&&(bc===null?bc=A:bc.push.apply(bc,A),Jo=null),A}function ip(A){Jo===null?Jo=[A]:Jo.push(A)}var q0=H(null),kf=null,Nu=null;function Bf(A,p,b){X(q0,p._currentValue),p._currentValue=b}function pc(A){A._currentValue=q0.current,Q(q0)}function ap(A,p,b){for(;A!==null;){var S=A.alternate;if((A.childLanes&p)!==p?(A.childLanes|=p,S!==null&&(S.childLanes|=p)):S!==null&&(S.childLanes&p)!==p&&(S.childLanes|=p),A===b)break;A=A.return}}function DA(A,p,b,S){var _=A.child;for(_!==null&&(_.return=A);_!==null;){var $=_.dependencies;if($!==null){var te=_.child;$=$.firstContext;e:for(;$!==null;){var Ae=$;$=_;for(var Te=0;Te<p.length;Te++)if(Ae.context===p[Te]){$.lanes|=b,Ae=$.alternate,Ae!==null&&(Ae.lanes|=b),ap($.return,b,A),S||(te=null);break e}$=Ae.next}}else if(_.tag===18){if(te=_.return,te===null)throw Error(r(341));te.lanes|=b,$=te.alternate,$!==null&&($.lanes|=b),ap(te,b,A),te=null}else te=_.child;if(te!==null)te.return=_;else for(te=_;te!==null;){if(te===A){te=null;break}if(_=te.sibling,_!==null){_.return=te.return,te=_;break}te=te.return}_=te}}function Ef(A,p,b,S){A=null;for(var _=p,$=!1;_!==null;){if(!$){if((_.flags&524288)!==0)$=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var te=_.alternate;if(te===null)throw Error(r(387));if(te=te.memoizedProps,te!==null){var Ae=_.type;to(_.pendingProps.value,te.value)||(A!==null?A.push(Ae):A=[Ae])}}else if(_===xe.current){if(te=_.alternate,te===null)throw Error(r(387));te.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(A!==null?A.push(Yb):A=[Yb])}_=_.return}A!==null&&DA(p,A,b,S),p.flags|=262144}function G0(A){for(A=A.firstContext;A!==null;){if(!to(A.context._currentValue,A.memoizedValue))return!0;A=A.next}return!1}function If(A){kf=A,Nu=null,A=A.dependencies,A!==null&&(A.firstContext=null)}function io(A){return RS(kf,A)}function K0(A,p){return kf===null&&If(A),RS(A,p)}function RS(A,p){var b=p._currentValue;if(p={context:p,memoizedValue:b,next:null},Nu===null){if(A===null)throw Error(r(308));Nu=p,A.dependencies={lanes:0,firstContext:p},A.flags|=524288}else Nu=Nu.next=p;return b}var uj=typeof AbortController<"u"?AbortController:function(){var A=[],p=this.signal={aborted:!1,addEventListener:function(b,S){A.push(S)}};this.abort=function(){p.aborted=!0,A.forEach(function(b){return b()})}},dj=t.unstable_scheduleCallback,fj=t.unstable_NormalPriority,ra={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function op(){return{controller:new uj,data:new Map,refCount:0}}function Qm(A){A.refCount--,A.refCount===0&&dj(fj,function(){A.controller.abort()})}var Hm=null,X0=0,I=0,R=null;function W(A,p){if(Hm===null){var b=Hm=[];X0=0,I=Yj(),R={status:"pending",value:void 0,then:function(S){b.push(S)}}}return X0++,p.then(J,J),p}function J(){if(--X0===0&&Hm!==null){R!==null&&(R.status="fulfilled");var A=Hm;Hm=null,I=0,R=null;for(var p=0;p<A.length;p++)(0,A[p])()}}function oe(A,p){var b=[],S={status:"pending",value:null,reason:null,then:function(_){b.push(_)}};return A.then(function(){S.status="fulfilled",S.value=p;for(var _=0;_<b.length;_++)(0,b[_])(p)},function(_){for(S.status="rejected",S.reason=_,_=0;_<b.length;_++)(0,b[_])(void 0)}),S}var ue=q.S;q.S=function(A,p){IM=Ht(),typeof p=="object"&&p!==null&&typeof p.then=="function"&&W(A,p),ue!==null&&ue(A,p)};var de=H(null);function ge(){var A=de.current;return A!==null?A:Ks.pooledCache}function be(A,p){p===null?X(de,de.current):X(de,p.pool)}function Ce(){var A=ge();return A===null?null:{parent:ra._currentValue,pool:A}}var De=Error(r(460)),Je=Error(r(474)),we=Error(r(542)),Me={then:function(){}};function Ke(A){return A=A.status,A==="fulfilled"||A==="rejected"}function mt(A,p,b){switch(b=A[b],b===void 0?A.push(p):b!==p&&(p.then(eo,eo),p=b),p.status){case"fulfilled":return p.value;case"rejected":throw A=p.reason,Dt(A),A;default:if(typeof p.status=="string")p.then(eo,eo);else{if(A=Ks,A!==null&&100<A.shellSuspendCounter)throw Error(r(482));A=p,A.status="pending",A.then(function(S){if(p.status==="pending"){var _=p;_.status="fulfilled",_.value=S}},function(S){if(p.status==="pending"){var _=p;_.status="rejected",_.reason=S}})}switch(p.status){case"fulfilled":return p.value;case"rejected":throw A=p.reason,Dt(A),A}throw pt=p,De}}function Ye(A){try{var p=A._init;return p(A._payload)}catch(b){throw b!==null&&typeof b=="object"&&typeof b.then=="function"?(pt=b,De):b}}var pt=null;function vt(){if(pt===null)throw Error(r(459));var A=pt;return pt=null,A}function Dt(A){if(A===De||A===we)throw Error(r(483))}var Nt=null,bn=0;function an(A){var p=bn;return bn+=1,Nt===null&&(Nt=[]),mt(Nt,A,p)}function tr(A,p){p=p.props.ref,A.ref=p!==void 0?p:null}function An(A,p){throw p.$$typeof===h?Error(r(525)):(A=Object.prototype.toString.call(p),Error(r(31,A==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":A)))}function Cr(A){function p(We,ze){if(A){var Ze=We.deletions;Ze===null?(We.deletions=[ze],We.flags|=16):Ze.push(ze)}}function b(We,ze){if(!A)return null;for(;ze!==null;)p(We,ze),ze=ze.sibling;return null}function S(We){for(var ze=new Map;We!==null;)We.key!==null?ze.set(We.key,We):ze.set(We.index,We),We=We.sibling;return ze}function _(We,ze){return We=cc(We,ze),We.index=0,We.sibling=null,We}function $(We,ze,Ze){return We.index=Ze,A?(Ze=We.alternate,Ze!==null?(Ze=Ze.index,Ze<ze?(We.flags|=67108866,ze):Ze):(We.flags|=67108866,ze)):(We.flags|=1048576,ze)}function te(We){return A&&We.alternate===null&&(We.flags|=67108866),We}function Ae(We,ze,Ze,wt){return ze===null||ze.tag!==6?(ze=zm(Ze,We.mode,wt),ze.return=We,ze):(ze=_(ze,Ze),ze.return=We,ze)}function Te(We,ze,Ze,wt){var Un=Ze.type;return Un===y?xt(We,ze,Ze.props.children,wt,Ze.key):ze!==null&&(ze.elementType===Un||typeof Un=="object"&&Un!==null&&Un.$$typeof===F&&Ye(Un)===ze.type)?(ze=_(ze,Ze.props),tr(ze,Ze),ze.return=We,ze):(ze=np(Ze.type,Ze.key,Ze.props,null,We.mode,wt),tr(ze,Ze),ze.return=We,ze)}function et(We,ze,Ze,wt){return ze===null||ze.tag!==4||ze.stateNode.containerInfo!==Ze.containerInfo||ze.stateNode.implementation!==Ze.implementation?(ze=rp(Ze,We.mode,wt),ze.return=We,ze):(ze=_(ze,Ze.children||[]),ze.return=We,ze)}function xt(We,ze,Ze,wt,Un){return ze===null||ze.tag!==7?(ze=wf(Ze,We.mode,wt,Un),ze.return=We,ze):(ze=_(ze,Ze),ze.return=We,ze)}function Et(We,ze,Ze){if(typeof ze=="string"&&ze!==""||typeof ze=="number"||typeof ze=="bigint")return ze=zm(""+ze,We.mode,Ze),ze.return=We,ze;if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case m:return Ze=np(ze.type,ze.key,ze.props,null,We.mode,Ze),tr(Ze,ze),Ze.return=We,Ze;case g:return ze=rp(ze,We.mode,Ze),ze.return=We,ze;case F:return ze=Ye(ze),Et(We,ze,Ze)}if(ee(ze)||P(ze))return ze=wf(ze,We.mode,Ze,null),ze.return=We,ze;if(typeof ze.then=="function")return Et(We,an(ze),Ze);if(ze.$$typeof===B)return Et(We,K0(We,ze),Ze);An(We,ze)}return null}function nt(We,ze,Ze,wt){var Un=ze!==null?ze.key:null;if(typeof Ze=="string"&&Ze!==""||typeof Ze=="number"||typeof Ze=="bigint")return Un!==null?null:Ae(We,ze,""+Ze,wt);if(typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case m:return Ze.key===Un?Te(We,ze,Ze,wt):null;case g:return Ze.key===Un?et(We,ze,Ze,wt):null;case F:return Ze=Ye(Ze),nt(We,ze,Ze,wt)}if(ee(Ze)||P(Ze))return Un!==null?null:xt(We,ze,Ze,wt,null);if(typeof Ze.then=="function")return nt(We,ze,an(Ze),wt);if(Ze.$$typeof===B)return nt(We,ze,K0(We,Ze),wt);An(We,Ze)}return null}function ct(We,ze,Ze,wt,Un){if(typeof wt=="string"&&wt!==""||typeof wt=="number"||typeof wt=="bigint")return We=We.get(Ze)||null,Ae(ze,We,""+wt,Un);if(typeof wt=="object"&&wt!==null){switch(wt.$$typeof){case m:return We=We.get(wt.key===null?Ze:wt.key)||null,Te(ze,We,wt,Un);case g:return We=We.get(wt.key===null?Ze:wt.key)||null,et(ze,We,wt,Un);case F:return wt=Ye(wt),ct(We,ze,Ze,wt,Un)}if(ee(wt)||P(wt))return We=We.get(Ze)||null,xt(ze,We,wt,Un,null);if(typeof wt.then=="function")return ct(We,ze,Ze,an(wt),Un);if(wt.$$typeof===B)return ct(We,ze,Ze,K0(ze,wt),Un);An(ze,wt)}return null}function gn(We,ze,Ze,wt){for(var Un=null,ls=null,Nn=ze,dr=ze=0,zr=null;Nn!==null&&dr<Ze.length;dr++){Nn.index>dr?(zr=Nn,Nn=null):zr=Nn.sibling;var cs=nt(We,Nn,Ze[dr],wt);if(cs===null){Nn===null&&(Nn=zr);break}A&&Nn&&cs.alternate===null&&p(We,Nn),ze=$(cs,ze,dr),ls===null?Un=cs:ls.sibling=cs,ls=cs,Nn=zr}if(dr===Ze.length)return b(We,Nn),Tr&&zl(We,dr),Un;if(Nn===null){for(;dr<Ze.length;dr++)Nn=Et(We,Ze[dr],wt),Nn!==null&&(ze=$(Nn,ze,dr),ls===null?Un=Nn:ls.sibling=Nn,ls=Nn);return Tr&&zl(We,dr),Un}for(Nn=S(Nn);dr<Ze.length;dr++)zr=ct(Nn,We,dr,Ze[dr],wt),zr!==null&&(A&&zr.alternate!==null&&Nn.delete(zr.key===null?dr:zr.key),ze=$(zr,ze,dr),ls===null?Un=zr:ls.sibling=zr,ls=zr);return A&&Nn.forEach(function(Cp){return p(We,Cp)}),Tr&&zl(We,dr),Un}function Kn(We,ze,Ze,wt){if(Ze==null)throw Error(r(151));for(var Un=null,ls=null,Nn=ze,dr=ze=0,zr=null,cs=Ze.next();Nn!==null&&!cs.done;dr++,cs=Ze.next()){Nn.index>dr?(zr=Nn,Nn=null):zr=Nn.sibling;var Cp=nt(We,Nn,cs.value,wt);if(Cp===null){Nn===null&&(Nn=zr);break}A&&Nn&&Cp.alternate===null&&p(We,Nn),ze=$(Cp,ze,dr),ls===null?Un=Cp:ls.sibling=Cp,ls=Cp,Nn=zr}if(cs.done)return b(We,Nn),Tr&&zl(We,dr),Un;if(Nn===null){for(;!cs.done;dr++,cs=Ze.next())cs=Et(We,cs.value,wt),cs!==null&&(ze=$(cs,ze,dr),ls===null?Un=cs:ls.sibling=cs,ls=cs);return Tr&&zl(We,dr),Un}for(Nn=S(Nn);!cs.done;dr++,cs=Ze.next())cs=ct(Nn,We,dr,cs.value,wt),cs!==null&&(A&&cs.alternate!==null&&Nn.delete(cs.key===null?dr:cs.key),ze=$(cs,ze,dr),ls===null?Un=cs:ls.sibling=cs,ls=cs);return A&&Nn.forEach(function(Ape){return p(We,Ape)}),Tr&&zl(We,dr),Un}function zs(We,ze,Ze,wt){if(typeof Ze=="object"&&Ze!==null&&Ze.type===y&&Ze.key===null&&(Ze=Ze.props.children),typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case m:e:{for(var Un=Ze.key;ze!==null;){if(ze.key===Un){if(Un=Ze.type,Un===y){if(ze.tag===7){b(We,ze.sibling),wt=_(ze,Ze.props.children),wt.return=We,We=wt;break e}}else if(ze.elementType===Un||typeof Un=="object"&&Un!==null&&Un.$$typeof===F&&Ye(Un)===ze.type){b(We,ze.sibling),wt=_(ze,Ze.props),tr(wt,Ze),wt.return=We,We=wt;break e}b(We,ze);break}else p(We,ze);ze=ze.sibling}Ze.type===y?(wt=wf(Ze.props.children,We.mode,wt,Ze.key),wt.return=We,We=wt):(wt=np(Ze.type,Ze.key,Ze.props,null,We.mode,wt),tr(wt,Ze),wt.return=We,We=wt)}return te(We);case g:e:{for(Un=Ze.key;ze!==null;){if(ze.key===Un)if(ze.tag===4&&ze.stateNode.containerInfo===Ze.containerInfo&&ze.stateNode.implementation===Ze.implementation){b(We,ze.sibling),wt=_(ze,Ze.children||[]),wt.return=We,We=wt;break e}else{b(We,ze);break}else p(We,ze);ze=ze.sibling}wt=rp(Ze,We.mode,wt),wt.return=We,We=wt}return te(We);case F:return Ze=Ye(Ze),zs(We,ze,Ze,wt)}if(ee(Ze))return gn(We,ze,Ze,wt);if(P(Ze)){if(Un=P(Ze),typeof Un!="function")throw Error(r(150));return Ze=Un.call(Ze),Kn(We,ze,Ze,wt)}if(typeof Ze.then=="function")return zs(We,ze,an(Ze),wt);if(Ze.$$typeof===B)return zs(We,ze,K0(We,Ze),wt);An(We,Ze)}return typeof Ze=="string"&&Ze!==""||typeof Ze=="number"||typeof Ze=="bigint"?(Ze=""+Ze,ze!==null&&ze.tag===6?(b(We,ze.sibling),wt=_(ze,Ze),wt.return=We,We=wt):(b(We,ze),wt=zm(Ze,We.mode,wt),wt.return=We,We=wt),te(We)):b(We,ze)}return function(We,ze,Ze,wt){try{bn=0;var Un=zs(We,ze,Ze,wt);return Nt=null,Un}catch(Nn){if(Nn===De||Nn===we)throw Nn;var ls=ko(29,Nn,null,We.mode);return ls.lanes=wt,ls.return=We,ls}}}var Gs=Cr(!0),ir=Cr(!1),on=!1;function Wt(A){A.updateQueue={baseState:A.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fi(A,p){A=A.updateQueue,p.updateQueue===A&&(p.updateQueue={baseState:A.baseState,firstBaseUpdate:A.firstBaseUpdate,lastBaseUpdate:A.lastBaseUpdate,shared:A.shared,callbacks:null})}function qn(A){return{lane:A,tag:0,payload:null,callback:null,next:null}}function lr(A,p,b){var S=A.updateQueue;if(S===null)return null;if(S=S.shared,(hs&2)!==0){var _=S.pending;return _===null?p.next=p:(p.next=_.next,_.next=p),S.pending=p,p=Co(A),Pm(A,null,b),p}return $m(A,S,p,b),Co(A)}function fs(A,p,b){if(p=p.updateQueue,p!==null&&(p=p.shared,(b&4194048)!==0)){var S=p.lanes;S&=A.pendingLanes,b|=S,p.lanes=b,Ds(A,b)}}function ka(A,p){var b=A.updateQueue,S=A.alternate;if(S!==null&&(S=S.updateQueue,b===S)){var _=null,$=null;if(b=b.firstBaseUpdate,b!==null){do{var te={lane:b.lane,tag:b.tag,payload:b.payload,callback:null,next:null};$===null?_=$=te:$=$.next=te,b=b.next}while(b!==null);$===null?_=$=p:$=$.next=p}else _=$=p;b={baseState:S.baseState,firstBaseUpdate:_,lastBaseUpdate:$,shared:S.shared,callbacks:S.callbacks},A.updateQueue=b;return}A=b.lastBaseUpdate,A===null?b.firstBaseUpdate=p:A.next=p,b.lastBaseUpdate=p}var ao=!1;function $s(){if(ao){var A=R;if(A!==null)throw A}}function ca(A,p,b,S){ao=!1;var _=A.updateQueue;on=!1;var $=_.firstBaseUpdate,te=_.lastBaseUpdate,Ae=_.shared.pending;if(Ae!==null){_.shared.pending=null;var Te=Ae,et=Te.next;Te.next=null,te===null?$=et:te.next=et,te=Te;var xt=A.alternate;xt!==null&&(xt=xt.updateQueue,Ae=xt.lastBaseUpdate,Ae!==te&&(Ae===null?xt.firstBaseUpdate=et:Ae.next=et,xt.lastBaseUpdate=Te))}if($!==null){var Et=_.baseState;te=0,xt=et=Te=null,Ae=$;do{var nt=Ae.lane&-536870913,ct=nt!==Ae.lane;if(ct?(Ur&nt)===nt:(S&nt)===nt){nt!==0&&nt===I&&(ao=!0),xt!==null&&(xt=xt.next={lane:0,tag:Ae.tag,payload:Ae.payload,callback:null,next:null});e:{var gn=A,Kn=Ae;nt=p;var zs=b;switch(Kn.tag){case 1:if(gn=Kn.payload,typeof gn=="function"){Et=gn.call(zs,Et,nt);break e}Et=gn;break e;case 3:gn.flags=gn.flags&-65537|128;case 0:if(gn=Kn.payload,nt=typeof gn=="function"?gn.call(zs,Et,nt):gn,nt==null)break e;Et=f({},Et,nt);break e;case 2:on=!0}}nt=Ae.callback,nt!==null&&(A.flags|=64,ct&&(A.flags|=8192),ct=_.callbacks,ct===null?_.callbacks=[nt]:ct.push(nt))}else ct={lane:nt,tag:Ae.tag,payload:Ae.payload,callback:Ae.callback,next:null},xt===null?(et=xt=ct,Te=Et):xt=xt.next=ct,te|=nt;if(Ae=Ae.next,Ae===null){if(Ae=_.shared.pending,Ae===null)break;ct=Ae,Ae=ct.next,ct.next=null,_.lastBaseUpdate=ct,_.shared.pending=null}}while(!0);xt===null&&(Te=Et),_.baseState=Te,_.firstBaseUpdate=et,_.lastBaseUpdate=xt,$===null&&(_.shared.lanes=0),hp|=te,A.lanes=te,A.memoizedState=Et}}function Bo(A,p){if(typeof A!="function")throw Error(r(191,A));A.call(p)}function ua(A,p){var b=A.callbacks;if(b!==null)for(A.callbacks=null,A=0;A<b.length;A++)Bo(b[A],p)}var gr=H(null),Kr=H(0);function Ai(A,p){A=VA,X(Kr,A),X(gr,p),VA=A|p.baseLanes}function is(){X(Kr,VA),X(gr,gr.current)}function Ba(){VA=Kr.current,Q(gr),Q(Kr)}var hi=H(null),Xr=null;function sa(A){var p=A.alternate;X(Wr,Wr.current&1),X(hi,A),Xr===null&&(p===null||gr.current!==null||p.memoizedState!==null)&&(Xr=A)}function As(A){X(Wr,Wr.current),X(hi,A),Xr===null&&(Xr=A)}function da(A){A.tag===22?(X(Wr,Wr.current),X(hi,A),Xr===null&&(Xr=A)):fa()}function fa(){X(Wr,Wr.current),X(hi,hi.current)}function ks(A){Q(hi),Xr===A&&(Xr=null),Q(Wr)}var Wr=H(0);function Eo(A){for(var p=A;p!==null;){if(p.tag===13){var b=p.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||cT(b)||uT(b)))return p}else if(p.tag===19&&(p.memoizedProps.revealOrder==="forwards"||p.memoizedProps.revealOrder==="backwards"||p.memoizedProps.revealOrder==="unstable_legacy-backwards"||p.memoizedProps.revealOrder==="together")){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===A)break;for(;p.sibling===null;){if(p.return===null||p.return===A)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var Ti=0,Ln=null,Pn=null,Yr=null,Al=!1,mc=!1,Zo=!1,Aa=0,Nf=0,jf=null,Y0=0;function Ps(){throw Error(r(321))}function Bb(A,p){if(p===null)return!1;for(var b=0;b<p.length&&b<A.length;b++)if(!to(A[b],p[b]))return!1;return!0}function Eb(A,p,b,S,_,$){return Ti=$,Ln=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,q.H=A===null||A.memoizedState===null?Pz:bj,Zo=!1,$=b(S,_),Zo=!1,mc&&($=Nd(p,b,S,_)),J0(A),$}function J0(A){q.H=Fb;var p=Pn!==null&&Pn.next!==null;if(Ti=0,Yr=Pn=Ln=null,Al=!1,Nf=0,jf=null,p)throw Error(r(300));A===null||Pa||(A=A.dependencies,A!==null&&G0(A)&&(Pa=!0))}function Nd(A,p,b,S){Ln=A;var _=0;do{if(mc&&(jf=null),Nf=0,mc=!1,25<=_)throw Error(r(301));if(_+=1,Yr=Pn=null,A.updateQueue!=null){var $=A.updateQueue;$.lastEffect=null,$.events=null,$.stores=null,$.memoCache!=null&&($.memoCache.index=0)}q.H=Uz,$=p(b,S)}while(mc);return $}function Aj(){var A=q.H,p=A.useState()[0];return p=typeof p.then=="function"?Tf(p):p,A=A.useState()[0],(Pn!==null?Pn.memoizedState:null)!==A&&(Ln.flags|=1024),p}function Ib(){var A=Aa!==0;return Aa=0,A}function Nb(A,p,b){p.updateQueue=A.updateQueue,p.flags&=-2053,A.lanes&=~b}function Z0(A){if(Al){for(A=A.memoizedState;A!==null;){var p=A.queue;p!==null&&(p.pending=null),A=A.next}Al=!1}Ti=0,Yr=Pn=Ln=null,mc=!1,Nf=Aa=0,jf=null}function $a(){var A={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yr===null?Ln.memoizedState=Yr=A:Yr=Yr.next=A,Yr}function _i(){if(Pn===null){var A=Ln.alternate;A=A!==null?A.memoizedState:null}else A=Pn.next;var p=Yr===null?Ln.memoizedState:Yr.next;if(p!==null)Yr=p,Pn=A;else{if(A===null)throw Ln.alternate===null?Error(r(467)):Error(r(310));Pn=A,A={memoizedState:Pn.memoizedState,baseState:Pn.baseState,baseQueue:Pn.baseQueue,queue:Pn.queue,next:null},Yr===null?Ln.memoizedState=Yr=A:Yr=Yr.next=A}return Yr}function Wm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tf(A){var p=Nf;return Nf+=1,jf===null&&(jf=[]),A=mt(jf,A,p),p=Ln,(Yr===null?p.memoizedState:Yr.next)===null&&(p=p.alternate,q.H=p===null||p.memoizedState===null?Pz:bj),A}function lp(A){if(A!==null&&typeof A=="object"){if(typeof A.then=="function")return Tf(A);if(A.$$typeof===B)return io(A)}throw Error(r(438,String(A)))}function LA(A){var p=null,b=Ln.updateQueue;if(b!==null&&(p=b.memoCache),p==null){var S=Ln.alternate;S!==null&&(S=S.updateQueue,S!==null&&(S=S.memoCache,S!=null&&(p={data:S.data.map(function(_){return _.slice()}),index:0})))}if(p==null&&(p={data:[],index:0}),b===null&&(b=Wm(),Ln.updateQueue=b),b.memoCache=p,b=p.data[p.index],b===void 0)for(b=p.data[p.index]=Array(A),S=0;S<A;S++)b[S]=T;return p.index++,b}function ju(A,p){return typeof p=="function"?p(A):p}function ey(A){var p=_i();return cp(p,Pn,A)}function cp(A,p,b){var S=A.queue;if(S===null)throw Error(r(311));S.lastRenderedReducer=b;var _=A.baseQueue,$=S.pending;if($!==null){if(_!==null){var te=_.next;_.next=$.next,$.next=te}p.baseQueue=_=$,S.pending=null}if($=A.baseState,_===null)A.memoizedState=$;else{p=_.next;var Ae=te=null,Te=null,et=p,xt=!1;do{var Et=et.lane&-536870913;if(Et!==et.lane?(Ur&Et)===Et:(Ti&Et)===Et){var nt=et.revertLane;if(nt===0)Te!==null&&(Te=Te.next={lane:0,revertLane:0,gesture:null,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null}),Et===I&&(xt=!0);else if((Ti&nt)===nt){et=et.next,nt===I&&(xt=!0);continue}else Et={lane:0,revertLane:et.revertLane,gesture:null,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},Te===null?(Ae=Te=Et,te=$):Te=Te.next=Et,Ln.lanes|=nt,hp|=nt;Et=et.action,Zo&&b($,Et),$=et.hasEagerState?et.eagerState:b($,Et)}else nt={lane:Et,revertLane:et.revertLane,gesture:et.gesture,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},Te===null?(Ae=Te=nt,te=$):Te=Te.next=nt,Ln.lanes|=Et,hp|=Et;et=et.next}while(et!==null&&et!==p);if(Te===null?te=$:Te.next=Ae,!to($,A.memoizedState)&&(Pa=!0,xt&&(b=R,b!==null)))throw b;A.memoizedState=$,A.baseState=te,A.baseQueue=Te,S.lastRenderedState=$}return _===null&&(S.lanes=0),[A.memoizedState,S.dispatch]}function ty(A){var p=_i(),b=p.queue;if(b===null)throw Error(r(311));b.lastRenderedReducer=A;var S=b.dispatch,_=b.pending,$=p.memoizedState;if(_!==null){b.pending=null;var te=_=_.next;do $=A($,te.action),te=te.next;while(te!==_);to($,p.memoizedState)||(Pa=!0),p.memoizedState=$,p.baseQueue===null&&(p.baseState=$),b.lastRenderedState=$}return[$,S]}function ny(A,p,b){var S=Ln,_=_i(),$=Tr;if($){if(b===void 0)throw Error(r(407));b=b()}else b=p();var te=!to((Pn||_).memoizedState,b);if(te&&(_.memoizedState=b,Pa=!0),_=_.queue,hj(Tb.bind(null,S,_,A),[A]),_.getSnapshot!==p||te||Yr!==null&&Yr.memoizedState.tag&1){if(S.flags|=2048,PA(9,{destroy:void 0},jb.bind(null,S,_,b,p),null),Ks===null)throw Error(r(349));$||(Ti&127)!==0||jd(S,p,b)}return b}function jd(A,p,b){A.flags|=16384,A={getSnapshot:p,value:b},p=Ln.updateQueue,p===null?(p=Wm(),Ln.updateQueue=p,p.stores=[A]):(b=p.stores,b===null?p.stores=[A]:b.push(A))}function jb(A,p,b,S){p.value=b,p.getSnapshot=S,OS(p)&&_b(A)}function Tb(A,p,b){return b(function(){OS(p)&&_b(A)})}function OS(A){var p=A.getSnapshot;A=A.value;try{var b=p();return!to(A,b)}catch{return!0}}function _b(A){var p=Ed(A,2);p!==null&&vc(p,A,2)}function _f(A){var p=$a();if(typeof A=="function"){var b=A;if(A=b(),Zo){xn(!0);try{b()}finally{xn(!1)}}}return p.memoizedState=p.baseState=A,p.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ju,lastRenderedState:A},p}function FS(A,p,b,S){return A.baseState=b,cp(A,Pn,typeof S=="function"?S:ju)}function DS(A,p,b,S,_){if(US(A))throw Error(r(485));if(A=p.action,A!==null){var $={payload:_,action:A,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(te){$.listeners.push(te)}};q.T!==null?b(!0):$.isTransition=!1,S($),b=p.pending,b===null?($.next=p.pending=$,LS(p,$)):($.next=b.next,p.pending=b.next=$)}}function LS(A,p){var b=p.action,S=p.payload,_=A.state;if(p.isTransition){var $=q.T,te={};q.T=te;try{var Ae=b(_,S),Te=q.S;Te!==null&&Te(te,Ae),Rb(A,p,Ae)}catch(et){$A(A,p,et)}finally{$!==null&&te.types!==null&&($.types=te.types),q.T=$}}else try{$=b(_,S),Rb(A,p,$)}catch(et){$A(A,p,et)}}function Rb(A,p,b){b!==null&&typeof b=="object"&&typeof b.then=="function"?b.then(function(S){$S(A,p,S)},function(S){return $A(A,p,S)}):$S(A,p,b)}function $S(A,p,b){p.status="fulfilled",p.value=b,ry(p),A.state=b,p=A.pending,p!==null&&(b=p.next,b===p?A.pending=null:(b=b.next,p.next=b,LS(A,b)))}function $A(A,p,b){var S=A.pending;if(A.pending=null,S!==null){S=S.next;do p.status="rejected",p.reason=b,ry(p),p=p.next;while(p!==S)}A.action=null}function ry(A){A=A.listeners;for(var p=0;p<A.length;p++)(0,A[p])()}function Vm(A,p){return p}function Tu(A,p){if(Tr){var b=Ks.formState;if(b!==null){e:{var S=Ln;if(Tr){if(qs){t:{for(var _=qs,$=ji;_.nodeType!==8;){if(!$){_=null;break t}if(_=_u(_.nextSibling),_===null){_=null;break t}}$=_.data,_=$==="F!"||$==="F"?_:null}if(_){qs=_u(_.nextSibling),S=_.data==="F!";break e}}Cf(S)}S=!1}S&&(p=b[0])}}return b=$a(),b.memoizedState=b.baseState=p,S={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vm,lastRenderedState:p},b.queue=S,b=Dz.bind(null,Ln,S),S.dispatch=b,S=_f(!1),$=xj.bind(null,Ln,!1,S.queue),S=$a(),_={state:p,dispatch:null,action:A,pending:null},S.queue=_,b=DS.bind(null,Ln,_,$,b),_.dispatch=b,S.memoizedState=A,[p,b,!1]}function Td(A){var p=_i();return _d(p,Pn,A)}function _d(A,p,b){if(p=cp(A,p,Vm)[0],A=ey(ju)[0],typeof p=="object"&&p!==null&&typeof p.then=="function")try{var S=Tf(p)}catch(te){throw te===De?we:te}else S=p;p=_i();var _=p.queue,$=_.dispatch;return b!==p.memoizedState&&(Ln.flags|=2048,PA(9,{destroy:void 0},sy.bind(null,_,b),null)),[S,$,A]}function sy(A,p){A.action=p}function iy(A){var p=_i(),b=Pn;if(b!==null)return _d(p,b,A);_i(),p=p.memoizedState,b=_i();var S=b.queue.dispatch;return b.memoizedState=A,[p,S,!1]}function PA(A,p,b,S){return A={tag:A,create:b,deps:S,inst:p,next:null},p=Ln.updateQueue,p===null&&(p=Wm(),Ln.updateQueue=p),b=p.lastEffect,b===null?p.lastEffect=A.next=A:(S=b.next,b.next=A,A.next=S,p.lastEffect=A),A}function PS(){return _i().memoizedState}function up(A,p,b,S){var _=$a();Ln.flags|=A,_.memoizedState=PA(1|p,{destroy:void 0},b,S===void 0?null:S)}function dp(A,p,b,S){var _=_i();S=S===void 0?null:S;var $=_.memoizedState.inst;Pn!==null&&S!==null&&Bb(S,Pn.memoizedState.deps)?_.memoizedState=PA(p,$,b,S):(Ln.flags|=A,_.memoizedState=PA(1|p,$,b,S))}function wz(A,p){up(8390656,8,A,p)}function hj(A,p){dp(2048,8,A,p)}function ohe(A){Ln.flags|=4;var p=Ln.updateQueue;if(p===null)p=Wm(),Ln.updateQueue=p,p.events=[A];else{var b=p.events;b===null?p.events=[A]:b.push(A)}}function Sz(A){var p=_i().memoizedState;return ohe({ref:p,nextImpl:A}),function(){if((hs&2)!==0)throw Error(r(440));return p.impl.apply(void 0,arguments)}}function Cz(A,p){return dp(4,2,A,p)}function kz(A,p){return dp(4,4,A,p)}function Bz(A,p){if(typeof p=="function"){A=A();var b=p(A);return function(){typeof b=="function"?b():p(null)}}if(p!=null)return A=A(),p.current=A,function(){p.current=null}}function Ez(A,p,b){b=b!=null?b.concat([A]):null,dp(4,4,Bz.bind(null,p,A),b)}function pj(){}function Iz(A,p){var b=_i();p=p===void 0?null:p;var S=b.memoizedState;return p!==null&&Bb(p,S[1])?S[0]:(b.memoizedState=[A,p],A)}function Nz(A,p){var b=_i();p=p===void 0?null:p;var S=b.memoizedState;if(p!==null&&Bb(p,S[1]))return S[0];if(S=A(),Zo){xn(!0);try{A()}finally{xn(!1)}}return b.memoizedState=[S,p],S}function mj(A,p,b){return b===void 0||(Ti&1073741824)!==0&&(Ur&261930)===0?A.memoizedState=p:(A.memoizedState=b,A=jM(),Ln.lanes|=A,hp|=A,b)}function jz(A,p,b,S){return to(b,p)?b:gr.current!==null?(A=mj(A,b,S),to(A,p)||(Pa=!0),A):(Ti&42)===0||(Ti&1073741824)!==0&&(Ur&261930)===0?(Pa=!0,A.memoizedState=b):(A=jM(),Ln.lanes|=A,hp|=A,p)}function Tz(A,p,b,S,_){var $=Z.p;Z.p=$!==0&&8>$?$:8;var te=q.T,Ae={};q.T=Ae,xj(A,!1,p,b);try{var Te=_(),et=q.S;if(et!==null&&et(Ae,Te),Te!==null&&typeof Te=="object"&&typeof Te.then=="function"){var xt=oe(Te,S);Ob(A,p,xt,Jc(A))}else Ob(A,p,S,Jc(A))}catch(Et){Ob(A,p,{then:function(){},status:"rejected",reason:Et},Jc())}finally{Z.p=$,te!==null&&Ae.types!==null&&(te.types=Ae.types),q.T=te}}function lhe(){}function gj(A,p,b,S){if(A.tag!==5)throw Error(r(476));var _=_z(A).queue;Tz(A,_,p,G,b===null?lhe:function(){return Rz(A),b(S)})}function _z(A){var p=A.memoizedState;if(p!==null)return p;p={memoizedState:G,baseState:G,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ju,lastRenderedState:G},next:null};var b={};return p.next={memoizedState:b,baseState:b,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ju,lastRenderedState:b},next:null},A.memoizedState=p,A=A.alternate,A!==null&&(A.memoizedState=p),p}function Rz(A){var p=_z(A);p.next===null&&(p=A.alternate.memoizedState),Ob(A,p.next.queue,{},Jc())}function yj(){return io(Yb)}function Oz(){return _i().memoizedState}function Fz(){return _i().memoizedState}function che(A){for(var p=A.return;p!==null;){switch(p.tag){case 24:case 3:var b=Jc();A=qn(b);var S=lr(p,A,b);S!==null&&(vc(S,p,b),fs(S,p,b)),p={cache:op()},A.payload=p;return}p=p.return}}function uhe(A,p,b){var S=Jc();b={lane:S,revertLane:0,gesture:null,action:b,hasEagerState:!1,eagerState:null,next:null},US(A)?Lz(p,b):(b=U0(A,p,b,S),b!==null&&(vc(b,A,S),$z(b,p,S)))}function Dz(A,p,b){var S=Jc();Ob(A,p,b,S)}function Ob(A,p,b,S){var _={lane:S,revertLane:0,gesture:null,action:b,hasEagerState:!1,eagerState:null,next:null};if(US(A))Lz(p,_);else{var $=A.alternate;if(A.lanes===0&&($===null||$.lanes===0)&&($=p.lastRenderedReducer,$!==null))try{var te=p.lastRenderedState,Ae=$(te,b);if(_.hasEagerState=!0,_.eagerState=Ae,to(Ae,te))return $m(A,p,_,0),Ks===null&&Lm(),!1}catch{}if(b=U0(A,p,_,S),b!==null)return vc(b,A,S),$z(b,p,S),!0}return!1}function xj(A,p,b,S){if(S={lane:2,revertLane:Yj(),gesture:null,action:S,hasEagerState:!1,eagerState:null,next:null},US(A)){if(p)throw Error(r(479))}else p=U0(A,b,S,2),p!==null&&vc(p,A,2)}function US(A){var p=A.alternate;return A===Ln||p!==null&&p===Ln}function Lz(A,p){mc=Al=!0;var b=A.pending;b===null?p.next=p:(p.next=b.next,b.next=p),A.pending=p}function $z(A,p,b){if((b&4194048)!==0){var S=p.lanes;S&=A.pendingLanes,b|=S,p.lanes=b,Ds(A,b)}}var Fb={readContext:io,use:lp,useCallback:Ps,useContext:Ps,useEffect:Ps,useImperativeHandle:Ps,useLayoutEffect:Ps,useInsertionEffect:Ps,useMemo:Ps,useReducer:Ps,useRef:Ps,useState:Ps,useDebugValue:Ps,useDeferredValue:Ps,useTransition:Ps,useSyncExternalStore:Ps,useId:Ps,useHostTransitionStatus:Ps,useFormState:Ps,useActionState:Ps,useOptimistic:Ps,useMemoCache:Ps,useCacheRefresh:Ps};Fb.useEffectEvent=Ps;var Pz={readContext:io,use:lp,useCallback:function(A,p){return $a().memoizedState=[A,p===void 0?null:p],A},useContext:io,useEffect:wz,useImperativeHandle:function(A,p,b){b=b!=null?b.concat([A]):null,up(4194308,4,Bz.bind(null,p,A),b)},useLayoutEffect:function(A,p){return up(4194308,4,A,p)},useInsertionEffect:function(A,p){up(4,2,A,p)},useMemo:function(A,p){var b=$a();p=p===void 0?null:p;var S=A();if(Zo){xn(!0);try{A()}finally{xn(!1)}}return b.memoizedState=[S,p],S},useReducer:function(A,p,b){var S=$a();if(b!==void 0){var _=b(p);if(Zo){xn(!0);try{b(p)}finally{xn(!1)}}}else _=p;return S.memoizedState=S.baseState=_,A={pending:null,lanes:0,dispatch:null,lastRenderedReducer:A,lastRenderedState:_},S.queue=A,A=A.dispatch=uhe.bind(null,Ln,A),[S.memoizedState,A]},useRef:function(A){var p=$a();return A={current:A},p.memoizedState=A},useState:function(A){A=_f(A);var p=A.queue,b=Dz.bind(null,Ln,p);return p.dispatch=b,[A.memoizedState,b]},useDebugValue:pj,useDeferredValue:function(A,p){var b=$a();return mj(b,A,p)},useTransition:function(){var A=_f(!1);return A=Tz.bind(null,Ln,A.queue,!0,!1),$a().memoizedState=A,[!1,A]},useSyncExternalStore:function(A,p,b){var S=Ln,_=$a();if(Tr){if(b===void 0)throw Error(r(407));b=b()}else{if(b=p(),Ks===null)throw Error(r(349));(Ur&127)!==0||jd(S,p,b)}_.memoizedState=b;var $={value:b,getSnapshot:p};return _.queue=$,wz(Tb.bind(null,S,$,A),[A]),S.flags|=2048,PA(9,{destroy:void 0},jb.bind(null,S,$,b,p),null),b},useId:function(){var A=$a(),p=Ks.identifierPrefix;if(Tr){var b=hc,S=Ac;b=(S&~(1<<32-ke(S)-1)).toString(32)+b,p="_"+p+"R_"+b,b=Aa++,0<b&&(p+="H"+b.toString(32)),p+="_"}else b=Y0++,p="_"+p+"r_"+b.toString(32)+"_";return A.memoizedState=p},useHostTransitionStatus:yj,useFormState:Tu,useActionState:Tu,useOptimistic:function(A){var p=$a();p.memoizedState=p.baseState=A;var b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return p.queue=b,p=xj.bind(null,Ln,!0,b),b.dispatch=p,[A,p]},useMemoCache:LA,useCacheRefresh:function(){return $a().memoizedState=che.bind(null,Ln)},useEffectEvent:function(A){var p=$a(),b={impl:A};return p.memoizedState=b,function(){if((hs&2)!==0)throw Error(r(440));return b.impl.apply(void 0,arguments)}}},bj={readContext:io,use:lp,useCallback:Iz,useContext:io,useEffect:hj,useImperativeHandle:Ez,useInsertionEffect:Cz,useLayoutEffect:kz,useMemo:Nz,useReducer:ey,useRef:PS,useState:function(){return ey(ju)},useDebugValue:pj,useDeferredValue:function(A,p){var b=_i();return jz(b,Pn.memoizedState,A,p)},useTransition:function(){var A=ey(ju)[0],p=_i().memoizedState;return[typeof A=="boolean"?A:Tf(A),p]},useSyncExternalStore:ny,useId:Oz,useHostTransitionStatus:yj,useFormState:Td,useActionState:Td,useOptimistic:function(A,p){var b=_i();return FS(b,Pn,A,p)},useMemoCache:LA,useCacheRefresh:Fz};bj.useEffectEvent=Sz;var Uz={readContext:io,use:lp,useCallback:Iz,useContext:io,useEffect:hj,useImperativeHandle:Ez,useInsertionEffect:Cz,useLayoutEffect:kz,useMemo:Nz,useReducer:ty,useRef:PS,useState:function(){return ty(ju)},useDebugValue:pj,useDeferredValue:function(A,p){var b=_i();return Pn===null?mj(b,A,p):jz(b,Pn.memoizedState,A,p)},useTransition:function(){var A=ty(ju)[0],p=_i().memoizedState;return[typeof A=="boolean"?A:Tf(A),p]},useSyncExternalStore:ny,useId:Oz,useHostTransitionStatus:yj,useFormState:iy,useActionState:iy,useOptimistic:function(A,p){var b=_i();return Pn!==null?FS(b,Pn,A,p):(b.baseState=A,[A,b.queue.dispatch])},useMemoCache:LA,useCacheRefresh:Fz};Uz.useEffectEvent=Sz;function vj(A,p,b,S){p=A.memoizedState,b=b(S,p),b=b==null?p:f({},p,b),A.memoizedState=b,A.lanes===0&&(A.updateQueue.baseState=b)}var wj={enqueueSetState:function(A,p,b){A=A._reactInternals;var S=Jc(),_=qn(S);_.payload=p,b!=null&&(_.callback=b),p=lr(A,_,S),p!==null&&(vc(p,A,S),fs(p,A,S))},enqueueReplaceState:function(A,p,b){A=A._reactInternals;var S=Jc(),_=qn(S);_.tag=1,_.payload=p,b!=null&&(_.callback=b),p=lr(A,_,S),p!==null&&(vc(p,A,S),fs(p,A,S))},enqueueForceUpdate:function(A,p){A=A._reactInternals;var b=Jc(),S=qn(b);S.tag=2,p!=null&&(S.callback=p),p=lr(A,S,b),p!==null&&(vc(p,A,b),fs(p,A,b))}};function zz(A,p,b,S,_,$,te){return A=A.stateNode,typeof A.shouldComponentUpdate=="function"?A.shouldComponentUpdate(S,$,te):p.prototype&&p.prototype.isPureReactComponent?!Sd(b,S)||!Sd(_,$):!0}function Mz(A,p,b,S){A=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(b,S),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(b,S),p.state!==A&&wj.enqueueReplaceState(p,p.state,null)}function qm(A,p){var b=p;if("ref"in p){b={};for(var S in p)S!=="ref"&&(b[S]=p[S])}if(A=A.defaultProps){b===p&&(b=f({},b));for(var _ in A)b[_]===void 0&&(b[_]=A[_])}return b}function Qz(A){Dm(A)}function Hz(A){console.error(A)}function Wz(A){Dm(A)}function zS(A,p){try{var b=A.onUncaughtError;b(p.value,{componentStack:p.stack})}catch(S){setTimeout(function(){throw S})}}function Vz(A,p,b){try{var S=A.onCaughtError;S(b.value,{componentStack:b.stack,errorBoundary:p.tag===1?p.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function Sj(A,p,b){return b=qn(b),b.tag=3,b.payload={element:null},b.callback=function(){zS(A,p)},b}function qz(A){return A=qn(A),A.tag=3,A}function Gz(A,p,b,S){var _=b.type.getDerivedStateFromError;if(typeof _=="function"){var $=S.value;A.payload=function(){return _($)},A.callback=function(){Vz(p,b,S)}}var te=b.stateNode;te!==null&&typeof te.componentDidCatch=="function"&&(A.callback=function(){Vz(p,b,S),typeof _!="function"&&(pp===null?pp=new Set([this]):pp.add(this));var Ae=S.stack;this.componentDidCatch(S.value,{componentStack:Ae!==null?Ae:""})})}function dhe(A,p,b,S,_){if(b.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){if(p=b.alternate,p!==null&&Ef(p,b,_,!0),b=hi.current,b!==null){switch(b.tag){case 31:case 13:return Xr===null?ZS():b.alternate===null&&ha===0&&(ha=3),b.flags&=-257,b.flags|=65536,b.lanes=_,S===Me?b.flags|=16384:(p=b.updateQueue,p===null?b.updateQueue=new Set([S]):p.add(S),Gj(A,S,_)),!1;case 22:return b.flags|=65536,S===Me?b.flags|=16384:(p=b.updateQueue,p===null?(p={transitions:null,markerInstances:null,retryQueue:new Set([S])},b.updateQueue=p):(b=p.retryQueue,b===null?p.retryQueue=new Set([S]):b.add(S)),Gj(A,S,_)),!1}throw Error(r(435,b.tag))}return Gj(A,S,_),ZS(),!1}if(Tr)return p=hi.current,p!==null?((p.flags&65536)===0&&(p.flags|=256),p.flags|=65536,p.lanes=_,S!==Kc&&(A=Error(r(422),{cause:S}),ip(uc(A,b)))):(S!==Kc&&(p=Error(r(423),{cause:S}),ip(uc(p,b))),A=A.current.alternate,A.flags|=65536,_&=-_,A.lanes|=_,S=uc(S,b),_=Sj(A.stateNode,S,_),ka(A,_),ha!==4&&(ha=2)),!1;var $=Error(r(520),{cause:S});if($=uc($,b),Qb===null?Qb=[$]:Qb.push($),ha!==4&&(ha=2),p===null)return!0;S=uc(S,b),b=p;do{switch(b.tag){case 3:return b.flags|=65536,A=_&-_,b.lanes|=A,A=Sj(b.stateNode,S,A),ka(b,A),!1;case 1:if(p=b.type,$=b.stateNode,(b.flags&128)===0&&(typeof p.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(pp===null||!pp.has($))))return b.flags|=65536,_&=-_,b.lanes|=_,_=qz(_),Gz(_,A,b,S),ka(b,_),!1}b=b.return}while(b!==null);return!1}var Cj=Error(r(461)),Pa=!1;function el(A,p,b,S){p.child=A===null?ir(p,null,b,S):Gs(p,A.child,b,S)}function Kz(A,p,b,S,_){b=b.render;var $=p.ref;if("ref"in S){var te={};for(var Ae in S)Ae!=="ref"&&(te[Ae]=S[Ae])}else te=S;return If(p),S=Eb(A,p,b,te,$,_),Ae=Ib(),A!==null&&!Pa?(Nb(A,p,_),UA(A,p,_)):(Tr&&Ae&&Sb(p),p.flags|=1,el(A,p,S,_),p.child)}function Xz(A,p,b,S,_){if(A===null){var $=b.type;return typeof $=="function"&&!M0($)&&$.defaultProps===void 0&&b.compare===null?(p.tag=15,p.type=$,Yz(A,p,$,S,_)):(A=np(b.type,null,S,p,p.mode,_),A.ref=p.ref,A.return=p,p.child=A)}if($=A.child,!_j(A,_)){var te=$.memoizedProps;if(b=b.compare,b=b!==null?b:Sd,b(te,S)&&A.ref===p.ref)return UA(A,p,_)}return p.flags|=1,A=cc($,S),A.ref=p.ref,A.return=p,p.child=A}function Yz(A,p,b,S,_){if(A!==null){var $=A.memoizedProps;if(Sd($,S)&&A.ref===p.ref)if(Pa=!1,p.pendingProps=S=$,_j(A,_))(A.flags&131072)!==0&&(Pa=!0);else return p.lanes=A.lanes,UA(A,p,_)}return kj(A,p,b,S,_)}function Jz(A,p,b,S){var _=S.children,$=A!==null?A.memoizedState:null;if(A===null&&p.stateNode===null&&(p.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),S.mode==="hidden"){if((p.flags&128)!==0){if($=$!==null?$.baseLanes|b:b,A!==null){for(S=p.child=A.child,_=0;S!==null;)_=_|S.lanes|S.childLanes,S=S.sibling;S=_&~$}else S=0,p.child=null;return Zz(A,p,$,b,S)}if((b&536870912)!==0)p.memoizedState={baseLanes:0,cachePool:null},A!==null&&be(p,$!==null?$.cachePool:null),$!==null?Ai(p,$):is(),da(p);else return S=p.lanes=536870912,Zz(A,p,$!==null?$.baseLanes|b:b,b,S)}else $!==null?(be(p,$.cachePool),Ai(p,$),fa(),p.memoizedState=null):(A!==null&&be(p,null),is(),fa());return el(A,p,_,b),p.child}function Db(A,p){return A!==null&&A.tag===22||p.stateNode!==null||(p.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.sibling}function Zz(A,p,b,S,_){var $=ge();return $=$===null?null:{parent:ra._currentValue,pool:$},p.memoizedState={baseLanes:b,cachePool:$},A!==null&&be(p,null),is(),da(p),A!==null&&Ef(A,p,S,!0),p.childLanes=_,null}function MS(A,p){return p=HS({mode:p.mode,children:p.children},A.mode),p.ref=A.ref,A.child=p,p.return=A,p}function eM(A,p,b){return Gs(p,A.child,null,b),A=MS(p,p.pendingProps),A.flags|=2,ks(p),p.memoizedState=null,A}function fhe(A,p,b){var S=p.pendingProps,_=(p.flags&128)!==0;if(p.flags&=-129,A===null){if(Tr){if(S.mode==="hidden")return A=MS(p,S),p.lanes=536870912,Db(null,A);if(As(p),(A=qs)?(A=f9(A,ji),A=A!==null&&A.data==="&"?A:null,A!==null&&(p.memoizedState={dehydrated:A,treeContext:Sf!==null?{id:Ac,overflow:hc}:null,retryLane:536870912,hydrationErrors:null},b=Q0(A),b.return=p,p.child=b,ro=p,qs=null)):A=null,A===null)throw Cf(p);return p.lanes=536870912,null}return MS(p,S)}var $=A.memoizedState;if($!==null){var te=$.dehydrated;if(As(p),_)if(p.flags&256)p.flags&=-257,p=eM(A,p,b);else if(p.memoizedState!==null)p.child=A.child,p.flags|=128,p=null;else throw Error(r(558));else if(Pa||Ef(A,p,b,!1),_=(b&A.childLanes)!==0,Pa||_){if(S=Ks,S!==null&&(te=wr(S,b),te!==0&&te!==$.retryLane))throw $.retryLane=te,Ed(A,te),vc(S,A,te),Cj;ZS(),p=eM(A,p,b)}else A=$.treeContext,qs=_u(te.nextSibling),ro=p,Tr=!0,Jo=null,ji=!1,A!==null&&_S(p,A),p=MS(p,S),p.flags|=4096;return p}return A=cc(A.child,{mode:S.mode,children:S.children}),A.ref=p.ref,p.child=A,A.return=p,A}function QS(A,p){var b=p.ref;if(b===null)A!==null&&A.ref!==null&&(p.flags|=4194816);else{if(typeof b!="function"&&typeof b!="object")throw Error(r(284));(A===null||A.ref!==b)&&(p.flags|=4194816)}}function kj(A,p,b,S,_){return If(p),b=Eb(A,p,b,S,void 0,_),S=Ib(),A!==null&&!Pa?(Nb(A,p,_),UA(A,p,_)):(Tr&&S&&Sb(p),p.flags|=1,el(A,p,b,_),p.child)}function tM(A,p,b,S,_,$){return If(p),p.updateQueue=null,b=Nd(p,S,b,_),J0(A),S=Ib(),A!==null&&!Pa?(Nb(A,p,$),UA(A,p,$)):(Tr&&S&&Sb(p),p.flags|=1,el(A,p,b,$),p.child)}function nM(A,p,b,S,_){if(If(p),p.stateNode===null){var $=no,te=b.contextType;typeof te=="object"&&te!==null&&($=io(te)),$=new b(S,$),p.memoizedState=$.state!==null&&$.state!==void 0?$.state:null,$.updater=wj,p.stateNode=$,$._reactInternals=p,$=p.stateNode,$.props=S,$.state=p.memoizedState,$.refs={},Wt(p),te=b.contextType,$.context=typeof te=="object"&&te!==null?io(te):no,$.state=p.memoizedState,te=b.getDerivedStateFromProps,typeof te=="function"&&(vj(p,b,te,S),$.state=p.memoizedState),typeof b.getDerivedStateFromProps=="function"||typeof $.getSnapshotBeforeUpdate=="function"||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(te=$.state,typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount(),te!==$.state&&wj.enqueueReplaceState($,$.state,null),ca(p,S,$,_),$s(),$.state=p.memoizedState),typeof $.componentDidMount=="function"&&(p.flags|=4194308),S=!0}else if(A===null){$=p.stateNode;var Ae=p.memoizedProps,Te=qm(b,Ae);$.props=Te;var et=$.context,xt=b.contextType;te=no,typeof xt=="object"&&xt!==null&&(te=io(xt));var Et=b.getDerivedStateFromProps;xt=typeof Et=="function"||typeof $.getSnapshotBeforeUpdate=="function",Ae=p.pendingProps!==Ae,xt||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(Ae||et!==te)&&Mz(p,$,S,te),on=!1;var nt=p.memoizedState;$.state=nt,ca(p,S,$,_),$s(),et=p.memoizedState,Ae||nt!==et||on?(typeof Et=="function"&&(vj(p,b,Et,S),et=p.memoizedState),(Te=on||zz(p,b,Te,S,nt,et,te))?(xt||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(p.flags|=4194308)):(typeof $.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=S,p.memoizedState=et),$.props=S,$.state=et,$.context=te,S=Te):(typeof $.componentDidMount=="function"&&(p.flags|=4194308),S=!1)}else{$=p.stateNode,fi(A,p),te=p.memoizedProps,xt=qm(b,te),$.props=xt,Et=p.pendingProps,nt=$.context,et=b.contextType,Te=no,typeof et=="object"&&et!==null&&(Te=io(et)),Ae=b.getDerivedStateFromProps,(et=typeof Ae=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(te!==Et||nt!==Te)&&Mz(p,$,S,Te),on=!1,nt=p.memoizedState,$.state=nt,ca(p,S,$,_),$s();var ct=p.memoizedState;te!==Et||nt!==ct||on||A!==null&&A.dependencies!==null&&G0(A.dependencies)?(typeof Ae=="function"&&(vj(p,b,Ae,S),ct=p.memoizedState),(xt=on||zz(p,b,xt,S,nt,ct,Te)||A!==null&&A.dependencies!==null&&G0(A.dependencies))?(et||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(S,ct,Te),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(S,ct,Te)),typeof $.componentDidUpdate=="function"&&(p.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof $.componentDidUpdate!="function"||te===A.memoizedProps&&nt===A.memoizedState||(p.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||te===A.memoizedProps&&nt===A.memoizedState||(p.flags|=1024),p.memoizedProps=S,p.memoizedState=ct),$.props=S,$.state=ct,$.context=Te,S=xt):(typeof $.componentDidUpdate!="function"||te===A.memoizedProps&&nt===A.memoizedState||(p.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||te===A.memoizedProps&&nt===A.memoizedState||(p.flags|=1024),S=!1)}return $=S,QS(A,p),S=(p.flags&128)!==0,$||S?($=p.stateNode,b=S&&typeof b.getDerivedStateFromError!="function"?null:$.render(),p.flags|=1,A!==null&&S?(p.child=Gs(p,A.child,null,_),p.child=Gs(p,null,b,_)):el(A,p,b,_),p.memoizedState=$.state,A=p.child):A=UA(A,p,_),A}function rM(A,p,b,S){return FA(),p.flags|=256,el(A,p,b,S),p.child}var Bj={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ej(A){return{baseLanes:A,cachePool:Ce()}}function Ij(A,p,b){return A=A!==null?A.childLanes&~b:0,p&&(A|=Yc),A}function sM(A,p,b){var S=p.pendingProps,_=!1,$=(p.flags&128)!==0,te;if((te=$)||(te=A!==null&&A.memoizedState===null?!1:(Wr.current&2)!==0),te&&(_=!0,p.flags&=-129),te=(p.flags&32)!==0,p.flags&=-33,A===null){if(Tr){if(_?sa(p):fa(),(A=qs)?(A=f9(A,ji),A=A!==null&&A.data!=="&"?A:null,A!==null&&(p.memoizedState={dehydrated:A,treeContext:Sf!==null?{id:Ac,overflow:hc}:null,retryLane:536870912,hydrationErrors:null},b=Q0(A),b.return=p,p.child=b,ro=p,qs=null)):A=null,A===null)throw Cf(p);return uT(A)?p.lanes=32:p.lanes=536870912,null}var Ae=S.children;return S=S.fallback,_?(fa(),_=p.mode,Ae=HS({mode:"hidden",children:Ae},_),S=wf(S,_,b,null),Ae.return=p,S.return=p,Ae.sibling=S,p.child=Ae,S=p.child,S.memoizedState=Ej(b),S.childLanes=Ij(A,te,b),p.memoizedState=Bj,Db(null,S)):(sa(p),Nj(p,Ae))}var Te=A.memoizedState;if(Te!==null&&(Ae=Te.dehydrated,Ae!==null)){if($)p.flags&256?(sa(p),p.flags&=-257,p=jj(A,p,b)):p.memoizedState!==null?(fa(),p.child=A.child,p.flags|=128,p=null):(fa(),Ae=S.fallback,_=p.mode,S=HS({mode:"visible",children:S.children},_),Ae=wf(Ae,_,b,null),Ae.flags|=2,S.return=p,Ae.return=p,S.sibling=Ae,p.child=S,Gs(p,A.child,null,b),S=p.child,S.memoizedState=Ej(b),S.childLanes=Ij(A,te,b),p.memoizedState=Bj,p=Db(null,S));else if(sa(p),uT(Ae)){if(te=Ae.nextSibling&&Ae.nextSibling.dataset,te)var et=te.dgst;te=et,S=Error(r(419)),S.stack="",S.digest=te,ip({value:S,source:null,stack:null}),p=jj(A,p,b)}else if(Pa||Ef(A,p,b,!1),te=(b&A.childLanes)!==0,Pa||te){if(te=Ks,te!==null&&(S=wr(te,b),S!==0&&S!==Te.retryLane))throw Te.retryLane=S,Ed(A,S),vc(te,A,S),Cj;cT(Ae)||ZS(),p=jj(A,p,b)}else cT(Ae)?(p.flags|=192,p.child=A.child,p=null):(A=Te.treeContext,qs=_u(Ae.nextSibling),ro=p,Tr=!0,Jo=null,ji=!1,A!==null&&_S(p,A),p=Nj(p,S.children),p.flags|=4096);return p}return _?(fa(),Ae=S.fallback,_=p.mode,Te=A.child,et=Te.sibling,S=cc(Te,{mode:"hidden",children:S.children}),S.subtreeFlags=Te.subtreeFlags&65011712,et!==null?Ae=cc(et,Ae):(Ae=wf(Ae,_,b,null),Ae.flags|=2),Ae.return=p,S.return=p,S.sibling=Ae,p.child=S,Db(null,S),S=p.child,Ae=A.child.memoizedState,Ae===null?Ae=Ej(b):(_=Ae.cachePool,_!==null?(Te=ra._currentValue,_=_.parent!==Te?{parent:Te,pool:Te}:_):_=Ce(),Ae={baseLanes:Ae.baseLanes|b,cachePool:_}),S.memoizedState=Ae,S.childLanes=Ij(A,te,b),p.memoizedState=Bj,Db(A.child,S)):(sa(p),b=A.child,A=b.sibling,b=cc(b,{mode:"visible",children:S.children}),b.return=p,b.sibling=null,A!==null&&(te=p.deletions,te===null?(p.deletions=[A],p.flags|=16):te.push(A)),p.child=b,p.memoizedState=null,b)}function Nj(A,p){return p=HS({mode:"visible",children:p},A.mode),p.return=A,A.child=p}function HS(A,p){return A=ko(22,A,null,p),A.lanes=0,A}function jj(A,p,b){return Gs(p,A.child,null,b),A=Nj(p,p.pendingProps.children),A.flags|=2,p.memoizedState=null,A}function iM(A,p,b){A.lanes|=p;var S=A.alternate;S!==null&&(S.lanes|=p),ap(A.return,p,b)}function Tj(A,p,b,S,_,$){var te=A.memoizedState;te===null?A.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:S,tail:b,tailMode:_,treeForkCount:$}:(te.isBackwards=p,te.rendering=null,te.renderingStartTime=0,te.last=S,te.tail=b,te.tailMode=_,te.treeForkCount=$)}function aM(A,p,b){var S=p.pendingProps,_=S.revealOrder,$=S.tail;S=S.children;var te=Wr.current,Ae=(te&2)!==0;if(Ae?(te=te&1|2,p.flags|=128):te&=1,X(Wr,te),el(A,p,S,b),S=Tr?Mm:0,!Ae&&A!==null&&(A.flags&128)!==0)e:for(A=p.child;A!==null;){if(A.tag===13)A.memoizedState!==null&&iM(A,b,p);else if(A.tag===19)iM(A,b,p);else if(A.child!==null){A.child.return=A,A=A.child;continue}if(A===p)break e;for(;A.sibling===null;){if(A.return===null||A.return===p)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}switch(_){case"forwards":for(b=p.child,_=null;b!==null;)A=b.alternate,A!==null&&Eo(A)===null&&(_=b),b=b.sibling;b=_,b===null?(_=p.child,p.child=null):(_=b.sibling,b.sibling=null),Tj(p,!1,_,b,$,S);break;case"backwards":case"unstable_legacy-backwards":for(b=null,_=p.child,p.child=null;_!==null;){if(A=_.alternate,A!==null&&Eo(A)===null){p.child=_;break}A=_.sibling,_.sibling=b,b=_,_=A}Tj(p,!0,b,null,$,S);break;case"together":Tj(p,!1,null,null,void 0,S);break;default:p.memoizedState=null}return p.child}function UA(A,p,b){if(A!==null&&(p.dependencies=A.dependencies),hp|=p.lanes,(b&p.childLanes)===0)if(A!==null){if(Ef(A,p,b,!1),(b&p.childLanes)===0)return null}else return null;if(A!==null&&p.child!==A.child)throw Error(r(153));if(p.child!==null){for(A=p.child,b=cc(A,A.pendingProps),p.child=b,b.return=p;A.sibling!==null;)A=A.sibling,b=b.sibling=cc(A,A.pendingProps),b.return=p;b.sibling=null}return p.child}function _j(A,p){return(A.lanes&p)!==0?!0:(A=A.dependencies,!!(A!==null&&G0(A)))}function Ahe(A,p,b){switch(p.tag){case 3:Be(p,p.stateNode.containerInfo),Bf(p,ra,A.memoizedState.cache),FA();break;case 27:case 5:ve(p);break;case 4:Be(p,p.stateNode.containerInfo);break;case 10:Bf(p,p.type,p.memoizedProps.value);break;case 31:if(p.memoizedState!==null)return p.flags|=128,As(p),null;break;case 13:var S=p.memoizedState;if(S!==null)return S.dehydrated!==null?(sa(p),p.flags|=128,null):(b&p.child.childLanes)!==0?sM(A,p,b):(sa(p),A=UA(A,p,b),A!==null?A.sibling:null);sa(p);break;case 19:var _=(A.flags&128)!==0;if(S=(b&p.childLanes)!==0,S||(Ef(A,p,b,!1),S=(b&p.childLanes)!==0),_){if(S)return aM(A,p,b);p.flags|=128}if(_=p.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),X(Wr,Wr.current),S)break;return null;case 22:return p.lanes=0,Jz(A,p,b,p.pendingProps);case 24:Bf(p,ra,A.memoizedState.cache)}return UA(A,p,b)}function oM(A,p,b){if(A!==null)if(A.memoizedProps!==p.pendingProps)Pa=!0;else{if(!_j(A,b)&&(p.flags&128)===0)return Pa=!1,Ahe(A,p,b);Pa=(A.flags&131072)!==0}else Pa=!1,Tr&&(p.flags&1048576)!==0&&TS(p,Mm,p.index);switch(p.lanes=0,p.tag){case 16:e:{var S=p.pendingProps;if(A=Ye(p.elementType),p.type=A,typeof A=="function")M0(A)?(S=qm(A,S),p.tag=1,p=nM(null,p,A,S,b)):(p.tag=0,p=kj(null,p,A,S,b));else{if(A!=null){var _=A.$$typeof;if(_===k){p.tag=11,p=Kz(null,p,A,S,b);break e}else if(_===O){p.tag=14,p=Xz(null,p,A,S,b);break e}}throw p=z(A)||A,Error(r(306,p,""))}}return p;case 0:return kj(A,p,p.type,p.pendingProps,b);case 1:return S=p.type,_=qm(S,p.pendingProps),nM(A,p,S,_,b);case 3:e:{if(Be(p,p.stateNode.containerInfo),A===null)throw Error(r(387));S=p.pendingProps;var $=p.memoizedState;_=$.element,fi(A,p),ca(p,S,null,b);var te=p.memoizedState;if(S=te.cache,Bf(p,ra,S),S!==$.cache&&DA(p,[ra],b,!0),$s(),S=te.element,$.isDehydrated)if($={element:S,isDehydrated:!1,cache:te.cache},p.updateQueue.baseState=$,p.memoizedState=$,p.flags&256){p=rM(A,p,S,b);break e}else if(S!==_){_=uc(Error(r(424)),p),ip(_),p=rM(A,p,S,b);break e}else for(A=p.stateNode.containerInfo,A.nodeType===9?A=A.body:A=A.nodeName==="HTML"?A.ownerDocument.body:A,qs=_u(A.firstChild),ro=p,Tr=!0,Jo=null,ji=!0,b=ir(p,null,S,b),p.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling;else{if(FA(),S===_){p=UA(A,p,b);break e}el(A,p,S,b)}p=p.child}return p;case 26:return QS(A,p),A===null?(b=y9(p.type,null,p.pendingProps,null))?p.memoizedState=b:Tr||(b=p.type,A=p.pendingProps,S=aC(he.current).createElement(b),S[Jn]=p,S[ns]=A,tl(S,b,A),Ir(S),p.stateNode=S):p.memoizedState=y9(p.type,A.memoizedProps,p.pendingProps,A.memoizedState),null;case 27:return ve(p),A===null&&Tr&&(S=p.stateNode=p9(p.type,p.pendingProps,he.current),ro=p,ji=!0,_=qs,xp(p.type)?(dT=_,qs=_u(S.firstChild)):qs=_),el(A,p,p.pendingProps.children,b),QS(A,p),A===null&&(p.flags|=4194304),p.child;case 5:return A===null&&Tr&&((_=S=qs)&&(S=Qhe(S,p.type,p.pendingProps,ji),S!==null?(p.stateNode=S,ro=p,qs=_u(S.firstChild),ji=!1,_=!0):_=!1),_||Cf(p)),ve(p),_=p.type,$=p.pendingProps,te=A!==null?A.memoizedProps:null,S=$.children,aT(_,$)?S=null:te!==null&&aT(_,te)&&(p.flags|=32),p.memoizedState!==null&&(_=Eb(A,p,Aj,null,null,b),Yb._currentValue=_),QS(A,p),el(A,p,S,b),p.child;case 6:return A===null&&Tr&&((A=b=qs)&&(b=Hhe(b,p.pendingProps,ji),b!==null?(p.stateNode=b,ro=p,qs=null,A=!0):A=!1),A||Cf(p)),null;case 13:return sM(A,p,b);case 4:return Be(p,p.stateNode.containerInfo),S=p.pendingProps,A===null?p.child=Gs(p,null,S,b):el(A,p,S,b),p.child;case 11:return Kz(A,p,p.type,p.pendingProps,b);case 7:return el(A,p,p.pendingProps,b),p.child;case 8:return el(A,p,p.pendingProps.children,b),p.child;case 12:return el(A,p,p.pendingProps.children,b),p.child;case 10:return S=p.pendingProps,Bf(p,p.type,S.value),el(A,p,S.children,b),p.child;case 9:return _=p.type._context,S=p.pendingProps.children,If(p),_=io(_),S=S(_),p.flags|=1,el(A,p,S,b),p.child;case 14:return Xz(A,p,p.type,p.pendingProps,b);case 15:return Yz(A,p,p.type,p.pendingProps,b);case 19:return aM(A,p,b);case 31:return fhe(A,p,b);case 22:return Jz(A,p,b,p.pendingProps);case 24:return If(p),S=io(ra),A===null?(_=ge(),_===null&&(_=Ks,$=op(),_.pooledCache=$,$.refCount++,$!==null&&(_.pooledCacheLanes|=b),_=$),p.memoizedState={parent:S,cache:_},Wt(p),Bf(p,ra,_)):((A.lanes&b)!==0&&(fi(A,p),ca(p,null,null,b),$s()),_=A.memoizedState,$=p.memoizedState,_.parent!==S?(_={parent:S,cache:S},p.memoizedState=_,p.lanes===0&&(p.memoizedState=p.updateQueue.baseState=_),Bf(p,ra,S)):(S=$.cache,Bf(p,ra,S),S!==_.cache&&DA(p,[ra],b,!0))),el(A,p,p.pendingProps.children,b),p.child;case 29:throw p.pendingProps}throw Error(r(156,p.tag))}function zA(A){A.flags|=4}function Rj(A,p,b,S,_){if((p=(A.mode&32)!==0)&&(p=!1),p){if(A.flags|=16777216,(_&335544128)===_)if(A.stateNode.complete)A.flags|=8192;else if(OM())A.flags|=8192;else throw pt=Me,Je}else A.flags&=-16777217}function lM(A,p){if(p.type!=="stylesheet"||(p.state.loading&4)!==0)A.flags&=-16777217;else if(A.flags|=16777216,!S9(p))if(OM())A.flags|=8192;else throw pt=Me,Je}function WS(A,p){p!==null&&(A.flags|=4),A.flags&16384&&(p=A.tag!==22?Hn():536870912,A.lanes|=p,cy|=p)}function Lb(A,p){if(!Tr)switch(A.tailMode){case"hidden":p=A.tail;for(var b=null;p!==null;)p.alternate!==null&&(b=p),p=p.sibling;b===null?A.tail=null:b.sibling=null;break;case"collapsed":b=A.tail;for(var S=null;b!==null;)b.alternate!==null&&(S=b),b=b.sibling;S===null?p||A.tail===null?A.tail=null:A.tail.sibling=null:S.sibling=null}}function pi(A){var p=A.alternate!==null&&A.alternate.child===A.child,b=0,S=0;if(p)for(var _=A.child;_!==null;)b|=_.lanes|_.childLanes,S|=_.subtreeFlags&65011712,S|=_.flags&65011712,_.return=A,_=_.sibling;else for(_=A.child;_!==null;)b|=_.lanes|_.childLanes,S|=_.subtreeFlags,S|=_.flags,_.return=A,_=_.sibling;return A.subtreeFlags|=S,A.childLanes=b,p}function hhe(A,p,b){var S=p.pendingProps;switch(V0(p),p.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pi(p),null;case 1:return pi(p),null;case 3:return b=p.stateNode,S=null,A!==null&&(S=A.memoizedState.cache),p.memoizedState.cache!==S&&(p.flags|=2048),pc(ra),me(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(A===null||A.child===null)&&(so(p)?zA(p):A===null||A.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,kb())),pi(p),null;case 26:var _=p.type,$=p.memoizedState;return A===null?(zA(p),$!==null?(pi(p),lM(p,$)):(pi(p),Rj(p,_,null,S,b))):$?$!==A.memoizedState?(zA(p),pi(p),lM(p,$)):(pi(p),p.flags&=-16777217):(A=A.memoizedProps,A!==S&&zA(p),pi(p),Rj(p,_,A,S,b)),null;case 27:if(Ee(p),b=he.current,_=p.type,A!==null&&p.stateNode!=null)A.memoizedProps!==S&&zA(p);else{if(!S){if(p.stateNode===null)throw Error(r(166));return pi(p),null}A=re.current,so(p)?Cb(p):(A=p9(_,S,b),p.stateNode=A,zA(p))}return pi(p),null;case 5:if(Ee(p),_=p.type,A!==null&&p.stateNode!=null)A.memoizedProps!==S&&zA(p);else{if(!S){if(p.stateNode===null)throw Error(r(166));return pi(p),null}if($=re.current,so(p))Cb(p);else{var te=aC(he.current);switch($){case 1:$=te.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:$=te.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":$=te.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":$=te.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":$=te.createElement("div"),$.innerHTML="<script><\/script>",$=$.removeChild($.firstChild);break;case"select":$=typeof S.is=="string"?te.createElement("select",{is:S.is}):te.createElement("select"),S.multiple?$.multiple=!0:S.size&&($.size=S.size);break;default:$=typeof S.is=="string"?te.createElement(_,{is:S.is}):te.createElement(_)}}$[Jn]=p,$[ns]=S;e:for(te=p.child;te!==null;){if(te.tag===5||te.tag===6)$.appendChild(te.stateNode);else if(te.tag!==4&&te.tag!==27&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===p)break e;for(;te.sibling===null;){if(te.return===null||te.return===p)break e;te=te.return}te.sibling.return=te.return,te=te.sibling}p.stateNode=$;e:switch(tl($,_,S),_){case"button":case"input":case"select":case"textarea":S=!!S.autoFocus;break e;case"img":S=!0;break e;default:S=!1}S&&zA(p)}}return pi(p),Rj(p,p.type,A===null?null:A.memoizedProps,p.pendingProps,b),null;case 6:if(A&&p.stateNode!=null)A.memoizedProps!==S&&zA(p);else{if(typeof S!="string"&&p.stateNode===null)throw Error(r(166));if(A=he.current,so(p)){if(A=p.stateNode,b=p.memoizedProps,S=null,_=ro,_!==null)switch(_.tag){case 27:case 5:S=_.memoizedProps}A[Jn]=p,A=!!(A.nodeValue===b||S!==null&&S.suppressHydrationWarning===!0||s9(A.nodeValue,b)),A||Cf(p,!0)}else A=aC(A).createTextNode(S),A[Jn]=p,p.stateNode=A}return pi(p),null;case 31:if(b=p.memoizedState,A===null||A.memoizedState!==null){if(S=so(p),b!==null){if(A===null){if(!S)throw Error(r(318));if(A=p.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(r(557));A[Jn]=p}else FA(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;pi(p),A=!1}else b=kb(),A!==null&&A.memoizedState!==null&&(A.memoizedState.hydrationErrors=b),A=!0;if(!A)return p.flags&256?(ks(p),p):(ks(p),null);if((p.flags&128)!==0)throw Error(r(558))}return pi(p),null;case 13:if(S=p.memoizedState,A===null||A.memoizedState!==null&&A.memoizedState.dehydrated!==null){if(_=so(p),S!==null&&S.dehydrated!==null){if(A===null){if(!_)throw Error(r(318));if(_=p.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[Jn]=p}else FA(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;pi(p),_=!1}else _=kb(),A!==null&&A.memoizedState!==null&&(A.memoizedState.hydrationErrors=_),_=!0;if(!_)return p.flags&256?(ks(p),p):(ks(p),null)}return ks(p),(p.flags&128)!==0?(p.lanes=b,p):(b=S!==null,A=A!==null&&A.memoizedState!==null,b&&(S=p.child,_=null,S.alternate!==null&&S.alternate.memoizedState!==null&&S.alternate.memoizedState.cachePool!==null&&(_=S.alternate.memoizedState.cachePool.pool),$=null,S.memoizedState!==null&&S.memoizedState.cachePool!==null&&($=S.memoizedState.cachePool.pool),$!==_&&(S.flags|=2048)),b!==A&&b&&(p.child.flags|=8192),WS(p,p.updateQueue),pi(p),null);case 4:return me(),A===null&&tT(p.stateNode.containerInfo),pi(p),null;case 10:return pc(p.type),pi(p),null;case 19:if(Q(Wr),S=p.memoizedState,S===null)return pi(p),null;if(_=(p.flags&128)!==0,$=S.rendering,$===null)if(_)Lb(S,!1);else{if(ha!==0||A!==null&&(A.flags&128)!==0)for(A=p.child;A!==null;){if($=Eo(A),$!==null){for(p.flags|=128,Lb(S,!1),A=$.updateQueue,p.updateQueue=A,WS(p,A),p.subtreeFlags=0,A=b,b=p.child;b!==null;)Um(b,A),b=b.sibling;return X(Wr,Wr.current&1|2),Tr&&zl(p,S.treeForkCount),p.child}A=A.sibling}S.tail!==null&&Ht()>XS&&(p.flags|=128,_=!0,Lb(S,!1),p.lanes=4194304)}else{if(!_)if(A=Eo($),A!==null){if(p.flags|=128,_=!0,A=A.updateQueue,p.updateQueue=A,WS(p,A),Lb(S,!0),S.tail===null&&S.tailMode==="hidden"&&!$.alternate&&!Tr)return pi(p),null}else 2*Ht()-S.renderingStartTime>XS&&b!==536870912&&(p.flags|=128,_=!0,Lb(S,!1),p.lanes=4194304);S.isBackwards?($.sibling=p.child,p.child=$):(A=S.last,A!==null?A.sibling=$:p.child=$,S.last=$)}return S.tail!==null?(A=S.tail,S.rendering=A,S.tail=A.sibling,S.renderingStartTime=Ht(),A.sibling=null,b=Wr.current,X(Wr,_?b&1|2:b&1),Tr&&zl(p,S.treeForkCount),A):(pi(p),null);case 22:case 23:return ks(p),Ba(),S=p.memoizedState!==null,A!==null?A.memoizedState!==null!==S&&(p.flags|=8192):S&&(p.flags|=8192),S?(b&536870912)!==0&&(p.flags&128)===0&&(pi(p),p.subtreeFlags&6&&(p.flags|=8192)):pi(p),b=p.updateQueue,b!==null&&WS(p,b.retryQueue),b=null,A!==null&&A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(b=A.memoizedState.cachePool.pool),S=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(S=p.memoizedState.cachePool.pool),S!==b&&(p.flags|=2048),A!==null&&Q(de),null;case 24:return b=null,A!==null&&(b=A.memoizedState.cache),p.memoizedState.cache!==b&&(p.flags|=2048),pc(ra),pi(p),null;case 25:return null;case 30:return null}throw Error(r(156,p.tag))}function phe(A,p){switch(V0(p),p.tag){case 1:return A=p.flags,A&65536?(p.flags=A&-65537|128,p):null;case 3:return pc(ra),me(),A=p.flags,(A&65536)!==0&&(A&128)===0?(p.flags=A&-65537|128,p):null;case 26:case 27:case 5:return Ee(p),null;case 31:if(p.memoizedState!==null){if(ks(p),p.alternate===null)throw Error(r(340));FA()}return A=p.flags,A&65536?(p.flags=A&-65537|128,p):null;case 13:if(ks(p),A=p.memoizedState,A!==null&&A.dehydrated!==null){if(p.alternate===null)throw Error(r(340));FA()}return A=p.flags,A&65536?(p.flags=A&-65537|128,p):null;case 19:return Q(Wr),null;case 4:return me(),null;case 10:return pc(p.type),null;case 22:case 23:return ks(p),Ba(),A!==null&&Q(de),A=p.flags,A&65536?(p.flags=A&-65537|128,p):null;case 24:return pc(ra),null;case 25:return null;default:return null}}function cM(A,p){switch(V0(p),p.tag){case 3:pc(ra),me();break;case 26:case 27:case 5:Ee(p);break;case 4:me();break;case 31:p.memoizedState!==null&&ks(p);break;case 13:ks(p);break;case 19:Q(Wr);break;case 10:pc(p.type);break;case 22:case 23:ks(p),Ba(),A!==null&&Q(de);break;case 24:pc(ra)}}function $b(A,p){try{var b=p.updateQueue,S=b!==null?b.lastEffect:null;if(S!==null){var _=S.next;b=_;do{if((b.tag&A)===A){S=void 0;var $=b.create,te=b.inst;S=$(),te.destroy=S}b=b.next}while(b!==_)}}catch(Ae){Es(p,p.return,Ae)}}function fp(A,p,b){try{var S=p.updateQueue,_=S!==null?S.lastEffect:null;if(_!==null){var $=_.next;S=$;do{if((S.tag&A)===A){var te=S.inst,Ae=te.destroy;if(Ae!==void 0){te.destroy=void 0,_=p;var Te=b,et=Ae;try{et()}catch(xt){Es(_,Te,xt)}}}S=S.next}while(S!==$)}}catch(xt){Es(p,p.return,xt)}}function uM(A){var p=A.updateQueue;if(p!==null){var b=A.stateNode;try{ua(p,b)}catch(S){Es(A,A.return,S)}}}function dM(A,p,b){b.props=qm(A.type,A.memoizedProps),b.state=A.memoizedState;try{b.componentWillUnmount()}catch(S){Es(A,p,S)}}function Pb(A,p){try{var b=A.ref;if(b!==null){switch(A.tag){case 26:case 27:case 5:var S=A.stateNode;break;case 30:S=A.stateNode;break;default:S=A.stateNode}typeof b=="function"?A.refCleanup=b(S):b.current=S}}catch(_){Es(A,p,_)}}function Rf(A,p){var b=A.ref,S=A.refCleanup;if(b!==null)if(typeof S=="function")try{S()}catch(_){Es(A,p,_)}finally{A.refCleanup=null,A=A.alternate,A!=null&&(A.refCleanup=null)}else if(typeof b=="function")try{b(null)}catch(_){Es(A,p,_)}else b.current=null}function fM(A){var p=A.type,b=A.memoizedProps,S=A.stateNode;try{e:switch(p){case"button":case"input":case"select":case"textarea":b.autoFocus&&S.focus();break e;case"img":b.src?S.src=b.src:b.srcSet&&(S.srcset=b.srcSet)}}catch(_){Es(A,A.return,_)}}function Oj(A,p,b){try{var S=A.stateNode;Lhe(S,A.type,b,p),S[ns]=p}catch(_){Es(A,A.return,_)}}function AM(A){return A.tag===5||A.tag===3||A.tag===26||A.tag===27&&xp(A.type)||A.tag===4}function Fj(A){e:for(;;){for(;A.sibling===null;){if(A.return===null||AM(A.return))return null;A=A.return}for(A.sibling.return=A.return,A=A.sibling;A.tag!==5&&A.tag!==6&&A.tag!==18;){if(A.tag===27&&xp(A.type)||A.flags&2||A.child===null||A.tag===4)continue e;A.child.return=A,A=A.child}if(!(A.flags&2))return A.stateNode}}function Dj(A,p,b){var S=A.tag;if(S===5||S===6)A=A.stateNode,p?(b.nodeType===9?b.body:b.nodeName==="HTML"?b.ownerDocument.body:b).insertBefore(A,p):(p=b.nodeType===9?b.body:b.nodeName==="HTML"?b.ownerDocument.body:b,p.appendChild(A),b=b._reactRootContainer,b!=null||p.onclick!==null||(p.onclick=eo));else if(S!==4&&(S===27&&xp(A.type)&&(b=A.stateNode,p=null),A=A.child,A!==null))for(Dj(A,p,b),A=A.sibling;A!==null;)Dj(A,p,b),A=A.sibling}function VS(A,p,b){var S=A.tag;if(S===5||S===6)A=A.stateNode,p?b.insertBefore(A,p):b.appendChild(A);else if(S!==4&&(S===27&&xp(A.type)&&(b=A.stateNode),A=A.child,A!==null))for(VS(A,p,b),A=A.sibling;A!==null;)VS(A,p,b),A=A.sibling}function hM(A){var p=A.stateNode,b=A.memoizedProps;try{for(var S=A.type,_=p.attributes;_.length;)p.removeAttributeNode(_[0]);tl(p,S,b),p[Jn]=A,p[ns]=b}catch($){Es(A,A.return,$)}}var MA=!1,Ua=!1,Lj=!1,pM=typeof WeakSet=="function"?WeakSet:Set,Io=null;function mhe(A,p){if(A=A.containerInfo,sT=AC,A=kd(A),Eu(A)){if("selectionStart"in A)var b={start:A.selectionStart,end:A.selectionEnd};else e:{b=(b=A.ownerDocument)&&b.defaultView||window;var S=b.getSelection&&b.getSelection();if(S&&S.rangeCount!==0){b=S.anchorNode;var _=S.anchorOffset,$=S.focusNode;S=S.focusOffset;try{b.nodeType,$.nodeType}catch{b=null;break e}var te=0,Ae=-1,Te=-1,et=0,xt=0,Et=A,nt=null;t:for(;;){for(var ct;Et!==b||_!==0&&Et.nodeType!==3||(Ae=te+_),Et!==$||S!==0&&Et.nodeType!==3||(Te=te+S),Et.nodeType===3&&(te+=Et.nodeValue.length),(ct=Et.firstChild)!==null;)nt=Et,Et=ct;for(;;){if(Et===A)break t;if(nt===b&&++et===_&&(Ae=te),nt===$&&++xt===S&&(Te=te),(ct=Et.nextSibling)!==null)break;Et=nt,nt=Et.parentNode}Et=ct}b=Ae===-1||Te===-1?null:{start:Ae,end:Te}}else b=null}b=b||{start:0,end:0}}else b=null;for(iT={focusedElem:A,selectionRange:b},AC=!1,Io=p;Io!==null;)if(p=Io,A=p.child,(p.subtreeFlags&1028)!==0&&A!==null)A.return=p,Io=A;else for(;Io!==null;){switch(p=Io,$=p.alternate,A=p.flags,p.tag){case 0:if((A&4)!==0&&(A=p.updateQueue,A=A!==null?A.events:null,A!==null))for(b=0;b<A.length;b++)_=A[b],_.ref.impl=_.nextImpl;break;case 11:case 15:break;case 1:if((A&1024)!==0&&$!==null){A=void 0,b=p,_=$.memoizedProps,$=$.memoizedState,S=b.stateNode;try{var gn=qm(b.type,_);A=S.getSnapshotBeforeUpdate(gn,$),S.__reactInternalSnapshotBeforeUpdate=A}catch(Kn){Es(b,b.return,Kn)}}break;case 3:if((A&1024)!==0){if(A=p.stateNode.containerInfo,b=A.nodeType,b===9)lT(A);else if(b===1)switch(A.nodeName){case"HEAD":case"HTML":case"BODY":lT(A);break;default:A.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((A&1024)!==0)throw Error(r(163))}if(A=p.sibling,A!==null){A.return=p.return,Io=A;break}Io=p.return}}function mM(A,p,b){var S=b.flags;switch(b.tag){case 0:case 11:case 15:HA(A,b),S&4&&$b(5,b);break;case 1:if(HA(A,b),S&4)if(A=b.stateNode,p===null)try{A.componentDidMount()}catch(te){Es(b,b.return,te)}else{var _=qm(b.type,p.memoizedProps);p=p.memoizedState;try{A.componentDidUpdate(_,p,A.__reactInternalSnapshotBeforeUpdate)}catch(te){Es(b,b.return,te)}}S&64&&uM(b),S&512&&Pb(b,b.return);break;case 3:if(HA(A,b),S&64&&(A=b.updateQueue,A!==null)){if(p=null,b.child!==null)switch(b.child.tag){case 27:case 5:p=b.child.stateNode;break;case 1:p=b.child.stateNode}try{ua(A,p)}catch(te){Es(b,b.return,te)}}break;case 27:p===null&&S&4&&hM(b);case 26:case 5:HA(A,b),p===null&&S&4&&fM(b),S&512&&Pb(b,b.return);break;case 12:HA(A,b);break;case 31:HA(A,b),S&4&&xM(A,b);break;case 13:HA(A,b),S&4&&bM(A,b),S&64&&(A=b.memoizedState,A!==null&&(A=A.dehydrated,A!==null&&(b=khe.bind(null,b),Whe(A,b))));break;case 22:if(S=b.memoizedState!==null||MA,!S){p=p!==null&&p.memoizedState!==null||Ua,_=MA;var $=Ua;MA=S,(Ua=p)&&!$?WA(A,b,(b.subtreeFlags&8772)!==0):HA(A,b),MA=_,Ua=$}break;case 30:break;default:HA(A,b)}}function gM(A){var p=A.alternate;p!==null&&(A.alternate=null,gM(p)),A.child=null,A.deletions=null,A.sibling=null,A.tag===5&&(p=A.stateNode,p!==null&&oa(p)),A.stateNode=null,A.return=null,A.dependencies=null,A.memoizedProps=null,A.memoizedState=null,A.pendingProps=null,A.stateNode=null,A.updateQueue=null}var Ri=null,gc=!1;function QA(A,p,b){for(b=b.child;b!==null;)yM(A,p,b),b=b.sibling}function yM(A,p,b){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(On,b)}catch{}switch(b.tag){case 26:Ua||Rf(b,p),QA(A,p,b),b.memoizedState?b.memoizedState.count--:b.stateNode&&(b=b.stateNode,b.parentNode.removeChild(b));break;case 27:Ua||Rf(b,p);var S=Ri,_=gc;xp(b.type)&&(Ri=b.stateNode,gc=!1),QA(A,p,b),Gb(b.stateNode),Ri=S,gc=_;break;case 5:Ua||Rf(b,p);case 6:if(S=Ri,_=gc,Ri=null,QA(A,p,b),Ri=S,gc=_,Ri!==null)if(gc)try{(Ri.nodeType===9?Ri.body:Ri.nodeName==="HTML"?Ri.ownerDocument.body:Ri).removeChild(b.stateNode)}catch($){Es(b,p,$)}else try{Ri.removeChild(b.stateNode)}catch($){Es(b,p,$)}break;case 18:Ri!==null&&(gc?(A=Ri,u9(A.nodeType===9?A.body:A.nodeName==="HTML"?A.ownerDocument.body:A,b.stateNode),gy(A)):u9(Ri,b.stateNode));break;case 4:S=Ri,_=gc,Ri=b.stateNode.containerInfo,gc=!0,QA(A,p,b),Ri=S,gc=_;break;case 0:case 11:case 14:case 15:fp(2,b,p),Ua||fp(4,b,p),QA(A,p,b);break;case 1:Ua||(Rf(b,p),S=b.stateNode,typeof S.componentWillUnmount=="function"&&dM(b,p,S)),QA(A,p,b);break;case 21:QA(A,p,b);break;case 22:Ua=(S=Ua)||b.memoizedState!==null,QA(A,p,b),Ua=S;break;default:QA(A,p,b)}}function xM(A,p){if(p.memoizedState===null&&(A=p.alternate,A!==null&&(A=A.memoizedState,A!==null))){A=A.dehydrated;try{gy(A)}catch(b){Es(p,p.return,b)}}}function bM(A,p){if(p.memoizedState===null&&(A=p.alternate,A!==null&&(A=A.memoizedState,A!==null&&(A=A.dehydrated,A!==null))))try{gy(A)}catch(b){Es(p,p.return,b)}}function ghe(A){switch(A.tag){case 31:case 13:case 19:var p=A.stateNode;return p===null&&(p=A.stateNode=new pM),p;case 22:return A=A.stateNode,p=A._retryCache,p===null&&(p=A._retryCache=new pM),p;default:throw Error(r(435,A.tag))}}function qS(A,p){var b=ghe(A);p.forEach(function(S){if(!b.has(S)){b.add(S);var _=Bhe.bind(null,A,S);S.then(_,_)}})}function yc(A,p){var b=p.deletions;if(b!==null)for(var S=0;S<b.length;S++){var _=b[S],$=A,te=p,Ae=te;e:for(;Ae!==null;){switch(Ae.tag){case 27:if(xp(Ae.type)){Ri=Ae.stateNode,gc=!1;break e}break;case 5:Ri=Ae.stateNode,gc=!1;break e;case 3:case 4:Ri=Ae.stateNode.containerInfo,gc=!0;break e}Ae=Ae.return}if(Ri===null)throw Error(r(160));yM($,te,_),Ri=null,gc=!1,$=_.alternate,$!==null&&($.return=null),_.return=null}if(p.subtreeFlags&13886)for(p=p.child;p!==null;)vM(p,A),p=p.sibling}var Rd=null;function vM(A,p){var b=A.alternate,S=A.flags;switch(A.tag){case 0:case 11:case 14:case 15:yc(p,A),xc(A),S&4&&(fp(3,A,A.return),$b(3,A),fp(5,A,A.return));break;case 1:yc(p,A),xc(A),S&512&&(Ua||b===null||Rf(b,b.return)),S&64&&MA&&(A=A.updateQueue,A!==null&&(S=A.callbacks,S!==null&&(b=A.shared.hiddenCallbacks,A.shared.hiddenCallbacks=b===null?S:b.concat(S))));break;case 26:var _=Rd;if(yc(p,A),xc(A),S&512&&(Ua||b===null||Rf(b,b.return)),S&4){var $=b!==null?b.memoizedState:null;if(S=A.memoizedState,b===null)if(S===null)if(A.stateNode===null){e:{S=A.type,b=A.memoizedProps,_=_.ownerDocument||_;t:switch(S){case"title":$=_.getElementsByTagName("title")[0],(!$||$[sr]||$[Jn]||$.namespaceURI==="http://www.w3.org/2000/svg"||$.hasAttribute("itemprop"))&&($=_.createElement(S),_.head.insertBefore($,_.querySelector("head > title"))),tl($,S,b),$[Jn]=A,Ir($),S=$;break e;case"link":var te=v9("link","href",_).get(S+(b.href||""));if(te){for(var Ae=0;Ae<te.length;Ae++)if($=te[Ae],$.getAttribute("href")===(b.href==null||b.href===""?null:b.href)&&$.getAttribute("rel")===(b.rel==null?null:b.rel)&&$.getAttribute("title")===(b.title==null?null:b.title)&&$.getAttribute("crossorigin")===(b.crossOrigin==null?null:b.crossOrigin)){te.splice(Ae,1);break t}}$=_.createElement(S),tl($,S,b),_.head.appendChild($);break;case"meta":if(te=v9("meta","content",_).get(S+(b.content||""))){for(Ae=0;Ae<te.length;Ae++)if($=te[Ae],$.getAttribute("content")===(b.content==null?null:""+b.content)&&$.getAttribute("name")===(b.name==null?null:b.name)&&$.getAttribute("property")===(b.property==null?null:b.property)&&$.getAttribute("http-equiv")===(b.httpEquiv==null?null:b.httpEquiv)&&$.getAttribute("charset")===(b.charSet==null?null:b.charSet)){te.splice(Ae,1);break t}}$=_.createElement(S),tl($,S,b),_.head.appendChild($);break;default:throw Error(r(468,S))}$[Jn]=A,Ir($),S=$}A.stateNode=S}else w9(_,A.type,A.stateNode);else A.stateNode=b9(_,S,A.memoizedProps);else $!==S?($===null?b.stateNode!==null&&(b=b.stateNode,b.parentNode.removeChild(b)):$.count--,S===null?w9(_,A.type,A.stateNode):b9(_,S,A.memoizedProps)):S===null&&A.stateNode!==null&&Oj(A,A.memoizedProps,b.memoizedProps)}break;case 27:yc(p,A),xc(A),S&512&&(Ua||b===null||Rf(b,b.return)),b!==null&&S&4&&Oj(A,A.memoizedProps,b.memoizedProps);break;case 5:if(yc(p,A),xc(A),S&512&&(Ua||b===null||Rf(b,b.return)),A.flags&32){_=A.stateNode;try{Xo(_,"")}catch(gn){Es(A,A.return,gn)}}S&4&&A.stateNode!=null&&(_=A.memoizedProps,Oj(A,_,b!==null?b.memoizedProps:_)),S&1024&&(Lj=!0);break;case 6:if(yc(p,A),xc(A),S&4){if(A.stateNode===null)throw Error(r(162));S=A.memoizedProps,b=A.stateNode;try{b.nodeValue=S}catch(gn){Es(A,A.return,gn)}}break;case 3:if(cC=null,_=Rd,Rd=oC(p.containerInfo),yc(p,A),Rd=_,xc(A),S&4&&b!==null&&b.memoizedState.isDehydrated)try{gy(p.containerInfo)}catch(gn){Es(A,A.return,gn)}Lj&&(Lj=!1,wM(A));break;case 4:S=Rd,Rd=oC(A.stateNode.containerInfo),yc(p,A),xc(A),Rd=S;break;case 12:yc(p,A),xc(A);break;case 31:yc(p,A),xc(A),S&4&&(S=A.updateQueue,S!==null&&(A.updateQueue=null,qS(A,S)));break;case 13:yc(p,A),xc(A),A.child.flags&8192&&A.memoizedState!==null!=(b!==null&&b.memoizedState!==null)&&(KS=Ht()),S&4&&(S=A.updateQueue,S!==null&&(A.updateQueue=null,qS(A,S)));break;case 22:_=A.memoizedState!==null;var Te=b!==null&&b.memoizedState!==null,et=MA,xt=Ua;if(MA=et||_,Ua=xt||Te,yc(p,A),Ua=xt,MA=et,xc(A),S&8192)e:for(p=A.stateNode,p._visibility=_?p._visibility&-2:p._visibility|1,_&&(b===null||Te||MA||Ua||Gm(A)),b=null,p=A;;){if(p.tag===5||p.tag===26){if(b===null){Te=b=p;try{if($=Te.stateNode,_)te=$.style,typeof te.setProperty=="function"?te.setProperty("display","none","important"):te.display="none";else{Ae=Te.stateNode;var Et=Te.memoizedProps.style,nt=Et!=null&&Et.hasOwnProperty("display")?Et.display:null;Ae.style.display=nt==null||typeof nt=="boolean"?"":(""+nt).trim()}}catch(gn){Es(Te,Te.return,gn)}}}else if(p.tag===6){if(b===null){Te=p;try{Te.stateNode.nodeValue=_?"":Te.memoizedProps}catch(gn){Es(Te,Te.return,gn)}}}else if(p.tag===18){if(b===null){Te=p;try{var ct=Te.stateNode;_?d9(ct,!0):d9(Te.stateNode,!1)}catch(gn){Es(Te,Te.return,gn)}}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===A)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===A)break e;for(;p.sibling===null;){if(p.return===null||p.return===A)break e;b===p&&(b=null),p=p.return}b===p&&(b=null),p.sibling.return=p.return,p=p.sibling}S&4&&(S=A.updateQueue,S!==null&&(b=S.retryQueue,b!==null&&(S.retryQueue=null,qS(A,b))));break;case 19:yc(p,A),xc(A),S&4&&(S=A.updateQueue,S!==null&&(A.updateQueue=null,qS(A,S)));break;case 30:break;case 21:break;default:yc(p,A),xc(A)}}function xc(A){var p=A.flags;if(p&2){try{for(var b,S=A.return;S!==null;){if(AM(S)){b=S;break}S=S.return}if(b==null)throw Error(r(160));switch(b.tag){case 27:var _=b.stateNode,$=Fj(A);VS(A,$,_);break;case 5:var te=b.stateNode;b.flags&32&&(Xo(te,""),b.flags&=-33);var Ae=Fj(A);VS(A,Ae,te);break;case 3:case 4:var Te=b.stateNode.containerInfo,et=Fj(A);Dj(A,et,Te);break;default:throw Error(r(161))}}catch(xt){Es(A,A.return,xt)}A.flags&=-3}p&4096&&(A.flags&=-4097)}function wM(A){if(A.subtreeFlags&1024)for(A=A.child;A!==null;){var p=A;wM(p),p.tag===5&&p.flags&1024&&p.stateNode.reset(),A=A.sibling}}function HA(A,p){if(p.subtreeFlags&8772)for(p=p.child;p!==null;)mM(A,p.alternate,p),p=p.sibling}function Gm(A){for(A=A.child;A!==null;){var p=A;switch(p.tag){case 0:case 11:case 14:case 15:fp(4,p,p.return),Gm(p);break;case 1:Rf(p,p.return);var b=p.stateNode;typeof b.componentWillUnmount=="function"&&dM(p,p.return,b),Gm(p);break;case 27:Gb(p.stateNode);case 26:case 5:Rf(p,p.return),Gm(p);break;case 22:p.memoizedState===null&&Gm(p);break;case 30:Gm(p);break;default:Gm(p)}A=A.sibling}}function WA(A,p,b){for(b=b&&(p.subtreeFlags&8772)!==0,p=p.child;p!==null;){var S=p.alternate,_=A,$=p,te=$.flags;switch($.tag){case 0:case 11:case 15:WA(_,$,b),$b(4,$);break;case 1:if(WA(_,$,b),S=$,_=S.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(et){Es(S,S.return,et)}if(S=$,_=S.updateQueue,_!==null){var Ae=S.stateNode;try{var Te=_.shared.hiddenCallbacks;if(Te!==null)for(_.shared.hiddenCallbacks=null,_=0;_<Te.length;_++)Bo(Te[_],Ae)}catch(et){Es(S,S.return,et)}}b&&te&64&&uM($),Pb($,$.return);break;case 27:hM($);case 26:case 5:WA(_,$,b),b&&S===null&&te&4&&fM($),Pb($,$.return);break;case 12:WA(_,$,b);break;case 31:WA(_,$,b),b&&te&4&&xM(_,$);break;case 13:WA(_,$,b),b&&te&4&&bM(_,$);break;case 22:$.memoizedState===null&&WA(_,$,b),Pb($,$.return);break;case 30:break;default:WA(_,$,b)}p=p.sibling}}function $j(A,p){var b=null;A!==null&&A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(b=A.memoizedState.cachePool.pool),A=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(A=p.memoizedState.cachePool.pool),A!==b&&(A!=null&&A.refCount++,b!=null&&Qm(b))}function Pj(A,p){A=null,p.alternate!==null&&(A=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==A&&(p.refCount++,A!=null&&Qm(A))}function Od(A,p,b,S){if(p.subtreeFlags&10256)for(p=p.child;p!==null;)SM(A,p,b,S),p=p.sibling}function SM(A,p,b,S){var _=p.flags;switch(p.tag){case 0:case 11:case 15:Od(A,p,b,S),_&2048&&$b(9,p);break;case 1:Od(A,p,b,S);break;case 3:Od(A,p,b,S),_&2048&&(A=null,p.alternate!==null&&(A=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==A&&(p.refCount++,A!=null&&Qm(A)));break;case 12:if(_&2048){Od(A,p,b,S),A=p.stateNode;try{var $=p.memoizedProps,te=$.id,Ae=$.onPostCommit;typeof Ae=="function"&&Ae(te,p.alternate===null?"mount":"update",A.passiveEffectDuration,-0)}catch(Te){Es(p,p.return,Te)}}else Od(A,p,b,S);break;case 31:Od(A,p,b,S);break;case 13:Od(A,p,b,S);break;case 23:break;case 22:$=p.stateNode,te=p.alternate,p.memoizedState!==null?$._visibility&2?Od(A,p,b,S):Ub(A,p):$._visibility&2?Od(A,p,b,S):($._visibility|=2,ay(A,p,b,S,(p.subtreeFlags&10256)!==0||!1)),_&2048&&$j(te,p);break;case 24:Od(A,p,b,S),_&2048&&Pj(p.alternate,p);break;default:Od(A,p,b,S)}}function ay(A,p,b,S,_){for(_=_&&((p.subtreeFlags&10256)!==0||!1),p=p.child;p!==null;){var $=A,te=p,Ae=b,Te=S,et=te.flags;switch(te.tag){case 0:case 11:case 15:ay($,te,Ae,Te,_),$b(8,te);break;case 23:break;case 22:var xt=te.stateNode;te.memoizedState!==null?xt._visibility&2?ay($,te,Ae,Te,_):Ub($,te):(xt._visibility|=2,ay($,te,Ae,Te,_)),_&&et&2048&&$j(te.alternate,te);break;case 24:ay($,te,Ae,Te,_),_&&et&2048&&Pj(te.alternate,te);break;default:ay($,te,Ae,Te,_)}p=p.sibling}}function Ub(A,p){if(p.subtreeFlags&10256)for(p=p.child;p!==null;){var b=A,S=p,_=S.flags;switch(S.tag){case 22:Ub(b,S),_&2048&&$j(S.alternate,S);break;case 24:Ub(b,S),_&2048&&Pj(S.alternate,S);break;default:Ub(b,S)}p=p.sibling}}var zb=8192;function oy(A,p,b){if(A.subtreeFlags&zb)for(A=A.child;A!==null;)CM(A,p,b),A=A.sibling}function CM(A,p,b){switch(A.tag){case 26:oy(A,p,b),A.flags&zb&&A.memoizedState!==null&&rpe(b,Rd,A.memoizedState,A.memoizedProps);break;case 5:oy(A,p,b);break;case 3:case 4:var S=Rd;Rd=oC(A.stateNode.containerInfo),oy(A,p,b),Rd=S;break;case 22:A.memoizedState===null&&(S=A.alternate,S!==null&&S.memoizedState!==null?(S=zb,zb=16777216,oy(A,p,b),zb=S):oy(A,p,b));break;default:oy(A,p,b)}}function kM(A){var p=A.alternate;if(p!==null&&(A=p.child,A!==null)){p.child=null;do p=A.sibling,A.sibling=null,A=p;while(A!==null)}}function Mb(A){var p=A.deletions;if((A.flags&16)!==0){if(p!==null)for(var b=0;b<p.length;b++){var S=p[b];Io=S,EM(S,A)}kM(A)}if(A.subtreeFlags&10256)for(A=A.child;A!==null;)BM(A),A=A.sibling}function BM(A){switch(A.tag){case 0:case 11:case 15:Mb(A),A.flags&2048&&fp(9,A,A.return);break;case 3:Mb(A);break;case 12:Mb(A);break;case 22:var p=A.stateNode;A.memoizedState!==null&&p._visibility&2&&(A.return===null||A.return.tag!==13)?(p._visibility&=-3,GS(A)):Mb(A);break;default:Mb(A)}}function GS(A){var p=A.deletions;if((A.flags&16)!==0){if(p!==null)for(var b=0;b<p.length;b++){var S=p[b];Io=S,EM(S,A)}kM(A)}for(A=A.child;A!==null;){switch(p=A,p.tag){case 0:case 11:case 15:fp(8,p,p.return),GS(p);break;case 22:b=p.stateNode,b._visibility&2&&(b._visibility&=-3,GS(p));break;default:GS(p)}A=A.sibling}}function EM(A,p){for(;Io!==null;){var b=Io;switch(b.tag){case 0:case 11:case 15:fp(8,b,p);break;case 23:case 22:if(b.memoizedState!==null&&b.memoizedState.cachePool!==null){var S=b.memoizedState.cachePool.pool;S!=null&&S.refCount++}break;case 24:Qm(b.memoizedState.cache)}if(S=b.child,S!==null)S.return=b,Io=S;else e:for(b=A;Io!==null;){S=Io;var _=S.sibling,$=S.return;if(gM(S),S===b){Io=null;break e}if(_!==null){_.return=$,Io=_;break e}Io=$}}}var yhe={getCacheForType:function(A){var p=io(ra),b=p.data.get(A);return b===void 0&&(b=A(),p.data.set(A,b)),b},cacheSignal:function(){return io(ra).controller.signal}},xhe=typeof WeakMap=="function"?WeakMap:Map,hs=0,Ks=null,_r=null,Ur=0,Bs=0,Xc=null,Ap=!1,ly=!1,Uj=!1,VA=0,ha=0,hp=0,Km=0,zj=0,Yc=0,cy=0,Qb=null,bc=null,Mj=!1,KS=0,IM=0,XS=1/0,YS=null,pp=null,oo=0,mp=null,uy=null,qA=0,Qj=0,Hj=null,NM=null,Hb=0,Wj=null;function Jc(){return(hs&2)!==0&&Ur!==0?Ur&-Ur:q.T!==null?Yj():Bt()}function jM(){if(Yc===0)if((Ur&536870912)===0||Tr){var A=Lt;Lt<<=1,(Lt&3932160)===0&&(Lt=262144),Yc=A}else Yc=536870912;return A=hi.current,A!==null&&(A.flags|=32),Yc}function vc(A,p,b){(A===Ks&&(Bs===2||Bs===9)||A.cancelPendingCommit!==null)&&(dy(A,0),gp(A,Ur,Yc,!1)),cn(A,b),((hs&2)===0||A!==Ks)&&(A===Ks&&((hs&2)===0&&(Km|=b),ha===4&&gp(A,Ur,Yc,!1)),Of(A))}function TM(A,p,b){if((hs&6)!==0)throw Error(r(327));var S=!b&&(p&127)===0&&(p&A.expiredLanes)===0||pr(A,p),_=S?whe(A,p):qj(A,p,!0),$=S;do{if(_===0){ly&&!S&&gp(A,p,0,!1);break}else{if(b=A.current.alternate,$&&!bhe(b)){_=qj(A,p,!1),$=!1;continue}if(_===2){if($=p,A.errorRecoveryDisabledLanes&$)var te=0;else te=A.pendingLanes&-536870913,te=te!==0?te:te&536870912?536870912:0;if(te!==0){p=te;e:{var Ae=A;_=Qb;var Te=Ae.current.memoizedState.isDehydrated;if(Te&&(dy(Ae,te).flags|=256),te=qj(Ae,te,!1),te!==2){if(Uj&&!Te){Ae.errorRecoveryDisabledLanes|=$,Km|=$,_=4;break e}$=bc,bc=_,$!==null&&(bc===null?bc=$:bc.push.apply(bc,$))}_=te}if($=!1,_!==2)continue}}if(_===1){dy(A,0),gp(A,p,0,!0);break}e:{switch(S=A,$=_,$){case 0:case 1:throw Error(r(345));case 4:if((p&4194048)!==p)break;case 6:gp(S,p,Yc,!Ap);break e;case 2:bc=null;break;case 3:case 5:break;default:throw Error(r(329))}if((p&62914560)===p&&(_=KS+300-Ht(),10<_)){if(gp(S,p,Yc,!Ap),dt(S,0,!0)!==0)break e;qA=p,S.timeoutHandle=l9(_M.bind(null,S,b,bc,YS,Mj,p,Yc,Km,cy,Ap,$,"Throttled",-0,0),_);break e}_M(S,b,bc,YS,Mj,p,Yc,Km,cy,Ap,$,null,-0,0)}}break}while(!0);Of(A)}function _M(A,p,b,S,_,$,te,Ae,Te,et,xt,Et,nt,ct){if(A.timeoutHandle=-1,Et=p.subtreeFlags,Et&8192||(Et&16785408)===16785408){Et={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:eo},CM(p,$,Et);var gn=($&62914560)===$?KS-Ht():($&4194048)===$?IM-Ht():0;if(gn=spe(Et,gn),gn!==null){qA=$,A.cancelPendingCommit=gn(UM.bind(null,A,p,$,b,S,_,te,Ae,Te,xt,Et,null,nt,ct)),gp(A,$,te,!et);return}}UM(A,p,$,b,S,_,te,Ae,Te)}function bhe(A){for(var p=A;;){var b=p.tag;if((b===0||b===11||b===15)&&p.flags&16384&&(b=p.updateQueue,b!==null&&(b=b.stores,b!==null)))for(var S=0;S<b.length;S++){var _=b[S],$=_.getSnapshot;_=_.value;try{if(!to($(),_))return!1}catch{return!1}}if(b=p.child,p.subtreeFlags&16384&&b!==null)b.return=p,p=b;else{if(p===A)break;for(;p.sibling===null;){if(p.return===null||p.return===A)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function gp(A,p,b,S){p&=~zj,p&=~Km,A.suspendedLanes|=p,A.pingedLanes&=~p,S&&(A.warmLanes|=p),S=A.expirationTimes;for(var _=p;0<_;){var $=31-ke(_),te=1<<$;S[$]=-1,_&=~te}b!==0&&Cs(A,b,p)}function JS(){return(hs&6)===0?(Wb(0),!1):!0}function Vj(){if(_r!==null){if(Bs===0)var A=_r.return;else A=_r,Nu=kf=null,Z0(A),Nt=null,bn=0,A=_r;for(;A!==null;)cM(A.alternate,A),A=A.return;_r=null}}function dy(A,p){var b=A.timeoutHandle;b!==-1&&(A.timeoutHandle=-1,Uhe(b)),b=A.cancelPendingCommit,b!==null&&(A.cancelPendingCommit=null,b()),qA=0,Vj(),Ks=A,_r=b=cc(A.current,null),Ur=p,Bs=0,Xc=null,Ap=!1,ly=pr(A,p),Uj=!1,cy=Yc=zj=Km=hp=ha=0,bc=Qb=null,Mj=!1,(p&8)!==0&&(p|=p&32);var S=A.entangledLanes;if(S!==0)for(A=A.entanglements,S&=p;0<S;){var _=31-ke(S),$=1<<_;p|=A[_],S&=~$}return VA=p,Lm(),b}function RM(A,p){Ln=null,q.H=Fb,p===De||p===we?(p=vt(),Bs=3):p===Je?(p=vt(),Bs=4):Bs=p===Cj?8:p!==null&&typeof p=="object"&&typeof p.then=="function"?6:1,Xc=p,_r===null&&(ha=1,zS(A,uc(p,A.current)))}function OM(){var A=hi.current;return A===null?!0:(Ur&4194048)===Ur?Xr===null:(Ur&62914560)===Ur||(Ur&536870912)!==0?A===Xr:!1}function FM(){var A=q.H;return q.H=Fb,A===null?Fb:A}function DM(){var A=q.A;return q.A=yhe,A}function ZS(){ha=4,Ap||(Ur&4194048)!==Ur&&hi.current!==null||(ly=!0),(hp&134217727)===0&&(Km&134217727)===0||Ks===null||gp(Ks,Ur,Yc,!1)}function qj(A,p,b){var S=hs;hs|=2;var _=FM(),$=DM();(Ks!==A||Ur!==p)&&(YS=null,dy(A,p)),p=!1;var te=ha;e:do try{if(Bs!==0&&_r!==null){var Ae=_r,Te=Xc;switch(Bs){case 8:Vj(),te=6;break e;case 3:case 2:case 9:case 6:hi.current===null&&(p=!0);var et=Bs;if(Bs=0,Xc=null,fy(A,Ae,Te,et),b&&ly){te=0;break e}break;default:et=Bs,Bs=0,Xc=null,fy(A,Ae,Te,et)}}vhe(),te=ha;break}catch(xt){RM(A,xt)}while(!0);return p&&A.shellSuspendCounter++,Nu=kf=null,hs=S,q.H=_,q.A=$,_r===null&&(Ks=null,Ur=0,Lm()),te}function vhe(){for(;_r!==null;)LM(_r)}function whe(A,p){var b=hs;hs|=2;var S=FM(),_=DM();Ks!==A||Ur!==p?(YS=null,XS=Ht()+500,dy(A,p)):ly=pr(A,p);e:do try{if(Bs!==0&&_r!==null){p=_r;var $=Xc;t:switch(Bs){case 1:Bs=0,Xc=null,fy(A,p,$,1);break;case 2:case 9:if(Ke($)){Bs=0,Xc=null,$M(p);break}p=function(){Bs!==2&&Bs!==9||Ks!==A||(Bs=7),Of(A)},$.then(p,p);break e;case 3:Bs=7;break e;case 4:Bs=5;break e;case 7:Ke($)?(Bs=0,Xc=null,$M(p)):(Bs=0,Xc=null,fy(A,p,$,7));break;case 5:var te=null;switch(_r.tag){case 26:te=_r.memoizedState;case 5:case 27:var Ae=_r;if(te?S9(te):Ae.stateNode.complete){Bs=0,Xc=null;var Te=Ae.sibling;if(Te!==null)_r=Te;else{var et=Ae.return;et!==null?(_r=et,eC(et)):_r=null}break t}}Bs=0,Xc=null,fy(A,p,$,5);break;case 6:Bs=0,Xc=null,fy(A,p,$,6);break;case 8:Vj(),ha=6;break e;default:throw Error(r(462))}}She();break}catch(xt){RM(A,xt)}while(!0);return Nu=kf=null,q.H=S,q.A=_,hs=b,_r!==null?0:(Ks=null,Ur=0,Lm(),ha)}function She(){for(;_r!==null&&!$t();)LM(_r)}function LM(A){var p=oM(A.alternate,A,VA);A.memoizedProps=A.pendingProps,p===null?eC(A):_r=p}function $M(A){var p=A,b=p.alternate;switch(p.tag){case 15:case 0:p=tM(b,p,p.pendingProps,p.type,void 0,Ur);break;case 11:p=tM(b,p,p.pendingProps,p.type.render,p.ref,Ur);break;case 5:Z0(p);default:cM(b,p),p=_r=Um(p,VA),p=oM(b,p,VA)}A.memoizedProps=A.pendingProps,p===null?eC(A):_r=p}function fy(A,p,b,S){Nu=kf=null,Z0(p),Nt=null,bn=0;var _=p.return;try{if(dhe(A,_,p,b,Ur)){ha=1,zS(A,uc(b,A.current)),_r=null;return}}catch($){if(_!==null)throw _r=_,$;ha=1,zS(A,uc(b,A.current)),_r=null;return}p.flags&32768?(Tr||S===1?A=!0:ly||(Ur&536870912)!==0?A=!1:(Ap=A=!0,(S===2||S===9||S===3||S===6)&&(S=hi.current,S!==null&&S.tag===13&&(S.flags|=16384))),PM(p,A)):eC(p)}function eC(A){var p=A;do{if((p.flags&32768)!==0){PM(p,Ap);return}A=p.return;var b=hhe(p.alternate,p,VA);if(b!==null){_r=b;return}if(p=p.sibling,p!==null){_r=p;return}_r=p=A}while(p!==null);ha===0&&(ha=5)}function PM(A,p){do{var b=phe(A.alternate,A);if(b!==null){b.flags&=32767,_r=b;return}if(b=A.return,b!==null&&(b.flags|=32768,b.subtreeFlags=0,b.deletions=null),!p&&(A=A.sibling,A!==null)){_r=A;return}_r=A=b}while(A!==null);ha=6,_r=null}function UM(A,p,b,S,_,$,te,Ae,Te){A.cancelPendingCommit=null;do tC();while(oo!==0);if((hs&6)!==0)throw Error(r(327));if(p!==null){if(p===A.current)throw Error(r(177));if($=p.lanes|p.childLanes,$|=P0,Ki(A,b,$,te,Ae,Te),A===Ks&&(_r=Ks=null,Ur=0),uy=p,mp=A,qA=b,Qj=$,Hj=_,NM=S,(p.subtreeFlags&10256)!==0||(p.flags&10256)!==0?(A.callbackNode=null,A.callbackPriority=0,Ehe(fn,function(){return WM(),null})):(A.callbackNode=null,A.callbackPriority=0),S=(p.flags&13878)!==0,(p.subtreeFlags&13878)!==0||S){S=q.T,q.T=null,_=Z.p,Z.p=2,te=hs,hs|=4;try{mhe(A,p,b)}finally{hs=te,Z.p=_,q.T=S}}oo=1,zM(),MM(),QM()}}function zM(){if(oo===1){oo=0;var A=mp,p=uy,b=(p.flags&13878)!==0;if((p.subtreeFlags&13878)!==0||b){b=q.T,q.T=null;var S=Z.p;Z.p=2;var _=hs;hs|=4;try{vM(p,A);var $=iT,te=kd(A.containerInfo),Ae=$.focusedElem,Te=$.selectionRange;if(te!==Ae&&Ae&&Ae.ownerDocument&&Cd(Ae.ownerDocument.documentElement,Ae)){if(Te!==null&&Eu(Ae)){var et=Te.start,xt=Te.end;if(xt===void 0&&(xt=et),"selectionStart"in Ae)Ae.selectionStart=et,Ae.selectionEnd=Math.min(xt,Ae.value.length);else{var Et=Ae.ownerDocument||document,nt=Et&&Et.defaultView||window;if(nt.getSelection){var ct=nt.getSelection(),gn=Ae.textContent.length,Kn=Math.min(Te.start,gn),zs=Te.end===void 0?Kn:Math.min(Te.end,gn);!ct.extend&&Kn>zs&&(te=zs,zs=Kn,Kn=te);var We=tp(Ae,Kn),ze=tp(Ae,zs);if(We&&ze&&(ct.rangeCount!==1||ct.anchorNode!==We.node||ct.anchorOffset!==We.offset||ct.focusNode!==ze.node||ct.focusOffset!==ze.offset)){var Ze=Et.createRange();Ze.setStart(We.node,We.offset),ct.removeAllRanges(),Kn>zs?(ct.addRange(Ze),ct.extend(ze.node,ze.offset)):(Ze.setEnd(ze.node,ze.offset),ct.addRange(Ze))}}}}for(Et=[],ct=Ae;ct=ct.parentNode;)ct.nodeType===1&&Et.push({element:ct,left:ct.scrollLeft,top:ct.scrollTop});for(typeof Ae.focus=="function"&&Ae.focus(),Ae=0;Ae<Et.length;Ae++){var wt=Et[Ae];wt.element.scrollLeft=wt.left,wt.element.scrollTop=wt.top}}AC=!!sT,iT=sT=null}finally{hs=_,Z.p=S,q.T=b}}A.current=p,oo=2}}function MM(){if(oo===2){oo=0;var A=mp,p=uy,b=(p.flags&8772)!==0;if((p.subtreeFlags&8772)!==0||b){b=q.T,q.T=null;var S=Z.p;Z.p=2;var _=hs;hs|=4;try{mM(A,p.alternate,p)}finally{hs=_,Z.p=S,q.T=b}}oo=3}}function QM(){if(oo===4||oo===3){oo=0,kt();var A=mp,p=uy,b=qA,S=NM;(p.subtreeFlags&10256)!==0||(p.flags&10256)!==0?oo=5:(oo=0,uy=mp=null,HM(A,A.pendingLanes));var _=A.pendingLanes;if(_===0&&(pp=null),Er(b),p=p.stateNode,Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(On,p,void 0,(p.current.flags&128)===128)}catch{}if(S!==null){p=q.T,_=Z.p,Z.p=2,q.T=null;try{for(var $=A.onRecoverableError,te=0;te<S.length;te++){var Ae=S[te];$(Ae.value,{componentStack:Ae.stack})}}finally{q.T=p,Z.p=_}}(qA&3)!==0&&tC(),Of(A),_=A.pendingLanes,(b&261930)!==0&&(_&42)!==0?A===Wj?Hb++:(Hb=0,Wj=A):Hb=0,Wb(0)}}function HM(A,p){(A.pooledCacheLanes&=p)===0&&(p=A.pooledCache,p!=null&&(A.pooledCache=null,Qm(p)))}function tC(){return zM(),MM(),QM(),WM()}function WM(){if(oo!==5)return!1;var A=mp,p=Qj;Qj=0;var b=Er(qA),S=q.T,_=Z.p;try{Z.p=32>b?32:b,q.T=null,b=Hj,Hj=null;var $=mp,te=qA;if(oo=0,uy=mp=null,qA=0,(hs&6)!==0)throw Error(r(331));var Ae=hs;if(hs|=4,BM($.current),SM($,$.current,te,b),hs=Ae,Wb(0,!1),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(On,$)}catch{}return!0}finally{Z.p=_,q.T=S,HM(A,p)}}function VM(A,p,b){p=uc(b,p),p=Sj(A.stateNode,p,2),A=lr(A,p,2),A!==null&&(cn(A,2),Of(A))}function Es(A,p,b){if(A.tag===3)VM(A,A,b);else for(;p!==null;){if(p.tag===3){VM(p,A,b);break}else if(p.tag===1){var S=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(pp===null||!pp.has(S))){A=uc(b,A),b=qz(2),S=lr(p,b,2),S!==null&&(Gz(b,S,p,A),cn(S,2),Of(S));break}}p=p.return}}function Gj(A,p,b){var S=A.pingCache;if(S===null){S=A.pingCache=new xhe;var _=new Set;S.set(p,_)}else _=S.get(p),_===void 0&&(_=new Set,S.set(p,_));_.has(b)||(Uj=!0,_.add(b),A=Che.bind(null,A,p,b),p.then(A,A))}function Che(A,p,b){var S=A.pingCache;S!==null&&S.delete(p),A.pingedLanes|=A.suspendedLanes&b,A.warmLanes&=~b,Ks===A&&(Ur&b)===b&&(ha===4||ha===3&&(Ur&62914560)===Ur&&300>Ht()-KS?(hs&2)===0&&dy(A,0):zj|=b,cy===Ur&&(cy=0)),Of(A)}function qM(A,p){p===0&&(p=Hn()),A=Ed(A,p),A!==null&&(cn(A,p),Of(A))}function khe(A){var p=A.memoizedState,b=0;p!==null&&(b=p.retryLane),qM(A,b)}function Bhe(A,p){var b=0;switch(A.tag){case 31:case 13:var S=A.stateNode,_=A.memoizedState;_!==null&&(b=_.retryLane);break;case 19:S=A.stateNode;break;case 22:S=A.stateNode._retryCache;break;default:throw Error(r(314))}S!==null&&S.delete(p),qM(A,b)}function Ehe(A,p){return At(A,p)}var nC=null,Ay=null,Kj=!1,rC=!1,Xj=!1,yp=0;function Of(A){A!==Ay&&A.next===null&&(Ay===null?nC=Ay=A:Ay=Ay.next=A),rC=!0,Kj||(Kj=!0,Nhe())}function Wb(A,p){if(!Xj&&rC){Xj=!0;do for(var b=!1,S=nC;S!==null;){if(A!==0){var _=S.pendingLanes;if(_===0)var $=0;else{var te=S.suspendedLanes,Ae=S.pingedLanes;$=(1<<31-ke(42|A)+1)-1,$&=_&~(te&~Ae),$=$&201326741?$&201326741|1:$?$|2:0}$!==0&&(b=!0,YM(S,$))}else $=Ur,$=dt(S,S===Ks?$:0,S.cancelPendingCommit!==null||S.timeoutHandle!==-1),($&3)===0||pr(S,$)||(b=!0,YM(S,$));S=S.next}while(b);Xj=!1}}function Ihe(){GM()}function GM(){rC=Kj=!1;var A=0;yp!==0&&Phe()&&(A=yp);for(var p=Ht(),b=null,S=nC;S!==null;){var _=S.next,$=KM(S,p);$===0?(S.next=null,b===null?nC=_:b.next=_,_===null&&(Ay=b)):(b=S,(A!==0||($&3)!==0)&&(rC=!0)),S=_}oo!==0&&oo!==5||Wb(A),yp!==0&&(yp=0)}function KM(A,p){for(var b=A.suspendedLanes,S=A.pingedLanes,_=A.expirationTimes,$=A.pendingLanes&-62914561;0<$;){var te=31-ke($),Ae=1<<te,Te=_[te];Te===-1?((Ae&b)===0||(Ae&S)!==0)&&(_[te]=Gr(Ae,p)):Te<=p&&(A.expiredLanes|=Ae),$&=~Ae}if(p=Ks,b=Ur,b=dt(A,A===p?b:0,A.cancelPendingCommit!==null||A.timeoutHandle!==-1),S=A.callbackNode,b===0||A===p&&(Bs===2||Bs===9)||A.cancelPendingCommit!==null)return S!==null&&S!==null&&ot(S),A.callbackNode=null,A.callbackPriority=0;if((b&3)===0||pr(A,b)){if(p=b&-b,p===A.callbackPriority)return p;switch(S!==null&&ot(S),Er(b)){case 2:case 8:b=en;break;case 32:b=fn;break;case 268435456:b=rn;break;default:b=fn}return S=XM.bind(null,A),b=At(b,S),A.callbackPriority=p,A.callbackNode=b,p}return S!==null&&S!==null&&ot(S),A.callbackPriority=2,A.callbackNode=null,2}function XM(A,p){if(oo!==0&&oo!==5)return A.callbackNode=null,A.callbackPriority=0,null;var b=A.callbackNode;if(tC()&&A.callbackNode!==b)return null;var S=Ur;return S=dt(A,A===Ks?S:0,A.cancelPendingCommit!==null||A.timeoutHandle!==-1),S===0?null:(TM(A,S,p),KM(A,Ht()),A.callbackNode!=null&&A.callbackNode===b?XM.bind(null,A):null)}function YM(A,p){if(tC())return null;TM(A,p,!0)}function Nhe(){zhe(function(){(hs&6)!==0?At(zt,Ihe):GM()})}function Yj(){if(yp===0){var A=I;A===0&&(A=_t,_t<<=1,(_t&261888)===0&&(_t=256)),yp=A}return yp}function JM(A){return A==null||typeof A=="symbol"||typeof A=="boolean"?null:typeof A=="function"?A:li(""+A)}function ZM(A,p){var b=p.ownerDocument.createElement("input");return b.name=p.name,b.value=p.value,A.id&&b.setAttribute("form",A.id),p.parentNode.insertBefore(b,p),A=new FormData(A),b.parentNode.removeChild(b),A}function jhe(A,p,b,S,_){if(p==="submit"&&b&&b.stateNode===_){var $=JM((_[ns]||null).action),te=S.submitter;te&&(p=(p=te[ns]||null)?JM(p.formAction):te.getAttribute("formAction"),p!==null&&($=p,te=null));var Ae=new Nr("action","action",null,S,_);A.push({event:Ae,listeners:[{instance:null,listener:function(){if(S.defaultPrevented){if(yp!==0){var Te=te?ZM(_,te):new FormData(_);gj(b,{pending:!0,data:Te,method:_.method,action:$},null,Te)}}else typeof $=="function"&&(Ae.preventDefault(),Te=te?ZM(_,te):new FormData(_),gj(b,{pending:!0,data:Te,method:_.method,action:$},$,Te))},currentTarget:_}]})}}for(var Jj=0;Jj<_A.length;Jj++){var Zj=_A[Jj],The=Zj.toLowerCase(),_he=Zj[0].toUpperCase()+Zj.slice(1);lc(The,"on"+_he)}lc(TA,"onAnimationEnd"),lc(Fm,"onAnimationIteration"),lc(bb,"onAnimationStart"),lc("dblclick","onDoubleClick"),lc("focusin","onFocus"),lc("focusout","onBlur"),lc(IS,"onTransitionRun"),lc(NS,"onTransitionStart"),lc(jS,"onTransitionCancel"),lc(vb,"onTransitionEnd"),gt("onMouseEnter",["mouseout","mouseover"]),gt("onMouseLeave",["mouseout","mouseover"]),gt("onPointerEnter",["pointerout","pointerover"]),gt("onPointerLeave",["pointerout","pointerover"]),st("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),st("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),st("onBeforeInput",["compositionend","keypress","textInput","paste"]),st("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),st("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),st("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vb="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rhe=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vb));function e9(A,p){p=(p&4)!==0;for(var b=0;b<A.length;b++){var S=A[b],_=S.event;S=S.listeners;e:{var $=void 0;if(p)for(var te=S.length-1;0<=te;te--){var Ae=S[te],Te=Ae.instance,et=Ae.currentTarget;if(Ae=Ae.listener,Te!==$&&_.isPropagationStopped())break e;$=Ae,_.currentTarget=et;try{$(_)}catch(xt){Dm(xt)}_.currentTarget=null,$=Te}else for(te=0;te<S.length;te++){if(Ae=S[te],Te=Ae.instance,et=Ae.currentTarget,Ae=Ae.listener,Te!==$&&_.isPropagationStopped())break e;$=Ae,_.currentTarget=et;try{$(_)}catch(xt){Dm(xt)}_.currentTarget=null,$=Te}}}}function Rr(A,p){var b=p[ft];b===void 0&&(b=p[ft]=new Set);var S=A+"__bubble";b.has(S)||(t9(p,A,2,!1),b.add(S))}function eT(A,p,b){var S=0;p&&(S|=4),t9(b,A,S,p)}var sC="_reactListening"+Math.random().toString(36).slice(2);function tT(A){if(!A[sC]){A[sC]=!0,ti.forEach(function(b){b!=="selectionchange"&&(Rhe.has(b)||eT(b,!1,A),eT(b,!0,A))});var p=A.nodeType===9?A:A.ownerDocument;p===null||p[sC]||(p[sC]=!0,eT("selectionchange",!1,p))}}function t9(A,p,b,S){switch(j9(p)){case 2:var _=ope;break;case 8:_=lpe;break;default:_=mT}b=_.bind(null,p,b,A),_=void 0,!md||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(_=!0),S?_!==void 0?A.addEventListener(p,b,{capture:!0,passive:_}):A.addEventListener(p,b,!0):_!==void 0?A.addEventListener(p,b,{passive:_}):A.addEventListener(p,b,!1)}function nT(A,p,b,S,_){var $=S;if((p&1)===0&&(p&2)===0&&S!==null)e:for(;;){if(S===null)return;var te=S.tag;if(te===3||te===4){var Ae=S.stateNode.containerInfo;if(Ae===_)break;if(te===4)for(te=S.return;te!==null;){var Te=te.tag;if((Te===3||Te===4)&&te.stateNode.containerInfo===_)return;te=te.return}for(;Ae!==null;){if(te=Qr(Ae),te===null)return;if(Te=te.tag,Te===5||Te===6||Te===26||Te===27){S=$=te;continue e}Ae=Ae.parentNode}}S=S.return}bu(function(){var et=$,xt=mn(b),Et=[];e:{var nt=wb.get(A);if(nt!==void 0){var ct=Nr,gn=A;switch(A){case"keypress":if(Ge(b)===0)break e;case"keydown":case"keyup":ct=jr;break;case"focusin":gn="focus",ct=Hc;break;case"focusout":gn="blur",ct=Hc;break;case"beforeblur":case"afterblur":ct=Hc;break;case"click":if(b.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ct=NA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ct=Qc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ct=Zi;break;case TA:case Fm:case bb:ct=M;break;case vb:ct=la;break;case"scroll":case"scrollend":ct=gd;break;case"wheel":ct=Dl;break;case"copy":case"cut":case"paste":ct=Se;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ct=ui;break;case"toggle":case"beforetoggle":ct=wu}var Kn=(p&4)!==0,zs=!Kn&&(A==="scroll"||A==="scrollend"),We=Kn?nt!==null?nt+"Capture":null:nt;Kn=[];for(var ze=et,Ze;ze!==null;){var wt=ze;if(Ze=wt.stateNode,wt=wt.tag,wt!==5&&wt!==26&&wt!==27||Ze===null||We===null||(wt=Ei(ze,We),wt!=null&&Kn.push(qb(ze,wt,Ze))),zs)break;ze=ze.return}0<Kn.length&&(nt=new ct(nt,gn,null,b,xt),Et.push({event:nt,listeners:Kn}))}}if((p&7)===0){e:{if(nt=A==="mouseover"||A==="pointerover",ct=A==="mouseout"||A==="pointerout",nt&&b!==Uc&&(gn=b.relatedTarget||b.fromElement)&&(Qr(gn)||gn[Ci]))break e;if((ct||nt)&&(nt=xt.window===xt?xt:(nt=xt.ownerDocument)?nt.defaultView||nt.parentWindow:window,ct?(gn=b.relatedTarget||b.toElement,ct=et,gn=gn?Qr(gn):null,gn!==null&&(zs=i(gn),Kn=gn.tag,gn!==zs||Kn!==5&&Kn!==27&&Kn!==6)&&(gn=null)):(ct=null,gn=et),ct!==gn)){if(Kn=NA,wt="onMouseLeave",We="onMouseEnter",ze="mouse",(A==="pointerout"||A==="pointerover")&&(Kn=ui,wt="onPointerLeave",We="onPointerEnter",ze="pointer"),zs=ct==null?nt:Pr(ct),Ze=gn==null?nt:Pr(gn),nt=new Kn(wt,ze+"leave",ct,b,xt),nt.target=zs,nt.relatedTarget=Ze,wt=null,Qr(xt)===et&&(Kn=new Kn(We,ze+"enter",gn,b,xt),Kn.target=Ze,Kn.relatedTarget=zs,wt=Kn),zs=wt,ct&&gn)t:{for(Kn=Ohe,We=ct,ze=gn,Ze=0,wt=We;wt;wt=Kn(wt))Ze++;wt=0;for(var Un=ze;Un;Un=Kn(Un))wt++;for(;0<Ze-wt;)We=Kn(We),Ze--;for(;0<wt-Ze;)ze=Kn(ze),wt--;for(;Ze--;){if(We===ze||ze!==null&&We===ze.alternate){Kn=We;break t}We=Kn(We),ze=Kn(ze)}Kn=null}else Kn=null;ct!==null&&n9(Et,nt,ct,Kn,!1),gn!==null&&zs!==null&&n9(Et,zs,gn,Kn,!0)}}e:{if(nt=et?Pr(et):window,ct=nt.nodeName&&nt.nodeName.toLowerCase(),ct==="select"||ct==="input"&&nt.type==="file")var ls=vf;else if(bd(nt))if(fl)ls=ku;else{ls=ta;var Nn=Zh}else ct=nt.nodeName,!ct||ct.toLowerCase()!=="input"||nt.type!=="checkbox"&&nt.type!=="radio"?et&&Fl(et.elementType)&&(ls=vf):ls=$0;if(ls&&(ls=ls(A,et))){ea(Et,ls,b,xt);break e}Nn&&Nn(A,nt,et),A==="focusout"&&et&&nt.type==="number"&&et.memoizedProps.value!=null&&EA(nt,"number",nt.value)}switch(Nn=et?Pr(et):window,A){case"focusin":(bd(Nn)||Nn.contentEditable==="true")&&(Pl=Nn,Bd=et,So=null);break;case"focusout":So=Bd=Pl=null;break;case"mousedown":oc=!0;break;case"contextmenu":case"mouseup":case"dragend":oc=!1,ss(Et,b,xt);break;case"selectionchange":if(jA)break;case"keydown":case"keyup":ss(Et,b,xt)}var dr;if(Ll)e:{switch(A){case"compositionstart":var zr="onCompositionStart";break e;case"compositionend":zr="onCompositionEnd";break e;case"compositionupdate":zr="onCompositionUpdate";break e}zr=void 0}else Ni?zn(A,b)&&(zr="onCompositionEnd"):A==="keydown"&&b.keyCode===229&&(zr="onCompositionStart");zr&&(St&&b.locale!=="ko"&&(Ni||zr!=="onCompositionStart"?zr==="onCompositionEnd"&&Ni&&(dr=Re()):(V=xt,se="value"in V?V.value:V.textContent,Ni=!0)),Nn=iC(et,zr),0<Nn.length&&(zr=new Qe(zr,A,null,b,xt),Et.push({event:zr,listeners:Nn}),dr?zr.data=dr:(dr=Sr(b),dr!==null&&(zr.data=dr)))),(dr=qe?ys(A,b):di(A,b))&&(zr=iC(et,"onBeforeInput"),0<zr.length&&(Nn=new Qe("onBeforeInput","beforeinput",null,b,xt),Et.push({event:Nn,listeners:zr}),Nn.data=dr)),jhe(Et,A,et,b,xt)}e9(Et,p)})}function qb(A,p,b){return{instance:A,listener:p,currentTarget:b}}function iC(A,p){for(var b=p+"Capture",S=[];A!==null;){var _=A,$=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||$===null||(_=Ei(A,b),_!=null&&S.unshift(qb(A,_,$)),_=Ei(A,p),_!=null&&S.push(qb(A,_,$))),A.tag===3)return S;A=A.return}return[]}function Ohe(A){if(A===null)return null;do A=A.return;while(A&&A.tag!==5&&A.tag!==27);return A||null}function n9(A,p,b,S,_){for(var $=p._reactName,te=[];b!==null&&b!==S;){var Ae=b,Te=Ae.alternate,et=Ae.stateNode;if(Ae=Ae.tag,Te!==null&&Te===S)break;Ae!==5&&Ae!==26&&Ae!==27||et===null||(Te=et,_?(et=Ei(b,$),et!=null&&te.unshift(qb(b,et,Te))):_||(et=Ei(b,$),et!=null&&te.push(qb(b,et,Te)))),b=b.return}te.length!==0&&A.push({event:p,listeners:te})}var Fhe=/\r\n?/g,Dhe=/\u0000|\uFFFD/g;function r9(A){return(typeof A=="string"?A:""+A).replace(Fhe,`
`).replace(Dhe,"")}function s9(A,p){return p=r9(p),r9(A)===p}function Us(A,p,b,S,_,$){switch(b){case"children":typeof S=="string"?p==="body"||p==="textarea"&&S===""||Xo(A,S):(typeof S=="number"||typeof S=="bigint")&&p!=="body"&&Xo(A,""+S);break;case"className":vo(A,"class",S);break;case"tabIndex":vo(A,"tabindex",S);break;case"dir":case"role":case"viewBox":case"width":case"height":vo(A,b,S);break;case"style":hd(A,S,$);break;case"data":if(p!=="object"){vo(A,"data",S);break}case"src":case"href":if(S===""&&(p!=="a"||b!=="href")){A.removeAttribute(b);break}if(S==null||typeof S=="function"||typeof S=="symbol"||typeof S=="boolean"){A.removeAttribute(b);break}S=li(""+S),A.setAttribute(b,S);break;case"action":case"formAction":if(typeof S=="function"){A.setAttribute(b,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof $=="function"&&(b==="formAction"?(p!=="input"&&Us(A,p,"name",_.name,_,null),Us(A,p,"formEncType",_.formEncType,_,null),Us(A,p,"formMethod",_.formMethod,_,null),Us(A,p,"formTarget",_.formTarget,_,null)):(Us(A,p,"encType",_.encType,_,null),Us(A,p,"method",_.method,_,null),Us(A,p,"target",_.target,_,null)));if(S==null||typeof S=="symbol"||typeof S=="boolean"){A.removeAttribute(b);break}S=li(""+S),A.setAttribute(b,S);break;case"onClick":S!=null&&(A.onclick=eo);break;case"onScroll":S!=null&&Rr("scroll",A);break;case"onScrollEnd":S!=null&&Rr("scrollend",A);break;case"dangerouslySetInnerHTML":if(S!=null){if(typeof S!="object"||!("__html"in S))throw Error(r(61));if(b=S.__html,b!=null){if(_.children!=null)throw Error(r(60));A.innerHTML=b}}break;case"multiple":A.multiple=S&&typeof S!="function"&&typeof S!="symbol";break;case"muted":A.muted=S&&typeof S!="function"&&typeof S!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(S==null||typeof S=="function"||typeof S=="boolean"||typeof S=="symbol"){A.removeAttribute("xlink:href");break}b=li(""+S),A.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",b);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":S!=null&&typeof S!="function"&&typeof S!="symbol"?A.setAttribute(b,""+S):A.removeAttribute(b);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":S&&typeof S!="function"&&typeof S!="symbol"?A.setAttribute(b,""):A.removeAttribute(b);break;case"capture":case"download":S===!0?A.setAttribute(b,""):S!==!1&&S!=null&&typeof S!="function"&&typeof S!="symbol"?A.setAttribute(b,S):A.removeAttribute(b);break;case"cols":case"rows":case"size":case"span":S!=null&&typeof S!="function"&&typeof S!="symbol"&&!isNaN(S)&&1<=S?A.setAttribute(b,S):A.removeAttribute(b);break;case"rowSpan":case"start":S==null||typeof S=="function"||typeof S=="symbol"||isNaN(S)?A.removeAttribute(b):A.setAttribute(b,S);break;case"popover":Rr("beforetoggle",A),Rr("toggle",A),ai(A,"popover",S);break;case"xlinkActuate":ki(A,"http://www.w3.org/1999/xlink","xlink:actuate",S);break;case"xlinkArcrole":ki(A,"http://www.w3.org/1999/xlink","xlink:arcrole",S);break;case"xlinkRole":ki(A,"http://www.w3.org/1999/xlink","xlink:role",S);break;case"xlinkShow":ki(A,"http://www.w3.org/1999/xlink","xlink:show",S);break;case"xlinkTitle":ki(A,"http://www.w3.org/1999/xlink","xlink:title",S);break;case"xlinkType":ki(A,"http://www.w3.org/1999/xlink","xlink:type",S);break;case"xmlBase":ki(A,"http://www.w3.org/XML/1998/namespace","xml:base",S);break;case"xmlLang":ki(A,"http://www.w3.org/XML/1998/namespace","xml:lang",S);break;case"xmlSpace":ki(A,"http://www.w3.org/XML/1998/namespace","xml:space",S);break;case"is":ai(A,"is",S);break;case"innerText":case"textContent":break;default:(!(2<b.length)||b[0]!=="o"&&b[0]!=="O"||b[1]!=="n"&&b[1]!=="N")&&(b=pd.get(b)||b,ai(A,b,S))}}function rT(A,p,b,S,_,$){switch(b){case"style":hd(A,S,$);break;case"dangerouslySetInnerHTML":if(S!=null){if(typeof S!="object"||!("__html"in S))throw Error(r(61));if(b=S.__html,b!=null){if(_.children!=null)throw Error(r(60));A.innerHTML=b}}break;case"children":typeof S=="string"?Xo(A,S):(typeof S=="number"||typeof S=="bigint")&&Xo(A,""+S);break;case"onScroll":S!=null&&Rr("scroll",A);break;case"onScrollEnd":S!=null&&Rr("scrollend",A);break;case"onClick":S!=null&&(A.onclick=eo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rs.hasOwnProperty(b))e:{if(b[0]==="o"&&b[1]==="n"&&(_=b.endsWith("Capture"),p=b.slice(2,_?b.length-7:void 0),$=A[ns]||null,$=$!=null?$[b]:null,typeof $=="function"&&A.removeEventListener(p,$,_),typeof S=="function")){typeof $!="function"&&$!==null&&(b in A?A[b]=null:A.hasAttribute(b)&&A.removeAttribute(b)),A.addEventListener(p,S,_);break e}b in A?A[b]=S:S===!0?A.setAttribute(b,""):ai(A,b,S)}}}function tl(A,p,b){switch(p){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rr("error",A),Rr("load",A);var S=!1,_=!1,$;for($ in b)if(b.hasOwnProperty($)){var te=b[$];if(te!=null)switch($){case"src":S=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,p));default:Us(A,p,$,te,b,null)}}_&&Us(A,p,"srcSet",b.srcSet,b,null),S&&Us(A,p,"src",b.src,b,null);return;case"input":Rr("invalid",A);var Ae=$=te=_=null,Te=null,et=null;for(S in b)if(b.hasOwnProperty(S)){var xt=b[S];if(xt!=null)switch(S){case"name":_=xt;break;case"type":te=xt;break;case"checked":Te=xt;break;case"defaultChecked":et=xt;break;case"value":$=xt;break;case"defaultValue":Ae=xt;break;case"children":case"dangerouslySetInnerHTML":if(xt!=null)throw Error(r(137,p));break;default:Us(A,p,S,xt,b,null)}}BA(A,$,Ae,Te,et,te,_,!1);return;case"select":Rr("invalid",A),S=te=$=null;for(_ in b)if(b.hasOwnProperty(_)&&(Ae=b[_],Ae!=null))switch(_){case"value":$=Ae;break;case"defaultValue":te=Ae;break;case"multiple":S=Ae;default:Us(A,p,_,Ae,b,null)}p=$,b=te,A.multiple=!!S,p!=null?Ca(A,!!S,p,!1):b!=null&&Ca(A,!!S,b,!0);return;case"textarea":Rr("invalid",A),$=_=S=null;for(te in b)if(b.hasOwnProperty(te)&&(Ae=b[te],Ae!=null))switch(te){case"value":S=Ae;break;case"defaultValue":_=Ae;break;case"children":$=Ae;break;case"dangerouslySetInnerHTML":if(Ae!=null)throw Error(r(91));break;default:Us(A,p,te,Ae,b,null)}dd(A,S,_,$);return;case"option":for(Te in b)b.hasOwnProperty(Te)&&(S=b[Te],S!=null)&&(Te==="selected"?A.selected=S&&typeof S!="function"&&typeof S!="symbol":Us(A,p,Te,S,b,null));return;case"dialog":Rr("beforetoggle",A),Rr("toggle",A),Rr("cancel",A),Rr("close",A);break;case"iframe":case"object":Rr("load",A);break;case"video":case"audio":for(S=0;S<Vb.length;S++)Rr(Vb[S],A);break;case"image":Rr("error",A),Rr("load",A);break;case"details":Rr("toggle",A);break;case"embed":case"source":case"link":Rr("error",A),Rr("load",A);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(et in b)if(b.hasOwnProperty(et)&&(S=b[et],S!=null))switch(et){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,p));default:Us(A,p,et,S,b,null)}return;default:if(Fl(p)){for(xt in b)b.hasOwnProperty(xt)&&(S=b[xt],S!==void 0&&rT(A,p,xt,S,b,void 0));return}}for(Ae in b)b.hasOwnProperty(Ae)&&(S=b[Ae],S!=null&&Us(A,p,Ae,S,b,null))}function Lhe(A,p,b,S){switch(p){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,$=null,te=null,Ae=null,Te=null,et=null,xt=null;for(ct in b){var Et=b[ct];if(b.hasOwnProperty(ct)&&Et!=null)switch(ct){case"checked":break;case"value":break;case"defaultValue":Te=Et;default:S.hasOwnProperty(ct)||Us(A,p,ct,null,S,Et)}}for(var nt in S){var ct=S[nt];if(Et=b[nt],S.hasOwnProperty(nt)&&(ct!=null||Et!=null))switch(nt){case"type":$=ct;break;case"name":_=ct;break;case"checked":et=ct;break;case"defaultChecked":xt=ct;break;case"value":te=ct;break;case"defaultValue":Ae=ct;break;case"children":case"dangerouslySetInnerHTML":if(ct!=null)throw Error(r(137,p));break;default:ct!==Et&&Us(A,p,nt,ct,S,Et)}}sc(A,te,Ae,Te,et,xt,$,_);return;case"select":ct=te=Ae=nt=null;for($ in b)if(Te=b[$],b.hasOwnProperty($)&&Te!=null)switch($){case"value":break;case"multiple":ct=Te;default:S.hasOwnProperty($)||Us(A,p,$,null,S,Te)}for(_ in S)if($=S[_],Te=b[_],S.hasOwnProperty(_)&&($!=null||Te!=null))switch(_){case"value":nt=$;break;case"defaultValue":Ae=$;break;case"multiple":te=$;default:$!==Te&&Us(A,p,_,$,S,Te)}p=Ae,b=te,S=ct,nt!=null?Ca(A,!!b,nt,!1):!!S!=!!b&&(p!=null?Ca(A,!!b,p,!0):Ca(A,!!b,b?[]:"",!1));return;case"textarea":ct=nt=null;for(Ae in b)if(_=b[Ae],b.hasOwnProperty(Ae)&&_!=null&&!S.hasOwnProperty(Ae))switch(Ae){case"value":break;case"children":break;default:Us(A,p,Ae,null,S,_)}for(te in S)if(_=S[te],$=b[te],S.hasOwnProperty(te)&&(_!=null||$!=null))switch(te){case"value":nt=_;break;case"defaultValue":ct=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:_!==$&&Us(A,p,te,_,S,$)}xf(A,nt,ct);return;case"option":for(var gn in b)nt=b[gn],b.hasOwnProperty(gn)&&nt!=null&&!S.hasOwnProperty(gn)&&(gn==="selected"?A.selected=!1:Us(A,p,gn,null,S,nt));for(Te in S)nt=S[Te],ct=b[Te],S.hasOwnProperty(Te)&&nt!==ct&&(nt!=null||ct!=null)&&(Te==="selected"?A.selected=nt&&typeof nt!="function"&&typeof nt!="symbol":Us(A,p,Te,nt,S,ct));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Kn in b)nt=b[Kn],b.hasOwnProperty(Kn)&&nt!=null&&!S.hasOwnProperty(Kn)&&Us(A,p,Kn,null,S,nt);for(et in S)if(nt=S[et],ct=b[et],S.hasOwnProperty(et)&&nt!==ct&&(nt!=null||ct!=null))switch(et){case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(r(137,p));break;default:Us(A,p,et,nt,S,ct)}return;default:if(Fl(p)){for(var zs in b)nt=b[zs],b.hasOwnProperty(zs)&&nt!==void 0&&!S.hasOwnProperty(zs)&&rT(A,p,zs,void 0,S,nt);for(xt in S)nt=S[xt],ct=b[xt],!S.hasOwnProperty(xt)||nt===ct||nt===void 0&&ct===void 0||rT(A,p,xt,nt,S,ct);return}}for(var We in b)nt=b[We],b.hasOwnProperty(We)&&nt!=null&&!S.hasOwnProperty(We)&&Us(A,p,We,null,S,nt);for(Et in S)nt=S[Et],ct=b[Et],!S.hasOwnProperty(Et)||nt===ct||nt==null&&ct==null||Us(A,p,Et,nt,S,ct)}function i9(A){switch(A){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $he(){if(typeof performance.getEntriesByType=="function"){for(var A=0,p=0,b=performance.getEntriesByType("resource"),S=0;S<b.length;S++){var _=b[S],$=_.transferSize,te=_.initiatorType,Ae=_.duration;if($&&Ae&&i9(te)){for(te=0,Ae=_.responseEnd,S+=1;S<b.length;S++){var Te=b[S],et=Te.startTime;if(et>Ae)break;var xt=Te.transferSize,Et=Te.initiatorType;xt&&i9(Et)&&(Te=Te.responseEnd,te+=xt*(Te<Ae?1:(Ae-et)/(Te-et)))}if(--S,p+=8*($+te)/(_.duration/1e3),A++,10<A)break}}if(0<A)return p/A/1e6}return navigator.connection&&(A=navigator.connection.downlink,typeof A=="number")?A:5}var sT=null,iT=null;function aC(A){return A.nodeType===9?A:A.ownerDocument}function a9(A){switch(A){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function o9(A,p){if(A===0)switch(p){case"svg":return 1;case"math":return 2;default:return 0}return A===1&&p==="foreignObject"?0:A}function aT(A,p){return A==="textarea"||A==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.children=="bigint"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var oT=null;function Phe(){var A=window.event;return A&&A.type==="popstate"?A===oT?!1:(oT=A,!0):(oT=null,!1)}var l9=typeof setTimeout=="function"?setTimeout:void 0,Uhe=typeof clearTimeout=="function"?clearTimeout:void 0,c9=typeof Promise=="function"?Promise:void 0,zhe=typeof queueMicrotask=="function"?queueMicrotask:typeof c9<"u"?function(A){return c9.resolve(null).then(A).catch(Mhe)}:l9;function Mhe(A){setTimeout(function(){throw A})}function xp(A){return A==="head"}function u9(A,p){var b=p,S=0;do{var _=b.nextSibling;if(A.removeChild(b),_&&_.nodeType===8)if(b=_.data,b==="/$"||b==="/&"){if(S===0){A.removeChild(_),gy(p);return}S--}else if(b==="$"||b==="$?"||b==="$~"||b==="$!"||b==="&")S++;else if(b==="html")Gb(A.ownerDocument.documentElement);else if(b==="head"){b=A.ownerDocument.head,Gb(b);for(var $=b.firstChild;$;){var te=$.nextSibling,Ae=$.nodeName;$[sr]||Ae==="SCRIPT"||Ae==="STYLE"||Ae==="LINK"&&$.rel.toLowerCase()==="stylesheet"||b.removeChild($),$=te}}else b==="body"&&Gb(A.ownerDocument.body);b=_}while(b);gy(p)}function d9(A,p){var b=A;A=0;do{var S=b.nextSibling;if(b.nodeType===1?p?(b._stashedDisplay=b.style.display,b.style.display="none"):(b.style.display=b._stashedDisplay||"",b.getAttribute("style")===""&&b.removeAttribute("style")):b.nodeType===3&&(p?(b._stashedText=b.nodeValue,b.nodeValue=""):b.nodeValue=b._stashedText||""),S&&S.nodeType===8)if(b=S.data,b==="/$"){if(A===0)break;A--}else b!=="$"&&b!=="$?"&&b!=="$~"&&b!=="$!"||A++;b=S}while(b)}function lT(A){var p=A.firstChild;for(p&&p.nodeType===10&&(p=p.nextSibling);p;){var b=p;switch(p=p.nextSibling,b.nodeName){case"HTML":case"HEAD":case"BODY":lT(b),oa(b);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(b.rel.toLowerCase()==="stylesheet")continue}A.removeChild(b)}}function Qhe(A,p,b,S){for(;A.nodeType===1;){var _=b;if(A.nodeName.toLowerCase()!==p.toLowerCase()){if(!S&&(A.nodeName!=="INPUT"||A.type!=="hidden"))break}else if(S){if(!A[sr])switch(p){case"meta":if(!A.hasAttribute("itemprop"))break;return A;case"link":if($=A.getAttribute("rel"),$==="stylesheet"&&A.hasAttribute("data-precedence"))break;if($!==_.rel||A.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||A.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||A.getAttribute("title")!==(_.title==null?null:_.title))break;return A;case"style":if(A.hasAttribute("data-precedence"))break;return A;case"script":if($=A.getAttribute("src"),($!==(_.src==null?null:_.src)||A.getAttribute("type")!==(_.type==null?null:_.type)||A.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&$&&A.hasAttribute("async")&&!A.hasAttribute("itemprop"))break;return A;default:return A}}else if(p==="input"&&A.type==="hidden"){var $=_.name==null?null:""+_.name;if(_.type==="hidden"&&A.getAttribute("name")===$)return A}else return A;if(A=_u(A.nextSibling),A===null)break}return null}function Hhe(A,p,b){if(p==="")return null;for(;A.nodeType!==3;)if((A.nodeType!==1||A.nodeName!=="INPUT"||A.type!=="hidden")&&!b||(A=_u(A.nextSibling),A===null))return null;return A}function f9(A,p){for(;A.nodeType!==8;)if((A.nodeType!==1||A.nodeName!=="INPUT"||A.type!=="hidden")&&!p||(A=_u(A.nextSibling),A===null))return null;return A}function cT(A){return A.data==="$?"||A.data==="$~"}function uT(A){return A.data==="$!"||A.data==="$?"&&A.ownerDocument.readyState!=="loading"}function Whe(A,p){var b=A.ownerDocument;if(A.data==="$~")A._reactRetry=p;else if(A.data!=="$?"||b.readyState!=="loading")p();else{var S=function(){p(),b.removeEventListener("DOMContentLoaded",S)};b.addEventListener("DOMContentLoaded",S),A._reactRetry=S}}function _u(A){for(;A!=null;A=A.nextSibling){var p=A.nodeType;if(p===1||p===3)break;if(p===8){if(p=A.data,p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"||p==="F!"||p==="F")break;if(p==="/$"||p==="/&")return null}}return A}var dT=null;function A9(A){A=A.nextSibling;for(var p=0;A;){if(A.nodeType===8){var b=A.data;if(b==="/$"||b==="/&"){if(p===0)return _u(A.nextSibling);p--}else b!=="$"&&b!=="$!"&&b!=="$?"&&b!=="$~"&&b!=="&"||p++}A=A.nextSibling}return null}function h9(A){A=A.previousSibling;for(var p=0;A;){if(A.nodeType===8){var b=A.data;if(b==="$"||b==="$!"||b==="$?"||b==="$~"||b==="&"){if(p===0)return A;p--}else b!=="/$"&&b!=="/&"||p++}A=A.previousSibling}return null}function p9(A,p,b){switch(p=aC(b),A){case"html":if(A=p.documentElement,!A)throw Error(r(452));return A;case"head":if(A=p.head,!A)throw Error(r(453));return A;case"body":if(A=p.body,!A)throw Error(r(454));return A;default:throw Error(r(451))}}function Gb(A){for(var p=A.attributes;p.length;)A.removeAttributeNode(p[0]);oa(A)}var Ru=new Map,m9=new Set;function oC(A){return typeof A.getRootNode=="function"?A.getRootNode():A.nodeType===9?A:A.ownerDocument}var GA=Z.d;Z.d={f:Vhe,r:qhe,D:Ghe,C:Khe,L:Xhe,m:Yhe,X:Zhe,S:Jhe,M:epe};function Vhe(){var A=GA.f(),p=JS();return A||p}function qhe(A){var p=os(A);p!==null&&p.tag===5&&p.type==="form"?Rz(p):GA.r(A)}var hy=typeof document>"u"?null:document;function g9(A,p,b){var S=hy;if(S&&typeof p=="string"&&p){var _=Bi(p);_='link[rel="'+A+'"][href="'+_+'"]',typeof b=="string"&&(_+='[crossorigin="'+b+'"]'),m9.has(_)||(m9.add(_),A={rel:A,crossOrigin:b,href:p},S.querySelector(_)===null&&(p=S.createElement("link"),tl(p,"link",A),Ir(p),S.head.appendChild(p)))}}function Ghe(A){GA.D(A),g9("dns-prefetch",A,null)}function Khe(A,p){GA.C(A,p),g9("preconnect",A,p)}function Xhe(A,p,b){GA.L(A,p,b);var S=hy;if(S&&A&&p){var _='link[rel="preload"][as="'+Bi(p)+'"]';p==="image"&&b&&b.imageSrcSet?(_+='[imagesrcset="'+Bi(b.imageSrcSet)+'"]',typeof b.imageSizes=="string"&&(_+='[imagesizes="'+Bi(b.imageSizes)+'"]')):_+='[href="'+Bi(A)+'"]';var $=_;switch(p){case"style":$=py(A);break;case"script":$=my(A)}Ru.has($)||(A=f({rel:"preload",href:p==="image"&&b&&b.imageSrcSet?void 0:A,as:p},b),Ru.set($,A),S.querySelector(_)!==null||p==="style"&&S.querySelector(Kb($))||p==="script"&&S.querySelector(Xb($))||(p=S.createElement("link"),tl(p,"link",A),Ir(p),S.head.appendChild(p)))}}function Yhe(A,p){GA.m(A,p);var b=hy;if(b&&A){var S=p&&typeof p.as=="string"?p.as:"script",_='link[rel="modulepreload"][as="'+Bi(S)+'"][href="'+Bi(A)+'"]',$=_;switch(S){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":$=my(A)}if(!Ru.has($)&&(A=f({rel:"modulepreload",href:A},p),Ru.set($,A),b.querySelector(_)===null)){switch(S){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(b.querySelector(Xb($)))return}S=b.createElement("link"),tl(S,"link",A),Ir(S),b.head.appendChild(S)}}}function Jhe(A,p,b){GA.S(A,p,b);var S=hy;if(S&&A){var _=Xi(S).hoistableStyles,$=py(A);p=p||"default";var te=_.get($);if(!te){var Ae={loading:0,preload:null};if(te=S.querySelector(Kb($)))Ae.loading=5;else{A=f({rel:"stylesheet",href:A,"data-precedence":p},b),(b=Ru.get($))&&fT(A,b);var Te=te=S.createElement("link");Ir(Te),tl(Te,"link",A),Te._p=new Promise(function(et,xt){Te.onload=et,Te.onerror=xt}),Te.addEventListener("load",function(){Ae.loading|=1}),Te.addEventListener("error",function(){Ae.loading|=2}),Ae.loading|=4,lC(te,p,S)}te={type:"stylesheet",instance:te,count:1,state:Ae},_.set($,te)}}}function Zhe(A,p){GA.X(A,p);var b=hy;if(b&&A){var S=Xi(b).hoistableScripts,_=my(A),$=S.get(_);$||($=b.querySelector(Xb(_)),$||(A=f({src:A,async:!0},p),(p=Ru.get(_))&&AT(A,p),$=b.createElement("script"),Ir($),tl($,"link",A),b.head.appendChild($)),$={type:"script",instance:$,count:1,state:null},S.set(_,$))}}function epe(A,p){GA.M(A,p);var b=hy;if(b&&A){var S=Xi(b).hoistableScripts,_=my(A),$=S.get(_);$||($=b.querySelector(Xb(_)),$||(A=f({src:A,async:!0,type:"module"},p),(p=Ru.get(_))&&AT(A,p),$=b.createElement("script"),Ir($),tl($,"link",A),b.head.appendChild($)),$={type:"script",instance:$,count:1,state:null},S.set(_,$))}}function y9(A,p,b,S){var _=(_=he.current)?oC(_):null;if(!_)throw Error(r(446));switch(A){case"meta":case"title":return null;case"style":return typeof b.precedence=="string"&&typeof b.href=="string"?(p=py(b.href),b=Xi(_).hoistableStyles,S=b.get(p),S||(S={type:"style",instance:null,count:0,state:null},b.set(p,S)),S):{type:"void",instance:null,count:0,state:null};case"link":if(b.rel==="stylesheet"&&typeof b.href=="string"&&typeof b.precedence=="string"){A=py(b.href);var $=Xi(_).hoistableStyles,te=$.get(A);if(te||(_=_.ownerDocument||_,te={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},$.set(A,te),($=_.querySelector(Kb(A)))&&!$._p&&(te.instance=$,te.state.loading=5),Ru.has(A)||(b={rel:"preload",as:"style",href:b.href,crossOrigin:b.crossOrigin,integrity:b.integrity,media:b.media,hrefLang:b.hrefLang,referrerPolicy:b.referrerPolicy},Ru.set(A,b),$||tpe(_,A,b,te.state))),p&&S===null)throw Error(r(528,""));return te}if(p&&S!==null)throw Error(r(529,""));return null;case"script":return p=b.async,b=b.src,typeof b=="string"&&p&&typeof p!="function"&&typeof p!="symbol"?(p=my(b),b=Xi(_).hoistableScripts,S=b.get(p),S||(S={type:"script",instance:null,count:0,state:null},b.set(p,S)),S):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,A))}}function py(A){return'href="'+Bi(A)+'"'}function Kb(A){return'link[rel="stylesheet"]['+A+"]"}function x9(A){return f({},A,{"data-precedence":A.precedence,precedence:null})}function tpe(A,p,b,S){A.querySelector('link[rel="preload"][as="style"]['+p+"]")?S.loading=1:(p=A.createElement("link"),S.preload=p,p.addEventListener("load",function(){return S.loading|=1}),p.addEventListener("error",function(){return S.loading|=2}),tl(p,"link",b),Ir(p),A.head.appendChild(p))}function my(A){return'[src="'+Bi(A)+'"]'}function Xb(A){return"script[async]"+A}function b9(A,p,b){if(p.count++,p.instance===null)switch(p.type){case"style":var S=A.querySelector('style[data-href~="'+Bi(b.href)+'"]');if(S)return p.instance=S,Ir(S),S;var _=f({},b,{"data-href":b.href,"data-precedence":b.precedence,href:null,precedence:null});return S=(A.ownerDocument||A).createElement("style"),Ir(S),tl(S,"style",_),lC(S,b.precedence,A),p.instance=S;case"stylesheet":_=py(b.href);var $=A.querySelector(Kb(_));if($)return p.state.loading|=4,p.instance=$,Ir($),$;S=x9(b),(_=Ru.get(_))&&fT(S,_),$=(A.ownerDocument||A).createElement("link"),Ir($);var te=$;return te._p=new Promise(function(Ae,Te){te.onload=Ae,te.onerror=Te}),tl($,"link",S),p.state.loading|=4,lC($,b.precedence,A),p.instance=$;case"script":return $=my(b.src),(_=A.querySelector(Xb($)))?(p.instance=_,Ir(_),_):(S=b,(_=Ru.get($))&&(S=f({},b),AT(S,_)),A=A.ownerDocument||A,_=A.createElement("script"),Ir(_),tl(_,"link",S),A.head.appendChild(_),p.instance=_);case"void":return null;default:throw Error(r(443,p.type))}else p.type==="stylesheet"&&(p.state.loading&4)===0&&(S=p.instance,p.state.loading|=4,lC(S,b.precedence,A));return p.instance}function lC(A,p,b){for(var S=b.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=S.length?S[S.length-1]:null,$=_,te=0;te<S.length;te++){var Ae=S[te];if(Ae.dataset.precedence===p)$=Ae;else if($!==_)break}$?$.parentNode.insertBefore(A,$.nextSibling):(p=b.nodeType===9?b.head:b,p.insertBefore(A,p.firstChild))}function fT(A,p){A.crossOrigin==null&&(A.crossOrigin=p.crossOrigin),A.referrerPolicy==null&&(A.referrerPolicy=p.referrerPolicy),A.title==null&&(A.title=p.title)}function AT(A,p){A.crossOrigin==null&&(A.crossOrigin=p.crossOrigin),A.referrerPolicy==null&&(A.referrerPolicy=p.referrerPolicy),A.integrity==null&&(A.integrity=p.integrity)}var cC=null;function v9(A,p,b){if(cC===null){var S=new Map,_=cC=new Map;_.set(b,S)}else _=cC,S=_.get(b),S||(S=new Map,_.set(b,S));if(S.has(A))return S;for(S.set(A,null),b=b.getElementsByTagName(A),_=0;_<b.length;_++){var $=b[_];if(!($[sr]||$[Jn]||A==="link"&&$.getAttribute("rel")==="stylesheet")&&$.namespaceURI!=="http://www.w3.org/2000/svg"){var te=$.getAttribute(p)||"";te=A+te;var Ae=S.get(te);Ae?Ae.push($):S.set(te,[$])}}return S}function w9(A,p,b){A=A.ownerDocument||A,A.head.insertBefore(b,p==="title"?A.querySelector("head > title"):null)}function npe(A,p,b){if(b===1||p.itemProp!=null)return!1;switch(A){case"meta":case"title":return!0;case"style":if(typeof p.precedence!="string"||typeof p.href!="string"||p.href==="")break;return!0;case"link":if(typeof p.rel!="string"||typeof p.href!="string"||p.href===""||p.onLoad||p.onError)break;return p.rel==="stylesheet"?(A=p.disabled,typeof p.precedence=="string"&&A==null):!0;case"script":if(p.async&&typeof p.async!="function"&&typeof p.async!="symbol"&&!p.onLoad&&!p.onError&&p.src&&typeof p.src=="string")return!0}return!1}function S9(A){return!(A.type==="stylesheet"&&(A.state.loading&3)===0)}function rpe(A,p,b,S){if(b.type==="stylesheet"&&(typeof S.media!="string"||matchMedia(S.media).matches!==!1)&&(b.state.loading&4)===0){if(b.instance===null){var _=py(S.href),$=p.querySelector(Kb(_));if($){p=$._p,p!==null&&typeof p=="object"&&typeof p.then=="function"&&(A.count++,A=uC.bind(A),p.then(A,A)),b.state.loading|=4,b.instance=$,Ir($);return}$=p.ownerDocument||p,S=x9(S),(_=Ru.get(_))&&fT(S,_),$=$.createElement("link"),Ir($);var te=$;te._p=new Promise(function(Ae,Te){te.onload=Ae,te.onerror=Te}),tl($,"link",S),b.instance=$}A.stylesheets===null&&(A.stylesheets=new Map),A.stylesheets.set(b,p),(p=b.state.preload)&&(b.state.loading&3)===0&&(A.count++,b=uC.bind(A),p.addEventListener("load",b),p.addEventListener("error",b))}}var hT=0;function spe(A,p){return A.stylesheets&&A.count===0&&fC(A,A.stylesheets),0<A.count||0<A.imgCount?function(b){var S=setTimeout(function(){if(A.stylesheets&&fC(A,A.stylesheets),A.unsuspend){var $=A.unsuspend;A.unsuspend=null,$()}},6e4+p);0<A.imgBytes&&hT===0&&(hT=62500*$he());var _=setTimeout(function(){if(A.waitingForImages=!1,A.count===0&&(A.stylesheets&&fC(A,A.stylesheets),A.unsuspend)){var $=A.unsuspend;A.unsuspend=null,$()}},(A.imgBytes>hT?50:800)+p);return A.unsuspend=b,function(){A.unsuspend=null,clearTimeout(S),clearTimeout(_)}}:null}function uC(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)fC(this,this.stylesheets);else if(this.unsuspend){var A=this.unsuspend;this.unsuspend=null,A()}}}var dC=null;function fC(A,p){A.stylesheets=null,A.unsuspend!==null&&(A.count++,dC=new Map,p.forEach(ipe,A),dC=null,uC.call(A))}function ipe(A,p){if(!(p.state.loading&4)){var b=dC.get(A);if(b)var S=b.get(null);else{b=new Map,dC.set(A,b);for(var _=A.querySelectorAll("link[data-precedence],style[data-precedence]"),$=0;$<_.length;$++){var te=_[$];(te.nodeName==="LINK"||te.getAttribute("media")!=="not all")&&(b.set(te.dataset.precedence,te),S=te)}S&&b.set(null,S)}_=p.instance,te=_.getAttribute("data-precedence"),$=b.get(te)||S,$===S&&b.set(null,_),b.set(te,_),this.count++,S=uC.bind(this),_.addEventListener("load",S),_.addEventListener("error",S),$?$.parentNode.insertBefore(_,$.nextSibling):(A=A.nodeType===9?A.head:A,A.insertBefore(_,A.firstChild)),p.state.loading|=4}}var Yb={$$typeof:B,Provider:null,Consumer:null,_currentValue:G,_currentValue2:G,_threadCount:0};function ape(A,p,b,S,_,$,te,Ae,Te){this.tag=1,this.containerInfo=A,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fs(0),this.hiddenUpdates=Fs(null),this.identifierPrefix=S,this.onUncaughtError=_,this.onCaughtError=$,this.onRecoverableError=te,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Te,this.incompleteTransitions=new Map}function C9(A,p,b,S,_,$,te,Ae,Te,et,xt,Et){return A=new ape(A,p,b,te,Te,et,xt,Et,Ae),p=1,$===!0&&(p|=24),$=ko(3,null,null,p),A.current=$,$.stateNode=A,p=op(),p.refCount++,A.pooledCache=p,p.refCount++,$.memoizedState={element:S,isDehydrated:b,cache:p},Wt($),A}function k9(A){return A?(A=no,A):no}function B9(A,p,b,S,_,$){_=k9(_),S.context===null?S.context=_:S.pendingContext=_,S=qn(p),S.payload={element:b},$=$===void 0?null:$,$!==null&&(S.callback=$),b=lr(A,S,p),b!==null&&(vc(b,A,p),fs(b,A,p))}function E9(A,p){if(A=A.memoizedState,A!==null&&A.dehydrated!==null){var b=A.retryLane;A.retryLane=b!==0&&b<p?b:p}}function pT(A,p){E9(A,p),(A=A.alternate)&&E9(A,p)}function I9(A){if(A.tag===13||A.tag===31){var p=Ed(A,67108864);p!==null&&vc(p,A,67108864),pT(A,67108864)}}function N9(A){if(A.tag===13||A.tag===31){var p=Jc();p=ts(p);var b=Ed(A,p);b!==null&&vc(b,A,p),pT(A,p)}}var AC=!0;function ope(A,p,b,S){var _=q.T;q.T=null;var $=Z.p;try{Z.p=2,mT(A,p,b,S)}finally{Z.p=$,q.T=_}}function lpe(A,p,b,S){var _=q.T;q.T=null;var $=Z.p;try{Z.p=8,mT(A,p,b,S)}finally{Z.p=$,q.T=_}}function mT(A,p,b,S){if(AC){var _=gT(S);if(_===null)nT(A,p,S,hC,b),T9(A,S);else if(upe(_,A,p,b,S))S.stopPropagation();else if(T9(A,S),p&4&&-1<cpe.indexOf(A)){for(;_!==null;){var $=os(_);if($!==null)switch($.tag){case 3:if($=$.stateNode,$.current.memoizedState.isDehydrated){var te=Jt($.pendingLanes);if(te!==0){var Ae=$;for(Ae.pendingLanes|=2,Ae.entangledLanes|=2;te;){var Te=1<<31-ke(te);Ae.entanglements[1]|=Te,te&=~Te}Of($),(hs&6)===0&&(XS=Ht()+500,Wb(0))}}break;case 31:case 13:Ae=Ed($,2),Ae!==null&&vc(Ae,$,2),JS(),pT($,2)}if($=gT(S),$===null&&nT(A,p,S,hC,b),$===_)break;_=$}_!==null&&S.stopPropagation()}else nT(A,p,S,null,b)}}function gT(A){return A=mn(A),yT(A)}var hC=null;function yT(A){if(hC=null,A=Qr(A),A!==null){var p=i(A);if(p===null)A=null;else{var b=p.tag;if(b===13){if(A=a(p),A!==null)return A;A=null}else if(b===31){if(A=o(p),A!==null)return A;A=null}else if(b===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;A=null}else p!==A&&(A=null)}}return hC=A,null}function j9(A){switch(A){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Sn()){case zt:return 2;case en:return 8;case fn:case Qt:return 32;case rn:return 268435456;default:return 32}default:return 32}}var xT=!1,bp=null,vp=null,wp=null,Jb=new Map,Zb=new Map,Sp=[],cpe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function T9(A,p){switch(A){case"focusin":case"focusout":bp=null;break;case"dragenter":case"dragleave":vp=null;break;case"mouseover":case"mouseout":wp=null;break;case"pointerover":case"pointerout":Jb.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zb.delete(p.pointerId)}}function ev(A,p,b,S,_,$){return A===null||A.nativeEvent!==$?(A={blockedOn:p,domEventName:b,eventSystemFlags:S,nativeEvent:$,targetContainers:[_]},p!==null&&(p=os(p),p!==null&&I9(p)),A):(A.eventSystemFlags|=S,p=A.targetContainers,_!==null&&p.indexOf(_)===-1&&p.push(_),A)}function upe(A,p,b,S,_){switch(p){case"focusin":return bp=ev(bp,A,p,b,S,_),!0;case"dragenter":return vp=ev(vp,A,p,b,S,_),!0;case"mouseover":return wp=ev(wp,A,p,b,S,_),!0;case"pointerover":var $=_.pointerId;return Jb.set($,ev(Jb.get($)||null,A,p,b,S,_)),!0;case"gotpointercapture":return $=_.pointerId,Zb.set($,ev(Zb.get($)||null,A,p,b,S,_)),!0}return!1}function _9(A){var p=Qr(A.target);if(p!==null){var b=i(p);if(b!==null){if(p=b.tag,p===13){if(p=a(b),p!==null){A.blockedOn=p,Si(A.priority,function(){N9(b)});return}}else if(p===31){if(p=o(b),p!==null){A.blockedOn=p,Si(A.priority,function(){N9(b)});return}}else if(p===3&&b.stateNode.current.memoizedState.isDehydrated){A.blockedOn=b.tag===3?b.stateNode.containerInfo:null;return}}}A.blockedOn=null}function pC(A){if(A.blockedOn!==null)return!1;for(var p=A.targetContainers;0<p.length;){var b=gT(A.nativeEvent);if(b===null){b=A.nativeEvent;var S=new b.constructor(b.type,b);Uc=S,b.target.dispatchEvent(S),Uc=null}else return p=os(b),p!==null&&I9(p),A.blockedOn=b,!1;p.shift()}return!0}function R9(A,p,b){pC(A)&&b.delete(p)}function dpe(){xT=!1,bp!==null&&pC(bp)&&(bp=null),vp!==null&&pC(vp)&&(vp=null),wp!==null&&pC(wp)&&(wp=null),Jb.forEach(R9),Zb.forEach(R9)}function mC(A,p){A.blockedOn===p&&(A.blockedOn=null,xT||(xT=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,dpe)))}var gC=null;function O9(A){gC!==A&&(gC=A,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){gC===A&&(gC=null);for(var p=0;p<A.length;p+=3){var b=A[p],S=A[p+1],_=A[p+2];if(typeof S!="function"){if(yT(S||b)===null)continue;break}var $=os(b);$!==null&&(A.splice(p,3),p-=3,gj($,{pending:!0,data:_,method:b.method,action:S},S,_))}}))}function gy(A){function p(Te){return mC(Te,A)}bp!==null&&mC(bp,A),vp!==null&&mC(vp,A),wp!==null&&mC(wp,A),Jb.forEach(p),Zb.forEach(p);for(var b=0;b<Sp.length;b++){var S=Sp[b];S.blockedOn===A&&(S.blockedOn=null)}for(;0<Sp.length&&(b=Sp[0],b.blockedOn===null);)_9(b),b.blockedOn===null&&Sp.shift();if(b=(A.ownerDocument||A).$$reactFormReplay,b!=null)for(S=0;S<b.length;S+=3){var _=b[S],$=b[S+1],te=_[ns]||null;if(typeof $=="function")te||O9(b);else if(te){var Ae=null;if($&&$.hasAttribute("formAction")){if(_=$,te=$[ns]||null)Ae=te.formAction;else if(yT(_)!==null)continue}else Ae=te.action;typeof Ae=="function"?b[S+1]=Ae:(b.splice(S,3),S-=3),O9(b)}}}function F9(){function A($){$.canIntercept&&$.info==="react-transition"&&$.intercept({handler:function(){return new Promise(function(te){return _=te})},focusReset:"manual",scroll:"manual"})}function p(){_!==null&&(_(),_=null),S||setTimeout(b,20)}function b(){if(!S&&!navigation.transition){var $=navigation.currentEntry;$&&$.url!=null&&navigation.navigate($.url,{state:$.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var S=!1,_=null;return navigation.addEventListener("navigate",A),navigation.addEventListener("navigatesuccess",p),navigation.addEventListener("navigateerror",p),setTimeout(b,100),function(){S=!0,navigation.removeEventListener("navigate",A),navigation.removeEventListener("navigatesuccess",p),navigation.removeEventListener("navigateerror",p),_!==null&&(_(),_=null)}}}function bT(A){this._internalRoot=A}yC.prototype.render=bT.prototype.render=function(A){var p=this._internalRoot;if(p===null)throw Error(r(409));var b=p.current,S=Jc();B9(b,S,A,p,null,null)},yC.prototype.unmount=bT.prototype.unmount=function(){var A=this._internalRoot;if(A!==null){this._internalRoot=null;var p=A.containerInfo;B9(A.current,2,null,A,null,null),JS(),p[Ci]=null}};function yC(A){this._internalRoot=A}yC.prototype.unstable_scheduleHydration=function(A){if(A){var p=Bt();A={blockedOn:null,target:A,priority:p};for(var b=0;b<Sp.length&&p!==0&&p<Sp[b].priority;b++);Sp.splice(b,0,A),b===0&&_9(A)}};var D9=e.version;if(D9!=="19.2.4")throw Error(r(527,D9,"19.2.4"));Z.findDOMNode=function(A){var p=A._reactInternals;if(p===void 0)throw typeof A.render=="function"?Error(r(188)):(A=Object.keys(A).join(","),Error(r(268,A)));return A=u(p),A=A!==null?d(A):null,A=A===null?null:A.stateNode,A};var fpe={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xC=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xC.isDisabled&&xC.supportsFiber)try{On=xC.inject(fpe),Ot=xC}catch{}}return nv.createRoot=function(A,p){if(!s(A))throw Error(r(299));var b=!1,S="",_=Qz,$=Hz,te=Wz;return p!=null&&(p.unstable_strictMode===!0&&(b=!0),p.identifierPrefix!==void 0&&(S=p.identifierPrefix),p.onUncaughtError!==void 0&&(_=p.onUncaughtError),p.onCaughtError!==void 0&&($=p.onCaughtError),p.onRecoverableError!==void 0&&(te=p.onRecoverableError)),p=C9(A,1,!1,null,null,b,S,null,_,$,te,F9),A[Ci]=p.current,tT(A),new bT(p)},nv.hydrateRoot=function(A,p,b){if(!s(A))throw Error(r(299));var S=!1,_="",$=Qz,te=Hz,Ae=Wz,Te=null;return b!=null&&(b.unstable_strictMode===!0&&(S=!0),b.identifierPrefix!==void 0&&(_=b.identifierPrefix),b.onUncaughtError!==void 0&&($=b.onUncaughtError),b.onCaughtError!==void 0&&(te=b.onCaughtError),b.onRecoverableError!==void 0&&(Ae=b.onRecoverableError),b.formState!==void 0&&(Te=b.formState)),p=C9(A,1,!0,p,b??null,S,_,Te,$,te,Ae,F9),p.context=k9(null),b=p.current,S=Jc(),S=ts(S),_=qn(S),_.callback=null,lr(b,_,S),b=S,p.current.lanes=b,cn(p,b),Of(p),A[Ci]=p.current,tT(A),new yC(p)},nv.version="19.2.4",nv}var V9;function wpe(){if(V9)return ST.exports;V9=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ST.exports=vpe(),ST.exports}var Spe=wpe();const Cpe=nc(Spe);var q9="popstate";function kpe(t={}){function e(r,s){let{pathname:i,search:a,hash:o}=r.location;return U6("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:f2(s)}return Epe(e,n,null,t)}function Hi(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Zd(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Bpe(){return Math.random().toString(36).substring(2,10)}function G9(t,e){return{usr:t.state,key:t.key,idx:e}}function U6(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?D1(e):e,state:n,key:e&&e.key||r||Bpe()}}function f2({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function D1(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function Epe(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,o="POP",c=null,u=d();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function d(){return(a.state||{idx:null}).idx}function f(){o="POP";let x=d(),v=x==null?null:x-u;u=x,c&&c({action:o,location:y.location,delta:v})}function h(x,v){o="PUSH";let w=U6(y.location,x,v);u=d()+1;let B=G9(w,u),k=y.createHref(w);try{a.pushState(B,"",k)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(k)}i&&c&&c({action:o,location:y.location,delta:1})}function m(x,v){o="REPLACE";let w=U6(y.location,x,v);u=d();let B=G9(w,u),k=y.createHref(w);a.replaceState(B,"",k),i&&c&&c({action:o,location:y.location,delta:0})}function g(x){return Ipe(x)}let y={get action(){return o},get location(){return t(s,a)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(q9,f),c=x,()=>{s.removeEventListener(q9,f),c=null}},createHref(x){return e(s,x)},createURL:g,encodeLocation(x){let v=g(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:m,go(x){return a.go(x)}};return y}function Ipe(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Hi(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:f2(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function gJ(t,e,n="/"){return Npe(t,e,n,!1)}function Npe(t,e,n,r){let s=typeof e=="string"?D1(e):e,i=mh(s.pathname||"/",n);if(i==null)return null;let a=yJ(t);jpe(a);let o=null;for(let c=0;o==null&&c<a.length;++c){let u=zpe(i);o=Ppe(a[c],u,r)}return o}function yJ(t,e=[],n=[],r="",s=!1){let i=(a,o,c=s,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&c)return;Hi(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let f=dh([r,d.relativePath]),h=n.concat(d);a.children&&a.children.length>0&&(Hi(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),yJ(a.children,e,h,f,c)),!(a.path==null&&!a.index)&&e.push({path:f,score:Lpe(f,a.index),routesMeta:h})};return t.forEach((a,o)=>{if(a.path===""||!a.path?.includes("?"))i(a,o);else for(let c of xJ(a.path))i(a,o,!0,c)}),e}function xJ(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=xJ(r.join("/")),o=[];return o.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&o.push(...a),o.map(c=>t.startsWith("/")&&c===""?"/":c)}function jpe(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:$pe(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Tpe=/^:[\w-]+$/,_pe=3,Rpe=2,Ope=1,Fpe=10,Dpe=-2,K9=t=>t==="*";function Lpe(t,e){let n=t.split("/"),r=n.length;return n.some(K9)&&(r+=Dpe),e&&(r+=Rpe),n.filter(s=>!K9(s)).reduce((s,i)=>s+(Tpe.test(i)?_pe:i===""?Ope:Fpe),r)}function $pe(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function Ppe(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",a=[];for(let o=0;o<r.length;++o){let c=r[o],u=o===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=IB({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=IB({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:dh([i,f.pathname]),pathnameBase:Wpe(dh([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=dh([i,f.pathnameBase]))}return a}function IB(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Upe(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:f},h)=>{if(d==="*"){let g=o[h]||"";a=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const m=o[h];return f&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:t}}function Upe(t,e=!1,n=!0){Zd(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,c)=>(r.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function zpe(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zd(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function mh(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var Mpe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Qpe(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?D1(t):t,i;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?i=X9(n.substring(1),"/"):i=X9(n,e)):i=e,{pathname:i,search:Vpe(r),hash:qpe(s)}}function X9(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ET(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Hpe(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function U8(t){let e=Hpe(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function z8(t,e,n,r=!1){let s;typeof t=="string"?s=D1(t):(s={...t},Hi(!s.pathname||!s.pathname.includes("?"),ET("?","pathname","search",s)),Hi(!s.pathname||!s.pathname.includes("#"),ET("#","pathname","hash",s)),Hi(!s.search||!s.search.includes("#"),ET("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}o=f>=0?e[f]:"/"}let c=Qpe(s,o),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var dh=t=>t.join("/").replace(/\/\/+/g,"/"),Wpe=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Vpe=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,qpe=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Gpe=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Kpe(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function Xpe(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var bJ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function vJ(t,e){let n=t;if(typeof n!="string"||!Mpe.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,s=!1;if(bJ)try{let i=new URL(window.location.href),a=n.startsWith("//")?new URL(i.protocol+n):new URL(n),o=mh(a.pathname,e);a.origin===i.origin&&o!=null?n=o+a.search+a.hash:s=!0}catch{Zd(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:s,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var wJ=["POST","PUT","PATCH","DELETE"];new Set(wJ);var Ype=["GET",...wJ];new Set(Ype);var L1=C.createContext(null);L1.displayName="DataRouter";var SE=C.createContext(null);SE.displayName="DataRouterState";var Jpe=C.createContext(!1),SJ=C.createContext({isTransitioning:!1});SJ.displayName="ViewTransition";var Zpe=C.createContext(new Map);Zpe.displayName="Fetchers";var eme=C.createContext(null);eme.displayName="Await";var gu=C.createContext(null);gu.displayName="Navigation";var iw=C.createContext(null);iw.displayName="Location";var mA=C.createContext({outlet:null,matches:[],isDataRoute:!1});mA.displayName="Route";var M8=C.createContext(null);M8.displayName="RouteError";var CJ="REACT_ROUTER_ERROR",tme="REDIRECT",nme="ROUTE_ERROR_RESPONSE";function rme(t){if(t.startsWith(`${CJ}:${tme}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function sme(t){if(t.startsWith(`${CJ}:${nme}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Gpe(e.status,e.statusText,e.data)}catch{}}function ime(t,{relative:e}={}){Hi($1(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=C.useContext(gu),{hash:s,pathname:i,search:a}=aw(t,{relative:e}),o=i;return n!=="/"&&(o=i==="/"?n:dh([n,i])),r.createHref({pathname:o,search:a,hash:s})}function $1(){return C.useContext(iw)!=null}function cf(){return Hi($1(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(iw).location}var kJ="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function BJ(t){C.useContext(gu).static||C.useLayoutEffect(t)}function Q8(){let{isDataRoute:t}=C.useContext(mA);return t?yme():ame()}function ame(){Hi($1(),"useNavigate() may be used only in the context of a <Router> component.");let t=C.useContext(L1),{basename:e,navigator:n}=C.useContext(gu),{matches:r}=C.useContext(mA),{pathname:s}=cf(),i=JSON.stringify(U8(r)),a=C.useRef(!1);return BJ(()=>{a.current=!0}),C.useCallback((c,u={})=>{if(Zd(a.current,kJ),!a.current)return;if(typeof c=="number"){n.go(c);return}let d=z8(c,JSON.parse(i),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:dh([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,i,s,t])}C.createContext(null);function aw(t,{relative:e}={}){let{matches:n}=C.useContext(mA),{pathname:r}=cf(),s=JSON.stringify(U8(n));return C.useMemo(()=>z8(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function ome(t,e){return EJ(t,e)}function EJ(t,e,n,r,s){Hi($1(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=C.useContext(gu),{matches:a}=C.useContext(mA),o=a[a.length-1],c=o?o.params:{},u=o?o.pathname:"/",d=o?o.pathnameBase:"/",f=o&&o.route;{let w=f&&f.path||"";NJ(u,!f||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let h=cf(),m;if(e){let w=typeof e=="string"?D1(e):e;Hi(d==="/"||w.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${w.pathname}" was given in the \`location\` prop.`),m=w}else m=h;let g=m.pathname||"/",y=g;if(d!=="/"){let w=d.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(w.length).join("/")}let x=gJ(t,{pathname:y});Zd(f||x!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Zd(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=fme(x&&x.map(w=>Object.assign({},w,{params:Object.assign({},c,w.params),pathname:dh([d,i.encodeLocation?i.encodeLocation(w.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?d:dh([d,i.encodeLocation?i.encodeLocation(w.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathnameBase])})),a,n,r,s);return e&&v?C.createElement(iw.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},v):v}function lme(){let t=gme(),e=Kpe(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:i},"ErrorBoundary")," or"," ",C.createElement("code",{style:i},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:s},n):null,a)}var cme=C.createElement(lme,null),IJ=class extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=sme(t.digest);n&&(t=n)}let e=t!==void 0?C.createElement(mA.Provider,{value:this.props.routeContext},C.createElement(M8.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?C.createElement(ume,{error:t},e):e}};IJ.contextType=Jpe;var IT=new WeakMap;function ume({children:t,error:e}){let{basename:n}=C.useContext(gu);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=rme(e.digest);if(r){let s=IT.get(e);if(s)throw s;let i=vJ(r.location,n);if(bJ&&!IT.get(e))if(i.isExternal||r.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const a=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:r.replace}));throw IT.set(e,a),a}return C.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return t}function dme({routeContext:t,match:e,children:n}){let r=C.useContext(L1);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(mA.Provider,{value:t},n)}function fme(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,a=n?.errors;if(a!=null){let d=i.findIndex(f=>f.route.id&&a?.[f.route.id]!==void 0);Hi(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let o=!1,c=-1;if(n)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:m}=n,g=f.route.loader&&!h.hasOwnProperty(f.route.id)&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){o=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}let u=n&&r?(d,f)=>{r(d,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Xpe(n.matches),errorInfo:f})}:void 0;return i.reduceRight((d,f,h)=>{let m,g=!1,y=null,x=null;n&&(m=a&&f.route.id?a[f.route.id]:void 0,y=f.route.errorElement||cme,o&&(c<0&&h===0?(NJ("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,x=null):c===h&&(g=!0,x=f.route.hydrateFallbackElement||null)));let v=e.concat(i.slice(0,h+1)),w=()=>{let B;return m?B=y:g?B=x:f.route.Component?B=C.createElement(f.route.Component,null):f.route.element?B=f.route.element:B=d,C.createElement(dme,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:B})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?C.createElement(IJ,{location:n.location,revalidation:n.revalidation,component:y,error:m,children:w(),routeContext:{outlet:null,matches:v,isDataRoute:!0},onError:u}):w()},null)}function H8(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ame(t){let e=C.useContext(L1);return Hi(e,H8(t)),e}function hme(t){let e=C.useContext(SE);return Hi(e,H8(t)),e}function pme(t){let e=C.useContext(mA);return Hi(e,H8(t)),e}function W8(t){let e=pme(t),n=e.matches[e.matches.length-1];return Hi(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function mme(){return W8("useRouteId")}function gme(){let t=C.useContext(M8),e=hme("useRouteError"),n=W8("useRouteError");return t!==void 0?t:e.errors?.[n]}function yme(){let{router:t}=Ame("useNavigate"),e=W8("useNavigate"),n=C.useRef(!1);return BJ(()=>{n.current=!0}),C.useCallback(async(s,i={})=>{Zd(n.current,kJ),n.current&&(typeof s=="number"?await t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var Y9={};function NJ(t,e,n){!e&&!Y9[t]&&(Y9[t]=!0,Zd(!1,n))}C.memo(xme);function xme({routes:t,future:e,state:n,onError:r}){return EJ(t,void 0,n,r,e)}function Hy({to:t,replace:e,state:n,relative:r}){Hi($1(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=C.useContext(gu);Zd(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=C.useContext(mA),{pathname:a}=cf(),o=Q8(),c=z8(t,U8(i),a,r==="path"),u=JSON.stringify(c);return C.useEffect(()=>{o(JSON.parse(u),{replace:e,state:n,relative:r})},[o,u,r,e,n]),null}function us(t){Hi(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bme({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1,unstable_useTransitions:a}){Hi(!$1(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),c=C.useMemo(()=>({basename:o,navigator:s,static:i,unstable_useTransitions:a,future:{}}),[o,s,i,a]);typeof n=="string"&&(n=D1(n));let{pathname:u="/",search:d="",hash:f="",state:h=null,key:m="default"}=n,g=C.useMemo(()=>{let y=mh(u,o);return y==null?null:{location:{pathname:y,search:d,hash:f,state:h,key:m},navigationType:r}},[o,u,d,f,h,m,r]);return Zd(g!=null,`<Router basename="${o}"> is not able to match the URL "${u}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:C.createElement(gu.Provider,{value:c},C.createElement(iw.Provider,{children:e,value:g}))}function CE({children:t,location:e}){return ome(z6(t),e)}function z6(t,e=[]){let n=[];return C.Children.forEach(t,(r,s)=>{if(!C.isValidElement(r))return;let i=[...e,s];if(r.type===C.Fragment){n.push.apply(n,z6(r.props.children,i));return}Hi(r.type===us,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Hi(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=z6(r.props.children,i)),n.push(a)}),n}var Hk="get",Wk="application/x-www-form-urlencoded";function kE(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function vme(t){return kE(t)&&t.tagName.toLowerCase()==="button"}function wme(t){return kE(t)&&t.tagName.toLowerCase()==="form"}function Sme(t){return kE(t)&&t.tagName.toLowerCase()==="input"}function Cme(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function kme(t,e){return t.button===0&&(!e||e==="_self")&&!Cme(t)}var bC=null;function Bme(){if(bC===null)try{new FormData(document.createElement("form"),0),bC=!1}catch{bC=!0}return bC}var Eme=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function NT(t){return t!=null&&!Eme.has(t)?(Zd(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wk}"`),null):t}function Ime(t,e){let n,r,s,i,a;if(wme(t)){let o=t.getAttribute("action");r=o?mh(o,e):null,n=t.getAttribute("method")||Hk,s=NT(t.getAttribute("enctype"))||Wk,i=new FormData(t)}else if(vme(t)||Sme(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||o.getAttribute("action");if(r=c?mh(c,e):null,n=t.getAttribute("formmethod")||o.getAttribute("method")||Hk,s=NT(t.getAttribute("formenctype"))||NT(o.getAttribute("enctype"))||Wk,i=new FormData(o,t),!Bme()){let{name:u,type:d,value:f}=t;if(d==="image"){let h=u?`${u}.`:"";i.append(`${h}x`,"0"),i.append(`${h}y`,"0")}else u&&i.append(u,f)}}else{if(kE(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Hk,r=null,s=Wk,a=t}return i&&s==="text/plain"&&(a=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function V8(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Nme(t,e,n,r){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${r}`:s.pathname=`${s.pathname}.${r}`:s.pathname==="/"?s.pathname=`_root.${r}`:e&&mh(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${r}`,s}async function jme(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Tme(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function _me(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let a=await jme(i,n);return a.links?a.links():[]}return[]}));return Dme(r.flat(1).filter(Tme).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function J9(t,e,n,r,s,i){let a=(c,u)=>n[u]?c.route.id!==n[u].route.id:!0,o=(c,u)=>n[u].pathname!==c.pathname||n[u].route.path?.endsWith("*")&&n[u].params["*"]!==c.params["*"];return i==="assets"?e.filter((c,u)=>a(c,u)||o(c,u)):i==="data"?e.filter((c,u)=>{let d=r.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(a(c,u)||o(c,u))return!0;if(c.route.shouldRevalidate){let f=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function Rme(t,e,{includeHydrateFallback:n}={}){return Ome(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function Ome(t){return[...new Set(t)]}function Fme(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Dme(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(Fme(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function jJ(){let t=C.useContext(L1);return V8(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Lme(){let t=C.useContext(SE);return V8(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var q8=C.createContext(void 0);q8.displayName="FrameworkContext";function TJ(){let t=C.useContext(q8);return V8(t,"You must render this element inside a <HydratedRouter> element"),t}function $me(t,e){let n=C.useContext(q8),[r,s]=C.useState(!1),[i,a]=C.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=e,h=C.useRef(null);C.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let y=v=>{v.forEach(w=>{a(w.isIntersecting)})},x=new IntersectionObserver(y,{threshold:.5});return h.current&&x.observe(h.current),()=>{x.disconnect()}}},[t]),C.useEffect(()=>{if(r){let y=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(y)}}},[r]);let m=()=>{s(!0)},g=()=>{s(!1),a(!1)};return n?t!=="intent"?[i,h,{}]:[i,h,{onFocus:rv(o,m),onBlur:rv(c,g),onMouseEnter:rv(u,m),onMouseLeave:rv(d,g),onTouchStart:rv(f,m)}]:[!1,h,{}]}function rv(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Pme({page:t,...e}){let{router:n}=jJ(),r=C.useMemo(()=>gJ(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?C.createElement(zme,{page:t,matches:r,...e}):null}function Ume(t){let{manifest:e,routeModules:n}=TJ(),[r,s]=C.useState([]);return C.useEffect(()=>{let i=!1;return _me(t,e,n).then(a=>{i||s(a)}),()=>{i=!0}},[t,e,n]),r}function zme({page:t,matches:e,...n}){let r=cf(),{future:s,manifest:i,routeModules:a}=TJ(),{basename:o}=jJ(),{loaderData:c,matches:u}=Lme(),d=C.useMemo(()=>J9(t,e,u,i,r,"data"),[t,e,u,i,r]),f=C.useMemo(()=>J9(t,e,u,i,r,"assets"),[t,e,u,i,r]),h=C.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let y=new Set,x=!1;if(e.forEach(w=>{let B=i.routes[w.route.id];!B||!B.hasLoader||(!d.some(k=>k.route.id===w.route.id)&&w.route.id in c&&a[w.route.id]?.shouldRevalidate||B.hasClientLoader?x=!0:y.add(w.route.id))}),y.size===0)return[];let v=Nme(t,o,s.unstable_trailingSlashAwareDataRequests,"data");return x&&y.size>0&&v.searchParams.set("_routes",e.filter(w=>y.has(w.route.id)).map(w=>w.route.id).join(",")),[v.pathname+v.search]},[o,s.unstable_trailingSlashAwareDataRequests,c,r,i,d,e,t,a]),m=C.useMemo(()=>Rme(f,i),[f,i]),g=Ume(f);return C.createElement(C.Fragment,null,h.map(y=>C.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...n})),m.map(y=>C.createElement("link",{key:y,rel:"modulepreload",href:y,...n})),g.map(({key:y,link:x})=>C.createElement("link",{key:y,nonce:n.nonce,...x,crossOrigin:x.crossOrigin??n.crossOrigin})))}function Mme(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Qme=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Qme&&(window.__reactRouterVersion="7.13.0")}catch{}function Hme({basename:t,children:e,unstable_useTransitions:n,window:r}){let s=C.useRef();s.current==null&&(s.current=kpe({window:r,v5Compat:!0}));let i=s.current,[a,o]=C.useState({action:i.action,location:i.location}),c=C.useCallback(u=>{n===!1?o(u):C.startTransition(()=>o(u))},[n]);return C.useLayoutEffect(()=>i.listen(c),[i,c]),C.createElement(bme,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i,unstable_useTransitions:n})}var _J=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,RJ=C.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:a,state:o,target:c,to:u,preventScrollReset:d,viewTransition:f,unstable_defaultShouldRevalidate:h,...m},g){let{basename:y,unstable_useTransitions:x}=C.useContext(gu),v=typeof u=="string"&&_J.test(u),w=vJ(u,y);u=w.to;let B=ime(u,{relative:s}),[k,E,N]=$me(r,m),O=qme(u,{replace:a,state:o,target:c,preventScrollReset:d,relative:s,viewTransition:f,unstable_defaultShouldRevalidate:h,unstable_useTransitions:x});function F(T){e&&e(T),T.defaultPrevented||O(T)}let D=C.createElement("a",{...m,...N,href:w.absoluteURL||B,onClick:w.isExternal||i?e:F,ref:Mme(g,E),target:c,"data-discover":!v&&n==="render"?"true":void 0});return k&&!v?C.createElement(C.Fragment,null,D,C.createElement(Pme,{page:B})):D});RJ.displayName="Link";var M6=C.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:a,viewTransition:o,children:c,...u},d){let f=aw(a,{relative:u.relative}),h=cf(),m=C.useContext(SE),{navigator:g,basename:y}=C.useContext(gu),x=m!=null&&Jme(f)&&o===!0,v=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,w=h.pathname,B=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(w=w.toLowerCase(),B=B?B.toLowerCase():null,v=v.toLowerCase()),B&&y&&(B=mh(B,y)||B);const k=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let E=w===v||!s&&w.startsWith(v)&&w.charAt(k)==="/",N=B!=null&&(B===v||!s&&B.startsWith(v)&&B.charAt(v.length)==="/"),O={isActive:E,isPending:N,isTransitioning:x},F=E?e:void 0,D;typeof r=="function"?D=r(O):D=[r,E?"active":null,N?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let T=typeof i=="function"?i(O):i;return C.createElement(RJ,{...u,"aria-current":F,className:D,ref:d,style:T,to:a,viewTransition:o},typeof c=="function"?c(O):c)});M6.displayName="NavLink";var Wme=C.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:a=Hk,action:o,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f,unstable_defaultShouldRevalidate:h,...m},g)=>{let{unstable_useTransitions:y}=C.useContext(gu),x=Xme(),v=Yme(o,{relative:u}),w=a.toLowerCase()==="get"?"get":"post",B=typeof o=="string"&&_J.test(o),k=E=>{if(c&&c(E),E.defaultPrevented)return;E.preventDefault();let N=E.nativeEvent.submitter,O=N?.getAttribute("formmethod")||a,F=()=>x(N||E.currentTarget,{fetcherKey:e,method:O,navigate:n,replace:s,state:i,relative:u,preventScrollReset:d,viewTransition:f,unstable_defaultShouldRevalidate:h});y&&n!==!1?C.startTransition(()=>F()):F()};return C.createElement("form",{ref:g,method:w,action:v,onSubmit:r?c:k,...m,"data-discover":!B&&t==="render"?"true":void 0})});Wme.displayName="Form";function Vme(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OJ(t){let e=C.useContext(L1);return Hi(e,Vme(t)),e}function qme(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:a,unstable_defaultShouldRevalidate:o,unstable_useTransitions:c}={}){let u=Q8(),d=cf(),f=aw(t,{relative:i});return C.useCallback(h=>{if(kme(h,e)){h.preventDefault();let m=n!==void 0?n:f2(d)===f2(f),g=()=>u(t,{replace:m,state:r,preventScrollReset:s,relative:i,viewTransition:a,unstable_defaultShouldRevalidate:o});c?C.startTransition(()=>g()):g()}},[d,u,f,n,r,e,t,s,i,a,o,c])}var Gme=0,Kme=()=>`__${String(++Gme)}__`;function Xme(){let{router:t}=OJ("useSubmit"),{basename:e}=C.useContext(gu),n=mme(),r=t.fetch,s=t.navigate;return C.useCallback(async(i,a={})=>{let{action:o,method:c,encType:u,formData:d,body:f}=Ime(i,e);if(a.navigate===!1){let h=a.fetcherKey||Kme();await r(h,n,a.action||o,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:d,body:f,formMethod:a.method||c,formEncType:a.encType||u,flushSync:a.flushSync})}else await s(a.action||o,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:d,body:f,formMethod:a.method||c,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,s,e,n])}function Yme(t,{relative:e}={}){let{basename:n}=C.useContext(gu),r=C.useContext(mA);Hi(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...aw(t||".",{relative:e})},a=cf();if(t==null){i.search=a.search;let o=new URLSearchParams(i.search),c=o.getAll("index");if(c.some(d=>d==="")){o.delete("index"),c.filter(f=>f).forEach(f=>o.append("index",f));let d=o.toString();i.search=d?`?${d}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:dh([n,i.pathname])),f2(i)}function Jme(t,{relative:e}={}){let n=C.useContext(SJ);Hi(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=OJ("useViewTransitionState"),s=aw(t,{relative:e});if(!n.isTransitioning)return!1;let i=mh(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=mh(n.nextLocation.pathname,r)||n.nextLocation.pathname;return IB(s.pathname,a)!=null||IB(s.pathname,i)!=null}var BE=mJ();const Zme=nc(BE);const FJ=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();const ege=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const tge=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase());const Z9=t=>{const e=tge(t);return e.charAt(0).toUpperCase()+e.slice(1)};var nge={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const rge=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const sge=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...o},c)=>C.createElement("svg",{ref:c,...nge,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:FJ("lucide",s),...!i&&!rge(o)&&{"aria-hidden":"true"},...o},[...a.map(([u,d])=>C.createElement(u,d)),...Array.isArray(i)?i:[i]]));const Ft=(t,e)=>{const n=C.forwardRef(({className:r,...s},i)=>C.createElement(sge,{ref:i,iconNode:e,className:FJ(`lucide-${ege(Z9(t))}`,`lucide-${t}`,r),...s}));return n.displayName=Z9(t),n};const ige=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Ga=Ft("activity",ige);const age=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],oge=Ft("arrow-down-right",age);const lge=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],eQ=Ft("arrow-left-right",lge);const cge=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],uge=Ft("arrow-left",cge);const dge=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Sg=Ft("arrow-right",dge);const fge=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Age=Ft("arrow-up-right",fge);const hge=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],jl=Ft("award",hge);const pge=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],A2=Ft("book-open",pge);const mge=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],NB=Ft("bot",mge);const gge=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],Zr=Ft("brain",gge);const yge=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],d1=Ft("calendar",yge);const xge=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Vk=Ft("camera",xge);const bge=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Pg=Ft("chart-column",bge);const vge=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],Qf=Ft("chart-no-axes-column",vge);const wge=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Sge=Ft("chart-pie",wge);const Cge=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],DJ=Ft("check",Cge);const kge=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],gh=Ft("chevron-down",kge);const Bge=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],h2=Ft("chevron-left",Bge);const Ege=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ug=Ft("chevron-right",Ege);const Ige=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],tm=Ft("chevron-up",Ige);const Nge=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Q6=Ft("circle-alert",Nge);const jge=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],$n=Ft("circle-check-big",jge);const Tge=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],_ge=Ft("circle-check",Tge);const Rge=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],LJ=Ft("circle-question-mark",Rge);const Oge=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Jr=Ft("circle-x",Oge);const Fge=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Hd=Ft("clipboard-list",Fge);const Dge=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m15 11-6 6",key:"1toa9n"}],["path",{d:"m9 11 6 6",key:"wlibny"}]],Lge=Ft("clipboard-x",Dge);const $ge=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],vs=Ft("clock",$ge);const Pge=[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]],Cg=Ft("code-xml",Pge);const Uge=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],Dr=Ft("code",Uge);const zge=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],$J=Ft("copy",zge);const Mge=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],Qge=Ft("cpu",Mge);const Hge=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Ka=Ft("database",Hge);const Wge=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],zg=Ft("download",Wge);const Vge=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Mg=Ft("eye-off",Vge);const qge=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_s=Ft("eye",qge);const Gge=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]],yh=Ft("file-code",Gge);const Kge=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Oa=Ft("file-text",Kge);const Xge=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],tQ=Ft("flame",Xge);const Yge=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],EE=Ft("globe",Yge);const Jge=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],H6=Ft("hash",Jge);const Zge=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],e0e=Ft("info",Zge);const t0e=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],W6=Ft("key",t0e);const n0e=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],qu=Ft("layers",n0e);const r0e=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],G8=Ft("layout-dashboard",r0e);const s0e=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],xh=Ft("lightbulb",s0e);const i0e=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],a0e=Ft("link",i0e);const o0e=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],PJ=Ft("list-checks",o0e);const l0e=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],UJ=Ft("list",l0e);const c0e=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],lh=Ft("loader-circle",c0e);const u0e=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],d0e=Ft("loader",u0e);const f0e=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],A0e=Ft("lock",f0e);const h0e=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],p0e=Ft("log-out",h0e);const m0e=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],g0e=Ft("mail",m0e);const y0e=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],Rv=Ft("maximize",y0e);const x0e=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],nQ=Ft("medal",x0e);const b0e=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],v0e=Ft("menu",b0e);const w0e=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],zJ=Ft("message-circle",w0e);const S0e=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Fp=Ft("message-square",S0e);const C0e=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],MJ=Ft("mic-off",C0e);const k0e=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],IE=Ft("mic",k0e);const B0e=[["path",{d:"M5 12h14",key:"1ays0h"}]],E0e=Ft("minus",B0e);const I0e=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],N0e=Ft("monitor",I0e);const j0e=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],T0e=Ft("moon",j0e);const _0e=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],R0e=Ft("network",_0e);const O0e=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],ef=Ft("play",O0e);const F0e=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],il=Ft("plus",F0e);const D0e=[["path",{d:"M19.07 4.93A10 10 0 0 0 6.99 3.34",key:"z3du51"}],["path",{d:"M4 6h.01",key:"oypzma"}],["path",{d:"M2.29 9.62A10 10 0 1 0 21.31 8.35",key:"qzzz0"}],["path",{d:"M16.24 7.76A6 6 0 1 0 8.23 16.67",key:"1yjesh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M17.99 11.66A6 6 0 0 1 15.77 16.67",key:"1u2y91"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"m13.41 10.59 5.66-5.66",key:"mhq4k0"}]],L0e=Ft("radar",D0e);const $0e=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],f1=Ft("refresh-cw",$0e);const P0e=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],QJ=Ft("rotate-ccw",P0e);const U0e=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],ow=Ft("save",U0e);const z0e=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["path",{d:"M9 9h.01",key:"1q5me6"}],["path",{d:"M15 9h.01",key:"x1ddxp"}]],M0e=Ft("scan-face",z0e);const Q0e=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],P1=Ft("search",Q0e);const H0e=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],_c=Ft("send",H0e);const W0e=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],HJ=Ft("settings",W0e);const V0e=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ui=Ft("shield",V0e);const q0e=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],V6=Ft("smartphone",q0e);const G0e=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Po=Ft("sparkles",G0e);const K0e=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],WJ=Ft("square-pen",K0e);const X0e=[["path",{d:"M10.029 4.285A2 2 0 0 0 7 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"1ystz2"}],["path",{d:"M3 4v16",key:"1ph11n"}]],Y0e=Ft("step-forward",X0e);const J0e=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Z0e=Ft("sun",J0e);const eye=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],K8=Ft("table",eye);const tye=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],nye=Ft("tag",tye);const rye=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],kr=Ft("target",rye);const sye=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],rQ=Ft("terminal",sye);const iye=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],q6=Ft("toggle-left",iye);const aye=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],sQ=Ft("toggle-right",aye);const oye=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Nl=Ft("trash-2",oye);const lye=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],sA=Ft("trending-up",lye);const cye=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Qn=Ft("triangle-alert",cye);const uye=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],ol=Ft("trophy",uye);const dye=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],fye=Ft("type",dye);const Aye=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],NE=Ft("upload",Aye);const hye=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],pye=Ft("user-plus",hye);const mye=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],jB=Ft("user",mye);const gye=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],p2=Ft("users",gye);const yye=[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],qk=Ft("video-off",yye);const xye=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Zv=Ft("video",xye);const bye=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],iQ=Ft("volume-2",bye);const vye=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],wye=Ft("volume-x",vye);const Sye=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],G6=Ft("wand-sparkles",Sye);const Cye=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],aQ=Ft("wifi-off",Cye);const kye=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],Bye=Ft("wifi",kye);const Eye=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],xi=Ft("x",Eye);const Iye=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],nd=Ft("zap",Iye);function Nye(){const t=C.useRef(null);return C.useEffect(()=>{const e=t.current,n=e.getContext("2d");let r,s=[];const i=()=>{e.width=window.innerWidth,e.height=window.innerHeight,a()},a=()=>{s=[];const u=Math.floor(e.width*e.height/18e3);for(let d=0;d<u;d++)s.push({x:Math.random()*e.width,y:Math.random()*e.height,vx:(Math.random()-.5)*.4,vy:(Math.random()-.5)*.4,radius:Math.random()*2+1,pulsePhase:Math.random()*Math.PI*2})},o=()=>{const u=document.documentElement.getAttribute("data-theme")==="light";n.fillStyle=u?"rgba(248, 250, 252, 0.08)":"rgba(8, 12, 24, 0.08)",n.fillRect(0,0,e.width,e.height),s.forEach((d,f)=>{d.x+=d.vx,d.y+=d.vy,d.pulsePhase+=.015,(d.x<0||d.x>e.width)&&(d.vx*=-1),(d.y<0||d.y>e.height)&&(d.vy*=-1),s.forEach((g,y)=>{if(f>=y)return;const x=g.x-d.x,v=g.y-d.y,w=Math.sqrt(x*x+v*v);if(w<120){const B=(1-w/120)*.25;n.beginPath(),n.strokeStyle=u?`rgba(59, 130, 246, ${B*1.5})`:`rgba(59, 130, 246, ${B})`,n.lineWidth=.5,n.moveTo(d.x,d.y),n.lineTo(g.x,g.y),n.stroke()}});const h=Math.sin(d.pulsePhase)*.3+.7,m=n.createRadialGradient(d.x,d.y,0,d.x,d.y,d.radius*3);m.addColorStop(0,`rgba(59, 130, 246, ${h})`),m.addColorStop(.5,`rgba(59, 130, 246, ${h*.3})`),m.addColorStop(1,"rgba(59, 130, 246, 0)"),n.beginPath(),n.fillStyle=m,n.arc(d.x,d.y,d.radius*3,0,Math.PI*2),n.fill(),n.beginPath(),n.fillStyle=u?`rgba(37, 99, 235, ${h})`:`rgba(147, 197, 253, ${h})`,n.arc(d.x,d.y,d.radius,0,Math.PI*2),n.fill()}),r=requestAnimationFrame(o)};i();const c=document.documentElement.getAttribute("data-theme")==="light";return n.fillStyle=c?"#f8fafc":"#080c18",n.fillRect(0,0,e.width,e.height),o(),window.addEventListener("resize",i),()=>{window.removeEventListener("resize",i),cancelAnimationFrame(r)}},[]),l.jsx("canvas",{ref:t,className:"neural-canvas"})}function jye(){return l.jsxs("div",{className:"ai-illustration",children:[l.jsxs("div",{className:"illustration-container",children:[l.jsxs("div",{className:"central-brain",children:[l.jsx(Zr,{size:80}),l.jsx("div",{className:"brain-pulse"}),l.jsx("div",{className:"brain-pulse delay-1"}),l.jsx("div",{className:"brain-pulse delay-2"})]}),l.jsx("div",{className:"floating-icon icon-1",children:l.jsx(Ka,{size:28})}),l.jsx("div",{className:"floating-icon icon-2",children:l.jsx(Pg,{size:28})}),l.jsx("div",{className:"floating-icon icon-3",children:l.jsx(Cg,{size:28})}),l.jsx("div",{className:"floating-icon icon-4",children:l.jsx(Qge,{size:28})}),l.jsx("div",{className:"floating-icon icon-5",children:l.jsx(R0e,{size:28})}),l.jsx("div",{className:"floating-icon icon-6",children:l.jsx(Po,{size:28})}),l.jsxs("svg",{className:"connection-lines",viewBox:"0 0 400 400",children:[l.jsx("defs",{children:l.jsxs("linearGradient",{id:"lineGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[l.jsx("stop",{offset:"0%",stopColor:"#3b82f6",stopOpacity:"0.6"}),l.jsx("stop",{offset:"100%",stopColor:"#06b6d4",stopOpacity:"0.1"})]})}),l.jsx("circle",{cx:"200",cy:"200",r:"80",fill:"none",stroke:"url(#lineGradient)",strokeWidth:"1",strokeDasharray:"5,5",className:"rotating-circle"}),l.jsx("circle",{cx:"200",cy:"200",r:"130",fill:"none",stroke:"url(#lineGradient)",strokeWidth:"0.5",strokeDasharray:"3,3",className:"rotating-circle reverse"}),l.jsx("circle",{cx:"200",cy:"200",r:"170",fill:"none",stroke:"url(#lineGradient)",strokeWidth:"0.5",strokeDasharray:"2,4",className:"rotating-circle"})]})]}),l.jsxs("h3",{className:"illustration-title",children:[l.jsx(Po,{size:20}),"AI-Powered Learning"]}),l.jsx("p",{className:"illustration-desc",children:"Experience intelligent code evaluation and personalized feedback"})]})}function Tye(){const[t,e]=C.useState(""),[n,r]=C.useState(""),[s,i]=C.useState(""),[a,o]=C.useState(!1),[c,u]=C.useState(!1),{login:d}=xb(),f=async h=>{h.preventDefault(),i(""),o(!0);const m=await d(t,n);m.success||i(m.error),o(!1)};return l.jsxs("div",{className:"login-page",children:[l.jsx(Nye,{}),l.jsxs("nav",{className:"login-nav",children:[l.jsxs("div",{className:"nav-logo",children:[l.jsx(Zr,{className:"logo-icon-svg",size:28}),l.jsx("span",{className:"logo-text",children:"Mentor Hub"})]}),l.jsxs("button",{className:"nav-login-btn",onClick:()=>u(!0),children:["Login ",l.jsx(Sg,{size:16})]})]}),l.jsxs("div",{className:"login-content",children:[l.jsxs("div",{className:"hero-section",children:[l.jsxs("div",{className:"hero-badge",children:[l.jsx(Zr,{size:16}),l.jsx("span",{children:"AI & Data Science Learning Platform"})]}),l.jsx("h1",{className:"hero-title",children:"Learn with Mentors"}),l.jsx("p",{className:"hero-subtitle",children:"Learn Machine Learning, Deep Learning, and Data Analytics with personalized mentorship, hands-on projects, and AI-powered code evaluation."}),l.jsxs("button",{className:"cta-button",onClick:()=>u(!0),children:["Get Started - It's Free ",l.jsx(Sg,{size:18})]})]}),l.jsx("div",{className:"dynamic-container",children:c?l.jsxs("div",{className:"login-card-inline animate-slideIn",children:[l.jsx("button",{className:"panel-back",onClick:()=>u(!1),children:l.jsx(xi,{size:20})}),l.jsxs("div",{className:"card-header",children:[l.jsx("div",{className:"header-icon",children:l.jsx(Zr,{size:32})}),l.jsx("h2",{children:"Welcome Back"}),l.jsx("p",{children:"Sign in to continue your AI learning journey"})]}),l.jsxs("form",{onSubmit:f,className:"login-form",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"email",children:"Email Address"}),l.jsxs("div",{className:"input-field",children:[l.jsx(g0e,{className:"field-icon",size:18}),l.jsx("input",{type:"email",id:"email",value:t,onChange:h=>e(h.target.value),placeholder:"Enter your email",required:!0})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"password",children:"Password"}),l.jsxs("div",{className:"input-field",children:[l.jsx(A0e,{className:"field-icon",size:18}),l.jsx("input",{type:"password",id:"password",value:n,onChange:h=>r(h.target.value),placeholder:"Enter your password",required:!0})]})]}),s&&l.jsx("div",{className:"error-message",children:s}),l.jsx("button",{type:"submit",className:"submit-btn",disabled:a,children:a?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"btn-spinner"}),"Signing in..."]}):l.jsxs(l.Fragment,{children:["Sign In",l.jsx(Sg,{size:18})]})})]})]}):l.jsx(jye,{})})]})]})}const sv={en:{app_name:"AI Mentor Hub",loading:"Loading...",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",create:"Create",search:"Search...",submit:"Submit",close:"Close",back:"Back",next:"Next",yes:"Yes",no:"No",confirm:"Confirm",actions:"Actions",status:"Status",view:"View",download:"Download",export:"Export",refresh:"Refresh",no_data:"No data available",error_occurred:"An error occurred",success:"Success",failed:"Failed",offline_message:"You are offline. Changes will sync when connected.",online_message:"You are back online!",syncing:"Syncing data...",login:"Login",logout:"Logout",email:"Email",password:"Password",sign_in:"Sign In",welcome_back:"Welcome Back",login_subtitle:"Sign in to your account",dashboard:"Dashboard",global_tasks:"Global Tasks",global_problems:"Global Problems",aptitude_tests:"Aptitude Tests",global_complete_tests:"Global Complete Tests",allocations:"Allocations",student_ranks:"Student Ranks",mentor_ranks:"Mentor Ranks",all_submissions:"All Submissions",live_monitoring:"Live Monitoring",admin_operations:"Admin Operations",upload_tasks:"Upload Tasks",upload_problems:"Upload Problems",leaderboard:"Leaderboard",coding_problems:"Coding Problems",my_submissions:"My Submissions",dark_mode:"Dark Mode",light_mode:"Light Mode",total_students:"Total Students",total_mentors:"Total Mentors",total_submissions:"Total Submissions",total_problems:"Total Problems",total_tasks:"Total Tasks",average_score:"Average Score",pass_rate:"Pass Rate",active_users:"Active Users",system_health:"System Health",bulk_operations:"Bulk Operations",audit_logs:"Audit Logs",templates:"Templates",backups:"Backups",data_export:"Data Export",analytics:"Analytics",solve_problem:"Solve Problem",run_code:"Run Code",submit_solution:"Submit Solution",test_cases:"Test Cases",passed:"Passed",failed_status:"Failed",score:"Score",difficulty:"Difficulty",easy:"Easy",medium:"Medium",hard:"Hard",language:"Language",proctored:"Proctored",camera_required:"Camera access required for proctored exams",tab_switch_warning:"Tab switch detected!",violation:"Violation",just_now:"Just now",minutes_ago:"{n} minutes ago",hours_ago:"{n} hours ago",days_ago:"{n} days ago",system_overview:"System Overview",system_administration:"System Administration",mentor_student_assignments:"Mentor-Student assignments",student_leaderboard:"Student Leaderboard",top_performers:"Top performers",mentor_leaderboard:"Mentor Leaderboard",mentor_activity:"Mentor activity",platform_wide_submissions:"Platform-wide submissions",tasks_visible_all:"Tasks visible to all users",coding_challenges_all:"Coding challenges for everyone",manage_aptitude_tests:"Manage aptitude tests for all students",global_tests_subtitle:"Aptitude, Verbal, Logical, Coding, SQL  create and manage",global_live_monitoring:"Global Live Monitoring",monitor_all_subtitle:"Monitor all mentors, students, and proctoring alerts",admin_ops_subtitle:"Bulk operations, backups, exports, audit logs & system health",ml_tasks:"ML Tasks",create_ml_tasks_subtitle:"Create machine learning tasks for students",create_problems_subtitle:"Create coding/SQL problems",student_rankings:"Student rankings",review_student_work:"Review student work with AI evaluation",live_student_monitoring:"Live Student Monitoring",realtime_activity_subtitle:"Real-time student activity and proctoring alerts",welcome_back_name:"Welcome back, {name}!",ml_tasks_subtitle:"Machine Learning tasks to complete",solve_coding_subtitle:"Solve coding and SQL problems",aptitude_subtitle:"Test your reasoning and analytical skills",global_tests_student_subtitle:"Aptitude, Verbal, Logical, Coding, SQL",submissions_subtitle:"View your submission history and reports",my_mentor:"My Mentor",skip_to_content:"Skip to main content",menu:"Menu",close_menu:"Close menu",open_menu:"Open menu",navigation:"Navigation",main_content:"Main content",my_analytics:"My Analytics",analytics_subtitle:"Track your performance and progress",analytics_dashboard_subtitle:"Student performance insights and reports",advanced_analytics_subtitle:"Platform-wide data analytics and insights",learning_path:"Learning Path",peer_comparison:"Peer Comparison",topic_analysis:"Topic Analysis",plagiarism_detection:"Plagiarism Detection",time_to_solve:"Time to Solve",export_report:"Export Report",overall_pass_rate:"Overall Pass Rate",problems_passed:"Problems Passed",total_attempts:"Total Attempts",weak_areas:"Weak Areas",strengths:"Strengths",fail_rate:"Fail Rate",avg_score:"Avg Score",submissions:"Submissions",students:"Students",by_difficulty:"By Difficulty",by_language:"By Language",most_attempted_problems:"Most Attempted Problems",plagiarism_flags:"Plagiarism Flags",plagiarism_rate:"Plagiarism Rate",repeat_offenders:"Repeat Offenders",no_offenders:"No repeat offenders found",most_copied_problems:"Most Copied Problems",copied_from:"Copied From",all_flagged_submissions:"All Flagged Submissions",no_plagiarism_detected:"No plagiarism detected",avg_time:"Avg Time",avg_attempts:"Avg Attempts",solve_rate:"Solve Rate",problems:"Problems",all_problems_metrics:"All Problems - Performance Metrics",export_platform_analytics:"Export Platform Analytics",export_platform_description:"Download comprehensive analytics data for offline analysis and reporting",download_csv:"Download CSV",download_json:"Download JSON",date:"Date",student:"Student",problem:"Problem",type:"Type",attempts:"Attempts",no_weak_areas:"No weak areas found - great job!",language_proficiency:"Language Proficiency",recommended_problems:"Recommended Problems",complete_more_problems:"Complete more problems to get recommendations",your_rank:"Your Rank",out_of:"out of",percentile:"Percentile",top_performer_msg:"You are in the top performers!",your_score_vs_class:"Your Score vs Class Average",problems_solved_label:"Problems Solved",tasks_completed:"Tasks Completed",you:"You",class_avg:"Class Avg",score_distribution:"Score Distribution",highlighted_your_position:"Your position is highlighted",language_vs_class:"Language vs Class Average",performance_by_type:"Performance by Type",performance_by_difficulty:"Performance by Difficulty",performance_by_language:"Performance by Language",most_attempted:"Most Attempted",by_problem_type:"By Problem Type",type_difficulty_heatmap:"Type-Difficulty Heatmap",flagged:"Flagged",flags:"Flags",flagged_submissions:"Flagged Submissions"},ta:{app_name:"AI  ",loading:"...",save:"",cancel:"",delete:"",edit:"",create:"",search:"...",submit:"",close:"",back:"",next:"",yes:"",no:"",confirm:"",actions:"",status:"",view:"",download:"",export:"",refresh:"",no_data:" ",error_occurred:" ",success:"",failed:"",offline_message:"  .   .",online_message:"   !",syncing:" ...",login:"",logout:"",email:"",password:"",sign_in:"",welcome_back:" ",login_subtitle:"  ",dashboard:"",global_tasks:" ",global_problems:" ",aptitude_tests:" ",global_complete_tests:" ",allocations:"",student_ranks:" ",mentor_ranks:" ",all_submissions:" ",live_monitoring:" ",admin_operations:" ",upload_tasks:" ",upload_problems:" ",leaderboard:" ",coding_problems:" ",my_submissions:" ",dark_mode:" ",light_mode:" ",total_students:" ",total_mentors:" ",total_submissions:" ",total_problems:" ",total_tasks:" ",average_score:" ",pass_rate:" ",active_users:"  ",system_health:" ",bulk_operations:" ",audit_logs:" ",templates:"",backups:"",data_export:" ",analytics:"",solve_problem:" ",run_code:" ",submit_solution:" ",test_cases:" ",passed:"",failed_status:"",score:"",difficulty:"",easy:"",medium:"",hard:"",language:"",proctored:"",camera_required:"    ",tab_switch_warning:"  !",violation:"",just_now:"",minutes_ago:"{n}  ",hours_ago:"{n}   ",days_ago:"{n}  ",system_overview:" ",system_administration:" ",mentor_student_assignments:"- ",student_leaderboard:"  ",top_performers:" ",mentor_leaderboard:"  ",mentor_activity:" ",platform_wide_submissions:"  ",tasks_visible_all:"   ",coding_challenges_all:"  ",manage_aptitude_tests:"    ",global_tests_subtitle:", , , , SQL    ",global_live_monitoring:"  ",monitor_all_subtitle:" ,     ",admin_ops_subtitle:" , , ,   &  ",ml_tasks:"ML ",create_ml_tasks_subtitle:"    ",create_problems_subtitle:"/SQL  ",student_rankings:" ",review_student_work:"AI     ",live_student_monitoring:"  ",realtime_activity_subtitle:"     ",welcome_back_name:" , {name}!",ml_tasks_subtitle:"    ",solve_coding_subtitle:"  SQL  ",aptitude_subtitle:"     ",global_tests_student_subtitle:", , , , SQL",submissions_subtitle:"     ",my_mentor:" ",skip_to_content:"  ",menu:"",close_menu:" ",open_menu:" ",navigation:"",main_content:" ",my_analytics:" ",analytics_subtitle:"    ",analytics_dashboard_subtitle:"  ",advanced_analytics_subtitle:"   ",learning_path:" ",peer_comparison:" ",topic_analysis:" ",plagiarism_detection:" ",time_to_solve:" ",export_report:" ",overall_pass_rate:"  ",problems_passed:"  ",total_attempts:" ",weak_areas:" ",strengths:"",fail_rate:" ",avg_score:" ",submissions:"",students:"",by_difficulty:" ",by_language:" ",most_attempted_problems:"  ",plagiarism_flags:" ",plagiarism_rate:" ",repeat_offenders:" ",no_offenders:"  ",most_copied_problems:"  ",copied_from:"",all_flagged_submissions:"  ",no_plagiarism_detected:" ",avg_time:" ",avg_attempts:" ",solve_rate:" ",problems:"",all_problems_metrics:"  -  ",export_platform_analytics:"   ",export_platform_description:"    ",download_csv:"CSV ",download_json:"JSON ",date:"",student:"",problem:"",type:"",attempts:"",no_weak_areas:"   -  !",language_proficiency:" ",recommended_problems:" ",complete_more_problems:"    ",your_rank:" ",out_of:"",percentile:" ",top_performer_msg:"   !",your_score_vs_class:"  vs  ",problems_solved_label:" ",tasks_completed:" ",you:"",class_avg:" ",score_distribution:" ",highlighted_your_position:"  ",language_vs_class:" vs  ",performance_by_type:"  ",performance_by_difficulty:"  ",performance_by_language:"  ",most_attempted:" ",by_problem_type:"  ",type_difficulty_heatmap:"-  ",flagged:"",flags:"",flagged_submissions:" "},hi:{app_name:"AI  ",loading:"   ...",save:" ",cancel:" ",delete:"",edit:" ",create:"",search:"...",submit:" ",close:" ",back:"",next:"",yes:"",no:"",confirm:" ",actions:"",status:"",view:"",download:"",export:"",refresh:"",no_data:"   ",error_occurred:"  ",success:"",failed:"",offline_message:"        ",online_message:"   !",syncing:"    ...",login:"",logout:"",email:"",password:"",sign_in:" ",welcome_back:"   ",login_subtitle:"     ",dashboard:"",global_tasks:" ",global_problems:" ",aptitude_tests:" ",global_complete_tests:" ",allocations:"",student_ranks:" ",mentor_ranks:" ",all_submissions:" ",live_monitoring:" ",admin_operations:" ",upload_tasks:"  ",upload_problems:"  ",leaderboard:"",coding_problems:" ",my_submissions:" ",dark_mode:" ",light_mode:" ",total_students:" ",total_mentors:" ",total_submissions:" ",total_problems:" ",total_tasks:" ",average_score:" ",pass_rate:" ",active_users:" ",system_health:" ",bulk_operations:" ",audit_logs:" ",templates:"",backups:"",data_export:" ",analytics:"",solve_problem:"  ",run_code:" ",submit_solution:"  ",test_cases:" ",passed:"",failed_status:"",score:"",difficulty:"",easy:"",medium:"",hard:"",language:"",proctored:"",camera_required:"     ",tab_switch_warning:"  !",violation:"",just_now:"",minutes_ago:"{n}  ",hours_ago:"{n}  ",days_ago:"{n}  ",system_overview:" ",system_administration:" ",mentor_student_assignments:"- ",student_leaderboard:" ",top_performers:" ",mentor_leaderboard:" ",mentor_activity:" ",platform_wide_submissions:"- ",tasks_visible_all:"     ",coding_challenges_all:"    ",manage_aptitude_tests:"       ",global_tests_subtitle:", , , , SQL     ",global_live_monitoring:"  ",monitor_all_subtitle:" ,       ",admin_ops_subtitle:" , , ,     ",ml_tasks:"ML ",create_ml_tasks_subtitle:"      ",create_problems_subtitle:"/SQL  ",student_rankings:" ",review_student_work:"AI        ",live_student_monitoring:"  ",realtime_activity_subtitle:"      ",welcome_back_name:"   , {name}!",ml_tasks_subtitle:"      ",solve_coding_subtitle:"  SQL   ",aptitude_subtitle:"       ",global_tests_student_subtitle:", , , , SQL",submissions_subtitle:"     ",my_mentor:" ",skip_to_content:"   ",menu:"",close_menu:"  ",open_menu:" ",navigation:"",main_content:" ",my_analytics:" ",analytics_subtitle:"      ",analytics_dashboard_subtitle:"    ",advanced_analytics_subtitle:"-  ",learning_path:"  ",peer_comparison:" ",topic_analysis:" ",plagiarism_detection:"  ",time_to_solve:"   ",export_report:" ",overall_pass_rate:"  ",problems_passed:" ",total_attempts:" ",weak_areas:" ",strengths:"",fail_rate:" ",avg_score:" ",submissions:"",students:"",by_difficulty:"  ",by_language:"  ",most_attempted_problems:"     ",plagiarism_flags:"  ",plagiarism_rate:"  ",repeat_offenders:"- ",no_offenders:" -   ",most_copied_problems:"     ",copied_from:"  ",all_flagged_submissions:"  ",no_plagiarism_detected:"     ",avg_time:" ",avg_attempts:" ",solve_rate:"   ",problems:"",all_problems_metrics:"  -  ",export_platform_analytics:"   ",export_platform_description:"       ",download_csv:"CSV  ",download_json:"JSON  ",date:"",student:"",problem:"",type:"",attempts:"",no_weak_areas:"    -  !",language_proficiency:" ",recommended_problems:" ",complete_more_problems:"        ",your_rank:" ",out_of:" ",percentile:"",top_performer_msg:"    !",your_score_vs_class:"    ",problems_solved_label:"   ",tasks_completed:"   ",you:"",class_avg:" ",score_distribution:" ",highlighted_your_position:"     ",language_vs_class:"   ",performance_by_type:"   ",performance_by_difficulty:"   ",performance_by_language:"   ",most_attempted:"    ",by_problem_type:"   ",type_difficulty_heatmap:"- ",flagged:"",flags:"",flagged_submissions:" "}},VJ=[{code:"en",name:"English",nativeName:"English",flag:""},{code:"ta",name:"Tamil",nativeName:"",flag:""},{code:"hi",name:"Hindi",nativeName:"",flag:""}],qJ=C.createContext(null);function m0(){const t=C.useContext(qJ);return t||{t:e=>e,locale:"en",setLocale:()=>{},languages:VJ}}function _ye({children:t}){const[e,n]=C.useState(()=>{const a=localStorage.getItem("locale");if(a&&sv[a])return a;const o=navigator.language?.split("-")[0];return sv[o]?o:"en"}),r=C.useCallback(a=>{sv[a]&&(n(a),localStorage.setItem("locale",a),document.documentElement.setAttribute("lang",a),document.documentElement.setAttribute("dir","ltr"))},[]),i={t:C.useCallback((a,o={})=>{let c=sv[e]?.[a]||sv.en?.[a]||a;return Object.entries(o).forEach(([u,d])=>{c=c.replace(new RegExp(`\\{${u}\\}`,"g"),d)}),c},[e]),locale:e,setLocale:r,languages:VJ};return l.jsx(qJ.Provider,{value:i,children:t})}function X8({children:t,navItems:e,title:n,subtitle:r,mentorInfo:s}){const{user:i,logout:a}=xb(),{theme:o,toggleTheme:c}=Sbt(),{t:u,locale:d,setLocale:f,languages:h}=m0(),[m,g]=C.useState(!1),[y,x]=C.useState(navigator.onLine),[v,w]=C.useState(!1),[B,k]=C.useState({});C.useEffect(()=>{const N=()=>x(!0),O=()=>x(!1);return window.addEventListener("online",N),window.addEventListener("offline",O),()=>{window.removeEventListener("online",N),window.removeEventListener("offline",O)}},[]),C.useEffect(()=>{const N=O=>{O.key==="Escape"&&m&&g(!1)};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[m]);const E=N=>{k(O=>({...O,[N]:!O[N]}))};return l.jsxs("div",{className:"dashboard-layout",children:[l.jsx("a",{href:"#main-content",className:"skip-to-content",children:u("skip_to_content")}),!y&&l.jsxs("div",{role:"alert",style:{position:"fixed",top:0,left:0,right:0,zIndex:9999,background:"linear-gradient(135deg, #f59e0b, #d97706)",color:"#fff",textAlign:"center",padding:"0.5rem 1rem",fontSize:"0.85rem",fontWeight:600,display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[l.jsx(aQ,{size:16})," ",u("offline_message")]}),m&&l.jsx("div",{className:"sidebar-overlay",onClick:()=>g(!1),"aria-hidden":"true"}),l.jsxs("aside",{className:`sidebar ${m?"open":""}`,role:"navigation","aria-label":u("navigation"),children:[l.jsxs("div",{className:"sidebar-header",children:[l.jsxs("div",{className:"logo",children:[l.jsx("div",{className:"logo-icon",children:l.jsx(Zr,{size:18})}),l.jsx("span",{className:"logo-text",children:u("app_name")})]}),l.jsx("button",{className:"close-sidebar",onClick:()=>g(!1),"aria-label":u("close_menu"),children:l.jsx(xi,{size:24})})]}),l.jsx("nav",{className:"sidebar-nav","aria-label":u("navigation"),children:e.map(N=>{if(N.children&&N.children.length>0){const O=B[N.label]||N.defaultExpanded||!1;return l.jsxs("div",{className:"nav-group",children:[l.jsxs("button",{className:"nav-group-header",onClick:()=>E(N.label),"aria-expanded":O,children:[l.jsxs("span",{className:"nav-group-left",children:[N.icon,l.jsx("span",{children:N.label})]}),l.jsx(gh,{size:18,style:{transform:O?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s ease"}})]}),O&&l.jsx("div",{className:"nav-group-items",children:N.children.map((F,D)=>l.jsxs(M6,{to:F.path,className:({isActive:T})=>`nav-item nav-sub-item ${T?"active":""}`,onClick:()=>g(!1),"aria-current":({isActive:T})=>T?"page":void 0,children:[F.icon,l.jsx("span",{children:F.label})]},D))})]},N.label)}return l.jsxs(M6,{to:N.path,className:({isActive:O})=>`nav-item ${O?"active":""}`,onClick:()=>g(!1),"aria-current":({isActive:O})=>O?"page":void 0,children:[N.icon,l.jsx("span",{children:N.label}),N.badge>0&&l.jsx("span",{style:{marginLeft:"auto",background:"#ef4444",color:"white",borderRadius:"50%",minWidth:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.65rem",fontWeight:700,padding:"0 4px",animation:"pulse 2s infinite"},children:N.badge>99?"99+":N.badge})]},N.path)})}),l.jsxs("div",{className:"sidebar-footer",children:[l.jsxs("div",{style:{position:"relative"},children:[l.jsxs("button",{className:"theme-btn",onClick:()=>w(!v),"aria-label":"Change language","aria-expanded":v,children:[l.jsx(EE,{size:18}),l.jsx("span",{children:h.find(N=>N.code===d)?.nativeName||"English"})]}),v&&l.jsx("div",{style:{position:"absolute",bottom:"100%",left:0,right:0,background:"var(--bg-card)",border:"1px solid var(--border-color)",borderRadius:"8px",marginBottom:"4px",overflow:"hidden",boxShadow:"0 -4px 12px rgba(0,0,0,0.15)",zIndex:100},role:"listbox","aria-label":"Select language",children:h.map(N=>l.jsxs("button",{role:"option","aria-selected":d===N.code,onClick:()=>{f(N.code),w(!1)},style:{width:"100%",padding:"0.6rem 1rem",border:"none",background:d===N.code?"var(--primary-alpha)":"transparent",color:"var(--text)",cursor:"pointer",textAlign:"left",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.85rem",fontWeight:d===N.code?600:400},children:[l.jsx("span",{children:N.flag}),l.jsx("span",{children:N.nativeName})]},N.code))})]}),l.jsxs("button",{className:"theme-btn",onClick:c,"aria-label":u(o==="light"?"dark_mode":"light_mode"),children:[o==="light"?l.jsx(T0e,{size:20}):l.jsx(Z0e,{size:20}),l.jsx("span",{children:u(o==="light"?"dark_mode":"light_mode")})]}),l.jsxs("div",{className:"user-info",children:[l.jsx("div",{className:"user-avatar","aria-hidden":"true",children:l.jsx(jB,{size:18})}),l.jsxs("div",{className:"user-details",children:[l.jsx("span",{className:"user-name",children:i?.name}),l.jsx("span",{className:"user-role",children:i?.role})]}),l.jsx("button",{className:"logout-btn",onClick:a,title:u("logout"),"aria-label":u("logout"),children:l.jsx(p0e,{size:18})})]})]})]}),l.jsxs("main",{className:"main-content",role:"main",children:[l.jsxs("header",{className:"content-header",role:"banner",children:[l.jsxs("div",{className:"header-left",children:[l.jsx("button",{className:"menu-toggle",onClick:()=>g(!0),"aria-label":u("open_menu"),"aria-expanded":m,children:l.jsx(v0e,{size:24})}),l.jsxs("div",{className:"page-title",children:[l.jsx("h1",{children:n}),l.jsx("p",{children:r})]})]}),l.jsxs("div",{className:"header-right",children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.35rem",fontSize:"0.8rem",color:y?"var(--success)":"var(--warning)",fontWeight:500},role:"status","aria-live":"polite",children:[y?l.jsx(Bye,{size:14}):l.jsx(aQ,{size:14}),l.jsx("span",{className:"sr-only",children:y?"Online":"Offline"})]}),s&&l.jsxs("div",{className:"mentor-badge-nav",children:[l.jsx("div",{className:"mentor-avatar-nav","aria-hidden":"true",children:s.name.charAt(0).toUpperCase()}),l.jsxs("div",{className:"mentor-details-nav",children:[l.jsx("span",{className:"mentor-label-nav",children:u("my_mentor")}),l.jsx("span",{className:"mentor-name-nav",children:s.name})]})]})]})]}),l.jsx("div",{className:"content-body",id:"main-content",tabIndex:"-1",children:t})]})]})}function GJ(t,e){return function(){return t.apply(e,arguments)}}const{toString:Rye}=Object.prototype,{getPrototypeOf:Y8}=Object,{iterator:jE,toStringTag:KJ}=Symbol,TE=(t=>e=>{const n=Rye.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),uf=t=>(t=t.toLowerCase(),e=>TE(e)===t),_E=t=>e=>typeof e===t,{isArray:U1}=Array,A1=_E("undefined");function lw(t){return t!==null&&!A1(t)&&t.constructor!==null&&!A1(t.constructor)&&jc(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const XJ=uf("ArrayBuffer");function Oye(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&XJ(t.buffer),e}const Fye=_E("string"),jc=_E("function"),YJ=_E("number"),cw=t=>t!==null&&typeof t=="object",Dye=t=>t===!0||t===!1,Gk=t=>{if(TE(t)!=="object")return!1;const e=Y8(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(KJ in t)&&!(jE in t)},Lye=t=>{if(!cw(t)||lw(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},$ye=uf("Date"),Pye=uf("File"),Uye=uf("Blob"),zye=uf("FileList"),Mye=t=>cw(t)&&jc(t.pipe),Qye=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||jc(t.append)&&((e=TE(t))==="formdata"||e==="object"&&jc(t.toString)&&t.toString()==="[object FormData]"))},Hye=uf("URLSearchParams"),[Wye,Vye,qye,Gye]=["ReadableStream","Request","Response","Headers"].map(uf),Kye=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function uw(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),U1(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{if(lw(t))return;const i=n?Object.getOwnPropertyNames(t):Object.keys(t),a=i.length;let o;for(r=0;r<a;r++)o=i[r],e.call(null,t[o],o,t)}}function JJ(t,e){if(lw(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const pg=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ZJ=t=>!A1(t)&&t!==pg;function K6(){const{caseless:t,skipUndefined:e}=ZJ(this)&&this||{},n={},r=(s,i)=>{if(i==="__proto__"||i==="constructor"||i==="prototype")return;const a=t&&JJ(n,i)||i;Gk(n[a])&&Gk(s)?n[a]=K6(n[a],s):Gk(s)?n[a]=K6({},s):U1(s)?n[a]=s.slice():(!e||!A1(s))&&(n[a]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&uw(arguments[s],r);return n}const Xye=(t,e,n,{allOwnKeys:r}={})=>(uw(e,(s,i)=>{n&&jc(s)?Object.defineProperty(t,i,{value:GJ(s,n),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(t,i,{value:s,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:r}),t),Yye=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Jye=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),Object.defineProperty(t.prototype,"constructor",{value:t,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Zye=(t,e,n,r)=>{let s,i,a;const o={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)a=s[i],(!r||r(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=n!==!1&&Y8(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},e1e=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},t1e=t=>{if(!t)return null;if(U1(t))return t;let e=t.length;if(!YJ(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},n1e=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Y8(Uint8Array)),r1e=(t,e)=>{const r=(t&&t[jE]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},s1e=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},i1e=uf("HTMLFormElement"),a1e=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),oQ=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),o1e=uf("RegExp"),eZ=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};uw(n,(s,i)=>{let a;(a=e(s,i,t))!==!1&&(r[i]=a||s)}),Object.defineProperties(t,r)},l1e=t=>{eZ(t,(e,n)=>{if(jc(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(jc(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},c1e=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return U1(t)?r(t):r(String(t).split(e)),n},u1e=()=>{},d1e=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function f1e(t){return!!(t&&jc(t.append)&&t[KJ]==="FormData"&&t[jE])}const A1e=t=>{const e=new Array(10),n=(r,s)=>{if(cw(r)){if(e.indexOf(r)>=0)return;if(lw(r))return r;if(!("toJSON"in r)){e[s]=r;const i=U1(r)?[]:{};return uw(r,(a,o)=>{const c=n(a,s+1);!A1(c)&&(i[o]=c)}),e[s]=void 0,i}}return r};return n(t,0)},h1e=uf("AsyncFunction"),p1e=t=>t&&(cw(t)||jc(t))&&jc(t.then)&&jc(t.catch),tZ=((t,e)=>t?setImmediate:e?((n,r)=>(pg.addEventListener("message",({source:s,data:i})=>{s===pg&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),pg.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",jc(pg.postMessage)),m1e=typeof queueMicrotask<"u"?queueMicrotask.bind(pg):typeof process<"u"&&process.nextTick||tZ,g1e=t=>t!=null&&jc(t[jE]),lt={isArray:U1,isArrayBuffer:XJ,isBuffer:lw,isFormData:Qye,isArrayBufferView:Oye,isString:Fye,isNumber:YJ,isBoolean:Dye,isObject:cw,isPlainObject:Gk,isEmptyObject:Lye,isReadableStream:Wye,isRequest:Vye,isResponse:qye,isHeaders:Gye,isUndefined:A1,isDate:$ye,isFile:Pye,isBlob:Uye,isRegExp:o1e,isFunction:jc,isStream:Mye,isURLSearchParams:Hye,isTypedArray:n1e,isFileList:zye,forEach:uw,merge:K6,extend:Xye,trim:Kye,stripBOM:Yye,inherits:Jye,toFlatObject:Zye,kindOf:TE,kindOfTest:uf,endsWith:e1e,toArray:t1e,forEachEntry:r1e,matchAll:s1e,isHTMLForm:i1e,hasOwnProperty:oQ,hasOwnProp:oQ,reduceDescriptors:eZ,freezeMethods:l1e,toObjectSet:c1e,toCamelCase:a1e,noop:u1e,toFiniteNumber:d1e,findKey:JJ,global:pg,isContextDefined:ZJ,isSpecCompliantForm:f1e,toJSONObject:A1e,isAsyncFn:h1e,isThenable:p1e,setImmediate:tZ,asap:m1e,isIterable:g1e};let Zn=class nZ extends Error{static from(e,n,r,s,i,a){const o=new nZ(e.message,n||e.code,r,s,i);return o.cause=e,o.name=e.name,a&&Object.assign(o,a),o}constructor(e,n,r,s,i){super(e),this.name="AxiosError",this.isAxiosError=!0,n&&(this.code=n),r&&(this.config=r),s&&(this.request=s),i&&(this.response=i,this.status=i.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:lt.toJSONObject(this.config),code:this.code,status:this.status}}};Zn.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Zn.ERR_BAD_OPTION="ERR_BAD_OPTION";Zn.ECONNABORTED="ECONNABORTED";Zn.ETIMEDOUT="ETIMEDOUT";Zn.ERR_NETWORK="ERR_NETWORK";Zn.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Zn.ERR_DEPRECATED="ERR_DEPRECATED";Zn.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Zn.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Zn.ERR_CANCELED="ERR_CANCELED";Zn.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Zn.ERR_INVALID_URL="ERR_INVALID_URL";const y1e=null;function X6(t){return lt.isPlainObject(t)||lt.isArray(t)}function rZ(t){return lt.endsWith(t,"[]")?t.slice(0,-2):t}function lQ(t,e,n){return t?t.concat(e).map(function(s,i){return s=rZ(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function x1e(t){return lt.isArray(t)&&!t.some(X6)}const b1e=lt.toFlatObject(lt,{},null,function(e){return/^is[A-Z]/.test(e)});function RE(t,e,n){if(!lt.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=lt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,x){return!lt.isUndefined(x[y])});const r=n.metaTokens,s=n.visitor||d,i=n.dots,a=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&lt.isSpecCompliantForm(e);if(!lt.isFunction(s))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(lt.isDate(g))return g.toISOString();if(lt.isBoolean(g))return g.toString();if(!c&&lt.isBlob(g))throw new Zn("Blob is not supported. Use a Buffer instead.");return lt.isArrayBuffer(g)||lt.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,y,x){let v=g;if(g&&!x&&typeof g=="object"){if(lt.endsWith(y,"{}"))y=r?y:y.slice(0,-2),g=JSON.stringify(g);else if(lt.isArray(g)&&x1e(g)||(lt.isFileList(g)||lt.endsWith(y,"[]"))&&(v=lt.toArray(g)))return y=rZ(y),v.forEach(function(B,k){!(lt.isUndefined(B)||B===null)&&e.append(a===!0?lQ([y],k,i):a===null?y:y+"[]",u(B))}),!1}return X6(g)?!0:(e.append(lQ(x,y,i),u(g)),!1)}const f=[],h=Object.assign(b1e,{defaultVisitor:d,convertValue:u,isVisitable:X6});function m(g,y){if(!lt.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+y.join("."));f.push(g),lt.forEach(g,function(v,w){(!(lt.isUndefined(v)||v===null)&&s.call(e,v,lt.isString(w)?w.trim():w,y,h))===!0&&m(v,y?y.concat(w):[w])}),f.pop()}}if(!lt.isObject(t))throw new TypeError("data must be an object");return m(t),e}function cQ(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function J8(t,e){this._pairs=[],t&&RE(t,this,e)}const sZ=J8.prototype;sZ.append=function(e,n){this._pairs.push([e,n])};sZ.toString=function(e){const n=e?function(r){return e.call(this,r,cQ)}:cQ;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function v1e(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function iZ(t,e,n){if(!e)return t;const r=n&&n.encode||v1e,s=lt.isFunction(n)?{serialize:n}:n,i=s&&s.serialize;let a;if(i?a=i(e,s):a=lt.isURLSearchParams(e)?e.toString():new J8(e,s).toString(r),a){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class uQ{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){lt.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Z8={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},w1e=typeof URLSearchParams<"u"?URLSearchParams:J8,S1e=typeof FormData<"u"?FormData:null,C1e=typeof Blob<"u"?Blob:null,k1e={isBrowser:!0,classes:{URLSearchParams:w1e,FormData:S1e,Blob:C1e},protocols:["http","https","file","blob","url","data"]},eD=typeof window<"u"&&typeof document<"u",Y6=typeof navigator=="object"&&navigator||void 0,B1e=eD&&(!Y6||["ReactNative","NativeScript","NS"].indexOf(Y6.product)<0),E1e=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",I1e=eD&&window.location.href||"http://localhost",N1e=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:eD,hasStandardBrowserEnv:B1e,hasStandardBrowserWebWorkerEnv:E1e,navigator:Y6,origin:I1e},Symbol.toStringTag,{value:"Module"})),Bl={...N1e,...k1e};function j1e(t,e){return RE(t,new Bl.classes.URLSearchParams,{visitor:function(n,r,s,i){return Bl.isNode&&lt.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function T1e(t){return lt.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function _1e(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function aZ(t){function e(n,r,s,i){let a=n[i++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),c=i>=n.length;return a=!a&&lt.isArray(s)?s.length:a,c?(lt.hasOwnProp(s,a)?s[a]=[s[a],r]:s[a]=r,!o):((!s[a]||!lt.isObject(s[a]))&&(s[a]=[]),e(n,r,s[a],i)&&lt.isArray(s[a])&&(s[a]=_1e(s[a])),!o)}if(lt.isFormData(t)&&lt.isFunction(t.entries)){const n={};return lt.forEachEntry(t,(r,s)=>{e(T1e(r),s,n,0)}),n}return null}function R1e(t,e,n){if(lt.isString(t))try{return(e||JSON.parse)(t),lt.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const dw={transitional:Z8,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=lt.isObject(e);if(i&&lt.isHTMLForm(e)&&(e=new FormData(e)),lt.isFormData(e))return s?JSON.stringify(aZ(e)):e;if(lt.isArrayBuffer(e)||lt.isBuffer(e)||lt.isStream(e)||lt.isFile(e)||lt.isBlob(e)||lt.isReadableStream(e))return e;if(lt.isArrayBufferView(e))return e.buffer;if(lt.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return j1e(e,this.formSerializer).toString();if((o=lt.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return RE(o?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),R1e(e)):e}],transformResponse:[function(e){const n=this.transitional||dw.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(lt.isResponse(e)||lt.isReadableStream(e))return e;if(e&&lt.isString(e)&&(r&&!this.responseType||s)){const a=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(o){if(a)throw o.name==="SyntaxError"?Zn.from(o,Zn.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Bl.classes.FormData,Blob:Bl.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};lt.forEach(["delete","get","head","post","put","patch"],t=>{dw.headers[t]={}});const O1e=lt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),F1e=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(a){s=a.indexOf(":"),n=a.substring(0,s).trim().toLowerCase(),r=a.substring(s+1).trim(),!(!n||e[n]&&O1e[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},dQ=Symbol("internals");function iv(t){return t&&String(t).trim().toLowerCase()}function Kk(t){return t===!1||t==null?t:lt.isArray(t)?t.map(Kk):String(t)}function D1e(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const L1e=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function jT(t,e,n,r,s){if(lt.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!lt.isString(e)){if(lt.isString(r))return e.indexOf(r)!==-1;if(lt.isRegExp(r))return r.test(e)}}function $1e(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function P1e(t,e){const n=lt.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,a){return this[r].call(this,e,s,i,a)},configurable:!0})})}let Tc=class{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(o,c,u){const d=iv(c);if(!d)throw new Error("header name must be a non-empty string");const f=lt.findKey(s,d);(!f||s[f]===void 0||u===!0||u===void 0&&s[f]!==!1)&&(s[f||c]=Kk(o))}const a=(o,c)=>lt.forEach(o,(u,d)=>i(u,d,c));if(lt.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(lt.isString(e)&&(e=e.trim())&&!L1e(e))a(F1e(e),n);else if(lt.isObject(e)&&lt.isIterable(e)){let o={},c,u;for(const d of e){if(!lt.isArray(d))throw TypeError("Object iterator must return a key-value pair");o[u=d[0]]=(c=o[u])?lt.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}a(o,n)}else e!=null&&i(n,e,r);return this}get(e,n){if(e=iv(e),e){const r=lt.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return D1e(s);if(lt.isFunction(n))return n.call(this,s,r);if(lt.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=iv(e),e){const r=lt.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||jT(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(a){if(a=iv(a),a){const o=lt.findKey(r,a);o&&(!n||jT(r,r[o],o,n))&&(delete r[o],s=!0)}}return lt.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||jT(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return lt.forEach(this,(s,i)=>{const a=lt.findKey(r,i);if(a){n[a]=Kk(s),delete n[i];return}const o=e?$1e(i):String(i).trim();o!==i&&delete n[i],n[o]=Kk(s),r[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return lt.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&lt.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[dQ]=this[dQ]={accessors:{}}).accessors,s=this.prototype;function i(a){const o=iv(a);r[o]||(P1e(s,a),r[o]=!0)}return lt.isArray(e)?e.forEach(i):i(e),this}};Tc.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);lt.reduceDescriptors(Tc.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});lt.freezeMethods(Tc);function TT(t,e){const n=this||dw,r=e||n,s=Tc.from(r.headers);let i=r.data;return lt.forEach(t,function(o){i=o.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function oZ(t){return!!(t&&t.__CANCEL__)}let fw=class extends Zn{constructor(e,n,r){super(e??"canceled",Zn.ERR_CANCELED,n,r),this.name="CanceledError",this.__CANCEL__=!0}};function lZ(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Zn("Request failed with status code "+n.status,[Zn.ERR_BAD_REQUEST,Zn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function U1e(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function z1e(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,a;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),d=r[i];a||(a=u),n[s]=c,r[s]=u;let f=i,h=0;for(;f!==s;)h+=n[f++],f=f%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),u-a<e)return;const m=d&&u-d;return m?Math.round(h*1e3/m):void 0}}function M1e(t,e){let n=0,r=1e3/e,s,i;const a=(u,d=Date.now())=>{n=d,s=null,i&&(clearTimeout(i),i=null),t(...u)};return[(...u)=>{const d=Date.now(),f=d-n;f>=r?a(u,d):(s=u,i||(i=setTimeout(()=>{i=null,a(s)},r-f)))},()=>s&&a(s)]}const TB=(t,e,n=3)=>{let r=0;const s=z1e(50,250);return M1e(i=>{const a=i.loaded,o=i.lengthComputable?i.total:void 0,c=a-r,u=s(c),d=a<=o;r=a;const f={loaded:a,total:o,progress:o?a/o:void 0,bytes:c,rate:u||void 0,estimated:u&&o&&d?(o-a)/u:void 0,event:i,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(f)},n)},fQ=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},AQ=t=>(...e)=>lt.asap(()=>t(...e)),Q1e=Bl.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Bl.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Bl.origin),Bl.navigator&&/(msie|trident)/i.test(Bl.navigator.userAgent)):()=>!0,H1e=Bl.hasStandardBrowserEnv?{write(t,e,n,r,s,i,a){if(typeof document>"u")return;const o=[`${t}=${encodeURIComponent(e)}`];lt.isNumber(n)&&o.push(`expires=${new Date(n).toUTCString()}`),lt.isString(r)&&o.push(`path=${r}`),lt.isString(s)&&o.push(`domain=${s}`),i===!0&&o.push("secure"),lt.isString(a)&&o.push(`SameSite=${a}`),document.cookie=o.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function W1e(t){return typeof t!="string"?!1:/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function V1e(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function cZ(t,e,n){let r=!W1e(e);return t&&(r||n==!1)?V1e(t,e):e}const hQ=t=>t instanceof Tc?{...t}:t;function Qg(t,e){e=e||{};const n={};function r(u,d,f,h){return lt.isPlainObject(u)&&lt.isPlainObject(d)?lt.merge.call({caseless:h},u,d):lt.isPlainObject(d)?lt.merge({},d):lt.isArray(d)?d.slice():d}function s(u,d,f,h){if(lt.isUndefined(d)){if(!lt.isUndefined(u))return r(void 0,u,f,h)}else return r(u,d,f,h)}function i(u,d){if(!lt.isUndefined(d))return r(void 0,d)}function a(u,d){if(lt.isUndefined(d)){if(!lt.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function o(u,d,f){if(f in e)return r(u,d);if(f in t)return r(void 0,u)}const c={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(u,d,f)=>s(hQ(u),hQ(d),f,!0)};return lt.forEach(Object.keys({...t,...e}),function(d){if(d==="__proto__"||d==="constructor"||d==="prototype")return;const f=lt.hasOwnProp(c,d)?c[d]:s,h=f(t[d],e[d],d);lt.isUndefined(h)&&f!==o||(n[d]=h)}),n}const uZ=t=>{const e=Qg({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:a,auth:o}=e;if(e.headers=a=Tc.from(a),e.url=iZ(cZ(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),lt.isFormData(n)){if(Bl.hasStandardBrowserEnv||Bl.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(lt.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&a.set(d,f)})}}if(Bl.hasStandardBrowserEnv&&(r&&lt.isFunction(r)&&(r=r(e)),r||r!==!1&&Q1e(e.url))){const c=s&&i&&H1e.read(i);c&&a.set(s,c)}return e},q1e=typeof XMLHttpRequest<"u",G1e=q1e&&function(t){return new Promise(function(n,r){const s=uZ(t);let i=s.data;const a=Tc.from(s.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:u}=s,d,f,h,m,g;function y(){m&&m(),g&&g(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let x=new XMLHttpRequest;x.open(s.method.toUpperCase(),s.url,!0),x.timeout=s.timeout;function v(){if(!x)return;const B=Tc.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),E={data:!o||o==="text"||o==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:B,config:t,request:x};lZ(function(O){n(O),y()},function(O){r(O),y()},E),x=null}"onloadend"in x?x.onloadend=v:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(v)},x.onabort=function(){x&&(r(new Zn("Request aborted",Zn.ECONNABORTED,t,x)),x=null)},x.onerror=function(k){const E=k&&k.message?k.message:"Network Error",N=new Zn(E,Zn.ERR_NETWORK,t,x);N.event=k||null,r(N),x=null},x.ontimeout=function(){let k=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const E=s.transitional||Z8;s.timeoutErrorMessage&&(k=s.timeoutErrorMessage),r(new Zn(k,E.clarifyTimeoutError?Zn.ETIMEDOUT:Zn.ECONNABORTED,t,x)),x=null},i===void 0&&a.setContentType(null),"setRequestHeader"in x&&lt.forEach(a.toJSON(),function(k,E){x.setRequestHeader(E,k)}),lt.isUndefined(s.withCredentials)||(x.withCredentials=!!s.withCredentials),o&&o!=="json"&&(x.responseType=s.responseType),u&&([h,g]=TB(u,!0),x.addEventListener("progress",h)),c&&x.upload&&([f,m]=TB(c),x.upload.addEventListener("progress",f),x.upload.addEventListener("loadend",m)),(s.cancelToken||s.signal)&&(d=B=>{x&&(r(!B||B.type?new fw(null,t,x):B),x.abort(),x=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const w=U1e(s.url);if(w&&Bl.protocols.indexOf(w)===-1){r(new Zn("Unsupported protocol "+w+":",Zn.ERR_BAD_REQUEST,t));return}x.send(i||null)})},K1e=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const i=function(u){if(!s){s=!0,o();const d=u instanceof Error?u:this.reason;r.abort(d instanceof Zn?d:new fw(d instanceof Error?d.message:d))}};let a=e&&setTimeout(()=>{a=null,i(new Zn(`timeout of ${e}ms exceeded`,Zn.ETIMEDOUT))},e);const o=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),t=null)};t.forEach(u=>u.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>lt.asap(o),c}},X1e=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},Y1e=async function*(t,e){for await(const n of J1e(t))yield*X1e(n,e)},J1e=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},pQ=(t,e,n,r)=>{const s=Y1e(t,e);let i=0,a,o=c=>{a||(a=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){o(),c.close();return}let f=d.byteLength;if(n){let h=i+=f;n(h)}c.enqueue(new Uint8Array(d))}catch(u){throw o(u),u}},cancel(c){return o(c),s.return()}},{highWaterMark:2})},mQ=64*1024,{isFunction:vC}=lt,Z1e=(({Request:t,Response:e})=>({Request:t,Response:e}))(lt.global),{ReadableStream:gQ,TextEncoder:yQ}=lt.global,xQ=(t,...e)=>{try{return!!t(...e)}catch{return!1}},exe=t=>{t=lt.merge.call({skipUndefined:!0},Z1e,t);const{fetch:e,Request:n,Response:r}=t,s=e?vC(e):typeof fetch=="function",i=vC(n),a=vC(r);if(!s)return!1;const o=s&&vC(gQ),c=s&&(typeof yQ=="function"?(g=>y=>g.encode(y))(new yQ):async g=>new Uint8Array(await new n(g).arrayBuffer())),u=i&&o&&xQ(()=>{let g=!1;const y=new n(Bl.origin,{body:new gQ,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!y}),d=a&&o&&xQ(()=>lt.isReadableStream(new r("").body)),f={stream:d&&(g=>g.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!f[g]&&(f[g]=(y,x)=>{let v=y&&y[g];if(v)return v.call(y);throw new Zn(`Response type '${g}' is not supported`,Zn.ERR_NOT_SUPPORT,x)})});const h=async g=>{if(g==null)return 0;if(lt.isBlob(g))return g.size;if(lt.isSpecCompliantForm(g))return(await new n(Bl.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(lt.isArrayBufferView(g)||lt.isArrayBuffer(g))return g.byteLength;if(lt.isURLSearchParams(g)&&(g=g+""),lt.isString(g))return(await c(g)).byteLength},m=async(g,y)=>{const x=lt.toFiniteNumber(g.getContentLength());return x??h(y)};return async g=>{let{url:y,method:x,data:v,signal:w,cancelToken:B,timeout:k,onDownloadProgress:E,onUploadProgress:N,responseType:O,headers:F,withCredentials:D="same-origin",fetchOptions:T}=uZ(g),j=e||fetch;O=O?(O+"").toLowerCase():"text";let P=K1e([w,B&&B.toAbortSignal()],k),U=null;const z=P&&P.unsubscribe&&(()=>{P.unsubscribe()});let ee;try{if(N&&u&&x!=="get"&&x!=="head"&&(ee=await m(F,v))!==0){let H=new n(y,{method:"POST",body:v,duplex:"half"}),Q;if(lt.isFormData(v)&&(Q=H.headers.get("content-type"))&&F.setContentType(Q),H.body){const[X,re]=fQ(ee,TB(AQ(N)));v=pQ(H.body,mQ,X,re)}}lt.isString(D)||(D=D?"include":"omit");const q=i&&"credentials"in n.prototype,Z={...T,signal:P,method:x.toUpperCase(),headers:F.normalize().toJSON(),body:v,duplex:"half",credentials:q?D:void 0};U=i&&new n(y,Z);let G=await(i?j(U,T):j(y,Z));const ne=d&&(O==="stream"||O==="response");if(d&&(E||ne&&z)){const H={};["status","statusText","headers"].forEach(le=>{H[le]=G[le]});const Q=lt.toFiniteNumber(G.headers.get("content-length")),[X,re]=E&&fQ(Q,TB(AQ(E),!0))||[];G=new r(pQ(G.body,mQ,X,()=>{re&&re(),z&&z()}),H)}O=O||"text";let K=await f[lt.findKey(f,O)||"text"](G,g);return!ne&&z&&z(),await new Promise((H,Q)=>{lZ(H,Q,{data:K,headers:Tc.from(G.headers),status:G.status,statusText:G.statusText,config:g,request:U})})}catch(q){throw z&&z(),q&&q.name==="TypeError"&&/Load failed|fetch/i.test(q.message)?Object.assign(new Zn("Network Error",Zn.ERR_NETWORK,g,U,q&&q.response),{cause:q.cause||q}):Zn.from(q,q&&q.code,g,U,q&&q.response)}}},txe=new Map,dZ=t=>{let e=t&&t.env||{};const{fetch:n,Request:r,Response:s}=e,i=[r,s,n];let a=i.length,o=a,c,u,d=txe;for(;o--;)c=i[o],u=d.get(c),u===void 0&&d.set(c,u=o?new Map:exe(e)),d=u;return u};dZ();const tD={http:y1e,xhr:G1e,fetch:{get:dZ}};lt.forEach(tD,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const bQ=t=>`- ${t}`,nxe=t=>lt.isFunction(t)||t===null||t===!1;function rxe(t,e){t=lt.isArray(t)?t:[t];const{length:n}=t;let r,s;const i={};for(let a=0;a<n;a++){r=t[a];let o;if(s=r,!nxe(r)&&(s=tD[(o=String(r)).toLowerCase()],s===void 0))throw new Zn(`Unknown adapter '${o}'`);if(s&&(lt.isFunction(s)||(s=s.get(e))))break;i[o||"#"+a]=s}if(!s){const a=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=n?a.length>1?`since :
`+a.map(bQ).join(`
`):" "+bQ(a[0]):"as no adapter specified";throw new Zn("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s}const fZ={getAdapter:rxe,adapters:tD};function _T(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new fw(null,t)}function vQ(t){return _T(t),t.headers=Tc.from(t.headers),t.data=TT.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),fZ.getAdapter(t.adapter||dw.adapter,t)(t).then(function(r){return _T(t),r.data=TT.call(t,t.transformResponse,r),r.headers=Tc.from(r.headers),r},function(r){return oZ(r)||(_T(t),r&&r.response&&(r.response.data=TT.call(t,t.transformResponse,r.response),r.response.headers=Tc.from(r.response.headers))),Promise.reject(r)})}const AZ="1.13.5",OE={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{OE[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const wQ={};OE.transitional=function(e,n,r){function s(i,a){return"[Axios v"+AZ+"] Transitional option '"+i+"'"+a+(r?". "+r:"")}return(i,a,o)=>{if(e===!1)throw new Zn(s(a," has been removed"+(n?" in "+n:"")),Zn.ERR_DEPRECATED);return n&&!wQ[a]&&(wQ[a]=!0,console.warn(s(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,a,o):!0}};OE.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function sxe(t,e,n){if(typeof t!="object")throw new Zn("options must be an object",Zn.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],a=e[i];if(a){const o=t[i],c=o===void 0||a(o,i,t);if(c!==!0)throw new Zn("option "+i+" must be "+c,Zn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Zn("Unknown option "+i,Zn.ERR_BAD_OPTION)}}const Xk={assertOptions:sxe,validators:OE},Ou=Xk.validators;let kg=class{constructor(e){this.defaults=e||{},this.interceptors={request:new uQ,response:new uQ}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Qg(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&Xk.assertOptions(r,{silentJSONParsing:Ou.transitional(Ou.boolean),forcedJSONParsing:Ou.transitional(Ou.boolean),clarifyTimeoutError:Ou.transitional(Ou.boolean),legacyInterceptorReqResOrdering:Ou.transitional(Ou.boolean)},!1),s!=null&&(lt.isFunction(s)?n.paramsSerializer={serialize:s}:Xk.assertOptions(s,{encode:Ou.function,serialize:Ou.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Xk.assertOptions(n,{baseUrl:Ou.spelling("baseURL"),withXsrfToken:Ou.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=i&&lt.merge(i.common,i[n.method]);i&&lt.forEach(["delete","get","head","post","put","patch","common"],g=>{delete i[g]}),n.headers=Tc.concat(a,i);const o=[];let c=!0;this.interceptors.request.forEach(function(y){if(typeof y.runWhen=="function"&&y.runWhen(n)===!1)return;c=c&&y.synchronous;const x=n.transitional||Z8;x&&x.legacyInterceptorReqResOrdering?o.unshift(y.fulfilled,y.rejected):o.push(y.fulfilled,y.rejected)});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let d,f=0,h;if(!c){const g=[vQ.bind(this),void 0];for(g.unshift(...o),g.push(...u),h=g.length,d=Promise.resolve(n);f<h;)d=d.then(g[f++],g[f++]);return d}h=o.length;let m=n;for(;f<h;){const g=o[f++],y=o[f++];try{m=g(m)}catch(x){y.call(this,x);break}}try{d=vQ.call(this,m)}catch(g){return Promise.reject(g)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(e){e=Qg(this.defaults,e);const n=cZ(e.baseURL,e.url,e.allowAbsoluteUrls);return iZ(n,e.params,e.paramsSerializer)}};lt.forEach(["delete","get","head","options"],function(e){kg.prototype[e]=function(n,r){return this.request(Qg(r||{},{method:e,url:n,data:(r||{}).data}))}});lt.forEach(["post","put","patch"],function(e){function n(r){return function(i,a,o){return this.request(Qg(o||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}kg.prototype[e]=n(),kg.prototype[e+"Form"]=n(!0)});let ixe=class hZ{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const a=new Promise(o=>{r.subscribe(o),i=o}).then(s);return a.cancel=function(){r.unsubscribe(i)},a},e(function(i,a,o){r.reason||(r.reason=new fw(i,a,o),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new hZ(function(s){e=s}),cancel:e}}};function axe(t){return function(n){return t.apply(null,n)}}function oxe(t){return lt.isObject(t)&&t.isAxiosError===!0}const J6={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(J6).forEach(([t,e])=>{J6[e]=t});function pZ(t){const e=new kg(t),n=GJ(kg.prototype.request,e);return lt.extend(n,kg.prototype,e,{allOwnKeys:!0}),lt.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return pZ(Qg(t,s))},n}const rt=pZ(dw);rt.Axios=kg;rt.CanceledError=fw;rt.CancelToken=ixe;rt.isCancel=oZ;rt.VERSION=AZ;rt.toFormData=RE;rt.AxiosError=Zn;rt.Cancel=rt.CanceledError;rt.all=function(e){return Promise.all(e)};rt.spread=axe;rt.isAxiosError=oxe;rt.mergeConfig=Qg;rt.AxiosHeaders=Tc;rt.formToJSON=t=>aZ(lt.isHTMLForm(t)?new FormData(t):t);rt.getAdapter=fZ.getAdapter;rt.HttpStatusCode=J6;rt.default=rt;const{Axios:jbt,AxiosError:Tbt,CanceledError:_bt,isCancel:Rbt,CancelToken:Obt,VERSION:Fbt,all:Dbt,Cancel:Lbt,isAxiosError:$bt,spread:Pbt,toFormData:Ubt,AxiosHeaders:zbt,HttpStatusCode:Mbt,formToJSON:Qbt,getAdapter:Hbt,mergeConfig:Wbt}=rt,lxe="http://localhost:8000/api";function cxe(t,e){const n=[...t];let r=n.length;const s=()=>(e=(e*9301+49297)%233280,e/233280);for(;r>0;){const i=Math.floor(s()*r);r--,[n[r],n[i]]=[n[i],n[r]]}return n}function uxe(t,e){const n=`${t}-${e}`;let r=0;for(let s=0;s<n.length;s++){const i=n.charCodeAt(s);r=(r<<5)-r+i,r=r&r}return Math.abs(r)}function dxe({test:t,user:e,onClose:n,onComplete:r}){const[s,i]=C.useState(0),[a,o]=C.useState({}),[c,u]=C.useState(t.duration*60),[d,f]=C.useState(0),[h,m]=C.useState(!1),[g,y]=C.useState(""),[x,v]=C.useState(!1),[w,B]=C.useState(!1),[k,E]=C.useState(null),[N,O]=C.useState(!1),F=t.questions||[],D=C.useMemo(()=>{const K=uxe(e.id,t.id);return cxe(F,K)},[F,e.id,t.id]),T=C.useRef(null),j=C.useRef(a),P=C.useRef(d),U=C.useRef(c);C.useEffect(()=>{j.current=a},[a]),C.useEffect(()=>{P.current=d},[d]),C.useEffect(()=>{U.current=c},[c]),C.useEffect(()=>((async()=>{try{await document.documentElement.requestFullscreen()}catch(H){console.log("Fullscreen request failed:",H)}})(),()=>{document.fullscreenElement&&document.exitFullscreen().catch(()=>{})}),[]),C.useEffect(()=>{if(!(k||w))return T.current=setInterval(()=>{u(K=>K<=1?(clearInterval(T.current),Z(),0):K-1)},1e3),()=>clearInterval(T.current)},[k,w]);const z=t.maxTabSwitches||3;C.useEffect(()=>{const K=()=>{document.hidden&&!k&&!w&&f(H=>{const Q=H+1;return Q>=z?(y(` DISQUALIFIED! You have exceeded the maximum allowed tab switches (${Q}/${z}). Test terminated.`),m(!0),B(!0),setTimeout(()=>{Z(!0)},3e3)):(y(` Tab switch detected! (${Q}/${z} violations) ${z-Q} more will disqualify you!`),m(!0),setTimeout(()=>m(!1),4e3)),Q})};return document.addEventListener("visibilitychange",K),()=>document.removeEventListener("visibilitychange",K)},[k,w]),C.useEffect(()=>{const K=Q=>Q.preventDefault(),H=Q=>{(Q.ctrlKey||Q.altKey||Q.metaKey)&&["c","v","u","p","s","a"].includes(Q.key.toLowerCase())&&Q.preventDefault(),(Q.key==="F12"||Q.key==="Escape")&&Q.preventDefault()};return document.addEventListener("contextmenu",K),document.addEventListener("keydown",H),()=>{document.removeEventListener("contextmenu",K),document.removeEventListener("keydown",H)}},[]);const ee=K=>{const H=Math.floor(K/60),Q=K%60;return`${H.toString().padStart(2,"0")}:${Q.toString().padStart(2,"0")}`},q=(K,H)=>{o(Q=>({...Q,[K]:H}))},Z=async(K=!1)=>{v(!0);try{const H=j.current,Q=P.current,X=U.current,re=await rt.post(`${lxe}/aptitude/${t.id}/submit`,{studentId:e.id,answers:K?{}:H,timeSpent:t.duration*60-X,tabSwitches:Q});E(re.data.submission),O(!0)}catch(H){console.error("Submit failed:",H)}finally{v(!1)}},G=async()=>{if(Object.keys(a).length<D.length){const K=D.length-Object.keys(a).length;if(!window.confirm(`You have ${K} unanswered question(s). Submit anyway?`))return}await Z()},ne=Object.keys(a).length;return N&&k?l.jsx("div",{style:{position:"fixed",inset:0,background:"linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #0f172a 100%)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem",overflowY:"auto"},children:l.jsxs("div",{style:{background:"rgba(30, 41, 59, 0.95)",backdropFilter:"blur(20px)",borderRadius:"24px",border:"1px solid rgba(139, 92, 246, 0.3)",maxWidth:"900px",width:"100%",maxHeight:"90vh",display:"flex",flexDirection:"column",overflow:"hidden"},children:[l.jsxs("div",{style:{padding:"1.5rem 2rem",borderBottom:"1px solid rgba(139, 92, 246, 0.2)",display:"flex",alignItems:"center",justifyContent:"space-between",background:"rgba(15, 23, 42, 0.5)"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[l.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"12px",background:k.status==="passed"?"linear-gradient(135deg, #10b981, #06b6d4)":"linear-gradient(135deg, #ef4444, #f97316)",display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx(Zr,{size:24,color:"white"})}),l.jsxs("div",{children:[l.jsx("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:700,color:"white"},children:"Aptitude Test Report"}),l.jsx("p",{style:{margin:0,color:"rgba(255,255,255,0.5)",fontSize:"0.9rem"},children:t.title})]})]}),l.jsx("button",{onClick:()=>{document.fullscreenElement&&document.exitFullscreen(),n(),r&&r(k)},style:{background:"rgba(71, 85, 105, 0.5)",border:"none",borderRadius:"8px",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white"},children:l.jsx(Jr,{size:20})})]}),l.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"2rem"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"3rem",marginBottom:"2rem",padding:"2rem",background:k.status==="passed"?"rgba(16, 185, 129, 0.05)":"rgba(239, 68, 68, 0.05)",borderRadius:"16px",border:`1px solid ${k.status==="passed"?"rgba(16, 185, 129, 0.2)":"rgba(239, 68, 68, 0.2)"}`},children:[l.jsxs("div",{style:{textAlign:"center"},children:[l.jsxs("div",{style:{fontSize:"4rem",fontWeight:800,color:k.status==="passed"?"#10b981":"#ef4444",lineHeight:1},children:[k.score,"%"]}),l.jsx("div",{style:{color:"rgba(255,255,255,0.5)",marginTop:"0.5rem"},children:"Overall Score"})]}),l.jsxs("div",{style:{padding:"1rem 2rem",borderRadius:"12px",background:k.status==="passed"?"rgba(16, 185, 129, 0.15)":"rgba(239, 68, 68, 0.15)",border:`1px solid ${k.status==="passed"?"rgba(16, 185, 129, 0.3)":"rgba(239, 68, 68, 0.3)"}`,display:"flex",alignItems:"center",gap:"0.75rem"},children:[k.status==="passed"?l.jsx($n,{size:28,color:"#10b981"}):l.jsx(Jr,{size:28,color:"#ef4444"}),l.jsx("span",{style:{fontSize:"1.5rem",fontWeight:700,color:k.status==="passed"?"#10b981":"#ef4444"},children:k.status==="passed"?"PASSED":"FAILED"})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"1rem",marginBottom:"2rem"},children:[l.jsxs("div",{style:{background:"rgba(59, 130, 246, 0.1)",borderRadius:"12px",padding:"1.25rem",border:"1px solid rgba(59, 130, 246, 0.2)",textAlign:"center"},children:[l.jsx("div",{style:{fontSize:"1.75rem",fontWeight:800,color:"#3b82f6"},children:k.totalQuestions}),l.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255,255,255,0.5)"},children:"Total Questions"})]}),l.jsxs("div",{style:{background:"rgba(16, 185, 129, 0.1)",borderRadius:"12px",padding:"1.25rem",border:"1px solid rgba(16, 185, 129, 0.2)",textAlign:"center"},children:[l.jsx("div",{style:{fontSize:"1.75rem",fontWeight:800,color:"#10b981"},children:k.correctCount}),l.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255,255,255,0.5)"},children:"Correct"})]}),l.jsxs("div",{style:{background:"rgba(239, 68, 68, 0.1)",borderRadius:"12px",padding:"1.25rem",border:"1px solid rgba(239, 68, 68, 0.2)",textAlign:"center"},children:[l.jsx("div",{style:{fontSize:"1.75rem",fontWeight:800,color:"#ef4444"},children:k.totalQuestions-k.correctCount}),l.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255,255,255,0.5)"},children:"Incorrect"})]}),l.jsxs("div",{style:{background:"rgba(245, 158, 11, 0.1)",borderRadius:"12px",padding:"1.25rem",border:"1px solid rgba(245, 158, 11, 0.2)",textAlign:"center"},children:[l.jsx("div",{style:{fontSize:"1.75rem",fontWeight:800,color:(k.tabSwitches||d||0)>0?"#f59e0b":"#10b981"},children:k.tabSwitches||d||0}),l.jsxs("div",{style:{fontSize:"0.8rem",color:"rgba(255,255,255,0.5)",display:"flex",alignItems:"center",justifyContent:"center",gap:"4px"},children:[l.jsx(Qn,{size:12}),"Violations"]})]}),l.jsxs("div",{style:{background:"rgba(139, 92, 246, 0.1)",borderRadius:"12px",padding:"1.25rem",border:"1px solid rgba(139, 92, 246, 0.2)",textAlign:"center"},children:[l.jsx("div",{style:{fontSize:"1.75rem",fontWeight:800,color:"#8b5cf6"},children:k.timeSpent?`${Math.floor(k.timeSpent/60)}m`:`${Math.round((t.duration*60-c)/60)}m`}),l.jsxs("div",{style:{fontSize:"0.8rem",color:"rgba(255,255,255,0.5)",display:"flex",alignItems:"center",justifyContent:"center",gap:"4px"},children:[l.jsx(vs,{size:12}),"Time Spent"]})]})]}),(k.tabSwitches||d||0)>0&&l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",padding:"1rem 1.5rem",background:"rgba(245, 158, 11, 0.1)",borderRadius:"12px",border:"1px solid rgba(245, 158, 11, 0.3)",marginBottom:"2rem"},children:[l.jsx(Qn,{size:24,color:"#f59e0b"}),l.jsxs("div",{children:[l.jsx("strong",{style:{color:"#f59e0b"},children:"Tab Switch Violations Detected"}),l.jsxs("p",{style:{margin:"0.25rem 0 0",color:"rgba(255,255,255,0.6)",fontSize:"0.9rem"},children:["You switched tabs/windows ",k.tabSwitches||d||0," time(s) during the test."]})]})]}),l.jsxs("div",{style:{marginBottom:"1.5rem"},children:[l.jsxs("h3",{style:{margin:"0 0 1rem",fontSize:"1.1rem",fontWeight:600,color:"white",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(kr,{size:18,color:"#8b5cf6"}),"Detailed Question Breakdown"]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:k.questionResults?.map((K,H)=>l.jsxs("div",{style:{padding:"1.25rem",background:K.isCorrect?"rgba(16, 185, 129, 0.05)":"rgba(239, 68, 68, 0.05)",border:`1px solid ${K.isCorrect?"rgba(16, 185, 129, 0.25)":"rgba(239, 68, 68, 0.25)"}`,borderRadius:"12px"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"0.75rem",marginBottom:"1rem"},children:[l.jsx("span",{style:{minWidth:"28px",height:"28px",borderRadius:"50%",background:K.isCorrect?"linear-gradient(135deg, #10b981, #06b6d4)":"linear-gradient(135deg, #ef4444, #f97316)",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.8rem",fontWeight:700,flexShrink:0},children:K.isCorrect?"":""}),l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.5rem"},children:[l.jsxs("span",{style:{fontSize:"0.75rem",fontWeight:600,color:"#8b5cf6",textTransform:"uppercase",letterSpacing:"0.05em"},children:["Question ",H+1]}),K.category&&l.jsx("span",{style:{fontSize:"0.7rem",padding:"0.2rem 0.6rem",background:"rgba(139, 92, 246, 0.2)",borderRadius:"20px",color:"#a78bfa"},children:K.category})]}),l.jsx("p",{style:{margin:0,fontSize:"1rem",fontWeight:500,color:"white",lineHeight:1.5},children:K.question})]})]}),l.jsxs("div",{style:{marginLeft:"2.5rem",display:"flex",flexDirection:"column",gap:"0.75rem"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"0.75rem",padding:"0.75rem 1rem",background:K.isCorrect?"rgba(16, 185, 129, 0.1)":"rgba(239, 68, 68, 0.1)",borderRadius:"8px",border:`1px solid ${K.isCorrect?"rgba(16, 185, 129, 0.2)":"rgba(239, 68, 68, 0.2)"}`},children:[l.jsx("span",{style:{fontSize:"0.8rem",fontWeight:600,color:"rgba(255,255,255,0.5)",minWidth:"100px"},children:"Your Answer:"}),l.jsx("span",{style:{fontSize:"0.9rem",fontWeight:600,color:K.isCorrect?"#10b981":"#ef4444"},children:K.userAnswer||"(Not answered)"})]}),!K.isCorrect&&l.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"0.75rem",padding:"0.75rem 1rem",background:"rgba(16, 185, 129, 0.1)",borderRadius:"8px",border:"1px solid rgba(16, 185, 129, 0.2)"},children:[l.jsx("span",{style:{fontSize:"0.8rem",fontWeight:600,color:"rgba(255,255,255,0.5)",minWidth:"100px"},children:"Correct Answer:"}),l.jsx("span",{style:{fontSize:"0.9rem",fontWeight:600,color:"#10b981"},children:K.correctAnswer})]}),K.explanation&&l.jsxs("div",{style:{padding:"0.75rem 1rem",background:"rgba(139, 92, 246, 0.05)",borderRadius:"8px",border:"1px solid rgba(139, 92, 246, 0.15)"},children:[l.jsx("span",{style:{fontSize:"0.75rem",fontWeight:600,color:"#a78bfa",display:"block",marginBottom:"0.25rem"},children:" Explanation"}),l.jsx("p",{style:{margin:0,fontSize:"0.85rem",color:"rgba(255,255,255,0.7)",lineHeight:1.5},children:K.explanation})]})]})]},H))})]})]}),l.jsx("div",{style:{padding:"1.5rem 2rem",borderTop:"1px solid rgba(139, 92, 246, 0.2)",background:"rgba(15, 23, 42, 0.5)",display:"flex",justifyContent:"flex-end"},children:l.jsx("button",{onClick:()=>{document.fullscreenElement&&document.exitFullscreen(),n(),r&&r(k)},style:{padding:"0.875rem 2rem",background:"linear-gradient(135deg, #3b82f6, #8b5cf6)",border:"none",borderRadius:"10px",color:"white",fontSize:"1rem",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:"Close & Return"})})]})}):l.jsxs("div",{style:{position:"fixed",inset:0,background:"linear-gradient(135deg, #0f172a 0%, #1e293b 100%)",zIndex:9999,display:"flex",flexDirection:"column",overflow:"hidden"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem 2rem",background:"rgba(15, 23, 42, 0.8)",borderBottom:"1px solid rgba(139, 92, 246, 0.2)"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[l.jsx(Zr,{size:28,color:"#8b5cf6"}),l.jsx("div",{children:l.jsxs("h1",{style:{margin:0,fontSize:"1.25rem",fontWeight:700,color:"white"},children:["Aptitude Test  ",t.title]})})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",background:c<60?"rgba(239, 68, 68, 0.2)":"rgba(16, 185, 129, 0.2)",padding:"0.5rem 1rem",borderRadius:"8px",border:`1px solid ${c<60?"#ef4444":"#10b981"}`},children:[l.jsx(vs,{size:20,color:c<60?"#ef4444":"#10b981"}),l.jsx("span",{style:{fontSize:"1.5rem",fontWeight:700,fontFamily:"monospace",color:c<60?"#ef4444":"#10b981"},children:ee(c)})]})]}),h&&l.jsxs("div",{style:{background:d>=3?"linear-gradient(135deg, #dc2626, #b91c1c)":"linear-gradient(135deg, #f59e0b, #d97706)",padding:"1rem 2rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"1rem",animation:"pulse 1s infinite"},children:[l.jsx(Qn,{size:24,color:"white"}),l.jsx("span",{style:{color:"white",fontWeight:600},children:g})]}),l.jsxs("div",{style:{display:"flex",flex:1,overflow:"hidden"},children:[l.jsxs("div",{style:{width:"200px",background:"rgba(30, 41, 59, 0.5)",borderRight:"1px solid rgba(139, 92, 246, 0.2)",padding:"1.5rem",display:"flex",flexDirection:"column"},children:[l.jsxs("div",{style:{marginBottom:"1rem"},children:[l.jsxs("h3",{style:{margin:0,fontSize:"0.9rem",color:"var(--text-muted)",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(kr,{size:16})," Question Palette"]}),l.jsxs("p",{style:{margin:"0.5rem 0 0",fontSize:"0.8rem",color:"rgba(255,255,255,0.5)"},children:[ne,"/",D.length," Answered"]})]}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"0.5rem",marginBottom:"1.5rem"},children:D.map((K,H)=>l.jsx("button",{onClick:()=>i(H),style:{width:"36px",height:"36px",borderRadius:"8px",border:s===H?"2px solid #3b82f6":"none",background:a[K.id]?"linear-gradient(135deg, #10b981, #06b6d4)":s===H?"rgba(59, 130, 246, 0.3)":"rgba(71, 85, 105, 0.5)",color:"white",fontWeight:600,fontSize:"0.85rem",cursor:"pointer",transition:"all 0.2s"},children:H+1},K.id))}),l.jsxs("div",{style:{marginTop:"auto"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[l.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"4px",background:"linear-gradient(135deg, #10b981, #06b6d4)"}}),l.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:"Answered"})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"4px",background:"rgba(71, 85, 105, 0.5)"}}),l.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:"Unanswered"})]})]}),l.jsxs("button",{onClick:G,disabled:x,style:{marginTop:"1.5rem",width:"100%",padding:"1rem",background:"linear-gradient(135deg, #8b5cf6, #6366f1)",border:"none",borderRadius:"12px",color:"white",fontSize:"0.95rem",fontWeight:600,cursor:x?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",opacity:x?.7:1},children:[l.jsx(_c,{size:18}),x?"Submitting...":"Submit Test"]})]}),l.jsx("div",{style:{flex:1,padding:"2rem 4rem",overflowY:"auto"},children:D[s]&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{marginBottom:"2rem"},children:[l.jsxs("span",{style:{color:"#8b5cf6",fontSize:"0.9rem",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.05em"},children:["Question ",s+1," of ",D.length]}),l.jsx("h2",{style:{margin:"1rem 0",fontSize:"1.5rem",fontWeight:600,color:"white",lineHeight:1.5},children:D[s].question}),D[s].category&&l.jsx("span",{style:{display:"inline-block",padding:"0.25rem 0.75rem",background:"rgba(139, 92, 246, 0.2)",borderRadius:"20px",fontSize:"0.8rem",color:"#a78bfa"},children:D[s].category})]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:D[s].options.map((K,H)=>{const Q=["A","B","C","D"][H],X=a[D[s].id]===K;return l.jsxs("button",{onClick:()=>q(D[s].id,K),style:{display:"flex",alignItems:"center",gap:"1rem",padding:"1.25rem 1.5rem",background:X?"rgba(59, 130, 246, 0.15)":"rgba(30, 41, 59, 0.8)",border:X?"2px solid #3b82f6":"1px solid rgba(71, 85, 105, 0.5)",borderRadius:"12px",cursor:"pointer",textAlign:"left",transition:"all 0.2s"},children:[l.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"50%",background:X?"linear-gradient(135deg, #3b82f6, #8b5cf6)":"rgba(71, 85, 105, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:700,fontSize:"0.9rem"},children:Q}),l.jsx("span",{style:{color:X?"#3b82f6":"rgba(255,255,255,0.9)",fontSize:"1.05rem",fontWeight:X?600:400},children:K})]},H)})}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"3rem"},children:[l.jsxs("button",{onClick:()=>i(K=>Math.max(0,K-1)),disabled:s===0,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.75rem 1.5rem",background:"rgba(71, 85, 105, 0.5)",border:"none",borderRadius:"8px",color:s===0?"rgba(255,255,255,0.3)":"white",cursor:s===0?"not-allowed":"pointer",fontSize:"0.95rem",fontWeight:500},children:[l.jsx(h2,{size:20})," Previous"]}),l.jsxs("button",{onClick:()=>i(K=>Math.min(D.length-1,K+1)),disabled:s===D.length-1,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.75rem 1.5rem",background:s===D.length-1?"rgba(71, 85, 105, 0.5)":"linear-gradient(135deg, #3b82f6, #8b5cf6)",border:"none",borderRadius:"8px",color:s===D.length-1?"rgba(255,255,255,0.3)":"white",cursor:s===D.length-1?"not-allowed":"pointer",fontSize:"0.95rem",fontWeight:500},children:["Next ",l.jsx(Ug,{size:20})]})]})]})})]})]})}function SQ(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function fxe(t){if(Array.isArray(t))return t}function Axe(t,e,n){return(e=bxe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hxe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,a,o=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw s}}return o}}function pxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CQ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function kQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CQ(Object(n),!0).forEach(function(r){Axe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CQ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mxe(t,e){if(t==null)return{};var n,r,s=gxe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function gxe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function yxe(t,e){return fxe(t)||hxe(t,e)||vxe(t,e)||pxe()}function xxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bxe(t){var e=xxe(t,"string");return typeof e=="symbol"?e:e+""}function vxe(t,e){if(t){if(typeof t=="string")return SQ(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?SQ(t,e):void 0}}function wxe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BQ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function EQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BQ(Object(n),!0).forEach(function(r){wxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BQ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sxe(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return e.reduceRight(function(s,i){return i(s)},r)}}function Ov(t){return function e(){for(var n=this,r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return s.length>=t.length?t.apply(this,s):function(){for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return e.apply(n,[].concat(s,o))}}}function _B(t){return{}.toString.call(t).includes("Object")}function Cxe(t){return!Object.keys(t).length}function m2(t){return typeof t=="function"}function kxe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Bxe(t,e){return _B(e)||Wp("changeType"),Object.keys(e).some(function(n){return!kxe(t,n)})&&Wp("changeField"),e}function Exe(t){m2(t)||Wp("selectorType")}function Ixe(t){m2(t)||_B(t)||Wp("handlerType"),_B(t)&&Object.values(t).some(function(e){return!m2(e)})&&Wp("handlersType")}function Nxe(t){t||Wp("initialIsRequired"),_B(t)||Wp("initialType"),Cxe(t)&&Wp("initialContent")}function jxe(t,e){throw new Error(t[e]||t.default)}var Txe={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Wp=Ov(jxe)(Txe),wC={changes:Bxe,selector:Exe,handler:Ixe,initial:Nxe};function _xe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};wC.initial(t),wC.handler(e);var n={current:t},r=Ov(Fxe)(n,e),s=Ov(Oxe)(n),i=Ov(wC.changes)(t),a=Ov(Rxe)(n);function o(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(d){return d};return wC.selector(u),u(n.current)}function c(u){Sxe(r,s,i,a)(u)}return[o,c]}function Rxe(t,e){return m2(e)?e(t.current):e}function Oxe(t,e){return t.current=EQ(EQ({},t.current),e),e}function Fxe(t,e,n){return m2(e)?e(t.current):Object.keys(n).forEach(function(r){var s;return(s=e[r])===null||s===void 0?void 0:s.call(e,t.current[r])}),n}var Dxe={create:_xe},Lxe={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function $xe(t){return function e(){for(var n=this,r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return s.length>=t.length?t.apply(this,s):function(){for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return e.apply(n,[].concat(s,o))}}}function Pxe(t){return{}.toString.call(t).includes("Object")}function Uxe(t){return t||IQ("configIsRequired"),Pxe(t)||IQ("configType"),t.urls?(zxe(),{paths:{vs:t.urls.monacoBase}}):t}function zxe(){console.warn(mZ.deprecation)}function Mxe(t,e){throw new Error(t[e]||t.default)}var mZ={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},IQ=$xe(Mxe)(mZ),Qxe={config:Uxe},Hxe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(s){return n.reduceRight(function(i,a){return a(i)},s)}};function gZ(t,e){return Object.keys(e).forEach(function(n){e[n]instanceof Object&&t[n]&&Object.assign(e[n],gZ(t[n],e[n]))}),kQ(kQ({},t),e)}var Wxe={type:"cancelation",msg:"operation is manually canceled"};function RT(t){var e=!1,n=new Promise(function(r,s){t.then(function(i){return e?s(Wxe):r(i)}),t.catch(s)});return n.cancel=function(){return e=!0},n}var Vxe=["monaco"],qxe=Dxe.create({config:Lxe,isInitialized:!1,resolve:null,reject:null,monaco:null}),yZ=yxe(qxe,2),Aw=yZ[0],FE=yZ[1];function Gxe(t){var e=Qxe.config(t),n=e.monaco,r=mxe(e,Vxe);FE(function(s){return{config:gZ(s.config,r),monaco:n}})}function Kxe(){var t=Aw(function(e){var n=e.monaco,r=e.isInitialized,s=e.resolve;return{monaco:n,isInitialized:r,resolve:s}});if(!t.isInitialized){if(FE({isInitialized:!0}),t.monaco)return t.resolve(t.monaco),RT(OT);if(window.monaco&&window.monaco.editor)return xZ(window.monaco),t.resolve(window.monaco),RT(OT);Hxe(Xxe,Jxe)(Zxe)}return RT(OT)}function Xxe(t){return document.body.appendChild(t)}function Yxe(t){var e=document.createElement("script");return t&&(e.src=t),e}function Jxe(t){var e=Aw(function(r){var s=r.config,i=r.reject;return{config:s,reject:i}}),n=Yxe("".concat(e.config.paths.vs,"/loader.js"));return n.onload=function(){return t()},n.onerror=e.reject,n}function Zxe(){var t=Aw(function(n){var r=n.config,s=n.resolve,i=n.reject;return{config:r,resolve:s,reject:i}}),e=window.require;e.config(t.config),e(["vs/editor/editor.main"],function(n){var r=n.m||n;xZ(r),t.resolve(r)},function(n){t.reject(n)})}function xZ(t){Aw().monaco||FE({monaco:t})}function ebe(){return Aw(function(t){var e=t.monaco;return e})}var OT=new Promise(function(t,e){return FE({resolve:t,reject:e})}),bZ={config:Gxe,init:Kxe,__getMonacoInstance:ebe},tbe={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},FT=tbe,nbe={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},rbe=nbe;function sbe({children:t}){return Hp.createElement("div",{style:rbe.container},t)}var ibe=sbe,abe=ibe;function obe({width:t,height:e,isEditorReady:n,loading:r,_ref:s,className:i,wrapperProps:a}){return Hp.createElement("section",{style:{...FT.wrapper,width:t,height:e},...a},!n&&Hp.createElement(abe,null,r),Hp.createElement("div",{ref:s,style:{...FT.fullWidth,...!n&&FT.hide},className:i}))}var lbe=obe,vZ=C.memo(lbe);function cbe(t){C.useEffect(t,[])}var wZ=cbe;function ube(t,e,n=!0){let r=C.useRef(!0);C.useEffect(r.current||!n?()=>{r.current=!1}:t,e)}var nu=ube;function e2(){}function Wy(t,e,n,r){return dbe(t,r)||fbe(t,e,n,r)}function dbe(t,e){return t.editor.getModel(SZ(t,e))}function fbe(t,e,n,r){return t.editor.createModel(e,n,r?SZ(t,r):void 0)}function SZ(t,e){return t.Uri.parse(e)}function Abe({original:t,modified:e,language:n,originalLanguage:r,modifiedLanguage:s,originalModelPath:i,modifiedModelPath:a,keepCurrentOriginalModel:o=!1,keepCurrentModifiedModel:c=!1,theme:u="light",loading:d="Loading...",options:f={},height:h="100%",width:m="100%",className:g,wrapperProps:y={},beforeMount:x=e2,onMount:v=e2}){let[w,B]=C.useState(!1),[k,E]=C.useState(!0),N=C.useRef(null),O=C.useRef(null),F=C.useRef(null),D=C.useRef(v),T=C.useRef(x),j=C.useRef(!1);wZ(()=>{let ee=bZ.init();return ee.then(q=>(O.current=q)&&E(!1)).catch(q=>q?.type!=="cancelation"&&console.error("Monaco initialization: error:",q)),()=>N.current?z():ee.cancel()}),nu(()=>{if(N.current&&O.current){let ee=N.current.getOriginalEditor(),q=Wy(O.current,t||"",r||n||"text",i||"");q!==ee.getModel()&&ee.setModel(q)}},[i],w),nu(()=>{if(N.current&&O.current){let ee=N.current.getModifiedEditor(),q=Wy(O.current,e||"",s||n||"text",a||"");q!==ee.getModel()&&ee.setModel(q)}},[a],w),nu(()=>{let ee=N.current.getModifiedEditor();ee.getOption(O.current.editor.EditorOption.readOnly)?ee.setValue(e||""):e!==ee.getValue()&&(ee.executeEdits("",[{range:ee.getModel().getFullModelRange(),text:e||"",forceMoveMarkers:!0}]),ee.pushUndoStop())},[e],w),nu(()=>{N.current?.getModel()?.original.setValue(t||"")},[t],w),nu(()=>{let{original:ee,modified:q}=N.current.getModel();O.current.editor.setModelLanguage(ee,r||n||"text"),O.current.editor.setModelLanguage(q,s||n||"text")},[n,r,s],w),nu(()=>{O.current?.editor.setTheme(u)},[u],w),nu(()=>{N.current?.updateOptions(f)},[f],w);let P=C.useCallback(()=>{if(!O.current)return;T.current(O.current);let ee=Wy(O.current,t||"",r||n||"text",i||""),q=Wy(O.current,e||"",s||n||"text",a||"");N.current?.setModel({original:ee,modified:q})},[n,e,s,t,r,i,a]),U=C.useCallback(()=>{!j.current&&F.current&&(N.current=O.current.editor.createDiffEditor(F.current,{automaticLayout:!0,...f}),P(),O.current?.editor.setTheme(u),B(!0),j.current=!0)},[f,u,P]);C.useEffect(()=>{w&&D.current(N.current,O.current)},[w]),C.useEffect(()=>{!k&&!w&&U()},[k,w,U]);function z(){let ee=N.current?.getModel();o||ee?.original?.dispose(),c||ee?.modified?.dispose(),N.current?.dispose()}return Hp.createElement(vZ,{width:m,height:h,isEditorReady:w,loading:d,_ref:F,className:g,wrapperProps:y})}var hbe=Abe;C.memo(hbe);function pbe(t){let e=C.useRef();return C.useEffect(()=>{e.current=t},[t]),e.current}var mbe=pbe,SC=new Map;function gbe({defaultValue:t,defaultLanguage:e,defaultPath:n,value:r,language:s,path:i,theme:a="light",line:o,loading:c="Loading...",options:u={},overrideServices:d={},saveViewState:f=!0,keepCurrentModel:h=!1,width:m="100%",height:g="100%",className:y,wrapperProps:x={},beforeMount:v=e2,onMount:w=e2,onChange:B,onValidate:k=e2}){let[E,N]=C.useState(!1),[O,F]=C.useState(!0),D=C.useRef(null),T=C.useRef(null),j=C.useRef(null),P=C.useRef(w),U=C.useRef(v),z=C.useRef(),ee=C.useRef(r),q=mbe(i),Z=C.useRef(!1),G=C.useRef(!1);wZ(()=>{let H=bZ.init();return H.then(Q=>(D.current=Q)&&F(!1)).catch(Q=>Q?.type!=="cancelation"&&console.error("Monaco initialization: error:",Q)),()=>T.current?K():H.cancel()}),nu(()=>{let H=Wy(D.current,t||r||"",e||s||"",i||n||"");H!==T.current?.getModel()&&(f&&SC.set(q,T.current?.saveViewState()),T.current?.setModel(H),f&&T.current?.restoreViewState(SC.get(i)))},[i],E),nu(()=>{T.current?.updateOptions(u)},[u],E),nu(()=>{!T.current||r===void 0||(T.current.getOption(D.current.editor.EditorOption.readOnly)?T.current.setValue(r):r!==T.current.getValue()&&(G.current=!0,T.current.executeEdits("",[{range:T.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),T.current.pushUndoStop(),G.current=!1))},[r],E),nu(()=>{let H=T.current?.getModel();H&&s&&D.current?.editor.setModelLanguage(H,s)},[s],E),nu(()=>{o!==void 0&&T.current?.revealLine(o)},[o],E),nu(()=>{D.current?.editor.setTheme(a)},[a],E);let ne=C.useCallback(()=>{if(!(!j.current||!D.current)&&!Z.current){U.current(D.current);let H=i||n,Q=Wy(D.current,r||t||"",e||s||"",H||"");T.current=D.current?.editor.create(j.current,{model:Q,automaticLayout:!0,...u},d),f&&T.current.restoreViewState(SC.get(H)),D.current.editor.setTheme(a),o!==void 0&&T.current.revealLine(o),N(!0),Z.current=!0}},[t,e,n,r,s,i,u,d,f,a,o]);C.useEffect(()=>{E&&P.current(T.current,D.current)},[E]),C.useEffect(()=>{!O&&!E&&ne()},[O,E,ne]),ee.current=r,C.useEffect(()=>{E&&B&&(z.current?.dispose(),z.current=T.current?.onDidChangeModelContent(H=>{G.current||B(T.current.getValue(),H)}))},[E,B]),C.useEffect(()=>{if(E){let H=D.current.editor.onDidChangeMarkers(Q=>{let X=T.current.getModel()?.uri;if(X&&Q.find(re=>re.path===X.path)){let re=D.current.editor.getModelMarkers({resource:X});k?.(re)}});return()=>{H?.dispose()}}return()=>{}},[E,k]);function K(){z.current?.dispose(),h?f&&SC.set(i,T.current.saveViewState()):T.current.getModel()?.dispose(),T.current.dispose()}return Hp.createElement(vZ,{width:m,height:g,isEditorReady:E,loading:c,_ref:j,className:y,wrapperProps:x})}var ybe=gbe,xbe=C.memo(ybe),hw=xbe;const bbe=1e-7,vbe=1e-4;class nD{constructor(e,n){this.backend=e,this.dataMover=n,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,n){this.dataIdsCount++,this.data.set(e,n)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class DE{refCount(e){return wc("refCount")}incRef(e){return wc("incRef")}timerAvailable(){return!0}time(e){return wc("time")}read(e){return wc("read")}readSync(e){return wc("readSync")}readToGPU(e,n){return wc("readToGPU")}numDataIds(){return wc("numDataIds")}disposeData(e,n){return wc("disposeData")}write(e,n,r){return wc("write")}move(e,n,r,s,i){return wc("move")}createTensorFromGPUData(e,n,r){return wc("createTensorFromGPUData")}memory(){return wc("memory")}floatPrecision(){return wc("floatPrecision")}epsilon(){return this.floatPrecision()===32?bbe:vbe}dispose(){return wc("dispose")}}function wc(t){throw new Error(`'${t}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}function rD(t){let e=t.length,n=0;for(;e>0;)n=Math.random()*e|0,e--,ih(t,e,n)}function wbe(t,e){if(t.length!==e.length)throw new Error(`Array sizes must match to be shuffled together First array length was ${t.length}Second array length was ${e.length}`);let n=t.length,r=0;for(;n>0;)r=Math.random()*n|0,n--,ih(t,n,r),ih(e,n,r)}function nm(t,e,n){return Math.max(t,Math.min(e,n))}function LE(t){return t%2===0?t:t+1}function ih(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function CZ(t){let e=0;for(let n=0;n<t.length;n++)e+=t[n];return e}function Sbe(t,e){const n=Math.random();return e*n+(1-n)*t}function Cbe(t,e){let n=0;for(let r=0;r<t.length;r++){const s=Number(t[r])-Number(e[r]);n+=s*s}return n}function ce(t,e){if(!t)throw new Error(typeof e=="string"?e:e())}function zo(t,e,n=""){ce(vr(t,e),()=>n+` Shapes ${t} and ${e} must match`)}function g0(t){ce(t!=null,()=>"The input to the tensor constructor must be a non-null value.")}function it(t){if(t.length===0)return 1;let e=t[0];for(let n=1;n<t.length;n++)e*=t[n];return e}function kbe(t){return t.length===0}function kZ(t,e){if(t===e)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==null&&e[n]!==null&&t[n]!==e[n])return!1;return!0}function vr(t,e){if(t===e)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Hg(t){return t%1===0}function Bbe(t){if(Math.tanh!=null)return Math.tanh(t);if(t===1/0)return 1;if(t===-1/0)return-1;{const e=Math.exp(2*t);return(e-1)/(e+1)}}function RB(t){const e=Math.ceil(Math.sqrt(t));return[e,Math.ceil(t/e)]}function Ebe(t){const e=new Uint32Array(t);for(let n=0;n<t;++n)e[n]=n;return rD(e),e}function Bg(t,e){return e<=t.length?t:t+" ".repeat(e-t.length)}function Z6(t,e=s=>0,n,r){return new Promise((s,i)=>{let a=0;const o=()=>{if(t()){s();return}a++;const c=e(a);if(n!=null&&a>=n){i();return}r!=null?r(o,c):setTimeout(o,c)};o()})}function sD(t,e){let n=1,r=-1;for(let i=0;i<t.length;++i)if(t[i]>=0)n*=t[i];else if(t[i]===-1){if(r!==-1)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${r} and dim ${i}`);r=i}else if(t[i]<0)throw Error(`Shapes can not be < 0. Found ${t[i]} at dim ${i}`);if(r===-1){if(e>0&&e!==n)throw Error(`Size(${e}) must match the product of shape ${t}`);return t}if(n===0)throw Error(`Cannot infer the missing size in [${t}] when there are 0 elements`);if(e%n!==0)throw Error(`The implicit shape can't be a fractional number. Got ${e} / ${n}`);const s=t.slice();return s[r]=e/n,s}function hr(t,e){const n=e.length;return t=t==null?e.map((r,s)=>s):[].concat(t),ce(t.every(r=>r>=-n&&r<n),()=>`All values in axis param must be in range [-${n}, ${n}) but got axis ${t}`),ce(t.every(r=>Hg(r)),()=>`All values in axis param must be integers but got axis ${t}`),t.map(r=>r<0?n+r:r)}function Oh(t,e){const n=[],r=[],s=e!=null&&Array.isArray(e)&&e.length===0,i=e==null||s?null:hr(e,t).sort();let a=0;for(let o=0;o<t.length;++o){if(i!=null){if(i[a]===o&&t[o]!==1)throw new Error(`Can't squeeze axis ${o} since its dim '${t[o]}' is not 1`);(i[a]==null||i[a]>o)&&t[o]===1&&(n.push(t[o]),r.push(o)),i[a]<=o&&a++}t[o]!==1&&(n.push(t[o]),r.push(o))}return{newShape:n,keptDims:r}}function ho(t,e){return aa(t,e)}function aa(t,e){let n=null;if(t==null||t==="float32")n=new Float32Array(e);else if(t==="int32")n=new Int32Array(e);else if(t==="bool")n=new Uint8Array(e);else if(t==="string")n=new Array(e);else throw new Error(`Unknown data type ${t}`);return n}function BZ(t,e){for(let n=0;n<t.length;n++){const r=t[n];if(isNaN(r)||!isFinite(r))throw Error(`A tensor of type ${e} being uploaded contains ${r}.`)}}function EZ(t){return t==="bool"||t==="complex64"||t==="float32"||t==="int32"||t==="string"}function iD(t,e){return!(e==="complex64"||e==="float32"&&t!=="complex64"||e==="int32"&&t!=="float32"&&t!=="complex64"||e==="bool"&&t==="bool")}function g2(t){if(t==="float32"||t==="int32")return 4;if(t==="complex64")return 8;if(t==="bool")return 1;throw new Error(`Unknown dtype ${t}`)}function IZ(t){if(t==null)return 0;let e=0;return t.forEach(n=>e+=n.length),e}function Hf(t){return typeof t=="string"||t instanceof String}function NZ(t){return typeof t=="boolean"}function OB(t){return typeof t=="number"}function y0(t){return Array.isArray(t)?y0(t[0]):t instanceof Float32Array?"float32":t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray?"int32":OB(t)?"float32":Hf(t)?"string":NZ(t)?"bool":"float32"}function rm(t){return!!(t&&t.constructor&&t.call&&t.apply)}function FB(t,e){for(let n=e;n<t;++n)if(t%n===0)return n;return t}function Rn(t){const e=t.length;if(e<2)return[];const n=new Array(e-1);n[e-2]=t[e-1];for(let r=e-3;r>=0;--r)n[r]=n[r+1]*t[r+1];return n}function jZ(t,e,n,r=!1){const s=new Array;if(e.length===1){const i=e[0]*(r?2:1);for(let a=0;a<i;a++)s[a]=n[t+a]}else{const i=e[0],a=e.slice(1),o=a.reduce((c,u)=>c*u)*(r?2:1);for(let c=0;c<i;c++)s[c]=jZ(t+c*o,a,n,r)}return s}function du(t,e,n=!1){if(t.length===0)return e[0];const r=t.reduce((s,i)=>s*i)*(n?2:1);if(r===0)return[];if(r!==e.length)throw new Error(`[${t}] does not match the input size ${e.length}${n?" for a complex tensor":""}.`);return jZ(0,t,e,n)}function TZ(t,e){if(Array.isArray(t))return t;if(e==="float32")return t instanceof Float32Array?t:new Float32Array(t);if(e==="int32")return t instanceof Int32Array?t:new Int32Array(t);if(e==="bool"||e==="string")return Uint8Array.from(new Int32Array(t));throw new Error(`Unknown dtype ${e}`)}function $E(t,e){const n=Uo(t,e);for(let r=0;r<n.length;r++)n[r]=1;return n}function Uo(t,e){if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool")return new Uint8Array(t);throw new Error(`Unknown data type ${e}`)}function aD(t,e){const n=t.reduce((r,s)=>r*s,1);if(e==null||e==="float32")return du(t,new Float32Array(n));if(e==="int32")return du(t,new Int32Array(n));if(e==="bool")return du(t,new Uint8Array(n));throw new Error(`Unknown data type ${e}`)}function Lc(t){t.forEach(e=>{ce(Number.isInteger(e)&&e>=0,()=>`Tensor must have a shape comprised of positive integers but got shape [${t}].`)})}function Xd(t,e,n){if(e===0)return 0;if(e===1)return t[0];let r=t[t.length-1];for(let s=0;s<t.length-1;++s)r+=n[s]*t[s];return r}function x0(t,e,n){if(e===0)return[];if(e===1)return[t];const r=new Array(e);for(let s=0;s<r.length-1;++s)r[s]=Math.floor(t/n[s]),t-=r[s]*n[s];return r[r.length-1]=t,r}function sm(t){return t&&t.then&&typeof t.then=="function"}const NQ="tfjsflags";class _Z{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=Ibe,this.populateURLFlags()}setPlatform(e,n){this.platform!=null&&(Xe().getBool("IS_TEST")||Xe().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${e}.`)),this.platformName=e,this.platform=n}registerFlag(e,n,r){if(this.flagRegistry[e]={evaluationFn:n,setHook:r},this.urlFlags[e]!=null){const s=this.urlFlags[e];Xe().getBool("IS_TEST")||Xe().getBool("PROD")||console.warn(`Setting feature override from URL ${e}: ${s}.`),this.set(e,s)}}async getAsync(e){return e in this.flags?this.flags[e]:(this.flags[e]=await this.evaluateFlag(e),this.flags[e])}get(e){if(e in this.flags)return this.flags[e];const n=this.evaluateFlag(e);if(sm(n))throw new Error(`Flag ${e} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[e]=n,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getString(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,n){if(this.flagRegistry[e]==null)throw new Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=n,this.flagRegistry[e].setHook!=null&&this.flagRegistry[e].setHook(n)}evaluateFlag(e){if(this.flagRegistry[e]==null)throw new Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(typeof this.global>"u"||typeof this.global.location>"u"||typeof this.global.location.search>"u")return;const e=this.getQueryParams(this.global.location.search);NQ in e&&e[NQ].split(",").forEach(r=>{const[s,i]=r.split(":");this.urlFlags[s]=jbe(s,i)})}}function Ibe(t){const e={};return t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(n,...r)=>(Nbe(e,r[0],r[1]),r.join("="))),e}function Nbe(t,e,n){t[decodeURIComponent(e)]=decodeURIComponent(n||"")}function jbe(t,e){const n=e.toLowerCase();return n==="true"||n==="false"?n==="true":`${+n}`===n?+n:e}function Xe(){return oD}let oD=null;function Tbe(t){oD=t}let DT;function RZ(){if(DT==null){let t;if(typeof window<"u")t=window;else if(typeof global<"u")t=global;else if(typeof process<"u")t=process;else if(typeof self<"u")t=self;else throw new Error("Could not find a global object");DT=t}return DT}function _be(){const t=RZ();return t._tfGlobals==null&&(t._tfGlobals=new Map),t._tfGlobals}function lD(t,e){const n=_be();if(n.has(t))return n.get(t);{const r=e();return n.set(t,r),n.get(t)}}const pw="Abs",z1="Acos",M1="Acosh",b0="Add",mw="AddN",PE="All",UE="Any",gw="ArgMax",yw="ArgMin",Q1="Asin",H1="Asinh",W1="Atan",V1="Atanh",q1="Atan2",xw="AvgPool",zE="AvgPoolGrad",bw="AvgPool3D",ME="AvgPool3DGrad",vw="BatchMatMul",ww="BatchToSpaceND",QE="Bincount",Sw="BitwiseAnd",OZ="BroadcastTo",HE="BroadcastArgs",G1="Cast",K1="Ceil",X1="ClipByValue",WE="Complex",Cw="ComplexAbs",kw="Concat",Bw="Conv2D",VE="Conv2DBackpropFilter",Ew="Conv2DBackpropInput",Iw="Conv3D",qE="Conv3DBackpropFilterV2",GE="Conv3DBackpropInputV2",Y1="Cos",J1="Cosh",KE="Cumprod",Nw="Cumsum",XE="CropAndResize",YE="DenseBincount",JE="DepthToSpace",jw="DepthwiseConv2dNative",ZE="DepthwiseConv2dNativeBackpropFilter",eI="DepthwiseConv2dNativeBackpropInput",tI="Diag",Tw="Dilation2D",DB="Dilation2DBackpropInput",LB="Dilation2DBackpropFilter",nI="Draw",Z1="RealDiv",rI="Einsum",ex="Elu",sI="EluGrad",tx="Erf",_w="Equal",nx="Exp",Rw="ExpandDims",rx="Expm1",iI="FFT",aI="Fill",oI="FlipLeftRight",sx="Floor",ix="FloorDiv",Ow="FusedBatchNorm",Fw="GatherV2",lI="GatherNd",Dw="Greater",ax="GreaterEqual",ox="Identity",cI="IFFT",uI="Imag",lx="IsFinite",cx="IsInf",ux="IsNan",Lw="LeakyRelu",$w="Less",Pw="LessEqual",dI="LinSpace",dx="Log",fx="Log1p",Uw="LogicalAnd",zw="LogicalNot",Mw="LogicalOr",Rbe="LogicalXor",FZ="LogSoftmax",Obe="LowerBound",Qw="LRN",fI="LRNGrad",Fbe="MatrixBandPart",Hw="Max",Ax="Maximum",Ww="MaxPool",AI="MaxPoolGrad",Vw="MaxPool3D",hI="MaxPool3DGrad",pI="MaxPoolWithArgmax",qw="Mean",Gw="Min",hx="Minimum",Kw="MirrorPad",px="Mod",mI="Multinomial",mx="Multiply",Xw="Neg",Yw="NotEqual",gI="NonMaxSuppressionV3",yI="NonMaxSuppressionV4",xI="NonMaxSuppressionV5",Jw="OnesLike",Zw="OneHot",e5="Pack",t5="PadV2",Dbe="Pool",gx="Pow",n5="Prelu",r5="Prod",bI="RaggedGather",vI="RaggedRange",wI="RaggedTensorToTensor",SI="Range",CI="Real",yx="Reciprocal",xx="Relu",s5="Reshape",i5="ResizeNearestNeighbor",kI="ResizeNearestNeighborGrad",a5="ResizeBilinear",BI="ResizeBilinearGrad",bx="Relu6",o5="Reverse",vx="Round",wx="Rsqrt",EI="ScatterNd",II="TensorScatterUpdate",NI="SearchSorted",l5="Select",Sx="Selu",c5="Slice",Cx="Sin",kx="Sinh",Bx="Sign",Ex="Sigmoid",Ix="Softplus",Nx="Sqrt",u5="Sum",d5="SpaceToBatchND",f5="SplitV",A5="Softmax",jI="SparseFillEmptyRows",TI="SparseReshape",_I="SparseSegmentMean",RI="SparseSegmentSum",OI="SparseToDense",jx="SquaredDifference",FI="Square",h5="StaticRegexReplace",DI="StridedSlice",LI="StringNGrams",$I="StringSplit",PI="StringToHashBucketFast",Tx="Sub",_x="Tan",Rx="Tanh",Ox="Tile",UI="TopK",zI="Transform",Eg="Transpose",MI="Unique",p5="Unpack",m5="UnsortedSegmentSum",Lbe="UpperBound",g5="ZerosLike",Fx="Step",$B="FromPixels",QI="RotateWithOffset",y2="_FusedMatMul",x2="FusedConv2D",b2="FusedDepthwiseConv2D";function ru(...t){Xe().getBool("IS_TEST")||Xe().getBool("PROD")||console.warn(...t)}function $be(...t){Xe().getBool("IS_TEST")||Xe().getBool("PROD")||console.log(...t)}const h1=lD("kernelRegistry",()=>new Map),v2=lD("gradRegistry",()=>new Map);function w2(t,e){const n=cD(t,e);return h1.get(n)}function eO(t){return v2.get(t)}function PB(t){const e=h1.entries(),n=[];for(;;){const{done:r,value:s}=e.next();if(r)break;const[i,a]=s,[o]=i.split("_");o===t&&n.push(a)}return n}function HI(t){const{kernelName:e,backendName:n}=t,r=cD(e,n);h1.has(r)&&ru(`The kernel '${e}' for backend '${n}' is already registered`),h1.set(r,t)}function DZ(t){const{kernelName:e}=t;v2.has(e)&&Xe().getBool("DEBUG")&&ru(`Overriding the gradient for '${e}'`),v2.set(e,t)}function Pbe(t,e){const n=cD(t,e);if(!h1.has(n))throw new Error(`The kernel '${t}' for backend '${e}' is not registered`);h1.delete(n)}function Ube(t){if(!v2.has(t))throw new Error(`The gradient '${t}' for backend is not registered`);v2.delete(t)}function zbe(t,e){PB(t).forEach(r=>{const s=Object.assign({},r,{backendName:e});HI(s)})}function cD(t,e){return`${e}_${t}`}function LZ(t){return t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray}var LT,jQ;function Mbe(){if(jQ)return LT;jQ=1,LT=e;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function e(T,j,P){this.low=T|0,this.high=j|0,this.unsigned=!!P}e.prototype.__isLong__,Object.defineProperty(e.prototype,"__isLong__",{value:!0});function n(T){return(T&&T.__isLong__)===!0}e.isLong=n;var r={},s={};function i(T,j){var P,U,z;return j?(T>>>=0,(z=0<=T&&T<256)&&(U=s[T],U)?U:(P=o(T,(T|0)<0?-1:0,!0),z&&(s[T]=P),P)):(T|=0,(z=-128<=T&&T<128)&&(U=r[T],U)?U:(P=o(T,T<0?-1:0,!1),z&&(r[T]=P),P))}e.fromInt=i;function a(T,j){if(isNaN(T))return j?w:v;if(j){if(T<0)return w;if(T>=g)return O}else{if(T<=-y)return F;if(T+1>=y)return N}return T<0?a(-T,j).neg():o(T%m|0,T/m|0,j)}e.fromNumber=a;function o(T,j,P){return new e(T,j,P)}e.fromBits=o;var c=Math.pow;function u(T,j,P){if(T.length===0)throw Error("empty string");if(T==="NaN"||T==="Infinity"||T==="+Infinity"||T==="-Infinity")return v;if(typeof j=="number"?(P=j,j=!1):j=!!j,P=P||10,P<2||36<P)throw RangeError("radix");var U;if((U=T.indexOf("-"))>0)throw Error("interior hyphen");if(U===0)return u(T.substring(1),j,P).neg();for(var z=a(c(P,8)),ee=v,q=0;q<T.length;q+=8){var Z=Math.min(8,T.length-q),G=parseInt(T.substring(q,q+Z),P);if(Z<8){var ne=a(c(P,Z));ee=ee.mul(ne).add(a(G))}else ee=ee.mul(z),ee=ee.add(a(G))}return ee.unsigned=j,ee}e.fromString=u;function d(T,j){return typeof T=="number"?a(T,j):typeof T=="string"?u(T,j):o(T.low,T.high,typeof j=="boolean"?j:T.unsigned)}e.fromValue=d;var f=65536,h=1<<24,m=f*f,g=m*m,y=g/2,x=i(h),v=i(0);e.ZERO=v;var w=i(0,!0);e.UZERO=w;var B=i(1);e.ONE=B;var k=i(1,!0);e.UONE=k;var E=i(-1);e.NEG_ONE=E;var N=o(-1,2147483647,!1);e.MAX_VALUE=N;var O=o(-1,-1,!0);e.MAX_UNSIGNED_VALUE=O;var F=o(0,-2147483648,!1);e.MIN_VALUE=F;var D=e.prototype;return D.toInt=function(){return this.unsigned?this.low>>>0:this.low},D.toNumber=function(){return this.unsigned?(this.high>>>0)*m+(this.low>>>0):this.high*m+(this.low>>>0)},D.toString=function(j){if(j=j||10,j<2||36<j)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(F)){var P=a(j),U=this.div(P),z=U.mul(P).sub(this);return U.toString(j)+z.toInt().toString(j)}else return"-"+this.neg().toString(j);for(var ee=a(c(j,6),this.unsigned),q=this,Z="";;){var G=q.div(ee),ne=q.sub(G.mul(ee)).toInt()>>>0,K=ne.toString(j);if(q=G,q.isZero())return K+Z;for(;K.length<6;)K="0"+K;Z=""+K+Z}},D.getHighBits=function(){return this.high},D.getHighBitsUnsigned=function(){return this.high>>>0},D.getLowBits=function(){return this.low},D.getLowBitsUnsigned=function(){return this.low>>>0},D.getNumBitsAbs=function(){if(this.isNegative())return this.eq(F)?64:this.neg().getNumBitsAbs();for(var j=this.high!=0?this.high:this.low,P=31;P>0&&(j&1<<P)==0;P--);return this.high!=0?P+33:P+1},D.isZero=function(){return this.high===0&&this.low===0},D.eqz=D.isZero,D.isNegative=function(){return!this.unsigned&&this.high<0},D.isPositive=function(){return this.unsigned||this.high>=0},D.isOdd=function(){return(this.low&1)===1},D.isEven=function(){return(this.low&1)===0},D.equals=function(j){return n(j)||(j=d(j)),this.unsigned!==j.unsigned&&this.high>>>31===1&&j.high>>>31===1?!1:this.high===j.high&&this.low===j.low},D.eq=D.equals,D.notEquals=function(j){return!this.eq(j)},D.neq=D.notEquals,D.ne=D.notEquals,D.lessThan=function(j){return this.comp(j)<0},D.lt=D.lessThan,D.lessThanOrEqual=function(j){return this.comp(j)<=0},D.lte=D.lessThanOrEqual,D.le=D.lessThanOrEqual,D.greaterThan=function(j){return this.comp(j)>0},D.gt=D.greaterThan,D.greaterThanOrEqual=function(j){return this.comp(j)>=0},D.gte=D.greaterThanOrEqual,D.ge=D.greaterThanOrEqual,D.compare=function(j){if(n(j)||(j=d(j)),this.eq(j))return 0;var P=this.isNegative(),U=j.isNegative();return P&&!U?-1:!P&&U?1:this.unsigned?j.high>>>0>this.high>>>0||j.high===this.high&&j.low>>>0>this.low>>>0?-1:1:this.sub(j).isNegative()?-1:1},D.comp=D.compare,D.negate=function(){return!this.unsigned&&this.eq(F)?F:this.not().add(B)},D.neg=D.negate,D.add=function(j){n(j)||(j=d(j));var P=this.high>>>16,U=this.high&65535,z=this.low>>>16,ee=this.low&65535,q=j.high>>>16,Z=j.high&65535,G=j.low>>>16,ne=j.low&65535,K=0,H=0,Q=0,X=0;return X+=ee+ne,Q+=X>>>16,X&=65535,Q+=z+G,H+=Q>>>16,Q&=65535,H+=U+Z,K+=H>>>16,H&=65535,K+=P+q,K&=65535,o(Q<<16|X,K<<16|H,this.unsigned)},D.subtract=function(j){return n(j)||(j=d(j)),this.add(j.neg())},D.sub=D.subtract,D.multiply=function(j){if(this.isZero())return v;if(n(j)||(j=d(j)),t){var P=t.mul(this.low,this.high,j.low,j.high);return o(P,t.get_high(),this.unsigned)}if(j.isZero())return v;if(this.eq(F))return j.isOdd()?F:v;if(j.eq(F))return this.isOdd()?F:v;if(this.isNegative())return j.isNegative()?this.neg().mul(j.neg()):this.neg().mul(j).neg();if(j.isNegative())return this.mul(j.neg()).neg();if(this.lt(x)&&j.lt(x))return a(this.toNumber()*j.toNumber(),this.unsigned);var U=this.high>>>16,z=this.high&65535,ee=this.low>>>16,q=this.low&65535,Z=j.high>>>16,G=j.high&65535,ne=j.low>>>16,K=j.low&65535,H=0,Q=0,X=0,re=0;return re+=q*K,X+=re>>>16,re&=65535,X+=ee*K,Q+=X>>>16,X&=65535,X+=q*ne,Q+=X>>>16,X&=65535,Q+=z*K,H+=Q>>>16,Q&=65535,Q+=ee*ne,H+=Q>>>16,Q&=65535,Q+=q*G,H+=Q>>>16,Q&=65535,H+=U*K+z*ne+ee*G+q*Z,H&=65535,o(X<<16|re,H<<16|Q,this.unsigned)},D.mul=D.multiply,D.divide=function(j){if(n(j)||(j=d(j)),j.isZero())throw Error("division by zero");if(t){if(!this.unsigned&&this.high===-2147483648&&j.low===-1&&j.high===-1)return this;var P=(this.unsigned?t.div_u:t.div_s)(this.low,this.high,j.low,j.high);return o(P,t.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?w:v;var U,z,ee;if(this.unsigned){if(j.unsigned||(j=j.toUnsigned()),j.gt(this))return w;if(j.gt(this.shru(1)))return k;ee=w}else{if(this.eq(F)){if(j.eq(B)||j.eq(E))return F;if(j.eq(F))return B;var q=this.shr(1);return U=q.div(j).shl(1),U.eq(v)?j.isNegative()?B:E:(z=this.sub(j.mul(U)),ee=U.add(z.div(j)),ee)}else if(j.eq(F))return this.unsigned?w:v;if(this.isNegative())return j.isNegative()?this.neg().div(j.neg()):this.neg().div(j).neg();if(j.isNegative())return this.div(j.neg()).neg();ee=v}for(z=this;z.gte(j);){U=Math.max(1,Math.floor(z.toNumber()/j.toNumber()));for(var Z=Math.ceil(Math.log(U)/Math.LN2),G=Z<=48?1:c(2,Z-48),ne=a(U),K=ne.mul(j);K.isNegative()||K.gt(z);)U-=G,ne=a(U,this.unsigned),K=ne.mul(j);ne.isZero()&&(ne=B),ee=ee.add(ne),z=z.sub(K)}return ee},D.div=D.divide,D.modulo=function(j){if(n(j)||(j=d(j)),t){var P=(this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,j.low,j.high);return o(P,t.get_high(),this.unsigned)}return this.sub(this.div(j).mul(j))},D.mod=D.modulo,D.rem=D.modulo,D.not=function(){return o(~this.low,~this.high,this.unsigned)},D.and=function(j){return n(j)||(j=d(j)),o(this.low&j.low,this.high&j.high,this.unsigned)},D.or=function(j){return n(j)||(j=d(j)),o(this.low|j.low,this.high|j.high,this.unsigned)},D.xor=function(j){return n(j)||(j=d(j)),o(this.low^j.low,this.high^j.high,this.unsigned)},D.shiftLeft=function(j){return n(j)&&(j=j.toInt()),(j&=63)===0?this:j<32?o(this.low<<j,this.high<<j|this.low>>>32-j,this.unsigned):o(0,this.low<<j-32,this.unsigned)},D.shl=D.shiftLeft,D.shiftRight=function(j){return n(j)&&(j=j.toInt()),(j&=63)===0?this:j<32?o(this.low>>>j|this.high<<32-j,this.high>>j,this.unsigned):o(this.high>>j-32,this.high>=0?0:-1,this.unsigned)},D.shr=D.shiftRight,D.shiftRightUnsigned=function(j){if(n(j)&&(j=j.toInt()),j&=63,j===0)return this;var P=this.high;if(j<32){var U=this.low;return o(U>>>j|P<<32-j,P>>>j,this.unsigned)}else return j===32?o(P,0,this.unsigned):o(P>>>j-32,0,this.unsigned)},D.shru=D.shiftRightUnsigned,D.shr_u=D.shiftRightUnsigned,D.toSigned=function(){return this.unsigned?o(this.low,this.high,!1):this},D.toUnsigned=function(){return this.unsigned?this:o(this.low,this.high,!0)},D.toBytes=function(j){return j?this.toBytesLE():this.toBytesBE()},D.toBytesLE=function(){var j=this.high,P=this.low;return[P&255,P>>>8&255,P>>>16&255,P>>>24,j&255,j>>>8&255,j>>>16&255,j>>>24]},D.toBytesBE=function(){var j=this.high,P=this.low;return[j>>>24,j>>>16&255,j>>>8&255,j&255,P>>>24,P>>>16&255,P>>>8&255,P&255]},e.fromBytes=function(j,P,U){return U?e.fromBytesLE(j,P):e.fromBytesBE(j,P)},e.fromBytesLE=function(j,P){return new e(j[0]|j[1]<<8|j[2]<<16|j[3]<<24,j[4]|j[5]<<8|j[6]<<16|j[7]<<24,P)},e.fromBytesBE=function(j,P){return new e(j[4]<<24|j[5]<<16|j[6]<<8|j[7],j[0]<<24|j[1]<<16|j[2]<<8|j[3],P)},LT}var $Z=Mbe();const PZ=nc($Z),Qbe=pJ({__proto__:null,default:PZ},[$Z]);const lg=PZ||Qbe;function y5(t){return lg.fromString(t,!0,16)}const UZ=y5("c3a5c85c97cb3127"),ng=y5("b492b66fbe98f273"),Cl=y5("9ae16a3b2f90404f");function tO(t){return t.xor(t.shru(47))}function zZ(t,e,n){const r=t.slice(e,e+n);return lg.fromBytes(Array.from(r),!0,!0)}function Ys(t,e){return zZ(t,e,8)}function TQ(t,e){return zZ(t,e,4)}function co(t,e){return e===0?t:t.shru(e).or(t.shl(64-e))}function Vp(t,e,n=y5("9ddfea08eb382d69")){let r=t.xor(e).mul(n);r=r.xor(r.shru(47));let s=e.xor(r).mul(n);return s=s.xor(s.shru(47)),s=s.mul(n),s}function Hbe(t,e,n,r,s,i){s=s.add(t),i=co(i.add(s).add(r),21);const a=s;return s=s.add(e),s=s.add(n),i=i.add(co(s,44)),[s.add(r),i.add(a)]}function CC(t,e,n,r){return Hbe(Ys(t,e),Ys(t,e+8),Ys(t,e+16),Ys(t,e+24),n,r)}function Wbe(t,e=t.length){if(e>=8){const n=Cl.add(e*2),r=Ys(t,0).add(Cl),s=Ys(t,e-8),i=co(s,37).mul(n).add(r),a=co(r,25).add(s).mul(n);return Vp(i,a,n)}if(e>=4){const n=Cl.add(e*2),r=TQ(t,0);return Vp(r.shl(3).add(e),TQ(t,e-4),n)}if(e>0){const n=t[0],r=t[e>>1],s=t[e-1],i=n+(r<<8),a=e+(s<<2);return tO(Cl.mul(i).xor(UZ.mul(a))).mul(Cl)}return Cl}function Vbe(t,e=t.length){const n=Cl.add(e*2),r=Ys(t,0).mul(ng),s=Ys(t,8),i=Ys(t,e-8).mul(n),a=Ys(t,e-16).mul(Cl);return Vp(co(r.add(s),43).add(co(i,30)).add(a),r.add(co(s.add(Cl),18)).add(i),n)}function qbe(t,e=t.length){const n=Cl.add(e*2),r=Ys(t,0).mul(Cl),s=Ys(t,8),i=Ys(t,e-8).mul(n),a=Ys(t,e-16).mul(Cl),o=co(r.add(s),43).add(co(i,30)).add(a),c=Vp(o,r.add(co(s.add(Cl),18)).add(i),n),u=Ys(t,16).mul(n),d=Ys(t,24),f=o.add(Ys(t,e-32)).mul(n),h=c.add(Ys(t,e-24)).mul(n);return Vp(co(u.add(d),43).add(co(f,30)).add(h),u.add(co(d.add(r),18)).add(f),n)}function MZ(t,e=t.length){const n=lg.fromNumber(81,!0);if(e<=32)return e<=16?Wbe(t,e):Vbe(t,e);if(e<=64)return qbe(t,e);let r=n,s=n.mul(ng).add(113),i=tO(s.mul(Cl).add(113)).mul(Cl),a=[lg.UZERO,lg.UZERO],o=[lg.UZERO,lg.UZERO];r=r.mul(Cl).add(Ys(t,0));let c=0;const u=(e-1>>6)*64,d=u+(e-1&63)-63;do r=co(r.add(s).add(a[0]).add(Ys(t,c+8)),37).mul(ng),s=co(s.add(a[1]).add(Ys(t,c+48)),42).mul(ng),r=r.xor(o[1]),s=s.add(a[0]).add(Ys(t,c+40)),i=co(i.add(o[0]),33).mul(ng),a=CC(t,c,a[1].mul(ng),r.add(o[0])),o=CC(t,c+32,i.add(o[1]),s.add(Ys(t,c+16))),[i,r]=[r,i],c+=64;while(c!==u);const f=ng.add(i.and(255).shl(1));return c=d,o[0]=o[0].add(e-1&63),a[0]=a[0].add(o[0]),o[0]=o[0].add(a[0]),r=co(r.add(s).add(a[0]).add(Ys(t,c+8)),37).mul(f),s=co(s.add(a[1]).add(Ys(t,c+48)),42).mul(f),r=r.xor(o[1].mul(9)),s=s.add(a[0].mul(9).add(Ys(t,c+40))),i=co(i.add(o[0]),33).mul(f),a=CC(t,c,a[1].mul(f),r.add(o[0])),o=CC(t,c+32,i.add(o[1]),s.add(Ys(t,c+16))),[i,r]=[r,i],Vp(Vp(a[0],o[0],f).add(tO(s).mul(UZ)).add(i),Vp(a[1],o[1],f).add(r),f)}function Fh(t,e){return e==="string"?Kf(t):vm([t],e)}function Gbe(t,e){return t instanceof Float32Array&&e==="float32"||t instanceof Int32Array&&e==="int32"||t instanceof Uint8Array&&e==="bool"}function vm(t,e){if(e==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(t)&&(t=iA(t)),Xe().getBool("DEBUG")&&BZ(t,e),Gbe(t,e))return t;if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool"){const n=new Uint8Array(t.length);for(let r=0;r<n.length;++r)Math.round(t[r])!==0&&(n[r]=1);return n}else throw new Error(`Unknown data type ${e}`)}function vl(){return Xe().platform.now()}function Kbe(t,e){return Xe().platform.fetch(t,e)}function Kf(t,e="utf-8"){return e=e||"utf-8",Xe().platform.encode(t,e)}function bh(t,e="utf-8"){return e=e||"utf-8",Xe().platform.decode(t,e)}function uo(t){return Xe().platform.isTypedArray!=null?Xe().platform.isTypedArray(t):LZ(t)}function iA(t,e=[],n=!1){if(e==null&&(e=[]),typeof t=="boolean"||typeof t=="number"||typeof t=="string"||sm(t)||t==null||uo(t)&&n)e.push(t);else if(Array.isArray(t)||uo(t))for(let r=0;r<t.length;++r)iA(t[r],e,n);else{let r=-1;for(const s of Object.keys(t))/^([1-9]+[0-9]*|0)$/.test(s)&&(r=Math.max(r,Number(s)));for(let s=0;s<=r;s++)iA(t[s],e,n)}return e}const Xbe=Object.freeze(Object.defineProperty({__proto__:null,arraysEqual:vr,arraysEqualWithNull:kZ,assert:ce,assertNonNegativeIntegerDimensions:Lc,assertNonNull:g0,assertShapesMatch:zo,bytesFromStringArray:IZ,bytesPerElement:g2,checkConversionForErrors:BZ,clamp:nm,computeStrides:Rn,convertBackendValuesAndArrayBuffer:TZ,createScalarValue:Fh,createShuffledIndices:Ebe,decodeString:bh,distSquared:Cbe,encodeString:Kf,fetch:Kbe,fingerPrint64:MZ,flatten:iA,getArrayFromDType:aa,getTypedArrayFromDType:ho,hasEncodingLoss:iD,hexToLong:y5,indexToLoc:x0,inferDtype:y0,inferFromImplicitShape:sD,isBoolean:NZ,isFunction:rm,isInt:Hg,isNumber:OB,isPromise:sm,isScalarShape:kbe,isString:Hf,isTypedArray:uo,isValidDtype:EZ,locToIndex:Xd,makeOnesTypedArray:$E,makeZerosNestedTypedArray:aD,makeZerosTypedArray:Uo,nearestDivisor:FB,nearestLargerEven:LE,now:vl,parseAxisParam:hr,randUniform:Sbe,repeatedTry:Z6,rightPad:Bg,shuffle:rD,shuffleCombo:wbe,sizeFromShape:it,sizeToSquarishShape:RB,squeezeShape:Oh,sum:CZ,swap:ih,tanh:Bbe,toNestedArray:du,toTypedArray:vm},Symbol.toStringTag,{value:"Module"}));class Ybe{constructor(e,n){this.backendTimer=e,this.logger=n,n==null&&(this.logger=new Zbe)}profileKernel(e,n,r){let s;const i=()=>{s=r()};let a;const o=vl();if(this.backendTimer.timerAvailable())a=this.backendTimer.time(i);else{i();for(const u of s)u.dataSync();a=Promise.resolve({kernelMs:vl()-o})}if(Xe().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let u=0;u<s.length;u++){const d=s[u];d.data().then(f=>{Jbe(f,d.dtype,e)})}return{kernelName:e,outputs:s,inputs:n,timeMs:a.then(u=>u.kernelMs),extraInfo:a.then(u=>u.getExtraProfileInfo!=null?u.getExtraProfileInfo():"")}}logKernelProfile(e){const{kernelName:n,outputs:r,timeMs:s,inputs:i,extraInfo:a}=e;r.forEach(o=>{Promise.all([o.data(),s,a]).then(c=>{this.logger.logKernelProfile(n,o,c[0],c[1],i,c[2])})})}}function Jbe(t,e,n){if(e!=="float32")return!1;for(let r=0;r<t.length;r++){const s=t[r];if(isNaN(s)||!isFinite(s))return console.warn(`Found ${s} in the result of '${n}'`),!0}return!1}let Zbe=class{logKernelProfile(e,n,r,s,i,a){const o=typeof s=="number"?Bg(`${s}ms`,9):s.error,c=Bg(e,25),u=n.rank,d=n.size,f=Bg(n.shape.toString(),14);let h="";for(const m in i){const g=i[m];if(g!=null){const y=g.shape||n.shape,x=y.length;h+=`${m}: ${x}D ${x>0?y:""} `}}console.log(`%c${c}	%c${o}	%c${u}D ${f}	%c${d}	%c${h}	%c${a}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}};function eve(t,e,n){const r={},s={};for(let c=0;c<e.length;c++)r[e[c].id]=!0;for(let c=0;c<t.length;c++){const u=t[c],d=u.inputs;for(const f in d){const h=d[f];let m=!1;for(let g=0;g<e.length;g++)if(r[h.id]){u.outputs.forEach(y=>r[y.id]=!0),m=!0,s[u.id]=!0;break}if(m)break}}const i={};i[n.id]=!0;const a={};for(let c=t.length-1;c>=0;c--){const u=t[c],d=u.inputs;for(let f=0;f<u.outputs.length;f++)if(i[u.outputs[f].id]){for(const h in d)i[d[h].id]=!0,a[u.id]=!0;break}}const o=[];for(let c=0;c<t.length;c++){const u=t[c];if(s[u.id]&&a[u.id]){const d={};for(const h in u.inputs){const m=u.inputs[h];r[m.id]&&(d[h]=m)}const f=Object.assign({},u);f.inputs=d,f.outputs=u.outputs,o.push(f)}}return o}function tve(t,e,n,r){for(let s=e.length-1;s>=0;s--){const i=e[s],a=[];if(i.outputs.forEach(c=>{const u=t[c.id];u!=null?a.push(u):a.push(null)}),i.gradient==null)throw new Error(`Cannot compute gradient: gradient function not found for ${i.kernelName}.`);const o=i.gradient(a);for(const c in i.inputs){if(!(c in o))throw new Error(`Cannot backprop through input ${c}. Available gradients found: ${Object.keys(o)}.`);const u=n(()=>o[c]());if(u.dtype!=="float32")throw new Error(`Error in gradient for op ${i.kernelName}. The gradient of input ${c} must have 'float32' dtype, but has '${u.dtype}'`);const d=i.inputs[c];if(!vr(u.shape,d.shape))throw new Error(`Error in gradient for op ${i.kernelName}. The gradient of input '${c}' has shape '${u.shape}', which does not match the shape of the input '${d.shape}'`);if(t[d.id]==null)t[d.id]=u;else{const f=t[d.id];t[d.id]=r(f,u),f.dispose()}}}}const _Q=20,av=3,$T=7;function nve(t,e,n,r){const s=Rn(e),i=rve(t,e,n,s),a=e.length,o=Yk(t,e,n,s,i),c=["Tensor"];return r&&(c.push(`  dtype: ${n}`),c.push(`  rank: ${a}`),c.push(`  shape: [${e}]`),c.push("  values:")),c.push(o.map(u=>"    "+u).join(`
`)),c.join(`
`)}function rve(t,e,n,r){const s=it(e),i=r[r.length-1],a=new Array(i).fill(0),o=e.length,c=n==="complex64"?Dv(t):t;if(o>1)for(let u=0;u<s/i;u++){const d=u*i;for(let f=0;f<i;f++)a[f]=Math.max(a[f],Fv(c[d+f],0,n).length)}return a}function Fv(t,e,n){let r;return Array.isArray(t)?r=`${parseFloat(t[0].toFixed($T))} + ${parseFloat(t[1].toFixed($T))}j`:Hf(t)?r=`'${t}'`:n==="bool"?r=QZ(t):r=parseFloat(t.toFixed($T)).toString(),Bg(r,e)}function QZ(t){return t===0?"false":"true"}function Yk(t,e,n,r,s,i=!0){const a=n==="complex64"?2:1,o=e[0],c=e.length;if(c===0){if(n==="complex64"){const y=Dv(t);return[Fv(y[0],0,n)]}return n==="bool"?[QZ(t[0])]:[t[0].toString()]}if(c===1){if(o>_Q){const x=av*a;let v=Array.from(t.slice(0,x)),w=Array.from(t.slice((o-av)*a,o*a));return n==="complex64"&&(v=Dv(v),w=Dv(w)),["["+v.map((B,k)=>Fv(B,s[k],n)).join(", ")+", ..., "+w.map((B,k)=>Fv(B,s[o-av+k],n)).join(", ")+"]"]}return["["+(n==="complex64"?Dv(t):Array.from(t)).map((x,v)=>Fv(x,s[v],n)).join(", ")+"]"]}const u=e.slice(1),d=r.slice(1),f=r[0]*a,h=[];if(o>_Q){for(let y=0;y<av;y++){const x=y*f,v=x+f;h.push(...Yk(t.slice(x,v),u,n,d,s,!1))}h.push("...");for(let y=o-av;y<o;y++){const x=y*f,v=x+f;h.push(...Yk(t.slice(x,v),u,n,d,s,y===o-1))}}else for(let y=0;y<o;y++){const x=y*f,v=x+f;h.push(...Yk(t.slice(x,v),u,n,d,s,y===o-1))}const m=c===2?",":"";h[0]="["+(o>0?h[0]+m:"");for(let y=1;y<h.length-1;y++)h[y]=" "+h[y]+m;let g=`,
`;for(let y=2;y<c;y++)g+=`
`;return h[h.length-1]=" "+h[h.length-1]+"]"+(i?"":g),h}function Dv(t){const e=[];for(let n=0;n<t.length;n+=2)e.push([t[n],t[n+1]]);return e}class Fa{constructor(e,n,r){if(this.dtype=n,this.shape=e.slice(),this.size=it(e),r!=null){const s=r.length;ce(s===this.size,()=>`Length of values '${s}' does not match the size inferred by the shape '${this.size}'.`)}if(n==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=r||aa(n,this.size),this.strides=Rn(e)}set(e,...n){n.length===0&&(n=[0]),ce(n.length===this.rank,()=>`The number of provided coordinates (${n.length}) must match the rank (${this.rank})`);const r=this.locToIndex(n);this.values[r]=e}get(...e){e.length===0&&(e=[0]);let n=0;for(const s of e){if(s<0||s>=this.shape[n]){const i=`Requested out of range element at ${e}.   Buffer shape=${this.shape}`;throw new Error(i)}n++}let r=e[e.length-1];for(let s=0;s<e.length-1;++s)r+=this.strides[s]*e[s];return this.values[r]}locToIndex(e){if(this.rank===0)return 0;if(this.rank===1)return e[0];let n=e[e.length-1];for(let r=0;r<e.length-1;++r)n+=this.strides[r]*e[r];return n}indexToLoc(e){if(this.rank===0)return[];if(this.rank===1)return[e];const n=new Array(this.shape.length);for(let r=0;r<n.length-1;++r)n[r]=Math.floor(e/this.strides[r]),e-=n[r]*this.strides[r];return n[n.length-1]=e,n}get rank(){return this.shape.length}toTensor(){return Md().makeTensor(this.values,this.shape,this.dtype)}}let Md=null,Fy=null;function sve(t){Md=t}function ive(t){Fy=t}class Fr{constructor(e,n,r,s){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=n||"float32",this.size=it(e),this.strides=Rn(e),this.dataId=r,this.id=s,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return Fy.buffer(this.shape,this.dtype,e)}bufferSync(){return Fy.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return du(this.shape,e,this.dtype==="complex64")}arraySync(){return du(this.shape,this.dataSync(),this.dtype==="complex64")}async data(){this.throwIfDisposed();const e=Md().read(this.dataId);if(this.dtype==="string"){const n=await e;try{return n.map(r=>bh(r))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),Md().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();const e=Md().readSync(this.dataId);if(this.dtype==="string")try{return e.map(n=>bh(n))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await Md().read(this.dataId);return this.dtype==="string"?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(this.kerasMask&&this.kerasMask.dispose(),Md().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(e=!1){return Fy.print(this,e)}clone(){return this.throwIfDisposed(),Fy.clone(this)}toString(e=!1){const n=this.dataSync();return nve(n,this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),Fy.cast(this,e)}variable(e=!0,n,r){return this.throwIfDisposed(),Md().makeVariable(this,e,n,r)}}Object.defineProperty(Fr,Symbol.hasInstance,{value:t=>!!t&&t.data!=null&&t.dataSync!=null&&t.throwIfDisposed!=null});function ut(){return lD("Tensor",()=>Fr)}ut();class S2 extends Fr{constructor(e,n,r,s){super(e.shape,e.dtype,e.dataId,s),this.trainable=n,this.name=r}assign(e){if(e.dtype!==this.dtype)throw new Error(`dtype of the new value (${e.dtype}) and previous value (${this.dtype}) must match`);if(!vr(e.shape,this.shape))throw new Error(`shape of the new value (${e.shape}) and previous value (${this.shape}) must match`);Md().disposeTensor(this),this.dataId=e.dataId,Md().incRef(this,null)}dispose(){Md().disposeVariable(this),this.isDisposedInternal=!0}}Object.defineProperty(S2,Symbol.hasInstance,{value:t=>t instanceof Fr&&t.assign!=null&&t.assign instanceof Function});var nO;(function(t){t.R0="R0",t.R1="R1",t.R2="R2",t.R3="R3",t.R4="R4",t.R5="R5",t.R6="R6"})(nO||(nO={}));var rO;(function(t){t.float32="float32",t.int32="int32",t.bool="int32",t.complex64="complex64"})(rO||(rO={}));var sO;(function(t){t.float32="float32",t.int32="int32",t.bool="bool",t.complex64="complex64"})(sO||(sO={}));var iO;(function(t){t.float32="float32",t.int32="float32",t.bool="float32",t.complex64="complex64"})(iO||(iO={}));var aO;(function(t){t.float32="complex64",t.int32="complex64",t.bool="complex64",t.complex64="complex64"})(aO||(aO={}));const ave={float32:iO,int32:rO,bool:sO,complex64:aO};function Kl(t,e){if(t==="string"||e==="string"){if(t==="string"&&e==="string")return"string";throw new Error(`Can not upcast ${t} with ${e}`)}return ave[t][e]}function WI(t){return Kl(t,"int32")}function HZ(t){return t!=null&&typeof t=="object"&&"texture"in t&&t.texture instanceof WebGLTexture}function WZ(t){return typeof GPUBuffer<"u"&&t!=null&&typeof t=="object"&&"buffer"in t&&t.buffer instanceof GPUBuffer}function Vi(t,e){if(t.dtype===e.dtype)return[t,e];const n=Kl(t.dtype,e.dtype);return[t.cast(n),e.cast(n)]}function VZ(t,e){ce(t.dtype===e.dtype,()=>`The dtypes of the first(${t.dtype}) and second(${e.dtype}) input must match`)}function ove(t,e){return e.some(n=>n.id===t.id)}function uD(t){const e=[];return qZ(t,e,new Set),e}function qZ(t,e,n){if(t==null)return;if(t instanceof Fr){e.push(t);return}if(!lve(t))return;const r=t;for(const s in r){const i=r[s];n.has(i)||(n.add(i),qZ(i,e,n))}}function lve(t){return Array.isArray(t)||typeof t=="object"}const cve=Object.freeze(Object.defineProperty({__proto__:null,assertTypesMatch:VZ,getTensorsInContainer:uD,isTensorInList:ove,makeTypesMatch:Vi},Symbol.toStringTag,{value:"Module"}));function PT(t){return t.kernelName!=null}class RQ{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(e=>e.name)))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class p1{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new RQ}async ready(){if(this.pendingBackendInit!=null)return this.pendingBackendInit.then(()=>{});if(this.backendInstance!=null)return;const e=this.getSortedBackends();for(let n=0;n<e.length;n++){const r=e[n];if(await this.initializeBackend(r).success){await this.setBackend(r);return}}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(this.pendingBackendInit!=null)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(this.backendInstance==null){const{name:e,asyncInit:n}=this.initializeBackendsAndReturnBest();if(n)throw new Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry))if(e in this.registryFactory){const{asyncInit:n}=this.initializeBackend(e);if(n)return null}else return null;return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,n,r=1){return e in this.registryFactory?(ru(`${e} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[e]={factory:n,priority:r},!0)}async setBackend(e){if(this.registryFactory[e]==null)throw new Error(`Backend name '${e}' not found in registry`);if(this.backendName=e,this.registry[e]==null){this.backendInstance=null;const{success:n,asyncInit:r}=this.initializeBackend(e);if(!(r?await n:n))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new Ybe(this.backendInstance),!0}setupRegisteredKernels(){PB(this.backendName).forEach(n=>{n.setupFunc!=null&&n.setupFunc(this.backendInstance)})}disposeRegisteredKernels(e){PB(e).forEach(r=>{r.disposeFunc!=null&&r.disposeFunc(this.registry[e])})}initializeBackend(e){const n=this.registryFactory[e];if(n==null)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{const r=n.factory();if(r&&!(r instanceof DE)&&typeof r.then=="function"){const s=++this.pendingBackendInitId,i=r.then(a=>s<this.pendingBackendInitId?!1:(this.registry[e]=a,this.pendingBackendInit=null,!0)).catch(a=>(s<this.pendingBackendInitId||(this.pendingBackendInit=null,ru(`Initialization of backend ${e} failed`),ru(a.stack||a.message)),!1));return this.pendingBackendInit=i,{success:i,asyncInit:!0}}else return this.registry[e]=r,{success:!0,asyncInit:!1}}catch(r){return ru(`Initialization of backend ${e} failed`),ru(r.stack||r.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((e,n)=>this.registryFactory[n].priority-this.registryFactory[e].priority)}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let n=0;n<e.length;n++){const r=e[n],{success:s,asyncInit:i}=this.initializeBackend(r);if(i||s)return{name:r,asyncInit:i}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,n){const r=this.state.tensorInfo.get(n),s=r.backend,i=this.readSync(n),a=s.refCount(n);s.disposeData(n,!0),r.backend=e,e.move(n,i,r.shape,r.dtype,a),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,n){let r=null;if(n==null){if(typeof e!="function")throw new Error("Please provide a function to tidy()");n=e}else{if(typeof e!="string"&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof n!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");r=e}let s;return this.scopedRun(()=>this.startScope(r),()=>this.endScope(s),()=>(s=n(),s instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),s))}scopedRun(e,n,r){e();try{const s=r();return n(),s}catch(s){throw n(),s}}nextTensorId(){return p1.nextTensorId++}nextVariableId(){return p1.nextVariableId++}clone(e){const n=Ie.runKernel(ox,{x:e}),r={x:e},s=a=>({x:()=>{const o="float32",c={x:a},u={dtype:o};return Ie.runKernel(G1,c,u)}}),i=[];return this.addTapeNode(this.state.activeScope.name,r,[n],s,i,{}),n}runKernel(e,n,r){if(this.backendName==null&&this.backend,!(w2(e,this.backendName)!=null))throw new Error(`Kernel '${e}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:e,inputs:n,attrs:r})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,n,r){const s=this.backend.numDataIds();let i=0;r.forEach(c=>{i+=c.dtype==="complex64"?3:1});const a=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],o=s-n-i-a;if(o>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${o} data ids) after running '${e}'`)}runKernelFunc(e){let n,r=[];const s=this.isTapeOn(),i=this.state.numBytes,a=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);let o;this.backendName==null&&this.backend;let c;const u=PT(e)?e.kernelName:this.state.activeScope!=null?this.state.activeScope.name:"";if(PT(e)){const{kernelName:g,inputs:y,attrs:x}=e;this.backendName==null&&this.backend;const v=w2(g,this.backendName);ce(v!=null,()=>`Cannot find registered kernel '${g}' for backend '${this.backendName}'`),o=()=>{const w=this.backend.numDataIds();c=v.kernelFunc({inputs:y,attrs:x,backend:this.backend});const B=Array.isArray(c)?c:[c];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(g,w,B);const k=B.map(E=>E.rank!=null?E:this.makeTensorFromTensorInfo(E));if(s){const E=this.getTensorsForGradient(g,y,k);r=this.saveTensorsForBackwardMode(E)}return k}}else{const{forwardFunc:g}=e,y=x=>{s&&(r=x.map(v=>this.keep(this.clone(v))))};o=()=>{const x=this.backend.numDataIds();c=this.tidy(()=>g(this.backend,y));const v=Array.isArray(c)?c:[c];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(u,x,v),v}}const{inputs:d,attrs:f}=e,h=PT(e)?null:e.backwardsFunc;let m;return this.scopedRun(()=>this.state.kernelDepth++,()=>this.state.kernelDepth--,()=>{!this.ENV.getBool("DEBUG")&&!this.state.profiling?n=o():(m=this.profiler.profileKernel(u,d,()=>o()),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(m),n=m.outputs)}),s&&this.addTapeNode(u,d,n,h,r,f),this.state.profiling&&this.state.activeProfile.kernels.push({name:u,bytesAdded:this.state.numBytes-i,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-a,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(d).map(g=>d[g]!=null?d[g].shape:null),outputShapes:n.map(g=>g.shape),kernelTimeMs:m.timeMs,extraInfo:m.extraInfo}),Array.isArray(c)?n:n[0]}saveTensorsForBackwardMode(e){return e.map(r=>this.keep(this.clone(r)))}getTensorsForGradient(e,n,r){const s=eO(e);if(s!=null){const i=s.inputsToSave||[],a=s.outputsToSave||[];let o;s.saveAllInputs?(ce(Array.isArray(n),()=>"saveAllInputs is true, expected inputs to be an array."),o=Object.keys(n).map(u=>n[u])):o=i.map(u=>n[u]);const c=r.filter((u,d)=>a[d]);return o.concat(c)}return[]}makeTensor(e,n,r,s){if(e==null)throw new Error("Values passed to engine.makeTensor() are null");r=r||"float32",s=s||this.backend;let i=e;r==="string"&&Hf(e[0])&&(i=e.map(c=>Kf(c)));const a=s.write(i,n,r),o=new Fr(n,r,a,this.nextTensorId());if(this.trackTensor(o,s),r==="string"){const c=this.state.tensorInfo.get(a),u=IZ(i);this.state.numBytes+=u-c.bytes,c.bytes=u}return o}makeTensorFromDataId(e,n,r,s){r=r||"float32";const i={dataId:e,shape:n,dtype:r};return this.makeTensorFromTensorInfo(i,s)}makeTensorFromTensorInfo(e,n){const{dataId:r,shape:s,dtype:i}=e,a=new Fr(s,i,r,this.nextTensorId());return this.trackTensor(a,n),a}makeVariable(e,n=!0,r,s){r=r||this.nextVariableId().toString(),s!=null&&s!==e.dtype&&(e=e.cast(s));const i=new S2(e,n,r,this.nextTensorId());if(this.state.registeredVariables[i.name]!=null)throw new Error(`Variable with name ${i.name} was already registered`);return this.state.registeredVariables[i.name]=i,this.incRef(i,this.backend),i}trackTensor(e,n){this.state.numTensors++,e.dtype==="string"&&this.state.numStringTensors++;let r=0;e.dtype!=="complex64"&&e.dtype!=="string"&&(r=e.size*g2(e.dtype)),this.state.numBytes+=r,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:n||this.backend,dtype:e.dtype,shape:e.shape,bytes:r})),e instanceof S2||this.track(e)}incRef(e,n){this.trackTensor(e,n),this.backend.incRef(e.dataId)}removeDataId(e,n){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===n&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const n=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,e.dtype==="string"&&(this.state.numStringTensors--,this.state.numBytes-=n.bytes),e.dtype!=="complex64"&&e.dtype!=="string"){const r=e.size*g2(e.dtype);this.state.numBytes-=r}n.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,n.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const n=this.state.registeredVariables[e];this.disposeVariable(n)}}disposeVariable(e){this.disposeTensor(e),this.state.registeredVariables[e.name]!=null&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,e.reasons==null&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const n=this.state.numBytes,r=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map(s=>s.totalBytesSnapshot)),this.state.activeProfile.newBytes=this.state.numBytes-n,this.state.activeProfile.newTensors=this.state.numTensors-r;for(const s of this.state.activeProfile.kernels)s.kernelTimeMs=await s.kernelTimeMs,s.extraInfo=await s.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&this.state.kernelDepth===0}addTapeNode(e,n,r,s,i,a){const o={id:this.state.nextTapeNodeId++,kernelName:e,inputs:n,outputs:r,saved:i},c=eO(e);c!=null&&(s=c.gradFunc),s!=null&&(o.gradient=u=>(u=u.map((d,f)=>{if(d==null){const h=r[f],m=Uo(h.size,h.dtype);return this.makeTensor(m,h.shape,h.dtype)}return d}),s(u.length>1?u:u[0],i,a))),this.state.activeTape.push(o)}keep(e){return e.kept=!0,e}startTape(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const n={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(n.name=e),this.state.scopeStack.push(n),this.state.activeScope=n}endScope(e){const n=uD(e),r=new Set(n.map(i=>i.id));for(let i=0;i<this.state.activeScope.track.length;i++){const a=this.state.activeScope.track[i];!a.kept&&!r.has(a.id)&&a.dispose()}const s=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach(i=>{!i.kept&&i.scopeId===s.id&&this.track(i)})}gradients(e,n,r,s=!1){if(ce(n.length>0,()=>"gradients() received an empty list of xs."),r!=null&&r.dtype!=="float32")throw new Error(`dy must have 'float32' dtype, but has '${r.dtype}'`);const i=this.scopedRun(()=>this.startTape(),()=>this.endTape(),()=>this.tidy("forward",e));ce(i instanceof Fr,()=>"The result y returned by f() must be a tensor.");const a=eve(this.state.activeTape,n,i);if(!s&&a.length===0&&n.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",()=>{const o={};o[i.id]=r??uve(i.shape),tve(o,a,u=>this.tidy(u),dve);const c=n.map(u=>o[u.id]);return this.state.gradientDepth===0&&(this.state.activeTape.forEach(u=>{for(const d of u.saved)d.dispose()}),this.state.activeTape=null),{value:i,grads:c}})}customGrad(e){return ce(rm(e),()=>"The f passed in customGrad(f) must be a function."),(...n)=>{ce(n.every(o=>o instanceof Fr),()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors");let r;const s={};n.forEach((o,c)=>{s[c]=o});const i=(o,c)=>(r=e(...n,c),ce(r.value instanceof Fr,()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),ce(rm(r.gradFunc),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),r.value),a=(o,c)=>{const u=r.gradFunc(o,c),d=Array.isArray(u)?u:[u];ce(d.length===n.length,()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),ce(d.every(h=>h instanceof Fr),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors.");const f={};return d.forEach((h,m)=>{f[m]=()=>h}),f};return this.runKernelFunc({forwardFunc:i,backwardsFunc:a,inputs:s})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,n){return this.state.tensorInfo.get(e).backend.readToGPU(e,n)}async time(e){const n=vl(),r=await this.backend.time(e);return r.wallMs=vl()-n,r}track(e){return this.state.activeScope!=null&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new RQ;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}p1.nextTensorId=0;p1.nextVariableId=0;function uve(t){const e=$E(it(t),"float32");return Ie.makeTensor(e,t,"float32")}function GZ(){const t=RZ();if(t._tfengine==null){const e=new _Z(t);t._tfengine=new p1(e)}return Tbe(t._tfengine.ENV),sve(()=>t._tfengine),t._tfengine}const Ie=GZ();function dve(t,e){const n={a:t,b:e};return Ie.runKernel(b0,n)}function fve(){return typeof navigator<"u"&&navigator!=null}let oO;function Ave(t){oO=t}function dD(t){if(oO!==void 0)return oO;if(t||fve()){if(t||(t=navigator),t.product==="ReactNative")return!0;const e=t.userAgent||t.vendor||(typeof window<"u"?window.opera:"");if(!e){const n=t;return n.userAgentData&&n.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}return!1}function fD(){return typeof window<"u"&&window.document!=null||typeof WorkerGlobalScope<"u"}const hve=Object.freeze(Object.defineProperty({__proto__:null,isBrowser:fD,isMobile:dD,mockIsMobile:Ave},Symbol.toStringTag,{value:"Module"}));const Xl=Xe();Xl.registerFlag("DEBUG",()=>!1,t=>{t&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")});Xl.registerFlag("IS_BROWSER",()=>fD());Xl.registerFlag("IS_NODE",()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u");Xl.registerFlag("IS_CHROME",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor));Xl.registerFlag("IS_SAFARI",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor));Xl.registerFlag("PROD",()=>!1);Xl.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",()=>Xl.getBool("DEBUG"));Xl.registerFlag("DEPRECATION_WARNINGS_ENABLED",()=>!0);Xl.registerFlag("IS_TEST",()=>!1);Xl.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",()=>Xl.getBool("DEBUG"));Xl.registerFlag("WRAP_TO_IMAGEBITMAP",()=>!1);Xl.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",()=>!1);Xl.registerFlag("USE_SETTIMEOUTCUSTOM",()=>!1);function aA(t,e){let n=t;if(uo(t))return e==="string"?[]:[t.length];if(HZ(t)){const s=t.channels||"RGBA";return[t.height,t.width*s.length]}else if(WZ(t))return[t.buffer.size/(e==null?4:g2(e))];if(!Array.isArray(t))return[];const r=[];for(;Array.isArray(n)||uo(n)&&e!=="string";)r.push(n.length),n=n[0];return Array.isArray(t)&&Xe().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&KZ(t,r,[]),r}function KZ(t,e,n){if(n=n||[],!Array.isArray(t)&&!uo(t)){ce(e.length===0,()=>`Element arr[${n.join("][")}] is a primitive, but should be an array/TypedArray of ${e[0]} elements`);return}ce(e.length>0,()=>`Element arr[${n.join("][")}] should be a primitive, but is an array of ${t.length} elements`),ce(t.length===e[0],()=>`Element arr[${n.join("][")}] should have ${e[0]} elements, but has ${t.length} elements`);const r=e.slice(1);for(let s=0;s<t.length;++s)KZ(t[s],r,n.concat(s))}function OQ(t,e,n,r){if(t!=="string_or_numeric"){if(t==null)throw new Error("Expected dtype cannot be null.");if(t!=="numeric"&&t!==e||t==="numeric"&&e==="string")throw new Error(`Argument '${n}' passed to '${r}' must be ${t} tensor, but got ${e} tensor`)}}function fe(t,e,n,r="numeric"){if(t instanceof ut())return OQ(r,t.dtype,e,n),t;let s=y0(t);if(s!=="string"&&["bool","int32","float32"].indexOf(r)>=0&&(s=r),OQ(r,s,e,n),t==null||!uo(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string"){const c=t==null?"null":t.constructor.name;throw new Error(`Argument '${e}' passed to '${n}' must be a Tensor or TensorLike, but got '${c}'`)}const i=aA(t,s);!uo(t)&&!Array.isArray(t)&&(t=[t]);const o=s!=="string"?vm(t,s):iA(t,[],!0);return Ie.makeTensor(o,i,s)}function C2(t,e,n,r="numeric"){if(!Array.isArray(t))throw new Error(`Argument ${e} passed to ${n} must be a \`Tensor[]\` or \`TensorLike[]\``);return t.map((i,a)=>fe(i,`${e}[${a}]`,n,r))}const AD="__op";function Ne(t){const e=Object.keys(t);if(e.length!==1)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${e.length} keys.`);let n=e[0];const r=t[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n=n+AD;const s=(...i)=>{Ie.startScope(n);try{const a=r(...i);return sm(a)&&console.error("Cannot return a Promise inside of tidy."),Ie.endScope(a),a}catch(a){throw Ie.endScope(null),a}};return Object.defineProperty(s,"name",{value:n,configurable:!0}),s}function pve(t,e){const n=fe(t,"real","complex"),r=fe(e,"imag","complex");zo(n.shape,r.shape,`real and imag shapes, ${n.shape} and ${r.shape}, must match in call to tf.complex().`);const s={real:n,imag:r};return Ie.runKernel(WE,s)}const vh=Ne({complex_:pve});function wm(t,e,n,r){if(r==null)r=y0(t);else if(r==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(WZ(t)||HZ(t)){if(r!=="float32"&&r!=="int32")throw new Error(`Creating tensor from GPU data only supports 'float32'|'int32' dtype, while the dtype is ${r}.`);return Ie.backend.createTensorFromGPUData(t,e||n,r)}if(!uo(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(e!=null){Lc(e);const s=it(e),i=it(n);ce(s===i,()=>`Based on the provided shape, [${e}], the tensor should have ${s} values but has ${i}`);for(let a=0;a<n.length;++a){const o=n[a],c=a===n.length-1?o!==it(e.slice(a)):!0;ce(n[a]===e[a]||!c,()=>`Error creating a new Tensor. Inferred shape (${n}) does not match the provided shape (${e}). `)}}return!uo(t)&&!Array.isArray(t)&&(t=[t]),e=e||n,t=r!=="string"?vm(t,r):iA(t,[],!0),Ie.makeTensor(t,e,r)}function Zu(t,e,n){const r=aA(t,n);return wm(t,e,r,n)}const Wg={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};class df{static join(e){return new df(e).slice()}constructor(e){if(this.shards=[],this.previousShardIndex=0,e==null||(e instanceof Array||(e=[e]),e=e.map(r=>uo(r)?r.buffer:r),e.length===0))return;this.bufferUniformSize=e[0].byteLength;let n=0;for(let r=0;r<e.length;r++){const s=e[r];r!==e.length-1&&s.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);const i=n+s.byteLength;this.shards.push({buffer:s,start:n,end:i}),n=i}this.shards.length===0&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}slice(e=0,n=this.byteLength){if(this.shards.length===0)return new ArrayBuffer(0);if(e=isNaN(Number(e))?0:e,n=isNaN(Number(n))?0:n,e=Math.max(0,e),n=Math.min(this.byteLength,n),n<=e)return new ArrayBuffer(0);const r=this.findShardForByte(e);if(r===-1)throw new Error(`Could not find start shard for byte ${e}`);const s=n-e,i=new ArrayBuffer(s),a=new Uint8Array(i);let o=0;for(let c=r;c<this.shards.length;c++){const u=this.shards[c],f=e+o-u.start,h=o,g=Math.min(n,u.end)-u.start,y=new Uint8Array(u.buffer,f,g-f);if(a.set(y,h),o+=y.length,n<u.end)break}return i}findShardForByte(e){if(this.shards.length===0||e<0||e>=this.byteLength)return-1;if(this.bufferUniformSize!=null)return this.previousShardIndex=Math.floor(e/this.bufferUniformSize),this.previousShardIndex;function n(s){return e<s.start?-1:e>=s.end?1:0}if(n(this.shards[this.previousShardIndex])===0)return this.previousShardIndex;const r=mve(this.shards,n);return r===-1?-1:(this.previousShardIndex=r,this.previousShardIndex)}}function mve(t,e){let n=0,r=t.length;for(;n<=r;){const s=Math.floor((r-n)/2)+n,i=e(t[s]);if(i===0)return s;i<0?r=s:n=s+1}return-1}function gve(){Xe().set("PROD",!0)}function yve(){Xe().set("DEBUG",!0)}function xve(){Xe().set("DEPRECATION_WARNINGS_ENABLED",!1),console.warn("TensorFlow.js deprecation warnings have been disabled.")}function bve(t){Xe().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(t+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function vve(){Ie.disposeVariables()}function Ud(){return Ie}function lO(){return Ie.memory()}function wve(t){return Ie.profile(t)}function He(t,e){return Ie.tidy(t,e)}function Ar(t){uD(t).forEach(n=>n.dispose())}function Ma(t){return Ie.keep(t)}function Sve(t){return Ie.time(t)}function Cve(t){return Ie.setBackend(t)}function hD(){return Ie.ready()}function XZ(){return Ie.backendName}function kve(t){Ie.removeBackend(t)}function Bve(t){return Ie.findBackend(t)}function Eve(t){return Ie.findBackendFactory(t)}function pD(t,e,n=1){return Ie.registerBackend(t,e,n)}function mD(){return Ie.backend}function Ive(t,e){Xe().setPlatform(t,e)}const im=4;async function cO(t,e){const n=[],r=[],s=Array.isArray(t)?t.map(a=>a.name):Object.keys(t);for(let a=0;a<s.length;++a){const o=s[a],c=Array.isArray(t)?t[a].tensor:t[o];if(c.dtype!=="float32"&&c.dtype!=="int32"&&c.dtype!=="bool"&&c.dtype!=="string"&&c.dtype!=="complex64")throw new Error(`Unsupported dtype in weight '${o}': ${c.dtype}`);const u={name:o,shape:c.shape,dtype:c.dtype};if(c.dtype==="string"){const d=new Promise(async f=>{const h=await c.bytes(),m=h.reduce((x,v)=>x+v.length,0)+im*h.length,g=new Uint8Array(m);let y=0;for(let x=0;x<h.length;x++){const v=h[x],w=new Uint8Array(new Uint32Array([v.length]).buffer);g.set(w,y),y+=im,g.set(v,y),y+=v.length}f(g)});r.push(d)}else r.push(c.data());e!=null&&(u.group=e),n.push(u)}const i=await Promise.all(r);return{data:Tve(i),specs:n}}function YZ(t,e){const n=new df(t),r={};let s=0;for(const i of e){const a=Nve(i,(o,c)=>n.slice(s+o,s+c));r[i.name]=JZ(i,n.slice(s,s+a)),s+=a}return r}function Nve(t,e){const n=it(t.shape);let r;if("quantization"in t){const s=t.quantization;r=Wg[s.dtype]}else if(t.dtype==="string"){let s=0;for(let i=0;i<n;i++)s+=im+new Uint32Array(e(s,s+im))[0];return s}else r=Wg[t.dtype];return n*r}async function jve(t,e){const n=it(t.shape);let r;if("quantization"in t){const s=t.quantization;r=Wg[s.dtype]}else if(t.dtype==="string"){let s=0;for(let i=0;i<n;i++)s+=im+new Uint32Array(await e(s,s+im))[0];return s}else r=Wg[t.dtype];return n*r}function JZ(t,e){const n=t.name,r=t.dtype,s=t.shape,i=it(s);let a,o=0;if("quantization"in t){const c=t.quantization;if(c.dtype==="uint8"||c.dtype==="uint16"){if(!("min"in c&&"scale"in c))throw new Error(`Weight ${t.name} with quantization ${c.dtype} doesn't have corresponding metadata min and scale.`)}else if(c.dtype==="float16"){if(r!=="float32")throw new Error(`Weight ${t.name} is quantized with ${c.dtype} which only supports weights of type float32 not ${r}.`)}else throw new Error(`Weight ${t.name} has unknown quantization dtype ${c.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);const u=Wg[c.dtype],d=c.dtype==="uint8"?new Uint8Array(e):new Uint16Array(e);if(r==="float32")if(c.dtype==="uint8"||c.dtype==="uint16"){a=new Float32Array(d.length);for(let f=0;f<d.length;f++){const h=d[f];a[f]=h*c.scale+c.min}}else if(c.dtype==="float16")a=Lve()(d);else throw new Error(`Unsupported quantization type ${c.dtype} for weight type float32.`);else if(r==="int32"){if(c.dtype!=="uint8"&&c.dtype!=="uint16")throw new Error(`Unsupported quantization type ${c.dtype} for weight type int32.`);a=new Int32Array(d.length);for(let f=0;f<d.length;f++){const h=d[f];a[f]=Math.round(h*c.scale+c.min)}}else throw new Error(`Unsupported dtype in weight '${n}': ${r}`);o+=i*u}else if(r==="string"){const c=it(t.shape);a=[];for(let u=0;u<c;u++){const d=new Uint32Array(e.slice(o,o+im))[0];o+=im;const f=new Uint8Array(e.slice(o,o+d));a.push(f),o+=d}}else{const c=Wg[r];if(r==="float32")a=new Float32Array(e);else if(r==="int32")a=new Int32Array(e);else if(r==="bool")a=new Uint8Array(e);else if(r==="complex64"){a=new Float32Array(e);const u=new Float32Array(a.length/2),d=new Float32Array(a.length/2);for(let g=0;g<u.length;g++)u[g]=a[g*2],d[g]=a[g*2+1];const f=Zu(u,s,"float32"),h=Zu(d,s,"float32"),m=vh(f,h);return f.dispose(),h.dispose(),m}else throw new Error(`Unsupported dtype in weight '${n}': ${r}`);o+=i*c}return Zu(a,s,r)}async function FQ(t,e,n){let r=new Uint8Array(e);for(;r.byteLength<n;){const{done:s,value:i}=await t.read();if(s&&i==null){const o=n-r.byteLength;throw new Error(`Reader is done but ${o} bytes are still expected`)}const a=new Uint8Array(r.length+i.byteLength);a.set(r,0),a.set(new Uint8Array(i),r.length),r=a}return r.buffer}async function ZZ(t,e){const n={},r=t.getReader();let s=new ArrayBuffer(0);for(const i of e){const a=await jve(i,async(u,d)=>(s=await FQ(r,s,d),s.slice(u,d)));s=await FQ(r,s,a);const o=s.slice(0,a);s=s.slice(a);const c=JZ(i,o);if(n[i.name]=c,XZ()==="webgpu"){const u=mD();"uploadToGPU"in u&&it(c.shape)>=Xe().get("WEBGPU_CPU_HANDOFF_SIZE_THRESHOLD")&&u.uploadToGPU(c.dataId)}}return n}function Tve(t){if(t===null)throw new Error(`Invalid input value: ${JSON.stringify(t)}`);let e=0;const n=[];t.forEach(i=>{if(e+=i.byteLength,n.push(i.byteLength===i.buffer.byteLength?i:new i.constructor(i)),!(i instanceof Float32Array||i instanceof Int32Array||i instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${i.constructor.name}`)});const r=new Uint8Array(e);let s=0;return n.forEach(i=>{r.set(new Uint8Array(i.buffer),s),s+=i.byteLength}),r.buffer}const gD=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u");function DQ(t){return gD?Buffer.byteLength(t,"utf8"):new Blob([t]).size}function _ve(t){if(gD)return Buffer.from(t).toString("base64");const e=new Uint8Array(t);let n="";for(let r=0,s=e.length;r<s;r++)n+=String.fromCharCode(e[r]);return btoa(n)}function Rve(t){if(gD){const r=Buffer.from(t,"base64");return r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength)}const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;++r)n.set([e.charCodeAt(r)],r);return n.buffer}function eee(t){return df.join(t)}function LQ(t){for(t=t.trim();t.endsWith("/");)t=t.slice(0,t.length-1);const n=t.split("/");return n[n.length-1]}function tee(t,e){const n={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,weightsManifest:e};return t.signature!=null&&(n.signature=t.signature),t.userDefinedMetadata!=null&&(n.userDefinedMetadata=t.userDefinedMetadata),t.modelInitializer!=null&&(n.modelInitializer=t.modelInitializer),t.initializerSignature!=null&&(n.initializerSignature=t.initializerSignature),t.trainingConfig!=null&&(n.trainingConfig=t.trainingConfig),n}function yD(t,e,n){const r={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy};if(t.trainingConfig!=null&&(r.trainingConfig=t.trainingConfig),t.weightsManifest!=null){if(!e)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!n)throw new Error("modelJSON has weightsManifest but weightData is null");r.weightSpecs=e,r.weightData=n}return t.signature!=null&&(r.signature=t.signature),t.userDefinedMetadata!=null&&(r.userDefinedMetadata=t.userDefinedMetadata),t.modelInitializer!=null&&(r.modelInitializer=t.modelInitializer),t.initializerSignature!=null&&(r.initializerSignature=t.initializerSignature),r}async function xD(t,e){let n,r;return t.weightsManifest!=null&&([n,r]=await e(t.weightsManifest)),yD(t,n,r)}function x5(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:t.modelTopology==null?0:DQ(JSON.stringify(t.modelTopology)),weightSpecsBytes:t.weightSpecs==null?0:DQ(JSON.stringify(t.weightSpecs)),weightDataBytes:t.weightData==null?0:new df(t.weightData).byteLength}}function UB(t){const e=[];for(const n of t)e.push(...n.weights);return e}function Ove(){const t=n=>{let r=n<<13,s=0;for(;(r&8388608)===0;)s-=8388608,r<<=1;return r&=-8388609,s+=947912704,r|s},e=new Uint32Array(2048);e[0]=0;for(let n=1;n<1024;n++)e[n]=t(n);for(let n=1024;n<2048;n++)e[n]=939524096+(n-1024<<13);return e}function Fve(){const t=new Uint32Array(64);t[0]=0,t[31]=1199570944,t[32]=2147483648,t[63]=3347054592;for(let e=1;e<31;e++)t[e]=e<<23;for(let e=33;e<63;e++)t[e]=2147483648+(e-32<<23);return t}function Dve(){const t=new Uint32Array(64);for(let e=0;e<64;e++)t[e]=1024;return t[0]=t[32]=0,t}function Lve(){const t=Ove(),e=Fve(),n=Dve();return r=>{const s=new ArrayBuffer(4*r.length),i=new Uint32Array(s);for(let a=0;a<r.length;a++){const o=r[a],c=t[n[o>>10]+(o&1023)]+e[o>>10];i[a]=c}return new Float32Array(s)}}class Di{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return Di.instance==null&&(Di.instance=new Di),Di.instance}static registerSaveRouter(e){Di.getInstance().saveRouters.push(e)}static registerLoadRouter(e){Di.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return Di.getHandlers(e,"save")}static getLoadHandlers(e,n){return Di.getHandlers(e,"load",n)}static getHandlers(e,n,r){const s=[];return(n==="load"?Di.getInstance().loadRouters:Di.getInstance().saveRouters).forEach(a=>{const o=a(e,r);o!==null&&s.push(o)}),s}}const $ve=t=>Di.registerSaveRouter(t),Pve=t=>Di.registerLoadRouter(t),nee=t=>Di.getSaveHandlers(t),Uve=(t,e)=>Di.getLoadHandlers(t,e);const uO="tensorflowjs",dO=1,mg="models_store",Dp="model_info_store";function ree(){if(!Xe().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const t=typeof window>"u"?self:window,e=t.indexedDB||t.mozIndexedDB||t.webkitIndexedDB||t.msIndexedDB||t.shimIndexedDB;if(e==null)throw new Error("The current browser does not appear to support IndexedDB.");return e}function fO(t){const e=t.result;e.createObjectStore(mg,{keyPath:"modelPath"}),e.createObjectStore(Dp,{keyPath:"modelPath"})}class Vg{constructor(e){if(this.indexedDB=ree(),e==null||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,n){return new Promise((r,s)=>{const i=this.indexedDB.open(uO,dO);i.onupgradeneeded=()=>fO(i),i.onsuccess=()=>{const a=i.result;if(n==null){const o=a.transaction(mg,"readonly"),u=o.objectStore(mg).get(this.modelPath);u.onsuccess=()=>{if(u.result==null)return a.close(),s(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));r(u.result.modelArtifacts)},u.onerror=d=>(a.close(),s(u.error)),o.oncomplete=()=>a.close()}else{n.weightData=df.join(n.weightData);const o=x5(n),c=a.transaction(Dp,"readwrite");let u=c.objectStore(Dp),d;try{d=u.put({modelPath:this.modelPath,modelArtifactsInfo:o})}catch(h){return s(h)}let f;d.onsuccess=()=>{f=a.transaction(mg,"readwrite");const h=f.objectStore(mg);let m;try{m=h.put({modelPath:this.modelPath,modelArtifacts:n,modelArtifactsInfo:o})}catch(g){return s(g)}m.onsuccess=()=>r({modelArtifactsInfo:o}),m.onerror=g=>{u=c.objectStore(Dp);const y=u.delete(this.modelPath);y.onsuccess=()=>(a.close(),s(m.error)),y.onerror=x=>(a.close(),s(m.error))}},d.onerror=h=>(a.close(),s(d.error)),c.oncomplete=()=>{f==null?a.close():f.oncomplete=()=>a.close()}}},i.onerror=a=>s(i.error)})}}Vg.URL_SCHEME="indexeddb://";const see=t=>Xe().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(Vg.URL_SCHEME)?zve(t.slice(Vg.URL_SCHEME.length)):null;Di.registerSaveRouter(see);Di.registerLoadRouter(see);function zve(t){return new Vg(t)}function Mve(t){return t.startsWith(Vg.URL_SCHEME)?t.slice(Vg.URL_SCHEME.length):t}class Qve{constructor(){this.indexedDB=ree()}async listModels(){return new Promise((e,n)=>{const r=this.indexedDB.open(uO,dO);r.onupgradeneeded=()=>fO(r),r.onsuccess=()=>{const s=r.result,i=s.transaction(Dp,"readonly"),o=i.objectStore(Dp).getAll();o.onsuccess=()=>{const c={};for(const u of o.result)c[u.modelPath]=u.modelArtifactsInfo;e(c)},o.onerror=c=>(s.close(),n(o.error)),i.oncomplete=()=>s.close()},r.onerror=s=>n(r.error)})}async removeModel(e){return e=Mve(e),new Promise((n,r)=>{const s=this.indexedDB.open(uO,dO);s.onupgradeneeded=()=>fO(s),s.onsuccess=()=>{const i=s.result,a=i.transaction(Dp,"readwrite"),o=a.objectStore(Dp),c=o.get(e);let u;c.onsuccess=()=>{if(c.result==null)return i.close(),r(new Error(`Cannot find model with path '${e}' in IndexedDB.`));{const d=o.delete(e),f=()=>{u=i.transaction(mg,"readwrite");const m=u.objectStore(mg).delete(e);m.onsuccess=()=>n(c.result.modelArtifactsInfo),m.onerror=g=>r(c.error)};d.onsuccess=f,d.onerror=h=>(f(),i.close(),r(c.error))}},c.onerror=d=>(i.close(),r(c.error)),a.oncomplete=()=>{u==null?i.close():u.oncomplete=()=>i.close()}},s.onerror=i=>r(s.error)})}}const ah="/",Dy="tensorflowjs_models",iee="info",Hve="model_topology",Wve="weight_specs",Vve="weight_data",qve="model_metadata";function aee(t){return{info:[Dy,t,iee].join(ah),topology:[Dy,t,Hve].join(ah),weightSpecs:[Dy,t,Wve].join(ah),weightData:[Dy,t,Vve].join(ah),modelMetadata:[Dy,t,qve].join(ah)}}function oee(t){for(const e of Object.values(t))window.localStorage.removeItem(e)}function Gve(t){const e=t.split(ah);if(e.length<3)throw new Error(`Invalid key format: ${t}`);return e.slice(1,e.length-1).join(ah)}function Kve(t){return t.startsWith(qg.URL_SCHEME)?t.slice(qg.URL_SCHEME.length):t}class qg{constructor(e){if(!Xe().getBool("IS_BROWSER")||typeof window>"u"||typeof window.localStorage>"u")throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,e==null||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=aee(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const n=JSON.stringify(e.modelTopology),r=JSON.stringify(e.weightSpecs),s=x5(e),i=df.join(e.weightData);try{this.LS.setItem(this.keys.info,JSON.stringify(s)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,_ve(i));const a={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:e.signature!=null?e.signature:void 0,userDefinedMetadata:e.userDefinedMetadata!=null?e.userDefinedMetadata:void 0,modelInitializer:e.modelInitializer!=null?e.modelInitializer:void 0,initializerSignature:e.initializerSignature!=null?e.initializerSignature:void 0,trainingConfig:e.trainingConfig!=null?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(a)),{modelArtifactsInfo:s}}catch{throw oee(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${s.modelTopologyBytes}, weightSpecsBytes=${s.weightSpecsBytes}, weightDataBytes=${s.weightDataBytes}.`)}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(e==null)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if(e.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const n={},r=JSON.parse(this.LS.getItem(this.keys.topology));if(r==null)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);n.modelTopology=r;const s=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(s==null)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);n.weightSpecs=s;const i=this.LS.getItem(this.keys.modelMetadata);if(i!=null){const o=JSON.parse(i);n.format=o.format,n.generatedBy=o.generatedBy,n.convertedBy=o.convertedBy,o.signature!=null&&(n.signature=o.signature),o.userDefinedMetadata!=null&&(n.userDefinedMetadata=o.userDefinedMetadata),o.modelInitializer!=null&&(n.modelInitializer=o.modelInitializer),o.initializerSignature!=null&&(n.initializerSignature=o.initializerSignature),o.trainingConfig!=null&&(n.trainingConfig=o.trainingConfig)}const a=this.LS.getItem(this.keys.weightData);if(a==null)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return n.weightData=Rve(a),n}}qg.URL_SCHEME="localstorage://";const lee=t=>Xe().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(qg.URL_SCHEME)?Xve(t.slice(qg.URL_SCHEME.length)):null;Di.registerSaveRouter(lee);Di.registerLoadRouter(lee);function Xve(t){return new qg(t)}class Yve{constructor(){ce(Xe().getBool("IS_BROWSER"),()=>"Current environment is not a web browser"),ce(typeof window>"u"||typeof window.localStorage<"u",()=>"Current browser does not appear to support localStorage"),this.LS=window.localStorage}async listModels(){const e={},n=Dy+ah,r=ah+iee;for(let s=0;s<this.LS.length;++s){const i=this.LS.key(s);if(i.startsWith(n)&&i.endsWith(r)){const a=Gve(i);e[a]=JSON.parse(this.LS.getItem(i))}}return e}async removeModel(e){e=Kve(e);const n=aee(e);if(this.LS.getItem(n.info)==null)throw new Error(`Cannot find model at path '${e}'`);const r=JSON.parse(this.LS.getItem(n.info));return oee(n),r}}const Zy="://";class wl{constructor(){this.managers={}}static getInstance(){return wl.instance==null&&(wl.instance=new wl),wl.instance}static registerManager(e,n){ce(e!=null,()=>"scheme must not be undefined or null."),e.endsWith(Zy)&&(e=e.slice(0,e.indexOf(Zy))),ce(e.length>0,()=>"scheme must not be an empty string.");const r=wl.getInstance();ce(r.managers[e]==null,()=>`A model store manager is already registered for scheme '${e}'.`),r.managers[e]=n}static getManager(e){const n=wl.getInstance().managers[e];if(n==null)throw new Error(`Cannot find model manager for scheme '${e}'`);return n}static getSchemes(){return Object.keys(wl.getInstance().managers)}}function Jk(t){if(t.indexOf(Zy)===-1)throw new Error(`The url string provided does not contain a scheme. Supported schemes are: ${wl.getSchemes().join(",")}`);return{scheme:t.split(Zy)[0],path:t.split(Zy)[1]}}async function cee(t,e,n=!1){ce(t!==e,()=>`Old path and new path are the same: '${t}'`);const r=Di.getLoadHandlers(t);ce(r.length>0,()=>`Copying failed because no load handler is found for source URL ${t}.`),ce(r.length<2,()=>`Copying failed because more than one (${r.length}) load handlers for source URL ${t}.`);const s=r[0],i=Di.getSaveHandlers(e);ce(i.length>0,()=>`Copying failed because no save handler is found for destination URL ${e}.`),ce(i.length<2,()=>`Copying failed because more than one (${r.length}) save handlers for destination URL ${e}.`);const a=i[0],o=Jk(t).scheme,c=Jk(t).path,u=o===Jk(t).scheme,d=await s.load();n&&u&&await wl.getManager(o).removeModel(c);const f=await a.save(d);return n&&!u&&await wl.getManager(o).removeModel(c),f.modelArtifactsInfo}async function Jve(){const t=wl.getSchemes(),e={};for(const n of t){const r=await wl.getManager(n).listModels();for(const s in r){const i=n+Zy+s;e[i]=r[s]}}return e}async function Zve(t){const e=Jk(t);return wl.getManager(e.scheme).removeModel(e.path)}async function e2e(t,e){return cee(t,e,!1)}async function t2e(t,e){return cee(t,e,!0)}class n2e{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(e,n){return fetch(e,n)}now(){return performance.now()}encode(e,n){if(n!=="utf-8"&&n!=="utf8")throw new Error(`Browser's encoder only supports utf-8, but got ${n}`);return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,n){return new TextDecoder(n).decode(e)}setTimeoutCustom(e,n){if(typeof window>"u"||!Xe().getBool("USE_SETTIMEOUTCUSTOM")){setTimeout(e,n);return}this.functionRefs.push(e),setTimeout(()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")},n),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",r=>{if(r.source===window&&r.data.name===this.messageName){r.stopPropagation();const s=this.functionRefs[r.data.index];s(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0)}},!0))}isTypedArray(e){return LZ(e)}}if(Xe().get("IS_BROWSER")){Xe().setPlatform("browser",new n2e);try{wl.registerManager(qg.URL_SCHEME,new Yve)}catch{}try{wl.registerManager(Vg.URL_SCHEME,new Qve)}catch{}}const r2e={importFetch:()=>require("node-fetch")};let UT;class s2e{constructor(){this.util=require("util"),this.textEncoder=new this.util.TextEncoder}fetch(e,n){return Xe().global.fetch!=null?Xe().global.fetch(e,n):(UT==null&&(UT=r2e.importFetch()),UT(e,n))}now(){const e=process.hrtime();return e[0]*1e3+e[1]/1e6}encode(e,n){if(n!=="utf-8"&&n!=="utf8")throw new Error(`Node built-in encoder only supports utf-8, but got ${n}`);return this.textEncoder.encode(e)}decode(e,n){return e.length===0?"":new this.util.TextDecoder(n).decode(e)}isTypedArray(e){return this.util.types.isFloat32Array(e)||this.util.types.isInt32Array(e)||this.util.types.isUint8Array(e)||this.util.types.isUint8ClampedArray(e)}}Xe().get("IS_NODE")&&!Xe().get("IS_BROWSER")&&Xe().setPlatform("node",new s2e);function cr(t,e="float32",n){return e=e||"float32",Lc(t),new Fa(t,e,n)}function i2e(t,e){const n=fe(t,"x","cast");if(!EZ(e))throw new Error(`Failed to cast to unknown dtype ${e}`);if(e==="string"&&n.dtype!=="string"||e!=="string"&&n.dtype==="string")throw new Error("Only strings can be casted to strings");const r={x:n},s={dtype:e};return Ie.runKernel(G1,r,s)}const Mt=Ne({cast_:i2e});function a2e(t){const n={x:fe(t,"x","clone","string_or_numeric")};return Ie.runKernel(ox,n)}const Xf=Ne({clone_:a2e});function bD(t,e=!1){console.log(t.toString(e))}GZ();const o2e={buffer:cr,cast:Mt,clone:Xf,print:bD};ive(o2e);function l2e(t,e){let n=fe(t,"a","add"),r=fe(e,"b","add");[n,r]=Vi(n,r);const s={a:n,b:r};return Ie.runKernel(b0,s)}const jt=Ne({add_:l2e});function c2e(t,e){let n=fe(t,"a","floorDiv"),r=fe(e,"b","floorDiv");[n,r]=Vi(n,r);const s={a:n,b:r};return Ie.runKernel(ix,s)}const VI=Ne({floorDiv_:c2e});function u2e(t,e){let n=fe(t,"a","div"),r=fe(e,"b","div");if([n,r]=Vi(n,r),n.dtype==="int32"&&r.dtype==="int32")return VI(n,r);const s={a:n,b:r},i={};return Ie.runKernel(Z1,s,i)}const un=Ne({div_:u2e});function d2e(t,e){let n=fe(t,"a","mul"),r=fe(e,"b","mul");[n,r]=Vi(n,r);const s={a:n,b:r};return Ie.runKernel(mx,s)}const je=Ne({mul_:d2e});function f2e(t){const e=fe(t,"x","abs");if(e.dtype==="complex64"){const n={x:e};return Ie.runKernel(Cw,n)}else{const n={x:e};return Ie.runKernel(pw,n)}}const Na=Ne({abs_:f2e});function A2e(t){const n={x:fe(t,"x","acos")};return Ie.runKernel(z1,n)}const vD=Ne({acos_:A2e});function h2e(t){const n={x:fe(t,"x","acosh")};return Ie.runKernel(M1,n)}const wD=Ne({acosh_:h2e});function p2e(t){ce(Array.isArray(t),()=>"The argument passed to tf.addN() must be a list of tensors"),ce(t.length>=1,()=>`Must pass at least one tensor to tf.addN(), but got ${t.length}`);const e=t.map((s,i)=>fe(s,`tensors${i}`,"addN")),n=e[0];e.forEach(s=>{if(s.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),e.forEach(s=>{if(!vr(s.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});const r=e;return Ie.runKernel(mw,r)}const uee=Ne({addN_:p2e});function m2e(t,e=null,n=!1){const s={x:fe(t,"x","all","bool")},i={axis:e,keepDims:n};return Ie.runKernel(PE,s,i)}const qI=Ne({all_:m2e});function g2e(t,e=null,n=!1){const s={x:fe(t,"x","any","bool")},i={axis:e,keepDims:n};return Ie.runKernel(UE,s,i)}const k2=Ne({any_:g2e});function y2e(t,e=0){const r={x:fe(t,"x","argMax")},s={axis:e};return Ie.runKernel(gw,r,s)}const Gg=Ne({argMax_:y2e});function x2e(t,e=0){const r={x:fe(t,"x","argMin")},s={axis:e};return Ie.runKernel(yw,r,s)}const SD=Ne({argMin_:x2e});function b2e(t){const n={x:fe(t,"x","asin")};return Ie.runKernel(Q1,n)}const CD=Ne({asin_:b2e});function v2e(t){const n={x:fe(t,"x","asinh")};return Ie.runKernel(H1,n)}const kD=Ne({asinh_:v2e});function w2e(t){const n={x:fe(t,"x","atan")};return Ie.runKernel(W1,n)}const BD=Ne({atan_:w2e});function S2e(t,e){let n=fe(t,"a","atan2"),r=fe(e,"b","atan2");[n,r]=Vi(n,r);const s={a:n,b:r};return Ie.runKernel(q1,s)}const ED=Ne({atan2_:S2e});function C2e(t){const n={x:fe(t,"x","atanh")};return Ie.runKernel(V1,n)}const ID=Ne({atanh_:C2e});function b5(t,e,n,r,s="NHWC",i){const a=t[3],o=[...e,a],c=Lh(s);return mo(t,o,n,i,r,null,null,c)}function od(t,e,n,r,s,i,a="channelsLast"){const[o,c]=B2(e);let u;if(a==="channelsLast")u=[o,c,t[3],t[3]];else if(a==="channelsFirst")u=[o,c,t[1],t[1]];else throw new Error(`Unknown dataFormat ${a}`);return mo(t,u,n,r,s,i,!1,a)}function Dh(t,e,n,r,s,i,a="NDHWC"){const[o,c,u]=AO(e);let d,f;if(a==="NDHWC")f="channelsLast",d=[o,c,u,t[4],t[4]];else if(a==="NCDHW")f="channelsFirst",d=[o,c,u,t[1],t[1]];else throw new Error(`Unknown dataFormat ${a}`);return Sm(t,d,n,r,s,!1,f,i)}function mo(t,e,n,r,s,i,a=!1,o="channelsLast"){let[c,u,d,f]=[-1,-1,-1,-1];if(o==="channelsLast")[c,u,d,f]=t;else if(o==="channelsFirst")[c,f,u,d]=t;else throw new Error(`Unknown dataFormat ${o}`);const[h,m,,g]=e,[y,x]=B2(n),[v,w]=B2(r),B=e1(h,v),k=e1(m,w),{padInfo:E,outHeight:N,outWidth:O}=E2e(s,u,d,y,x,B,k,i,o),F=a?g*f:g;let D;return o==="channelsFirst"?D=[c,F,N,O]:o==="channelsLast"&&(D=[c,N,O,F]),{batchSize:c,dataFormat:o,inHeight:u,inWidth:d,inChannels:f,outHeight:N,outWidth:O,outChannels:F,padInfo:E,strideHeight:y,strideWidth:x,filterHeight:h,filterWidth:m,effectiveFilterHeight:B,effectiveFilterWidth:k,dilationHeight:v,dilationWidth:w,inShape:t,outShape:D,filterShape:e}}function Sm(t,e,n,r,s,i=!1,a="channelsLast",o){let[c,u,d,f,h]=[-1,-1,-1,-1,-1];if(a==="channelsLast")[c,u,d,f,h]=t;else if(a==="channelsFirst")[c,h,u,d,f]=t;else throw new Error(`Unknown dataFormat ${a}`);const[m,g,y,,x]=e,[v,w,B]=AO(n),[k,E,N]=AO(r),O=e1(m,k),F=e1(g,E),D=e1(y,N),{padInfo:T,outDepth:j,outHeight:P,outWidth:U}=I2e(s,u,d,f,v,w,B,O,F,D,o),z=i?x*h:x;let ee;return a==="channelsFirst"?ee=[c,z,j,P,U]:a==="channelsLast"&&(ee=[c,j,P,U,z]),{batchSize:c,dataFormat:a,inDepth:u,inHeight:d,inWidth:f,inChannels:h,outDepth:j,outHeight:P,outWidth:U,outChannels:z,padInfo:T,strideDepth:v,strideHeight:w,strideWidth:B,filterDepth:m,filterHeight:g,filterWidth:y,effectiveFilterDepth:O,effectiveFilterHeight:F,effectiveFilterWidth:D,dilationDepth:k,dilationHeight:E,dilationWidth:N,inShape:t,outShape:ee,filterShape:e}}function k2e(t,e,n,r,s){r==null&&(r=ND(t,e,n));const i=t[0],a=t[1],o=E2((i-e+2*r)/n+1,s),c=E2((a-e+2*r)/n+1,s);return[o,c]}function B2e(t,e,n,r,s,i){s==null&&(s=ND(t,e[0],r[0]));const a=[0,0,0,n];for(let o=0;o<3;o++)t[o]+2*s>=e[o]&&(a[o]=E2((t[o]-e[o]+2*s)/r[o]+1,i));return a}function ND(t,e,n,r=1){const s=e1(e,r);return Math.floor((t[0]*(n-1)-n+s)/2)}function B2(t){return typeof t=="number"?[t,t,t]:t.length===2?[t[0],t[1],1]:t}function AO(t){return typeof t=="number"?[t,t,t]:t}function e1(t,e){return e<=1?t:t+(t-1)*(e-1)}function E2e(t,e,n,r,s,i,a,o,c){let u,d,f;if(typeof t=="number"){u={top:t,bottom:t,left:t,right:t,type:t===0?"VALID":"NUMBER"};const m=k2e([e,n],i,r,t,o);d=m[0],f=m[1]}else if(t==="same"){d=Math.ceil(e/r),f=Math.ceil(n/s);const h=Math.max(0,(d-1)*r+i-e),m=Math.max(0,(f-1)*s+a-n),g=Math.floor(h/2),y=h-g,x=Math.floor(m/2),v=m-x;u={top:g,bottom:y,left:x,right:v,type:"SAME"}}else if(t==="valid")u={top:0,bottom:0,left:0,right:0,type:"VALID"},d=Math.ceil((e-i+1)/r),f=Math.ceil((n-a+1)/s);else if(typeof t=="object"){const h=c==="channelsLast"?t[1][0]:t[2][0],m=c==="channelsLast"?t[1][1]:t[2][1],g=c==="channelsLast"?t[2][0]:t[3][0],y=c==="channelsLast"?t[2][1]:t[3][1];u={top:h,bottom:m,left:g,right:y,type:h===0&&m===0&&g===0&&y===0?"VALID":"EXPLICIT"},d=E2((e-i+h+m)/r+1,o),f=E2((n-a+g+y)/s+1,o)}else throw Error(`Unknown padding parameter: ${t}`);return{padInfo:u,outHeight:d,outWidth:f}}function I2e(t,e,n,r,s,i,a,o,c,u,d){let f,h,m,g;if(t==="valid"&&(t=0),typeof t=="number"){f={top:t,bottom:t,left:t,right:t,front:t,back:t,type:t===0?"VALID":"NUMBER"};const x=B2e([e,n,r,1],[o,c,u],1,[s,i,a],t,d);h=x[0],m=x[1],g=x[2]}else if(t==="same"){h=Math.ceil(e/s),m=Math.ceil(n/i),g=Math.ceil(r/a);const y=(h-1)*s+o-e,x=(m-1)*i+c-n,v=(g-1)*a+u-r,w=Math.floor(y/2),B=y-w,k=Math.floor(x/2),E=x-k,N=Math.floor(v/2),O=v-N;f={top:k,bottom:E,left:N,right:O,front:w,back:B,type:"SAME"}}else throw Error(`Unknown padding parameter: ${t}`);return{padInfo:f,outDepth:h,outHeight:m,outWidth:g}}function E2(t,e){if(!e)return Math.trunc(t);switch(e){case"round":return Math.round(t);case"ceil":return Math.ceil(t);case"floor":return Math.floor(t);default:throw new Error(`Unknown roundingMode ${e}`)}}function am(t){const[e,n,r]=B2(t);return e===1&&n===1&&r===1}function Mo(t,e){return am(t)||am(e)}function Kg(t){return B2(t).every(e=>e>0)}function Lh(t){if(t==="NHWC")return"channelsLast";if(t==="NCHW")return"channelsFirst";throw new Error(`Unknown dataFormat ${t}`)}function Rl(t,e,n){if(n!=null){if(typeof e=="string")throw Error(`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${e}.`);if(typeof e=="number")ce(Hg(e),()=>`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${e}.`);else if(typeof e=="object")e.forEach(r=>{r.forEach(s=>{ce(Hg(s),()=>`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${s}.`)})});else throw Error(`Error in ${t}: Unknown padding parameter: ${e}`)}}function N2e(t,e){const r={x:fe(t,"x","reshape","string_or_numeric")},s={shape:e};return Ie.runKernel(s5,r,s)}const Fe=Ne({reshape_:N2e});function j2e(t,e,n,r,s){const i=fe(t,"x","avgPool","float32"),a=1;ce(Mo(n,a),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${n} and dilations '${a}'`);let o=i,c=!1;i.rank===3&&(c=!0,o=Fe(i,[1,i.shape[0],i.shape[1],i.shape[2]])),ce(o.rank===4,()=>`Error in avgPool: x must be rank 4 but got rank ${o.rank}.`),Rl("avgPool",r,s);const u={x:o},d={filterSize:e,strides:n,pad:r,dimRoundingMode:s};let f=Ie.runKernel(xw,u,d);return f=Mt(f,i.dtype),c?Fe(f,[f.shape[1],f.shape[2],f.shape[3]]):f}const v5=Ne({avgPool_:j2e});function T2e(t,e,n,r,s,i="NDHWC"){const a=fe(t,"x","avgPool3d","float32");let o=a,c=!1;a.rank===4&&(c=!0,o=Fe(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]])),ce(o.rank===5,()=>`Error in avgPool3d: x must be rank 5 but got rank ${o.rank}.`),ce(i==="NDHWC",()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${i}`),ce(typeof n=="number"&&n>0||Array.isArray(n)&&n[0]>0&&n[1]>0&&n[2]>0,()=>`Error in avgPool3d: Stride must be > 0, but got '${n}'`),Rl("avgPool3d",r,s);const u={x:o},d={filterSize:e,strides:n,pad:r,dimRoundingMode:s,dataFormat:i};let f=Ie.runKernel(bw,u,d);return f=Mt(f,o.dtype),c?Fe(f,[f.shape[1],f.shape[2],f.shape[3],f.shape[4]]):f}const jD=Ne({avgPool3d_:T2e});function _2e(t,e=0){ce(t.length>=1,()=>"Pass at least one tensor to concat");const n=C2(t,"tensors","concat","string_or_numeric");if(n[0].dtype==="complex64"&&n.forEach(i=>{if(i.dtype!=="complex64")throw new Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype ${i.dtype}. `)}),n.length===1)return Xf(n[0]);const r=n,s={axis:e};return Ie.runKernel(kw,r,s)}const Wi=Ne({concat_:_2e});function R2e(t,e,n=!1,r=!1){let s=fe(t,"a","matMul"),i=fe(e,"b","matMul");[s,i]=Vi(s,i);const a={a:s,b:i},o={transposeA:n,transposeB:r};return Ie.runKernel(vw,a,o)}const fr=Ne({matMul_:R2e});function O2e(t){const n={x:fe(t,"x","sigmoid","float32")};return Ie.runKernel(Ex,n)}const ed=Ne({sigmoid_:O2e});function F2e(t,e,n){const r=fe(t,"x","slice","string_or_numeric");if(r.rank===0)throw new Error("Slicing scalar is not possible");const s={x:r},i={begin:e,size:n};return Ie.runKernel(c5,s,i)}const Gn=Ne({slice_:F2e});function D2e(t){const n={x:fe(t,"x","tanh","float32")};return Ie.runKernel(Rx,n)}const om=Ne({tanh_:D2e});function L2e(t,e,n,r,s,i){const a=fe(t,"forgetBias","basicLSTMCell"),o=fe(e,"lstmKernel","basicLSTMCell"),c=fe(n,"lstmBias","basicLSTMCell"),u=fe(r,"data","basicLSTMCell"),d=fe(s,"c","basicLSTMCell"),f=fe(i,"h","basicLSTMCell"),h=Wi([u,f],1),m=fr(h,o),g=jt(m,c),y=g.shape[0],x=g.shape[1]/4,v=[y,x],w=Gn(g,[0,0],v),B=Gn(g,[0,x],v),k=Gn(g,[0,x*2],v),E=Gn(g,[0,x*3],v),N=jt(je(ed(w),om(B)),je(d,ed(jt(a,k)))),O=je(om(N),ed(E));return[N,O]}const dee=Ne({basicLSTMCell_:L2e});function $2e(t,e,n){const r=fe(t,"x","batchToSpaceND"),s=e.reduce((o,c)=>o*c);ce(r.rank>=1+e.length,()=>`input rank is ${r.rank} but should be > than blockShape.length ${e.length}`),ce(n.length===e.length,()=>`crops.length is ${n.length} but should be equal to blockShape.length  ${e.length}`),ce(r.shape[0]%s===0,()=>`input tensor batch is ${r.shape[0]} but is not divisible by the product of the elements of blockShape ${e.join(" * ")} === ${s}`);const i={x:r},a={blockShape:e,crops:n};return Ie.runKernel(ww,i,a)}const w5=Ne({batchToSpaceND_:$2e});function P2e(t){let e;return t.rank===0||t.rank===1?e=Fe(t,[1,1,1,t.size]):t.rank===2?e=Fe(t,[1,1,t.shape[0],t.shape[1]]):t.rank===3?e=Fe(t,[1,t.shape[0],t.shape[1],t.shape[2]]):e=t,e}function U2e(t,e,n,r,s,i){i==null&&(i=.001);const a=fe(t,"x","batchNorm"),o=fe(e,"mean","batchNorm"),c=fe(n,"variance","batchNorm");let u;s!=null&&(u=fe(s,"scale","batchNorm"));let d;r!=null&&(d=fe(r,"offset","batchNorm")),ce(o.rank===c.rank,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),ce(d==null||o.rank===d.rank,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),ce(u==null||o.rank===u.rank,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");const h={x:P2e(a),scale:u,offset:d,mean:o,variance:c},m={varianceEpsilon:i},g=Ie.runKernel(Ow,h,m);return Fe(g,a.shape)}const Dx=Ne({batchNorm_:U2e});function z2e(t,e,n,r,s,i){const a=fe(t,"x","batchNorm"),o=fe(e,"mean","batchNorm"),c=fe(n,"variance","batchNorm");let u;s!=null&&(u=fe(s,"scale","batchNorm"));let d;return r!=null&&(d=fe(r,"offset","batchNorm")),ce(a.rank===2,()=>`Error in batchNorm2D: x must be rank 2 but got rank ${a.rank}.`),ce(o.rank===2||o.rank===1,()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${o.rank}.`),ce(c.rank===2||c.rank===1,()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${c.rank}.`),u!=null&&ce(u.rank===2||u.rank===1,()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${u.rank}.`),d!=null&&ce(d.rank===2||d.rank===1,()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${d.rank}.`),Dx(a,o,c,d,u,i)}const TD=Ne({batchNorm2d_:z2e});function M2e(t,e,n,r,s,i){const a=fe(t,"x","batchNorm"),o=fe(e,"mean","batchNorm"),c=fe(n,"variance","batchNorm");let u;s!=null&&(u=fe(s,"scale","batchNorm"));let d;return r!=null&&(d=fe(r,"offset","batchNorm")),ce(a.rank===3,()=>`Error in batchNorm3D: x must be rank 3 but got rank ${a.rank}.`),ce(o.rank===3||o.rank===1,()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${o.rank}.`),ce(c.rank===3||c.rank===1,()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${c.rank}.`),u!=null&&ce(u.rank===3||u.rank===1,()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${u.rank}.`),d!=null&&ce(d.rank===3||d.rank===1,()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${d.rank}.`),Dx(a,o,c,d,u,i)}const _D=Ne({batchNorm3d_:M2e});function Q2e(t,e,n,r,s,i){const a=fe(t,"x","batchNorm"),o=fe(e,"mean","batchNorm"),c=fe(n,"variance","batchNorm");let u;s!=null&&(u=fe(s,"scale","batchNorm"));let d;return r!=null&&(d=fe(r,"offset","batchNorm")),ce(a.rank===4,()=>`Error in batchNorm4D: x must be rank 4 but got rank ${a.rank}.`),ce(o.rank===4||o.rank===1,()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${o.rank}.`),ce(c.rank===4||c.rank===1,()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${c.rank}.`),u!=null&&ce(u.rank===4||u.rank===1,()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${u.rank}.`),d!=null&&ce(d.rank===4||d.rank===1,()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${d.rank}.`),Dx(a,o,c,d,u,i)}const RD=Ne({batchNorm4d_:Q2e});function H2e(t,e,n){const r=fe(t,"x","bincount"),s=fe(e,"weights","bincount");ce(r.dtype==="int32",()=>`Error in bincount: input dtype must be int32, but got ${r.dtype}`),ce(n>=0,()=>`size must be non-negative, but got ${n}.`),ce(s.size===r.size||s.size===0,()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${r.shape}, weights shape: ${s.shape}.`);const i={x:r,weights:s},a={size:n};return Ie.runKernel(QE,i,a)}const OD=Ne({bincount_:H2e});function W2e(t,e){const n=fe(t,"x","bitwiseAnd"),r=fe(e,"y","bitwiseAnd");if(!vr(n.shape,r.shape))throw new Error(`BitwiseAnd: Tensors must have the same shape. x: ${n.shape}, y: ${r.shape}`);if(n.dtype!=="int32"||r.dtype!=="int32")throw new Error(`BitwiseAnd: Only supports 'int32' values in tensor, found type of x: ${n.dtype} and type of y: ${r.dtype}`);const s={a:n,b:r};return Ie.runKernel(Sw,s)}const fee=Ne({bitwiseAnd_:W2e});function V2e(t,e){const n=fe(t,"s0","broadcastArgs","int32"),r=fe(e,"s1","broadcastArgs","int32");if(n.rank!==1)throw new Error(`broadcastArgs(): first input must be a vector (rank=1). Has rank ${n.rank}`);if(r.rank!==1)throw new Error(`broadcastArgs(): second input must be a vector (rank=1). Has rank ${r.rank}`);const s={s0:n,s1:r};return Ie.runKernel(HE,s)}const Aee=Ne({broadcastArgs_:V2e});function q2e(t,e){let n=fe(t,"broadcastTo","x");const r=n.shape;if(Lc(e),e.length<n.rank)throw new Error(`broadcastTo(): shape.length=${e.length} < input.rank=${n.rank}.`);if(e.length>n.rank){const u=n.shape.slice();for(;u.length<e.length;)u.unshift(1);n=Fe(n,u)}const s=n.shape,i=Array.from(e);for(let u=e.length-1;u>=0;u--)if(s[u]===e[u])i[u]=1;else if(n.shape[u]!==1)throw new Error(`broadcastTo(): [${r}] cannot be broadcast to [${e}].`);if(i.map((u,d)=>u>1?d:-1).filter(u=>u>=0).length===0)return Xf(n);const o={x:n},c={reps:i};return Ie.runKernel(Ox,o,c)}const Ig=Ne({broadcastTo_:q2e});function G2e(t){const n={x:fe(t,"x","ceil","float32")};return Ie.runKernel(K1,n)}const FD=Ne({ceil_:G2e});function v0(t,e,n){Lc(t),n=n||y0(e);const r={shape:t,value:e,dtype:n};return Ie.runKernel(aI,{},r)}function K2e(t,e,n){const r=fe(t,"x","clipByValue");if(ce(e<=n,()=>`Error in clip: min (${e}) must be less than or equal to max (${n}).`),e===n)return v0(r.shape,e,r.dtype);const s={x:r},i={clipValueMin:e,clipValueMax:n};return Ie.runKernel(X1,s,i)}const Yl=Ne({clipByValue_:K2e});function X2e(t){return Wi(t,0)}const DD=Ne({concat1d_:X2e});function Y2e(t,e){return Wi(t,e)}const S5=Ne({concat2d_:Y2e});function J2e(t,e){return Wi(t,e)}const LD=Ne({concat3d_:J2e});function Z2e(t,e){return Wi(t,e)}const $D=Ne({concat4d_:Z2e});function ewe(t,e,n,r,s="NHWC",i=[1,1],a){const o=fe(t,"x","conv2d","float32"),c=fe(e,"filter","conv2d","float32");let u=o,d=!1;o.rank===3&&(d=!0,u=Fe(o,[1,o.shape[0],o.shape[1],o.shape[2]])),ce(u.rank===4,()=>`Error in conv2d: input must be rank 4, but got rank ${u.rank}.`),ce(c.rank===4,()=>`Error in conv2d: filter must be rank 4, but got rank ${c.rank}.`),Rl("conv2d",r,a);const f=s==="NHWC"?u.shape[3]:u.shape[1];ce(f===c.shape[2],()=>`Error in conv2d: depth of input (${f}) must match input depth for filter ${c.shape[2]}.`),ce(Mo(n,i),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`),ce(Kg(i),()=>"Error in conv2D: Dilated rates should be larger than 0."),ce(Kg(n),()=>"Error in conv2D: Strides should be larger than 0.");const h={x:u,filter:c},m={strides:n,pad:r,dataFormat:s,dilations:i,dimRoundingMode:a},g=Ie.runKernel(Bw,h,m);return d?Fe(g,[g.shape[1],g.shape[2],g.shape[3]]):g}const wh=Ne({conv2d_:ewe});function twe(t,e,n,r,s="NWC",i=1,a){const o=fe(t,"x","conv1d"),c=fe(e,"filter","conv1d");let u=o,d=!1;o.rank===2&&(d=!0,u=Fe(o,[1,o.shape[0],o.shape[1]])),ce(u.rank===3,()=>`Error in conv1d: input must be rank 3, but got rank ${u.rank}.`),ce(c.rank===3,()=>`Error in conv1d: filter must be rank 3, but got rank ${c.rank}.`),Rl("conv1d",r,a),ce(u.shape[2]===c.shape[1],()=>`Error in conv1d: depth of input (${u.shape[2]}) must match input depth for filter ${c.shape[1]}.`),ce(Mo(n,i),()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${n} and dilation '${i}'`),ce(Kg(i),()=>"Error in conv1D: Dilated rates should be larger than 0."),ce(Kg(n),()=>"Error in conv1D: Stride should be larger than 0."),ce(s==="NWC",()=>`Error in conv1d: got dataFormat of ${s} but only NWC is currently supported.`);const f=Fe(c,[1,c.shape[0],c.shape[1],c.shape[2]]),h=Fe(u,[u.shape[0],1,u.shape[1],u.shape[2]]),x=wh(h,f,[1,n],r,"NHWC",[1,i],a);return d?Fe(x,[x.shape[2],x.shape[3]]):Fe(x,[x.shape[0],x.shape[2],x.shape[3]])}const GI=Ne({conv1d_:twe});function nwe(t,e,n,r,s,i="NHWC",a){ce(t.length===e.rank,()=>`Length of inShape (${t.length}) and rank of dy (${e.rank}) must match`);let o=t,c=e,u=!1;e.rank===3&&(u=!0,c=Fe(e,[1,e.shape[0],e.shape[1],e.shape[2]]),o=[1,t[0],t[1],t[2]]),ce(o.length===4,()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${o.length}.`),ce(c.rank===4,()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${c.rank}`),ce(n.rank===4,()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${n.rank}`);const d=i==="NHWC"?o[3]:o[1],f=i==="NHWC"?c.shape[3]:c.shape[1];ce(d===n.shape[2],()=>`Error in conv2dDerInput: depth of input (${d}) must match input depth for filter ${n.shape[2]}.`),ce(f===n.shape[3],()=>`Error in conv2dDerInput: depth of output (${f}) must match output depth for filter ${n.shape[3]}.`),Rl("conv2dDerInput",s,a);const h={dy:c,filter:n},m={strides:r,pad:s,dataFormat:i,dimRoundingMode:a,inputShape:o},g=Ie.runKernel(Ew,h,m);return u?Fe(g,[g.shape[1],g.shape[2],g.shape[3]]):g}const PD=Ne({conv2DBackpropInput_:nwe});function rwe(t,e,n,r,s,i){const a=fe(t,"x","conv2dTranspose"),o=fe(e,"filter","conv2dTranspose");return PD(n,a,o,r,s,"NHWC",i)}const KI=Ne({conv2dTranspose_:rwe});function swe(t,e,n,r,s="NDHWC",i=[1,1,1]){const a=fe(t,"x","conv3d"),o=fe(e,"filter","conv3d");let c=a,u=!1;a.rank===4&&(u=!0,c=Fe(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]])),ce(c.rank===5,()=>`Error in conv3d: input must be rank 5, but got rank ${c.rank}.`),ce(o.rank===5,()=>`Error in conv3d: filter must be rank 5, but got rank ${o.rank}.`),ce(c.shape[4]===o.shape[3],()=>`Error in conv3d: depth of input (${c.shape[4]}) must match input depth for filter ${o.shape[3]}.`),ce(Mo(n,i),()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`),ce(s==="NDHWC",()=>`Error in conv3d: got dataFormat of ${s} but only NDHWC is currently supported.`),ce(Kg(i),()=>"Error in conv3D: Dilated rates should be larger than 0."),ce(Kg(n),()=>"Error in conv3D: Strides should be larger than 0.");const d={x:c,filter:o},f={strides:n,pad:r,dataFormat:s,dilations:i},h=Ie.runKernel(Iw,d,f);return u?Fe(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}const UD=Ne({conv3d_:swe});function iwe(t,e,n,r,s){ce(t.length===e.rank,()=>`Length of inShape (${t.length}) and rank of dy (${e.rank}) must match`);let i=t,a=e,o=!1;e.rank===4&&(o=!0,a=Fe(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]),i=[1,t[0],t[1],t[2],t[3]]);const c=i[4],u=a.shape[4];ce(i.length===5,()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${i.length}.`),ce(a.rank===5,()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${a.rank}`),ce(n.rank===5,()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${n.rank}`),ce(c===n.shape[3],()=>`Error in conv3dDerInput: depth of input (${c}) must match input depth for filter ${n.shape[3]}.`),ce(u===n.shape[4],()=>`Error in conv3dDerInput: depth of output (${u}) must match output depth for filter ${n.shape[4]}.`);const d={dy:a,filter:n},f={pad:s,strides:r,inputShape:i},h=Ie.runKernel(GE,d,f);return o?Fe(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}const hee=Ne({conv3DBackpropInput_:iwe});function awe(t,e,n,r,s){const i=fe(t,"x","conv3dTranspose"),a=fe(e,"filter","conv3dTranspose");return hee(n,i,a,r,s)}const zD=Ne({conv3dTranspose_:awe});function owe(t){const n={x:fe(t,"x","cos","float32")};return Ie.runKernel(Y1,n)}const C5=Ne({cos_:owe});function lwe(t){const n={x:fe(t,"x","cosh","float32")};return Ie.runKernel(J1,n)}const XI=Ne({cosh_:lwe});function cwe(t,e=0,n=!1,r=!1){const i={x:fe(t,"x","cumprod")},a={axis:e,exclusive:n,reverse:r};return Ie.runKernel(KE,i,a)}const I2=Ne({cumprod_:cwe});function uwe(t,e=0,n=!1,r=!1){const i={x:fe(t,"x","cumsum")},a={axis:e,exclusive:n,reverse:r};return Ie.runKernel(Nw,i,a)}const YI=Ne({cumsum_:uwe});function dwe(t,e,n,r=!1){const s=fe(t,"x","denseBincount"),i=fe(e,"weights","denseBincount");ce(s.dtype==="int32",()=>`Error in denseBincount: input dtype must be int32, but got ${s.dtype}`),ce(s.rank<=2,()=>`Error in denseBincount: input must be at most rank 2, but got rank ${s.rank}.`),ce(n>=0,()=>`size must be non-negative, but got ${n}.`),ce(i.size===s.size||i.size===0,()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${s.shape}, weights shape: ${i.shape}.`);const a={x:s,weights:i},o={size:n,binaryOutput:r};return Ie.runKernel(YE,a,o)}const zB=Ne({denseBincount_:dwe});function fwe(t,e,n="NHWC"){const r=fe(t,"x","depthToSpace","float32"),s=n==="NHWC"?r.shape[1]:r.shape[2],i=n==="NHWC"?r.shape[2]:r.shape[3],a=n==="NHWC"?r.shape[3]:r.shape[1];ce(e>1,()=>`blockSize should be > 1 for depthToSpace, but was: ${e}`),ce(s*e>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${s} and ${e}  for depthToSpace with input shape
    ${r.shape}`),ce(i*e>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${i} and ${e} for depthToSpace with input shape
        ${r.shape}`),ce(a%(e*e)===0,()=>`Dimension size must be evenly divisible by ${e*e} but is ${a} for depthToSpace with input shape ${r.shape}`);const o={x:r},c={blockSize:e,dataFormat:n};return Ie.runKernel(JE,o,c)}const MD=Ne({depthToSpace_:fwe});function Awe(t,e,n,r,s="NHWC",i=[1,1],a){const o=fe(t,"x","depthwiseConv2d","float32"),c=fe(e,"filter","depthwiseConv2d","float32");let u=o,d=!1;o.rank===3&&(d=!0,u=Fe(o,[1,o.shape[0],o.shape[1],o.shape[2]])),ce(u.rank===4,()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${u.rank}.`),ce(c.rank===4,()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${c.rank}.`);const f=s==="NHWC"?u.shape[3]:u.shape[1];ce(f===c.shape[2],()=>`Error in depthwiseConv2d: number of input channels (${f}) must match the inChannels dimension in filter ${c.shape[2]}.`),Rl("depthwiseConv2d",r,a);const h={x:u,filter:c},m={strides:n,pad:r,dataFormat:s,dilations:i,dimRoundingMode:a},g=Ie.runKernel(jw,h,m);return d?Fe(g,[g.shape[1],g.shape[2],g.shape[3]]):g}const Lx=Ne({depthwiseConv2d_:Awe});function hwe(t){const n={x:fe(t,"x","diag")};return Ie.runKernel(tI,n)}const pee=Ne({diag_:hwe});function pwe(t,e,n,r,s=[1,1],i="NHWC"){const a=fe(t,"x","dilation2d"),o=fe(e,"filter","dilation2d");ce(a.rank===3||a.rank===4,()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${a.rank}.`),ce(o.rank===3,()=>`Error in dilation2d: filter must be rank 3, but got rank ${o.rank}.`),ce(i==="NHWC",()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${i}`);let c=a,u=!1;a.rank===3&&(c=Fe(a,[1,a.shape[0],a.shape[1],a.shape[2]]),u=!0),ce(c.shape[3]===o.shape[2],()=>`Error in dilation2d:  input and filter must have the same depth: ${c.shape[3]} vs ${o.shape[2]}`);const d={x:c,filter:o},f={strides:n,pad:r,dilations:s},h=Ie.runKernel(Tw,d,f);return u?Fe(h,[h.shape[1],h.shape[2],h.shape[3]]):h}const QD=Ne({dilation2d_:pwe});function Xg(t,e){const n=t.length,r=[];for(let s=0;s<n;s++){const i=n-1-s,a=t[i]||1;(e[e.length-1-s]||1)>1&&a===1&&r.unshift(i)}return r}function Da(t,e){const n=[];for(let r=0;r<e.length;r++){const s=t[t.length-r-1],i=e.length-r-1,a=e[i];(s==null||s===1&&a>1)&&n.unshift(i)}return n}function rr(t,e){const n=Math.max(t.length,e.length),r=new Array(n);for(let s=0;s<n;s++){let i=t[t.length-s-1];i==null&&(i=1);let a=e[e.length-s-1];if(a==null&&(a=1),i===1)r[n-s-1]=a;else if(a===1)r[n-s-1]=i;else if(i!==a){const o=`Operands could not be broadcast together with shapes ${t} and ${e}.`;throw Error(o)}else r[n-s-1]=i}return r}const mwe=Object.freeze(Object.defineProperty({__proto__:null,assertAndGetBroadcastShape:rr,getBroadcastDims:Xg,getReductionAxes:Da},Symbol.toStringTag,{value:"Module"}));function gwe(t,e){let n=fe(t,"a","equal","string_or_numeric"),r=fe(e,"b","equal","string_or_numeric");[n,r]=Vi(n,r),rr(n.shape,r.shape);const s={a:n,b:r};return Ie.runKernel(_w,s)}const rd=Ne({equal_:gwe});function ywe(t,e,n){const r=fe(e,"a","where"),s=fe(n,"b","where"),i=fe(t,"condition","where","bool"),a=rr(rr(i.shape,r.shape),s.shape),o=Ig(i,a),c=Ig(r,a),u=Ig(s,a),d={condition:o,t:c,e:u};return Ie.runKernel(l5,d)}const $o=Ne({where_:ywe});function xwe(t){const n={x:fe(t,"x","zerosLike")};return Ie.runKernel(g5,n)}const Lr=Ne({zerosLike_:xwe});function bwe(t,e){let n=fe(t,"a","div"),r=fe(e,"b","div");[n,r]=Vi(n,r);const s=un(n,r),i=Lr(s),a=rd(r,i);return $o(a,i,s)}const HD=Ne({divNoNan_:bwe});function vwe(t,e){const n=fe(t,"t1","dot"),r=fe(e,"t2","dot");ce((n.rank===1||n.rank===2)&&(r.rank===1||r.rank===2),()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${n.rank} and ${r.rank}.`);const s=n.rank===1?n.size:n.shape[1],i=r.rank===1?r.size:r.shape[0];if(ce(s===i,()=>`Error in dot: inner dimensions of inputs must match, but got ${s} and ${i}.`),n.rank===1&&r.rank===1){const a=Fe(n,[1,-1]),o=Fe(r,[-1,1]),c=fr(a,o);return Fe(c,[])}else if(n.rank===1&&r.rank===2){const a=Fe(n,[1,-1]),o=Fe(r,[r.shape[0],r.shape[1]]),c=fr(a,o);return Fe(c,[c.size])}else if(n.rank===2&&r.rank===1){const a=Fe(r,[-1,1]),o=fr(n,a);return Fe(o,[o.size])}else{const a=Fe(r,[r.shape[0],r.shape[1]]);return fr(n,a)}}const WD=Ne({dot_:vwe});function wwe(t,...e){const n=e.map((s,i)=>fe(s,`tensors${i}`,"einsum")),r={equation:t};return Ie.runKernel(rI,n,r)}const cg=Ne({einsum_:wwe});function Swe(t){const n={x:fe(t,"x","elu","float32")};return Ie.runKernel(ex,n)}const $x=Ne({elu_:Swe});function Cwe(t,e){const n=fe(t,"x","ensureShape","string_or_numeric");if(!kZ(n.shape,e))throw new Error(`EnsureShape: Shape of tensor ${n.shape} is not compatible with expected shape ${e}`);return t}const mee=Ne({ensureShape_:Cwe});function kwe(t){let e=fe(t,"x","erf");ce(e.dtype==="int32"||e.dtype==="float32",()=>"Input dtype must be `int32` or `float32`."),e.dtype==="int32"&&(e=Mt(e,"float32"));const n={x:e};return Ie.runKernel(tx,n)}const JI=Ne({erf_:kwe});function VD(t,e){for(let n=0;n<t.length;++n)if(t[t.length-n-1]!==e-1-n)return!1;return!0}function gee(t,e,n){const r=t.length+e.length,s=[];let i=0,a=0;for(let o=0;o<r;o++)n.indexOf(o)===-1?s.push(t[i++]):s.push(e[a++]);return s}function go(t,e){const n=[],r=t.length;for(let i=0;i<r;i++)e.indexOf(i)===-1&&n.push(t[i]);const s=e.map(i=>t[i]);return[n,s]}function ya(t,e){const n=e.map(r=>1);return gee(t,n,e)}function Qo(t,e,n){ce(VD(e,n),()=>`${t} supports only inner-most axes for now. Got axes ${e} and rank-${n} input.`)}function Gi(t,e){if(VD(t,e))return null;const n=[];for(let r=0;r<e;++r)t.indexOf(r)===-1&&n.push(r);return t.forEach(r=>n.push(r)),n}function Cm(t){return t.map((e,n)=>[n,e]).sort((e,n)=>e[1]-n[1]).map(e=>e[0])}function xa(t,e){const n=[];for(let r=e-t;r<e;++r)n.push(r);return n}function Bwe(t,e=null,n=!1){const s={x:fe(t,"x","max")},i={reductionIndices:e,keepDims:n};return Ie.runKernel(Hw,s,i)}const fu=Ne({max_:Bwe});function Ewe(t,e=null,n=!1){const s={x:fe(t,"x","min")},i={axis:e,keepDims:n};return Ie.runKernel(Gw,s,i)}const m1=Ne({min_:Ewe});function Iwe(t,e){let n=fe(t,"base","pow"),r=fe(e,"exp","pow");[n,r]=Vi(n,r);const s={a:n,b:r};return Ie.runKernel(gx,s)}const oA=Ne({pow_:Iwe});function Fn(t,e){if((uo(t)&&e!=="string"||Array.isArray(t))&&e!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(e==="string"&&uo(t)&&!(t instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return wm(t,[],[],e)}function Nwe(t){const n={x:fe(t,"x","sqrt","float32")};return Ie.runKernel(Nx,n)}const po=Ne({sqrt_:Nwe});function jwe(t){const e=fe(t,"x","square"),n={};return Ie.runKernel("Square",{x:e},n)}const Ts=Ne({square_:jwe});function Twe(t,e=null,n=!1){let r=fe(t,"x","sum");r.dtype==="bool"&&(r=Mt(r,"int32"));const s={x:r},i={axis:e,keepDims:n};return Ie.runKernel(u5,s,i)}const hn=Ne({sum_:Twe});function _we(t,e="euclidean",n=null,r=!1){t=fe(t,"x","norm");const s=yee(t,e,n);let i=s.shape;if(r){const a=hr(n,t.shape);i=ya(s.shape,a)}return Fe(s,i)}function yee(t,e,n=null){if(t.rank===0)return Na(t);if(t.rank!==1&&n===null)return yee(Fe(t,[-1]),e,n);if(t.rank===1||typeof n=="number"||Array.isArray(n)&&n.length===1){if(e===1)return hn(Na(t),n);if(e===1/0)return fu(Na(t),n);if(e===-1/0)return m1(Na(t),n);if(e==="euclidean"||e===2)return po(hn(oA(Na(t),Fn(2,"int32")),n));throw new Error(`Error in norm: invalid ord value: ${e}`)}if(Array.isArray(n)&&n.length===2){if(e===1)return fu(hn(Na(t),n[0]),n[1]-1);if(e===1/0)return fu(hn(Na(t),n[1]),n[0]);if(e===-1/0)return m1(hn(Na(t),n[1]),n[0]);if(e==="fro"||e==="euclidean")return po(hn(Ts(t),n));throw new Error(`Error in norm: invalid ord value: ${e}`)}throw new Error(`Error in norm: invalid axis: ${n}`)}const Px=Ne({norm_:_we});function Rwe(t,e=null,n=!1){return Px(t,"euclidean",e,n)}const qD=Ne({euclideanNorm_:Rwe});function Owe(t){const n={x:fe(t,"x","exp")};return Ie.runKernel(nx,n)}const Jl=Ne({exp_:Owe});function Fwe(t,e=0){const n=fe(t,"x","expandDims","string_or_numeric");ce(e<=n.rank,()=>"Axis must be <= rank of the tensor");const r={input:n},s={dim:e};return Ie.runKernel(Rw,r,s)}const Oo=Ne({expandDims_:Fwe});function Dwe(t){const n={x:fe(t,"x","expm1")};return Ie.runKernel(rx,n)}const GD=Ne({expm1_:Dwe});function Lwe(t,e){const n=fe(t,"x","tile","string_or_numeric");ce(n.rank===e.length,()=>`Error in transpose: rank of input ${n.rank} must match length of reps ${e}.`);const r={x:n},s={reps:e};return Ie.runKernel(Ox,r,s)}const au=Ne({tile_:Lwe});function $we(t,e,n,r="float32"){e==null&&(e=t);const s=cr([t,e],r),i=t<=e?t:e;for(let o=0;o<i;++o)s.set(1,o,o);const a=Fe(s.toTensor(),[t,e]);if(n==null)return a;if(n.length===1)return au(Oo(a,0),[n[0],1,1]);if(n.length===2)return au(Oo(Oo(a,0),0),[n[0],n[1],1,1]);if(n.length===3)return au(Oo(Oo(Oo(a,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${n.length}D.`)}const ZI=Ne({eye_:$we});function Pwe(t){const n={x:fe(t,"x","floor","float32")};return Ie.runKernel(sx,n)}const Ux=Ne({floor_:Pwe});function Uwe(t,e,n=0,r=0){const s=fe(t,"x","gather"),i=fe(e,"indices","gather","int32"),a={x:s,indices:i},o={axis:n,batchDims:r};return Ie.runKernel(Fw,a,o)}const zx=Ne({gather_:Uwe});function zwe(t,e){let n=fe(t,"a","greater","string_or_numeric"),r=fe(e,"b","greater","string_or_numeric");[n,r]=Vi(n,r),rr(n.shape,r.shape);const s={a:n,b:r};return Ie.runKernel(Dw,s)}const rc=Ne({greater_:zwe});function Mwe(t,e){let n=fe(t,"a","greaterEqual","string_or_numeric"),r=fe(e,"b","greaterEqual","string_or_numeric");[n,r]=Vi(n,r),rr(n.shape,r.shape);const s={a:n,b:r};return Ie.runKernel(ax,s)}const $h=Ne({greaterEqual_:Mwe});function Qwe(t){const n={input:fe(t,"input","imag")};return Ie.runKernel(uI,n)}const k5=Ne({imag_:Qwe});function Hwe(t){const n={x:fe(t,"x","isFinite")};return Ie.runKernel(lx,n)}const KD=Ne({isFinite_:Hwe});function Wwe(t){const n={x:fe(t,"x","isInf")};return Ie.runKernel(cx,n)}const XD=Ne({isInf_:Wwe});function Vwe(t){const n={x:fe(t,"x","isNaN")};return Ie.runKernel(ux,n)}const YD=Ne({isNaN_:Vwe});function qwe(t,e=.2){const r={x:fe(t,"x","leakyRelu")},s={alpha:e};return Ie.runKernel(Lw,r,s)}const B5=Ne({leakyRelu_:qwe});function Gwe(t,e){let n=fe(t,"a","less","string_or_numeric"),r=fe(e,"b","less","string_or_numeric");[n,r]=Vi(n,r),rr(n.shape,r.shape);const s={a:n,b:r};return Ie.runKernel($w,s)}const g1=Ne({less_:Gwe});function Kwe(t,e){let n=fe(t,"a","lessEqual","string_or_numeric"),r=fe(e,"b","lessEqual","string_or_numeric");[n,r]=Vi(n,r),rr(n.shape,r.shape);const s={a:n,b:r};return Ie.runKernel(Pw,s)}const km=Ne({lessEqual_:Kwe});function xee(t,e,n){if(n<=0)throw new Error("The number of values should be positive.");const r={start:t,stop:e,num:n};return Ie.runKernel(dI,{},r)}function Xwe(t,e=5,n=1,r=1,s=.5){const i=fe(t,"x","localResponseNormalization");ce(i.rank===4||i.rank===3,()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got
               rank ${i.rank}.`),ce(Hg(e),()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${e}.`);let a=i,o=!1;i.rank===3&&(o=!0,a=Fe(i,[1,i.shape[0],i.shape[1],i.shape[2]]));const c={x:a},u={depthRadius:e,bias:n,alpha:r,beta:s},d=Ie.runKernel(Qw,c,u);return o?Fe(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const JD=Ne({localResponseNormalization_:Xwe});function Ywe(t){const n={x:fe(t,"x","log","float32")};return Ie.runKernel(dx,n)}const Rc=Ne({log_:Ywe});function Jwe(t){const n={x:fe(t,"x","log1p")};return Ie.runKernel(fx,n)}const E5=Ne({log1p_:Jwe});function Zwe(t){return ce(rm(t),()=>"The f passed in grad(f) must be a function"),(e,n)=>{const r=fe(e,"x","tf.grad","string_or_numeric"),s=n!=null?fe(n,"dy","tf.grad"):null;return Ie.tidy(()=>{const{value:i,grads:a}=Ie.gradients(()=>t(r),[r],s);return s!=null&&zo(i.shape,s.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),eN(a),a[0]})}}function e5e(t){return ce(rm(t),()=>"The f passed in grads(f) must be a function"),(e,n)=>{ce(Array.isArray(e),()=>"The args passed in grads(f)(args) must be an array of `Tensor`s or `TensorLike`s");const r=C2(e,"args","tf.grads","string_or_numeric"),s=n!=null?fe(n,"dy","tf.grads"):null;return Ie.tidy(()=>{const{value:i,grads:a}=Ie.gradients(()=>t(...r),r,s);return s!=null&&zo(i.shape,s.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),eN(a),a})}}function t5e(t){return ce(rm(t),()=>"The f passed in valueAndGrad(f) must be a function"),(e,n)=>{ce(e instanceof Fr,()=>"The x passed in valueAndGrad(f)(x) must be a tensor"),ce(n==null||n instanceof Fr,()=>"The dy passed in valueAndGrad(f)(x, dy) must be a tensor");const{grads:r,value:s}=Ie.gradients(()=>t(e),[e],n);return eN(r),{grad:r[0],value:s}}}function n5e(t){return ce(rm(t),()=>"The f passed in valueAndGrads(f) must be a function"),(e,n)=>{ce(Array.isArray(e)&&e.every(s=>s instanceof Fr),()=>"The args passed in valueAndGrads(f)(args) must be array of tensors"),ce(n==null||n instanceof Fr,()=>"The dy passed in valueAndGrads(f)(args, dy) must be a tensor");const r=Ie.gradients(()=>t(...e),e,n);return n!=null&&zo(r.value.shape,n.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),eN(r.grads),r}}function bee(t,e){ce(rm(t),()=>"The f passed in variableGrads(f) must be a function"),ce(e==null||Array.isArray(e)&&e.every(u=>u instanceof S2),()=>"The varList passed in variableGrads(f, varList) must be an array of variables");const n=e!=null;if(!n){e=[];for(const u in Ie.registeredVariables)e.push(Ie.registeredVariables[u])}const r=n?e.filter(u=>!u.trainable):null,s=e.length;e=e.filter(u=>u.trainable),ce(e.length>0,()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${s} variables is trainable.`);const i=!0,{value:a,grads:o}=Ie.gradients(t,e,null,i);ce(o.some(u=>u!=null),()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."),ce(a.rank===0,()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${a.rank} tensor`);const c={};return e.forEach((u,d)=>{o[d]!=null&&(c[u.name]=o[d])}),r?.forEach(u=>c[u.name]=null),{value:a,grads:c}}function lA(t){return Ie.customGrad(t)}function eN(t){if(t.filter(n=>n==null).length>0)throw new Error(`Cannot compute gradient of y=f(x) with respect to x. Make sure that
    the f you passed encloses all operations that lead from x to y.`)}function r5e(t){const n={x:fe(t,"x","neg")};return Ie.runKernel(Xw,n)}const Zs=Ne({neg_:r5e});function s5e(t){const n={x:fe(t,"x","softplus")};return Ie.runKernel(Ix,n)}const w0=Ne({softplus_:s5e});function i5e(t){const e=fe(t,"x","logSigmoid");return lA(r=>({value:Zs(w0(Zs(r))),gradFunc:a=>je(a,ed(Zs(r)))}))(e)}const ZD=Ne({logSigmoid_:i5e});function a5e(t,e){let n=fe(t,"a","sub"),r=fe(e,"b","sub");[n,r]=Vi(n,r);const s={a:n,b:r};return Ie.runKernel(Tx,s)}const Kt=Ne({sub_:a5e});function o5e(t,e=-1){const n=fe(t,"logits","logSoftmax");if(e===-1&&(e=n.rank-1),e!==n.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and axis was ${e}`);return lA((s,i)=>{const o=fu(s,e,!0),c=Kt(s,o),u=Kt(Mt(c,"float32"),Rc(hn(Jl(c),e,!0)));return i([u]),{value:u,gradFunc:(f,h)=>{const[m]=h,g=!0,y=Jl(m);return Kt(f,je(hn(f,e,g),y))}}})(n)}const tN=Ne({logSoftmax_:o5e});function l5e(t,e=null,n=!1){const r=fe(t,"x","logSumExp"),s=hr(e,r.shape),i=fu(r,s,!0),a=Kt(r,i),o=Jl(a),c=hn(o,s),u=Rc(c),d=jt(Fe(i,u.shape),u);if(n){const f=ya(d.shape,s);return Fe(d,f)}return d}const I5=Ne({logSumExp_:l5e});function c5e(t,e){const n=fe(t,"a","logicalAnd","bool"),r=fe(e,"b","logicalAnd","bool");rr(n.shape,r.shape);const s={a:n,b:r};return Ie.runKernel(Uw,s)}const tf=Ne({logicalAnd_:c5e});function u5e(t){const n={x:fe(t,"x","logicalNot","bool")};return Ie.runKernel(zw,n)}const N5=Ne({logicalNot_:u5e});function d5e(t,e){const n=fe(t,"a","logicalOr","bool"),r=fe(e,"b","logicalOr","bool");rr(n.shape,r.shape);const s={a:n,b:r};return Ie.runKernel(Mw,s)}const nN=Ne({logicalOr_:d5e});function f5e(t,e){const n=fe(t,"a","logicalXor","bool"),r=fe(e,"b","logicalXor","bool");return rr(n.shape,r.shape),tf(nN(t,e),N5(tf(t,e)))}const eL=Ne({logicalXor_:f5e});const kC=2147483648;function A5e(t,e,n="left"){const r=fe(t,"sortedSequence","searchSorted"),s=fe(e,"values","searchSorted"),i=r.shape[r.shape.length-1],a=s.shape[s.shape.length-1],o=Fe(r,[-1,i]),c=Fe(s,[-1,a]);if(o.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(o.shape[0]!==c.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if(it(c.shape)>=kC)throw new Error(`values tensor size must less than ${kC}`);if(o.shape[1]>=kC)throw new Error(`trailing dim_size must less than ${kC} for int32 output type, was ${o.shape[1]}`);const u={sortedSequence:o,values:c},d={side:n};return Ie.runKernel(NI,u,d)}const rN=Ne({searchSorted_:A5e});function vee(t,e){return rN(t,e,"left")}function h5e(t,e,n,r,s){const i=fe(t,"x","maxPool"),a=1;let o=i,c=!1;i.rank===3&&(c=!0,o=Fe(i,[1,i.shape[0],i.shape[1],i.shape[2]])),ce(o.rank===4,()=>`Error in maxPool: input must be rank 4 but got rank ${o.rank}.`),ce(Mo(n,a),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${n} and dilations '${a}'`),Rl("maxPool",r,s);const u={x:o},d={filterSize:e,strides:n,pad:r,dimRoundingMode:s},f=Ie.runKernel(Ww,u,d);return c?Fe(f,[f.shape[1],f.shape[2],f.shape[3]]):f}const j5=Ne({maxPool_:h5e});function p5e(t,e=[1,1,1],n,r,s,i="NDHWC"){const a=fe(t,"x","maxPool3d");let o=a,c=!1;a.rank===4&&(c=!0,o=Fe(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]])),ce(o.rank===5,()=>`Error in maxPool3d: x must be rank 5 but got rank ${o.rank}.`),ce(i==="NDHWC",()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${i}`),Rl("maxPool3d",r,s);const u={x:o},d={filterSize:e,strides:n,pad:r,dimRoundingMode:s,dataFormat:i},f=Ie.runKernel(Vw,u,d);return c?Fe(f,[f.shape[1],f.shape[2],f.shape[3],f.shape[4]]):f}const tL=Ne({maxPool3d_:p5e});function m5e(t,e,n,r,s=!1){const a={x:fe(t,"x","maxPoolWithArgmax")},o={filterSize:e,strides:n,pad:r,includeBatchInIndex:s},c=Ie.runKernel(pI,a,o);return{result:c[0],indexes:c[1]}}const wee=Ne({maxPoolWithArgmax_:m5e});function g5e(t,e){let n=fe(t,"a","maximum"),r=fe(e,"b","maximum");[n,r]=Vi(n,r),n.dtype==="bool"&&(n=Mt(n,"int32"),r=Mt(r,"int32")),rr(n.shape,r.shape);const s={a:n,b:r};return Ie.runKernel(Ax,s)}const gA=Ne({maximum_:g5e});function y5e(t,e=null,n=!1){const s={x:fe(t,"x","mean")},i={axis:e,keepDims:n};return Ie.runKernel(qw,s,i)}const $i=Ne({mean_:y5e});function Ra(t,e="float32"){if(Lc(t),e==="complex64"){const r=Ra(t,"float32"),s=Ra(t,"float32");return vh(r,s)}const n=Uo(it(t),e);return Ie.makeTensor(n,t,e)}function Vl(t,e="float32"){if(Lc(t),e==="complex64"){const r=Vl(t,"float32"),s=Ra(t,"float32");return vh(r,s)}const n=$E(it(t),e);return Ie.makeTensor(n,t,e)}function See(t,e,{indexing:n="xy"}={}){if(n!=="xy"&&n!=="ij")throw new TypeError(`${n} is not a valid third argument to meshgrid`);if(t===void 0)return[];let r=fe(t,"x","meshgrid",t instanceof Fr?t.dtype:"float32");if(e===void 0)return[r];let s=fe(e,"y","meshgrid",e instanceof Fr?e.dtype:"float32");const i=it(r.shape),a=it(s.shape);return n==="xy"?(r=Fe(r,[1,-1]),s=Fe(s,[-1,1]),[fr(Vl([a,1],r.dtype),r),fr(s,Vl([1,i],s.dtype))]):(r=Fe(r,[-1,1]),s=Fe(s,[1,-1]),[fr(r,Vl([1,a],r.dtype)),fr(Vl([i,1],s.dtype),s)])}function x5e(t,e){let n=fe(t,"a","minimum"),r=fe(e,"b","minimum");[n,r]=Vi(n,r),n.dtype==="bool"&&(n=Mt(n,"int32"),r=Mt(r,"int32")),rr(n.shape,r.shape);const s={a:n,b:r};return Ie.runKernel(hx,s)}const lm=Ne({minimum_:x5e});function b5e(t,e,n){ce(n==="reflect"||n==="symmetric",()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${n}.`);const r=fe(t,"x","mirrorPad");if(r.rank===0)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");ce(e.length===r.rank,()=>`Padding doesn't match input. Must be ${r.rank}. Got ${e.length}.`);const s=n==="reflect"?1:0;for(let o=0;o<r.rank;o++)ce(e[o].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),ce(e[o][0]>=0&&e[o][0]<=r.shape[o]-s&&e[o][1]>=0&&e[o][1]<=r.shape[o]-s,()=>`Padding in dimension ${o} cannot be greater than or equal to ${r.shape[o]-s} or less than 0 for input of shape ${r.shape}`);const i={paddings:e,mode:n},a={x:r};return Ie.runKernel(Kw,a,i)}const nL=Ne({mirrorPad_:b5e});function v5e(t,e){let n=fe(t,"a","mod"),r=fe(e,"b","mod");[n,r]=Vi(n,r);const s={a:n,b:r};return Ie.runKernel(px,s)}const rL=Ne({mod_:v5e});function w5e(t,e=null,n=!1){t=fe(t,"x","moments");const r=hr(e,t.shape),s=$i(t,r,n);let i=s.shape;n||(i=ya(s.shape,r));const a=Ts(Kt(Mt(t,"float32"),Fe(s,i))),o=$i(a,r,n);return{mean:s,variance:o}}const T5=Ne({moments_:w5e});function S5e(t,e,n,r){const s=fe(e,"data","multiRNNCell"),i=C2(n,"c","multiRNNCell"),a=C2(r,"h","multiRNNCell");let o=s;const c=[];for(let f=0;f<t.length;f++){const h=t[f](o,i[f],a[f]);c.push(h[0]),c.push(h[1]),o=h[1]}const u=[],d=[];for(let f=0;f<c.length;f+=2)u.push(c[f]),d.push(c[f+1]);return[u,d]}const Cee=Ne({multiRNNCell_:S5e});function C5e(t,e,n,r=!1){const s=fe(t,"logits","multinomial"),i=s.size,a=s.rank;if(i<2)throw new Error(`Error in multinomial: you need at least 2 outcomes, but got ${i}.`);if(a>2)throw new Error(`Rank of probabilities must be 1 or 2, but is ${a}`);n=n||Math.random();const c={logits:a===1?Fe(s,[1,-1]):s},u={numSamples:e,seed:n,normalized:r},d=Ie.runKernel(mI,c,u);return a===1?Fe(d,[d.size]):d}const kee=Ne({multinomial_:C5e});function k5e(t,e){let n=fe(t,"a","notEqual","string_or_numeric"),r=fe(e,"b","notEqual","string_or_numeric");[n,r]=Vi(n,r),rr(n.shape,r.shape);const s={a:n,b:r};return Ie.runKernel(Yw,s)}const Yg=Ne({notEqual_:k5e});function B5e(t,e,n=1,r=0,s="int32"){if(e<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${e}`);const a={indices:fe(t,"indices","oneHot","int32")},o={dtype:s,depth:e,onValue:n,offValue:r};return Ie.runKernel(Zw,a,o)}const y1=Ne({oneHot_:B5e});function E5e(t){const n={x:fe(t,"x","onesLike")};return Ie.runKernel(Jw,n)}const Oc=Ne({onesLike_:E5e});function I5e(t,e){const n=fe(t,"v1","outerProduct"),r=fe(e,"v2","outerProduct");ce(n.rank===1&&r.rank===1,()=>`Error in outerProduct: inputs must be rank 1, but got ranks ${n.rank} and ${r.rank}.`);const s=Fe(n,[-1,1]),i=Fe(r,[1,-1]);return fr(s,i)}const Bee=Ne({outerProduct_:I5e});function N5e(t,e,n=0){const r=fe(t,"x","pad");if(r.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const s={paddings:e,constantValue:n},i={x:r};return Ie.runKernel(t5,i,s)}const Ph=Ne({pad_:N5e});function j5e(t,e,n=0){return ce(e.length===2,()=>"Invalid number of paddings. Must be length of 2."),Ph(t,[e],n)}const Eee=Ne({pad1d_:j5e});function T5e(t,e,n=0){return ce(e.length===2&&e[0].length===2&&e[1].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),Ph(t,e,n)}const Iee=Ne({pad2d_:T5e});function _5e(t,e,n=0){return ce(e.length===3&&e[0].length===2&&e[1].length===2&&e[2].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),Ph(t,e,n)}const Nee=Ne({pad3d_:_5e});function R5e(t,e,n=0){return ce(e.length===4&&e[0].length===2&&e[1].length===2&&e[2].length===2&&e[3].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),Ph(t,e,n)}const jee=Ne({pad4d_:R5e});function O5e(t,e,n){const r=fe(t,"x","spaceToBatchND");ce(r.rank>=1+e.length,()=>`input rank ${r.rank} should be > than [blockShape] ${e.length}`),ce(n.length===e.length,()=>`paddings.shape[0] ${n.length} must be equal to [blockShape] ${e.length}`),ce(r.shape.reduce((a,o,c)=>c>0&&c<=e.length?a&&(o+n[c-1][0]+n[c-1][1])%e[c-1]===0:a,!0),()=>`input spatial dimensions ${r.shape.slice(1)} with paddings ${n.toString()} must be divisible by blockShapes ${e.toString()}`);const s={x:r},i={blockShape:e,paddings:n};return Ie.runKernel(d5,s,i)}const _5=Ne({spaceToBatchND_:O5e});function F5e(t,e,n,r,s,i,a){s==null&&(s=[1,1]),i==null&&(i=1),r===0&&(r="valid");const o=fe(t,"x","maxPool");let c=o,u=!1;o.rank===3&&(u=!0,c=Fe(o,[1,o.shape[0],o.shape[1],o.shape[2]])),ce(Mo(i,s),()=>`Error in pool: Either strides or dilations must be 1. Got strides ${i} and dilations '${s}'`);const d=od(c.shape,e,i,s,r),f=[d.dilationHeight,d.dilationWidth];let h;r==="same"?h=L5e([d.filterHeight,d.filterWidth],f):h=[[0,0],[0,0]];const m=f[0]===1&&f[1]===1,[g,y]=D5e([d.inHeight,d.inWidth],f,h),x=m?r:"valid",v=m?c:_5(c,f,g),B=(n==="avg"?()=>v5(v,e,i,x,a):()=>j5(v,e,i,x,a))(),k=m?B:w5(B,f,y);return u?Fe(k,[k.shape[1],k.shape[2],k.shape[3]]):k}function D5e(t,e,n){const r=n.map(d=>d[0]),s=n.map(d=>d[1]),i=t.concat(r,s),a=e.map((d,f)=>(d-i[f]%d)%d),o=s.map((d,f)=>d+a[f]),c=e.map((d,f)=>[r[f],o[f]]),u=e.map((d,f)=>[0,a[f]]);return[c,u]}function L5e(t,e){const r=t.map((a,o)=>a+(a-1)*(e[o]-1)).map(a=>a-1),s=r.map(a=>Math.floor(a/2)),i=r.map((a,o)=>a-s[o]);return r.map((a,o)=>[s[o],i[o]])}const sL=Ne({pool_:F5e});function $5e(t,e){const n=fe(t,"x","prelu"),r=fe(e,"alpha","prelu"),s={x:n,alpha:r};return Ie.runKernel(n5,s)}const R5=Ne({prelu_:$5e});function P5e(t,e=null,n=!1){let r=fe(t,"x","prod");r.dtype==="bool"&&(r=Mt(r,"int32"));const s={x:r},i={axis:e,keepDims:n};return Ie.runKernel(r5,s,i)}const iL=Ne({prod_:P5e});function U5e(t,e,n,r){const s=t.map((d,f)=>fe(d,`tensors${f}`,"raggedGather","int32")),i=fe(e,"paramsDenseValues","raggedGather"),a=fe(n,"indices","raggedGather","int32"),o={paramsNestedSplits:s,paramsDenseValues:i,indices:a},c={outputRaggedRank:r},u=Ie.runKernel(bI,o,c);return{outputNestedSplits:u.slice(0,u.length-1),outputDenseValues:u[u.length-1]}}const Tee=Ne({raggedGather_:U5e});function z5e(t,e,n){const r=fe(t,"starts","raggedRange"),s=fe(e,"limits","raggedRange",r.dtype),i=fe(n,"deltas","raggedRange",r.dtype),a={starts:r,limits:s,deltas:i},o=Ie.runKernel(vI,a);return{rtNestedSplits:o[0],rtDenseValues:o[1]}}const _ee=Ne({raggedRange_:z5e});function M5e(t,e,n,r,s){const i=fe(t,"shape","raggedTensorToTensor","int32"),a=fe(e,"values","raggedTensorToTensor"),o=fe(n,"defaultValue","raggedTensorToTensor",a.dtype),c=r.map((f,h)=>fe(f,`tensors${h}`,"raggedTensorToTensor","int32")),u={shape:i,values:a,defaultValue:o,rowPartitionTensors:c},d={rowPartitionTypes:s};return Ie.runKernel(wI,u,d)}const Ree=Ne({raggedTensorToTensor_:M5e});function Q5e(t,e,n){Lc(t);const r=it(t);let s=null;if(n==null||n==="float32")s=new Float32Array(r);else if(n==="int32")s=new Int32Array(r);else if(n==="bool")s=new Uint8Array(r);else throw new Error(`Unknown data type ${n}`);for(let i=0;i<r;i++)s[i]=e();return Ie.makeTensor(s,t,n)}const Oee=Ne({rand_:Q5e});var Zk={exports:{}},H5e=Zk.exports,$Q;function W5e(){return $Q||($Q=1,(function(t){(function(e,n,r){function s(c){var u=this,d=o();u.next=function(){var f=2091639*u.s0+u.c*23283064365386963e-26;return u.s0=u.s1,u.s1=u.s2,u.s2=f-(u.c=f|0)},u.c=1,u.s0=d(" "),u.s1=d(" "),u.s2=d(" "),u.s0-=d(c),u.s0<0&&(u.s0+=1),u.s1-=d(c),u.s1<0&&(u.s1+=1),u.s2-=d(c),u.s2<0&&(u.s2+=1),d=null}function i(c,u){return u.c=c.c,u.s0=c.s0,u.s1=c.s1,u.s2=c.s2,u}function a(c,u){var d=new s(c),f=u&&u.state,h=d.next;return h.int32=function(){return d.next()*4294967296|0},h.double=function(){return h()+(h()*2097152|0)*11102230246251565e-32},h.quick=h,f&&(typeof f=="object"&&i(f,d),h.state=function(){return i(d,{})}),h}function o(){var c=4022871197,u=function(d){d=String(d);for(var f=0;f<d.length;f++){c+=d.charCodeAt(f);var h=.02519603282416938*c;c=h>>>0,h-=c,h*=c,c=h>>>0,h-=c,c+=h*4294967296}return(c>>>0)*23283064365386963e-26};return u}n&&n.exports?n.exports=a:this.alea=a})(H5e,t)})(Zk)),Zk.exports}var eB={exports:{}},V5e=eB.exports,PQ;function q5e(){return PQ||(PQ=1,(function(t){(function(e,n,r){function s(o){var c=this,u="";c.x=0,c.y=0,c.z=0,c.w=0,c.next=function(){var f=c.x^c.x<<11;return c.x=c.y,c.y=c.z,c.z=c.w,c.w^=c.w>>>19^f^f>>>8},o===(o|0)?c.x=o:u+=o;for(var d=0;d<u.length+64;d++)c.x^=u.charCodeAt(d)|0,c.next()}function i(o,c){return c.x=o.x,c.y=o.y,c.z=o.z,c.w=o.w,c}function a(o,c){var u=new s(o),d=c&&c.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var h=u.next()>>>11,m=(u.next()>>>0)/4294967296,g=(h+m)/(1<<21);while(g===0);return g},f.int32=u.next,f.quick=f,d&&(typeof d=="object"&&i(d,u),f.state=function(){return i(u,{})}),f}n&&n.exports?n.exports=a:this.xor128=a})(V5e,t)})(eB)),eB.exports}var tB={exports:{}},G5e=tB.exports,UQ;function K5e(){return UQ||(UQ=1,(function(t){(function(e,n,r){function s(o){var c=this,u="";c.next=function(){var f=c.x^c.x>>>2;return c.x=c.y,c.y=c.z,c.z=c.w,c.w=c.v,(c.d=c.d+362437|0)+(c.v=c.v^c.v<<4^(f^f<<1))|0},c.x=0,c.y=0,c.z=0,c.w=0,c.v=0,o===(o|0)?c.x=o:u+=o;for(var d=0;d<u.length+64;d++)c.x^=u.charCodeAt(d)|0,d==u.length&&(c.d=c.x<<10^c.x>>>4),c.next()}function i(o,c){return c.x=o.x,c.y=o.y,c.z=o.z,c.w=o.w,c.v=o.v,c.d=o.d,c}function a(o,c){var u=new s(o),d=c&&c.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var h=u.next()>>>11,m=(u.next()>>>0)/4294967296,g=(h+m)/(1<<21);while(g===0);return g},f.int32=u.next,f.quick=f,d&&(typeof d=="object"&&i(d,u),f.state=function(){return i(u,{})}),f}n&&n.exports?n.exports=a:this.xorwow=a})(G5e,t)})(tB)),tB.exports}var nB={exports:{}},X5e=nB.exports,zQ;function Y5e(){return zQ||(zQ=1,(function(t){(function(e,n,r){function s(o){var c=this;c.next=function(){var d=c.x,f=c.i,h,m;return h=d[f],h^=h>>>7,m=h^h<<24,h=d[f+1&7],m^=h^h>>>10,h=d[f+3&7],m^=h^h>>>3,h=d[f+4&7],m^=h^h<<7,h=d[f+7&7],h=h^h<<13,m^=h^h<<9,d[f]=m,c.i=f+1&7,m};function u(d,f){var h,m=[];if(f===(f|0))m[0]=f;else for(f=""+f,h=0;h<f.length;++h)m[h&7]=m[h&7]<<15^f.charCodeAt(h)+m[h+1&7]<<13;for(;m.length<8;)m.push(0);for(h=0;h<8&&m[h]===0;++h);for(h==8?m[7]=-1:m[h],d.x=m,d.i=0,h=256;h>0;--h)d.next()}u(c,o)}function i(o,c){return c.x=o.x.slice(),c.i=o.i,c}function a(o,c){o==null&&(o=+new Date);var u=new s(o),d=c&&c.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var h=u.next()>>>11,m=(u.next()>>>0)/4294967296,g=(h+m)/(1<<21);while(g===0);return g},f.int32=u.next,f.quick=f,d&&(d.x&&i(d,u),f.state=function(){return i(u,{})}),f}n&&n.exports?n.exports=a:this.xorshift7=a})(X5e,t)})(nB)),nB.exports}var rB={exports:{}},J5e=rB.exports,MQ;function Z5e(){return MQ||(MQ=1,(function(t){(function(e,n,r){function s(o){var c=this;c.next=function(){var d=c.w,f=c.X,h=c.i,m,g;return c.w=d=d+1640531527|0,g=f[h+34&127],m=f[h=h+1&127],g^=g<<13,m^=m<<17,g^=g>>>15,m^=m>>>12,g=f[h]=g^m,c.i=h,g+(d^d>>>16)|0};function u(d,f){var h,m,g,y,x,v=[],w=128;for(f===(f|0)?(m=f,f=null):(f=f+"\0",m=0,w=Math.max(w,f.length)),g=0,y=-32;y<w;++y)f&&(m^=f.charCodeAt((y+32)%f.length)),y===0&&(x=m),m^=m<<10,m^=m>>>15,m^=m<<4,m^=m>>>13,y>=0&&(x=x+1640531527|0,h=v[y&127]^=m+x,g=h==0?g+1:0);for(g>=128&&(v[(f&&f.length||0)&127]=-1),g=127,y=512;y>0;--y)m=v[g+34&127],h=v[g=g+1&127],m^=m<<13,h^=h<<17,m^=m>>>15,h^=h>>>12,v[g]=m^h;d.w=x,d.X=v,d.i=g}u(c,o)}function i(o,c){return c.i=o.i,c.w=o.w,c.X=o.X.slice(),c}function a(o,c){o==null&&(o=+new Date);var u=new s(o),d=c&&c.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var h=u.next()>>>11,m=(u.next()>>>0)/4294967296,g=(h+m)/(1<<21);while(g===0);return g},f.int32=u.next,f.quick=f,d&&(d.X&&i(d,u),f.state=function(){return i(u,{})}),f}n&&n.exports?n.exports=a:this.xor4096=a})(J5e,t)})(rB)),rB.exports}var sB={exports:{}},eSe=sB.exports,QQ;function tSe(){return QQ||(QQ=1,(function(t){(function(e,n,r){function s(o){var c=this,u="";c.next=function(){var f=c.b,h=c.c,m=c.d,g=c.a;return f=f<<25^f>>>7^h,h=h-m|0,m=m<<24^m>>>8^g,g=g-f|0,c.b=f=f<<20^f>>>12^h,c.c=h=h-m|0,c.d=m<<16^h>>>16^g,c.a=g-f|0},c.a=0,c.b=0,c.c=-1640531527,c.d=1367130551,o===Math.floor(o)?(c.a=o/4294967296|0,c.b=o|0):u+=o;for(var d=0;d<u.length+20;d++)c.b^=u.charCodeAt(d)|0,c.next()}function i(o,c){return c.a=o.a,c.b=o.b,c.c=o.c,c.d=o.d,c}function a(o,c){var u=new s(o),d=c&&c.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var h=u.next()>>>11,m=(u.next()>>>0)/4294967296,g=(h+m)/(1<<21);while(g===0);return g},f.int32=u.next,f.quick=f,d&&(typeof d=="object"&&i(d,u),f.state=function(){return i(u,{})}),f}n&&n.exports?n.exports=a:this.tychei=a})(eSe,t)})(sB)),sB.exports}var iB={exports:{}};const nSe={},rSe=Object.freeze(Object.defineProperty({__proto__:null,default:nSe},Symbol.toStringTag,{value:"Module"})),hO=P8(rSe);var sSe=iB.exports,HQ;function iSe(){return HQ||(HQ=1,(function(t){(function(e,n,r){var s=256,i=6,a=52,o="random",c=r.pow(s,i),u=r.pow(2,a),d=u*2,f=s-1,h;function m(k,E,N){var O=[];E=E==!0?{entropy:!0}:E||{};var F=v(x(E.entropy?[k,B(n)]:k??w(),3),O),D=new g(O),T=function(){for(var j=D.g(i),P=c,U=0;j<u;)j=(j+U)*s,P*=s,U=D.g(1);for(;j>=d;)j/=2,P/=2,U>>>=1;return(j+U)/P};return T.int32=function(){return D.g(4)|0},T.quick=function(){return D.g(4)/4294967296},T.double=T,v(B(D.S),n),(E.pass||N||function(j,P,U,z){return z&&(z.S&&y(z,D),j.state=function(){return y(D,{})}),U?(r[o]=j,P):j})(T,F,"global"in E?E.global:this==r,E.state)}function g(k){var E,N=k.length,O=this,F=0,D=O.i=O.j=0,T=O.S=[];for(N||(k=[N++]);F<s;)T[F]=F++;for(F=0;F<s;F++)T[F]=T[D=f&D+k[F%N]+(E=T[F])],T[D]=E;(O.g=function(j){for(var P,U=0,z=O.i,ee=O.j,q=O.S;j--;)P=q[z=f&z+1],U=U*s+q[f&(q[z]=q[ee=f&ee+P])+(q[ee]=P)];return O.i=z,O.j=ee,U})(s)}function y(k,E){return E.i=k.i,E.j=k.j,E.S=k.S.slice(),E}function x(k,E){var N=[],O=typeof k,F;if(E&&O=="object")for(F in k)try{N.push(x(k[F],E-1))}catch{}return N.length?N:O=="string"?k:k+"\0"}function v(k,E){for(var N=k+"",O,F=0;F<N.length;)E[f&F]=f&(O^=E[f&F]*19)+N.charCodeAt(F++);return B(E)}function w(){try{var k;return h&&(k=h.randomBytes)?k=k(s):(k=new Uint8Array(s),(e.crypto||e.msCrypto).getRandomValues(k)),B(k)}catch{var E=e.navigator,N=E&&E.plugins;return[+new Date,e,N,e.screen,B(n)]}}function B(k){return String.fromCharCode.apply(0,k)}if(v(r.random(),n),t.exports){t.exports=m;try{h=hO}catch{}}else r["seed"+o]=m})(typeof self<"u"?self:sSe,[],Math)})(iB)),iB.exports}var zT,WQ;function aSe(){if(WQ)return zT;WQ=1;var t=W5e(),e=q5e(),n=K5e(),r=Y5e(),s=Z5e(),i=tSe(),a=iSe();return a.alea=t,a.xor128=e,a.xorwow=n,a.xorshift7=r,a.xor4096=s,a.tychei=i,zT=a,zT}var sN=aSe();const oSe=.001,Fee=.1;function lSe(t,e,n){return n==null&&(n=aL()),pO(t,e,(r,s)=>oL(r,s,n))}function aL(){return Ie.backend.floatPrecision()===32?oSe:Fee}function pO(t,e,n){let r=!0;if((uo(t)||uo(e))&&(r=!1),uo(t)&&uo(e)&&(r=!0),r){const a=t.constructor.name,o=e.constructor.name;if(a!==o)throw new Error(`Arrays are of different type. Actual: ${a}. Expected: ${o}`)}if(Array.isArray(t)&&Array.isArray(e)){const a=aA(t),o=aA(e);if(!vr(a,o))throw new Error(`Arrays have different shapes. Actual: [${a}]. Expected: [${o}]`)}const s=uo(t)?t:iA(t),i=uo(e)?e:iA(e);if(s.length!==i.length)throw new Error(`Arrays have different lengths actual: ${s.length} vs expected: ${i.length}.
Actual:   ${s}.
Expected: ${i}.`);for(let a=0;a<i.length;++a){const o=s[a],c=i[a];if(!n(o,c))throw new Error(`Arrays differ: actual[${a}] = ${o}, expected[${a}] = ${c}.
Actual:   ${s}.
Expected: ${i}.`)}typeof expect<"u"&&expect().nothing()}function cSe(t,e){t().then(()=>e.fail(),()=>e()),typeof expect<"u"&&expect().nothing()}function uSe(t,e){const n=typeof e=="string"||typeof e=="number"||typeof e=="boolean"?[e]:e;return Hf(t)||Hf(t[0])||Hf(e)||Hf(e[0])?pO(t,n,(r,s)=>r==s):pO(t,e,(r,s)=>oL(r,s,0))}function dSe(t,e,n){if(n==null&&(n=aL()),!oL(t,e,n))throw new Error(`Numbers differ: actual === ${t}, expected === ${e}`);typeof expect<"u"&&expect().nothing()}function oL(t,e,n){return!isFinite(t)&&!isFinite(e)?!0:!(isNaN(t)||isNaN(e)||Math.abs(t-e)>n)}function fSe(t,e,n){for(let r=0;r<t.length;r++)if(t[r]<e||t[r]>n)throw new Error(`Value out of range:${t[r]} low: ${e}, high: ${n}`)}function ASe(t,e){const n=new Float32Array(t),r=new Float32Array(e);if(n.length!==r.length)throw new Error(`Expected ArrayBuffer to be of length ${r.length}, but it was ${n.length}`);for(let s=0;s<r.length;s++)if(n[s]!==r[s])throw new Error(`Expected ArrayBuffer value at ${s} to be ${r[s]} but got ${n[s]} instead`)}function Dee(t){for(let e=0;e<t.length;e++){const n=t[e];Array.isArray(n)?Dee(n):t[e]=Kf(n)}return t}function hSe(t){const e=document.createElement("video");return"playsInline"in e&&(e.playsInline=!0),e.muted=!0,e.loop=!0,e.style.position="fixed",e.style.left="0px",e.style.top="0px",e.preload="auto",e.appendChild(t),new Promise(n=>{e.addEventListener("loadeddata",r=>n(e)),e.load()})}async function pSe(t){await t.play(),"requestVideoFrameCallback"in t&&await new Promise(e=>{t.requestVideoFrameCallback(e)})}const mSe=Object.freeze(Object.defineProperty({__proto__:null,TEST_EPSILON_FLOAT16:Fee,createVideoElement:hSe,encodeStrings:Dee,expectArrayBuffersEqual:ASe,expectArraysClose:lSe,expectArraysEqual:uSe,expectNumbersClose:dSe,expectPromiseToFail:cSe,expectValuesInRange:fSe,play:pSe,testEpsilon:aL},Symbol.toStringTag,{value:"Module"}));class lL{constructor(e,n,r,s,i){this.mean=e,this.stdDev=n,this.dtype=r,this.nextVal=NaN,this.truncated=s,this.truncated&&(this.upper=this.mean+this.stdDev*2,this.lower=this.mean-this.stdDev*2);const a=i||Math.random();this.random=sN.alea(a.toString())}nextValue(){if(!isNaN(this.nextVal)){const s=this.nextVal;return this.nextVal=NaN,s}let e,n,r=!1;for(;!r;){let s,i,a;do s=2*this.random()-1,i=2*this.random()-1,a=s*s+i*i;while(a>=1||a===0);const o=Math.sqrt(-2*Math.log(a)/a);e=this.mean+this.stdDev*s*o,n=this.mean+this.stdDev*i*o,(!this.truncated||this.isValidTruncated(e))&&(r=!0)}return(!this.truncated||this.isValidTruncated(n))&&(this.nextVal=this.convertValue(n)),this.convertValue(e)}convertValue(e){return this.dtype==null||this.dtype==="float32"?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}}class gSe{constructor(e,n,r,s){this.alpha=e,this.beta=1/n,this.dtype=r;const i=s||Math.random();this.randu=sN.alea(i.toString()),this.randn=new lL(0,1,r,!1,this.randu()),e<1?this.d=e+2/3:this.d=e-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let e,n,r,s,i,a;for(;;){do s=this.randn.nextValue(),a=1+this.c*s;while(a<=0);if(a*=a*a,e=s*s,n=1-.331*e*e,r=.5*e+this.d*(1-a+Math.log(a)),i=this.randu(),i<n||Math.log(i)<r)break}return a=1/this.beta*this.d*a,this.alpha<1&&(a*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(a)}convertValue(e){return this.dtype==="float32"?e:Math.round(e)}}class ySe{constructor(e=0,n=1,r,s){if(this.canReturnFloat=()=>this.dtype==null||this.dtype==="float32",this.min=e,this.range=n-e,this.dtype=r,s==null&&(s=Math.random()),typeof s=="number"&&(s=s.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${e} - ${n} <= 1 and dtype is not float`);this.random=sN.alea(s)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}function xSe(t,e,n=1,r="float32",s){if(Lc(t),n==null&&(n=1),r==null&&(r="float32"),r!=="float32"&&r!=="int32")throw new Error(`Unsupported data type ${r}`);const i=new gSe(e,n,r,s),a=cr(t,r);for(let o=0;o<a.values.length;o++)a.values[o]=i.nextValue();return a.toTensor()}const Lee=Ne({randomGamma_:xSe});function bSe(t,e=0,n=1,r,s){if(Lc(t),r!=null&&r==="bool")throw new Error(`Unsupported data type ${r}`);const i=new lL(e,n,r,!1,s),a=cr(t,r);for(let o=0;o<a.values.length;o++)a.values[o]=i.nextValue();return a.toTensor()}const iN=Ne({randomNormal_:bSe});function vSe(t,e,n){if(e!=null&&e==="bool")throw new Error(`Unsupported data type ${e}`);return iN(t,0,1,e,n)}const $ee=Ne({randomStandardNormal_:vSe});function wSe(t,e=0,n=1,r="float32",s){Lc(t);const i=cr(t,r),a=new ySe(e,n,null,s);for(let o=0;o<i.values.length;o++)i.values[o]=a.nextValue();return i.toTensor()}const Bm=Ne({randomUniform_:wSe});function SSe(t,e,n,r){return Bm(t,e,n,"int32",r)}const Pee=Ne({randomUniformInt_:SSe});function Jg(t,e,n=1,r="float32"){if(n===0)throw new Error("Cannot have a step of zero");const s={start:t,stop:e,step:n,dtype:r};return Ie.runKernel(SI,{},s)}function CSe(t){const n={input:fe(t,"input","real")};return Ie.runKernel(CI,n)}const x1=Ne({real_:CSe});function kSe(t){const n={x:fe(t,"x","reciprocal")};return Ie.runKernel(yx,n)}const cL=Ne({reciprocal_:kSe});function BSe(t){const n={x:fe(t,"x","relu")};return Ie.runKernel(xx,n)}const ff=Ne({relu_:BSe});function ESe(t){const n={x:fe(t,"x","relu6")};return Ie.runKernel(bx,n)}const aN=Ne({relu6_:ESe});function ISe(t,e){const r={x:fe(t,"x","reverse")},s={dims:e};return Ie.runKernel(o5,r,s)}const hu=Ne({reverse_:ISe});function NSe(t){const e=fe(t,"x","reverse");return ce(e.rank===1,()=>`Error in reverse1D: x must be rank 1 but got rank ${e.rank}.`),hu(e,0)}const Uee=Ne({reverse1d_:NSe});function jSe(t,e){const n=fe(t,"x","reverse");return ce(n.rank===2,()=>`Error in reverse2D: x must be rank 2 but got rank ${n.rank}.`),hu(n,e)}const zee=Ne({reverse2d_:jSe});function TSe(t,e){const n=fe(t,"x","reverse");return ce(n.rank===3,()=>`Error in reverse3D: x must be rank 3 but got rank ${n.rank}.`),hu(n,e)}const Mee=Ne({reverse3d_:TSe});function _Se(t,e){const n=fe(t,"x","reverse");return ce(n.rank===4,()=>`Error in reverse4D: x must be rank 4 but got rank ${n.rank}.`),hu(n,e)}const Qee=Ne({reverse4d_:_Se});function RSe(t){const n={x:fe(t,"x","round")};return Ie.runKernel(vx,n)}const oN=Ne({round_:RSe});function OSe(t){const n={x:fe(t,"x","rsqrt","float32")};return Ie.runKernel(wx,n)}const lN=Ne({rsqrt_:OSe});function FSe(t){const n={x:fe(t,"x","selu")};return Ie.runKernel(Sx,n)}const cN=Ne({selu_:FSe});function DSe(t,e,n,r,s,i=[1,1],a="NHWC"){const o=fe(t,"x","separableConv2d"),c=fe(e,"depthwiseFilter","separableConv2d"),u=fe(n,"pointwiseFilter","separableConv2d");let d=o,f=!1;if(o.rank===3&&(f=!0,d=Fe(o,[1,o.shape[0],o.shape[1],o.shape[2]])),a==="NCHW")throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");ce(d.rank===4,()=>`Error in separableConv2d: input must be rank 4, but got rank ${d.rank}.`),ce(c.rank===4,()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${c.rank}.`),ce(u.rank===4,()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${c.rank}.`),ce(u.shape[0]===1,()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${u.shape[0]}.`),ce(u.shape[1]===1,()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${u.shape[1]}.`);const h=c.shape[2],m=c.shape[3];ce(u.shape[2]===h*m,()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${h*m}, but got ${u.shape[2]}.`);const g=Lx(d,c,r,s,a,i),x=wh(g,u,1,"valid",a);return f?Fe(x,[x.shape[1],x.shape[2],x.shape[3]]):x}const uN=Ne({separableConv2d_:DSe});async function LSe(t,e){const n=fe(t,"x","setdiff1d"),r=fe(e,"y","setdiff1d");ce(n.dtype===r.dtype,()=>`x and y should have the same dtype, but got x (${n.dtype}) and y (${r.dtype}).`),ce(n.rank===1,()=>`x should be 1D tensor, but got x (${n.shape}).`),ce(r.rank===1,()=>`y should be 1D tensor, but got y (${r.shape}).`);const s=await n.data(),i=await r.data(),a=new Set(i);let o=0;for(let d=0;d<s.length;d++)a.has(s[d])||o++;const c=new Fa([o],n.dtype),u=new Fa([o],"int32");for(let d=0,f=0;d<s.length;d++)a.has(s[d])||(c.values[f]=s[d],u.values[f]=d,f++);return[c.toTensor(),u.toTensor()]}const Hee=LSe;function $Se(t){const n={x:fe(t,"x","sign")};return Ie.runKernel(Bx,n)}const uL=Ne({sign_:$Se});function PSe(t){const n={x:fe(t,"x","sin","float32")};return Ie.runKernel(Cx,n)}const dN=Ne({sin_:PSe});function USe(t){const n={x:fe(t,"x","sinh")};return Ie.runKernel(kx,n)}const fN=Ne({sinh_:USe});function zSe(t,e,n){const r=fe(t,"x","slice1d");return ce(r.rank===1,()=>`slice1d expects a rank-1 tensor, but got a rank-${r.rank} tensor`),Gn(r,[e],[n])}const O5=Ne({slice1d_:zSe});function MSe(t,e,n){const r=fe(t,"x","slice2d");return ce(r.rank===2,()=>`slice2d expects a rank-2 tensor, but got a rank-${r.rank} tensor`),Gn(r,e,n)}const AN=Ne({slice2d_:MSe});function QSe(t,e,n){const r=fe(t,"x","slice3d");return ce(r.rank===3,()=>`slice3d expects a rank-3 tensor, but got a rank-${r.rank} tensor`),Gn(r,e,n)}const F5=Ne({slice3d_:QSe});function HSe(t,e,n){const r=fe(t,"x","slice4d");return ce(r.rank===4,()=>`slice4d expects a rank-4 tensor, but got a rank-${r.rank} tensor`),Gn(r,e,n)}const b1=Ne({slice4d_:HSe});function WSe(t,e=-1){const n=fe(t,"logits","softmax","float32");if(e===-1&&(e=n.rank-1),e!==n.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and dim was ${e}`);const r={logits:n},s={dim:e};return Ie.runKernel(A5,r,s)}const D5=Ne({softmax_:WSe});function VSe(t){ce(t.dtype==="complex64",()=>`The dtype for tf.spectral.fft() must be complex64 but got ${t.dtype}.`);const e={input:t};return Ie.runKernel(iI,e)}const L5=Ne({fft_:VSe});function qSe(t){ce(t.dtype==="complex64",()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${t.dtype}.`);const e={input:t};return Ie.runKernel(cI,e)}const v1=Ne({ifft_:qSe});function GSe(t){const e=t.shape[t.shape.length-1],n=t.size/e;let r;if(e<=2){const s=Fe(t,[n,e]);r=v1(s)}else{const s=[n,2*(e-1)],i=Fe(x1(t),[n,e]),a=Fe(k5(t),[n,e]),o=hu(Gn(i,[0,1],[n,e-2]),1),c=je(hu(Gn(a,[0,1],[n,e-2]),1),Fn(-1)),u=Wi([i,o],1),d=Wi([a,c],1),f=Fe(vh(u,d),[s[0],s[1]]);r=v1(f)}if(r=x1(r),t.rank===3&&t.shape[0]!==0){const s=r,i=t.shape[0];r=Fe(r,[i,r.shape[0]/i,r.shape[1]]),s.dispose()}return r}const hN=Ne({irfft_:GSe});function KSe(t,e,n=0){const s={x:fe(t,"x","split")},i={numOrSizeSplits:e,axis:n};return Ie.runKernel(f5,s,i)}const Gl=Ne({split_:KSe});function XSe(t,e){ce(t.dtype==="float32",()=>`The dtype for rfft() must be real value but got ${t.dtype}`);let n=t.shape[t.shape.length-1];const r=t.size/n;let s;if(e!=null&&e<n){const g=t.shape.map(x=>0),y=t.shape.map(x=>x);y[t.shape.length-1]=e,s=Gn(t,g,y),n=e}else if(e!=null&&e>n){const g=t.shape.map(y=>y);g[t.shape.length-1]=e-n,s=Wi([t,Ra(g)],t.shape.length-1),n=e}else s=t;const i=Lr(s),a=Fe(vh(s,i),[r,n]),o=L5(a),c=Math.floor(n/2)+1,u=x1(o),d=k5(o),f=Gl(u,[c,n-c],u.shape.length-1),h=Gl(d,[c,n-c],d.shape.length-1),m=s.shape.slice();return m[s.shape.length-1]=c,Fe(vh(f[0],h[0]),m)}const $5=Ne({rfft_:XSe});function YSe(t,e){let n=fe(t,"a","squaredDifference"),r=fe(e,"b","squaredDifference");[n,r]=Vi(n,r),rr(n.shape,r.shape);const s={a:n,b:r},i={};return Ie.runKernel(jx,s,i)}const pN=Ne({squaredDifference_:YSe});function JSe(t,e){const n=fe(t,"x","squeeze","string_or_numeric");return Fe(n,Oh(n.shape,e).newShape)}const td=Ne({squeeze_:JSe});function ZSe(t,e=0){const n=C2(t,"tensors","stack","string_or_numeric");ce(n.length>=1,()=>"Pass at least one tensor to tf.stack"),n.length>0&&ce(e<=n[0].rank,()=>"Axis must be <= rank of the tensor");const r=n,s={axis:e};return Ie.runKernel(e5,r,s)}const Zl=Ne({stack_:ZSe});function eCe(t,e=0){const r={x:fe(t,"x","step")},s={alpha:e};return Ie.runKernel(Fx,r,s)}const S0=Ne({step_:eCe});function tCe(t,e,n,r,s=0,i=0,a=0,o=0,c=0){const d={x:fe(t,"x","stridedSlice","string_or_numeric")},f={begin:e,end:n,strides:r,beginMask:s,endMask:i,ellipsisMask:a,newAxisMask:o,shrinkAxisMask:c};return Ie.runKernel(DI,d,f)}const dL=Ne({stridedSlice_:tCe});function nCe(t){const n={x:fe(t,"x","tan","float32")};return Ie.runKernel(_x,n)}const fL=Ne({tan_:nCe});function Qa(t,e){g0(t);const n=aA(t,e);if(n.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");return wm(t,null,n,e)}function qp(t,e,n){if(g0(t),e!=null&&e.length!==2)throw new Error("tensor2d() requires shape to have two numbers");const r=aA(t,n);if(r.length!==2&&r.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return wm(t,e,r,n)}function AL(t,e,n){if(g0(t),e!=null&&e.length!==3)throw new Error("tensor3d() requires shape to have three numbers");const r=aA(t,n);if(r.length!==3&&r.length!==1)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return wm(t,e,r,n)}function Wee(t,e,n){if(g0(t),e!=null&&e.length!==4)throw new Error("tensor4d() requires shape to have four numbers");const r=aA(t,n);if(r.length!==4&&r.length!==1)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return wm(t,e,r,n)}function Vee(t,e,n){if(g0(t),e!=null&&e.length!==5)throw new Error("tensor5d() requires shape to have five numbers");const r=aA(t,n);if(r.length!==5&&r.length!==1)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return wm(t,e,r,n)}function qee(t,e,n){if(g0(t),e!=null&&e.length!==6)throw new Error("tensor6d() requires shape to have six numbers");const r=aA(t,n);if(r.length!==6&&r.length!==1)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return e=e||r,wm(t,e,r,n)}function hL(t,e,n){const r=e.rank>1?e.shape[e.rank-1]:1,s=e.rank>1?e.rank-1:1,i=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${n.shape}, indices.shape: ${e.shape}, shape: ${t}, sliceDim: ${r}, and batchDim: ${s}.`;if(n.rank<s)throw new Error(i+` update.rank < ${s}. `);if(t.length<r+(n.rank-s))throw new Error(i+` Output shape length < ${r+(n.rank-s)}`);if(n.rank!==s+t.length-r)throw new Error(i+` update.rank != ${s+t.length-r}`);for(let a=0;a<s;++a)if(n.shape[a]!==e.shape[a])throw new Error(i+` updates.shape[${a}] (${n.shape[a]}) != indices.shape[${a}] (${e.shape[a]}).`);for(let a=0;a<n.rank-s;++a)if(n.shape[a+s]!==t[a+r])throw new Error(i+` updates.shape[${a+s}] (${n.shape[a+s]}) != shape[${a+s}] (${t[a+s]})`)}function mN(t,e,n){if(e.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${e.rank}.`);if(t.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${t.rank}.`);if(e.dtype!=="int32")throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${e.dtype}`);if(n.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${n}`);if(n.length===0){if(e.size===0)throw new Error(`Indices specified for empty output. indices shape: ${e.shape}`);if(t.size===0)throw new Error(`Updates specified for empty output. updates shape: ${t.shape}`)}hL(n,e,t)}function Em(t,e,n){const r=e.shape.length,s=r>1?e.shape[r-1]:1,i=n.length;let a=1;for(let f=s;f<i;++f)a*=n[f];const o=s<1?1:s,c=it(e.shape)/o,u=[...Rn(n.slice(0,s)),1],d=it(n);return{sliceRank:s,numUpdates:c,sliceSize:a,strides:u,outputSize:d}}const rCe=Object.freeze(Object.defineProperty({__proto__:null,calculateShapes:Em,validateInput:mN,validateUpdateShape:hL},Symbol.toStringTag,{value:"Module"}));function sCe(t,e,n){const r=fe(t,"tensor","tensorScatterupdate"),s=fe(e,"indices","tensorScatterupdate","int32"),i=fe(n,"updates","tensorScatterupdate");if(mN(i,s,r.shape),r.dtype!==i.dtype)throw new Error(`tensor and updates must have the same dtype, instead they are ${r.dtype} and ${i.dtype}.`);const a={tensor:r,indices:s,updates:i},o={};return Ie.runKernel(II,a,o)}const Gee=Ne({tensorScatterUpdate_:sCe});function iCe(t,e=1,n=!0){const r=fe(t,"x","topk");if(r.rank===0)throw new Error("topk() expects the input to be of rank 1 or higher");const s=r.shape[r.shape.length-1];if(e<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${e}`);if(e>s)throw new Error(`'k' passed to topk() must be <= the last dimension (${s}) but got ${e}`);const i={x:r},a={k:e,sorted:n},[o,c]=Ie.runKernel(UI,i,a);return{values:o,indices:c}}const pL=Ne({topk_:iCe});function aCe(t,e=0,n=1,r,s){if(Lc(t),r!=null&&r==="bool")throw new Error("Unsupported data type $ { dtype }");const i=new lL(e,n,r,!0,s),a=cr(t,r);for(let o=0;o<a.values.length;o++)a.values[o]=i.nextValue();return a.toTensor()}const gN=Ne({truncatedNormal_:aCe});function oCe(t,e=0){const n=fe(t,"x","unique","string_or_numeric");ce(n.rank>0,()=>"The input tensor must be at least 1D");const r={x:n},s={axis:e},[i,a]=Ie.runKernel(MI,r,s);return{values:i,indices:a}}const mL=Ne({unique_:oCe});function lCe(t,e,n){const r=fe(t,"x","unsortedSegmentSum"),s=fe(e,"segmentIds","unsortedSegmentSum","int32");ce(Hg(n),()=>"numSegments must be of dtype int");const i={x:r,segmentIds:s},a={numSegments:n};return Ie.runKernel(m5,i,a)}const yN=Ne({unsortedSegmentSum_:lCe});function cCe(t,e=0){const n=fe(t,"x","unstack","string_or_numeric");ce(e>=-n.shape.length&&e<n.shape.length,()=>`Axis = ${e} is not in [-${n.shape.length}, ${n.shape.length})`);const r={value:n},s={axis:e};return Ie.runKernel(p5,r,s)}const pu=Ne({unstack_:cCe});function Kee(t,e){return rN(t,e,"right")}function gL(t,e=!0,n,r){return Ie.makeVariable(t,e,n,r)}function xN(t,e){const n=[];for(let i=0;i<e.length;i++)e[i]&&n.push(i);const r=cr(t,"int32"),s=cr([n.length,t.length],"int32");for(let i=0;i<n.length;i++){const a=r.indexToLoc(n[i]),o=i*t.length;s.values.set(a,o)}return s.toTensor()}async function uCe(t){const e=fe(t,"condition","whereAsync","bool"),n=await e.data(),r=xN(e.shape,n);return t!==e&&e.dispose(),r}const yL=uCe;async function dCe(t,e,n){const r=fe(t,"tensor","boolMask"),s=fe(e,"mask","boolMask","bool"),i=n??0,a=s.rank,o=r.shape;ce(a>0,()=>"mask cannot be scalar"),zo(o.slice(i,i+a),s.shape,"mask's shape must match the first K dimensions of tensor's shape,");let c=1;for(let y=i;y<i+a;y++)c*=o[y];const u=o.slice(0,i).concat([c],o.slice(i+a)),d=Fe(r,u),f=Fe(s,[-1]),h=await yL(f),m=td(h,[1]),g=zx(d,m,i);return t!==r&&r.dispose(),e!==s&&s.dispose(),m.dispose(),d.dispose(),f.dispose(),h.dispose(),g}const Xee=dCe;function fCe(t,e,n){const r=fe(t,"x","transpose");if(e==null&&(e=r.shape.map((a,o)=>o).reverse()),ce(r.rank===e.length,()=>`Error in transpose: rank of input ${r.rank} must match length of perm ${e}.`),e.forEach(a=>{ce(a>=0&&a<r.rank,()=>`All entries in 'perm' must be between 0 and ${r.rank-1} but got ${e}`)}),r.rank<=1)return r.clone();const s={x:r},i={perm:e};return r.dtype==="complex64"?He(()=>{let a=x1(r),o=k5(r);return a=Ie.runKernel(Eg,{x:a},i),o=Ie.runKernel(Eg,{x:o},i),n&&(o=Zs(o)),vh(a,o)}):Ie.runKernel(Eg,s,i)}const Br=Ne({transpose_:fCe});function ACe(t,e,n,r,s=!0){const i=fe(t,"v","movingAverage"),a=fe(e,"x","movingAverage"),o=fe(n,"decay","movingAverage");VZ(i,a),ce(vr(i.shape,a.shape),()=>"Shape mismatch in v and x");const c=Fn(1),u=Kt(c,o);let d=je(Kt(a,i),u);if(s){ce(r!=null,()=>"When using zeroDebias: true, step is required.");const f=fe(r,"step","movingAverage");d=un(d,Kt(c,oA(o,f)))}return jt(i,d)}const Yee=Ne({movingAverage_:ACe});function hCe(t,e,n){Lc(n);const r=fe(t,"indices","scatterND","int32"),s=fe(e,"updates","scatterND");mN(s,r,n);const i={indices:r,updates:s},a={shape:n};return Ie.runKernel(EI,i,a)}const Jee=Ne({scatterND_:hCe});function pCe(t,e,n,r){if(t.dtype!=="int32")throw new Error(`tf.sparseToDense() expects the indices to be int32 type, but the dtype was ${t.dtype}.`);if(t.rank>2)throw new Error(`sparseIndices should be a scalar, vector, or matrix, but got shape ${t.shape}.`);const s=t.rank>0?t.shape[0]:1,i=t.rank>1?t.shape[1]:1;if(n.length!==i)throw new Error(`outputShape has incorrect number of elements:, ${n.length}, should be: ${i}.`);const a=e.size;if(!(e.rank===0||e.rank===1&&a===s))throw new Error(`sparseValues has incorrect shape ${e.shape}, should be [] or [${s}]`);if(e.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}function mCe(t,e,n,r=0){Lc(n);const s=fe(t,"sparseIndices","sparseToDense","int32"),i=fe(e,"sparseValues","sparseToDense","string_or_numeric"),a=fe(r,"defaultValue","sparseToDense",i.dtype);pCe(s,i,n,a);const o={sparseIndices:s,sparseValues:i,defaultValue:a},c={outputShape:n};return Ie.runKernel(OI,o,c)}const Zee=Ne({sparseToDense_:mCe});function gCe(t,e){const n=fe(e,"indices","gatherND","int32"),s={params:fe(t,"x","gatherND","string_or_numeric"),indices:n};return Ie.runKernel(lI,s)}const ete=Ne({gatherND_:gCe});function yCe(t,e){if(e==null)return t.shape.slice();if(vr(t.shape,e))return e;if(t.shape.length===e.length){const n=[];for(let r=0;r<t.shape.length;r++)e[r]==null&&t.shape[r]!=null?n.push(t.shape[r]):n.push(e[r]);return n}return e}function xCe(t,e,n,r){const s=fe(t,"x","dropout");if(ce(s.dtype==="float32",()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${s.dtype} tensor instead.`),ce(e>=0&&e<1,()=>`rate must be a float in the range [0, 1), but got ${e}.`),e===0)return t instanceof Fr?s.clone():s;const i=yCe(s,n),a=1-e,o=un(Ux(jt(Bm(i,0,1,"float32",r),a)),a);return je(s,o)}const xL=Ne({dropout_:xCe});function bL(t){return Math.floor(Math.pow(2,Math.ceil(Math.log(t)/Math.log(2))))}function bN(t,e,n){const r=1-t%2,s=new Float32Array(t);for(let i=0;i<t;++i){const a=2*Math.PI*i/(t+r-1);s[i]=e-n*Math.cos(a)}return Qa(s,"float32")}async function bCe(t,e,n=1){const r=fe(t,"predictions","inTopK"),s=fe(e,"targets","inTopK");ce(r.rank>1,()=>`inTopK() expects the predictions to be of rank 2 or higher, but got ${r.rank}`),ce(r.rank-1===s.rank,()=>`predictions rank should be 1 larger than targets rank, but got predictions rank ${r.rank} and targets rank ${s.rank}`),zo(r.shape.slice(0,r.shape.length-1),s.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");const i=r.shape[r.shape.length-1];ce(n>0&&n<=i,()=>`'k' passed to inTopK() must be > 0 && <= the predictions last dimension (${i}), but got ${n}`);const a=await r.data(),o=await s.data(),[c,u]=[a.length/i,i],d=ho("bool",c);for(let f=0;f<c;f++){const h=f*u,m=a.subarray(h,h+u),g=[];for(let y=0;y<m.length;y++)g.push({value:m[y],index:y});g.sort((y,x)=>x.value-y.value),d[f]=0;for(let y=0;y<n;y++)if(g[y].index===o[f]){d[f]=1;break}}return t!==r&&r.dispose(),e!==s&&s.dispose(),Zu(d,s.shape,"bool")}const tte=bCe;function vCe(t,e,n,r,s,i="NHWC",a){let o=t;t.rank===3&&(o=Fe(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let c=e;c.rank===3&&(c=Fe(e,[1,e.shape[0],e.shape[1],e.shape[2]])),ce(o.rank===4,()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${o.shape}.`),ce(c.rank===4,()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${c.shape}.`),ce(n.length===4,()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${n}.`);const u=i==="NHWC"?o.shape[3]:o.shape[1],d=i==="NHWC"?c.shape[3]:c.shape[1];ce(u===n[2],()=>`Error in conv2dDerFilter: depth of input ${u}) must match input depth in filter (${n[2]}.`),ce(d===n[3],()=>`Error in conv2dDerFilter: depth of dy (${d}) must match output depth for filter (${n[3]}).`),Rl("conv2dDerFilter",s,a);const f={x:o,dy:c},h={strides:r,pad:s,dataFormat:i,dimRoundingMode:a,filterShape:n};return Ie.runKernel(VE,f,h)}const vL=Ne({conv2DBackpropFilter_:vCe});function vN(t,e,n){if(n==null||n==="linear")return t;if(n==="relu")return je(t,S0(e));throw new Error(`Cannot compute gradient for fused activation ${n}.`)}function wN(t,e){let n=e;const r=Da(t.shape,e.shape);return r.length>0&&(n=hn(n,r)),Fe(n,t.shape)}function SN(t,e,n,r){if(e==="linear")return t;if(e==="relu")return ff(t);if(e==="elu")return $x(t);if(e==="relu6")return aN(t);if(e==="prelu")return R5(t,n);if(e==="leakyrelu")return B5(t,r);if(e==="sigmoid")return ed(t);throw new Error(`Unknown fused activation ${e}.`)}const CN=(t,e)=>!(t>0)||e==="linear";function wCe({x:t,filter:e,strides:n,pad:r,dataFormat:s="NHWC",dilations:i=[1,1],dimRoundingMode:a,bias:o,activation:c="linear",preluActivationWeights:u,leakyreluAlpha:d}){if(c=c||"linear",CN(Ie.state.gradientDepth,c)===!1){ce(s==="NHWC",()=>`Error in fused conv2d: got dataFormat of ${s} but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.`);let N=wh(t,e,n,r,s,i,a);return o!=null&&(N=jt(N,o)),SN(N,c,u,d)}const f=fe(t,"x","conv2d","float32"),h=fe(e,"filter","conv2d","float32");let m=f,g=!1;f.rank===3&&(g=!0,m=Fe(f,[1,f.shape[0],f.shape[1],f.shape[2]])),ce(m.rank===4,()=>`Error in fused conv2d: input must be rank 4, but got rank ${m.rank}.`),ce(h.rank===4,()=>`Error in fused conv2d: filter must be rank 4, but got rank ${h.rank}.`),Rl("fused conv2d",r,a);const y=s==="NHWC"?m.shape[3]:m.shape[1];ce(h.shape[2]===y,()=>`Error in conv2d: depth of input (${y}) must match input depth for filter ${h.shape[2]}.`),ce(Mo(n,i),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`);const x=mo(m.shape,h.shape,n,i,r,a);let v;o!=null&&(v=fe(o,"bias","fused conv2d"),[v]=Vi(v,f),s==="NHWC"?rr(x.outShape,v.shape):(ce(v.shape.length<=1,()=>`Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of rank-${v.shape.length}.`),ce(v.shape.length===0||v.shape[0]===x.outChannels||v.shape[0]===1,()=>`Error in fused conv2d: bias shape (${v.shape}) is not compatible with the number of output channels (${x.outChannels})`)));let w;if(u!=null){const N=u.shape;if(ce(N.length<=1||N.length===3,()=>`Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of rank-${N.length}.`),N.length===1)ce(N[0]===1||N[0]===x.outChannels,()=>`Error in fused conv2d: PReLU activation weights (${N}) is not compatible with the number of output channels (${x.outChannels}).`);else if(N.length===3)try{rr(N,x.outShape)}catch{const F=`Error in fused conv2d: PReLU activation weights (${N}) is not compatible with the output shape of the conv2d (${x.outShape}).`;throw Error(F)}w=fe(u,"prelu weights","fused conv2d")}const B=(N,O)=>{ce(s==="NHWC",()=>`Error in gradient of fused conv2D: got dataFormat of ${s} but only NHWC is currently supported.`);const[F,D,T,j]=O,P=vN(N,T,c);ce(am(i),()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${i}'`);const U=PD(D.shape,P,F,n,r),z=vL(D,P,F.shape,n,r),ee=[U,z];if(j!=null){const q=wN(j,P);ee.push(q)}return ee},k={x:m,filter:h,bias:v,preluActivationWeights:w},E={strides:n,pad:r,dataFormat:s,dilations:i,dimRoundingMode:a,activation:c,leakyreluAlpha:d};return o==null?lA((O,F,D)=>{let T=Ie.runKernel(x2,k,E);return D([F,O,T]),g&&(T=Fe(T,[T.shape[1],T.shape[2],T.shape[3]])),{value:T,gradFunc:B}})(m,h):lA((O,F,D,T)=>{let j=Ie.runKernel(x2,k,E);return T([F,O,j,D]),g&&(j=Fe(j,[j.shape[1],j.shape[2],j.shape[3]])),{value:j,gradFunc:B}})(m,h,v)}const nte=Ne({fusedConv2d_:wCe});function SCe(t,e,n,r,s,i=[1,1],a){let o=t;t.rank===3&&(o=Fe(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let c=e;c.rank===3&&(c=Fe(e,[1,e.shape[0],e.shape[1],e.shape[2]]));const u={x:o,dy:c},d={strides:r,pad:s,dimRoundingMode:a,dilations:i,filterShape:n};return Ie.runKernel(ZE,u,d)}const rte=Ne({depthwiseConv2dNativeBackpropFilter_:SCe});function CCe(t,e,n,r,s,i=[1,1],a){let o=e,c=!1;e.rank===3&&(c=!0,o=Fe(e,[1,e.shape[0],e.shape[1],e.shape[2]]));const u={dy:o,filter:n},d={strides:r,pad:s,dimRoundingMode:a,dilations:i,inputShape:t},f=Ie.runKernel(eI,u,d);return c?Fe(f,[f.shape[1],f.shape[2],f.shape[3]]):f}const ste=Ne({depthwiseConv2dNativeBackpropInput_:CCe});function kCe({x:t,filter:e,strides:n,pad:r,dataFormat:s="NHWC",dilations:i=[1,1],dimRoundingMode:a,bias:o,activation:c="linear",preluActivationWeights:u,leakyreluAlpha:d}){if(CN(Ie.state.gradientDepth,c)===!1){let E=Lx(t,e,n,r,s,i,a);return o!=null&&(E=jt(E,o)),SN(E,c,u,d)}const f=fe(t,"x","depthwiseConv2d","float32"),h=fe(e,"filter","depthwiseConv2d","float32");let m=f,g=!1;f.rank===3&&(g=!0,m=Fe(f,[1,f.shape[0],f.shape[1],f.shape[2]])),ce(m.rank===4,()=>`Error in fused depthwiseConv2d: input must be rank 4, but got rank ${m.rank}.`),ce(h.rank===4,()=>`Error in fused depthwiseConv2d: filter must be rank 4, but got rank ${h.rank}.`),ce(m.shape[3]===h.shape[2],()=>`Error in fused depthwiseConv2d: number of input channels (${m.shape[3]}) must match the inChannels dimension in filter ${h.shape[2]}.`),i==null&&(i=[1,1]),ce(Mo(n,i),()=>`Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`),Rl("fused depthwiseConv2d",r,a);const y=mo(m.shape,h.shape,n,i,r,a,!0);let x;o!=null&&(x=fe(o,"bias","fused conv2d"),[x]=Vi(x,f),rr(y.outShape,x.shape));let v;u!=null&&(v=fe(u,"prelu weights","fused depthwiseConv2d"));const w=(E,N)=>{ce(am(i),()=>`Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '${i}'`);const[O,F,D,T]=N,j=vN(E,D,c),P=ste(F.shape,j,O,n,r,i,a),U=rte(F,j,O.shape,n,r,i,a);if(T!=null){const z=wN(x,j);return[P,U,z]}return[P,U]},B={x:m,filter:h,bias:x,preluActivationWeights:v},k={strides:n,pad:r,dataFormat:s,dilations:i,dimRoundingMode:a,activation:c,leakyreluAlpha:d};return o==null?lA((N,O,F)=>{let D=Ie.runKernel(b2,B,k);return F([O,N,D]),g&&(D=Fe(D,[D.shape[1],D.shape[2],D.shape[3]])),{value:D,gradFunc:w}})(m,h):lA((N,O,F,D)=>{let T=Ie.runKernel(b2,B,k);return D([O,N,T,F]),g&&(T=Fe(T,[T.shape[1],T.shape[2],T.shape[3]])),{value:T,gradFunc:w}})(m,h,x)}const BCe=Ne({fusedDepthwiseConv2d_:kCe});function ECe({a:t,b:e,transposeA:n=!1,transposeB:r=!1,bias:s,activation:i="linear",preluActivationWeights:a,leakyreluAlpha:o=.2}){if(CN(Ie.state.gradientDepth,i)===!1){let j=fr(t,e,n,r);return s!=null&&(j=jt(j,s)),SN(j,i,a,o)}let c=fe(t,"a","fused matMul"),u=fe(e,"b","fused matMul");[c,u]=Vi(c,u);const d=n?c.shape[c.rank-2]:c.shape[c.rank-1],f=r?u.shape[u.rank-1]:u.shape[u.rank-2],h=n?c.shape[c.rank-1]:c.shape[c.rank-2],m=r?u.shape[u.rank-2]:u.shape[u.rank-1],g=c.shape.slice(0,-2),y=u.shape.slice(0,-2),x=it(g),v=it(y);ce(d===f,()=>`Error in fused matMul: inner shapes (${d}) and (${f}) of Tensors with shapes ${c.shape} and ${u.shape} and transposeA=${n} and transposeB=${r} must match.`);const B=rr(c.shape.slice(0,-2),u.shape.slice(0,-2)).concat([h,m]),k=n?Fe(c,[x,d,h]):Fe(c,[x,h,d]),E=r?Fe(u,[v,m,f]):Fe(u,[v,f,m]);let N;s!=null&&(N=fe(s,"bias","fused matMul"),[N]=Vi(N,c),rr(B,N.shape));let O;a!=null&&(O=fe(a,"prelu weights","fused matMul"));const F=(j,P)=>{const[U,z,ee,q]=P,Z=vN(Fe(j,ee.shape),ee,i);let G,ne;if(!n&&!r?(G=fr(Z,z,!1,!0),ne=fr(U,Z,!0,!1)):!n&&r?(G=fr(Z,z,!1,!1),ne=fr(Z,U,!0,!1)):n&&!r?(G=fr(z,Z,!1,!0),ne=fr(U,Z,!1,!1)):(G=fr(z,Z,!0,!0),ne=fr(Z,U,!0,!0)),s!=null){const K=wN(q,Z);return[G,ne,K]}else return[G,ne]},D={a:k,b:E,bias:N,preluActivationWeights:O},T={transposeA:n,transposeB:r,activation:i,leakyreluAlpha:o};return s==null?lA((P,U,z)=>{const ee=Ie.runKernel(y2,D,T);return z([P,U,ee]),{value:Fe(ee,B),gradFunc:F}})(k,E):lA((P,U,z,ee)=>{const q=Ie.runKernel(y2,D,T);return ee([P,U,q,z]),{value:Fe(q,B),gradFunc:F}})(k,E,N)}const mO=Ne({fusedMatMul_:ECe});const ite=Object.freeze(Object.defineProperty({__proto__:null,conv2d:nte,depthwiseConv2d:BCe,matMul:mO},Symbol.toStringTag,{value:"Module"}));function ICe(t){return bN(t,.54,.46)}const NCe=Ne({hammingWindow_:ICe});function jCe(t){return bN(t,.5,.5)}const ate=Ne({hannWindow_:jCe});function TCe(t,e,n,r=!1,s=0){let i=0;const a=[];for(;i+e<=t.size;)a.push(Gn(t,i,e)),i+=n;if(r)for(;i<t.size;){const o=i+e-t.size,c=Wi([Gn(t,i,e-o),v0([o],s)]);a.push(c),i+=n}return a.length===0?qp([],[0,e]):Fe(Wi(a),[a.length,e])}const ote=Ne({frame_:TCe});function _Ce(t,e,n,r,s=ate){r==null&&(r=bL(e));const i=ote(t,e,n),a=je(i,s(e));return $5(a,r)}const RCe=Ne({stft_:_Ce});function OCe(t,e,n,r,s="bilinear",i=0){const a=fe(t,"image","cropAndResize"),o=fe(e,"boxes","cropAndResize","float32"),c=fe(n,"boxInd","cropAndResize","int32"),u=o.shape[0];ce(a.rank===4,()=>`Error in cropAndResize: image must be rank 4,but got rank ${a.rank}.`),ce(o.rank===2&&o.shape[1]===4,()=>`Error in cropAndResize: boxes must be have size [${u},4] but had shape ${o.shape}.`),ce(c.rank===1&&c.shape[0]===u,()=>`Error in cropAndResize: boxInd must be have size [${u}] but had shape ${o.shape}.`),ce(r.length===2,()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${r.length}.`),ce(r[0]>=1&&r[1]>=1,()=>`cropSize must be atleast [1,1], but was ${r}`),ce(s==="bilinear"||s==="nearest",()=>`method must be bilinear or nearest, but was ${s}`);const d={image:a,boxes:o,boxInd:c},f={method:s,extrapolationValue:i,cropSize:r};return Ie.runKernel(XE,d,f)}const FCe=Ne({cropAndResize_:OCe});function DCe(t){const e=fe(t,"image","flipLeftRight","float32");ce(e.rank===4,()=>`Error in flipLeftRight: image must be rank 4,but got rank ${e.rank}.`);const n={image:e};return Ie.runKernel(oI,n,{})}const LCe=Ne({flipLeftRight_:DCe});function $Ce(t){const e=fe(t,"image","grayscaleToRGB"),n=e.rank-1,r=e.shape[n];ce(e.rank>=2,()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${e.rank}.`),ce(r===1,()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${r}.`);const s=new Array(e.rank);return s.fill(1,0,n),s[n]=3,au(e,s)}const PCe=Ne({grayscaleToRGB_:$Ce});function UCe(t){const e=fe(t,"image","RGBToGrayscale"),n=e.rank-1,r=e.shape[n];ce(e.rank>=2,()=>`Error in RGBToGrayscale: images must be at least rank 2, but got rank ${e.rank}.`),ce(r===3,()=>`Error in RGBToGrayscale: last dimension of an RGB image should be size 3, but got size ${r}.`);const s=e.dtype,i=Mt(e,"float32"),a=Qa([.2989,.587,.114]);let o;switch(e.rank){case 2:o=cg("ij,j->i",i,a);break;case 3:o=cg("ijk,k->ij",i,a);break;case 4:o=cg("ijkl,l->ijk",i,a);break;case 5:o=cg("ijklm,m->ijkl",i,a);break;case 6:o=cg("ijklmn,n->ijklm",i,a);break;default:throw new Error("Not a valid tensor rank.")}return o=Oo(o,-1),Mt(o,s)}const zCe=Ne({rgbToGrayscale_:UCe});function MCe(t,e,n=0,r=.5){const s=fe(t,"image","rotateWithOffset","float32");ce(s.rank===4,()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${s.rank}.`);const i={image:s},a={radians:e,fillValue:n,center:r};return Ie.runKernel(QI,i,a)}const QCe=Ne({rotateWithOffset_:MCe});function Mx(t,e,n,r,s,i){r==null&&(r=.5),s==null&&(s=Number.NEGATIVE_INFINITY),i==null&&(i=0);const a=t.shape[0];return n=Math.min(n,a),ce(0<=r&&r<=1,()=>`iouThreshold must be in [0, 1], but was '${r}'`),ce(t.rank===2,()=>`boxes must be a 2D tensor, but was of rank '${t.rank}'`),ce(t.shape[1]===4,()=>`boxes must have 4 columns, but 2nd dimension was ${t.shape[1]}`),ce(e.rank===1,()=>"scores must be a 1D tensor"),ce(e.shape[0]===a,()=>`scores has incompatible shape with boxes. Expected ${a}, but was ${e.shape[0]}`),ce(0<=i&&i<=1,()=>`softNmsSigma must be in [0, 1], but was '${i}'`),{maxOutputSize:n,iouThreshold:r,scoreThreshold:s,softNmsSigma:i}}function HCe(t,e,n,r=.5,s=Number.NEGATIVE_INFINITY){const i=fe(t,"boxes","nonMaxSuppression","float32"),a=fe(e,"scores","nonMaxSuppression","float32"),o=Mx(i,a,n,r,s);n=o.maxOutputSize,r=o.iouThreshold,s=o.scoreThreshold;const c={maxOutputSize:n,iouThreshold:r,scoreThreshold:s};return Ie.runKernel(gI,{boxes:i,scores:a},c)}const WCe=Ne({nonMaxSuppression_:HCe});function VCe(t,e,n){const r=qCe(t,e,n),s=r<0?-(r+1):r;t.splice(s,0,e)}function qCe(t,e,n){return KCe(t,e,n||GCe)}function GCe(t,e){return t>e?1:t<e?-1:0}function KCe(t,e,n){let r=0,s=t.length,i=0,a=!1;for(;r<s;){i=r+(s-r>>>1);const o=n(e,t[i]);o>0?r=i+1:(s=i,a=!o)}return a?r:-r-1}function kN(t,e,n,r,s){return wL(t,e,n,r,s,0)}function BN(t,e,n,r,s,i){return wL(t,e,n,r,s,0,!1,i,!0)}function EN(t,e,n,r,s,i){return wL(t,e,n,r,s,i,!0)}function wL(t,e,n,r,s,i,a=!1,o=!1,c=!1){const u=[];for(let x=0;x<e.length;x++)e[x]>s&&u.push({score:e[x],boxIndex:x,suppressBeginIndex:0});u.sort(VQ);const d=i>0?-.5/i:0,f=[],h=[];for(;f.length<n&&u.length>0;){const x=u.pop(),{score:v,boxIndex:w,suppressBeginIndex:B}=x;if(v<s)break;let k=!1;for(let E=f.length-1;E>=B;--E){const N=XCe(t,w,f[E]);if(N>=r){k=!0;break}if(x.score=x.score*YCe(r,d,N),x.score<=s)break}x.suppressBeginIndex=f.length,k||(x.score===v?(f.push(w),h.push(x.score)):x.score>s&&VCe(u,x,VQ))}const m=f.length,g=n-m;o&&g>0&&(f.push(...new Array(g).fill(0)),h.push(...new Array(g).fill(0)));const y={selectedIndices:f};return a&&(y.selectedScores=h),c&&(y.validOutputs=m),y}function XCe(t,e,n){const r=t.subarray(e*4,e*4+4),s=t.subarray(n*4,n*4+4),i=Math.min(r[0],r[2]),a=Math.min(r[1],r[3]),o=Math.max(r[0],r[2]),c=Math.max(r[1],r[3]),u=Math.min(s[0],s[2]),d=Math.min(s[1],s[3]),f=Math.max(s[0],s[2]),h=Math.max(s[1],s[3]),m=(o-i)*(c-a),g=(f-u)*(h-d);if(m<=0||g<=0)return 0;const y=Math.max(i,u),x=Math.max(a,d),v=Math.min(o,f),w=Math.min(c,h),B=Math.max(v-y,0)*Math.max(w-x,0);return B/(m+g-B)}function YCe(t,e,n){const r=Math.exp(e*n*n);return n<=t?r:0}function VQ(t,e){return t.score-e.score||t.score===e.score&&e.boxIndex-t.boxIndex}async function JCe(t,e,n,r=.5,s=Number.NEGATIVE_INFINITY){const i=fe(t,"boxes","nonMaxSuppressionAsync"),a=fe(e,"scores","nonMaxSuppressionAsync"),o=Mx(i,a,n,r,s);n=o.maxOutputSize,r=o.iouThreshold,s=o.scoreThreshold;const c=await Promise.all([i.data(),a.data()]),u=c[0],d=c[1],{selectedIndices:f}=kN(u,d,n,r,s);return i!==t&&i.dispose(),a!==e&&a.dispose(),Qa(f,"int32")}const ZCe=JCe;function eke(t,e,n,r=.5,s=Number.NEGATIVE_INFINITY,i=0){const a=fe(t,"boxes","nonMaxSuppression"),o=fe(e,"scores","nonMaxSuppression"),c=Mx(a,o,n,r,s,i);n=c.maxOutputSize,r=c.iouThreshold,s=c.scoreThreshold,i=c.softNmsSigma;const u={boxes:a,scores:o},d={maxOutputSize:n,iouThreshold:r,scoreThreshold:s,softNmsSigma:i},f=Ie.runKernel(xI,u,d);return{selectedIndices:f[0],selectedScores:f[1]}}const tke=Ne({nonMaxSuppressionWithScore_:eke});async function nke(t,e,n,r=.5,s=Number.NEGATIVE_INFINITY,i=0){const a=fe(t,"boxes","nonMaxSuppressionAsync"),o=fe(e,"scores","nonMaxSuppressionAsync"),c=Mx(a,o,n,r,s,i);n=c.maxOutputSize,r=c.iouThreshold,s=c.scoreThreshold,i=c.softNmsSigma;const u=await Promise.all([a.data(),o.data()]),d=u[0],f=u[1],{selectedIndices:h,selectedScores:m}=EN(d,f,n,r,s,i);return a!==t&&a.dispose(),o!==e&&o.dispose(),{selectedIndices:Qa(h,"int32"),selectedScores:Qa(m)}}const rke=nke;function ske(t,e,n,r=.5,s=Number.NEGATIVE_INFINITY,i=!1){const a=fe(t,"boxes","nonMaxSuppression"),o=fe(e,"scores","nonMaxSuppression"),c=Mx(a,o,n,r,s,null),u=c.maxOutputSize,d=c.iouThreshold,f=c.scoreThreshold,h={boxes:a,scores:o},m={maxOutputSize:u,iouThreshold:d,scoreThreshold:f,padToMaxOutputSize:i},g=Ie.runKernel(yI,h,m);return{selectedIndices:g[0],validOutputs:g[1]}}const ike=Ne({nonMaxSuppressionPadded_:ske});async function ake(t,e,n,r=.5,s=Number.NEGATIVE_INFINITY,i=!1){const a=fe(t,"boxes","nonMaxSuppressionAsync"),o=fe(e,"scores","nonMaxSuppressionAsync"),c=Mx(a,o,n,r,s,null),u=c.maxOutputSize,d=c.iouThreshold,f=c.scoreThreshold,[h,m]=await Promise.all([a.data(),o.data()]),{selectedIndices:g,validOutputs:y}=BN(h,m,u,d,f,i);return a!==t&&a.dispose(),o!==e&&o.dispose(),{selectedIndices:Qa(g,"int32"),validOutputs:Fn(y,"int32")}}const oke=ake;function lke(t,e,n=!1,r=!1){const s=fe(t,"images","resizeBilinear");ce(s.rank===3||s.rank===4,()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${s.rank}.`),ce(e.length===2,()=>`Error in resizeBilinear: new shape must 2D, but got shape ${e}.`),ce(r===!1||n===!1,()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false.");let i=s,a=!1;s.rank===3&&(a=!0,i=Fe(s,[1,s.shape[0],s.shape[1],s.shape[2]]));const o={images:i},c={alignCorners:n,halfPixelCenters:r,size:e},u=Ie.runKernel(a5,o,c);return a?Fe(u,[u.shape[1],u.shape[2],u.shape[3]]):u}const lte=Ne({resizeBilinear_:lke});function cke(t,e,n=!1,r=!1){const s=fe(t,"images","resizeNearestNeighbor");ce(s.rank===3||s.rank===4,()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${s.rank}.`),ce(e.length===2,()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${e}.`),ce(s.dtype==="float32"||s.dtype==="int32",()=>"`images` must have `int32` or `float32` as dtype"),ce(r===!1||n===!1,()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false.");let i=s,a=!1;s.rank===3&&(a=!0,i=Fe(s,[1,s.shape[0],s.shape[1],s.shape[2]]));const o={images:i},c={alignCorners:n,halfPixelCenters:r,size:e},u=Ie.runKernel(i5,o,c);return a?Fe(u,[u.shape[1],u.shape[2],u.shape[3]]):u}const cte=Ne({resizeNearestNeighbor_:cke});function uke(t,e="binary",n=!1,r=.5){const s=fe(t,"image","threshold"),i=.2989,a=.587,o=.114,c=s.shape[0]*s.shape[1];let u=je(Qa([r]),255),d,f,h,m;if(ce(s.rank===3,()=>`Error in threshold: image must be rank 3,but got rank ${s.rank}.`),ce(s.shape[2]===3||s.shape[2]===1,()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${s.shape[2]}.`),ce(s.dtype==="int32"||s.dtype==="float32",()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${s.dtype}.`),ce(e==="otsu"||e==="binary",()=>`Method must be binary or otsu, but was ${e}`),s.shape[2]===3){[d,f,h]=Gl(s,[1,1,1],-1);const x=je(d,i),v=je(f,a),w=je(h,o);m=jt(jt(x,v),w)}else m=t;if(e==="otsu"){const x=OD(Mt(oN(m),"int32"),Zu([]),256);u=dke(x,c)}const g=n?km(m,u):rc(m,u);return Mt(je(g,255),"int32")}function dke(t,e){let n=Qa([-1]),r=Qa([0]),s=Qa([0]),i,a,o,c,u,d;for(let f=0;f<t.size-1;f++){i=Gn(t,0,f+1),a=Gn(t,f+1),u=un(hn(i),e),d=un(hn(a),e);const h=hn(je(i,Jg(0,i.size)));o=un(h,hn(i));const m=v0(a.shape,i.size),g=jt(Jg(0,a.size),m),y=je(a,g);c=un(hn(y),hn(a));const x=Kt(o,c),v=Kt(o,c),w=je(u,d);s=je(je(w,x),v);const B=rc(s,r);r=$o(B,s,r),n=$o(B,Qa([f]),n)}return n}const fke=Ne({threshold_:uke});function Ake(t,e,n="nearest",r="constant",s=0,i){const a=fe(t,"image","transform","float32"),o=fe(e,"transforms","transform","float32");ce(a.rank===4,()=>`Error in transform: image must be rank 4,but got rank ${a.rank}.`),ce(o.rank===2&&(o.shape[0]===a.shape[0]||o.shape[0]===1)&&o.shape[1]===8,()=>"Error in transform: Input transform should be batch x 8 or 1 x 8"),ce(i==null||i.length===2,()=>`Error in transform: outputShape must be [height, width] or null, but got ${i}.`);const c={image:a,transforms:o},u={interpolation:n,fillMode:r,fillValue:s,outputShape:i};return Ie.runKernel(zI,c,u)}const hke=Ne({transform_:Ake});function pke(t,e,n){const r=fe(t,"a","bandPart");ce(r.rank>=2,()=>`bandPart(): Rank must be at least 2, got ${r.rank}.`);const s=r.shape,[i,a]=r.shape.slice(-2);let o,c;typeof e=="number"?(ce(e%1===0,()=>`bandPart(): numLower must be an integer, got ${e}.`),ce(e<=i,()=>`bandPart(): numLower (${e}) must not be greater than the number of rows (${i}).`),o=fe(e<0?i:e,"numLower","bandPart")):(ce(e.dtype==="int32",()=>"bandPart(): numLower's dtype must be an int32."),o=$o(g1(e,0),i,lm(e,i))),typeof n=="number"?(ce(n%1===0,()=>`bandPart(): numUpper must be an integer, got ${n}.`),ce(n<=a,()=>`bandPart(): numUpper (${n}) must not be greater than the number of columns (${a}).`),c=fe(n<0?a:n,"numUpper","bandPart")):(ce(n.dtype==="int32",()=>"bandPart(): numUpper's dtype must be an int32."),c=$o(g1(n,0),a,lm(n,a)));const u=Fe(Jg(0,i,1,"int32"),[-1,1]),d=Jg(0,a,1,"int32"),f=Kt(u,d),h=tf(km(f,o),$h(f,Zs(c))),m=Ra([i,a],r.dtype);return Fe(Zl(pu(Fe(r,[-1,i,a])).map(g=>$o(h,g,m))),s)}const mke=Ne({bandPart_:pke});function gke(t){let e;if(Array.isArray(t)){e=!1,ce(t!=null&&t.length>0,()=>"Gram-Schmidt process: input must not be null, undefined, or empty");const s=t[0].shape[0];for(let i=1;i<t.length;++i)ce(t[i].shape[0]===s,()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${t[i].shape[0]} vs. ${s})`)}else e=!0,t=Gl(t,t.shape[0],0).map(s=>td(s,[0]));ce(t.length<=t[0].shape[0],()=>`Gram-Schmidt: Number of vectors (${t.length}) exceeds number of dimensions (${t[0].shape[0]}).`);const n=[],r=t;for(let s=0;s<t.length;++s)n.push(Ie.tidy(()=>{let i=r[s];if(s>0)for(let a=0;a<s;++a){const o=je(hn(je(n[a],i)),n[a]);i=Kt(i,o)}return un(i,Px(i,"euclidean"))}));return e?Zl(n,0):n}const yke=Ne({gramSchmidt_:gke});function xke(t,e=!1){if(ce(t.rank>=2,()=>`qr() requires input tensor to have a rank >= 2, but got rank ${t.rank}`),t.rank===2)return qQ(t,e);{const n=t.shape.slice(0,t.shape.length-2).reduce((c,u)=>c*u),r=pu(Fe(t,[n,t.shape[t.shape.length-2],t.shape[t.shape.length-1]]),0),s=[],i=[];r.forEach(c=>{const[u,d]=qQ(c,e);s.push(u),i.push(d)});const a=Fe(Zl(s,0),t.shape),o=Fe(Zl(i,0),t.shape);return[a,o]}}function qQ(t,e=!1){return Ie.tidy(()=>{ce(t.shape.length===2,()=>`qr2d() requires a 2D Tensor, but got a ${t.shape.length}D Tensor.`);const n=t.shape[0],r=t.shape[1];let s=ZI(n),i=Xf(t);const a=qp([[1]],[1,1]);let o=Xf(a);const c=n>=r?r:n;for(let u=0;u<c;++u){const d=i,f=o,h=s;[o,i,s]=Ie.tidy(()=>{const m=Gn(i,[u,u],[n-u,1]),g=Px(m),y=Gn(i,[u,u],[1,1]),x=$o(rc(y,0),qp([[-1]]),qp([[1]])),v=Kt(y,je(x,g)),w=un(m,v);w.shape[0]===1?o=Xf(a):o=Wi([a,Gn(w,[1,0],[w.shape[0]-1,w.shape[1]])],0);const B=Zs(un(fr(x,v),g)),k=Gn(i,[u,0],[n-u,r]),E=je(B,o),N=Br(o);if(u===0)i=Kt(k,fr(E,fr(N,k)));else{const D=Kt(k,fr(E,fr(N,k)));i=Wi([Gn(i,[0,0],[u,r]),D],0)}const O=Br(E),F=Gn(s,[0,u],[n,s.shape[1]-u]);if(u===0)s=Kt(F,fr(fr(F,o),O));else{const D=Kt(F,fr(fr(F,o),O));s=Wi([Gn(s,[0,0],[n,u]),D],1)}return[o,i,s]}),Ar([d,f,h])}return!e&&n>r&&(s=Gn(s,[0,0],[n,r]),i=Gn(i,[0,0],[r,r])),[s,i]})}const bke=Ne({qr_:xke});var El;(function(t){t[t.NONE=0]="NONE",t[t.MEAN=1]="MEAN",t[t.SUM=2]="SUM",t[t.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"})(El||(El={}));function vke(t,e,n=El.SUM_BY_NONZERO_WEIGHTS){const r=fe(t,"losses","computeWeightedLoss");let s=null;e!=null&&(s=fe(e,"weights","computeWeightedLoss"));const i=s==null?r:je(r,s);if(n===El.NONE)return i;if(n===El.SUM)return hn(i);if(n===El.MEAN){if(s==null)return $i(i);{const a=r.size/s.size,o=un(hn(i),hn(s));return a>1?un(o,Fn(a)):o}}if(n===El.SUM_BY_NONZERO_WEIGHTS){if(s==null)return un(hn(i),Fn(r.size));{const a=je(s,Vl(r.shape)),o=Mt(hn(Yg(a,Fn(0))),"float32");return un(hn(i),o)}}throw Error(`Unknown reduction: ${n}`)}const Uh=Ne({computeWeightedLoss_:vke});function wke(t,e,n,r=El.SUM_BY_NONZERO_WEIGHTS){const s=fe(t,"labels","absoluteDifference"),i=fe(e,"predictions","absoluteDifference");let a=null;n!=null&&(a=fe(n,"weights","absoluteDifference")),zo(s.shape,i.shape,"Error in absoluteDifference: ");const o=Na(Kt(s,i));return Uh(o,a,r)}const Ske=Ne({absoluteDifference_:wke});function Cke(t,e,n,r,s=El.SUM_BY_NONZERO_WEIGHTS){const i=fe(t,"labels","cosineDistance"),a=fe(e,"predictions","cosineDistance");let o=null;r!=null&&(o=fe(r,"weights","cosineDistance")),zo(i.shape,a.shape,"Error in cosineDistance: ");const c=Fn(1),u=Kt(c,hn(je(i,a),n,!0));return Uh(u,o,s)}const kke=Ne({cosineDistance_:Cke});function Bke(t,e,n,r=El.SUM_BY_NONZERO_WEIGHTS){let s=fe(t,"labels","hingeLoss");const i=fe(e,"predictions","hingeLoss");let a=null;n!=null&&(a=fe(n,"weights","hingeLoss")),zo(s.shape,i.shape,"Error in hingeLoss: ");const o=Fn(1);s=Kt(je(Fn(2),s),o);const c=ff(Kt(o,je(s,i)));return Uh(c,a,r)}const Eke=Ne({hingeLoss_:Bke});function Ike(t,e,n,r=1,s=El.SUM_BY_NONZERO_WEIGHTS){const i=fe(t,"labels","huberLoss"),a=fe(e,"predictions","huberLoss");let o=null;n!=null&&(o=fe(n,"weights","huberLoss")),zo(i.shape,a.shape,"Error in huberLoss: ");const c=Fn(r),u=Na(Kt(a,i)),d=lm(u,c),f=Kt(u,d),h=jt(je(Fn(.5),Ts(d)),je(c,f));return Uh(h,o,s)}const Nke=Ne({huberLoss_:Ike});function jke(t,e,n,r=1e-7,s=El.SUM_BY_NONZERO_WEIGHTS){const i=fe(t,"labels","logLoss"),a=fe(e,"predictions","logLoss");let o=null;n!=null&&(o=fe(n,"weights","logLoss")),zo(i.shape,a.shape,"Error in logLoss: ");const c=Fn(1),u=Fn(r),d=Zs(je(i,Rc(jt(a,u)))),f=je(Kt(c,i),Rc(jt(Kt(c,a),u))),h=Kt(d,f);return Uh(h,o,s)}const Tke=Ne({logLoss_:jke});function _ke(t,e,n,r=El.SUM_BY_NONZERO_WEIGHTS){const s=fe(t,"labels","meanSquaredError"),i=fe(e,"predictions","meanSquaredError");let a=null;n!=null&&(a=fe(n,"weights","meanSquaredError")),zo(s.shape,i.shape,"Error in meanSquaredError: ");const o=pN(s,i);return Uh(o,a,r)}const Rke=Ne({meanSquaredError_:_ke});function Oke(t,e){const n=fe(t,"labels","sigmoidCrossEntropyWithLogits"),r=fe(e,"logits","sigmoidCrossEntropyWithLogits");zo(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");const s=ff(r),i=je(r,n),a=E5(Jl(Zs(Na(r))));return jt(Kt(s,i),a)}function Fke(t,e,n,r=0,s=El.SUM_BY_NONZERO_WEIGHTS){let i=fe(t,"multiClassLabels","sigmoidCrossEntropy");const a=fe(e,"logits","sigmoidCrossEntropy");let o=null;if(n!=null&&(o=fe(n,"weights","sigmoidCrossEntropy")),zo(i.shape,a.shape,"Error in sigmoidCrossEntropy: "),r>0){const u=Fn(r),d=Fn(1),f=Fn(.5);i=jt(je(i,Kt(d,u)),je(f,u))}const c=Oke(i,a);return Uh(c,o,s)}const Dke=Ne({sigmoidCrossEntropy_:Fke});function Lke(t,e,n=-1){if(n===-1&&(n=e.rank-1),n!==e.rank-1)throw Error(`Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ${e.rank} and dim was ${n}`);return lA((s,i,a)=>{const c=I5(i,[n],!0),u=Kt(Mt(i,"float32"),c);a([s,u]);const d=Zs(je(u,s));return{value:hn(d,[n]),gradFunc:(m,g)=>{const[y,x]=g,v=ya(m.shape,[n]);return[je(Fe(m,v),Kt(Mt(y,"float32"),Jl(x))),je(Fe(m,v),Kt(Jl(x),Mt(y,"float32")))]}}})(t,e)}function $ke(t,e,n,r=0,s=El.SUM_BY_NONZERO_WEIGHTS){let i=fe(t,"onehotLabels","softmaxCrossEntropy");const a=fe(e,"logits","softmaxCrossEntropy");let o=null;if(n!=null&&(o=fe(n,"weights","softmaxCrossEntropy")),zo(i.shape,a.shape,"Error in softmaxCrossEntropy: "),r>0){const u=Fn(r),d=Fn(1),f=Fn(i.shape[1]);i=jt(je(i,Kt(d,u)),un(u,f))}const c=Lke(i,a);return Uh(c,o,s)}const Pke=Ne({softmaxCrossEntropy_:$ke});function Uke(t,e,n,r){const s=fe(t,"indices","sparseFillEmptyRows","int32"),i=fe(e,"values","sparseFillEmptyRows"),a=fe(n,"denseShape","sparseFillEmptyRows","int32"),o=fe(r,"defaultValue","sparseFillEmptyRows",i.dtype);if(s.rank!==2)throw new Error(`Indices should be Tensor2D but received shape
        ${s.shape}`);if(i.rank!==1)throw new Error(`Values should be Tensor1D but received shape ${i.shape}`);if(a.rank!==1)throw new Error(`Dense shape should be Tensor1D but received shape ${a.shape}`);if(o.rank!==0)throw new Error(`Default value should be a scalar but received shape ${o.shape}`);const c={indices:s,values:i,denseShape:a,defaultValue:o},u=Ie.runKernel(jI,c);return{outputIndices:u[0],outputValues:u[1],emptyRowIndicator:u[2],reverseIndexMap:u[3]}}const zke=Ne({sparseFillEmptyRows_:Uke});function Mke(t,e,n){const r=fe(t,"inputIndices","sparseReshape","int32"),s=fe(e,"inputShape","sparseReshape","int32"),i=fe(n,"newShape","sparseReshape","int32");if(r.rank!==2)throw new Error(`Input indices should be Tensor2D but received shape
        ${r.shape}`);if(s.rank!==1)throw new Error(`Input shape should be Tensor1D but received shape ${s.shape}`);if(i.rank!==1)throw new Error(`New shape should be Tensor1D but received shape ${i.shape}`);const a={inputIndices:r,inputShape:s,newShape:i},o=Ie.runKernel(TI,a);return{outputIndices:o[0],outputShape:o[1]}}const Qke=Ne({sparseReshape_:Mke});function Hke(t,e,n){const r=fe(t,"data","sparseSegmentMean"),s=fe(e,"indices","sparseSegmentMean","int32"),i=fe(n,"segmentIds","sparseSegmentMean","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
          ${s.shape}`);if(i.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
          ${i.shape}`);const a={data:r,indices:s,segmentIds:i};return Ie.runKernel(_I,a)}const Wke=Ne({sparseSegmentMean_:Hke});function Vke(t,e,n){const r=fe(t,"data","sparseSegmentSum"),s=fe(e,"indices","sparseSegmentSum","int32"),i=fe(n,"segmentIds","sparseSegmentSum","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
         ${s.shape}`);if(i.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
         ${i.shape}`);const a={data:r,indices:s,segmentIds:i};return Ie.runKernel(RI,a)}const qke=Ne({sparseSegmentSum_:Vke});function Gke(t,e,n,r,s,i,a,o){const c=fe(t,"data","stringNGrams","string");if(c.dtype!=="string")throw new Error("Data must be of datatype string");if(c.shape.length!==1)throw new Error(`Data must be a vector, saw: ${c.shape}`);const u=fe(e,"dataSplits","stringNGrams");if(u.dtype!=="int32")throw new Error("Data splits must be of datatype int32");const d={separator:n,nGramWidths:r,leftPad:s,rightPad:i,padWidth:a,preserveShortSequences:o},f={data:c,dataSplits:u},h=Ie.runKernel(LI,f,d);return{nGrams:h[0],nGramsSplits:h[1]}}const Kke=Ne({stringNGrams_:Gke});function Xke(t,e,n=!0){const r=fe(t,"input","stringSplit","string"),s=fe(e,"delimiter","stringSplit","string");if(r.rank!==1)throw new Error(`Input should be Tensor1D but received shape ${r.shape}`);if(s.rank!==0)throw new Error(`Delimiter should be a scalar but received shape ${s.shape}`);const i={skipEmpty:n},a={input:r,delimiter:s},o=Ie.runKernel($I,a,i);return{indices:o[0],values:o[1],shape:o[2]}}const Yke=Ne({stringSplit_:Xke});function Jke(t,e){const n=fe(t,"input","stringToHashBucketFast","string"),r={numBuckets:e};if(e<=0)throw new Error("Number of buckets must be at least 1");const s={input:n};return Ie.runKernel(PI,s,r)}const Zke=Ne({stringToHashBucketFast_:Jke});function eBe(t,e,n,r=!0){const s=fe(t,"input","staticRegexReplace","string"),i={pattern:e,rewrite:n,replaceGlobal:r};return Ie.runKernel(h5,{x:s},i)}const tBe=Ne({staticRegexReplace_:eBe});const ute={fft:L5,ifft:v1,rfft:$5,irfft:hN},dte={hammingWindow:NCe,hannWindow:ate,frame:ote,stft:RCe},ou={flipLeftRight:LCe,grayscaleToRGB:PCe,resizeNearestNeighbor:cte,resizeBilinear:lte,rgbToGrayscale:zCe,rotateWithOffset:QCe,cropAndResize:FCe,nonMaxSuppression:WCe,nonMaxSuppressionAsync:ZCe,nonMaxSuppressionWithScore:tke,nonMaxSuppressionWithScoreAsync:rke,nonMaxSuppressionPadded:ike,nonMaxSuppressionPaddedAsync:oke,threshold:fke,transform:hke},SL={bandPart:mke,gramSchmidt:yke,qr:bke},fte={absoluteDifference:Ske,computeWeightedLoss:Uh,cosineDistance:kke,hingeLoss:Eke,huberLoss:Nke,logLoss:Tke,meanSquaredError:Rke,sigmoidCrossEntropy:Dke,softmaxCrossEntropy:Pke},Ate={sparseFillEmptyRows:zke,sparseReshape:Qke,sparseSegmentMean:Wke,sparseSegmentSum:qke},hte={stringNGrams:Kke,stringSplit:Yke,stringToHashBucketFast:Zke,staticRegexReplace:tBe};const nBe=new Map,gO=new Map;class C0{getClassName(){return this.constructor.className}static fromConfig(e,n){return new e(n)}}class su{constructor(){this.classNameMap={}}static getMap(){return su.instance==null&&(su.instance=new su),su.instance}static register(e){su.getMap().classNameMap[e.className]=[e,e.fromConfig]}}function Rt(t,e,n){ce(t.className!=null,()=>"Class being registered does not have the static className property defined."),ce(typeof t.className=="string",()=>"className is required to be a string, but got type "+typeof t.className),ce(t.className.length>0,()=>"Class being registered has an empty-string as its className, which is disallowed."),typeof e>"u"&&(e="Custom"),typeof n>"u"&&(n=t.className);const r=n,s=e+">"+r;return su.register(t),nBe.set(s,t),gO.set(t,s),t}function rBe(t){return gO.has(t)?gO.get(t):t.className}const sBe=Object.freeze(Object.defineProperty({__proto__:null,Serializable:C0,SerializationMap:su,getRegisteredName:rBe,registerClass:Rt},Symbol.toStringTag,{value:"Module"}));class zh extends C0{minimize(e,n=!1,r){const{value:s,grads:i}=this.computeGradients(e,r);if(r!=null){const a=r.map(o=>({name:o.name,tensor:i[o.name]}));this.applyGradients(a)}else this.applyGradients(i);return Ar(i),n?s:(s.dispose(),null)}get iterations(){return this.iterations_==null&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,n){return bee(e,n)}dispose(){this.iterations_!=null&&Ar(this.iterations_)}async saveIterations(){return this.iterations_==null&&(this.iterations_=0),{name:"iter",tensor:Fn(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(e){throw new Error(`setWeights() is not implemented for this optimizer class ${this.getClassName()}`)}async extractIterations(e){return this.iterations_=(await e[0].tensor.data())[0],e.slice(1)}}Object.defineProperty(zh,Symbol.hasInstance,{value:t=>t.minimize!=null&&t.computeGradients!=null&&t.applyGradients!=null});class CL extends zh{static get className(){return"Adadelta"}constructor(e,n,r=null){super(),this.learningRate=e,this.rho=n,this.epsilon=r,this.accumulatedGrads=[],this.accumulatedUpdates=[],r==null&&(this.epsilon=Ie.backend.epsilon())}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,s)=>{const i=Ie.registeredVariables[r],a=!1;this.accumulatedGrads[s]==null&&(this.accumulatedGrads[s]={originalName:`${r}/accum_grad`,variable:He(()=>Lr(i).variable(a))}),this.accumulatedUpdates[s]==null&&(this.accumulatedUpdates[s]={originalName:`${r}/accum_var`,variable:He(()=>Lr(i).variable(a))});const o=Array.isArray(e)?e[s].tensor:e[r];if(o==null)return;const c=this.accumulatedGrads[s].variable,u=this.accumulatedUpdates[s].variable;He(()=>{const d=jt(je(c,this.rho),je(Ts(o),1-this.rho)),f=je(un(po(jt(u,this.epsilon)),po(jt(c,this.epsilon))),o),h=jt(je(u,this.rho),je(Ts(f),1-this.rho));c.assign(d),u.assign(h);const m=jt(je(f,-this.learningRate),i);i.assign(m)})}),this.incrementIterations()}dispose(){this.accumulatedUpdates!=null&&(Ar(this.accumulatedGrads.map(e=>e.variable)),Ar(this.accumulatedUpdates.map(e=>e.variable)))}async getWeights(){const e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=e.length/2,r=!1;this.accumulatedGrads=e.slice(0,n).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})),this.accumulatedUpdates=e.slice(n,n*2).map(s=>({originalName:s.name,variable:s.tensor.variable(r)}))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,n){return new e(n.learningRate,n.rho,n.epsilon)}}class kL extends zh{static get className(){return"Adagrad"}constructor(e,n=.1){super(),this.learningRate=e,this.initialAccumulatorValue=n,this.accumulatedGrads=[]}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,s)=>{const i=Ie.registeredVariables[r];this.accumulatedGrads[s]==null&&(this.accumulatedGrads[s]={originalName:`${r}/accumulator`,variable:He(()=>v0(i.shape,this.initialAccumulatorValue).variable(!1))});const a=Array.isArray(e)?e[s].tensor:e[r];if(a==null)return;const o=this.accumulatedGrads[s].variable;He(()=>{const c=jt(o,Ts(a));o.assign(c);const u=jt(je(un(a,po(jt(c,Ie.backend.epsilon()))),-this.learningRate),i);i.assign(u)})}),this.incrementIterations()}dispose(){this.accumulatedGrads!=null&&Ar(this.accumulatedGrads.map(e=>e.variable))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=!1;this.accumulatedGrads=e.map(r=>({originalName:r.name,variable:r.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,n){return new e(n.learningRate,n.initialAccumulatorValue)}}class BL extends zh{static get className(){return"Adam"}constructor(e,n,r,s=null){super(),this.learningRate=e,this.beta1=n,this.beta2=r,this.epsilon=s,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],He(()=>{this.accBeta1=Fn(n).variable(),this.accBeta2=Fn(r).variable()}),s==null&&(this.epsilon=Ie.backend.epsilon())}applyGradients(e){const n=Array.isArray(e)?e.map(r=>r.name):Object.keys(e);He(()=>{const r=Kt(1,this.accBeta1),s=Kt(1,this.accBeta2);n.forEach((i,a)=>{const o=Ie.registeredVariables[i],c=!1;this.accumulatedFirstMoment[a]==null&&(this.accumulatedFirstMoment[a]={originalName:`${i}/m`,variable:He(()=>Lr(o).variable(c))}),this.accumulatedSecondMoment[a]==null&&(this.accumulatedSecondMoment[a]={originalName:`${i}/v`,variable:He(()=>Lr(o).variable(c))});const u=Array.isArray(e)?e[a].tensor:e[i];if(u==null)return;const d=this.accumulatedFirstMoment[a].variable,f=this.accumulatedSecondMoment[a].variable,h=jt(je(d,this.beta1),je(u,1-this.beta1)),m=jt(je(f,this.beta2),je(Ts(u),1-this.beta2)),g=un(h,r),y=un(m,s);d.assign(h),f.assign(m);const x=jt(je(un(g,jt(po(y),this.epsilon)),-this.learningRate),o);o.assign(x)}),this.accBeta1.assign(je(this.accBeta1,this.beta1)),this.accBeta2.assign(je(this.accBeta2,this.beta2))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),this.accumulatedFirstMoment!=null&&Ar(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedSecondMoment!=null&&Ar(this.accumulatedSecondMoment.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e),He(()=>{this.accBeta1.assign(oA(this.beta1,this.iterations_+1)),this.accBeta2.assign(oA(this.beta2,this.iterations_+1))});const n=e.length/2,r=!1;this.accumulatedFirstMoment=e.slice(0,n).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})),this.accumulatedSecondMoment=e.slice(n,n*2).map(s=>({originalName:s.name,variable:s.tensor.variable(r)}))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,n){return new e(n.learningRate,n.beta1,n.beta2,n.epsilon)}}class EL extends zh{static get className(){return"Adamax"}constructor(e,n,r,s=null,i=0){super(),this.learningRate=e,this.beta1=n,this.beta2=r,this.epsilon=s,this.decay=i,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],He(()=>{this.iteration=Fn(0).variable(),this.accBeta1=Fn(n).variable()}),s==null&&(this.epsilon=Ie.backend.epsilon())}applyGradients(e){const n=Array.isArray(e)?e.map(r=>r.name):Object.keys(e);He(()=>{const r=Kt(1,this.accBeta1),s=un(-this.learningRate,jt(je(this.iteration,this.decay),1));n.forEach((i,a)=>{const o=Ie.registeredVariables[i],c=!1;this.accumulatedFirstMoment[a]==null&&(this.accumulatedFirstMoment[a]={originalName:`${i}/m`,variable:Lr(o).variable(c)}),this.accumulatedWeightedInfNorm[a]==null&&(this.accumulatedWeightedInfNorm[a]={originalName:`${i}/v`,variable:Lr(o).variable(c)});const u=Array.isArray(e)?e[a].tensor:e[i];if(u==null)return;const d=this.accumulatedFirstMoment[a].variable,f=this.accumulatedWeightedInfNorm[a].variable,h=jt(je(d,this.beta1),je(u,1-this.beta1)),m=je(f,this.beta2),g=Na(u),y=gA(m,g);d.assign(h),f.assign(y);const x=jt(je(un(s,r),un(h,jt(y,this.epsilon))),o);o.assign(x)}),this.iteration.assign(jt(this.iteration,1)),this.accBeta1.assign(je(this.accBeta1,this.beta1))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),this.accumulatedFirstMoment!=null&&Ar(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedWeightedInfNorm!=null&&Ar(this.accumulatedWeightedInfNorm.map(e=>e.variable))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,n){return new e(n.learningRate,n.beta1,n.beta2,n.epsilon,n.decay)}}class IN extends zh{static get className(){return"SGD"}constructor(e){super(),this.learningRate=e,this.setLearningRate(e)}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,s)=>{const i=Array.isArray(e)?e[s].tensor:e[r];if(i==null)return;const a=Ie.registeredVariables[r];He(()=>{const o=jt(je(this.c,i),a);a.assign(o)})}),this.incrementIterations()}setLearningRate(e){this.learningRate=e,this.c!=null&&this.c.dispose(),this.c=Ma(Fn(-e))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(e){if(e=await this.extractIterations(e),e.length!==0)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,n){return new e(n.learningRate)}}class IL extends IN{static get className(){return"Momentum"}constructor(e,n,r=!1){super(e),this.learningRate=e,this.momentum=n,this.useNesterov=r,this.accumulations=[],this.m=Fn(this.momentum)}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,s)=>{const i=Ie.registeredVariables[r];this.accumulations[s]==null&&(this.accumulations[s]={originalName:`${r}/momentum`,variable:He(()=>Lr(i).variable(!1))});const a=this.accumulations[s].variable,o=Array.isArray(e)?e[s].tensor:e[r];o!=null&&He(()=>{let c;const u=jt(je(this.m,a),o);this.useNesterov?c=jt(je(this.c,jt(o,je(u,this.m))),i):c=jt(je(this.c,u),i),a.assign(u),i.assign(c)})}),this.incrementIterations()}dispose(){this.m.dispose(),this.accumulations!=null&&Ar(this.accumulations.map(e=>e.variable))}setMomentum(e){this.momentum=e}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=!1;this.accumulations=e.map(r=>({originalName:r.name,variable:r.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,n){return new e(n.learningRate,n.momentum,n.useNesterov)}}class NL extends zh{static get className(){return"RMSProp"}constructor(e,n=.9,r=0,s=null,i=!1){if(super(),this.learningRate=e,this.decay=n,this.momentum=r,this.epsilon=s,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=i,s==null&&(this.epsilon=Ie.backend.epsilon()),e==null)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,s)=>{const i=Ie.registeredVariables[r],a=!1;this.accumulatedMeanSquares[s]==null&&(this.accumulatedMeanSquares[s]={originalName:`${r}/rms`,variable:He(()=>Lr(i).variable(a))}),this.accumulatedMoments[s]==null&&(this.accumulatedMoments[s]={originalName:`${r}/momentum`,variable:He(()=>Lr(i).variable(a))}),this.accumulatedMeanGrads[s]==null&&this.centered&&(this.accumulatedMeanGrads[s]={originalName:`${r}/mg`,variable:He(()=>Lr(i).variable(a))});const o=Array.isArray(e)?e[s].tensor:e[r];if(o==null)return;const c=this.accumulatedMeanSquares[s].variable,u=this.accumulatedMoments[s].variable;He(()=>{const d=jt(je(c,this.decay),je(Ts(o),1-this.decay));if(this.centered){const f=this.accumulatedMeanGrads[s].variable,h=jt(je(f,this.decay),je(o,1-this.decay)),m=un(je(o,this.learningRate),po(Kt(d,jt(Ts(h),this.epsilon)))),g=jt(je(u,this.momentum),m);c.assign(d),f.assign(h),u.assign(g);const y=Kt(i,g);i.assign(y)}else{const f=jt(je(c,this.decay),je(Ts(o),1-this.decay)),h=jt(je(u,this.momentum),un(je(o,this.learningRate),po(jt(f,this.epsilon))));c.assign(f),u.assign(h);const m=Kt(i,h);i.assign(m)}})}),this.incrementIterations()}dispose(){this.accumulatedMeanSquares!=null&&Ar(this.accumulatedMeanSquares.map(e=>e.variable)),this.accumulatedMeanGrads!=null&&this.centered&&Ar(this.accumulatedMeanGrads.map(e=>e.variable)),this.accumulatedMoments!=null&&Ar(this.accumulatedMoments.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=this.centered?e.length/3:e.length/2,r=!1;this.accumulatedMeanSquares=e.slice(0,n).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})),this.accumulatedMoments=e.slice(n,n*2).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})),this.centered&&(this.accumulatedMeanGrads=e.slice(n*2,n*3).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,n){return new e(n.learningRate,n.decay,n.momentum,n.epsilon,n.centered)}}const iBe=[CL,kL,BL,EL,IL,NL,IN];function aBe(){for(const t of iBe)Rt(t)}const oBe="model",lBe=".json",cBe=".weights.bin";function GQ(t){return new Promise(e=>setTimeout(e)).then(t)}class Zg{constructor(e){if(!Xe().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(Zg.URL_SCHEME)&&(e=e.slice(Zg.URL_SCHEME.length)),(e==null||e.length===0)&&(e=oBe),this.modelJsonFileName=e+lBe,this.weightDataFileName=e+cBe}async save(e){if(typeof document>"u")throw new Error("Browser downloads are not supported in this environment since `document` is not present");const n=df.join(e.weightData),r=window.URL.createObjectURL(new Blob([n],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const s=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],i=tee(e,s),a=window.URL.createObjectURL(new Blob([JSON.stringify(i)],{type:"application/json"})),o=this.modelJsonAnchor==null?document.createElement("a"):this.modelJsonAnchor;if(o.download=this.modelJsonFileName,o.href=a,await GQ(()=>o.dispatchEvent(new MouseEvent("click"))),e.weightData!=null){const c=this.weightDataAnchor==null?document.createElement("a"):this.weightDataAnchor;c.download=this.weightDataFileName,c.href=r,await GQ(()=>c.dispatchEvent(new MouseEvent("click")))}return{modelArtifactsInfo:x5(e)}}}}Zg.URL_SCHEME="downloads://";class uBe{constructor(e){if(e==null||e.length<1)throw new Error(`When calling browserFiles, at least 1 file is required, but received ${e}`);this.jsonFile=e[0],this.weightsFiles=e.slice(1)}async load(){return new Promise((e,n)=>{const r=new FileReader;r.onload=s=>{const i=JSON.parse(s.target.result),a=i.modelTopology;if(a==null){n(new Error(`modelTopology field is missing from file ${this.jsonFile.name}`));return}if(i.weightsManifest==null){n(new Error(`weightManifest field is missing from file ${this.jsonFile.name}`));return}if(this.weightsFiles.length===0){e({modelTopology:a});return}const c=xD(i,u=>this.loadWeights(u));e(c)},r.onerror=s=>n(`Failed to read model topology and weights manifest JSON from file '${this.jsonFile.name}'. BrowserFiles supports loading Keras-style tf.Model artifacts only.`),r.readAsText(this.jsonFile)})}loadWeights(e){const n=[],r=[];for(const a of e)n.push(...a.weights),r.push(...a.paths);const s=this.checkManifestAndWeightFiles(e),i=r.map(a=>this.loadWeightsFile(a,s[a]));return Promise.all(i).then(a=>[n,a])}loadWeightsFile(e,n){return new Promise((r,s)=>{const i=new FileReader;i.onload=a=>{const o=a.target.result;r(o)},i.onerror=a=>s(`Failed to weights data from file of path '${e}'.`),i.readAsArrayBuffer(n)})}checkManifestAndWeightFiles(e){const n=[],r=this.weightsFiles.map(i=>LQ(i.name)),s={};for(const i of e)i.paths.forEach(a=>{const o=LQ(a);if(n.indexOf(o)!==-1)throw new Error(`Duplicate file basename found in weights manifest: '${o}'`);if(n.push(o),r.indexOf(o)===-1)throw new Error(`Weight file with basename '${o}' is not provided.`);s[a]=this.weightsFiles[r.indexOf(o)]});if(n.length!==this.weightsFiles.length)throw new Error(`Mismatch in the number of files in weights manifest (${n.length}) and the number of weight files provided (${this.weightsFiles.length}).`);return s}}const dBe=t=>Xe().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(Zg.URL_SCHEME)?fBe(t.slice(Zg.URL_SCHEME.length)):null;Di.registerSaveRouter(dBe);function fBe(t="model"){return new Zg(t)}function ABe(t){return new uBe(t)}function KQ(t,e,n,r){a(t),n=n??0,r=r??1,o(n,r);let s=0;const i=c=>(c.then(u=>{const d=n+ ++s/t.length*(r-n);return e(d),u}),c);function a(c){ce(c!=null&&Array.isArray(c)&&c.length>0,()=>"promises must be a none empty array")}function o(c,u){ce(c>=0&&c<=1,()=>`Progress fraction must be in range [0, 1], but got startFraction ${c}`),ce(u>=0&&u<=1,()=>`Progress fraction must be in range [0, 1], but got endFraction ${u}`),ce(u>=c,()=>`startFraction must be no more than endFraction, but got startFraction ${c} and endFraction ${u}`)}return Promise.all(t.map(i))}async function pte(t,e){e==null&&(e={});const n=e.fetchFunc==null?Xe().platform.fetch:e.fetchFunc,r=t.map(f=>n(f,e.requestInit,{isBinary:!0})),o=(e.onProgress==null?await Promise.all(r):await KQ(r,e.onProgress,0,.5)).map(f=>f.arrayBuffer());return e.onProgress==null?await Promise.all(o):await KQ(o,e.onProgress,.5,1)}function hBe(t,e){var n;const r=e.fetchFunc==null?Xe().platform.fetch:e.fetchFunc;let s=0,i;return(n=e.onProgress)===null||n===void 0||n.call(e,0),new ReadableStream({pull:async a=>{for(var o;s<t.length;){i||(i=(await r(t[s],e.requestInit,{isBinary:!0})).body.getReader());const{done:c,value:u}=await i.read();if(c){s++,i=void 0,(o=e.onProgress)===null||o===void 0||o.call(e,s/t.length);continue}a.enqueue(u);return}a.close()}})}async function pBe(t,e="",n,r){return mte(a=>pte(a,{requestInit:r}))(t,e,n)}function mte(t){return async(e,n="",r)=>{const s=e.map(()=>!1),i={},a=r!=null?r.map(()=>!1):[],o=[];if(e.forEach((m,g)=>{let y=0;m.weights.forEach(x=>{const v="quantization"in x?x.quantization.dtype:x.dtype,w=Wg[v]*it(x.shape),B=()=>{s[g]=!0,i[g]==null&&(i[g]=[]),i[g].push({manifestEntry:x,groupOffset:y,sizeBytes:w})};r!=null?r.forEach((k,E)=>{k===x.name&&(B(),a[E]=!0)}):B(),o.push(x.name),y+=w})}),!a.every(m=>m)){const m=r.filter((g,y)=>!a[y]);throw new Error(`Could not find weights in manifest with names: ${m.join(", ")}. 
Manifest JSON has weights with names: ${o.join(", ")}.`)}const c=s.reduce((m,g,y)=>(g&&m.push(y),m),[]),u=[];c.forEach(m=>{e[m].paths.forEach(g=>{const y=n+(n.endsWith("/")?"":"/")+g;u.push(y)})});const d=await t(u),f={};let h=0;return c.forEach(m=>{const g=e[m].paths.length,y=new df(d.slice(h,h+g));i[m].forEach(v=>{const w=y.slice(v.groupOffset,v.groupOffset+v.sizeBytes),B=YZ(w,[v.manifestEntry]);for(const k in B)f[k]=B[k]}),h+=g}),f}}const mBe="application/octet-stream",gBe="application/json";class jL{constructor(e,n){if(this.DEFAULT_METHOD="POST",n==null&&(n={}),this.weightPathPrefix=n.weightPathPrefix,this.weightUrlConverter=n.weightUrlConverter,n.fetchFunc!=null?(ce(typeof n.fetchFunc=="function",()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"),this.fetch=n.fetchFunc):this.fetch=Xe().platform.fetch,ce(e!=null&&e.length>0,()=>"URL path for http must not be null, undefined or empty."),Array.isArray(e)&&ce(e.length===2,()=>`URL paths for http must have a length of 2, (actual length is ${e.length}).`),this.path=e,n.requestInit!=null&&n.requestInit.body!=null)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=n.requestInit||{},this.loadOptions=n}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const n=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);n.body=new FormData;const r=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],s=tee(e,r);if(n.body.append("model.json",new Blob([JSON.stringify(s)],{type:gBe}),"model.json"),e.weightData!=null){const a=df.join(e.weightData);n.body.append("model.weights.bin",new Blob([a],{type:mBe}),"model.weights.bin")}const i=await this.fetch(this.path,n);if(i.ok)return{modelArtifactsInfo:x5(e),responses:[i]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${i.status}.`)}async loadModelJSON(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error(`Request to ${this.path} failed with status code ${e.status}. Please verify this URL points to the model JSON of the model to load.`);let n;try{n=await e.json()}catch{let a=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?a+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":a+=" Please make sure the server is serving valid JSON for this request.",new Error(a)}const r=n.modelTopology,s=n.weightsManifest;if(r==null&&s==null)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return n}async load(){if(this.loadOptions.streamWeights)return this.loadStream();const e=await this.loadModelJSON();return xD(e,n=>this.loadWeights(n))}async loadStream(){const e=await this.loadModelJSON(),n=await this.getWeightUrls(e.weightsManifest),r=UB(e.weightsManifest),s=()=>hBe(n,this.loadOptions);return Object.assign(Object.assign({},e),{weightSpecs:r,getWeightStream:s})}async getWeightUrls(e){const n=Array.isArray(this.path)?this.path[1]:this.path,[r,s]=yBe(n),i=this.weightPathPrefix||r,a=[],o=[];for(const c of e)for(const u of c.paths)this.weightUrlConverter!=null?o.push(this.weightUrlConverter(u)):a.push(i+u+s);return this.weightUrlConverter&&a.push(...await Promise.all(o)),a}async loadWeights(e){const n=await this.getWeightUrls(e),r=UB(e),s=await pte(n,this.loadOptions);return[r,s]}}jL.URL_SCHEME_REGEX=/^https?:\/\//;function yBe(t){const e=t.lastIndexOf("/"),n=t.lastIndexOf("?"),r=t.substring(0,e),s=n>e?t.substring(n):"";return[r+"/",s]}function yO(t){return t.match(jL.URL_SCHEME_REGEX)!=null}const gte=(t,e)=>{if(typeof fetch>"u"&&(e==null||e.fetchFunc==null))return null;{let n=!0;if(Array.isArray(t)?n=t.every(r=>yO(r)):n=yO(t),n)return TL(t,e)}return null};Di.registerSaveRouter(gte);Di.registerLoadRouter(gte);function TL(t,e){return new jL(t,e)}function xBe(t,e){return TL(t,e)}class MT{constructor(e){this.modelArtifacts=e}load(){return this.modelArtifacts}}class yte{constructor(e){this.saveHandler=e}save(e){return this.saveHandler(e)}}class bBe{constructor(e){e.load&&(this.load=()=>Promise.resolve(e.load())),e.save&&(this.save=n=>Promise.resolve(e.save(n)))}}function vBe(t,e,n,r){const s=arguments;return new bBe(MB(...s))}function MB(t,e,n,r){return arguments.length===1?t.modelTopology!=null||t.weightSpecs!=null?new MT(t):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new MT({modelTopology:t})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new MT({modelTopology:t,weightSpecs:e,weightData:n,trainingConfig:r}))}function wBe(t){return new yte(t)}function SBe(t){return new yte(t)}const _L=Object.freeze(Object.defineProperty({__proto__:null,CompositeArrayBuffer:df,browserFiles:ABe,browserHTTPRequest:xBe,concatenateArrayBuffers:eee,copyModel:e2e,decodeWeights:YZ,decodeWeightsStream:ZZ,encodeWeights:cO,fromMemory:vBe,fromMemorySync:MB,getLoadHandlers:Uve,getModelArtifactsForJSON:xD,getModelArtifactsForJSONSync:yD,getModelArtifactsInfoForJSON:x5,getSaveHandlers:nee,getWeightSpecs:UB,http:TL,isHTTPScheme:yO,listModels:Jve,loadWeights:pBe,moveModel:t2e,registerLoadRouter:Pve,registerSaveRouter:$ve,removeModel:Zve,weightsLoaderFactory:mte,withSaveHandler:wBe,withSaveHandlerSync:SBe},Symbol.toStringTag,{value:"Module"}));function CBe(t,e,n){const r=fe(t,"labels","confusionMatrix"),s=fe(e,"predictions","confusionMatrix");ce(n==null||n>0&&Number.isInteger(n),()=>`If provided, numClasses must be a positive integer, but got ${n}`),ce(r.rank===1,()=>`Expected the rank of labels to be 1, but got ${r.rank}`),ce(s.rank===1,()=>`Expected the rank of predictions to be 1, but got ${s.rank}`),ce(r.shape[0]===s.shape[0],()=>`Mismatch in the number of examples: ${r.shape[0]} vs. ${s.shape[0]}. Labels and predictions should have the same number of elements.`),ce(n>0&&Number.isInteger(n),()=>`numClasses is required to be a positive integer, but got ${n}`);const i=y1(Mt(r,"int32"),n),a=y1(Mt(s,"int32"),n),o=Br(i),c=fr(o,a);return Mt(c,"int32")}const kBe=Ne({confusionMatrix_:CBe});const BBe=Object.freeze(Object.defineProperty({__proto__:null,confusionMatrix:kBe},Symbol.toStringTag,{value:"Module"}));let Xm,XQ=!1;function xte(t,e=3){if(e>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(t==null)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let n=!1,r=!1,s=!1,i=!1,a=!1,o=!1;if(t.data instanceof Uint8Array)n=!0;else if(typeof ImageData<"u"&&t instanceof ImageData)r=!0;else if(typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement)s=!0;else if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement)i=!0;else if(t.getContext!=null)a=!0;else if(typeof ImageBitmap<"u"&&t instanceof ImageBitmap)o=!0;else throw new Error(`pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was ${t.constructor.name}`);if(w2($B,Ie.backendName)!=null){const g={pixels:t},y={numChannels:e};return Ie.runKernel($B,g,y)}const[u,d]=s?[t.videoWidth,t.videoHeight]:[t.width,t.height];let f;if(a)f=t.getContext("2d").getImageData(0,0,u,d).data;else if(r||n)f=t.data;else if(i||s||o){if(Xm==null)if(typeof document>"u")if(typeof OffscreenCanvas<"u"&&typeof OffscreenCanvasRenderingContext2D<"u")Xm=new OffscreenCanvas(1,1).getContext("2d");else throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");else Xm=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});Xm.canvas.width=u,Xm.canvas.height=d,Xm.drawImage(t,0,0,u,d),f=Xm.getImageData(0,0,u,d).data}let h;if(e===4)h=new Int32Array(f);else{const g=u*d;h=new Int32Array(g*e);for(let y=0;y<g;y++)for(let x=0;x<e;++x)h[y*e+x]=f[y*4+x]}return AL(h,[d,u,e],"int32")}function EBe(t){return t!=null&&t.data instanceof Uint8Array}function IBe(){return typeof window<"u"&&typeof ImageBitmap<"u"&&window.hasOwnProperty("createImageBitmap")}function NBe(t){return t!=null&&t.width!==0&&t.height!==0}function jBe(t){return IBe()&&!(t instanceof ImageBitmap)&&NBe(t)&&!EBe(t)}async function TBe(t,e=3){let n=null;if(Xe().getBool("WRAP_TO_IMAGEBITMAP")&&jBe(t)){let r;try{r=await createImageBitmap(t,{premultiplyAlpha:"none"})}catch{r=null}r!=null&&r.width===t.width&&r.height===t.height?n=r:n=t}else n=t;return xte(n,e)}function bte(t){if(t.rank!==2&&t.rank!==3)throw new Error(`toPixels only supports rank 2 or 3 tensors, got rank ${t.rank}.`);const e=t.rank===2?1:t.shape[2];if(e>4||e===2)throw new Error(`toPixels only supports depth of size 1, 3 or 4 but got ${e}`);if(t.dtype!=="float32"&&t.dtype!=="int32")throw new Error(`Unsupported type for toPixels: ${t.dtype}. Please use float32 or int32 tensors.`)}function _Be(t){const e=t?.alpha||1;if(e>1||e<0)throw new Error(`Alpha value ${e} is suppoed to be in range [0 - 1].`)}async function RBe(t,e){let n=fe(t,"img","toPixels");if(!(t instanceof Fr)){const u=n;n=Mt(u,"int32"),u.dispose()}bte(n);const[r,s]=n.shape.slice(0,2),i=n.rank===2?1:n.shape[2],a=await n.data(),o=n.dtype==="float32"?255:1,c=new Uint8ClampedArray(s*r*4);for(let u=0;u<r*s;++u){const d=[0,0,0,255];for(let h=0;h<i;h++){const m=a[u*i+h];if(n.dtype==="float32"){if(m<0||m>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${m}.`)}else if(n.dtype==="int32"&&(m<0||m>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${m}.`);i===1?(d[0]=m*o,d[1]=m*o,d[2]=m*o):d[h]=m*o}const f=u*4;c[f+0]=Math.round(d[0]),c[f+1]=Math.round(d[1]),c[f+2]=Math.round(d[2]),c[f+3]=Math.round(d[3])}if(e!=null){XQ||w2(nI,Ie.backendName)!=null&&(console.warn("tf.browser.toPixels is not efficient to draw tensor on canvas. Please try tf.browser.draw instead."),XQ=!0),e.width=s,e.height=r;const u=e.getContext("2d"),d=new ImageData(c,s,r);u.putImageData(d,0,0)}return n!==t&&n.dispose(),c}function OBe(t,e,n){let r=fe(t,"img","draw");if(!(t instanceof Fr)){const a=r;r=Mt(a,"int32"),a.dispose()}bte(r),_Be(n?.imageOptions);const s={image:r},i={canvas:e,options:n};Ie.runKernel(nI,s,i)}const vte=Ne({fromPixels_:xte}),FBe=Object.freeze(Object.defineProperty({__proto__:null,draw:OBe,fromPixels:vte,fromPixelsAsync:TBe,toPixels:RBe},Symbol.toStringTag,{value:"Module"}));function NN(t,e){const n=t.shape.length,r=e.shape.length;if(n<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${n}.`);if(r<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${r}.`);if(e.dtype!=="int32")throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${e.dtype}.`);if(e.shape[r-1]>n)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${e.shape[r-1]} vs. ${n}`);if(it(t.shape)===0)throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${t.shape}.`);const s=e.shape,i=s[s.length-1];let a=1;for(let f=0;f<s.length-1;++f)a*=s[f];const o=t.shape,c=s.slice();c.pop();let u=1;for(let f=i;f<n;++f)u*=o[f],c.push(o[f]);const d=[...Rn(t.shape).map(f=>f/u),1].slice(0,i);return[c,a,u,d]}const DBe=Object.freeze(Object.defineProperty({__proto__:null,prepareAndValidate:NN},Symbol.toStringTag,{value:"Module"}));const xO=-2,LBe=-1;function RL(t,e,n){const r=t.shape.length;ce(r===e.length,()=>`Error in slice${r}D: Length of begin ${e} must match the rank of the array (${r}).`),ce(r===n.length,()=>`Error in slice${r}D: Length of size ${n} must match the rank of the array (${r}).`);for(let s=0;s<r;++s)ce(e[s]+n[s]<=t.shape[s],()=>`Error in slice${r}D: begin[${s}] + size[${s}] (${e[s]+n[s]}) would overflow input.shape[${s}] (${t.shape[s]})`)}function $Be(t){const e=[];let n=0;for(;t>0;)t&1&&e.push(n),t/=2,n++;return e}function OL(t,e,n){const r=[];for(let s=0;s<t.length;s++)r[s]=Math.ceil((e[s]-t[s])/n[s]);return r}function wte(t,e,n,r){const s=[...t];for(let i=s.length;i<r.length;i++)s.push(1);for(let i=0;i<n;i++)i===0?s[e]=1:(s.splice(e,0,1),s.pop());return s}function Ste(t,e,n){return n<=t?n:n-(e-1)}function Cte(t,e){const n=[];for(let r=0;r<t;r++)n.push(e+r);return n}function PBe(t,e,n,r,s,i,a,o,c){const u=t.length;let d=new Array(u),f=new Array(u),h=new Array(u);if(e.length&&n>0){const m=e[0],g=n+1;d=kte(a,m,g,r,t),f=Bte(o,m,g,s,t),h=wte(i,m,g,t)}else for(let m=0;m<u;m++)d[m]=Ite(a,r,i,t,m,c),f[m]=Nte(o,s,i,t,m,c),h[m]=Ete(i,m,c);return{begin:d,end:f,strides:h}}function kte(t,e,n,r,s){const i=[...s],a=Cte(n,e);for(let o=0;o<i.length;o++)if(a.indexOf(o)>-1)i[o]=0;else{const c=Ste(e,n,o);let u=r[c];t&1<<c&&(u=0),i[o]=u}return i}function Bte(t,e,n,r,s){const i=[...s],a=Cte(n,e);for(let o=0;o<i.length;o++)if(a.indexOf(o)>-1)i[o]=Number.MAX_SAFE_INTEGER;else{const c=Ste(e,n,o);let u=r[c];t&1<<c&&(u=Number.MAX_SAFE_INTEGER),i[o]=u}for(let o=0;o<i.length;o++){const c=s[o];i[o]<0&&(i[o]+=c),i[o]=nm(0,i[o],s[o])}return i}function Ete(t,e,n){let r=t[e];return(n&1<<e||r==null)&&(r=1),r}function Ite(t,e,n,r,s,i){let a=e[s];const o=n[s]||1;(t&1<<s||i&1<<s||a==null)&&(o>0?a=Number.MIN_SAFE_INTEGER:a=Number.MAX_SAFE_INTEGER);const c=r[s];return a<0&&(a+=c),a=nm(0,a,c-1),a}function Nte(t,e,n,r,s,i){let a=e[s];const o=n[s]||1;(t&1<<s||i&1<<s||a==null)&&(o>0?a=Number.MAX_SAFE_INTEGER:a=Number.MIN_SAFE_INTEGER);const c=r[s];return a<0&&(a+=c),o>0?a=nm(0,a,c):a=nm(-1,a,c-1),a}function FL(t,e,n){let r=n.length;for(let s=0;s<n.length;s++)if(n[s]>1){r=s;break}for(let s=r+1;s<n.length;s++)if(e[s]>0||n[s]!==t[s])return!1;return!0}function DL(t,e){let n=t.length>0?t[t.length-1]:1;for(let r=0;r<t.length-1;r++)n+=t[r]*e[r];return n}function jN(t,e,n){let r;const s=t.shape.length;typeof e=="number"?r=[e,...new Array(s-1).fill(0)]:e.length<s?r=e.concat(new Array(s-e.length).fill(0)):r=e.slice(),r.forEach(a=>{ce(a!==-1,()=>"slice() does not support negative begin indexing.")});let i;return n==null?i=new Array(s).fill(-1):typeof n=="number"?i=[n,...new Array(s-1).fill(-1)]:n.length<s?i=n.concat(new Array(s-n.length).fill(-1)):i=n,i=i.map((a,o)=>a>=0?a:(ce(a===-1,()=>`Negative size values should be exactly -1 but got ${a} for the slice() size at index ${o}.`),t.shape[o]-r[o])),[r,i]}function LL(t,e,n,r,s,i,a,o,c){let u;if(r==null?(u=new Array(e.length),u.fill(1)):u=r,a!=null&&(a&a-1)!==0)throw new Error("Multiple ellipses in slice is not allowed.");let d=!1;const f={dims:u.length,numAddAxisAfterEllipsis:0,begin:e.slice(),end:n.slice(),strides:u.slice(),beginMask:s,endMask:i,ellipsisMask:a,newAxisMask:o,shrinkAxisMask:c};for(let B=0;B<f.dims;B++)d&&(1<<B&o)!==0&&f.numAddAxisAfterEllipsis++,1<<B&a&&(d=!0);d||(f.ellipsisMask|=1<<f.dims,f.dims++);const h={dims:t.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};UBe(f,h);let m=!0,g=!0,y=!0;const x=[],v=[];for(let B=0;B<t.length;++B){if(h.strides[B]===0)throw Error(`strides[${B}] must be non-zero`);const k=!!(h.shrinkAxisMask&1<<B),E=t[B];if(E===-1){x.push(k?1:-1);continue}const N=[h.beginMask&1<<B,h.endMask&1<<B],O=[h.strides[B]>0?0:-1,h.strides[B]>0?E:E-1];if(k&&h.strides[B]<=0)throw Error("only stride 1 allowed on non-range indexing.");y=y&&h.strides[B]===1;const F=!!(h.beginMask&1<<B&&h.endMask&1<<B);if(h.beginValid&&h.endValid){if(k){const P=h.begin[B]<0?E+h.begin[B]:h.begin[B];if(h.begin[B]=P,h.end[B]=h.begin[B]+1,P<0||P>=E)throw Error(`slice index ${h.begin[B]} of dimension ${B} out of bounds.`)}else h.begin[B]=YQ(h.begin[B],0,h.strides[B],E,N,O),h.end[B]=YQ(h.end[B],1,h.strides[B],E,N,O);const j=h.strides[B]===1&&h.begin[B]===0&&h.end[B]===E;m=m&&j,g=g&&(B===0&&h.strides[B]===1||j)}else m=m&&h.strides[B]===1&&F,g=g&&(B===0&&h.strides[B]===1||F);let D,T=!1;if(h.beginValid&&h.endValid?(D=h.end[B]-h.begin[B],T=!0):k?(D=1,T=!0):F&&E>=0&&(h.strides[B]<0?D=-E:D=E,T=!0),T){let j;D===0||D<0!=h.strides[B]<0?j=0:j=Math.trunc(D/h.strides[B])+(D%h.strides[B]!==0?1:0),x.push(j)}else x.push(-1)}for(let B=0;B<h.finalShapeGatherIndices.length;++B){const k=h.finalShapeGatherIndices[B];k>=0?v.push(x[k]):k===xO&&v.push(1)}return{finalShapeSparse:v.filter((B,k)=>h.finalShapeGatherIndices[k]!==xO),finalShape:v,isIdentity:m,sliceDim0:g,isSimpleSlice:y,begin:h.begin,end:h.end,strides:h.strides}}function UBe(t,e){e.beginMask=0,e.endMask=0,e.shrinkAxisMask=0;let n=0;e.beginValid=t.begin!=null,e.endValid=t.end!=null,e.begin=new Array(e.dims),e.end=new Array(e.dims),e.strides=new Array(e.dims),e.finalShapeGatherIndices=[],e.finalShapeGatherIndicesSparse=[],e.inputShapeGatherIndicesSparse=new Array(e.dims);for(let r=0;r<t.dims;r++)if(1<<r&t.ellipsisMask){const s=Math.min(e.dims-(t.dims-r)+1+t.numAddAxisAfterEllipsis,e.dims);for(;n<s;n++)e.begin[n]=0,e.end[n]=0,e.strides[n]=1,e.beginMask|=1<<n,e.endMask|=1<<n,e.finalShapeGatherIndices.push(n),e.finalShapeGatherIndicesSparse.push(-1),e.inputShapeGatherIndicesSparse[n]=r}else if(1<<r&t.newAxisMask)e.finalShapeGatherIndices.push(xO),e.finalShapeGatherIndicesSparse.push(-1);else{if(n===e.begin.length)throw Error(`Index out of range using input dim ${n}; input has only ${e.dims} dims, ${e.begin.length}.`);t.begin!=null&&(e.begin[n]=t.begin[r]),t.end!=null&&(e.end[n]=t.end[r]),e.strides[n]=t.strides[r],t.beginMask&1<<r&&(e.beginMask|=1<<n),t.endMask&1<<r&&(e.endMask|=1<<n),t.shrinkAxisMask&1<<r?(e.finalShapeGatherIndices.push(LBe),e.finalShapeGatherIndicesSparse.push(-1),e.shrinkAxisMask|=1<<n):(e.finalShapeGatherIndices.push(n),e.finalShapeGatherIndicesSparse.push(r)),e.inputShapeGatherIndicesSparse[n]=r,n++}}function YQ(t,e,n,r,s,i){if(s[e])return n>0?i[e]:i[e+1&1];{const a=t<0?r+t:t;return a<i[0]?i[0]:a>i[1]?i[1]:a}}const jte=Object.freeze(Object.defineProperty({__proto__:null,assertParamsValid:RL,computeFlatOffset:DL,computeOutShape:OL,getNormalizedAxes:PBe,isSliceContinous:FL,maskToAxes:$Be,parseSliceParams:jN,sliceInfo:LL,startForAxis:Ite,startIndicesWithElidedDims:kte,stopForAxis:Nte,stopIndicesWithElidedDims:Bte,stridesForAxis:Ete,stridesWithElidedDims:wte},Symbol.toStringTag,{value:"Module"}));const zBe="4.22.0";class Tte{static sgd(e){return new IN(e)}static momentum(e,n,r=!1){return new IL(e,n,r)}static rmsprop(e,n=.9,r=0,s=null,i=!1){return new NL(e,n,r,s,i)}static adam(e=.001,n=.9,r=.999,s=null){return new BL(e,n,r,s)}static adadelta(e=.001,n=.95,r=null){return new CL(e,n,r)}static adamax(e=.002,n=.9,r=.999,s=null,i=0){return new EL(e,n,r,s,i)}static adagrad(e,n=.1){return new kL(e,n)}}const rg=Tte;const MBe=typeof requestAnimationFrame<"u"?requestAnimationFrame:typeof setImmediate<"u"?setImmediate:t=>t();function $L(){return new Promise(t=>MBe(()=>t()))}function PL(t,e){const n=t[0].length;t.forEach((s,i)=>{ce(s.length===n,()=>`Error in concat${n}D: rank of tensors[${i}] must be the same as the rank of the rest (${n})`)}),ce(e>=0&&e<n,()=>`Error in concat${n}D: axis must be between 0 and ${n-1}.`);const r=t[0];t.forEach((s,i)=>{for(let a=0;a<n;a++)ce(a===e||s[a]===r[a],()=>`Error in concat${n}D: Shape of tensors[${i}] (${s}) does not match the shape of the rest (${r}) along the non-concatenated axis ${i}.`)})}function Yf(t,e){const n=t[0].slice();for(let r=1;r<t.length;r++)n[e]+=t[r][e];return n}var Qd;(function(t){t[t.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",t[t.VALUE_ROWIDS=1]="VALUE_ROWIDS",t[t.ROW_LENGTHS=2]="ROW_LENGTHS",t[t.ROW_SPLITS=3]="ROW_SPLITS",t[t.ROW_LIMITS=4]="ROW_LIMITS",t[t.ROW_STARTS=5]="ROW_STARTS"})(Qd||(Qd={}));function _te(t,e,n){let r=new Array;if(n==null&&e==null)return r;if(e==null)for(;r.length<t+n.length;)r.push(-1);else r=e.slice();if(n==null)return r;if(t+n.length!==r.length)throw new Error(`rt input.shape and shape=${e} are incompatible: rt input.rank = ${t+n.length}, but shape.rank = ${r.length}`);for(let s=1;s<n.length;++s){const i=n[s],a=r[r.length-n.length+s],o=r[a];if(i>=0)if(o>=0){if(o!==i)throw new Error(`rt input.shape and shape=${e} are incompatible: rt input.shape[${s+t}] = ${i} but shape[${s+t}] = ${o}`)}else r[a]=i}return r}function Rte(t){const e={FIRST_DIM_SIZE:Qd.FIRST_DIM_SIZE,VALUE_ROWIDS:Qd.VALUE_ROWIDS,ROW_LENGTHS:Qd.ROW_LENGTHS,ROW_SPLITS:Qd.ROW_SPLITS,ROW_LIMITS:Qd.ROW_LIMITS,ROW_STARTS:Qd.ROW_STARTS},n=[];for(const r of t)if(r in e)n.push(e[r]);else break;return n}function Ote(t){return t.length===0?0:t[0]===Qd.FIRST_DIM_SIZE?t.length-1:t.length}function Fte(t,e){if(t==null||e==null)return;const n=t.length,r=e.length;if(n>=r)throw new Error(`defaultValue.shape=${t} and ragged tensor flatValues.shape=${e}, are incompatible: defaultValue.rank = ${n} must be less than ragged tensor input flatValues.rank = ${r})`);for(let s=0;s<Math.min(n,r-1);++s){const i=t[s],a=e[s+1];if(i>=0&&a>=0&&i!==1&&i!==a)throw new Error(`defaultValue.shape=${t}, and ragged tensor input flatValues.shape=${e} are incompatible: defaultValue.shape[${s-t.length}] = ${i} but ragged tensor input.flatValues.shape[${s-t.length}] = ${a}`)}}const UL=30;function TN(t){return t<=UL?t:FB(t,Math.floor(Math.sqrt(t)))}function zL(t,e,n){const r=n*(typeof t=="number"?t:t[0]),s=e*(typeof t=="number"?t:t[1]);return[r,s]}function P5(t,e,n,r=!0){let s=[];if(r)s=s.concat(e.slice(0)),s.push(t[0]/n),s=s.concat(t.slice(1));else{s=s.concat(t[0]);const i=e.length;for(let a=0;a<i;++a)s=s.concat([t[a+1]/e[a],e[a]]);s=s.concat(t.slice(i+1))}return s}function U5(t,e,n=!0){const r=[];if(n){r.push(e);for(let s=e+1;s<t;++s)s<=2*e?(r.push(s),r.push(s-(e+1))):r.push(s)}else{const s=[],i=[];for(let a=1;a<t;++a)a>=e*2+1||a%2===1?i.push(a):s.push(a);r.push(...s),r.push(0),r.push(...i)}return r}function z5(t,e,n,r=!0){const s=[];r?s.push(t[0]/n):s.push(t[0]*n);for(let i=1;i<t.length;++i)i<=e.length?r?s.push(e[i-1]*t[i]):s.push(t[i]/e[i-1]):s.push(t[i]);return s}function ML(t,e){const n=[0];for(let r=0;r<e;++r)n.push(t[r][0]);return n}function QL(t,e,n){const r=t.slice(0,1);for(let s=0;s<n;++s)r.push(t[s+1]-e[s][0]-e[s][1]);return r}const _N=1.7580993408473768,RN=1.0507009873554805;const HL=.3275911,WL=.254829592,VL=-.284496736,qL=1.421413741,GL=-1.453152027,KL=1.061405429;function Sh(t,e){if(t.length!==e.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${t.length}, imag: ${e.length}.`);const n=new Float32Array(t.length*2);for(let r=0;r<n.length;r+=2)n[r]=t[r/2],n[r+1]=e[r/2];return n}function Dte(t){const e=new Float32Array(t.length/2),n=new Float32Array(t.length/2);for(let r=0;r<t.length;r+=2)e[r/2]=t[r],n[r/2]=t[r+1];return{real:e,imag:n}}function Lte(t){const e=Math.ceil(t.length/4),n=new Float32Array(e),r=new Float32Array(e);for(let s=0;s<t.length;s+=4)n[Math.floor(s/4)]=t[s],r[Math.floor(s/4)]=t[s+1];return{real:n,imag:r}}function $te(t){const e=Math.floor(t.length/4),n=new Float32Array(e),r=new Float32Array(e);for(let s=2;s<t.length;s+=4)n[Math.floor(s/4)]=t[s],r[Math.floor(s/4)]=t[s+1];return{real:n,imag:r}}function XL(t,e){const n=t[e*2],r=t[e*2+1];return{real:n,imag:r}}function Pte(t,e,n,r){t[r*2]=e,t[r*2+1]=n}function Ute(t,e){const n=new Float32Array(t/2),r=new Float32Array(t/2);for(let s=0;s<Math.ceil(t/2);s++){const i=(e?2:-2)*Math.PI*(s/t);n[s]=Math.cos(i),r[s]=Math.sin(i)}return{real:n,imag:r}}function zte(t,e,n){const r=(n?2:-2)*Math.PI*(t/e),s=Math.cos(r),i=Math.sin(r);return{real:s,imag:i}}const QT="->",QBe=/->/g,JQ=",",ZQ="...";function YL(t,e){t=t.replace(/\s/g,"");const n=(t.length-t.replace(QBe,"").length)/QT.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error(`Equation must contain exactly one arrow ("${QT}").`);const[r,s]=t.split(QT);ce(r.indexOf(ZQ)===-1,()=>`The ellipsis notation ("${ZQ}") is not supported yet.`);const i=r.split(JQ),a=i.length;if(e!==a)throw new Error(`Expected ${a} input tensors, received ${e}`);if(a>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const o=[];for(let h=0;h<s.length;++h){const m=s[h];if(!i.some(g=>g.indexOf(m)!==-1))throw new Error(`Output subscripts contain the label ${m} not present in the input subscripts.`);o.indexOf(m)===-1&&o.push(m)}for(let h=0;h<r.length;++h){const m=r[h];o.indexOf(m)===-1&&m!==JQ&&o.push(m)}const c=new Array(i.length);for(let h=0;h<a;++h){if(new Set(i[h].split("")).size!==i[h].length)throw new Error(`Found duplicate axes in input component ${i[h]}. Support for duplicate axes in input is not implemented yet.`);c[h]=[];for(let m=0;m<i[h].length;++m)c[h].push(o.indexOf(i[h][m]))}const u=o.length,d=s.length,f=[];for(let h=d;h<u;++h)f.push(h);return{allDims:o,summedDims:f,idDims:c}}function JL(t,e){let n=new Array(t);n.fill(-1);for(let s=0;s<e.length;++s)n[e[s]]=s;const r=[];for(let s=0;s<t;++s)n[s]===-1&&r.push(s);return n=n.filter(s=>s!==-1),{permutationIndices:n,expandDims:r}}function ZL(t,e,n){const r=new Array(t);for(let s=0;s<n.length;++s){const i=n[s].shape;for(let a=0;a<e[s].length;++a)r[e[s][a]]===void 0?r[e[s][a]]=i[a]:ce(r[e[s][a]]===i[a],()=>`Expected dimension ${r[e[s][a]]} at axis ${a} of input shaped ${JSON.stringify(i)}, but got dimension ${i[a]}`)}}function e$(t,e){const n=t,r=[];let s=0;t.length===0&&n.push(-1),s=t.length+1;for(let a=0;a<s;++a)r.push([]);const i=[];for(let a=0;a<n.length;++a){const o=n[a],c=HBe(e,o);for(const u of c)i.indexOf(u)===-1&&(r[a].push(u),i.push(u))}return{path:n,steps:r}}function t$(t){return t.every((e,n)=>e===n)}function HBe(t,e){const n=[];for(let r=0;r<t.length;++r)(t[r].length===0||t[r].indexOf(e)!==-1||e===-1)&&n.push(r);return n}function n$(t,e,n=0){let r=[];if(typeof e=="number")ce(t.shape[n]%e===0,()=>"Number of splits must evenly divide the axis."),r=new Array(e).fill(t.shape[n]/e);else{const s=e.reduce((a,o)=>(o===-1&&(a+=1),a),0);ce(s<=1,()=>"There should be only one negative value in split array.");const i=e.indexOf(-1);if(i!==-1){const a=e.reduce((o,c)=>c>0?o+c:o);e[i]=t.shape[n]-a}ce(t.shape[n]===e.reduce((a,o)=>a+o),()=>"The sum of sizes must match the size of the axis dimension."),r=e}return r}function Mte(t){return`Received SparseTensor with denseShape[0] = 0 but
  indices.shape[0] = ${t}`}function Qte(t,e){return`indices(${t}, 0) is invalid: ${e} < 0`}function Hte(t,e,n){return`indices(${t}, 0) is invalid: ${e} >= ${n}`}function Wte(t,e){return`only one output dimension may be -1, not both ${t} and ${e}`}function Vte(t,e){return`size ${t} must be non-negative, not ${e}`}function qte(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function Gte(t,e){const n=it(t),r=it(e);return`Input to reshape is a SparseTensor with ${n}
  dense values, but the requested shape requires a multiple of ${r}. inputShape=${t} outputShape= ${e}`}function Kte(t,e){const n=it(t),r=it(e);return`Input to reshape is a tensor with ${n} dense values, but the requested shape has ${r}. inputShape=${t} outputShape=${e}`}function bO(){return"segment ids must be >= 0"}function Xte(){return"segment ids are not increasing"}function Yte(t,e){return`Segment id ${t} out of range [0, ${e}), possibly because segmentIds input is not sorted.`}function Jte(t,e,n){return`Bad: indices[${t}] == ${e} out of range [0, ${n})`}function Zte(t,e){let n=!1,r;for(t<=UL?(r=t,n=!0):r=FB(t,Math.floor(Math.sqrt(t)));!n;)r>e||r===t?n=!0:r=FB(t,r+1);return r}function ene(t,e,n){const r=[],s=t.length;for(let i=0;i<s;i++)i!==e?r.push(t[i]):r.push(n);return r}function r$(t,e,n,r){const s=e.shape.length,i=t.shape.length;if(r!==0&&(r<-s||r>s))throw new Error(`Expect batchDims in the range of [-${s}, ${s}], but got ${r}`);if(r<0&&(r+=s),r>i)throw new Error(`batchDims (${r}) must be less than rank(x) (
    ${i}).`);if(n<r)throw new Error(`batchDims (${r}) must be less than or equal to axis (${n}).`);for(let f=0;f<r;++f)if(t.shape[f]!==e.shape[f])throw new Error(`x.shape[${f}]: ${t.shape[f]} should be equal to indices.shape[${f}]: ${e.shape[f]}.`);const a=t.shape[n],o=[];let c=1,u=1,d=1;for(let f=0;f<r;++f)o.push(t.shape[f]),c*=t.shape[f];for(let f=r;f<n;f++)o.push(t.shape[f]),u*=t.shape[f];for(let f=r;f<s;f++)o.push(e.shape[f]);for(let f=n+1;f<i;f++)o.push(t.shape[f]),d*=t.shape[f];return{batchSize:c,sliceSize:d,outerSize:u,dimSize:a,outputShape:o}}const WBe=Object.freeze(Object.defineProperty({__proto__:null,collectGatherOpShapeInfo:r$,computeOutShape:ene,segOpComputeOptimalWindowSize:Zte},Symbol.toStringTag,{value:"Module"}));function Ch(t){try{return t.map(e=>bh(e))}catch(e){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${e}`)}}function tne(t){return t.map(e=>Kf(e))}const nne=Object.freeze(Object.defineProperty({__proto__:null,ERF_A1:WL,ERF_A2:VL,ERF_A3:qL,ERF_A4:GL,ERF_A5:KL,ERF_P:HL,PARALLELIZE_THRESHOLD:UL,get RowPartitionType(){return Qd},SELU_SCALE:RN,SELU_SCALEALPHA:_N,applyActivation:SN,assertAndGetBroadcastShape:rr,assertAxesAreInnerMostDims:Qo,assertParamsConsistent:PL,assignToTypedArray:Pte,axesAreInnerMostDims:VD,calculateShapes:Em,checkEinsumDimSizes:ZL,checkPadOnDimRoundingMode:Rl,combineLocations:gee,combineRaggedTensorToTensorShapes:_te,complexWithEvenIndex:Lte,complexWithOddIndex:$te,computeConv2DInfo:mo,computeConv3DInfo:Sm,computeDefaultPad:ND,computeDilation2DInfo:b5,computeOptimalWindowSize:TN,computeOutAndReduceShapes:go,computeOutShape:Yf,computePool2DInfo:od,computePool3DInfo:Dh,convertConv2DDataFormat:Lh,decodeEinsumEquation:YL,eitherStridesOrDilationsAreOne:Mo,expandShapeToKeepDim:ya,exponent:zte,exponents:Ute,fromStringArrayToUint8:tne,fromUint8ToStringArray:Ch,getAxesPermutation:Gi,getBroadcastDims:Xg,getComplexWithIndex:XL,getEinsumComputePath:e$,getEinsumPermutation:JL,getFusedBiasGradient:wN,getFusedDyActivation:vN,getImageCenter:zL,getInnerMostAxes:xa,getPermuted:U5,getRaggedRank:Ote,getReductionAxes:Da,getReshaped:P5,getReshapedPermuted:z5,getRowPartitionTypesHelper:Rte,getSliceBeginCoords:ML,getSliceSize:QL,getSparseFillEmptyRowsIndicesDenseShapeMismatch:Mte,getSparseFillEmptyRowsNegativeIndexErrorMessage:Qte,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:Hte,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:qte,getSparseReshapeInputOutputMismatchErrorMessage:Kte,getSparseReshapeInputOutputMultipleErrorMessage:Gte,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:Wte,getSparseReshapeNegativeOutputDimErrorMessage:Vte,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:Jte,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:bO,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:Xte,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:Yte,getUndoAxesPermutation:Cm,isIdentityPermutation:t$,log:$be,mergeRealAndImagArrays:Sh,prepareAndValidate:NN,prepareSplitSize:n$,segment_util:WBe,shouldFuse:CN,slice_util:jte,splitRealAndImagArrays:Dte,stridesOrDilationsArePositive:Kg,tupleValuesAreOne:am,upcastType:Kl,validateDefaultValueShape:Fte,validateInput:mN,validateUpdateShape:hL,warn:ru},Symbol.toStringTag,{value:"Module"}));const VBe=Object.freeze(Object.defineProperty({__proto__:null,nonMaxSuppressionV3Impl:kN,nonMaxSuppressionV4Impl:BN,nonMaxSuppressionV5Impl:EN,whereImpl:xN},Symbol.toStringTag,{value:"Module"}));aBe();const qBe=Object.freeze(Object.defineProperty({__proto__:null,Abs:pw,Acos:z1,Acosh:M1,AdadeltaOptimizer:CL,AdagradOptimizer:kL,AdamOptimizer:BL,AdamaxOptimizer:EL,Add:b0,AddN:mw,All:PE,Any:UE,ArgMax:gw,ArgMin:yw,Asin:Q1,Asinh:H1,Atan:W1,Atan2:q1,Atanh:V1,AvgPool:xw,AvgPool3D:bw,AvgPool3DGrad:ME,AvgPoolGrad:zE,BatchMatMul:vw,BatchToSpaceND:ww,Bincount:QE,BitwiseAnd:Sw,BroadcastArgs:HE,BroadcastTo:OZ,Cast:G1,Ceil:K1,ClipByValue:X1,Complex:WE,ComplexAbs:Cw,Concat:kw,Conv2D:Bw,Conv2DBackpropFilter:VE,Conv2DBackpropInput:Ew,Conv3D:Iw,Conv3DBackpropFilterV2:qE,Conv3DBackpropInputV2:GE,Cos:Y1,Cosh:J1,CropAndResize:XE,Cumprod:KE,Cumsum:Nw,DataStorage:nD,DenseBincount:YE,DepthToSpace:JE,DepthwiseConv2dNative:jw,DepthwiseConv2dNativeBackpropFilter:ZE,DepthwiseConv2dNativeBackpropInput:eI,Diag:tI,Dilation2D:Tw,Dilation2DBackpropFilter:LB,Dilation2DBackpropInput:DB,Draw:nI,get ENV(){return oD},Einsum:rI,Elu:ex,EluGrad:sI,Environment:_Z,Equal:_w,Erf:tx,Exp:nx,ExpandDims:Rw,Expm1:rx,FFT:iI,Fill:aI,FlipLeftRight:oI,Floor:sx,FloorDiv:ix,FromPixels:$B,FusedBatchNorm:Ow,FusedConv2D:x2,FusedDepthwiseConv2D:b2,GatherNd:lI,GatherV2:Fw,Greater:Dw,GreaterEqual:ax,IFFT:cI,Identity:ox,Imag:uI,IsFinite:lx,IsInf:cx,IsNan:ux,KernelBackend:DE,LRN:Qw,LRNGrad:fI,LeakyRelu:Lw,Less:$w,LessEqual:Pw,LinSpace:dI,Log:dx,Log1p:fx,LogSoftmax:FZ,LogicalAnd:Uw,LogicalNot:zw,LogicalOr:Mw,LogicalXor:Rbe,LowerBound:Obe,MatrixBandPart:Fbe,Max:Hw,MaxPool:Ww,MaxPool3D:Vw,MaxPool3DGrad:hI,MaxPoolGrad:AI,MaxPoolWithArgmax:pI,Maximum:Ax,Mean:qw,Min:Gw,Minimum:hx,MirrorPad:Kw,Mod:px,MomentumOptimizer:IL,Multinomial:mI,Multiply:mx,Neg:Xw,NonMaxSuppressionV3:gI,NonMaxSuppressionV4:yI,NonMaxSuppressionV5:xI,NotEqual:Yw,OP_SCOPE_SUFFIX:AD,OneHot:Zw,OnesLike:Jw,Optimizer:zh,OptimizerConstructors:Tte,Pack:e5,PadV2:t5,Pool:Dbe,Pow:gx,Prelu:n5,Prod:r5,RMSPropOptimizer:NL,RaggedGather:bI,RaggedRange:vI,RaggedTensorToTensor:wI,Range:SI,get Rank(){return nO},Real:CI,RealDiv:Z1,Reciprocal:yx,get Reduction(){return El},Relu:xx,Relu6:bx,Reshape:s5,ResizeBilinear:a5,ResizeBilinearGrad:BI,ResizeNearestNeighbor:i5,ResizeNearestNeighborGrad:kI,Reverse:o5,RotateWithOffset:QI,Round:vx,Rsqrt:wx,SGDOptimizer:IN,ScatterNd:EI,SearchSorted:NI,Select:l5,Selu:Sx,Sigmoid:Ex,Sign:Bx,Sin:Cx,Sinh:kx,Slice:c5,Softmax:A5,Softplus:Ix,SpaceToBatchND:d5,SparseFillEmptyRows:jI,SparseReshape:TI,SparseSegmentMean:_I,SparseSegmentSum:RI,SparseToDense:OI,SplitV:f5,Sqrt:Nx,Square:FI,SquaredDifference:jx,StaticRegexReplace:h5,Step:Fx,StridedSlice:DI,StringNGrams:LI,StringSplit:$I,StringToHashBucketFast:PI,Sub:Tx,Sum:u5,Tan:_x,Tanh:Rx,Tensor:Fr,TensorBuffer:Fa,TensorScatterUpdate:II,Tile:Ox,TopK:UI,Transform:zI,Transpose:Eg,Unique:MI,Unpack:p5,UnsortedSegmentSum:m5,UpperBound:Lbe,Variable:S2,ZerosLike:g5,_FusedMatMul:y2,abs:Na,acos:vD,acosh:wD,add:jt,addN:uee,all:qI,any:k2,argMax:Gg,argMin:SD,asin:CD,asinh:kD,atan:BD,atan2:ED,atanh:ID,avgPool:v5,avgPool3d:jD,backend:mD,backend_util:nne,basicLSTMCell:dee,batchNorm:Dx,batchNorm2d:TD,batchNorm3d:_D,batchNorm4d:RD,batchToSpaceND:w5,bincount:OD,bitwiseAnd:fee,booleanMaskAsync:Xee,broadcastArgs:Aee,broadcastTo:Ig,broadcast_util:mwe,browser:FBe,buffer:cr,cast:Mt,ceil:FD,clipByValue:Yl,clone:Xf,complex:vh,concat:Wi,concat1d:DD,concat2d:S5,concat3d:LD,concat4d:$D,conv1d:GI,conv2d:wh,conv2dTranspose:KI,conv3d:UD,conv3dTranspose:zD,copyRegisteredKernels:zbe,cos:C5,cosh:XI,cosineWindow:bN,cumprod:I2,cumsum:YI,customGrad:lA,denseBincount:zB,deprecationWarn:bve,depthToSpace:MD,depthwiseConv2d:Lx,device_util:hve,diag:pee,dilation2d:QD,disableDeprecationWarnings:xve,dispose:Ar,disposeVariables:vve,div:un,divNoNan:HD,dot:WD,dropout:xL,einsum:cg,elu:$x,enableDebugMode:yve,enableProdMode:gve,enclosingPowerOfTwo:bL,engine:Ud,ensureShape:mee,env:Xe,equal:rd,erf:JI,euclideanNorm:qD,exp:Jl,expandDims:Oo,expm1:GD,eye:ZI,fft:L5,fill:v0,findBackend:Bve,findBackendFactory:Eve,floor:Ux,floorDiv:VI,fused:ite,gather:zx,gatherND:ete,gather_util:DBe,getBackend:XZ,getGradient:eO,getKernel:w2,getKernelsForBackend:PB,grad:Zwe,grads:e5e,greater:rc,greaterEqual:$h,ifft:v1,imag:k5,image:ou,inTopKAsync:tte,io:_L,irfft:hN,isFinite:KD,isInf:XD,isNaN:YD,keep:Ma,kernel_impls:VBe,leakyRelu:B5,less:g1,lessEqual:km,linalg:SL,linspace:xee,localResponseNormalization:JD,log:Rc,log1p:E5,logSigmoid:ZD,logSoftmax:tN,logSumExp:I5,logicalAnd:tf,logicalNot:N5,logicalOr:nN,logicalXor:eL,losses:fte,lowerBound:vee,matMul:fr,math:BBe,max:fu,maxPool:j5,maxPool3d:tL,maxPoolWithArgmax:wee,maximum:gA,mean:$i,memory:lO,meshgrid:See,min:m1,minimum:lm,mirrorPad:nL,mod:rL,moments:T5,movingAverage:Yee,mul:je,multiRNNCell:Cee,multinomial:kee,neg:Zs,nextFrame:$L,norm:Px,notEqual:Yg,oneHot:y1,ones:Vl,onesLike:Oc,op:Ne,outerProduct:Bee,pad:Ph,pad1d:Eee,pad2d:Iee,pad3d:Nee,pad4d:jee,pool:sL,pow:oA,prelu:R5,print:bD,prod:iL,profile:wve,raggedGather:Tee,raggedRange:_ee,raggedTensorToTensor:Ree,rand:Oee,randomGamma:Lee,randomNormal:iN,randomStandardNormal:$ee,randomUniform:Bm,randomUniformInt:Pee,range:Jg,ready:hD,real:x1,reciprocal:cL,registerBackend:pD,registerGradient:DZ,registerKernel:HI,relu:ff,relu6:aN,removeBackend:kve,reshape:Fe,reverse:hu,reverse1d:Uee,reverse2d:zee,reverse3d:Mee,reverse4d:Qee,rfft:$5,round:oN,rsqrt:lN,scalar:Fn,scatterND:Jee,scatter_util:rCe,searchSorted:rN,selu:cN,separableConv2d:uN,serialization:sBe,setBackend:Cve,setPlatform:Ive,setdiff1dAsync:Hee,sigmoid:ed,sign:uL,signal:dte,sin:dN,sinh:fN,slice:Gn,slice1d:O5,slice2d:AN,slice3d:F5,slice4d:b1,slice_util:jte,softmax:D5,softplus:w0,spaceToBatchND:_5,sparse:Ate,sparseToDense:Zee,spectral:ute,split:Gl,sqrt:po,square:Ts,squaredDifference:pN,squeeze:td,stack:Zl,step:S0,stridedSlice:dL,string:hte,sub:Kt,sum:hn,sumOutType:WI,tan:fL,tanh:om,tensor:Zu,tensor1d:Qa,tensor2d:qp,tensor3d:AL,tensor4d:Wee,tensor5d:Vee,tensor6d:qee,tensorScatterUpdate:Gee,tensor_util:cve,test_util:mSe,tidy:He,tile:au,time:Sve,topk:pL,train:rg,transpose:Br,truncatedNormal:gN,unique:mL,unregisterGradient:Ube,unregisterKernel:Pbe,unsortedSegmentSum:yN,unstack:pu,upcastType:Kl,upperBound:Kee,util:Xbe,valueAndGrad:t5e,valueAndGrads:n5e,variable:gL,variableGrads:bee,version_core:zBe,where:$o,whereAsync:yL,zeros:Ra,zerosLike:Lr},Symbol.toStringTag,{value:"Module"}));const rne={kernelName:pw,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>je(t,S0(Mt(n,"float32"),-1))}}};const GBe={kernelName:z1,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const r=Ts(Mt(n,"float32")),s=po(Kt(Fn(1),r));return Zs(un(t,s))}}}};const KBe={kernelName:M1,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const r=po(Kt(Ts(Mt(n,"float32")),1));return un(t,r)}}}};const XBe={kernelName:b0,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,s=rr(n.shape,r.shape);return{a:()=>{let o=t;const c=Da(n.shape,s);return c.length>0&&(o=hn(o,c)),Fe(o,n.shape)},b:()=>{let o=t;const c=Da(r.shape,s);return c.length>0&&(o=hn(o,c)),Fe(o,r.shape)}}}};const YBe={kernelName:mw,saveAllInputs:!0,gradFunc:(t,e)=>{const n={};return e.forEach((r,s)=>{n[s]=()=>t.clone()}),n}};const JBe={kernelName:gw,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Lr(n)}}};const ZBe={kernelName:yw,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Lr(n)}}};const e4e={kernelName:Q1,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>un(t,po(Kt(Fn(1),Ts(Mt(n,"float32")))))}}};const t4e={kernelName:H1,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const r=po(jt(Fn(1),Ts(Mt(n,"float32"))));return un(t,r)}}}};const n4e={kernelName:q1,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,s=rr(n.shape,r.shape);return{a:()=>{const o=jt(Ts(n),Ts(r));let c=je(t,un(r,o));const u=Da(n.shape,s);return u.length>0&&(c=hn(c,u)),Fe(c,n.shape)},b:()=>{const o=jt(Ts(n),Ts(r));let c=Zs(je(t,un(n,o)));const u=Da(r.shape,s);return u.length>0&&(c=hn(c,u)),Fe(c,r.shape)}}}};const r4e={kernelName:W1,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>un(t,jt(Ts(Mt(n,"float32")),1))}}};const s4e={kernelName:V1,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>un(t,Kt(Fn(1),Ts(Mt(n,"float32"))))}}};function i4e(t,e,n,r,s,i){const a=fe(t,"dy","avgPool3dGrad"),o=fe(e,"input","avgPool3dGrad");let c=a,u=o,d=!1;o.rank===4&&(d=!0,c=Fe(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]]),u=Fe(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),ce(c.rank===5,()=>`Error in avgPool3dGrad: dy must be rank 5 but got rank ${c.rank}.`),ce(u.rank===5,()=>`Error in avgPool3dGrad: input must be rank 5 but got rank ${u.rank}.`),Rl("avgPool3dGrad",s,i);const f={dy:c,input:u},h={filterSize:n,strides:r,pad:s,dimRoundingMode:i},m=Ie.runKernel(ME,f,h);return d?Fe(m,[m.shape[1],m.shape[2],m.shape[3],m.shape[4]]):m}const a4e=Ne({avgPool3dGrad_:i4e});const o4e={kernelName:bw,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{filterSize:s,strides:i,pad:a,dimRoundingMode:o}=n;return{x:()=>a4e(t,r,s,i,a,o)}}};function l4e(t,e,n,r,s){const i=fe(t,"dy","avgPoolGrad"),a=fe(e,"input","avgPoolGrad");ce(a.rank===i.rank,()=>`Rank of input (${a.rank}) does not match rank of dy (${i.rank})`);let o=a,c=i,u=!1;a.rank===3&&(u=!0,o=Fe(a,[1,a.shape[0],a.shape[1],a.shape[2]]),c=Fe(i,[1,i.shape[0],i.shape[1],i.shape[2]])),ce(c.rank===4,()=>`Error in avgPoolGrad: dy must be rank 4 but got rank ${c.rank}.`),ce(o.rank===4,()=>`Error in avgPoolGrad: input must be rank 4 but got rank ${o.rank}.`);const d={dy:c,input:o},f={filterSize:n,strides:r,pad:s},h=Ie.runKernel(zE,d,f);return u?Fe(h,[h.shape[1],h.shape[2],h.shape[3]]):h}const c4e=Ne({avgPoolGrad_:l4e});const u4e={kernelName:xw,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{filterSize:s,strides:i,pad:a}=n;return{x:()=>c4e(t,r,s,i,a)}}};const d4e={kernelName:vw,inputsToSave:["a","b"],gradFunc:(t,e,n)=>{const[r,s]=e,{transposeA:i,transposeB:a}=n;return!i&&!a?{a:()=>fr(t,s,!1,!0),b:()=>fr(r,t,!0,!1)}:!i&&a?{a:()=>fr(t,s,!1,!1),b:()=>fr(t,r,!0,!1)}:i&&!a?{a:()=>fr(s,t,!1,!0),b:()=>fr(r,t,!1,!1)}:{a:()=>fr(s,t,!0,!0),b:()=>fr(t,r,!0,!0)}}};const f4e={kernelName:ww,gradFunc:(t,e,n)=>{const{blockShape:r,crops:s}=n;return{x:()=>_5(t,r,s)}}};const A4e={kernelName:OZ,gradFunc:(t,e,n)=>{const r=n,s=r.inputShape,i=r.shape,a=Array.from(i);for(let c=s.length-1;c>=0;c--)if(s[c]===i[c])a[c]=1;else if(s[c]!==1)throw new Error(`broadcastTo(): [${s}] cannot be broadcast to [${i}].`);const o=[];for(let c=0;c<a.length;c++)a[c]>1&&o.push(c);return{x:()=>hn(t,o,!0)}}};const h4e={kernelName:G1,gradFunc:t=>({x:()=>t.clone()})};const p4e={kernelName:K1,gradFunc:t=>({x:()=>Lr(t)})};const m4e={kernelName:X1,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{clipValueMin:s,clipValueMax:i}=n;return{x:()=>$o(tf($h(r,s),km(r,i)),t,Lr(t))}}};const g4e={kernelName:Cw,inputsToSave:["x"],gradFunc:rne.gradFunc};const y4e={kernelName:kw,saveAllInputs:!0,gradFunc:(t,e,n)=>{const r=e.map(c=>c.shape),{axis:s}=n,i=hr(s,e[0].shape)[0],a=r.map(c=>c[i]);return Gl(t,a,i).map(c=>()=>c)}};const x4e={kernelName:Bw,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const[r,s]=e,{dilations:i,strides:a,pad:o,dataFormat:c}=n;return ce(am(i),()=>`Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${i}'`),{x:()=>PD(r.shape,t,s,a,o,c),filter:()=>vL(r,t,s.shape,a,o,c)}}};const b4e={kernelName:Ew,inputsToSave:["dy","filter"],gradFunc:(t,e,n)=>{const[r,s]=e,{strides:i,pad:a,dataFormat:o,dimRoundingMode:c}=n;return{dy:()=>wh(t,s,i,a,o,1,c),filter:()=>vL(t,r,s.shape,i,a,o,c)}}};function v4e(t,e,n,r,s){let i=t;t.rank===4&&(i=Fe(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]));let a=e;a.rank===4&&(a=Fe(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]])),ce(i.rank===5,()=>`Error in conv3dDerFilter: input must be rank 5, but got shape ${i.shape}.`),ce(a.rank===5,()=>`Error in conv3dDerFilter: dy must be rank 5, but got shape ${a.shape}.`),ce(n.length===5,()=>`Error in conv3dDerFilter: filterShape must be length 5, but got ${n}.`),ce(i.shape[4]===n[3],()=>`Error in conv3dDerFilter: depth of input ${i.shape[4]}) must match input depth in filter (${n[3]}.`),ce(a.shape[4]===n[4],()=>`Error in conv3dDerFilter: depth of dy (${a.shape[4]}) must match output depth for filter (${n[4]}).`);const o={x:i,dy:a},c={strides:r,pad:s,filterShape:n};return Ie.runKernel(qE,o,c)}const w4e=Ne({conv3DBackpropFilter_:v4e});const S4e={kernelName:Iw,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const{dilations:r,strides:s,pad:i}=n;ce(am(r),()=>`Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${r}'`);const[a,o]=e;return{x:()=>hee(a.shape,t,o,s,i),filter:()=>w4e(a,t,o.shape,s,i)}}};const C4e={kernelName:Y1,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>je(Zs(dN(Mt(n,"float32"))),t)}}};const k4e={kernelName:J1,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>je(fN(Mt(n,"float32")),t)}}};const B4e={kernelName:Nw,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{axis:s,exclusive:i,reverse:a}=n;return{x:()=>{const o=Gi([s],r.rank);let c=YI(t,s,i,!a);return o!=null&&(c=Br(c,o)),c}}}};const E4e={kernelName:jw,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const{dilations:r,strides:s,pad:i,dimRoundingMode:a}=n,o=r??[1,1];ce(am(o),()=>`Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations '${o}'`);const[c,u]=e;return ce(c.rank===4,()=>`Error in gradient of depthwiseConv2dNative: input must be rank 4, but got rank ${c.rank}.`),ce(u.rank===4,()=>`Error in gradient of depthwiseConv2dNative: filter must be rank 4, but got rank ${u.rank}.`),ce(c.shape[3]===u.shape[2],()=>`Error in gradient of depthwiseConv2d: number of input channels (${c.shape[3]}) must match the inChannels dimension in filter ${u.shape[2]}.`),ce(Mo(s,o),()=>`Error in gradient of depthwiseConv2d: Either strides or dilations must be  1. Got strides ${s} and dilations '${o}'.`),Rl("depthwiseConv2d",i,a),{x:()=>ste(c.shape,t,u,s,i,o,a),filter:()=>rte(c,t,u.shape,s,i,o,a)}}};const I4e={kernelName:Tw,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const[r,s]=e,i={x:r,filter:s,dy:t},a={x:r,filter:s,dy:t};return{x:()=>Ie.runKernel(DB,i,n),filter:()=>Ie.runKernel(LB,a,n)}}};const N4e={kernelName:ex,outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e,r={dy:t,y:n};return{x:()=>Ie.runKernel(sI,r)}}};const j4e={kernelName:tx,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e,r=je(Jl(Zs(Ts(n))),2/Math.sqrt(Math.PI));return{x:()=>je(t,r)}}};const T4e={kernelName:nx,outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e;return{x:()=>je(t,n)}}};const _4e={kernelName:Rw,inputsToSave:["input"],gradFunc:(t,e)=>{const[n]=e;return{input:()=>Fe(t,n.shape)}}};const R4e={kernelName:rx,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>je(t,Jl(n))}}};const O4e={kernelName:sx,gradFunc:t=>({x:()=>Lr(t)})};const F4e={kernelName:ix,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,s=rr(n.shape,r.shape);return{a:()=>{const o=un(t,Mt(r,"float32")),c=Da(n.shape,s);return c.length>0?Fe(hn(o,c),n.shape):o},b:()=>{let o=je(t,Mt(n,"float32"));const c=Da(r.shape,s);c.length>0&&(o=Fe(hn(o,c),r.shape));const u=Ts(r);return Zs(un(o,Mt(u,"float32")))}}}};const D4e={kernelName:Ow,inputsToSave:["x","mean","variance","scale"],gradFunc:(t,e,n)=>{const{varianceEpsilon:r}=n,[s,i,a,o]=e,c=o??Fn(1),u=Da(i.shape,s.shape),d=[];if(i.rank===1){for(let k=0;k<s.shape.length-1;++k)d.push(s.shape[k]);d.push(1)}const f=Kt(s,i),h=je(t,c),m=lN(jt(a,Fn(r))),g=je(je(je(m,m),m),Fn(-.5));return{x:()=>i.rank===1?Fe(je(je(t,au(Fe(m,[1,1,1,i.shape[0]]),d)),c),s.shape):Fe(je(je(t,m),c),s.shape),mean:()=>{let k=je(je(m,Fn(-1)),h);return i.rank===1&&(k=hn(k,u)),Fe(k,i.shape)},variance:()=>{let k=je(je(g,f),h);return i.rank===1&&(k=hn(k,u)),Fe(k,i.shape)},scale:()=>{const k=je(f,m);let E=je(t,k);return i.rank===1&&(E=hn(E,u)),Fe(E,i.shape)},offset:()=>{let k=t;return i.rank===1&&(k=hn(k,u)),Fe(k,i.shape)}}}};const L4e={kernelName:Fw,inputsToSave:["x","indices"],gradFunc:(t,e,n)=>{const[r,s]=e,{axis:i,batchDims:a}=n,o=hr(i,r.shape)[0],c=(u,d,f)=>()=>{const h=u.shape,m=d.size,g=h.slice(0,o),y=g.length,x=h.slice(i,h.length).slice(1),v=x.length,w=e7(0,y),B=e7(y+1,y+1+v),k=t7([g,[m],x]),E=Fe(f,k),N=Fe(d,[m]),O=t7([[y],w,B]),F=Br(E,O);let D=yN(F,N,u.shape[o]);const T=Cm(O);return D=Br(D,T),D};if(a===1){const u=r.shape[0],d=r.split(u,0);return{x:()=>Zl(d.map((m,g)=>c(m,s.slice(g,1),t.slice(g,1))())).reshape(r.shape),indices:()=>s}}else return{x:c(r,s,t),indices:()=>s}}};function e7(t,e){const n=[];for(let r=t;r<e;++r)n.push(r);return n}function t7(t){const e=[];for(let n=0;n<t.length;++n)for(let r=0;r<t[n].length;++r)e.push(t[n][r]);return e}const $4e={kernelName:ax,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e;return{a:()=>Lr(n),b:()=>Lr(r)}}};const P4e={kernelName:ox,gradFunc:t=>({x:()=>Mt(t,"float32")})};const U4e={kernelName:lx,gradFunc:t=>({x:()=>Lr(t)})};const z4e={kernelName:cx,gradFunc:t=>({x:()=>Lr(t)})};const M4e={kernelName:ux,gradFunc:t=>({x:()=>Lr(t)})};const Q4e={kernelName:Lw,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{alpha:s}=n,i=rc(r,0);return{x:()=>$o(i,t,je(t,s))}}};const H4e={kernelName:fx,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>un(t,jt(n,1))}}};const W4e={kernelName:dx,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>un(t,Mt(n,"float32"))}}};const V4e={kernelName:FZ,inputsToSave:[],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[r]=e,{axis:s}=n;return{logits:()=>{const a=Jl(r);return Kt(t,je(hn(t,s,!0),a))}}}};function q4e(t,e,n,r=5,s=1,i=1,a=.5){const o={x:t,y:e,dy:n},c={depthRadius:r,bias:s,alpha:i,beta:a};return Ie.runKernel(fI,o,c)}const G4e=Ne({localResponseNormalizationBackprop_:q4e});const K4e={kernelName:Qw,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[r,s]=e,{depthRadius:i,bias:a,alpha:o,beta:c}=n;return{x:()=>G4e(r,s,t,i,a,o,c)}}};function sne(t,e,n,r){return e.rank<n.rank&&(e=Fe(e,ya(e.shape,r))),t.rank<n.rank&&(t=Fe(t,ya(t.shape,r))),{x:()=>je(t,Mt(rd(n,e),t.dtype))}}const n7={kernelName:Hw,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const r=n,{reductionIndices:s}=r,i=e[0],a=e[1],o=hr(s,i.shape),c=sne(t,a,i,o);return{x:()=>c.x()}}};const X4e={kernelName:Ax,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e;return{a:()=>je(t,Mt($h(n,r),"float32")),b:()=>je(t,Mt(g1(n,r),"float32"))}}};function Y4e(t,e,n,r,s,i,a){const o=fe(t,"dy","maxPool3dGrad"),c=fe(e,"input","maxPool3dGrad"),u=fe(n,"output","maxPool3dGrad");let d=o,f=c,h=u,m=!1;c.rank===4&&(m=!0,d=Fe(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]]),f=Fe(c,[1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]]),h=Fe(u,[1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]])),ce(d.rank===5,()=>`Error in maxPool3dGrad: dy must be rank 5 but got rank ${d.rank}.`),ce(f.rank===5,()=>`Error in maxPool3dGrad: input must be rank 5 but got rank ${f.rank}.`),ce(h.rank===5,()=>`Error in maxPool3dGrad: output must be rank 5 but got rank ${h.rank}.`),Rl("maxPool3dGrad",i,a);const g={dy:d,input:f,output:h},y={filterSize:r,strides:s,pad:i,dimRoundingMode:a},x=Ie.runKernel(hI,g,y);return m?Fe(x,[x.shape[1],x.shape[2],x.shape[3],x.shape[4]]):x}const J4e=Ne({maxPool3dGrad_:Y4e});const Z4e={kernelName:Vw,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[r,s]=e,{filterSize:i,strides:a,pad:o,dimRoundingMode:c}=n;return{x:()=>J4e(t,r,s,i,a,o,c)}}};function eEe(t,e,n,r,s,i,a){const o=fe(t,"dy","maxPoolGrad"),c=fe(e,"input","maxPoolGrad"),u=fe(n,"output","maxPoolGrad");ce(c.rank===o.rank,()=>`Rank of input (${c.rank}) does not match rank of dy (${o.rank})`),ce(o.rank===4,()=>`Error in maxPoolGrad: dy must be rank 4 but got rank ${o.rank}.`),ce(c.rank===4,()=>`Error in maxPoolGrad: input must be rank 4 but got rank ${c.rank}.`),Rl("maxPoolGrad",i,a);const d={dy:o,input:c,output:u},f={filterSize:r,strides:s,pad:i,dimRoundingMode:a};return Ie.runKernel(AI,d,f)}const tEe=Ne({maxPoolGrad_:eEe});const nEe={kernelName:Ww,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[r,s]=e,{filterSize:i,strides:a,pad:o}=n;return{x:()=>tEe(t,r,s,i,a,o)}}};const rEe={kernelName:qw,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{axis:s}=n,i=hr(s,r.shape),o=go(r.shape,i)[1],c=it(o);return{x:()=>{const d=r.shape.slice();i.forEach(m=>{d[m]=1});const f=Fe(t,d);return un(je(f,Vl(r.shape,"float32")),c)}}}};const sEe={kernelName:Gw,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const r=n,{axis:s}=r,[i,a]=e,o=hr(s,i.shape),c=sne(t,a,i,o);return{x:()=>c.x()}}};const iEe={kernelName:hx,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e;return{a:()=>je(t,Mt(km(n,r),"float32")),b:()=>je(t,Mt(rc(n,r),"float32"))}}};const aEe={kernelName:Kw,inputsToSave:["x"],gradFunc:(t,e,n)=>{const r=e[0],{paddings:s}=n,i=s.map(a=>a[0]);return{x:()=>Gn(t,i,r.shape)}}};const oEe={kernelName:px,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,s=rr(n.shape,r.shape);return{a:()=>{const o=Da(n.shape,s);return o.length>0?Fe(hn(t,o),n.shape):t},b:()=>{const o=je(t,Zs(Ux(un(n,r)))),c=Da(r.shape,s);return c.length>0?Fe(hn(o,c),r.shape):o}}}};const lEe={kernelName:mx,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,s=rr(n.shape,r.shape);return{a:()=>{const o=je(t,Mt(r,"float32")),c=Da(n.shape,s);return c.length>0?Fe(hn(o,c),n.shape):o},b:()=>{const o=je(t,Mt(n,"float32")),c=Da(r.shape,s);return c.length>0?Fe(hn(o,c),r.shape):o}}}};const cEe={kernelName:Xw,gradFunc:t=>({x:()=>Zs(t)})};const uEe={kernelName:Zw,inputsToSave:["indices"],gradFunc:(t,e)=>{const n=e[0];return{indices:()=>Ra(n.shape,"float32")}}};const dEe={kernelName:Jw,gradFunc:t=>({x:()=>Lr(t)})};const fEe={kernelName:e5,saveAllInputs:!0,gradFunc:(t,e,n)=>{const{axis:r}=n;return pu(t,r).map(i=>()=>i)}};const r7={kernelName:t5,inputsToSave:["x"],gradFunc:(t,e,n)=>{const r=e[0],{paddings:s}=n,i=s.map(a=>a[0]);return{x:()=>Gn(t,i,r.shape)}}};const AEe={kernelName:gx,inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:(t,e)=>{const[n,r,s]=e,i=n,a=r,o=rr(i.shape,a.shape);return{a:()=>{const d=Mt(a,"float32");let f=je(t,je(d,oA(i,Kt(d,Fn(1)))));const h=Da(i.shape,o);return h.length>0&&(f=hn(f,h)),Fe(f,i.shape)},b:()=>{const d=rc(i,0),f=$o(d,Rc(i),Lr(i));let h=je(t,je(s,f));const m=Da(a.shape,o);return m.length>0&&(h=hn(h,m)),Fe(h,a.shape)}}}};const hEe={kernelName:n5,inputsToSave:["x","alpha"],gradFunc:(t,e)=>{const[n,r]=e,s=rc(n,0);return{x:()=>$o(s,t,je(t,r)),alpha:()=>{let i=$o(s,Lr(t),je(t,n));const a=Da(r.shape,t.shape);return a.length>0&&(i=hn(i,a)),Fe(i,r.shape)}}}};function pEe(t,e,n){const r=t.shape.slice();r[n]=1;const s=Fe(e,r),i=I2(t,n,!0,!1),a=I2(t,n,!0,!0),o=je(i,a);return je(s,o)}function mEe(t,e,n){const r=t.shape.length,s=r-n.length,i=Gi(n,r);let a=t;i!=null&&(a=Br(t,i));const o=a.shape.slice(),u=o.splice(r-n.length,n.length).reduce((h,m)=>h*m,1);o.push(u);const d=a.reshape(o);let f=pEe(d,e,s);if(f=f.reshape(a.shape),i!=null){const h=Cm(i);f=Br(f,h)}return f}const gEe={kernelName:r5,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{axis:s}=n;let i=[];return s==null?i=r.shape.map((a,o)=>o):typeof s=="number"?i=[s]:i=s,{x:()=>mEe(r,t,i)}}};const yEe={kernelName:Z1,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,s=rr(n.shape,r.shape);return{a:()=>{const o=un(t,Mt(r,"float32")),c=Da(n.shape,s);return c.length>0?Fe(hn(o,c),n.shape):o},b:()=>{let o=je(t,Mt(n,"float32"));const c=Da(r.shape,s);c.length>0&&(o=Fe(hn(o,c),r.shape));const u=Ts(r);return Zs(un(o,Mt(u,"float32")))}}}};const xEe={kernelName:yx,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>un(t,Zs(Ts(n)))}}};const bEe={kernelName:bx,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e,r=je(km(n,6),S0(n));return{x:()=>je(t,Mt(r,"float32"))}}};const vEe={kernelName:xx,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>je(t,Mt(S0(n),"float32"))}}};const wEe={kernelName:s5,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Fe(t,n.shape)}}};const SEe={kernelName:a5,inputsToSave:["images"],gradFunc:(t,e,n)=>{const[r]=e,s={dy:t,images:r};return{images:()=>Ie.runKernel(BI,s,n)}}};const CEe={kernelName:i5,inputsToSave:["images"],gradFunc:(t,e,n)=>{const[r]=e,s={dy:t,images:r};return{images:()=>Ie.runKernel(kI,s,n)}}};const kEe={kernelName:o5,gradFunc:(t,e,n)=>{const{dims:r}=n,s=hr(r,t.shape);return{x:()=>hu(t,s)}}};const BEe={kernelName:vx,gradFunc:t=>({x:()=>Lr(t)})};const EEe={kernelName:wx,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Zs(un(t,je(oA(n,1.5),2)))}}};const IEe={kernelName:l5,inputsToSave:["condition"],gradFunc:(t,e)=>{const[n]=e;return{condition:()=>Mt(Lr(n),"float32"),t:()=>je(t,Mt(n,t.dtype)),e:()=>je(t,Mt(N5(n),t.dtype))}}};const NEe={kernelName:Sx,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const r=rc(n,Fn(0)),s=Fn(_N),i=Fn(RN),a=je(t,i),o=je(je(t,s),Jl(Mt(n,"float32")));return $o(r,a,o)}}}};const jEe={kernelName:Ex,outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e;return{x:()=>je(t,je(n,Kt(Fn(1),n)))}}};const TEe={kernelName:Bx,gradFunc:t=>({x:()=>Lr(t)})};const _Ee={kernelName:Cx,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>je(C5(Mt(n,"float32")),t)}}};const REe={kernelName:kx,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>je(XI(Mt(n,"float32")),t)}}};const OEe={kernelName:c5,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{begin:s,size:i}=n,a=r.shape,[o,c]=jN(r,s,i),u=[];for(let d=0;d<t.rank;d++)u.push([o[d],a[d]-o[d]-c[d]]);return{x:()=>Ph(t,u)}}};const FEe={kernelName:A5,outputsToSave:[!0],gradFunc:(t,e,n)=>{const[r]=e,{dim:s}=n,i=!0,a=je(t,r);return{logits:()=>Kt(a,je(hn(a,[s],i),r))}}};const DEe={kernelName:Ix,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>je(t,ed(n))}}};const s7={kernelName:d5,gradFunc:(t,e,n)=>{const{blockShape:r,paddings:s}=n;return{x:()=>w5(t,r,s)}}};const i7={kernelName:f5,gradFunc:(t,e,n)=>{const{axis:r}=n;return{x:()=>Wi(t,r)}}};const LEe={kernelName:Nx,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>un(t,je(po(Mt(n,"float32")),2))}}};const $Ee={kernelName:FI,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>je(t,je(Mt(n,"float32"),2))}}};const PEe={kernelName:jx,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,s=Fn(2);return{a:()=>je(t,je(s,Kt(n,r))),b:()=>je(t,je(s,Kt(r,n)))}}};const UEe={kernelName:Fx,gradFunc:t=>({x:()=>Lr(t)})};const zEe={kernelName:Tx,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,s=rr(n.shape,r.shape);return{a:()=>{let o=t;const c=Da(n.shape,s);return c.length>0&&(o=hn(o,c)),Fe(o,n.shape)},b:()=>{let o=t;const c=Da(r.shape,s);return c.length>0&&(o=hn(o,c)),Fe(Zs(o),r.shape)}}}};const MEe={kernelName:u5,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,s=r.shape.slice(),{axis:i}=n;hr(i,r.shape).forEach(u=>{s[u]=1});const o=Fe(t,s),c=je(o,Vl(r.shape,"float32"));return{x:()=>c}}};const QEe={kernelName:_x,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>un(t,Ts(C5(n)))}}};const HEe={kernelName:Rx,outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e;return{x:()=>je(Kt(Fn(1),Ts(n)),t)}}};const WEe={kernelName:Ox,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{reps:s}=n;return{x:()=>{let a=Lr(r);if(r.rank===1)for(let o=0;o<s[0];++o)a=jt(a,Gn(t,[o*r.shape[0]],[r.shape[0]]));else if(r.rank===2)for(let o=0;o<s[0];++o)for(let c=0;c<s[1];++c)a=jt(a,Gn(t,[o*r.shape[0],c*r.shape[1]],[r.shape[0],r.shape[1]]));else if(r.rank===3)for(let o=0;o<s[0];++o)for(let c=0;c<s[1];++c)for(let u=0;u<s[2];++u)a=jt(a,Gn(t,[o*r.shape[0],c*r.shape[1],u*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else if(r.rank===4)for(let o=0;o<s[0];++o)for(let c=0;c<s[1];++c)for(let u=0;u<s[2];++u)for(let d=0;d<s[3];++d)a=jt(a,Gn(t,[o*r.shape[0],c*r.shape[1],u*r.shape[2],d*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]));else throw new Error(`Gradient for tile operation is not implemented for rank-${r.rank} tensors yet.`);return a}}}};const VEe={kernelName:Eg,gradFunc:(t,e,n)=>{const r=n,{perm:s}=r,i=Cm(s);return{x:()=>Br(t,i)}}};const qEe={kernelName:p5,gradFunc:(t,e,n)=>{const r=n,{axis:s}=r;return{value:()=>Zl(t,s)}}};const GEe={kernelName:m5,inputsToSave:["segmentIds"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>KEe(t,n)}}};function KEe(t,e){const n=gA(e,Lr(e)),r=zx(t,n);let s=$h(e,Fn(0,"int32"));const i=r.rank-s.rank;for(let o=0;o<i;++o)s=Oo(s,o+1);s=tf(s,Vl(r.shape,"bool"));const a=Lr(r);return $o(s,r,a)}const XEe={kernelName:g5,gradFunc:t=>({x:()=>Lr(t)})};const YEe=[rne,GBe,KBe,XBe,YBe,JBe,ZBe,e4e,t4e,n4e,r4e,s4e,o4e,u4e,d4e,f4e,A4e,h4e,p4e,m4e,g4e,y4e,b4e,x4e,S4e,C4e,k4e,B4e,E4e,I4e,yEe,N4e,j4e,T4e,_4e,R4e,F4e,O4e,D4e,L4e,$4e,P4e,U4e,z4e,M4e,Q4e,H4e,W4e,V4e,K4e,n7,n7,X4e,Z4e,nEe,rEe,sEe,iEe,aEe,oEe,lEe,cEe,uEe,dEe,fEe,r7,r7,AEe,hEe,gEe,xEe,bEe,vEe,wEe,SEe,CEe,kEe,BEe,EEe,IEe,NEe,jEe,TEe,_Ee,REe,OEe,FEe,DEe,s7,s7,i7,i7,LEe,PEe,$Ee,UEe,zEe,MEe,QEe,HEe,WEe,VEe,qEe,GEe,XEe];for(const t of YEe)DZ(t);ut().prototype.abs=function(){return this.throwIfDisposed(),Na(this)};ut().prototype.acos=function(){return this.throwIfDisposed(),vD(this)};ut().prototype.acosh=function(){return this.throwIfDisposed(),wD(this)};ut().prototype.add=function(t){return this.throwIfDisposed(),jt(this,t)};ut().prototype.all=function(t,e){return this.throwIfDisposed(),qI(this,t,e)};ut().prototype.any=function(t,e){return this.throwIfDisposed(),k2(this,t,e)};ut().prototype.argMax=function(t){return this.throwIfDisposed(),Gg(this,t)};ut().prototype.argMin=function(t){return this.throwIfDisposed(),SD(this,t)};ut().prototype.asScalar=function(){return this.throwIfDisposed(),ce(this.size===1,()=>"The array must have only 1 element."),Fe(this,[])};ut().prototype.asType=function(t){return this.throwIfDisposed(),Mt(this,t)};ut().prototype.as1D=function(){return this.throwIfDisposed(),Fe(this,[this.size])};ut().prototype.as2D=function(t,e){return this.throwIfDisposed(),Fe(this,[t,e])};ut().prototype.as3D=function(t,e,n){return this.throwIfDisposed(),Fe(this,[t,e,n])};ut().prototype.as4D=function(t,e,n,r){return this.throwIfDisposed(),Fe(this,[t,e,n,r])};ut().prototype.as5D=function(t,e,n,r,s){return this.throwIfDisposed(),Fe(this,[t,e,n,r,s])};ut().prototype.asin=function(){return this.throwIfDisposed(),CD(this)};ut().prototype.asinh=function(){return this.throwIfDisposed(),kD(this)};ut().prototype.atan=function(){return this.throwIfDisposed(),BD(this)};ut().prototype.atan2=function(t){return this.throwIfDisposed(),ED(this,t)};ut().prototype.atanh=function(){return this.throwIfDisposed(),ID(this)};ut().prototype.avgPool=function(t,e,n,r){return this.throwIfDisposed(),v5(this,t,e,n,r)};ut().prototype.batchToSpaceND=function(t,e){return this.throwIfDisposed(),w5(this,t,e)};ut().prototype.batchNorm=function(t,e,n,r,s){return this.throwIfDisposed(),Dx(this,t,e,n,r,s)};ut().prototype.broadcastTo=function(t){return this.throwIfDisposed(),Ig(this,t)};ut().prototype.cast=function(t){return this.throwIfDisposed(),Mt(this,t)};ut().prototype.ceil=function(){return this.throwIfDisposed(),FD(this)};ut().prototype.clipByValue=function(t,e){return this.throwIfDisposed(),Yl(this,t,e)};ut().prototype.concat=function(t,e){return this.throwIfDisposed(),t instanceof Fr&&(t=[t]),Wi([this,...t],e)};ut().prototype.conv1d=function(t,e,n,r,s,i){return this.throwIfDisposed(),GI(this,t,e,n,r,s,i)};ut().prototype.conv2dTranspose=function(t,e,n,r,s){return this.throwIfDisposed(),KI(this,t,e,n,r,s)};ut().prototype.conv2d=function(t,e,n,r,s,i){return this.throwIfDisposed(),wh(this,t,e,n,r,s,i)};ut().prototype.cos=function(){return this.throwIfDisposed(),C5(this)};ut().prototype.cosh=function(){return this.throwIfDisposed(),XI(this)};ut().prototype.cumprod=function(t,e,n){return this.throwIfDisposed(),I2(this,t,e,n)};ut().prototype.cumsum=function(t,e,n){return this.throwIfDisposed(),YI(this,t,e,n)};ut().prototype.depthToSpace=function(t,e){return this.throwIfDisposed(),MD(this,t,e)};ut().prototype.depthwiseConv2d=function(t,e,n,r,s,i){return this.throwIfDisposed(),Lx(this,t,e,n,r,s,i)};ut().prototype.dilation2d=function(t,e,n,r,s){return this.throwIfDisposed(),QD(this,t,e,n,r,s)};ut().prototype.divNoNan=function(t){return this.throwIfDisposed(),HD(this,t)};ut().prototype.div=function(t){return this.throwIfDisposed(),un(this,t)};ut().prototype.dot=function(t){return this.throwIfDisposed(),WD(this,t)};ut().prototype.elu=function(){return this.throwIfDisposed(),$x(this)};ut().prototype.equal=function(t){return this.throwIfDisposed(),rd(this,t)};ut().prototype.erf=function(){return this.throwIfDisposed(),JI(this)};ut().prototype.euclideanNorm=function(t,e){return this.throwIfDisposed(),qD(this,t,e)};ut().prototype.exp=function(){return this.throwIfDisposed(),Jl(this)};ut().prototype.expandDims=function(t){return this.throwIfDisposed(),Oo(this,t)};ut().prototype.expm1=function(){return this.throwIfDisposed(),GD(this)};ut().prototype.fft=function(){return this.throwIfDisposed(),L5(this)};ut().prototype.flatten=function(){return this.throwIfDisposed(),Fe(this,[this.size])};ut().prototype.floor=function(){return this.throwIfDisposed(),Ux(this)};ut().prototype.floorDiv=function(t){return this.throwIfDisposed(),VI(this,t)};ut().prototype.gather=function(t,e,n){return this.throwIfDisposed(),zx(this,t,e,n)};ut().prototype.greaterEqual=function(t){return this.throwIfDisposed(),$h(this,t)};ut().prototype.greater=function(t){return this.throwIfDisposed(),rc(this,t)};ut().prototype.ifft=function(){return this.throwIfDisposed(),v1(this)};ut().prototype.irfft=function(){return this.throwIfDisposed(),hN(this)};ut().prototype.isFinite=function(){return this.throwIfDisposed(),KD(this)};ut().prototype.isInf=function(){return this.throwIfDisposed(),XD(this)};ut().prototype.isNaN=function(){return this.throwIfDisposed(),YD(this)};ut().prototype.leakyRelu=function(t){return this.throwIfDisposed(),B5(this,t)};ut().prototype.lessEqual=function(t){return this.throwIfDisposed(),km(this,t)};ut().prototype.less=function(t){return this.throwIfDisposed(),g1(this,t)};ut().prototype.localResponseNormalization=function(t,e,n,r){return this.throwIfDisposed(),JD(this,t,e,n,r)};ut().prototype.logSigmoid=function(){return this.throwIfDisposed(),ZD(this)};ut().prototype.logSoftmax=function(t){return this.throwIfDisposed(),tN(this,t)};ut().prototype.logSumExp=function(t,e){return this.throwIfDisposed(),I5(this,t,e)};ut().prototype.log=function(){return this.throwIfDisposed(),Rc(this)};ut().prototype.log1p=function(){return this.throwIfDisposed(),E5(this)};ut().prototype.logicalAnd=function(t){return this.throwIfDisposed(),tf(this,t)};ut().prototype.logicalNot=function(){return this.throwIfDisposed(),N5(this)};ut().prototype.logicalOr=function(t){return this.throwIfDisposed(),nN(this,t)};ut().prototype.logicalXor=function(t){return this.throwIfDisposed(),eL(this,t)};ut().prototype.matMul=function(t,e,n){return this.throwIfDisposed(),fr(this,t,e,n)};ut().prototype.maxPool=function(t,e,n,r){return this.throwIfDisposed(),j5(this,t,e,n,r)};ut().prototype.max=function(t,e){return this.throwIfDisposed(),fu(this,t,e)};ut().prototype.maximum=function(t){return this.throwIfDisposed(),gA(this,t)};ut().prototype.mean=function(t,e){return this.throwIfDisposed(),$i(this,t,e)};ut().prototype.min=function(t,e){return this.throwIfDisposed(),m1(this,t,e)};ut().prototype.minimum=function(t){return this.throwIfDisposed(),lm(this,t)};ut().prototype.mirrorPad=function(t,e){return this.throwIfDisposed(),nL(this,t,e)};ut().prototype.mod=function(t){return this.throwIfDisposed(),rL(this,t)};ut().prototype.mul=function(t){return this.throwIfDisposed(),je(this,t)};ut().prototype.neg=function(){return this.throwIfDisposed(),Zs(this)};ut().prototype.norm=function(t,e,n){return this.throwIfDisposed(),Px(this,t,e,n)};ut().prototype.notEqual=function(t){return this.throwIfDisposed(),Yg(this,t)};ut().prototype.oneHot=function(t,e=1,n=0){return this.throwIfDisposed(),y1(this,t,e,n)};ut().prototype.onesLike=function(){return this.throwIfDisposed(),Oc(this)};ut().prototype.pad=function(t,e){return this.throwIfDisposed(),Ph(this,t,e)};ut().prototype.pool=function(t,e,n,r,s,i){return this.throwIfDisposed(),sL(this,t,e,n,r,s,i)};ut().prototype.pow=function(t){return this.throwIfDisposed(),oA(this,t)};ut().prototype.prelu=function(t){return this.throwIfDisposed(),R5(this,t)};ut().prototype.prod=function(t,e){return this.throwIfDisposed(),iL(this,t,e)};ut().prototype.reciprocal=function(){return this.throwIfDisposed(),cL(this)};ut().prototype.relu=function(){return this.throwIfDisposed(),ff(this)};ut().prototype.relu6=function(){return this.throwIfDisposed(),aN(this)};ut().prototype.reshapeAs=function(t){return this.throwIfDisposed(),Fe(this,t.shape)};ut().prototype.reshape=function(t){return this.throwIfDisposed(),Fe(this,t)};ut().prototype.resizeBilinear=function(t,e,n){return this.throwIfDisposed(),lte(this,t,e,n)};ut().prototype.resizeNearestNeighbor=function(t,e,n){return this.throwIfDisposed(),cte(this,t,e,n)};ut().prototype.reverse=function(t){return this.throwIfDisposed(),hu(this,t)};ut().prototype.rfft=function(){return this.throwIfDisposed(),$5(this)};ut().prototype.round=function(){return this.throwIfDisposed(),oN(this)};ut().prototype.rsqrt=function(){return this.throwIfDisposed(),lN(this)};ut().prototype.selu=function(){return this.throwIfDisposed(),cN(this)};ut().prototype.separableConv2d=function(t,e,n,r,s,i){return this.throwIfDisposed(),uN(this,t,e,n,r,s,i)};ut().prototype.sigmoid=function(){return this.throwIfDisposed(),ed(this)};ut().prototype.sign=function(){return this.throwIfDisposed(),uL(this)};ut().prototype.sin=function(){return this.throwIfDisposed(),dN(this)};ut().prototype.sinh=function(){return this.throwIfDisposed(),fN(this)};ut().prototype.slice=function(t,e){return this.throwIfDisposed(),Gn(this,t,e)};ut().prototype.softmax=function(t){return this.throwIfDisposed(),D5(this,t)};ut().prototype.softplus=function(){return this.throwIfDisposed(),w0(this)};ut().prototype.spaceToBatchND=function(t,e){return this.throwIfDisposed(),_5(this,t,e)};ut().prototype.split=function(t,e){return this.throwIfDisposed(),Gl(this,t,e)};ut().prototype.sqrt=function(){return this.throwIfDisposed(),po(this)};ut().prototype.square=function(){return this.throwIfDisposed(),Ts(this)};ut().prototype.squaredDifference=function(t){return this.throwIfDisposed(),pN(this,t)};ut().prototype.squeeze=function(t){return this.throwIfDisposed(),td(this,t)};ut().prototype.stack=function(t,e){this.throwIfDisposed();const n=t instanceof Fr?[this,t]:[this,...t];return Zl(n,e)};ut().prototype.step=function(t){return this.throwIfDisposed(),S0(this,t)};ut().prototype.stridedSlice=function(t,e,n,r,s,i,a,o){return this.throwIfDisposed(),dL(this,t,e,n,r,s,i,a,o)};ut().prototype.sub=function(t){return this.throwIfDisposed(),Kt(this,t)};ut().prototype.sum=function(t,e){return this.throwIfDisposed(),hn(this,t,e)};ut().prototype.tan=function(){return this.throwIfDisposed(),fL(this)};ut().prototype.tanh=function(){return this.throwIfDisposed(),om(this)};ut().prototype.tile=function(t){return this.throwIfDisposed(),au(this,t)};ut().prototype.toBool=function(){return this.throwIfDisposed(),Mt(this,"bool")};ut().prototype.toFloat=function(){return this.throwIfDisposed(),Mt(this,"float32")};ut().prototype.toInt=function(){return this.throwIfDisposed(),Mt(this,"int32")};ut().prototype.topk=function(t,e){return this.throwIfDisposed(),pL(this,t,e)};ut().prototype.transpose=function(t){return this.throwIfDisposed(),Br(this,t)};ut().prototype.unique=function(t){return this.throwIfDisposed(),mL(this,t)};ut().prototype.unsortedSegmentSum=function(t,e){return this.throwIfDisposed(),yN(this,t,e)};ut().prototype.unstack=function(t){return this.throwIfDisposed(),pu(this,t)};ut().prototype.where=function(t,e){return this.throwIfDisposed(),$o(t,this,e)};ut().prototype.zerosLike=function(){return this.throwIfDisposed(),Lr(this)};class Uf extends Error{constructor(e){super(e),Object.setPrototypeOf(this,Uf.prototype)}}class Gu extends Error{constructor(e){super(e),Object.setPrototypeOf(this,Gu.prototype)}}class Pe extends Error{constructor(e){super(e),Object.setPrototypeOf(this,Pe.prototype)}}class ur extends Error{constructor(e){super(e),Object.setPrototypeOf(this,ur.prototype)}}class s$ extends Error{constructor(e){super(e),Object.setPrototypeOf(this,s$.prototype)}}class ine{constructor(e){this.maxEntries=e||100,this.cache=new Map}get(e){let n;return this.cache.has(e)&&(n=this.cache.get(e),this.cache.delete(e),this.cache.set(e,n)),n}put(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxEntries){const r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}getMaxEntries(){return this.maxEntries}setMaxEntries(e){if(e<0)throw new Error(`The maxEntries of LRU caches must be at least 0, but got ${e}.`);if(this.maxEntries>e)for(let n=0;n<this.maxEntries-e;n++){const r=this.cache.keys().next().value;this.cache.delete(r)}this.maxEntries=e}}function e0(t,e){if(Array.isArray(t)){let n=[];for(let r=0;r<e;r++)n=n.concat(t);return n}else{const n=new Array(e);return n.fill(t),n}}function zf(t,e){if(!t)throw new s$(e)}function a7(t,e){let n=0;for(const r of t)r===e&&n++;return n}function Ql(t){return t.length===1?t[0]:t}function bs(t){return Array.isArray(t)?t:[t]}function eh(t){const n=t.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return n[0]!=="_"?n:"private"+n}function ug(t){return t.length<=1||t.indexOf("_")===-1?t:t.replace(/[_]+(\w|$)/g,(e,n)=>n.toUpperCase())}let Fu={};function i$(t){if(t==null)return null;const e={};return e.className=t.getClassName(),e.config=t.getConfig(),e}function vO(t){if(!(t==null||typeof t!="object"))if(Array.isArray(t))t.forEach(e=>vO(e));else{const e=Object.keys(t);for(const n of e){const r=t[n];r!=null&&typeof r=="object"&&(!Array.isArray(r)&&r.type==="ndarray"&&typeof r.value=="number"?t[n]=r.value:vO(r))}}}function M5(t,e={},n={},r="object",s=!1){if(typeof t=="string"){const i=t;let a;if(i in n)a=n[i];else if(i in Fu)a=Fu[i];else if(a=e[i],a==null)throw new Pe(`Unknown ${r}: ${t}. This may be due to one of the following reasons:
1. The ${r} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.
2. The custom ${r} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);return a}else{const i=t;if(i.className==null||i.config==null)throw new Pe(`${r}: Improper config format: ${JSON.stringify(i)}.
'className' and 'config' must set.`);const a=i.className;let o,c;if(a in n?[o,c]=n[a]:a in Fu?[o,c]=Fu.className:a in e&&([o,c]=e[a]),o==null)throw new Pe(`Unknown ${r}: ${a}. This may be due to one of the following reasons:
1. The ${r} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.
2. The custom ${r} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);if(c!=null){const u={};for(const m of Object.keys(Fu))u[m]=Fu[m];for(const m of Object.keys(n))u[m]=n[m];const d=i.config;d.customObjects=u;const f=Object.assign({},Fu);for(const m of Object.keys(n))Fu[m]=n[m];vO(i.config);const h=c(o,i.config,n,s);return Fu=Object.assign({},f),h}else{const u=Object.assign({},Fu);for(const f of Object.keys(n))Fu[f]=n[f];const d=new o(i.config);return Fu=Object.assign({},u),d}}}function JEe(t,e){return t<e?-1:t>e?1:0}function BC(t,e){return-1*JEe(t,e)}function Gp(t){if(t==null)return t;const e=[];for(const n of t)e.indexOf(n)===-1&&e.push(n);return e}function ZEe(t){if(t==null)throw new Pe(`Invalid value in obj: ${JSON.stringify(t)}`);for(const e in t)if(t.hasOwnProperty(e))return!1;return!0}function k0(t,e,n){if(n!=null&&t.indexOf(n)<0)throw new Pe(`${n} is not a valid ${e}.  Valid values are ${t} or null/undefined.`)}function a$(t,e,n=0,r=1/0){return zf(n>=0),zf(r>=n),Array.isArray(t)&&t.length>=n&&t.length<=r&&t.every(s=>typeof s===e)}function Ao(t,e){Array.isArray(t)?(ce(t.length>0,()=>`${e} is unexpectedly an empty array.`),t.forEach((n,r)=>Ao(n,`element ${r+1} of ${e}`))):ce(Number.isInteger(t)&&t>0,()=>`Expected ${e} to be a positive integer, but got ${ane(t)}.`)}function ane(t){return t===null?"null":Array.isArray(t)?"["+t.map(e=>ane(e)).join(",")+"]":typeof t=="string"?`"${t}"`:`${t}`}function eIe(t,e,n){let r=n!=null?n():vl(),s;return(...a)=>{const o=n!=null?n():vl();return o-r<e||(r=o,s=t(...a)),s}}function one(t){return t==="relu"?"relu":t==="linear"?"linear":t==="elu"?"elu":null}let tIe=0;function lne(){return tIe++}const EC={};function ON(t=""){return t in EC||(EC[t]=0),EC[t]+=1,t+EC[t].toString()}const nIe=["channelsFirst","channelsLast"],rIe=["nearest","bilinear"],sIe=["valid","same","causal"],iIe=["max","avg"],aIe=["sum","mul","concat","ave"];const yy=new Map;function ba(t){k0(nIe,"DataFormat",t)}function oIe(t){k0(rIe,"InterpolationFormat",t)}function yu(t){k0(sIe,"PaddingMode",t)}function cne(t){k0(iIe,"PoolMode",t)}const t2=[],o7="/";function Ng(t,e){t2.push(t);try{const n=e();return t2.pop(),n}catch(n){throw t2.pop(),n}}function lIe(){return t2.length===0?"":t2.join(o7)+o7}function une(t){if(!fne(t))throw new Error("Not a valid tensor name: '"+t+"'");return lIe()+t}function dne(t){if(!fne(t))throw new Error("Not a valid tensor name: '"+t+"'");yy.has(t)||yy.set(t,0);const e=yy.get(t);if(yy.set(t,yy.get(t)+1),e>0){const n=`${t}_${e}`;return yy.set(n,1),n}else return t}const cIe=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function fne(t){return!!t.match(cIe)}function uIe(t){return t===parseInt(t.toString(),10)}function Kp(t,e,n){e==null&&(e=0),n==null&&(n=t.length);let r=1;for(let s=e;s<n;++s)r*=t[s];return r}function w1(t){if(t.length===0)return Number.NaN;let e=Number.POSITIVE_INFINITY;for(let n=0;n<t.length;n++){const r=t[n];r<e&&(e=r)}return e}function cm(t){if(t.length===0)return Number.NaN;let e=Number.NEGATIVE_INFINITY;for(let n=0;n<t.length;n++){const r=t[n];r>e&&(e=r)}return e}function nf(t,e){if(e<t)throw new Pe(`end (${e}) < begin (${t}) is forbidden.`);const n=[];for(let r=t;r<e;++r)n.push(r);return n}let HT;function Ha(){return HT==null&&(HT=mD().epsilon()),HT}function rf(){return"channelsLast"}function Jf(t,e){return Mt(t,e)}function Q5(t,e=-1){const n=t.shape.slice();return e<0&&(e=n.length+e+1),n.splice(e,0,1),Fe(t,n)}function dIe(t,e){return He(()=>{if(t.shape.length!==2)throw new Pe(`repeat() expects a rank-2 tensor, but received a rank-${t.shape.length} tensor.`);const n=Q5(t,1);return wO(n,[1,e,1])})}function fIe(t){const e=[Kp(t.shape)];return Fe(t,e)}function AIe(t){if(t.rank<=1)throw new Pe(`batchFlatten requires a minimum rank of 2. Got rank: ${t.rank}.`);const e=[t.shape[0],Kp(t.shape,1)];return Fe(t,e)}function jg(t,e,n){return He(()=>{switch(t.rank){case 1:return O5(t,e,n);case 2:return AN(t,[e,0],[n,t.shape[1]]);case 3:return F5(t,[e,0,0],[n,t.shape[1],t.shape[2]]);case 4:return b1(t,[e,0,0,0],[n,t.shape[1],t.shape[2],t.shape[3]]);case 5:return Gn(t,[e,0,0,0,0],[n,t.shape[1],t.shape[2],t.shape[3],t.shape[4]]);case 6:return Gn(t,[e,0,0,0,0,0],[n,t.shape[1],t.shape[2],t.shape[3],t.shape[4],t.shape[5]]);default:throw new Pe(`sliceAlongFirstAxis() received an unsupported tensor rank: ${t.rank}`)}})}function WT(t,e,n){return He(()=>{switch(t.rank){case 1:return O5(t,e,n);case 2:return AN(t,[0,e],[t.shape[0],n]);case 3:return F5(t,[0,0,e],[t.shape[0],t.shape[1],n]);case 4:return b1(t,[0,0,0,e],[t.shape[0],t.shape[1],t.shape[2],n]);default:throw new Pe(`sliceAlongLastAxis() received an unsupported tensor rank: ${t.rank}`)}})}function IC(t,e,n,r){return He(()=>{switch(t.rank){case 1:return O5(t,e,n);case 2:switch(r){case 1:return jg(t,e,n);case 2:return WT(t,e,n);default:throw new Pe(`The axis is not within the rank of the tensor ${r}`)}case 3:switch(r){case 1:return jg(t,e,n);case 2:return F5(t,[0,e,0],[t.shape[0],n,t.shape[2]]);case 3:return WT(t,e,n);default:throw new Pe(`The axis is not within the rank of the tensor ${r}`)}case 4:switch(r){case 1:return jg(t,e,n);case 2:return b1(t,[0,e,0,0],[t.shape[0],n,t.shape[2],t.shape[3]]);case 3:return b1(t,[0,0,e,0],[t.shape[0],t.shape[1],n,t.shape[3]]);case 4:return WT(t,e,n);default:throw new Pe(`The axis is not within the rank of the tensor ${r}`)}default:throw new Pe(`sliceAlongLastAxis() received an unsupported tensor rank: ${t.rank}`)}})}function o$(t,e=-1){let n;return e<0&&(n=t[0].rank,n!==0?e=n:e=0),e===t[0].rank&&(e=-1),Wi(t,e)}function l7(t,e){switch(t.rank){case 1:return DD([t,e]);case 2:return S5([t,e],0);case 3:return LD([t,e],0);case 4:return $D([t,e],0);default:throw new Pe(`concatAlongFirstAxis() received an unsupported tensor rank: ${t.rank}`)}}function wO(t,e){if(Array.isArray(e)||(e=[e]),t.rank!==e.length)throw new Pe(`The length of input n (${e.length}) does not match the number of dimensions in input x (${t.rank})`);return au(t,e)}function FN(t,e=0,n=1,r,s){return iN(t,e,n,r,s)}function Zf(t,e,n,r){if(t.rank<2||e.rank<2)throw new ur(`dot requires both inputs to be rank >= 2 but got x shape = ${t.shape} and y shape = ${e.shape}`);if(e.rank>=3){const s=t.shape.slice(-1)[0],i=e.shape.slice(-2)[0];if(s!==i)throw new ur(`If rank y >= 3, then the second last dim of y must equal the last dim of x but got x shape = ${t.shape} and  y shape = ${e.shape}`)}if(t.rank===2&&e.rank===2)return mO({a:t,b:e,transposeA:!1,transposeB:!1,bias:r?SO(t.rank,r,rf()):null,activation:n});{const s=t.shape.slice(),i=s.pop();t=Fe(t,[-1,i]);const a=e.shape.slice(),o=a.pop(),c=a.pop(),u=[...a,o],d=Array.from({length:e.rank},(g,y)=>y===0?e.rank-2:y<=e.rank-2?y-1:y);e=Fe(Br(e,d),[c,-1]);const f=[...s,...u];return Fe(mO({a:t,b:e,transposeA:!1,transposeB:!1,bias:r?SO(t.rank,r,rf()):null,activation:n}),f)}}function Ane(t,e,n){return He(()=>(Array.isArray(e)?e=Qa(e,"int32"):e=Mt(e,"int32"),zx(t,e,n)))}function H5(t){return je(t,t)}function SO(t,e,n){const r=e.shape;if(e.rank!==1&&e.rank!==t)throw new Pe(`Unexpected bias dimensions: ${e.rank}; expected it to be 1 or ${t}`);if(t===5){if(n==="channelsFirst")return r.length===1?Fe(e,[1,r[0],1,1,1]):Fe(e,[1,r[3],r[0],r[1],r[2]]);if(n==="channelsLast")return r.length===1?Fe(e,[1,1,1,1,r[0]]):Fe(e,[1].concat(r))}else if(t===4){if(n==="channelsFirst")return r.length===1?Fe(e,[1,r[0],1,1]):Fe(e,[1,r[2],r[0],r[1]]);if(n==="channelsLast")return r.length===1?Fe(e,[1,1,1,r[0]]):Fe(e,[1].concat(r))}else if(t===3){if(n==="channelsFirst")return r.length===1?Fe(e,[1,r[0],1]):Fe(e,[1,r[1],r[0]]);if(n==="channelsLast")return r.length===1?Fe(e,[1,1,r[0]]):Fe(e,[1].concat(r))}else if(t<3)return e;throw new Pe(`Unsupported input rank by biasAdd: ${e.rank}`)}function Af(t,e,n){return He(()=>(n==null&&(n=rf()),ba(n),jt(t,SO(t.rank,e,n))))}function hIe(t,e=1){if(e!==1)throw new ur(`Support for alpha values other than 1 (${e}) is not implemented yet.`);return $x(t)}function pIe(t){return He(()=>un(t,jt(Na(t),1)))}function hne(t,e,n,r){return He(()=>xL(t,e,n,r))}function mIe(t){return He(()=>{const e=jt(.5,je(.2,t));return Yl(e,0,1)})}function W5(t,e,n=!1){return n?t():e()}const gIe=["fanIn","fanOut","fanAvg"],yIe=["normal","uniform","truncatedNormal"];function xIe(t){k0(gIe,"FanMode",t)}function bIe(t){k0(yIe,"Distribution",t)}class ld extends C0{fromConfigUsesCustomObjects(){return!1}getConfig(){return{}}}class pne extends ld{apply(e,n){return Ra(e,n)}}pne.className="Zeros";Rt(pne);class l$ extends ld{apply(e,n){return Vl(e,n)}}l$.className="Ones";Rt(l$);class mne extends ld{constructor(e){if(super(),typeof e!="object")throw new Pe(`Expected argument of type ConstantConfig but got ${e}`);if(e.value===void 0)throw new Pe(`config must have value set but got ${e}`);this.value=e.value}apply(e,n){return He(()=>je(Fn(this.value),Vl(e,n)))}getConfig(){return{value:this.value}}}mne.className="Constant";Rt(mne);class gne extends ld{constructor(e){super(),this.DEFAULT_MINVAL=-.05,this.DEFAULT_MAXVAL=.05,this.minval=e.minval||this.DEFAULT_MINVAL,this.maxval=e.maxval||this.DEFAULT_MAXVAL,this.seed=e.seed}apply(e,n){return Bm(e,this.minval,this.maxval,n,this.seed)}getConfig(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}}}gne.className="RandomUniform";Rt(gne);class yne extends ld{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,n){if(n=n||"float32",n!=="float32"&&n!=="int32")throw new ur(`randomNormal does not support dType ${n}.`);return FN(e,this.mean,this.stddev,n,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}yne.className="RandomNormal";Rt(yne);class xne extends ld{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,n){if(n=n||"float32",n!=="float32"&&n!=="int32")throw new ur(`truncatedNormal does not support dType ${n}.`);return gN(e,this.mean,this.stddev,n,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}xne.className="TruncatedNormal";Rt(xne);class bne extends ld{constructor(e){super(),this.gain=e.gain!=null?e.gain:1}apply(e,n){return He(()=>{if(e.length!==2||e[0]!==e[1])throw new Pe("Identity matrix initializer can only be used for 2D square matrices.");return je(this.gain,ZI(e[0]))})}getConfig(){return{gain:this.gain}}}bne.className="Identity";Rt(bne);function vIe(t,e="channelsLast"){let n,r;if(ba(e),t.length===2)n=t[0],r=t[1];else if([3,4,5].indexOf(t.length)!==-1){if(e==="channelsFirst"){const s=Kp(t,2);n=t[1]*s,r=t[0]*s}else if(e==="channelsLast"){const s=Kp(t,0,t.length-2);n=t[t.length-2]*s,r=t[t.length-1]*s}}else{const s=Kp(t);n=Math.sqrt(s),r=Math.sqrt(s)}return[n,r]}class Fc extends ld{constructor(e){if(super(),e.scale<0)throw new Pe(`scale must be a positive float. Got: ${e.scale}`);this.scale=e.scale==null?1:e.scale,this.mode=e.mode==null?"fanIn":e.mode,xIe(this.mode),this.distribution=e.distribution==null?"normal":e.distribution,bIe(this.distribution),this.seed=e.seed}apply(e,n){const r=vIe(e),s=r[0],i=r[1];let a=this.scale;if(this.mode==="fanIn"?a/=Math.max(1,s):this.mode==="fanOut"?a/=Math.max(1,i):a/=Math.max(1,(s+i)/2),this.distribution==="normal"){const o=Math.sqrt(a);if(n=n||"float32",n!=="float32"&&n!=="int32")throw new ur(`${this.getClassName()} does not support dType ${n}.`);return gN(e,0,o,n,this.seed)}else{const o=Math.sqrt(3*a);return Bm(e,-o,o,n,this.seed)}}getConfig(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}}}Fc.className="VarianceScaling";Rt(Fc);class c$ extends Fc{constructor(e){super({scale:1,mode:"fanAvg",distribution:"uniform",seed:e==null?null:e.seed})}getClassName(){return Fc.className}}c$.className="GlorotUniform";Rt(c$);class u$ extends Fc{constructor(e){super({scale:1,mode:"fanAvg",distribution:"normal",seed:e==null?null:e.seed})}getClassName(){return Fc.className}}u$.className="GlorotNormal";Rt(u$);class d$ extends Fc{constructor(e){super({scale:2,mode:"fanIn",distribution:"normal",seed:e==null?null:e.seed})}getClassName(){return Fc.className}}d$.className="HeNormal";Rt(d$);class f$ extends Fc{constructor(e){super({scale:2,mode:"fanIn",distribution:"uniform",seed:e==null?null:e.seed})}getClassName(){return Fc.className}}f$.className="HeUniform";Rt(f$);class A$ extends Fc{constructor(e){super({scale:1,mode:"fanIn",distribution:"normal",seed:e==null?null:e.seed})}getClassName(){return Fc.className}}A$.className="LeCunNormal";Rt(A$);class h$ extends Fc{constructor(e){super({scale:1,mode:"fanIn",distribution:"uniform",seed:e==null?null:e.seed})}getClassName(){return Fc.className}}h$.className="LeCunUniform";Rt(h$);class vne extends ld{constructor(e){super(),this.DEFAULT_GAIN=1,this.ELEMENTS_WARN_SLOW=2e3,this.gain=e.gain==null?this.DEFAULT_GAIN:e.gain,this.seed=e.seed}apply(e,n){return He(()=>{if(e.length<2)throw new ur("Shape must be at least 2D.");if(n!=="int32"&&n!=="float32"&&n!==void 0)throw new TypeError(`Unsupported data type ${n}.`);n=n;const r=it(e.slice(0,-1)),s=e[e.length-1],i=r*s;i>this.ELEMENTS_WARN_SLOW&&console.warn(`Orthogonal initializer is being called on a matrix with more than ${this.ELEMENTS_WARN_SLOW} (${i}) elements: Slowness may result.`);const a=[Math.max(s,r),Math.min(s,r)],o=FN(a,0,1,n,this.seed),c=SL.qr(o,!1);let u=c[0];const f=c[1].flatten().stridedSlice([0],[Math.min(s,r)*Math.min(s,r)],[Math.min(s,r)+1]);return u=je(u,f.sign()),r<s&&(u=u.transpose()),je(Fn(this.gain),u.reshape(e))})}getConfig(){return{gain:this.gain,seed:this.seed}}}vne.className="Orthogonal";Rt(vne);const c7={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function u7(t,e={}){return M5(t,su.getMap().classNameMap,e,"initializer")}function zi(t){return i$(t)}function yi(t){if(typeof t=="string"){const e=t in c7?c7[t]:t;if(e==="GlorotNormal")return new u$;if(e==="GlorotUniform")return new c$;if(e==="HeNormal")return new d$;if(e==="HeUniform")return new f$;if(e==="LeCunNormal")return new A$;if(e==="LeCunUniform")return new h$;{const n={};return n.className=e,n.config={},u7(n)}}else return t instanceof ld?t:u7(t)}function CO(t){return Array.isArray(t)&&Array.isArray(t[0])}function QB(t){return t.length===0?[]:Array.isArray(t[0])?t:[t]}function Yn(t){let e;if(Array.isArray(t)){if(t.length!==1)throw new Pe(`Expected Tensor length to be 1; got ${t.length}`);e=t[0]}else e=t;return e}function es(t){if(Array.isArray(t)&&Array.isArray(t[0])){if(t.length===1)return t=t,t[0];throw new Pe(`Expected exactly 1 Shape; got ${t.length}`)}else return t}function HB(t){let e=0;for(const n of t)n.shape.length===0?e+=1:e+=n.shape.reduce((r,s)=>r*s);return e}const d7="Variable";class wIe{constructor(e,n="float32",r=d7,s=!0,i=null){this.dtype=n??"float32",this.shape=e.shape,this.id=lne(),r=r??d7,this.originalName=une(r),this.name=dne(this.originalName),this.trainable_=s,this.constraint=i,this.val=gL(e,this.trainable_,this.name,this.dtype)}read(){return this.assertNotDisposed(),this.val}write(e){return this.assertNotDisposed(),SIe(this.val,e),this.val.id!==e.id&&(this.val.assign(e),this.constraint!=null&&this.val.assign(this.constraint.apply(this.val))),this}dispose(){this.assertNotDisposed(),this.val.dispose()}assertNotDisposed(){if(this.val.isDisposed)throw new Error(`LayersVariable ${this.name} is already disposed.`)}get trainable(){return this.trainable_}set trainable(e){this.trainable_=e,this.val.trainable=e}}function SIe(t,e){if(t.shape.toString()!==e.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(t.shape)+" vs. "+JSON.stringify(e.shape))}function kO(t){return t.map(e=>e.read())}function p$(t){t.forEach(e=>{e[0].write(e[1])})}class Wa{constructor(e){this.dtype=e.dtype,this.shape=e.shape,e.shape!=null?this.ndim=e.shape.length:this.ndim=e.ndim,this.maxNDim=e.maxNDim,this.minNDim=e.minNDim,this.axes=e.axes||{}}}class cA{constructor(e,n,r,s,i,a,o){this.dtype=e,this.shape=n,this.sourceLayer=r,this.inputs=s,this.callArgs=i,this.outputTensorIndex=o,this.id=lne(),a!=null&&(this.originalName=une(a),this.name=dne(this.originalName)),this.rank=n.length}}let CIe=0,DN=class{constructor(e,n){this.callArgs=n,this.id=CIe++,this.outboundLayer=e.outboundLayer,this.inboundLayers=e.inboundLayers,this.nodeIndices=e.nodeIndices,this.tensorIndices=e.tensorIndices,this.inputTensors=e.inputTensors,this.outputTensors=e.outputTensors,this.inputMasks=e.inputMasks,this.outputMasks=e.outputMasks,this.inputShapes=e.inputShapes,this.outputShapes=e.outputShapes;for(const r of e.inboundLayers)r?.outboundNodes.push(this);e.outboundLayer.inboundNodes.push(this)}getConfig(){const e=[];for(const n of this.inboundLayers)n!=null?e.push(n.name):e.push(null);return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:e,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}}},kIe=0,xr=class extends C0{constructor(e={}){super(),this._callHook=null,this._addedWeightNames=[],this._stateful=!1,this.id=kIe++,this.activityRegularizer=null,this.inputSpec=null,this.supportsMasking=!1,this._trainableWeights=[],this._nonTrainableWeights=[],this._losses=[],this._updates=[],this._built=!1,this.inboundNodes=[],this.outboundNodes=[];let n=e.name;if(!n){const r=this.getClassName();n=eh(r)+"_"+ON(r)}if(this.name=n,this.trainable_=e.trainable==null?!0:e.trainable,e.inputShape!=null||e.batchInputShape!=null){let r;if(e.batchInputShape!=null)r=e.batchInputShape;else if(e.inputShape!=null){let i=null;e.batchSize!=null&&(i=e.batchSize),r=[i].concat(e.inputShape)}this.batchInputShape=r;let s=e.dtype;s==null&&(s=e.inputDType),s==null&&(s="float32"),this.dtype=s}e.weights!=null?this.initialWeights=e.weights:this.initialWeights=null,this._refCount=null,this.fastWeightInitDuringBuild=!1}static nodeKey(e,n){return e.name+"_ib-"+n.toString()}getNodeAtIndex(e,n){if(this.inboundNodes.length===0)throw new Gu(`The layer has never been called and thus has no defined ${n}.`);if(this.inboundNodes.length<=e)throw new Pe(`Asked to get ${n} at node ${e}, but the layer has only ${this.inboundNodes.length} inbound nodes.`);return this.inboundNodes[e]}getInputAt(e){return Ql(this.getNodeAtIndex(e,"input").inputTensors)}getOutputAt(e){return Ql(this.getNodeAtIndex(e,"output").outputTensors)}get input(){if(this.inboundNodes.length>1)throw new Uf(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use \`getInputAt(nodeIndex)\` instead.`);if(this.inboundNodes.length===0)throw new Uf(`Layer ${this.name} is not connected, no input to return.`);return Ql(this.getNodeAtIndex(0,"input").inputTensors)}get output(){if(this.inboundNodes.length===0)throw new Uf(`Layer ${this.name} has no inbound nodes.`);if(this.inboundNodes.length>1)throw new Uf(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use \`getOutputAt(nodeIndex)\` instead.`);return Ql(this.getNodeAtIndex(0,"output").outputTensors)}get losses(){return this._losses}calculateLosses(){return this.losses.map(e=>e())}get updates(){return this._updates}get built(){return this._built}set built(e){this._built=e}get trainable(){return this.trainable_}set trainable(e){this._trainableWeights.forEach(n=>n.trainable=e),this.trainable_=e}get trainableWeights(){return this.trainable_?this._trainableWeights.filter(e=>e.trainable):[]}set trainableWeights(e){this._trainableWeights=e}get nonTrainableWeights(){return this.trainable?this._trainableWeights.filter(e=>!e.trainable).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)}set nonTrainableWeights(e){this._nonTrainableWeights=e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}get stateful(){return this._stateful}resetStates(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")}assertInputCompatibility(e){const n=bs(e);if(this.inputSpec==null||this.inputSpec.length===0)return;const r=bs(this.inputSpec);if(n.length!==r.length)throw new Pe(`Layer ${this.name} expects ${r.length} inputs, but it received ${n.length} input tensors. Input received: ${e}`);for(let s=0;s<n.length;s++){const i=n[s],a=r[s];if(a==null)continue;const o=i.rank;if(a.ndim!=null&&o!==a.ndim)throw new Pe(`Input ${s} is incompatible with layer ${this.name}: expected ndim=${a.ndim}, found ndim=${o}`);if(a.maxNDim!=null&&o>a.maxNDim)throw new Pe(`Input ${s} is incompatible with layer ${this.name}: expected max_ndim=${a.maxNDim}, found ndim=${o}`);if(a.minNDim!=null&&o<a.minNDim)throw new Pe(`Input ${s} is incompatible with layer ${this.name}: expected min_ndim=${a.minNDim}, found ndim=${o}.`);if(a.dtype!=null&&i.dtype!==a.dtype)throw new Pe(`Input ${s} is incompatible with layer ${this.name} : expected dtype=${a.dtype}, found dtype=${i.dtype}.`);if(a.axes){const c=i.shape;for(const u in a.axes){const d=Number(u),f=a.axes[u],h=d>=0?c[d]:c[c.length+d];if(f!=null&&[f,null].indexOf(h)===-1)throw new Pe(`Input ${s} is incompatible with layer ${this.name}: expected axis ${d} of input shape to have value ${f} but got shape ${c}.`)}}if(a.shape!=null)for(let c=0;c<a.shape.length;++c){const u=a.shape[c],d=i.shape[c];if(u!=null&&d!=null&&u!==d)throw new Pe(`Input ${s} is incompatible with layer ${this.name}: expected shape=${a.shape}, found shape=${i.shape}.`)}}}call(e,n){return e}invokeCallHook(e,n){this._callHook!=null&&this._callHook(e,n)}setCallHook(e){this._callHook=e}clearCallHook(){this._callHook=null}apply(e,n){n=n||{},this.assertNotDisposed();const r=bs(e),s=IIe(e),i=NIe(e);if(s===i)throw new Pe("Arguments to apply() must be all SymbolicTensors or all Tensors");return Ng(this.name,()=>{if(!this.built){this.assertInputCompatibility(e);const a=[];for(const o of bs(e))a.push(o.shape);this.build(Ql(a)),this.built=!0,this.initialWeights&&this.setWeights(this.initialWeights),this._refCount===null&&i&&(this._refCount=1)}if(this.assertInputCompatibility(e),i){let a=this.call(e,n);this.supportsMasking&&this.setMaskMetadata(e,a);const o=bs(a),c=[];for(let u of o)r.indexOf(u)!==-1&&(u=u.clone()),c.push(u);if(a=Ql(c),this.activityRegularizer!=null)throw new ur("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return a}else{const a=BIe(e),o=this.computeOutputShape(a);let c;const u=EIe(e);if(this.warnOnIncompatibleInputShape(Array.isArray(e)?a[0]:a),o!=null&&o.length>0&&Array.isArray(o[0])?c=o.map((d,f)=>new cA(u,d,this,bs(e),n,this.name,f)):c=new cA(u,o,this,bs(e),n,this.name),this.addInboundNode(e,c,null,null,a,o,n),this._refCount++,this.activityRegularizer!=null)throw new ur("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return c}})}warnOnIncompatibleInputShape(e){if(this.batchInputShape!=null)if(e.length!==this.batchInputShape.length)console.warn(`The rank of the input tensor provided (shape: ${JSON.stringify(e)}) does not match that of the batchInputShape (${JSON.stringify(this.batchInputShape)}) of the layer ${this.name}`);else{let n=!1;this.batchInputShape.forEach((r,s)=>{r!=null&&e[s]!=null&&e[s]!==r&&(n=!0)}),n&&console.warn(`The shape of the input tensor (${JSON.stringify(e)}) does not match the expectation of layer ${this.name}: ${JSON.stringify(this.batchInputShape)}`)}}get outputShape(){if(this.inboundNodes==null||this.inboundNodes.length===0)throw new Uf(`The layer ${this.name} has never been called and thus has no defined output shape.`);const e=[];for(const n of this.inboundNodes){const r=JSON.stringify(n.outputShapes);e.indexOf(r)===-1&&e.push(r)}if(e.length===1){const n=this.inboundNodes[0].outputShapes;return Array.isArray(n)&&Array.isArray(n[0])&&n.length===1?n[0]:n}else throw new Uf(`The layer ${this.name} has multiple inbound nodes with different output shapes. Hence the notion of "output shape" is ill-defined for the layer.`)}countParams(){if(!this.built)throw new Gu(`You tried to call countParams() on ${this.name}, but the layer is not built yet. Build it first by calling build(batchInputShape).`);return HB(this.weights)}build(e){this.built=!0}getWeights(e=!1){return kO(e?this.trainableWeights:this.weights)}setWeights(e){He(()=>{const n=this.weights;if(n.length!==e.length)throw new Pe(`You called setWeights(weights) on layer "${this.name}" with a weight list of length ${e.length}, but the layer was expecting ${n.length} weights. Provided weights: ${e}...`);if(n.length===0)return;const r=[],s=kO(n);for(let i=0;i<s.length;++i){const a=s[i],o=n[i],c=e[i];if(!vr(a.shape,c.shape))throw new Pe(`Layer weight shape ${a.shape} not compatible with provided weight shape ${c.shape}`);r.push([o,c])}p$(r)})}addWeight(e,n,r,s,i,a,o,c){if(this._addedWeightNames.indexOf(e)!==-1)throw new Pe(`Duplicate weight name ${e} for layer ${this.name}`);this._addedWeightNames.push(e),r==null&&(r="float32"),this.fastWeightInitDuringBuild&&(s=c!=null?c():yi("zeros"));const u=s.apply(n,r),d=new wIe(u,r,e,a,o);return u.dispose(),i!=null&&this.addLoss(()=>i.apply(d.read())),a==null&&(a=!0),a?this._trainableWeights.push(d):this._nonTrainableWeights.push(d),d}setFastWeightInitDuringBuild(e){this.fastWeightInitDuringBuild=e}addLoss(e){e==null||Array.isArray(e)&&e.length===0||(e=bs(e),this._losses!==void 0&&this._losses!==null&&this.losses.push(...e))}computeOutputShape(e){return e}computeMask(e,n){if(!this.supportsMasking){if(n!=null)if(Array.isArray(n))n.forEach(r=>{if(r!=null)throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`)});else throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`);return null}return n}setMaskMetadata(e,n,r){if(!this.supportsMasking)return;const s=this.computeMask(e,r),i=bs(n),a=bs(s);if(i.length!==a.length)throw new Error(`${this.name} outputs ${i.length} tensors but ${i.length} masks for those tensors`);for(let o=0;o<i.length;o++)i[o].kerasMask=a[o]}addInboundNode(e,n,r,s,i,a,o=null){const c=bs(e);n=bs(n),r=bs(r),s=bs(s),i=QB(i),a=QB(a);const u=[],d=[],f=[];for(const h of c)u.push(h.sourceLayer),d.push(h.nodeIndex),f.push(h.tensorIndex);new DN({outboundLayer:this,inboundLayers:u,nodeIndices:d,tensorIndices:f,inputTensors:c,outputTensors:n,inputMasks:r,outputMasks:s,inputShapes:i,outputShapes:a},o);for(let h=0;h<n.length;h++)n[h].sourceLayer=this,n[h].nodeIndex=this.inboundNodes.length-1,n[h].tensorIndex=h}getConfig(){const e={name:this.name,trainable:this.trainable};return this.batchInputShape!=null&&(e.batchInputShape=this.batchInputShape),this.dtype!=null&&(e.dtype=this.dtype),e}disposeWeights(){return this.weights.forEach(e=>e.dispose()),this.weights.length}assertNotDisposed(){if(this._refCount===0)throw new Error(`Layer '${this.name}' is already disposed.`)}dispose(){if(!this.built)throw new Error(`Cannot dispose Layer ${this.name} because it has not been built yet.`);if(this._refCount===null)throw new Error(`Cannot dispose Layer ${this.name} because it has not been used yet.`);this.assertNotDisposed();let e=0;return--this._refCount===0&&(e=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:e}}};function BIe(t){t=bs(t);const e=[];for(const n of t)e.push(n.shape);return Ql(e)}function EIe(t){return"float32"}function wne(t,e,n){if((e==null||n!=null&&n>0)&&(e=t.sourceLayer,n=t.nodeIndex),e.inboundNodes.length===0)return[t];{const r=e.inboundNodes[n];if(r.inboundLayers.length===0)return r.inputTensors;{const s=[];for(let i=0;i<r.inboundLayers.length;i++){const a=r.inputTensors[i],o=r.inboundLayers[i],c=r.nodeIndices[i],u=wne(a,o,c);for(const d of u)s.indexOf(d)===-1&&s.push(d)}return s}}}function IIe(t){let e=!0;for(const n of bs(t))if(!(n instanceof cA)){e=!1;break}return e}function NIe(t){let e=!0;for(const n of bs(t))if(n instanceof cA){e=!1;break}return e}class V5 extends xr{constructor(e){if(super({dtype:e.dtype,name:e.name!=null?e.name:ON("input").toString()}),e.batchSize==null&&(e.batchSize=null),e.sparse==null&&(e.sparse=!1),this.trainable=!1,this.built=!0,this.sparse=e.sparse,e.inputShape!=null&&e.batchInputShape!=null)throw new Pe("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");let n=e.batchInputShape;if(n==null){if(e.inputShape==null)throw new Pe("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");n=[e.batchSize].concat(e.inputShape)}else if(e.batchSize!=null)throw new Pe("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");const r=e.dtype||"float32";this.batchInputShape=n,this.dtype=r,this.inputSpec=[{shape:n}];const s=new cA(this.dtype,this.batchInputShape,this,[],{},this.name);s.nodeIndex=0,s.tensorIndex=0,new DN({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[s],outputTensors:[s],inputMasks:[null],outputMasks:[null],inputShapes:[n],outputShapes:[n]})}apply(e,n){throw new Pe(`Cannot pass any input to an InputLayer's apply() method. InputLayer name: ${this.name}`)}dispose(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}}getConfig(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}}}V5.className="InputLayer";Rt(V5);function jIe(t){if(t.batchShape==null&&t.shape==null)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(t.batchShape!=null&&t.shape!=null)throw new Pe("Please provide either a `shape` or `batchShape` argument to Input, but not both.");let e=t.batchShape;t.shape!=null&&e==null&&(e=[null].concat(t.shape));let n=t.dtype;return n==null&&(n="float32"),new V5({batchInputShape:e,name:t.name,dtype:n,sparse:t.sparse}).inboundNodes[0].outputTensors[0]}function TIe(t,e){if(t.dtype==null||t.dtype===e.dtype)return e;try{return Mt(e,t.dtype)}catch{throw new Pe(`The dtype of the feed (${e.dtype}) can not be cast to the dtype of the key '${t.name}' (${t.dtype}).`)}}class Lp{constructor(e){if(this.id2Value={},this.id2Mask={},this.name2Id={},e instanceof Lp)for(const n in e.id2Value)this.id2Value[n]=e.id2Value[n],n in e.id2Mask&&(this.id2Mask[n]=e.id2Mask[n]);else{if(e==null)return;for(const n of e)this.add(n.key,n.value)}}add(e,n,r){if(this.id2Value[e.id]==null)this.id2Value[e.id]=TIe(e,n),this.name2Id[e.name]=e.id,r!=null&&(this.id2Mask[e.id]=r);else throw new Pe(`Duplicate key: name=${e.name}, id=${e.id}`);return this}addFeed(e){this.add(e.key,e.value)}hasKey(e){return this.id2Value[e.id]!=null}names(){return Object.keys(this.name2Id)}getValue(e){if(e instanceof cA){if(this.id2Value[e.id]==null)throw new Pe(`Nonexistent key: ${e.name}`);return this.id2Value[e.id]}else{const n=this.name2Id[e];if(n==null)throw new Pe(`Feed dict has no SymbolicTensor name: ${e}`);return this.id2Value[n]}}getMask(e){if(e instanceof cA){if(this.id2Value[e.id]==null)throw new Pe(`Nonexistent key: ${e.name}`);return this.id2Mask[e.id]}else{const n=this.name2Id[e];if(n==null)throw new Pe(`Feed dict has no SymbolicTensor name: ${e}`);return this.id2Mask[n]}}disposeMasks(){this.id2Mask!=null&&Ar(this.id2Mask)}}const WB=new ine,VB=new ine;function _Ie(t){WB?.setMaxEntries(t),VB?.setMaxEntries(t)}function Lv(t,e,n,r){const s=n==null?!1:n.training,i=Array.isArray(t),a=i?t:[t],o=a.map(g=>g.name),c=[],u=e.names();for(const g of o)u.indexOf(g)!==-1?c.push(e.getValue(g)):c.push(null);const d=o.join(",")+"|"+e.names().sort().join(",");let f=WB.get(d),h;if(f==null){const g=RIe(a,e);f=g.sorted,h=g.recipientCounts,WB.put(d,f),VB.put(d,h)}h={},s||Object.assign(h,VB.get(d));const m=new Lp(e);for(let g=0;g<f.length;++g){const y=f[g],x=y.sourceLayer;if(x instanceof V5)continue;const v=[],w=[],B=[];let k=!1;for(const D of y.inputs){const T=m.getValue(D),j=m.getMask(D);v.push(T),w.push(j),j!=null&&(k=!0),s||(h[D.name]--,h[D.name]===0&&!e.hasKey(D)&&o.indexOf(D.name)===-1&&!T.isDisposed&&D.sourceLayer.stateful!==!0&&B.push(T))}k&&(n=n||{},n.mask=w[0]);const E=bs(x.apply(v,n));let N=null;x.supportsMasking&&(N=x.computeMask(v,w));const O=FIe(y),F=Array.isArray(O)?O:[O];for(let D=0;D<F.length;++D){m.hasKey(F[D])||m.add(F[D],E[D],Array.isArray(N)?N[0]:N);const T=o.indexOf(F[D].name);T!==-1&&(c[T]=E[D])}s||Ar(B)}return m.disposeMasks(),i?c:c[0]}function RIe(t,e){ce(t!=null&&t.length>0,()=>"Expected at least one fetch, got none");let n=[],r={};if(t.length===1){const s=f7(t[0],e);n=s.sorted,r=s.recipientMap}else{const s=new Set;for(const i of t){const{sorted:a,recipientMap:o}=f7(i,e);for(const c of a)s.has(c.name)||(n.push(c),s.add(c.name));for(const c in o)r[c]==null&&(r[c]=new Set),o[c].forEach(u=>r[c].add(u))}}return{sorted:n,recipientCounts:OIe(r)}}function OIe(t){const e={};for(const n in t)e[n]=t[n].size;return e}function f7(t,e){const n=new Set,r=[],s={};for(const o of e.names())n.add(o);const i=[],a=[];for(i.push(t);i.length>0;){const o=i[i.length-1];if(n.has(o.name)){i.pop();continue}const c=a[a.length-1]===i.length-1;if(o.inputs.length===0||c)i.pop(),r.push(o),n.add(o.name),c&&a.pop();else{a.push(i.length-1);for(const u of o.inputs)s[u.name]==null&&(s[u.name]=new Set),s[u.name].add(o.name),!n.has(u.name)&&i.push(u)}}return{sorted:r,recipientMap:s}}function FIe(t){let e;if(t.sourceLayer.inboundNodes.length===1)e=t.sourceLayer.output;else{let n=null;for(let r=0;r<t.sourceLayer.inboundNodes.length;++r)for(const s of t.sourceLayer.inboundNodes[r].outputTensors)if(s.id===t.id){n=r;break}e=t.sourceLayer.getOutputAt(n)}return e}const DIe=Xe();DIe.registerFlag("TOPOLOGICAL_SORT_CACHE_MAX_ENTRIES",()=>100,_Ie);function m$(t,e){return He(()=>po(hn(je(t,t),e,!0)))}class q5 extends C0{getConfig(){return{}}}class Sne extends q5{constructor(e){super(),this.defaultMaxValue=2,this.defaultAxis=0,this.maxValue=e.maxValue!=null?e.maxValue:this.defaultMaxValue,this.axis=e.axis!=null?e.axis:this.defaultAxis}apply(e){return He(()=>{const n=m$(e,this.axis),r=Yl(n,0,this.maxValue);return je(e,un(r,jt(Ha(),n)))})}getConfig(){return{maxValue:this.maxValue,axis:this.axis}}}Sne.className="MaxNorm";Rt(Sne);class Cne extends q5{constructor(e){super(),this.defaultAxis=0,this.axis=e.axis!=null?e.axis:this.defaultAxis}apply(e){return He(()=>un(e,jt(Ha(),m$(e,this.axis))))}getConfig(){return{axis:this.axis}}}Cne.className="UnitNorm";Rt(Cne);class kne extends q5{apply(e){return ff(e)}}kne.className="NonNeg";Rt(kne);class Bne extends q5{constructor(e){super(),this.defaultMinValue=0,this.defaultMaxValue=1,this.defaultRate=1,this.defaultAxis=0,this.minValue=e.minValue!=null?e.minValue:this.defaultMinValue,this.maxValue=e.maxValue!=null?e.maxValue:this.defaultMaxValue,this.rate=e.rate!=null?e.rate:this.defaultRate,this.axis=e.axis!=null?e.axis:this.defaultAxis}apply(e){return He(()=>{const n=m$(e,this.axis),r=jt(je(this.rate,Yl(n,this.minValue,this.maxValue)),je(1-this.rate,n));return je(e,un(r,jt(Ha(),n)))})}getConfig(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}}}Bne.className="MinMaxNorm";Rt(Bne);const A7={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function Xa(t){return i$(t)}function h7(t,e={}){return M5(t,su.getMap().classNameMap,e,"constraint")}function Ya(t){if(t==null)return null;if(typeof t=="string"){const n={className:t in A7?A7[t]:t,config:{}};return h7(n)}else return t instanceof q5?t:h7(t)}async function Ym(t){if(t==null)return;const e=[],n=[],r=[];for(const s in t){const i=t[s];if(typeof i!="number"){const a=i;e.push(a.data()),n.push(s),r.push(a)}}if(e.length>0){const s=await Promise.all(e);for(let i=0;i<s.length;++i)t[n[i]]=s[i][0];Ar(r)}}function Ene(t){if(t!=null)for(const e in t){const n=t[e];typeof n!="number"&&n.dispose()}}var p7;(function(t){t[t.SILENT=0]="SILENT",t[t.VERBOSE=1]="VERBOSE"})(p7||(p7={}));const LIe=125;class N2{constructor(){this.validationData=null}setParams(e){this.params=e}async onEpochBegin(e,n){}async onEpochEnd(e,n){}async onBatchBegin(e,n){}async onBatchEnd(e,n){}async onTrainBegin(e){}async onTrainEnd(e){}setModel(e){}}class $Ie{constructor(e,n=10){e==null&&(e=[]),this.callbacks=e,this.queueLength=n}append(e){this.callbacks.push(e)}setParams(e){for(const n of this.callbacks)n.setParams(e)}setModel(e){for(const n of this.callbacks)n.setModel(e)}async onEpochBegin(e,n){n==null&&(n={});for(const r of this.callbacks)await r.onEpochBegin(e,n)}async onEpochEnd(e,n){n==null&&(n={});for(const r of this.callbacks)await r.onEpochEnd(e,n)}async onBatchBegin(e,n){n==null&&(n={});for(const r of this.callbacks)await r.onBatchBegin(e,n)}async onBatchEnd(e,n){n==null&&(n={});for(const r of this.callbacks)await r.onBatchEnd(e,n)}async onTrainBegin(e){e==null&&(e={});for(const n of this.callbacks)await n.onTrainBegin(e)}async onTrainEnd(e){e==null&&(e={});for(const n of this.callbacks)await n.onTrainEnd(e)}}class PIe extends N2{constructor(){super()}async onEpochBegin(e){this.seen=0,this.totals={}}async onBatchEnd(e,n){n==null&&(n={});const r=n.size==null?0:n.size;this.seen+=r;for(const s in n){const i=n[s];if(typeof i=="number")this.totals.hasOwnProperty(s)||(this.totals[s]=0),this.totals[s]=this.totals[s]+i*r;else{let a;s in this.totals?a=this.totals[s]:this.totals[s]=0;const o=He(()=>jt(this.totals[s],je(i,r)));this.totals[s]=o,a?.dispose()}}}async onEpochEnd(e,n){if(n!=null)for(const r of this.params.metrics)this.totals[r]!=null&&(typeof this.totals[r]=="number"?n[r]=this.totals[r]/this.seen:He(()=>{const s=je(un(1,this.seen),this.totals[r]);n[r]=s,this.totals[r].dispose(),Ma(n[r])}))}}class UIe extends N2{async onTrainBegin(e){this.epoch=[],this.history={}}async onEpochEnd(e,n){n==null&&(n={}),this.epoch.push(e);for(const r in n)this.history[r]==null&&(this.history[r]=[]),this.history[r].push(n[r])}async syncData(){const e=[],n=[],r=[];for(const i in this.history){const a=this.history[i];for(let o=0;o<a.length;++o)if(typeof a[o]!="number"){const c=a[o];e.push(c.data()),n.push(i),r.push(o)}}const s=await Promise.all(e);for(let i=0;i<s.length;++i)this.history[n[i]][r[i]].dispose(),this.history[n[i]][r[i]]=s[i][0]}}class zIe extends N2{constructor(e,n){if(super(),this.currentEpoch=0,this.nowFunc=e.nowFunc,this.nextFrameFunc=e.nextFrameFunc||$L,this.yieldEvery=n||"auto",this.yieldEvery==="auto"&&(this.yieldEvery=LIe),this.yieldEvery==="never"&&e.onYield!=null)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");OB(this.yieldEvery)&&(this.maybeWait=eIe(this.maybeWait.bind(this),this.yieldEvery,this.nowFunc)),this.trainBegin=e.onTrainBegin,this.trainEnd=e.onTrainEnd,this.epochBegin=e.onEpochBegin,this.epochEnd=e.onEpochEnd,this.batchBegin=e.onBatchBegin,this.batchEnd=e.onBatchEnd,this.yield=e.onYield}async maybeWait(e,n,r){const s=[];this.yield!=null&&(await Ym(r),s.push(this.yield(e,n,r))),s.push(this.nextFrameFunc()),await Promise.all(s)}async onEpochBegin(e,n){this.currentEpoch=e,this.epochBegin!=null&&(await Ym(n),await this.epochBegin(e,n))}async onEpochEnd(e,n){const r=[];this.epochEnd!=null&&(await Ym(n),r.push(this.epochEnd(e,n))),this.yieldEvery==="epoch"&&r.push(this.nextFrameFunc()),await Promise.all(r)}async onBatchBegin(e,n){this.batchBegin!=null&&(await Ym(n),await this.batchBegin(e,n))}async onBatchEnd(e,n){const r=[];this.batchEnd!=null&&(await Ym(n),r.push(this.batchEnd(e,n))),this.yieldEvery==="batch"?r.push(this.nextFrameFunc()):OB(this.yieldEvery)&&r.push(this.maybeWait(this.currentEpoch,e,n)),await Promise.all(r)}async onTrainBegin(e){this.trainBegin!=null&&(await Ym(e),await this.trainBegin(e))}async onTrainEnd(e){this.trainEnd!=null&&(await Ym(e),await this.trainEnd(e))}}function Ine(t,e){return t==null&&(t={}),t instanceof N2?[t]:Array.isArray(t)&&t[0]instanceof N2?t:bs(t).map(r=>new zIe(r,e))}class zu{constructor(){}static registerCallbackConstructor(e,n){ce(e>=0&&Number.isInteger(e),()=>`Verbosity level is expected to be an integer >= 0, but got ${e}`),zu.checkForDuplicate(n),zu.constructors[e]==null&&(zu.constructors[e]=[]),zu.constructors[e].push(n)}static checkForDuplicate(e){for(const n in zu.constructors)zu.constructors[+n].forEach(s=>{if(s===e)throw new Pe("Duplicate callback constructor.")})}static clear(){zu.constructors={}}static createCallbacks(e){const n=[];for(const r in zu.constructors){const s=+r;e>=s&&n.push(...zu.constructors[s])}return n.map(r=>new r)}}zu.constructors={};function Nne(t,e,n,r,s,i,a,o,c){const u=new UIe,d=[new PIe,...zu.createCallbacks(e)];t!=null&&d.push(...t),d.push(u);const f=new $Ie(d);return f.setParams({epochs:n,initialEpoch:r,samples:s,steps:i,batchSize:a,verbose:e,doValidation:o,metrics:c}),{callbackList:f,history:u}}function fh(t,e={},n=!1){return M5(t,su.getMap().classNameMap,e,"layer",n)}function qB(t,e){return He(()=>{t.dtype!=="float32"&&(t=Mt(t,"float32"));const n=hn(H5(t),e,!0),r=v0(n.shape,Ha()),s=po(gA(n,r));return un(t,s)})}function LN(t,e){return He(()=>$i(H5(Kt(e,t)),-1))}function g$(t,e){return He(()=>$i(Na(Kt(e,t)),-1))}function y$(t,e){return He(()=>{const n=Kt(t,e),r=Yl(Na(t),Ha(),Number.MAX_VALUE),s=Na(un(n,r));return je(100,$i(s,-1))})}function MIe(t,e){return He(()=>{const n=Yl(e,Ha(),Number.MAX_VALUE),r=Rc(jt(1,n)),s=Yl(t,Ha(),Number.MAX_VALUE),i=Rc(jt(1,s));return $i(H5(Kt(r,i)),-1)})}function QIe(t,e){return He(()=>{const n=gA(0,Kt(1,je(t,e)));return $i(H5(n),-1)})}function HIe(t,e){return He(()=>{const n=gA(0,Kt(1,je(t,e)));return $i(n,-1)})}function WIe(t,e){return He(()=>{const n=hn(je(t,e),-1),r=fu(je(Kt(1,t),e),-1);return gA(0,jt(1,Kt(r,n)))})}function VIe(t,e){return He(()=>{const n=Math.log(2),r=Kt(e,t),s=Kt(jt(r,w0(je(-2,r))),n);return $i(s,-1)})}function j2(t,e,n=!1){return He(()=>{if(n)e=D5(e);else{const r=hn(e,e.shape.length-1,!0);e=un(e,r)}return e=Yl(e,Ha(),1-Ha()),Zs(hn(je(Mt(t,"float32"),Rc(e)),e.shape.length-1))})}function GB(t,e,n=!1){return He(()=>{const r=Mt(Ux(fIe(t)),"int32");e=Yl(e,Ha(),1-Ha());const s=e.shape,i=Fe(y1(r,s[s.length-1]),s);return j2(i,e,n)})}function qIe(t,e){if(!vr(t.shape,e.shape))throw new Pe(`logits and labels must have the same shape, but got shapes ${JSON.stringify(t.shape)} and ${JSON.stringify(e.shape)}`);return He(()=>{const n=ff(e),r=Zs(Na(e));return jt(Kt(n,je(e,t)),E5(Jl(r)))})}function $N(t,e){return He(()=>{let n;return n=Yl(e,Ha(),1-Ha()),n=Rc(un(n,Kt(1,n))),$i(qIe(t,n),-1)})}function GIe(t,e){return He(()=>{const n=Yl(t,Ha(),1),r=Yl(e,Ha(),1);return hn(je(t,Rc(un(n,r))),-1)})}function KIe(t,e){return He(()=>{const n=Rc(jt(Ha(),e));return $i(Kt(e,je(t,n)),-1)})}function jne(t,e){return He(()=>{const n=qB(t,-1),r=qB(e,-1),s=je(n,r);return Zs(hn(s,-1))})}const KB={meanSquaredError:LN,meanAbsoluteError:g$,meanAbsolutePercentageError:y$,meanSquaredLogarithmicError:MIe,squaredHinge:QIe,hinge:HIe,categoricalHinge:WIe,logcosh:VIe,categoricalCrossentropy:j2,sparseCategoricalCrossentropy:GB,binaryCrossentropy:$N,kullbackLeiblerDivergence:GIe,poisson:KIe,cosineProximity:jne};function VT(t){if(typeof t=="string"){if(t in KB)return KB[t];let e=`Unknown loss ${t}`;throw t.toLowerCase().includes("softmaxcrossentropy")&&(e=`Unknown loss ${t}. Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy`),new Pe(e)}else return t}function Tne(t,e){return He(()=>{const n=je(.5,Oc(e)),r=Jf(rc(e,n),t.dtype);return $i(rd(t,r),-1)})}function _ne(t,e){return He(()=>Jf(rd(Gg(t,-1),Gg(e,-1)),"float32"))}function XIe(t,e){return He(()=>Mt(hn(tf(rd(t,1),rd(e,1))),"float32"))}function YIe(t,e){return He(()=>Mt(hn(tf(rd(t,0),rd(e,1))),"float32"))}function JIe(t,e){return He(()=>{const n=XIe(t,e),r=YIe(t,e),s=jt(n,r);return Mt($o(rc(s,0),un(n,s),0),"float32")})}function ZIe(t,e){return $N(t,e)}function eNe(t,e){return t.rank===e.rank&&(t=td(t,[t.rank-1])),e=Gg(e,-1),e.dtype!==t.dtype&&(e=Mt(e,t.dtype)),Mt(rd(t,e),"float32")}const tNe=LN,nNe=LN,rNe=g$,sNe=g$,iNe=y$,aNe=y$,Rne=j2,oNe=jne,One=GB,XB={binaryAccuracy:Tne,categoricalAccuracy:_ne,precision:JIe,categoricalCrossentropy:Rne,sparseCategoricalCrossentropy:One,mse:tNe,MSE:nNe,mae:rNe,MAE:sNe,mape:iNe,MAPE:aNe,cosine:oNe};function lNe(t){if(typeof t=="string"&&t in XB)return XB[t];if(typeof t!="string"&&t!=null)return t;throw new Pe(`Unknown metric ${t}`)}function NC(t){if(zf(t!==null,`Unknown LossOrMetricFn ${t}`),typeof t=="string")return t;{let e;for(const n of Object.keys(KB))if(KB[n]===t){e=n;break}if(e!==void 0)return e;for(const n of Object.keys(XB))if(XB[n]===t){e=n;break}return e!==void 0?e:t.name}}function cNe(t){const e={Adagrad:()=>rg.adagrad(.01),Adadelta:()=>rg.adadelta(1,.95,Ha()),Adam:()=>rg.adam(.001,.9,.999,Ha()),Adamax:()=>rg.adamax(.002,.9,.999,Ha(),0),RMSProp:()=>rg.rmsprop(.001,.9,0,Ha()),SGD:()=>rg.sgd(.01)};if(e.adagrad=e.Adagrad,e.adadelta=e.Adadelta,e.adam=e.Adam,e.adamax=e.Adamax,e.rmsprop=e.RMSProp,e.sgd=e.SGD,t in e)return e[t]();throw new Pe(`Unknown Optimizer ${t}`)}const m7=1*1024*1024;function g7(t,e,n=!1){if(t==null||typeof t!="object"||Object.getPrototypeOf(t)!==Object.prototype||!BO(t))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(n){const r=JSON.stringify(t);r.length>m7&&console.warn(`User-defined metadata of model "${e}" is too large in size (length=${r.length} when serialized). It is not recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= ${m7}.`)}}function BO(t){if(t===null)return!0;if(typeof t=="object")if(Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);for(const n of e)if(typeof n!="string"||!BO(t[n]))return!1;return!0}else if(Array.isArray(t)){for(const e of t)if(!BO(e))return!1;return!0}else return!1;else{const e=typeof t;return e==="string"||e==="number"||e==="boolean"}}function uNe(t,e,n,r=console.log){const s=fNe(t),i=["Layer (type)","Input Shape","Output shape","Param #"];s?(e=e||90,n=n||[.32,.61,.89,1]):(e=e||115,n=n||[.24,.48,.7,.8,1]),n[n.length-1]<=1&&(n=n.map(d=>Math.floor(e*d)));let a;if(!s){i.push("Receives inputs"),a=[];for(const d in t.nodesByDepth)a.push(...t.nodesByDepth[d])}r("_".repeat(e)),YB(i,n,r),r("=".repeat(e));const o=t.layers;for(let d=0;d<o.length;++d)s?ANe(o[d],n,r):hNe(o[d],n,a,r),r((d===o.length-1?"=":"_").repeat(e));t.checkTrainableWeightsConsistency();const c=dNe(t),u=HB(t.nonTrainableWeights);r(`Total params: ${c+u}`),r(`Trainable params: ${c}`),r(`Non-trainable params: ${u}`),r("_".repeat(e))}function dNe(t){let e;return t.collectedTrainableWeights!=null?e=HB(t.collectedTrainableWeights):e=HB(t.trainableWeights),e}function fNe(t){let e=!0;const n=[],r=[];for(const s in t.nodesByDepth)n.push(t.nodesByDepth[s]);for(const s of n){if(s.length>1||s.length===1&&s[0].inboundLayers.length>1){e=!1;break}r.push(...s)}if(e)for(const s of t.layers){let i=!1;for(const a of s.inboundNodes)if(r.indexOf(a)!==-1)if(i){e=!1;break}else i=!0;if(!e)break}return e}function YB(t,e,n=console.log){let r="";for(let s=0;s<t.length;++s)s>0&&(r=r.slice(0,r.length-1)+" "),r+=t[s],r=r.slice(0,e[s]),r+=" ".repeat(e[s]-r.length);n(r)}function ANe(t,e,n){let r,s;try{s=t.inboundNodes.map(c=>JSON.stringify(c.inputShapes)).join(",")}catch{s="multiple"}try{r=JSON.stringify(t.outputShape)}catch{r="multiple"}const i=t.name,a=t.getClassName(),o=[`${i} (${a})`,s,r,t.countParams().toString()];YB(o,e,n)}function hNe(t,e,n,r){let s,i;try{i=t.inboundNodes.map(f=>JSON.stringify(f.inputShapes)).join(",")}catch{i="multiple"}try{s=JSON.stringify(t.outputShape)}catch{s="multiple"}const a=[];for(const f of t.inboundNodes)if(!(n!=null&&n.length>0&&n.indexOf(f)===-1))for(let h=0;h<f.inboundLayers.length;++h){const m=f.inboundLayers[h].name,g=f.nodeIndices[h],y=f.tensorIndices[h];a.push(`${m}[${g}][${y}]`)}const o=t.name,c=t.getClassName(),u=a.length===0?"":a[0],d=[`${o} (${c})`,i,s,t.countParams().toString(),u];YB(d,e,r);for(let f=1;f<a.length;++f)YB(["","","","",a[f]],e,r)}function Fne(t,e,n){return(t==="inboundNodes"||t==="outputLayers"||t==="inputLayers")&&e===0&&typeof n=="string"}function EO(t,e){if(t===null)return null;if(typeof t=="string")return ug(t);if(typeof t=="number"||typeof t=="boolean")return t;if(t instanceof Array){const n=[],r=t.length;for(let s=0;s<r;++s){const i=t[s];Fne(e,s,i)?n.push(i):n.push(EO(i,e))}return n}else{const n={};for(const r of Object.keys(t)){const s=t[r];if(r==="name"&&typeof s=="string")n[r]=s;else{const i=ug(r);n[i]=EO(s,i)}}return n}}function IO(t,e){if(t==null)return null;if(typeof t=="string")return eh(t);if(typeof t=="number"||typeof t=="boolean")return t;if(t instanceof Array){const n=[],r=t.length;for(let s=0;s<r;++s){const i=t[s];Fne(e,s,i)?n.push(i):n.push(IO(i,e))}return n}else{const n={};for(const r of Object.keys(t)){const s=t[r],i=eh(r);(r==="name"||r==="className")&&typeof s=="string"?n[i]=s:n[i]=IO(s,r)}return n}}const Dne="4.22.0";const pNe=t=>{const e=Object.keys(t);if(e.length===0)return!1;const n=e[0].split("/");return!isNaN(parseInt(n[n.length-1],10))};class Pd extends xr{constructor(e){if(super({}),this.containerNodes=new Set,this.name=e.name,this.name==null){const w=this.getClassName().toLowerCase();this.name=ON(w)}if(this.supportsMasking=!1,this.trainable_=!0,Array.isArray(e.inputs)?this.inputs=e.inputs.slice():this.inputs=[e.inputs],Array.isArray(e.outputs)?this.outputs=e.outputs.slice():this.outputs=[e.outputs],Gp(this.inputs).length!==this.inputs.length)throw new Pe(`The list of inputs passed to the model is redundant. All inputs should only appear once. Found: ${this.inputs.map(w=>w.name)}`);Gp(this.outputs).length!==this.outputs.length&&console.warn(`The list of outputs passed to the model is redundant. All outputs should only appear once. Found: ${this.outputs.map(w=>w.name)}`),this.inputLayers=[],this.inputLayersNodeIndices=[],this.inputLayersTensorIndices=[],this.outputLayers=[],this.outputLayersNodeIndices=[],this.outputLayersTensorIndices=[],this.layers=[],this.internalContainerRefs=[];for(const w of this.outputs){const B=w.sourceLayer,k=w.nodeIndex,E=w.tensorIndex;this.outputLayers.push(B),this.outputLayersNodeIndices.push(k),this.outputLayersTensorIndices.push(E)}for(const w of this.inputs){const B=w.sourceLayer,k=w.nodeIndex,E=w.tensorIndex;zf(k===0,"input layer has >1 nodes"),zf(E===0,"input layer has >1 tensors"),this.inputLayers.push(B),this.inputLayersNodeIndices.push(k),this.inputLayersTensorIndices.push(E)}this.inputNames=[],this.outputNames=[],this.feedInputShapes=[],this.feedInputNames=[],this.feedOutputNames=[];for(let w=0;w<this.inputLayers.length;w++){const B=this.inputLayers[w];if(!(B instanceof V5))throw new TypeError(`Input layers to a LayersModel must be InputLayer objects. Received inputs: ${e.inputs}. Input ${w} (0-based) originates from layer type ${B.getClassName()}.`);this.inputNames.push(B.name),this.feedInputShapes.push(B.batchInputShape),this.feedInputNames.push(B.name)}for(const w of this.outputLayers)this.outputNames.push(w.name);this.internalInputShapes=this.inputs.map(w=>w.shape),this.internalOutputShapes=this.outputs.map(w=>w.shape);const n={},r={},s={},i={},a={},o=[],c=(w,B,k,E,N,O)=>{(E==null||N==null||O==null)&&(E=w.sourceLayer,N=w.nodeIndex,O=w.tensorIndex);const F=E.inboundNodes[N];if(k.indexOf(F)!==-1)throw new Gu(`The tensor ${w.name} at layer "${E.name}" is part of a cycle.`);if(B.indexOf(F)!==-1)return;this.containerNodes.add(Pd.nodeKey(E,N)),E.id in a||(a[E.id]=Object.keys(a).length),k.indexOf(F)===-1&&k.push(F);const D=F.inboundLayers.length;for(let T=0;T<D;T++){const j=F.inputTensors[T],P=F.inboundLayers[T],U=F.nodeIndices[T],z=F.tensorIndices[T];c(j,B,k,P,U,z)}for(B.push(F);k.indexOf(F)>=0;)k.splice(k.indexOf(F),1);o.push(F)},u=[],d=[];for(const w of this.outputs)c(w,u,d);const f=o.slice().reverse();for(const w of f){r[w.id]=w,w.id in n||(n[w.id]=0);let B=n[w.id];const k=s[w.outboundLayer.id]==null?0:s[w.outboundLayer.id];B=Math.max(B,k),s[w.outboundLayer.id]=B,i[w.outboundLayer.id]=w.outboundLayer,n[w.id]=B;for(let E=0;E<w.inboundLayers.length;E++){const N=w.inboundLayers[E],O=w.nodeIndices[E],F=N.inboundNodes[O],D=n[F.id]==null?0:n[F.id];n[F.id]=Math.max(B+1,D),r[F.id]=F}}const h={};for(const w in n){const B=n[w];B in h||(h[B]=[]),h[B].push(r[w])}const m={};for(const w in s){const B=s[w];B in m||(m[B]=[]),m[B].push(i[w])}let g=Object.keys(m).map(w=>parseInt(w,10)).sort(BC);this.layers=[];for(const w of g){const B=m[w];B.sort((k,E)=>{const N=a[k.id],O=a[E.id];return N<O?-1:N>O?1:0});for(const k of B)k instanceof Pd&&this.internalContainerRefs.push(k),this.layers.push(k)}this.layersByDepth=m,g=Object.keys(h).map(w=>parseInt(w,10)).sort(BC);const y=this.inputs.slice(),x=[];for(const w of g)for(const B of h[w]){const k=B.outboundLayer;if(k!=null){for(const E of B.inputTensors)if(y.indexOf(E)===-1)throw new Gu(`Graph disconnected: cannot obtain value for tensor ${E} at layer "${k.name}". The following previous layers were accessed without issue: ${x}`);for(const E of B.outputTensors)y.push(E);x.push(k.name)}}this.nodesByDepth=h;const v=this.layers.map(w=>w.name);for(const w of v){const B=v.filter(k=>k===w).length;if(B!==1)throw new Gu(`The name "${w}" is used ${B} times in the model. All layer names should be unique. Layer names: `+JSON.stringify(v))}this.outboundNodes=[],this.inboundNodes=[],new DN({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:this.inputs.map(w=>null),outputMasks:this.outputs.map(w=>null),inputShapes:this.inputs.map(w=>w.shape),outputShapes:this.outputs.map(w=>w.shape)}),this.built=!0,this._refCount=1}assertNotDisposed(){if(this._refCount===0)throw new Error(`Container '${this.name}' is already disposed.`)}dispose(){this.assertNotDisposed();const e={refCountAfterDispose:null,numDisposedVariables:0};if(--this._refCount===0){for(const n of this.layers)e.numDisposedVariables+=n.dispose().numDisposedVariables;for(const n of this.internalContainerRefs)e.numDisposedVariables+=n.dispose().numDisposedVariables}return e.refCountAfterDispose=this._refCount,e}get trainable(){return this.trainable_}set trainable(e){this.layers.forEach(n=>{n._trainableWeights.forEach(r=>r.trainable=e)}),this.trainable_=e}get trainableWeights(){if(this._trainableWeights.length>0)throw new Pe("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];let e=[];for(const n of this.layers)e=e.concat(n.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const n of this.layers)e.push(...n.nonTrainableWeights);if(!this.trainable){const n=[];for(const r of this.layers)n.push(...r.trainableWeights);return n.concat(e)}return e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}loadWeights(e,n=!0){const r={};let s=0;const i=pNe(e);i&&this.parseWeights(e);for(const o of this.layers)for(const[c,u]of o.weights.entries()){const d=i?`${u.name.split("/").slice(0,-1).join("/")+"/"}${c}`:u.originalName;if(r[d]!=null)throw new Pe(`Duplicate weight name: ${d}`);r[d]=u,s++}const a=[];for(const o in e){let c=o;if(r[o]==null){const u=o.split("/");c=u.slice(0,-2).concat([u[u.length-1]]).join("/")}if(r[c]!=null)a.push([r[c],e[o]]);else if(n)throw new Pe(`Provided weight data has no target variable: ${o}`);delete r[c]}if(n){const o=[];for(const c in r)o.push(c);if(o.length>0)throw new Pe(`${o.length} of ${s} weights are not set: ${o}`)}p$(a)}parseWeights(e){for(const n in Object.keys(e)){const r=n.split("/"),s=["vars","layer_checkpoint_dependencies"],i=r.map(a=>a.startsWith("_")?a.slice(1):a).filter(a=>!s.includes(a)).join("/");i!==n&&(e[i]=e[n],delete e[n])}}updatedConfig(){const e=this.getConfig(),n={};return n.className=this.getClassName(),n.config=e,n.kerasVersion=`tfjs-layers ${Dne}`,n.backend="TensorFlow.js",n}toJSON(e,n=!0){const r=IO(this.updatedConfig());return n?JSON.stringify(r):r}call(e,n){return He(()=>{e=bs(e);const r=new Lp;for(let s=0;s<this.inputs.length;++s)r.add(this.inputs[s],e[s]);return Lv(this.outputs,r,n)})}computeMask(e,n){return He(()=>{e=bs(e);let r;return n==null?r=e0(null,e.length):r=bs(n),this.runInternalGraph(e,r)[1]})}computeOutputShape(e){const n=QB(e);if(n.length!==this.inputLayers.length)throw new Pe(`Invalid inputShape argument ${e}: model has ${this.inputLayers.length} tensor inputs.`);const r={};for(let o=0;o<n.length;o++){const c=this.inputLayers[o],u=n[o],d=c.name+"_0_0";r[d]=u}const s=Object.keys(this.nodesByDepth).map(o=>parseInt(o,10)).sort(BC);if(s.length>1)for(const o of s){const c=this.nodesByDepth[o];for(const u of c){const d=u.outboundLayer;if(this.inputLayers.map(y=>y.id).indexOf(d.id)!==-1)continue;const f=[];for(let y=0;y<u.inboundLayers.length;y++){const x=u.inboundLayers[y],v=u.nodeIndices[y],w=u.tensorIndices[y],B=`${x.name}_${v}_${w}`,k=r[B];f.push(k)}const h=d.computeOutputShape(Ql(f)),m=QB(h),g=d.inboundNodes.indexOf(u);for(let y=0;y<m.length;y++){const x=`${d.name}_${g}_${y}`;r[x]=m[y]}}}const i=[],a=[];for(let o=0;o<this.outputLayers.length;o++){const c=this.outputLayers[o],u=this.outputLayersNodeIndices[o],d=this.outputLayersTensorIndices[o],f=`${c.name}_${u}_${d}`;a.push(f)}for(let o=0;o<a.length;o++){const c=a[o];zf(c in r),i.push(r[c])}return Ql(i)}runInternalGraph(e,n){n==null&&(n=e0(null,e.length));const r={};for(let c=0;c<this.inputs.length;++c){const u=this.inputs[c],d=e[c],f=n[c];r[u.id]=[d,f]}const s=Object.keys(this.nodesByDepth).map(c=>parseInt(c,10)).sort(BC);for(const c of s){const u=this.nodesByDepth[c];for(const d of u){const f=d.outboundLayer,h=d.inputTensors,m=d.outputTensors,g=new Array;for(const y of h)y.id in r&&g.push(r[y.id]);if(g.length===h.length){let y={},x,v,w,B;if(d.callArgs!=null&&(y=d.callArgs),g.length===1){const[k,E]=g[0];y.mask==null&&(y.mask=E),w=bs(f.call(k,y)),B=bs(f.computeMask(k,E)),x=[k],v=[E]}else x=g.map(k=>k[0]),v=g.map(k=>k[1]),y.mask==null&&(y.mask=v),w=bs(f.call(x,y)),B=bs(f.computeMask(x,v));if(f.activityRegularizer)throw new ur("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(let k=0;k<m.length;++k){const E=m[k],N=w[k],O=B[k];r[E.id]=[N,O]}}}}const i=[],a=[],o=[];for(const c of this.outputs){zf(c.id in r,`Could not compute output ${c.name} : ${c.id}`);const[u,d]=r[c.id];o.push(u.shape),i.push(u),a.push(d)}return[i,a,o]}buildNodeConversionMap(e){const n={};let r;for(const s of this.layers){r=s instanceof Pd?1:0;for(let i=0;i<s.inboundNodes.length;i++){const a=Pd.nodeKey(s,i);this.containerNodes.has(a)&&(n[a]=r,r+=1)}}return n}getLayer(e,n){if(n!=null)return this.findLayer(n);if(e==null)throw new Pe("Provide either a layer name or layer index");if(typeof e=="number")return this.findLayer(e);for(const r of this.layers)if(r.name===e)return r;throw new Pe(`No such layer: ${e}`)}findLayer(e){if(this.layers.length<=e)throw new Pe(`Was asked to retrieve layer at index ${e}, but model only has ${this.layers.length} layer(s).`);return this.layers[e]}calculateLosses(){return He(()=>{const e=[];for(const n of this.layers)for(let r=0;r<n.inboundNodes.length;++r){const s=Pd.nodeKey(n,r);this.containerNodes.has(s)&&e.push(...n.calculateLosses())}return e})}getConfig(){const e={name:this.name},n=this.buildNodeConversionMap(this.layers),r=[];for(const a of this.layers){const o=a.getClassName(),c=a.getConfig(),u=[];for(let f=0;f<a.inboundNodes.length;f++){const h=a.inboundNodes[f],m=Pd.nodeKey(a,f);let g={};if(this.containerNodes.has(m)){if(h.callArgs)try{JSON.stringify(h.callArgs),g=h.callArgs}catch{console.warn(`Layer ${a.name} was passed non-serializable keyword arguments: ${h.callArgs}. They will not be included in the serialized model (and thus will be missing at deserialization time).`),g={}}if(h.inboundLayers.length>0){const y=[];for(let x=0;x<h.inboundLayers.length;x++){const v=h.inboundLayers[x],w=h.nodeIndices[x],B=h.tensorIndices[x],k=Pd.nodeKey(v,w);let E=n[k];E==null&&(E=0),y.push([v.name,E,B,g])}u.push(y)}}}const d={};d.name=a.name,d.className=o,d.config=c,d.inboundNodes=u,r.push(d)}e.layers=r;const s=[];for(let a=0;a<this.inputLayers.length;a++){const o=this.inputLayers[a],c=this.inputLayersNodeIndices[a],u=Pd.nodeKey(o,c);if(!this.containerNodes.has(u))continue;let d=n[u];d==null&&(d=0);const f=this.inputLayersTensorIndices[a];s.push([o.name,d,f])}e.inputLayers=s;const i=[];for(let a=0;a<this.outputLayers.length;a++){const o=this.outputLayers[a],c=this.outputLayersNodeIndices[a],u=Pd.nodeKey(o,c);if(!this.containerNodes.has(u))continue;let d=n[u];d==null&&(d=0);const f=this.outputLayersTensorIndices[a];i.push([o.name,d,f])}return e.outputLayers=i,e}static fromConfig(e,n,r={},s=!1){const i={},a={};function o(x,v){x.name in a?a[x.name].push(v):a[x.name]=[v]}function c(x,v){const w=[];let B;for(const k of v){const E=k[0],N=k[1],O=k[2];if(B=k[3]==null?{}:k[3],!(E in i)){o(x,v);return}const F=i[E];if(F.inboundNodes.length<=N){o(x,v);return}const D=F.inboundNodes[N];w.push(D.outputTensors[O])}w.length>0&&x.apply(Ql(w),B)}function u(x){const v=x.name,w=fh(x,n.customObjects!=null?n.customObjects:{});w.setFastWeightInitDuringBuild(s),i[v]=w,x.inboundNodes.forEach(k=>{if(!(k instanceof Array))throw new Pe(`Corrupted configuration, expected array for nodeData: ${k}`);o(w,k)})}const d=n.name,f=n.layers;for(const x of f)u(x);for(;!ZEe(a);)for(const x of f){const v=i[x.name];if(v.name in a){const w=a[v.name];delete a[v.name];for(const B of w)c(v,B)}}const h=[],m=[],g=n.inputLayers;for(const x of g){const v=x[0],w=x[1],B=x[2];zf(v in i);const E=i[v].inboundNodes[w].outputTensors;h.push(E[B])}const y=n.outputLayers;for(const x of y){const v=x[0],w=x[1],B=x[2];zf(v in i);const E=i[v].inboundNodes[w].outputTensors;m.push(E[B])}return new e({inputs:h,outputs:m,name:d})}get stateful(){if(this._stateful)throw new Pe("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");for(const e of this.layers)if(e.stateful)return!0;return!1}resetStates(){He(()=>{this.layers.forEach(e=>{e.stateful&&e.resetStates()})})}}function mNe(t,e,n){const r=e.length;if(t==null||Array.isArray(t)&&t.length===0)return e.map(s=>null);if(r===1)return Array.isArray(t)&&t.length===1?t:typeof t=="object"&&e[0]in t?[t[e[0]]]:[t];if(Array.isArray(t)){if(t.length!==r)throw new Error(`Provided ${n} is an array of ${t.length} element(s), but the model has ${r} outputs. Make sure a set of weights is provided for each model output.`);return t}else if(typeof t=="object"&&Object.keys(t).length>0&&typeof t[Object.keys(t)[0]]=="object"){const s=[];return e.forEach(i=>{i in t?s.push(t[i]):s.push(null)}),s}else throw new Error(`The model has multiple (${r}) outputs, so ${n} must be either an array with ${r} elements or an object with ${e} keys. Provided ${n} not understood: ${JSON.stringify(t)}`)}function Lne(t,e){return mNe(t,e,"classWeight")}async function $ne(t,e,n,r){if(n!=null){const s=He(()=>{if(t.shape.length===1)return Xf(t);if(t.shape.length===2){if(t.shape[1]>1)return Gg(t,1);if(t.shape[1]===1)return Fe(t,[t.shape[0]]);throw new Error(`Encountered unexpected last-dimension size (${t.shape[1]}) during handling of class weights. The size is expected to be >= 1.`)}else throw new Error(`Unexpected rank of target (y) tensor (${t.rank}) during handling of class weights. The rank is expected to be 1 or 2.`)}),i=Array.from(await s.data());Ar(s);const a=[];return i.forEach(o=>{if(n[o]==null)throw new Error(`classWeight must contain all classes in the training data. The class ${o} exists in the data but not in classWeight`);a.push(n[o])}),Qa(a,"float32")}else return null}function gNe(t,e){return je(t,e)}const yNe=32;function Pne(t,e){let n,r;const s=e;n=s.xs,r=s.ys,ce(n!=null&&r!=null,()=>`A Dataset iterator for fitDataset() is expected to generate objects of the form \`{xs: xVal, ys: yVal}\`, where the two values may be \`tf.Tensor\`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates ${e}`);const i=y7("input",t.inputNames,n),a=y7("output",t.outputNames,r),o=i[0].shape[0];ce(i.length===t.inputs.length,()=>`LayersModel has ${t.inputs.length} inputs, but the dataset provides ${i.length} inputs.  (Expected input keys: ${JSON.stringify(t.inputNames)})`),ce(a.length===t.outputs.length,()=>`LayersModel has ${t.outputs.length} outputs, but the dataset provides ${a.length} outputs.  (Expected output keys: ${JSON.stringify(t.outputNames)})`);for(let c=0;c<i.length;c++)ce(i[c].shape[0]===o,()=>`Batch size mismatch: input ${t.inputNames[c]} has ${i[c].shape[0]}; expected  ${o} based on input ${t.inputNames[0]}.`);for(let c=0;c<a.length;c++)ce(a[c].shape[0]===o,()=>`Batch size mismatch: output ${t.outputNames[c]} has ${a[c].shape[0]}; expected  ${o} based on input ${t.inputNames[0]}.`);return{xs:i,ys:a}}function y7(t,e,n){if(n instanceof Fr)return[n];if(Array.isArray(n))return ce(n.length===e.length,()=>`Received an array of ${n.length} Tensors, but expected ${e.length} to match the ${t} keys ${e}.`),n;{const r=[];for(const s of e){if(n[s]==null)throw new Pe(`The feature data generated by the dataset lacks the required ${t} key '${s}'.`);r.push(n[s])}return r}}function xNe(t){if(t.length===3)throw new ur("Validation with sample weights is not implemented yet.");return{xs:t[0],ys:t[1]}}async function bNe(t,e,n){const r=n.batchesPerEpoch!=null;if(ce(t.optimizer!=null,()=>"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig)."),ce(n!=null,()=>"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call."),ce(n.epochs!=null&&n.epochs>0&&Number.isInteger(n.epochs),()=>`For fitDataset(), config.epochs is expected to be a positive integer, but got ${n.epochs}`),ce(!r||n.batchesPerEpoch>0&&Number.isInteger(n.batchesPerEpoch),()=>`For fitDataset(), config.batchesPerEpoch is expected to be a positive integer if specified, but got ${n.batchesPerEpoch}`),ce(n.validationSplit==null,()=>"`validationSplit` is not supported by `fitDataset()`. Use validationData instead."),t.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");t.isTraining=!0;try{const s=n.validationData!=null;let i,a;if(s)if(x7(n.validationData))ce(n.validationBatches==null||n.validationBatches>0&&Number.isInteger(n.validationBatches),()=>`For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, but got ${n.validationBatches}`);else{const x=xNe(n.validationData);i=x.xs,a=x.ys}const o=t.makeTrainFunction(),c=t.getDedupedMetricsNames();let u;s?u=c.slice().concat(c.map(x=>"val_"+x)):u=c.slice();const d=Ine(n.callbacks,n.yieldEvery),f=n.verbose==null?1:n.verbose,{callbackList:h,history:m}=Nne(d,f,n.epochs,null,null,vNe(e,n),null,s,u);h.setModel(t),t.history=m,await h.onTrainBegin(),t.stopTraining_=!1;let g=n.initialEpoch==null?0:n.initialEpoch,y=await e.iterator();for(;g<n.epochs;){const x={};await h.onEpochBegin(g);let v=0,w=0;for(r||(y=await e.iterator());!r||v<n.batchesPerEpoch;){const B=await y.next();if(r&&B.done){console.warn(`You provided \`batchesPerEpoch\` as ${n.batchesPerEpoch}, but your dataset iterator ran out of data after ${v} batches; interrupting training. Make sure that your dataset can generate at least \`batchesPerEpoch * epochs\` batches (in this case, ${n.batchesPerEpoch*n.epochs} batches). You may need to use the repeat() function when building your dataset.`);break}if(B.value!=null){const{xs:k,ys:E}=Pne(t,B.value),N={};N.batch=w,N.size=k[0].shape[0],await h.onBatchBegin(w,N);const O=[];if(n.classWeight!=null){const T=Lne(n.classWeight,t.outputNames);for(let j=0;j<T.length;++j)O.push(await $ne(E[j],null,T[j]))}const F=k.concat(E).concat(O),D=o(F);Ar(F);for(let T=0;T<c.length;++T){const j=c[T],P=D[T];N[j]=P,Ma(P)}await h.onBatchEnd(w,N),Ene(N),w++,v++}if(r?v>=n.batchesPerEpoch:B.done){if(s){let k;x7(n.validationData)?k=bs(await t.evaluateDataset(n.validationData,{batches:n.validationBatches})):k=bs(t.evaluate(i,a,{batchSize:n.validationBatchSize==null?yNe:n.validationBatchSize,verbose:0}));for(let E=0;E<t.metricsNames.length;++E)x[`val_${t.metricsNames[E]}`]=k[E]}break}if(t.stopTraining_)break}if(await h.onEpochEnd(g,x),g++,t.stopTraining_)break}return await h.onTrainEnd(),await t.history.syncData(),t.history}finally{t.isTraining=!1}}function vNe(t,e){let n=null;return e.batchesPerEpoch!=null?n=e.batchesPerEpoch:Number.isFinite(t.size)&&(n=t.size),n}function x7(t){return typeof t.iterator=="function"}function wNe(t){return typeof t.next=="function"}async function SNe(t,e,n){n=n||{};const r=n.batches!=null,s=t.testFunction;let i=[];if(n.verbose>0)throw new ur("Verbose mode is not implemented yet.");ce(!r||n.batches>0&&Number.isInteger(n.batches),()=>`Test loop expects \`batches\` to be a positive integer, but received ${JSON.stringify(n.batches)}`);const a=wNe(e)?e:await e.iterator();let o=0,c=0;for(;!r||c<n.batches;){const u=await a.next();if(i=He(()=>{if(u.value){const{xs:d,ys:f}=Pne(t,u.value),h=d.concat(f),m=He(()=>s(h));if(Ar(h),c===0)for(let y=0;y<m.length;++y)i.push(Fn(0));const g=h[0].shape[0];for(let y=0;y<m.length;++y){const x=m[y],v=i[y];i[y]=He(()=>jt(i[y],je(g,x))),c>0&&Ar(v)}Ar(m),o+=g,++c}return i}),u.done){r&&console.warn(`Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least \`batches\` batches (in this case, ${n.batches} batches). You may need to use the repeat() function when building your dataset.`);break}}for(let u=0;u<i.length;++u){const d=i[u];i[u]=un(i[u],o),Ar(d)}return Ql(i)}function qT(t){ce(t>0&&Number.isInteger(t),()=>`batchSize is required to be a positive integer, but got ${t}`)}function ov(t,e,n){return t==null?[null]:Array.isArray(t)?t.map(r=>jg(r,e,n-e)):jg(t,e,n-e)}function NO(t,e){return He(()=>t==null?null:Array.isArray(t)?t.map(n=>NO(n,e)):Ane(t,e.dtype==="int32"?e:Mt(e,"int32")))}function GT(t,e){const n=[];let r=0,s=null;for(;r<t;)s=r+e,s>=t&&(s=t),n.push([r,s]),r=s;return n}function Une(t){const e=[];t instanceof Fr&&(t=[t]);for(let n=0;n<t.length;++n){const r=t[n];if(r.rank===1)e.push(Q5(r,1));else{if(r.rank===0)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");e.push(r)}}return e}function Fd(t,e){if(t==null)return;const n=[];if(e instanceof Fr)n.push(e.id);else if(Array.isArray(e))e.forEach(s=>n.push(s.id));else if(e!=null)for(const s in e){const i=e[s];n.push(i.id)}const r=[];if(t instanceof Fr)n.indexOf(t.id)===-1&&r.push(t);else if(Array.isArray(t))t.forEach(s=>{n.indexOf(s.id)===-1&&r.push(s)});else if(t!=null)for(const s in t){const i=t[s];n.indexOf(i.id)===-1&&r.push(i)}r.forEach(s=>{s.isDisposed||s.dispose()})}function CNe(t){return t instanceof Fr}function jO(t){return Array.isArray(t)}function b7(t){return!CNe(t)&&!jO(t)}function v7(t,e,n,r=!0,s=""){if(e==null||e.length===0){if(t!=null){let a=!1;if(jO(t)&&t.length>0)a=!0;else if(b7(t)){for(const o in t)if(t.hasOwnProperty(o)){a=!0;break}}else a=!0;if(a)throw new Pe(`Error when checking model ${s} expected no data, but got ${t}`)}return[]}if(t==null)return e.map(a=>null);let i;if(b7(t)){t=t,i=[];for(const a of e){if(t[a]==null)throw new Pe(`No data provided for "${a}". Need data for each key in: ${e}`);i.push(t[a])}}else if(jO(t)){if(t=t,t.length!==e.length)throw new Pe(`Error when checking model ${s}: the Array of Tensors that you are passing to your model is not the size the model expected. Expected to see ${e.length} Tensor(s), but instead got the following list of Tensor(s): ${t}`);i=t}else{if(t=t,e.length>1)throw new Pe(`The model ${s} expects ${e.length} Tensor(s), but only received one Tensor. Found: Tensor with shape ${t.shape}`);i=[t]}if(i=Une(i),n!=null)for(let a=0;a<e.length;++a){if(n[a]==null)continue;const o=i[a];if(o.shape.length!==n[a].length)throw new Pe(`Error when checking ${s}: expected ${e[a]} to have ${n[a].length} dimension(s). but got array with shape ${o.shape}`);for(let c=0;c<n[a].length;++c){if(c===0&&!r)continue;const u=o.shape[c],d=n[a][c];if(d!=null&&d>=0&&u!==d)throw new Pe(`${s} expected a batch of elements where each example has shape [${n[a].slice(1,n[a].length)}] (i.e.,tensor shape [*,${n[a].slice(1,n[a].length)}]) but the ${s} received an input with ${o.shape[0]} examples, each with shape [${o.shape.slice(1,o.shape.length)}] (tensor shape [${o.shape}])`)}}return i}function kNe(t,e,n){const r=Gp(t.map(i=>i.shape[0]));r.sort();const s=Gp(e.map(i=>i.shape[0]));if(s.sort(),r.length>1)throw new Pe(`All input Tensors (x) should have the same number of samples. Got array shapes: ${JSON.stringify(t.map(i=>i.shape))}`);if(s.length>1)throw new Pe(`All target Tensors (y) should have the same number of samples. Got array shapes: ${JSON.stringify(e.map(i=>i.shape))}`);if(r.length>0&&s.length>0&&!vr(r,s))throw new Pe(`Input Tensors should have the same number of samples as target Tensors. Found ${r[0]} input sample(s) and ${s[0]} target sample(s).`)}function BNe(t,e,n){const r=[LN,$N,j2];for(let s=0;s<t.length;++s){const i=t[s],a=e[s],o=n[s];if(a!=null){if(a===j2&&i.shape[i.shape.length-1]===1)throw new Pe(`You are passing a target array of shape ${i.shape} while using a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].`);if(r.indexOf(a)!==-1){const c=i.shape.slice(1),u=o.slice(1);for(let d=0;d<c.length;++d){const f=c[d],h=u[d];if(h!=null&&f!==h)throw new Pe(`A target Tensor with shape ${i.shape} was passed for an output of shape ${o}, while using a loss function that expects targets to have the same shape as the output.`)}}}}}function w7(t,e,n,r=!0,s=""){let i;if(Array.isArray(t)){if(t.length!==e.length)throw new Pe(`Error when checking model ${s}: the Array of Tensors that you are passing to your model is not the size the the model expected. Expected to see ${e.length} Tensor(s), but instead got ${t.length} Tensors(s).`);i=t}else{if(e.length>1)throw new Pe(`The model expects ${e.length} ${s} Tensors, but only received one Tensor. Found: array with shape ${JSON.stringify(t.shape)}.`);i=[t]}if(n!=null)for(let a=0;a<e.length;++a){if(n[a]==null)continue;const o=i[a];if(o.shape.length!==n[a].length)throw new Pe(`Error when checking ${s}: expected ${e[a]} to have ${n[a].length} dimension(s), but got array with shape ${JSON.stringify(o.shape)}`);for(let c=0;c<n[a].length;++c){if(c===0&&!r)continue;const u=o.shape[c],d=n[a][c];if(d!=null&&d!==u)throw new Pe(`Error when checking ${s}: expected ${e[a]} to have shape ${JSON.stringify(n[a])} but got array with shape ${JSON.stringify(o.shape)}.`)}}}function ENe(t,e){if(t==null||Array.isArray(t)&&t.length===0)return e.map(r=>[]);let n;if(typeof t=="string"||typeof t=="function")n=[t];else if(Array.isArray(t)||typeof t=="object")n=t;else throw new TypeError(`Type of metrics argument not understood. Expected an string,function, Array, or Object, found: ${t}`);if(Array.isArray(n))return e.map(r=>n);{const r=[];for(const s of e){let i=n.hasOwnProperty(s)?n[s]:[];Array.isArray(i)||(i=[i]),r.push(i)}return r}}const INe="layers-model";class t1 extends Pd{constructor(e){super(e),this.isTraining=!1}summary(e,n,r=console.log){if(!this.built)throw new Pe("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");uNe(this,e,n,r)}compile(e){if(e.loss==null&&(e.loss=[]),this.loss=e.loss,typeof e.optimizer=="string")this.optimizer_=cNe(e.optimizer),this.isOptimizerOwned=!0;else{if(!(e.optimizer instanceof zh))throw new Pe("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=e.optimizer,this.isOptimizerOwned=!1}let n=[];if(!Array.isArray(e.loss)&&typeof e.loss!="string"&&typeof e.loss!="function"){e.loss=e.loss;for(const a in e.loss)if(this.outputNames.indexOf(a)===-1)throw new Pe(`Unknown entry in loss dictionary: "${a}". Only expected the following keys: ${this.outputNames}`);for(const a of this.outputNames)e.loss[a]==null&&console.warn(`Output "${a}" is missing from loss dictionary. We assume this was done on purpose, and we will not be expecting data to be passed to ${a} during training`),n.push(VT(e.loss[a]))}else if(Array.isArray(e.loss)){if(e.loss.length!==this.outputs.length)throw new Pe(`When passing an Array as loss, it should have one entry per model output. The model has ${this.outputs.length} output(s), but you passed loss=${e.loss}.`);n=e.loss.map(o=>VT(o))}else{const a=VT(e.loss);this.outputs.forEach(o=>{n.push(a)})}this.lossFunctions=n,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(let a=0;a<this.outputs.length;++a){const o=this.internalOutputShapes[a],c=this.outputNames[a];this.feedOutputNames.push(c),this.feedOutputShapes.push(o),this.feedLossFns.push(this.lossFunctions[a])}const r=[];this.metrics=e.metrics,this.metricsNames=["loss"],this.metricsTensors=[],Ng("loss",()=>{for(let a=0;a<this.outputs.length;++a){if(r.indexOf(a)!==-1)continue;const o=this.lossFunctions[a];this.outputs.length>1&&(this.metricsTensors.push([o,a]),this.metricsNames.push(this.outputNames[a]+"_loss"))}});const s=ENe(e.metrics,this.outputNames),i=(a,o,c)=>{this.outputNames.length>1&&(o=this.outputNames[a]+"_"+o),this.metricsNames.push(o),this.metricsTensors.push([c,a])};Ng("metric",()=>{for(let a=0;a<this.outputs.length;++a){if(r.indexOf(a)!==-1)continue;const o=s[a];(u=>{let f,h,m;for(const g of u){if(typeof g=="string"&&["accuracy","acc","crossentropy","ce"].indexOf(g)!==-1){const x=this.internalOutputShapes[a];x[x.length-1]===1||this.lossFunctions[a]===$N?["accuracy","acc"].indexOf(g)!==-1?h=Tne:["crossentropy","ce"].indexOf(g)!==-1&&(h=ZIe):this.lossFunctions[a]===GB?["accuracy","acc"].indexOf(g)!==-1?h=eNe:["crossentropy","ce"].indexOf(g)!==-1&&(h=One):["accuracy","acc"].indexOf(g)!==-1?h=_ne:["crossentropy","ce"].indexOf(g)!==-1&&(h=Rne);let v;["accuracy","acc"].indexOf(g)!==-1?v="acc":["crossentropy","ce"].indexOf(g)!==-1&&(v="ce"),m=h,f=""+v}else m=lNe(g),f=""+NC(g);let y;Ng(f,()=>{y=m}),i(a,f,y)}})(o)}}),this.collectedTrainableWeights=this.trainableWeights}checkTrainableWeightsConsistency(){this.collectedTrainableWeights!=null&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")}evaluate(e,n,r={}){const s=r.batchSize==null?32:r.batchSize;qT(s);const a=this.standardizeUserDataXY(e,n,!0,s);try{const o=a[0].concat(a[1]);this.makeTestFunction();const c=this.testFunction,u=this.testLoop(c,o,s,r.verbose,r.steps);return Ql(u)}finally{Fd(a[0],e),Fd(a[1],n)}}async evaluateDataset(e,n){return this.makeTestFunction(),SNe(this,e,n)}checkNumSamples(e,n,r,s="steps"){let i;if(r!=null){if(i=null,n!=null)throw new Pe(`If ${s} is set, batchSize must be null or undefined.Got batchSize = ${n}`)}else if(e!=null)Array.isArray(e)?i=e[0].shape[0]:i=e.shape[0];else throw new Pe(`Either the input data should have a defined shape, or ${s} shoud be specified.`);return i}execute(e,n){if(Array.isArray(n)&&n.length===0)throw new Pe("`outputs` is an empty Array, which is not allowed.");const r=Array.isArray(n),s=r?n:[n],i=this.retrieveSymbolicTensors(s),a=new Lp;if(e instanceof Fr&&(e=[e]),Array.isArray(e)){if(e.length!==this.inputs.length)throw new Pe(`The number of inputs provided (${e.length}) does not match the number of inputs of this model (${this.inputs.length}).`);for(let c=0;c<this.inputs.length;++c)a.add(this.inputs[c],e[c])}else for(const c of this.inputs){const u=e[c.name];if(u==null)throw new Pe(`No value is provided for the model's input ${c.name}`);a.add(c,u)}const o=Lv(i,a);return r?o:o[0]}retrieveSymbolicTensors(e){const n=e0(null,e.length);let r=e.length;for(const s of this.layers){const i=Array.isArray(s.output)?s.output:[s.output],a=i.map(o=>o.name);for(let o=0;o<e.length;++o){const c=a.indexOf(e[o]);if(c!==-1&&(n[o]=i[c],r--),r===0)break}if(r===0)break}if(r>0){const s=[];throw n.forEach((i,a)=>{i==null&&s.push(e[a])}),new Pe(`Cannot find SymbolicTensors for output name(s): ${JSON.stringify(s)}`)}return n}predictLoop(e,n=32,r=!1){return He(()=>{const s=this.checkNumSamples(e);if(r)throw new ur("Verbose predictLoop() is not implemented yet.");const i=GT(s,n),a=this.outputs.map(o=>[]);for(let o=0;o<i.length;++o)He(()=>{const u=i[o][0],d=i[o][1],f=ov(e,u,d),h=[];if(Array.isArray(f))for(let g=0;g<f.length;++g)h.push({key:this.inputs[g],value:f[g]});else h.push({key:this.inputs[0],value:f});const m=new Lp(h);return Lv(this.outputs,m)}).forEach((u,d)=>a[d].push(u));return Ql(a.map(o=>Wi(o,0)))})}predict(e,n={}){const r=Une(e);w7(r,this.inputNames,this.feedInputShapes,!1);try{const s=n.batchSize==null?32:n.batchSize;return qT(s),this.predictLoop(r,s)}finally{Fd(r,e)}}predictOnBatch(e){w7(e,this.inputNames,this.feedInputShapes,!0);const n=(Array.isArray(e)?e[0]:e).shape[0];return this.predictLoop(e,n)}standardizeUserDataXY(e,n,r=!0,s){if(this.optimizer_==null)throw new Gu("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");const i=[];for(let a=0;a<this.feedOutputShapes.length;++a){const o=this.feedOutputShapes[a];this.feedLossFns[a]===GB?i.push(o.slice(0,o.length-1).concat([1])):i.push(o)}if(e=v7(e,this.feedInputNames,this.feedInputShapes,!1,"input"),n=v7(n,this.feedOutputNames,i,!1,"target"),kNe(e,n),BNe(n,this.feedLossFns,this.feedOutputShapes),this.stateful&&s!=null&&s>0&&e[0].shape[0]%s!==0)throw new Pe(`In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size ${s}. Found: ${e[0].shape[0]} sample(s).`);return[e,n]}async standardizeUserData(e,n,r,s,i=!0,a){const[o,c]=this.standardizeUserDataXY(e,n,i,a);if(r!=null)throw new Error("sample weight is not supported yet.");let u=null;if(s!=null){const d=Lne(s,this.outputNames);u=[];for(let f=0;f<d.length;++f)u.push(await $ne(c[f],null,d[f]))}return[o,c,u]}testLoop(e,n,r,s=0,i){return He(()=>{const a=this.checkNumSamples(n,r,i,"steps"),o=[];if(s>0)throw new ur("Verbose mode is not implemented yet.");if(i!=null)throw new ur("steps mode in testLoop() is not implemented yet");{const c=GT(a,r),u=Qa(nf(0,a));for(let d=0;d<c.length;++d){const f=c[d][0],h=c[d][1],m=jg(u,f,h-f),g=NO(n,m),y=e(g);if(d===0)for(let x=0;x<y.length;++x)o.push(Fn(0));for(let x=0;x<y.length;++x){const v=y[x];o[x]=jt(o[x],je(h-f,v))}}for(let d=0;d<o.length;++d)o[d]=un(o[d],a)}return o})}getDedupedMetricsNames(){const e=this.metricsNames,n=[];for(let r=0;r<e.length;++r){const s=e[r];let i=s;if(a7(e,s)>1){const a=a7(e.slice(0,r),s);i+=`_${a}`}n.push(i)}return n}makeTrainFunction(){return e=>{const n=[],r=e.slice(0,this.inputs.length),s=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),i=e.slice(this.inputs.length+this.outputs.length,this.inputs.length+this.outputs.length*2),a=[],o=()=>{const f=[];for(let y=0;y<this.inputs.length;++y)f.push({key:this.inputs[y],value:r[y]});const h=new Lp(f),m=Lv(this.outputs,h,{training:!0});let g;for(let y=0;y<this.lossFunctions.length;++y){const x=this.lossFunctions[y];let v=x(s[y],m[y]);i[y]!=null&&(v=gNe(v,i[y]));const w=$i(v);n.push(w),y===0?g=v:g=jt(g,v)}for(let y=0;y<this.metricsTensors.length;++y){let x;if(this.outputs.length>1&&y<this.outputs.length)x=n[y];else{const v=this.metricsTensors[y][0],w=this.metricsTensors[y][1];x=$i(v(s[w],m[w]))}Ma(x),a.push(x)}return g=$i(g),this.calculateLosses().forEach(y=>{g=jt(g,y)}),g},c=this.collectedTrainableWeights.map(f=>f.read());return[this.optimizer_.minimize(o,!0,c)].concat(a)}}makeTestFunction(){this.testFunction=e=>He(()=>{const n=[];let r;const s=e.slice(0,this.inputs.length),i=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),a=[];for(let u=0;u<this.inputs.length;++u)a.push({key:this.inputs[u],value:s[u]});const o=new Lp(a),c=Lv(this.outputs,o);for(let u=0;u<this.lossFunctions.length;++u){const d=this.lossFunctions[u],f=$i(d(i[u],c[u]));u===0?r=f:r=jt(r,f),n.push(r)}for(let u=0;u<this.metricsTensors.length;++u){const d=this.metricsTensors[u][0],f=this.metricsTensors[u][1],h=$i(d(i[f],c[f]));n.push(h)}return n})}async fit(e,n,r={}){if(this.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");this.isTraining=!0;let s,i,a,o,c,u,d,f,h;try{const m=r.batchSize==null?32:r.batchSize;qT(m);const y=await this.standardizeUserData(e,n,r.sampleWeight,r.classWeight,!1,m);s=y[0],i=y[1],h=y[2];let x=!1,v;if(r.validationData!=null&&r.validationData.length>0){if(x=!0,r.validationData.length===2)c=r.validationData[0],u=r.validationData[1];else throw r.validationData.length===3?new ur("validationData including sample weights is not supported yet."):new Pe(`When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; ${r.validationData} is invalid.`);const T=await this.standardizeUserData(c,u,null,null,!0,m);d=T[0],f=T[1],v=d.concat(f)}else if(r.validationSplit!=null&&r.validationSplit>0&&r.validationSplit<1){x=!0;const D=Math.floor(s[0].shape[0]*(1-r.validationSplit)),T=s[0].shape[0];d=ov(s,D,T),a=s,s=ov(s,0,D),f=ov(i,D,T),o=i,i=ov(i,0,D),v=d.concat(f)}else r.validationSteps!=null&&(x=!0);const w=s.concat(i).concat(h);this.checkTrainableWeightsConsistency();const B=this.makeTrainFunction(),k=this.getDedupedMetricsNames();let E,N;x?(this.makeTestFunction(),E=this.testFunction,N=k.slice().concat(k.map(D=>"val_"+D))):(E=null,v=[],N=k.slice());const O=Ine(r.callbacks,r.yieldEvery);return await this.fitLoop(B,w,k,m,r.epochs,r.verbose,O,E,v,r.shuffle,N,r.initialEpoch,null,null)}finally{this.isTraining=!1,Fd(s,e),Fd(i,n),Fd(a,e),Fd(o,n),Fd(d,c),Fd(f,u),h!=null&&Ar(h)}}async fitLoop(e,n,r,s,i,a,o,c,u,d,f,h,m,g){s==null&&(s=32),i==null&&(i=1),d==null&&(d=!0),h==null&&(h=0);let y=!1;if(c!=null&&u!=null&&(y=!0),g!=null&&(y=!0,m==null))throw new Pe("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");const x=this.checkNumSamples(n,s,m,"steps_per_epoch");let v;x!=null&&(v=nf(0,x)),a==null&&(a=1);const{callbackList:w,history:B}=Nne(o,a,i,h,x,m,s,y,f);w.setModel(this),this.history=B,await w.onTrainBegin(),this.stopTraining_=!1;for(let k=h;k<i;++k){await w.onEpochBegin(k);const E={};if(m!=null)throw new ur("stepsPerEpoch mode is not implemented yet.");{if(d==="batch")throw new ur("batch shuffling is not implemneted yet");d&&rD(v);const N=Qa(v),O=GT(x,s);for(let F=0;F<O.length;++F){const D={};if(await w.onBatchBegin(F,D),He(()=>{const T=O[F][0],j=O[F][1],P=jg(N,T,j-T);D.batch=F,D.size=j-T;const U=NO(n,P),z=e(U);for(let ee=0;ee<r.length;++ee){const q=r[ee],Z=z[ee];D[q]=Z,Ma(Z)}if(F===O.length-1&&y){const ee=this.testLoop(c,u,s);for(let q=0;q<r.length;++q){const Z=r[q],G=ee[q];Ma(G),E["val_"+Z]=G}}}),await w.onBatchEnd(F,D),Ene(D),this.stopTraining_)break}N.dispose()}if(await w.onEpochEnd(k,E),this.stopTraining_)break}return await w.onTrainEnd(),await this.history.syncData(),this.history}async fitDataset(e,n){return bNe(this,e,n)}async trainOnBatch(e,n){const r=await this.standardizeUserData(e,n),s=r[0],i=r[1],o=this.makeTrainFunction()(s.concat(i)),c=[];for(const u of o){const d=await u.data();c.push(d[0])}return Ar(o),Fd(r[0],e),Fd(r[1],n),Ql(c)}getNamedWeights(e){const n=[],r=e!=null&&e.trainableOnly,s=r?this.trainableWeights:this.weights,i=this.getWeights(r);for(let a=0;a<s.length;++a)r&&!s[a].trainable||n.push({name:s[a].originalName,tensor:i[a]});return n}set stopTraining(e){this.stopTraining_=e}get stopTraining(){return this.stopTraining_}get optimizer(){return this.optimizer_}set optimizer(e){this.optimizer_!==e&&(this.optimizer_=e,this.isOptimizerOwned=!1)}dispose(){const e=super.dispose();if(e.refCountAfterDispose===0&&this.optimizer!=null&&this.isOptimizerOwned){const n=lO().numTensors;this.optimizer_.dispose(),e.numDisposedVariables+=n-lO().numTensors}return e}getLossIdentifiers(){let e;if(typeof this.loss=="string")e=eh(this.loss);else if(Array.isArray(this.loss)){for(const n of this.loss)if(typeof n!="string")throw new Error("Serialization of non-string loss is not supported.");e=this.loss.map(n=>eh(n))}else{const n=Object.keys(this.loss);e={};const r=this.loss;for(const s of n)if(typeof r[s]=="string")e[s]=eh(r[s]);else throw new Error("Serialization of non-string loss is not supported.")}return e}getMetricIdentifiers(){if(typeof this.metrics=="string"||typeof this.metrics=="function")return[eh(NC(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map(e=>eh(NC(e)));{const e={};for(const n in this.metrics)e[n]=eh(NC(this.metrics[n]));return e}}getTrainingConfig(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}}loadTrainingConfig(e){if(e.weighted_metrics!=null)throw new Error("Loading weight_metrics is not supported yet.");if(e.loss_weights!=null)throw new Error("Loading loss_weights is not supported yet.");if(e.sample_weight_mode!=null)throw new Error("Loading sample_weight_mode is not supported yet.");const n=EO(e.optimizer_config),r=fh(n);let s;if(typeof e.loss=="string")s=ug(e.loss);else if(Array.isArray(e.loss))s=e.loss.map(a=>ug(a));else if(e.loss!=null){s={};for(const a in e.loss)s[a]=ug(e.loss[a])}let i;if(Array.isArray(e.metrics))i=e.metrics.map(a=>ug(a));else if(e.metrics!=null){i={};for(const a in e.metrics)i[a]=ug(e.metrics[a])}this.compile({loss:s,metrics:i,optimizer:r})}async save(e,n){if(typeof e=="string"){const u=nee(e);if(u.length===0)throw new Pe(`Cannot find any save handlers for URL '${e}'`);if(u.length>1)throw new Pe(`Found more than one (${u.length}) save handlers for URL '${e}'`);e=u[0]}if(e.save==null)throw new Pe("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");const r=await cO(this.getNamedWeights(n)),o={modelTopology:this.toJSON(null,!1),format:INe,generatedBy:`TensorFlow.js tfjs-layers v${Dne}`,convertedBy:null};if((n==null?!1:n.includeOptimizer)&&this.optimizer!=null){o.trainingConfig=this.getTrainingConfig();const u="optimizer",{data:d,specs:f}=await cO(await this.optimizer.getWeights(),u);r.specs.push(...f),r.data=eee([r.data,d])}return this.userDefinedMetadata!=null&&(g7(this.userDefinedMetadata,this.name,!0),o.userDefinedMetadata=this.userDefinedMetadata),o.weightData=r.data,o.weightSpecs=r.specs,e.save(o)}setUserDefinedMetadata(e){g7(e,this.name),this.userDefinedMetadata=e}getUserDefinedMetadata(){return this.userDefinedMetadata}}t1.className="Model";Rt(t1);class zne extends t1{}zne.className="Functional";Rt(zne);class T2 extends t1{constructor(e){if(super({inputs:[],outputs:[]}),e=e||{},this.trainable=!0,this.built=!1,this.name=e.name!=null?e.name:ON("sequential_"),e.layers!=null)for(const n of e.layers)this.add(n)}checkShape(e){if(e.inboundNodes[0].outputTensors[0].shape.some(r=>r<0))throw new Pe(`Negative dimension size caused by adding layer ${e.name} with input shape [${e.inboundNodes[0].inputTensors[0].shape}]`)}add(e){const n=e instanceof T2||e instanceof t1;let r;if(n){if(r=e,r.outputs.length!==1)throw new Pe("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(r.inputs.length!==1)throw new Pe("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(this.outputs.length===0){if(e.inboundNodes.length===0){if(e.batchInputShape==null)throw new Pe("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");const s=jIe({batchShape:e.batchInputShape,dtype:e.dtype,name:e.name+"_input"});e.apply(s)}if(n)this.outputs=r.outputs,this.inputs=r.inputs;else{if(e.inboundNodes.length!==1)throw new Pe(`A layer added to a Sequential model must not already be connected somewhere else. LayersModel received layer ${e.name} which has ${e.inboundNodes.length} pre-existing inbound connections.`);if(e.inboundNodes[0].outputTensors.length!==1)throw new Pe("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[e.inboundNodes[0].outputTensors[0]],this.inputs=wne(this.outputs[0])}this.inboundNodes=[],new DN({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:e0(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map(s=>s.shape),outputShapes:this.outputs[0].shape})}else{const s=e.apply(this.outputs[0]);if(Array.isArray(s))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[s],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(e),this.built=!1}pop(){if(this.layers.length===0)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),this.layers.length===0)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{const e=this.layers.length-1;this.layers[e].outboundNodes=[],this.outputs=[this.layers[e].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}}call(e,n){return this.model==null&&this.build(),this.model.call(e,n)}build(e){if(es(e),this.inputs.length===0||this.outputs.length===0)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new t1({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0}countParams(){return this.built||this.build(),super.countParams()}summary(e,n,r=console.log){this.built||this.build(),super.summary(e,n,r)}setWeights(e){this.model==null&&this.build(),this.model.setWeights(e)}evaluate(e,n,r={}){if(!this.built)throw new Gu("The model needs to be compiled before being used.");return this.model.evaluate(e,n,r)}async evaluateDataset(e,n){if(!this.built)throw new Gu("The model needs to be compiled before being used.");return this.model.evaluateDataset(e,n)}predict(e,n={}){return this.model==null&&this.build(),this.model.predict(e,n)}predictOnBatch(e){return this.model==null&&this.build(),this.model.predictOnBatch(e)}compile(e){this.build(),this.model.compile(e),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames}get optimizer(){return this.model==null?void 0:this.model.optimizer}set optimizer(e){this.model.optimizer=e}async fit(e,n,r={}){if(!this.built)throw new Gu("The model needs to be compiled before being used.");return this.model.fit(e,n,r)}async fitDataset(e,n){if(!this.built)throw new Gu("The model needs to be compiled before being used.");return this.model.fitDataset(e,n)}async trainOnBatch(e,n){return this.model.trainOnBatch(e,n)}static fromConfig(e,n,r={},s=!1){let i,a={};if(n instanceof Array){if(n[0].className==null||n[0].className==="Merge")throw new Pe("Legacy serialization format not supported yet.");i=n}else ce(n.layers!=null,()=>"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field."),i=n.layers,delete n.layers,a=n;const o=new e(a);if(!(o instanceof T2))throw new ur(`Sequential.fromConfig called on non-Sequential input: ${o}`);for(const c of i){const d=fh(c,void 0,s);s&&d.setFastWeightInitDuringBuild(!0),o.add(d)}return o}set stopTraining(e){if(this.model==null)throw new Pe("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=e}get stopTraining(){if(this.model==null)throw new Pe("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining}getConfig(){const e=[];for(const n of this.layers){const r={};r.className=n.getClassName(),r.config=n.getConfig(),e.push(r)}return{name:this.name,layers:e}}}T2.className="Sequential";Rt(T2);let ll=class extends C0{getConfig(){return{}}};class Mne extends ll{apply(e,n=1){return hIe(e,n)}}Mne.className="elu";Rt(Mne);class Qne extends ll{apply(e){return cN(e)}}Qne.className="selu";Rt(Qne);class Hne extends ll{apply(e){return ff(e)}}Hne.className="relu";Rt(Hne);class Wne extends ll{apply(e){return He(()=>lm(6,ff(e)))}}Wne.className="relu6";Rt(Wne);let Vne=class extends ll{apply(e){return e}};Vne.className="linear";Rt(Vne);class qne extends ll{apply(e){return ed(e)}}qne.className="sigmoid";Rt(qne);class Gne extends ll{apply(e){return mIe(e)}}Gne.className="hardSigmoid";Rt(Gne);class Kne extends ll{apply(e){return w0(e)}}Kne.className="softplus";Rt(Kne);class Xne extends ll{apply(e){return pIe(e)}}Xne.className="softsign";Rt(Xne);class Yne extends ll{apply(e){return om(e)}}Yne.className="tanh";Rt(Yne);let x$=class extends ll{apply(e,n=-1){return D5(e,n)}};x$.className="softmax";Rt(x$);class Jne extends ll{apply(e,n=-1){return tN(e,n)}}Jne.className="logSoftmax";Rt(Jne);class Zne extends ll{apply(e){return He(()=>He(()=>{const n=Math.sqrt(2),r=je(.5,jt(1,JI(un(e,n))));return je(e,r)}))}}Zne.className="gelu";Rt(Zne);class ere extends ll{apply(e){return He(()=>je(.5,je(e,jt(1,om(je(po(un(2,Math.PI)),jt(e,je(.044715,oA(e,3)))))))))}}ere.className="gelu_new";Rt(ere);class tre extends ll{apply(e){return He(()=>je(e,om(w0(e))))}}tre.className="mish";Rt(tre);class nre extends ll{apply(e,n=1){return He(()=>je(ed(je(e,n)),e))}}nre.className="swish";Rt(nre);function um(t){return t.getClassName()}function KT(t,e={}){return M5(t,su.getMap().classNameMap,e,"activation")}function dm(t){if(t==null){const e={};return e.className="linear",e.config={},KT(e)}if(typeof t=="string"){const e={};return e.className=t,e.config={},KT(e)}else return t instanceof ll?t:KT(t)}function NNe(t){if(t!=null&&typeof t!="object")throw new Error(`Argument to L1L2 regularizer's constructor is expected to be an object, but received: ${t}`)}class rre extends C0{}class sre extends rre{constructor(e){super(),NNe(e),this.l1=e==null||e.l1==null?.01:e.l1,this.l2=e==null||e.l2==null?.01:e.l2,this.hasL1=this.l1!==0,this.hasL2=this.l2!==0}apply(e){return He(()=>{let n=Ra([1]);return this.hasL1&&(n=jt(n,hn(je(this.l1,Na(e))))),this.hasL2&&(n=jt(n,hn(je(this.l2,H5(e))))),Fe(n,[])})}getConfig(){return{l1:this.l1,l2:this.l2}}static fromConfig(e,n){return new e({l1:n.l1,l2:n.l2})}}sre.className="L1L2";Rt(sre);const S7={l1l2:"L1L2"};function Hs(t){return i$(t)}function C7(t,e={}){return M5(t,su.getMap().classNameMap,e,"regularizer")}function bi(t){if(t==null)return null;if(typeof t=="string"){const n={className:t in S7?S7[t]:t,config:{}};return C7(n)}else return t instanceof rre?t:C7(t)}class ire extends xr{constructor(e){super(e??{}),this.supportsMasking=!0,e!=null&&(this.maxValue=e.maxValue)}call(e,n){e=Yn(e);let r=ff(e);return this.maxValue!=null&&(r=Yl(r,0,this.maxValue)),r}computeOutputShape(e){return e}getConfig(){const e={maxValue:this.maxValue},n=super.getConfig();return Object.assign(e,n),e}}ire.className="ReLU";Rt(ire);class are extends xr{constructor(e){super(e??{}),this.DEFAULT_ALPHA=.3,e==null&&(e={}),this.alpha=e.alpha==null?this.DEFAULT_ALPHA:e.alpha}call(e,n){const r=Yn(e);return B5(r,this.alpha)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},n=super.getConfig();return Object.assign(e,n),e}}are.className="LeakyReLU";Rt(are);class ore extends xr{constructor(e){if(super(e??{}),this.DEFAULT_ALPHA_INITIALIZER="zeros",e==null&&(e={}),this.supportsMasking=!0,this.alphaInitializer=yi(e.alphaInitializer||this.DEFAULT_ALPHA_INITIALIZER),this.alphaRegularizer=bi(e.alphaRegularizer),this.alphaConstraint=Ya(e.alphaConstraint),e.sharedAxes==null)this.sharedAxes=null;else if(Array.isArray(e.sharedAxes))this.sharedAxes=e.sharedAxes;else if(typeof e.sharedAxes=="number")this.sharedAxes=[e.sharedAxes];else throw new Pe(`Expected sharedAxes to be a number or an array of numbers, but got ${e.sharedAxes}`)}build(e){e=es(e);const n=e.slice(1);if(this.sharedAxes!=null)for(const s of this.sharedAxes)n[s-1]=1;this.alpha=this.addWeight("alpha",n,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);const r={};if(this.sharedAxes!=null)for(let s=1;s<e.length;++s)r[s]=e[s];this.inputSpec=[new Wa({ndim:e.length,axes:r})],this.built=!0}call(e,n){return e=Yn(e),R5(e,this.alpha.read())}getConfig(){const e={alphaInitializer:zi(this.alphaInitializer),alphaRegularizer:Hs(this.alphaRegularizer),alphaConstraint:Xa(this.alphaConstraint),sharedAxes:this.sharedAxes},n=super.getConfig();return Object.assign(e,n),e}}ore.className="PReLU";Rt(ore);let lre=class extends xr{constructor(e){if(super(e??{}),this.DEFAULT_ALPHA=1,e==null&&(e={}),e.alpha!=null&&e.alpha!==this.DEFAULT_ALPHA)throw new ur(`Non-default alpha value (${e.alpha}) is not supported by the ELU layer yet.`);this.alpha=e.alpha==null?this.DEFAULT_ALPHA:e.alpha}call(e,n){const r=Yn(e);return $x(r)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},n=super.getConfig();return Object.assign(e,n),e}};lre.className="ELU";Rt(lre);class cre extends xr{constructor(e){super(e??{}),this.DEFAULT_THETA=1,e==null&&(e={}),this.theta=e.theta==null?this.DEFAULT_THETA:e.theta}call(e,n){const r=Yn(e);return je(r,Mt(rc(r,this.theta),"float32"))}computeOutputShape(e){return e}getConfig(){const e={theta:this.theta},n=super.getConfig();return Object.assign(e,n),e}}cre.className="ThresholdedReLU";Rt(cre);class ure extends xr{constructor(e){super(e??{}),this.DEFAULT_AXIS=1,e==null&&(e={}),this.softmax=new x$().apply,this.axis=e.axis==null?this.DEFAULT_AXIS:e.axis}call(e,n){return He(()=>{let r=Yn(e);const s=n.mask;if(s!=null){const i=je(Kt(Vl(r.shape),Mt(s,r.dtype)),Fn(-1e9));r=jt(r,i)}return this.axis instanceof Array?this.axis.length>1?Jl(Kt(r,I5(r,this.axis,!0))):this.softmax(r,this.axis[0]):this.softmax(r,this.axis)})}computeOutputShape(e){return e}getConfig(){const e={axis:this.axis},n=super.getConfig();return Object.assign(e,n),e}}ure.className="Softmax";Rt(ure);function n1(t,e,n){if(typeof t=="number")return e0(t,e);if(t.length!==e)throw new Pe(`The ${n} argument must be an integer or tuple of ${e} integers. Received: ${t.length} elements.`);for(let r=0;r<e;++r){const s=t[r];if(!uIe(s))throw new Pe(`The ${n} argument must be an integer or tuple of ${e} integers. Received: ${JSON.stringify(t)} including a non-integer number ${s}`)}return t}function Yd(t,e,n,r,s=1){if(t==null)return t;const i=e+(e-1)*(s-1);let a;return n==="same"?a=t:a=t-i+1,Math.floor((a+r-1)/r)}function Mf(t,e,n,r){if(t==null)return null;if(r==="valid")t=t*e+cm([n-e,0]);else if(r==="same")t=t*e;else throw new Pe(`Unsupport padding mode: ${r}.`);return t}function b$(t,e){return He(()=>(ba(e),e==="channelsFirst"?Br(t,[0,2,3,1]):t))}function dre(t,e){return He(()=>(ba(e),e==="channelsFirst"?Br(t,[0,2,3,4,1]):t))}function jNe(t,e,n,r=1,s="valid",i,a=1){return He(()=>{if(i==null&&(i=rf()),ba(i),t.shape.length!==3)throw new Pe(`The input of a conv1dWithBias operation should be 3, but is ${t.shape.length} instead.`);if(e.shape.length!==3)throw new Pe(`The kernel for a conv1dWithBias operation should be 3, but is ${e.shape.length} instead`);if(n!=null&&n.shape.length!==1)throw new Pe(`The bias for a conv1dWithBias operation should be 1, but is ${n.shape.length} instead`);if(i==="channelsFirst"&&(t=Br(t,[0,2,1])),s==="causal")throw new ur("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");let o=GI(t,e,r,s==="same"?"same":"valid","NWC",a);return n!=null&&(o=Af(o,n)),o})}function k7(t,e,n,r=[1,1],s="valid",i,a,o=null){return He(()=>{if(i==null&&(i=rf()),ba(i),t.rank!==3&&t.rank!==4)throw new Pe(`conv2dWithBiasActivation expects input to be of rank 3 or 4, but received ${t.rank}.`);if(e.rank!==3&&e.rank!==4)throw new Pe(`conv2dWithBiasActivation expects kernel to be of rank 3 or 4, but received ${t.rank}.`);let c=b$(t,i);if(s==="causal")throw new ur("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return c=nte({x:c,filter:e,strides:r,pad:s==="same"?"same":"valid",dilations:a,dataFormat:"NHWC",bias:n,activation:o}),i==="channelsFirst"&&(c=Br(c,[0,3,1,2])),c})}function TNe(t,e,n,r=[1,1,1],s="valid",i,a){return He(()=>{if(i==null&&(i=rf()),ba(i),t.rank!==4&&t.rank!==5)throw new Pe(`conv3dWithBias expects input to be of rank 4 or 5, but received ${t.rank}.`);if(e.rank!==4&&e.rank!==5)throw new Pe(`conv3dWithBias expects kernel to be of rank 4 or 5, but received ${t.rank}.`);let o=dre(t,i);if(s==="causal")throw new ur("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return o=UD(o,e,r,s==="same"?"same":"valid","NDHWC",a),n!=null&&(o=Af(o,n)),i==="channelsFirst"&&(o=Br(o,[0,4,1,2,3])),o})}class PN extends xr{constructor(e,n){if(super(n),this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",PN.verifyArgs(n),this.rank=e,Ao(this.rank,"rank"),this.rank!==1&&this.rank!==2&&this.rank!==3)throw new ur(`Convolution layer for rank other than 1, 2, or 3 (${this.rank}) is not implemented yet.`);if(this.kernelSize=n1(n.kernelSize,e,"kernelSize"),this.strides=n1(n.strides==null?1:n.strides,e,"strides"),this.padding=n.padding==null?"valid":n.padding,yu(this.padding),this.dataFormat=n.dataFormat==null?"channelsLast":n.dataFormat,ba(this.dataFormat),this.activation=dm(n.activation),this.useBias=n.useBias==null?!0:n.useBias,this.biasInitializer=yi(n.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.biasConstraint=Ya(n.biasConstraint),this.biasRegularizer=bi(n.biasRegularizer),this.activityRegularizer=bi(n.activityRegularizer),this.dilationRate=n1(n.dilationRate==null?1:n.dilationRate,e,"dilationRate"),this.rank===1&&Array.isArray(this.dilationRate)&&this.dilationRate.length!==1)throw new Pe(`dilationRate must be a number or an array of a single number for 1D convolution, but received ${JSON.stringify(this.dilationRate)}`);if(this.rank===2){if(typeof this.dilationRate=="number")this.dilationRate=[this.dilationRate,this.dilationRate];else if(this.dilationRate.length!==2)throw new Pe(`dilationRate must be a number or array of two numbers for 2D convolution, but received ${JSON.stringify(this.dilationRate)}`)}else if(this.rank===3){if(typeof this.dilationRate=="number")this.dilationRate=[this.dilationRate,this.dilationRate,this.dilationRate];else if(this.dilationRate.length!==3)throw new Pe(`dilationRate must be a number or array of three numbers for 3D convolution, but received ${JSON.stringify(this.dilationRate)}`)}}static verifyArgs(e){if(zf("kernelSize"in e,"required key 'kernelSize' not in config"),typeof e.kernelSize!="number"&&!a$(e.kernelSize,"number",1,3))throw new Pe(`BaseConv expects config.kernelSize to be number or number[] with length 1, 2, or 3, but received ${JSON.stringify(e.kernelSize)}.`)}getConfig(){const e={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:um(this.activation),useBias:this.useBias,biasInitializer:zi(this.biasInitializer),biasRegularizer:Hs(this.biasRegularizer),activityRegularizer:Hs(this.activityRegularizer),biasConstraint:Xa(this.biasConstraint)},n=super.getConfig();return Object.assign(e,n),e}}class Qx extends PN{constructor(e,n){super(e,n),this.kernel=null,Qx.verifyArgs(n),this.filters=n.filters,Ao(this.filters,"filters"),this.kernelInitializer=yi(n.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.kernelConstraint=Ya(n.kernelConstraint),this.kernelRegularizer=bi(n.kernelRegularizer)}build(e){e=es(e);const n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null)throw new Pe(`The channel dimension of the input should be defined. Found ${e[n]}`);const r=e[n],s=this.kernelSize.concat([r,this.filters]);this.kernel=this.addWeight("kernel",s,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:{[n]:r}}],this.built=!0}call(e,n){return He(()=>{e=Yn(e);let r;const s=this.bias==null?null:this.bias.read(),i=one(this.activation.getClassName());if(i!=null&&this.rank===2)r=k7(e,this.kernel.read(),s,this.strides,this.padding,this.dataFormat,this.dilationRate,i);else{if(this.rank===1)r=jNe(e,this.kernel.read(),s,this.strides[0],this.padding,this.dataFormat,this.dilationRate[0]);else if(this.rank===2)r=k7(e,this.kernel.read(),s,this.strides,this.padding,this.dataFormat,this.dilationRate);else if(this.rank===3)r=TNe(e,this.kernel.read(),s,this.strides,this.padding,this.dataFormat,this.dilationRate);else throw new ur("convolutions greater than 3D are not implemented yet.");this.activation!=null&&(r=this.activation.apply(r))}return r})}computeOutputShape(e){e=es(e);const n=[],r=this.dataFormat==="channelsLast"?e.slice(1,e.length-1):e.slice(2);for(let i=0;i<r.length;++i){const a=Yd(r[i],this.kernelSize[i],this.padding,this.strides[i],typeof this.dilationRate=="number"?this.dilationRate:this.dilationRate[i]);n.push(a)}let s=[e[0]];return this.dataFormat==="channelsLast"?(s=s.concat(n),s.push(this.filters)):(s.push(this.filters),s=s.concat(n)),s}getConfig(){const e={filters:this.filters,kernelInitializer:zi(this.kernelInitializer),kernelRegularizer:Hs(this.kernelRegularizer),kernelConstraint:Xa(this.kernelConstraint)},n=super.getConfig();return Object.assign(e,n),e}static verifyArgs(e){if(!("filters"in e)||typeof e.filters!="number"||e.filters<1)throw new Pe(`Convolution layer expected config.filters to be a 'number' > 0 but got ${JSON.stringify(e.filters)}`)}}class G5 extends Qx{constructor(e){super(2,e),G5.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if(typeof e.kernelSize!="number"&&!a$(e.kernelSize,"number",1,2))throw new Pe(`Conv2D expects config.kernelSize to be number or number[] with length 1 or 2, but received ${JSON.stringify(e.kernelSize)}.`)}}G5.className="Conv2D";Rt(G5);class K5 extends Qx{constructor(e){super(3,e),K5.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if(typeof e.kernelSize!="number"&&!(Array.isArray(e.kernelSize)&&(e.kernelSize.length===1||e.kernelSize.length===3)))throw new Pe(`Conv3D expects config.kernelSize to be number or [number, number, number], but received ${JSON.stringify(e.kernelSize)}.`)}}K5.className="Conv3D";Rt(K5);class fre extends G5{constructor(e){if(super(e),this.inputSpec=[new Wa({ndim:4})],this.padding!=="same"&&this.padding!=="valid")throw new Pe(`Conv2DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(e=es(e),e.length!==4)throw new Pe("Input should have rank 4; Received input shape: "+JSON.stringify(e));const n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null)throw new Pe("The channel dimension of the inputs should be defined. Found `None`.");const r=e[n],s=this.kernelSize.concat([this.filters,r]);this.kernel=this.addWeight("kernel",s,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new Wa({ndim:4,axes:{[n]:r}})],this.built=!0}call(e,n){return He(()=>{let r=Yn(e);if(r.shape.length!==4)throw new Pe(`Conv2DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${r.shape.length}`);const s=r.shape,i=s[0];let a,o;this.dataFormat==="channelsFirst"?(a=2,o=3):(a=1,o=2);const c=s[a],u=s[o],d=this.kernelSize[0],f=this.kernelSize[1],h=this.strides[0],m=this.strides[1],g=Mf(c,h,d,this.padding),y=Mf(u,m,f,this.padding),x=[i,g,y,this.filters];this.dataFormat!=="channelsLast"&&(r=Br(r,[0,2,3,1]));let v=KI(r,this.kernel.read(),x,this.strides,this.padding);return this.dataFormat!=="channelsLast"&&(v=Br(v,[0,3,1,2])),this.bias!=null&&(v=Af(v,this.bias.read(),this.dataFormat)),this.activation!=null&&(v=this.activation.apply(v)),v})}computeOutputShape(e){e=es(e);const n=e.slice();let r,s,i;this.dataFormat==="channelsFirst"?(r=1,s=2,i=3):(r=3,s=1,i=2);const a=this.kernelSize[0],o=this.kernelSize[1],c=this.strides[0],u=this.strides[1];return n[r]=this.filters,n[s]=Mf(n[s],c,a,this.padding),n[i]=Mf(n[i],u,o,this.padding),n}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}fre.className="Conv2DTranspose";Rt(fre);class Are extends K5{constructor(e){if(super(e),this.inputSpec=[new Wa({ndim:5})],this.padding!=="same"&&this.padding!=="valid")throw new Pe(`Conv3DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(e=es(e),e.length!==5)throw new Pe("Input should have rank 5; Received input shape: "+JSON.stringify(e));const n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null)throw new Pe("The channel dimension of the inputs should be defined. Found `None`.");const r=e[n],s=this.kernelSize.concat([this.filters,r]);this.kernel=this.addWeight("kernel",s,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new Wa({ndim:5,axes:{[n]:r}})],this.built=!0}call(e,n){return He(()=>{let r=Yn(e);if(r.shape.length!==5)throw new Pe(`Conv3DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${r.shape.length}`);const s=r.shape,i=s[0];let a,o,c;this.dataFormat==="channelsFirst"?(c=2,a=3,o=4):(c=1,a=2,o=3);const u=s[c],d=s[a],f=s[o],h=this.kernelSize[0],m=this.kernelSize[1],g=this.kernelSize[2],y=this.strides[0],x=this.strides[1],v=this.strides[2],w=Mf(u,y,h,this.padding),B=Mf(d,x,m,this.padding),k=Mf(f,v,g,this.padding),E=[i,w,B,k,this.filters];this.dataFormat!=="channelsLast"&&(r=Br(r,[0,2,3,4,1]));let N=zD(r,this.kernel.read(),E,this.strides,this.padding);return this.dataFormat!=="channelsLast"&&(N=Br(N,[0,4,1,2,3])),this.bias!==null&&(N=Af(N,this.bias.read(),this.dataFormat)),this.activation!==null&&(N=this.activation.apply(N)),N})}computeOutputShape(e){e=es(e);const n=e.slice();let r,s,i,a;this.dataFormat==="channelsFirst"?(r=1,s=2,i=3,a=4):(r=4,s=1,i=2,a=3);const o=this.kernelSize[0],c=this.kernelSize[1],u=this.kernelSize[2],d=this.strides[0],f=this.strides[1],h=this.strides[2];return n[r]=this.filters,n[s]=Mf(n[s],d,o,this.padding),n[i]=Mf(n[i],f,c,this.padding),n[a]=Mf(n[a],h,u,this.padding),n}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}Are.className="Conv3DTranspose";Rt(Are);class hre extends Qx{constructor(e,n){if(super(e,n),this.DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",this.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",this.depthwiseKernel=null,this.pointwiseKernel=null,n.filters==null)throw new Pe("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(n.kernelInitializer!=null||n.kernelRegularizer!=null||n.kernelConstraint!=null)throw new Pe("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(n.padding!=null&&n.padding!=="same"&&n.padding!=="valid")throw new Pe(`SeparableConv${this.rank}D supports only padding modes: 'same' and 'valid', but received ${JSON.stringify(n.padding)}`);this.depthMultiplier=n.depthMultiplier==null?1:n.depthMultiplier,this.depthwiseInitializer=yi(n.depthwiseInitializer||this.DEFAULT_DEPTHWISE_INITIALIZER),this.depthwiseRegularizer=bi(n.depthwiseRegularizer),this.depthwiseConstraint=Ya(n.depthwiseConstraint),this.pointwiseInitializer=yi(n.depthwiseInitializer||this.DEFAULT_POINTWISE_INITIALIZER),this.pointwiseRegularizer=bi(n.pointwiseRegularizer),this.pointwiseConstraint=Ya(n.pointwiseConstraint)}build(e){if(e=es(e),e.length<this.rank+2)throw new Pe(`Inputs to SeparableConv${this.rank}D should have rank ${this.rank+2}, but received input shape: ${JSON.stringify(e)}`);const n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null||e[n]<0)throw new Pe(`The channel dimension of the inputs should be defined, but found ${JSON.stringify(e[n])}`);const r=e[n],s=this.kernelSize.concat([r,this.depthMultiplier]),i=[];for(let o=0;o<this.rank;++o)i.push(1);i.push(r*this.depthMultiplier,this.filters);const a=!0;this.depthwiseKernel=this.addWeight("depthwise_kernel",s,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,a,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",i,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,a,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,a,this.biasConstraint):this.bias=null,this.inputSpec=[new Wa({ndim:this.rank+2,axes:{[n]:r}})],this.built=!0}call(e,n){return He(()=>{e=Yn(e);let r;if(this.rank===1)throw new ur("1D separable convolution is not implemented yet.");return this.rank===2&&(this.dataFormat==="channelsFirst"&&(e=Br(e,[0,2,3,1])),r=uN(e,this.depthwiseKernel.read(),this.pointwiseKernel.read(),this.strides,this.padding,this.dilationRate,"NHWC")),this.useBias&&(r=Af(r,this.bias.read(),this.dataFormat)),this.activation!=null&&(r=this.activation.apply(r)),this.dataFormat==="channelsFirst"&&(r=Br(r,[0,3,1,2])),r})}getConfig(){const e=super.getConfig();return delete e.rank,delete e.kernelInitializer,delete e.kernelRegularizer,delete e.kernelConstraint,e.depthwiseInitializer=zi(this.depthwiseInitializer),e.pointwiseInitializer=zi(this.pointwiseInitializer),e.depthwiseRegularizer=Hs(this.depthwiseRegularizer),e.pointwiseRegularizer=Hs(this.pointwiseRegularizer),e.depthwiseConstraint=Xa(this.depthwiseConstraint),e.pointwiseConstraint=Xa(this.pointwiseConstraint),e}}hre.className="SeparableConv";class pre extends hre{constructor(e){super(2,e)}}pre.className="SeparableConv2D";Rt(pre);class UN extends Qx{constructor(e){super(1,e),UN.verifyArgs(e),this.inputSpec=[{ndim:3}]}getConfig(){const e=super.getConfig();return delete e.rank,delete e.dataFormat,e}static verifyArgs(e){if(typeof e.kernelSize!="number"&&!a$(e.kernelSize,"number",1,1))throw new Pe(`Conv1D expects config.kernelSize to be number or number[] with length 1, but received ${JSON.stringify(e.kernelSize)}.`)}}UN.className="Conv1D";Rt(UN);class mre extends xr{constructor(e){super(e),typeof e.cropping=="number"?this.cropping=[[e.cropping,e.cropping],[e.cropping,e.cropping]]:typeof e.cropping[0]=="number"?this.cropping=[[e.cropping[0],e.cropping[0]],[e.cropping[1],e.cropping[1]]]:this.cropping=e.cropping,this.dataFormat=e.dataFormat===void 0?"channelsLast":e.dataFormat,this.inputSpec=[{ndim:4}]}computeOutputShape(e){return this.dataFormat==="channelsFirst"?[e[0],e[1],e[2]-this.cropping[0][0]-this.cropping[0][1],e[3]-this.cropping[1][0]-this.cropping[1][1]]:[e[0],e[1]-this.cropping[0][0]-this.cropping[0][1],e[2]-this.cropping[1][0]-this.cropping[1][1],e[3]]}call(e,n){return He(()=>{if(e=Yn(e),this.dataFormat==="channelsLast"){const r=IC(e,this.cropping[0][0],e.shape[1]-this.cropping[0][0]-this.cropping[0][1],2);return IC(r,this.cropping[1][0],e.shape[2]-this.cropping[1][1]-this.cropping[1][0],3)}else{const r=IC(e,this.cropping[0][0],e.shape[2]-this.cropping[0][0]-this.cropping[0][1],3);return IC(r,this.cropping[1][0],e.shape[3]-this.cropping[1][1]-this.cropping[1][0],4)}})}getConfig(){const e={cropping:this.cropping,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}mre.className="Cropping2D";Rt(mre);class gre extends xr{constructor(e){super(e),this.DEFAULT_SIZE=[2,2],this.inputSpec=[{ndim:4}],this.size=e.size==null?this.DEFAULT_SIZE:e.size,this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,ba(this.dataFormat),this.interpolation=e.interpolation==null?"nearest":e.interpolation,oIe(this.interpolation)}computeOutputShape(e){if(this.dataFormat==="channelsFirst"){const n=e[2]==null?null:this.size[0]*e[2],r=e[3]==null?null:this.size[1]*e[3];return[e[0],e[1],n,r]}else{const n=e[1]==null?null:this.size[0]*e[1],r=e[2]==null?null:this.size[1]*e[2];return[e[0],n,r,e[3]]}}call(e,n){return He(()=>{let r=Yn(e);const s=r.shape;if(this.dataFormat==="channelsFirst"){r=Br(r,[0,2,3,1]);const i=this.size[0]*s[2],a=this.size[1]*s[3],o=this.interpolation==="nearest"?ou.resizeNearestNeighbor(r,[i,a]):ou.resizeBilinear(r,[i,a]);return Br(o,[0,3,1,2])}else{const i=this.size[0]*s[1],a=this.size[1]*s[2];return this.interpolation==="nearest"?ou.resizeNearestNeighbor(r,[i,a]):ou.resizeBilinear(r,[i,a])}})}getConfig(){const e={size:this.size,dataFormat:this.dataFormat,interpolation:this.interpolation},n=super.getConfig();return Object.assign(e,n),e}}gre.className="UpSampling2D";Rt(gre);function _Ne(t,e,n=[1,1],r="valid",s,i){return He(()=>{s==null&&(s=rf()),ba(s);let a=b$(t,s);if(t.rank!==4)throw new Pe(`Input for depthwiseConv2d is required to be 4-D, but is instead ${t.rank}-D`);if(e.rank!==4)throw new Pe(`depthwiseKernel is required to be 4-D, but is instead ${e.rank}-D`);return a=Lx(a,e,n,r==="same"?"same":"valid","NHWC",i),s==="channelsFirst"&&(a=Br(a,[0,3,1,2])),a})}class yre extends PN{constructor(e){super(2,e),this.depthwiseKernel=null,this.depthMultiplier=e.depthMultiplier==null?1:e.depthMultiplier,this.depthwiseInitializer=yi(e.depthwiseInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.depthwiseConstraint=Ya(e.depthwiseConstraint),this.depthwiseRegularizer=bi(e.depthwiseRegularizer)}build(e){if(e=es(e),e.length<4)throw new Pe(`Inputs to DepthwiseConv2D should have rank 4. Received input shape: ${JSON.stringify(e)}.`);const n=this.dataFormat==="channelsFirst"?1:3;if(e[n]==null||e[n]<0)throw new Pe(`The channel dimension of the inputs to DepthwiseConv2D should be defined, but is not (${e[n]}).`);const r=e[n],s=[this.kernelSize[0],this.kernelSize[1],r,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",s,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[r*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,n){return He(()=>{e=Yn(e);let r=_Ne(e,this.depthwiseKernel.read(),this.strides,this.padding,this.dataFormat,null);return this.useBias&&(r=Af(r,this.bias.read(),this.dataFormat)),this.activation!=null&&(r=this.activation.apply(r)),r})}computeOutputShape(e){e=es(e);const n=this.dataFormat==="channelsFirst"?e[2]:e[1],r=this.dataFormat==="channelsFirst"?e[3]:e[2],s=this.dataFormat==="channelsFirst"?e[1]*this.depthMultiplier:e[3]*this.depthMultiplier,i=Yd(n,this.kernelSize[0],this.padding,this.strides[0]),a=Yd(r,this.kernelSize[1],this.padding,this.strides[1]);return this.dataFormat==="channelsFirst"?[e[0],s,i,a]:[e[0],i,a,s]}getConfig(){const e=super.getConfig();return e.depthMultiplier=this.depthMultiplier,e.depthwiseInitializer=zi(this.depthwiseInitializer),e.depthwiseRegularizer=Hs(this.depthwiseRegularizer),e.depthwiseConstraint=Xa(this.depthwiseRegularizer),e}}yre.className="DepthwiseConv2D";Rt(yre);function xre(t,e,n,r){if(Array.isArray(t)){if(e!=null||n!=null)throw new Pe("When inputs is an array, neither initialState or constants should be provided");r!=null&&(n=t.slice(t.length-r,t.length),t=t.slice(0,t.length-r)),t.length>1&&(e=t.slice(1,t.length)),t=t[0]}function s(i){return i==null||Array.isArray(i)?i:[i]}return e=s(e),n=s(n),{inputs:t,initialState:e,constants:n}}function bre(t,e,n,r=!1,s,i,a=!1,o=!1){return He(()=>{const c=e.shape.length;if(c<3)throw new Pe(`Input should be at least 3D, but is ${c}D.`);const u=[1,0].concat(nf(2,c));e=Br(e,u),a&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),s!=null&&(s=Mt(Mt(s,"bool"),"float32"),s.rank===c-1&&(s=Oo(s,-1)),s=Br(s,u)),r&&(e=hu(e,0),s!=null&&(s=hu(s,0)));const d=[];let f,h=n;const m=e.shape[0],g=pu(e);let y;s!=null&&(y=pu(s));for(let v=0;v<m;++v){const w=g[v],B=He(()=>t(w,h));if(s==null)f=B[0],h=B[1];else{const k=He(()=>{const E=y[v],N=Kt(Oc(E),E),O=jt(je(B[0],E),je(h[0],N)),F=h.map((D,T)=>jt(je(B[1][T],E),je(D,N)));return{output:O,newStates:F}});f=k.output,h=k.newStates}o&&d.push(f)}let x;return o&&(x=Zl(d,1)),[f,x,h]})}class Im extends xr{constructor(e){super(e);let n;if(e.cell==null)throw new Pe("cell property is missing for the constructor of RNN.");if(Array.isArray(e.cell)?n=new S$({cells:e.cell}):n=e.cell,n.stateSize==null)throw new Pe("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");this.cell=n,this.returnSequences=e.returnSequences==null?!1:e.returnSequences,this.returnState=e.returnState==null?!1:e.returnState,this.goBackwards=e.goBackwards==null?!1:e.goBackwards,this._stateful=e.stateful==null?!1:e.stateful,this.unroll=e.unroll==null?!1:e.unroll,this.supportsMasking=!0,this.inputSpec=[new Wa({ndim:3})],this.stateSpec=null,this.states_=null,this.numConstants=null,this.keptStates=[]}getStates(){if(this.states_==null){const e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;return nf(0,e).map(n=>null)}else return this.states_}setStates(e){this.states_=e}computeOutputShape(e){CO(e)&&(e=e[0]),e=e;let n=this.cell.stateSize;Array.isArray(n)||(n=[n]);const r=n[0];let s;if(this.returnSequences?s=[e[0],e[1],r]:s=[e[0],r],this.returnState){const i=[];for(const a of n)i.push([e[0],a]);return[s].concat(i)}else return s}computeMask(e,n){return He(()=>{Array.isArray(n)&&(n=n[0]);const r=this.returnSequences?n:null;if(this.returnState){const s=this.states.map(i=>null);return[r].concat(s)}else return r})}get states(){if(this.states_==null){const e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,n=[];for(let r=0;r<e;++r)n.push(null);return n}else return this.states_}set states(e){this.states_=e}build(e){if(this.numConstants!=null)throw new ur("Constants support is not implemented in RNN yet.");CO(e)&&(e=e[0]),e=e;const n=this.stateful?e[0]:null,r=e.slice(2);this.inputSpec[0]=new Wa({shape:[n,null,...r]});const s=[e[0]].concat(e.slice(2));this.cell.build(s);let i;if(Array.isArray(this.cell.stateSize)?i=this.cell.stateSize:i=[this.cell.stateSize],this.stateSpec!=null){if(!vr(this.stateSpec.map(a=>a.shape[a.shape.length-1]),i))throw new Pe(`An initialState was passed that is not compatible with cell.stateSize. Received stateSpec=${this.stateSpec}; However cell.stateSize is ${this.cell.stateSize}`)}else this.stateSpec=i.map(a=>new Wa({shape:[null,a]}));this.stateful&&this.resetStates()}resetStates(e,n=!1){He(()=>{if(!this.stateful)throw new Uf("Cannot call resetStates() on an RNN Layer that is not stateful.");const r=this.inputSpec[0].shape[0];if(r==null)throw new Pe("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(this.states_==null)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(s=>Ra([r,s])):this.states_=[Ra([r,this.cell.stateSize])];else if(e==null)Ar(this.states_),this.keptStates!=null&&(Ar(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(s=>Ra([r,s])):this.states_[0]=Ra([r,this.cell.stateSize]);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new Pe(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);n===!0?this.keptStates.push(this.states_.slice()):Ar(this.states_);for(let s=0;s<this.states_.length;++s){const i=e[s],a=Array.isArray(this.cell.stateSize)?this.cell.stateSize[s]:this.cell.stateSize,o=[r,a];if(!vr(i.shape,o))throw new Pe(`State ${s} is incompatible with layer ${this.name}: expected shape=${o}, received shape=${i.shape}`);this.states_[s]=i}}this.states_=this.states_.map(s=>Ma(s.clone()))})}apply(e,n){let r=n==null?null:n.initialState,s=n==null?null:n.constants;n==null&&(n={});const i=xre(e,r,s,this.numConstants);e=i.inputs,r=i.initialState,s=i.constants;let a=[],o=[];if(r!=null){n.initialState=r,a=a.concat(r),this.stateSpec=[];for(const u of r)this.stateSpec.push(new Wa({shape:u.shape}));o=o.concat(this.stateSpec)}if(s!=null&&(n.constants=s,a=a.concat(s),this.numConstants=s.length),a[0]instanceof cA){const u=[e].concat(a),d=this.inputSpec.concat(o),f=this.inputSpec;this.inputSpec=d;const h=super.apply(u,n);return this.inputSpec=f,h}else return super.apply(e,n)}call(e,n){return He(()=>{const r=n==null?null:n.mask,s=n==null?null:n.training;let i=n==null?null:n.initialState;e=Yn(e),i==null&&(this.stateful?i=this.states_:i=this.getInitialState(e));const a=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;if(i.length!==a)throw new Pe(`RNN Layer has ${a} state(s) but was passed ${i.length} initial state(s).`);this.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");const o={training:s},u=bre((g,y)=>{const x=this.cell.call([g].concat(y),o);return[x[0],x.slice(1)]},e,i,this.goBackwards,r,null,this.unroll,this.returnSequences),d=u[0],f=u[1],h=u[2];this.stateful&&this.resetStates(h,s);const m=this.returnSequences?f:d;return this.returnState?[m].concat(h):m})}getInitialState(e){return He(()=>{let n=Ra(e.shape);return n=hn(n,[1,2]),n=Q5(n),Array.isArray(this.cell.stateSize)?this.cell.stateSize.map(r=>r>1?wO(n,[1,r]):n):this.cell.stateSize>1?[wO(n,[1,this.cell.stateSize])]:[n]})}get trainableWeights(){return this.trainable?this.cell.trainableWeights:[]}get nonTrainableWeights(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),this.cell!=null&&this.cell.setFastWeightInitDuringBuild(e)}getConfig(){const e=super.getConfig(),n={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};this.numConstants!=null&&(n.numConstants=this.numConstants);const r=this.cell.getConfig();return this.getClassName()===Im.className&&(n.cell={className:this.cell.getClassName(),config:r}),Object.assign(Object.assign(Object.assign({},r),e),n)}static fromConfig(e,n,r={}){const s=n.cell,i=fh(s,r);return new e(Object.assign(n,{cell:i}))}}Im.className="RNN";Rt(Im);class zN extends xr{}class v$ extends zN{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,Ao(this.units,"units"),this.activation=dm(e.activation==null?this.DEFAULT_ACTIVATION:e.activation),this.useBias=e.useBias==null?!0:e.useBias,this.kernelInitializer=yi(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=yi(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=yi(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=bi(e.kernelRegularizer),this.recurrentRegularizer=bi(e.recurrentRegularizer),this.biasRegularizer=bi(e.biasRegularizer),this.kernelConstraint=Ya(e.kernelConstraint),this.recurrentConstraint=Ya(e.recurrentConstraint),this.biasConstraint=Ya(e.biasConstraint),this.dropout=w1([1,cm([0,e.dropout==null?0:e.dropout])]),this.recurrentDropout=w1([1,cm([0,e.recurrentDropout==null?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=es(e),this.kernel=this.addWeight("kernel",[e[e.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,n){return He(()=>{if(e=e,e.length!==2)throw new Pe(`SimpleRNNCell expects 2 input Tensors, got ${e.length}.`);let r=e[1];e=e[0];const s=n.training==null?!1:n.training;0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=fm({ones:()=>Oc(e),rate:this.dropout,training:s,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=fm({ones:()=>Oc(r),rate:this.recurrentDropout,training:s,dropoutFunc:this.dropoutFunc}));let i;const a=this.dropoutMask,o=this.recurrentDropoutMask;a!=null?i=Zf(je(e,a),this.kernel.read()):i=Zf(e,this.kernel.read()),this.bias!=null&&(i=Af(i,this.bias.read())),o!=null&&(r=je(r,o));let c=jt(i,Zf(r,this.recurrentKernel.read()));return this.activation!=null&&(c=this.activation.apply(c)),[c,c]})}getConfig(){const e=super.getConfig(),n={units:this.units,activation:um(this.activation),useBias:this.useBias,kernelInitializer:zi(this.kernelInitializer),recurrentInitializer:zi(this.recurrentInitializer),biasInitializer:zi(this.biasInitializer),kernelRegularizer:Hs(this.kernelRegularizer),recurrentRegularizer:Hs(this.recurrentRegularizer),biasRegularizer:Hs(this.biasRegularizer),activityRegularizer:Hs(this.activityRegularizer),kernelConstraint:Xa(this.kernelConstraint),recurrentConstraint:Xa(this.recurrentConstraint),biasConstraint:Xa(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout};return Object.assign(Object.assign({},e),n)}}v$.className="SimpleRNNCell";Rt(v$);class vre extends Im{constructor(e){e.cell=new v$(e),super(e)}call(e,n){return He(()=>{this.cell.dropoutMask!=null&&(Ar(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(Ar(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const r=n==null?null:n.mask,s=n==null?null:n.training,i=n==null?null:n.initialState;return super.call(e,{mask:r,training:s,initialState:i})})}static fromConfig(e,n){return new e(n)}}vre.className="SimpleRNN";Rt(vre);class w$ extends zN{constructor(e){if(super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",e.resetAfter)throw new Pe("GRUCell does not support reset_after parameter set to true.");this.units=e.units,Ao(this.units,"units"),this.activation=dm(e.activation===void 0?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=dm(e.recurrentActivation===void 0?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=e.useBias==null?!0:e.useBias,this.kernelInitializer=yi(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=yi(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=yi(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=bi(e.kernelRegularizer),this.recurrentRegularizer=bi(e.recurrentRegularizer),this.biasRegularizer=bi(e.biasRegularizer),this.kernelConstraint=Ya(e.kernelConstraint),this.recurrentConstraint=Ya(e.recurrentConstraint),this.biasConstraint=Ya(e.biasConstraint),this.dropout=w1([1,cm([0,e.dropout==null?0:e.dropout])]),this.recurrentDropout=w1([1,cm([0,e.recurrentDropout==null?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=es(e);const n=e[e.length-1];this.kernel=this.addWeight("kernel",[n,this.units*3],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units*3],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units*3],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,n){return He(()=>{if(e=e,e.length!==2)throw new Pe(`GRUCell expects 2 input Tensors (inputs, h, c), got ${e.length}.`);const r=n.training==null?!1:n.training;let s=e[1];e=e[0],0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=fm({ones:()=>Oc(e),rate:this.dropout,training:r,count:3,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=fm({ones:()=>Oc(s),rate:this.recurrentDropout,training:r,count:3,dropoutFunc:this.dropoutFunc}));const i=this.dropoutMask,a=this.recurrentDropoutMask;let o,c,u;0<this.dropout&&this.dropout<1&&(e=je(e,i[0]));let d=Zf(e,this.kernel.read());this.useBias&&(d=Af(d,this.bias.read())),0<this.recurrentDropout&&this.recurrentDropout<1&&(s=je(s,a[0]));const f=this.recurrentKernel.read(),[h,m]=Gl(f,[2*this.units,this.units],f.rank-1),g=Zf(s,h),[y,x,v]=Gl(d,3,d.rank-1),[w,B]=Gl(g,2,g.rank-1);o=this.recurrentActivation.apply(jt(y,w)),c=this.recurrentActivation.apply(jt(x,B));const k=Zf(je(c,s),m);u=this.activation.apply(jt(v,k));const E=jt(je(o,s),je(jt(1,Zs(o)),u));return[E,E]})}getConfig(){const e=super.getConfig(),n={units:this.units,activation:um(this.activation),recurrentActivation:um(this.recurrentActivation),useBias:this.useBias,kernelInitializer:zi(this.kernelInitializer),recurrentInitializer:zi(this.recurrentInitializer),biasInitializer:zi(this.biasInitializer),kernelRegularizer:Hs(this.kernelRegularizer),recurrentRegularizer:Hs(this.recurrentRegularizer),biasRegularizer:Hs(this.biasRegularizer),activityRegularizer:Hs(this.activityRegularizer),kernelConstraint:Xa(this.kernelConstraint),recurrentConstraint:Xa(this.recurrentConstraint),biasConstraint:Xa(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation,resetAfter:!1};return Object.assign(Object.assign({},e),n)}}w$.className="GRUCell";Rt(w$);class wre extends Im{constructor(e){e.implementation===0&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new w$(e),super(e)}call(e,n){return He(()=>{this.cell.dropoutMask!=null&&(Ar(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(Ar(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const r=n==null?null:n.mask,s=n==null?null:n.training,i=n==null?null:n.initialState;return super.call(e,{mask:r,training:s,initialState:i})})}static fromConfig(e,n){return n.implmentation===0&&(n.implementation=1),new e(n)}}wre.className="GRU";Rt(wre);class MN extends zN{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,Ao(this.units,"units"),this.activation=dm(e.activation===void 0?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=dm(e.recurrentActivation===void 0?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=e.useBias==null?!0:e.useBias,this.kernelInitializer=yi(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=yi(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=yi(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.unitForgetBias=e.unitForgetBias,this.kernelRegularizer=bi(e.kernelRegularizer),this.recurrentRegularizer=bi(e.recurrentRegularizer),this.biasRegularizer=bi(e.biasRegularizer),this.kernelConstraint=Ya(e.kernelConstraint),this.recurrentConstraint=Ya(e.recurrentConstraint),this.biasConstraint=Ya(e.biasConstraint),this.dropout=w1([1,cm([0,e.dropout==null?0:e.dropout])]),this.recurrentDropout=w1([1,cm([0,e.recurrentDropout==null?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=[this.units,this.units],this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){var n;e=es(e);const r=e[e.length-1];this.kernel=this.addWeight("kernel",[r,this.units*4],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units*4],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint);let s;if(this.useBias){if(this.unitForgetBias){const i=this.biasInitializer,a=this.units;s=new(n=class extends ld{apply(c,u){const d=i.apply([a]),f=new l$().apply([a]),h=i.apply([a*2]);return l7(l7(d,f),h)}},n.className="CustomInit",n)}else s=this.biasInitializer;this.bias=this.addWeight("bias",[this.units*4],null,s,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0}call(e,n){return He(()=>{const r=n.training==null?!1:n.training;if(e=e,e.length!==3)throw new Pe(`LSTMCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);let s=e[1];const i=e[2];e=e[0],0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=fm({ones:()=>Oc(e),rate:this.dropout,training:r,count:4,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=fm({ones:()=>Oc(s),rate:this.recurrentDropout,training:r,count:4,dropoutFunc:this.dropoutFunc}));const a=this.dropoutMask,o=this.recurrentDropoutMask;let c,u,d,f;0<this.dropout&&this.dropout<1&&(e=je(e,a[0]));let h=Zf(e,this.kernel.read());0<this.recurrentDropout&&this.recurrentDropout<1&&(s=je(s,o[0])),h=jt(h,Zf(s,this.recurrentKernel.read())),this.useBias&&(h=Af(h,this.bias.read()));const[m,g,y,x]=Gl(h,4,h.rank-1);c=this.recurrentActivation.apply(m),u=this.recurrentActivation.apply(g),d=jt(je(u,i),je(c,this.activation.apply(y))),f=this.recurrentActivation.apply(x);const v=je(f,this.activation.apply(d));return[v,v,d]})}getConfig(){const e=super.getConfig(),n={units:this.units,activation:um(this.activation),recurrentActivation:um(this.recurrentActivation),useBias:this.useBias,kernelInitializer:zi(this.kernelInitializer),recurrentInitializer:zi(this.recurrentInitializer),biasInitializer:zi(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:Hs(this.kernelRegularizer),recurrentRegularizer:Hs(this.recurrentRegularizer),biasRegularizer:Hs(this.biasRegularizer),activityRegularizer:Hs(this.activityRegularizer),kernelConstraint:Xa(this.kernelConstraint),recurrentConstraint:Xa(this.recurrentConstraint),biasConstraint:Xa(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation};return Object.assign(Object.assign({},e),n)}}MN.className="LSTMCell";Rt(MN);class Sre extends Im{constructor(e){e.implementation===0&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new MN(e),super(e)}call(e,n){return He(()=>{this.cell.dropoutMask!=null&&(Ar(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(Ar(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const r=n==null?null:n.mask,s=n==null?null:n.training,i=n==null?null:n.initialState;return super.call(e,{mask:r,training:s,initialState:i})})}static fromConfig(e,n){return n.implmentation===0&&(n.implementation=1),new e(n)}}Sre.className="LSTM";Rt(Sre);class S$ extends zN{constructor(e){super(e),this.cells=e.cells}get stateSize(){const e=[];for(const n of this.cells.slice().reverse())Array.isArray(n.stateSize)?e.push(...n.stateSize):e.push(n.stateSize);return e}call(e,n){return He(()=>{e=e;let r=e.slice(1);const s=[];for(const o of this.cells.slice().reverse())Array.isArray(o.stateSize)?s.push(r.splice(0,o.stateSize.length)):s.push(r.splice(0,1));s.reverse();const i=[];let a;for(let o=0;o<this.cells.length;++o){const c=this.cells[o];r=s[o],o===0?a=[e[0]].concat(r):a=[a[0]].concat(r),a=c.call(a,n),i.push(a.slice(1))}r=[];for(const o of i.slice().reverse())r.push(...o);return[a[0]].concat(r)})}build(e){CO(e)&&(e=e[0]),e=e;let n;this.cells.forEach((r,s)=>{Ng(`RNNCell_${s}`,()=>{r.build(e),Array.isArray(r.stateSize)?n=r.stateSize[0]:n=r.stateSize,e=[e[0],n]})}),this.built=!0}getConfig(){const e=super.getConfig(),n=i=>({className:i.getClassName(),config:i.getConfig()}),s={cells:this.cells.map(n)};return Object.assign(Object.assign({},e),s)}static fromConfig(e,n,r={}){const s=[];for(const i of n.cells)s.push(fh(i,r));return new e({cells:s})}get trainableWeights(){if(!this.trainable)return[];const e=[];for(const n of this.cells)e.push(...n.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const n of this.cells)e.push(...n.nonTrainableWeights);if(!this.trainable){const n=[];for(const r of this.cells)n.push(...r.trainableWeights);return n.concat(e)}return e}getWeights(){const e=[];for(const n of this.cells)e.push(...n.weights);return kO(e)}setWeights(e){const n=[];for(const r of this.cells){const s=r.weights.length,i=e.splice(s);for(let a=0;a<r.weights.length;++a)n.push([r.weights[a],i[a]])}p$(n)}}S$.className="StackedRNNCells";Rt(S$);function fm(t){const{ones:e,rate:n,training:r=!1,count:s=1,dropoutFunc:i}=t,a=()=>i!=null?i(e(),n):hne(e(),n),o=()=>W5(a,e,r);return!s||s<=1?Ma(o().clone()):Array(s).fill(void 0).map(o).map(u=>Ma(u.clone()))}var RNe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class Cre extends Im{constructor(e){if(e.unroll)throw new ur("Unrolling is not possible with convolutional RNNs.");if(Array.isArray(e.cell))throw new ur("It is not possible at the moment to stack convolutional cells.");super(e),this.inputSpec=[new Wa({ndim:5})]}call(e,n){return He(()=>{if(this.cell.dropoutMask!=null&&(Ar(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(Ar(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null),n&&n.constants)throw new Pe("ConvRNN2D cell does not support constants");const r=n==null?null:n.mask,s=n==null?null:n.training,i=n==null?null:n.initialState;return super.call(e,{mask:r,training:s,initialState:i})})}computeOutputShape(e){let n=this.computeSingleOutputShape(e);return this.returnSequences||(n=[n[0],...n.slice(2)]),this.returnState&&(n=[n,...Array(2).fill([e[0],...n.slice(-3)])]),n}getInitialState(e){return He(()=>{const{stateSize:n}=this.cell,r=e.shape,s=this.computeSingleOutputShape(r),i=[s[0],...s.slice(2)],a=Ra(i);return Array.isArray(n)?Array(n.length).fill(a):[a]})}resetStates(e,n=!1){He(()=>{if(!this.stateful)throw new Uf("Cannot call resetStates() on an RNN Layer that is not stateful.");const r=this.inputSpec[0].shape,s=this.computeSingleOutputShape(r),i=[s[0],...s.slice(2)];if(r[0]==null)throw new Pe("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(this.getStates()==null)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(()=>Ra(i)):this.states_=[Ra(i)];else if(e==null)Ar(this.states_),this.keptStates!=null&&(Ar(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(()=>Ra(i)):this.states_[0]=Ra(i);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new Pe(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);n?this.keptStates.push(this.states_.slice()):Ar(this.states_);for(let o=0;o<this.states_.length;++o){const c=e[o],u=i;if(!vr(c.shape,u))throw new Pe(`State ${o} is incompatible with layer ${this.name}: expected shape=${u}, received shape=${c.shape}`);this.states_[o]=c}}this.states_=this.states_.map(o=>Ma(o.clone()))})}computeSingleOutputShape(e){const{dataFormat:n,filters:r,kernelSize:s,padding:i,strides:a,dilationRate:o}=this.cell,c=n==="channelsFirst",u=e[c?3:2],d=e[c?4:3],f=Yd(u,s[0],i,a[0],o[0]),h=Yd(d,s[1],i,a[1],o[1]);return[...e.slice(0,2),...c?[r,f,h]:[f,h,r]]}}Cre.className="ConvRNN2D";class C$ extends MN{constructor(e){const{filters:n,kernelSize:r,strides:s,padding:i,dataFormat:a,dilationRate:o}=e;super(Object.assign(Object.assign({},e),{units:n})),this.filters=n,Ao(this.filters,"filters"),this.kernelSize=n1(r,2,"kernelSize"),this.kernelSize.forEach(c=>Ao(c,"kernelSize")),this.strides=n1(s||1,2,"strides"),this.strides.forEach(c=>Ao(c,"strides")),this.padding=i||"valid",yu(this.padding),this.dataFormat=a||"channelsLast",ba(this.dataFormat),this.dilationRate=n1(o||1,2,"dilationRate"),this.dilationRate.forEach(c=>Ao(c,"dilationRate"))}build(e){var n;e=es(e);const r=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[r]==null)throw new Pe(`The channel dimension of the input should be defined. Found ${e[r]}`);const s=e[r],i=4,a=this.kernelSize.concat([s,this.filters*i]);this.kernel=this.addWeight("kernel",a,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint);const o=this.kernelSize.concat([this.filters,this.filters*i]);if(this.recurrentKernel=this.addWeight("recurrent_kernel",o,null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){let c;if(this.unitForgetBias){const u=this.biasInitializer,d=this.filters;c=new(n=class extends ld{apply(h,m){const g=u.apply([d]),y=Vl([d]),x=u.apply([d*2]);return o$([g,y,x])}},n.className="CustomInit",n)}else c=this.biasInitializer;this.bias=this.addWeight("bias",[this.filters*i],null,c,this.biasRegularizer,!0,this.biasConstraint)}this.built=!0}call(e,n){return He(()=>{if(e.length!==3)throw new Pe(`ConvLSTM2DCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);const r=n.training||!1,s=e[0],i=e[1],a=e[2],o=4;0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=fm({ones:()=>Oc(s),rate:this.dropout,training:r,count:o,dropoutFunc:this.dropoutFunc}));const c=this.dropoutMask,u=(K,H,Q)=>!H||!H[Q]?K:je(H[Q],K);let d=u(s,c,0),f=u(s,c,1),h=u(s,c,2),m=u(s,c,3);0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=fm({ones:()=>Oc(i),rate:this.recurrentDropout,training:r,count:o,dropoutFunc:this.dropoutFunc}));const g=this.recurrentDropoutMask;let y=u(i,g,0),x=u(i,g,1),v=u(i,g,2),w=u(i,g,3);const B=3,[k,E,N,O]=Gl(this.kernel.read(),o,B),[F,D,T,j]=this.useBias?Gl(this.bias.read(),o):[null,null,null,null];d=this.inputConv(d,k,F,this.padding),f=this.inputConv(f,E,D,this.padding),h=this.inputConv(h,N,T,this.padding),m=this.inputConv(m,O,j,this.padding);const[P,U,z,ee]=Gl(this.recurrentKernel.read(),o,B);y=this.recurrentConv(y,P),x=this.recurrentConv(x,U),v=this.recurrentConv(v,z),w=this.recurrentConv(w,ee);const q=this.recurrentActivation.apply(jt(d,y)),Z=this.recurrentActivation.apply(jt(f,x)),G=jt(je(Z,a),je(q,this.activation.apply(jt(h,v)))),ne=je(this.recurrentActivation.apply(jt(m,w)),this.activation.apply(G));return[ne,ne,G]})}getConfig(){const e=super.getConfig(),{units:n}=e,r=RNe(e,["units"]),s={filters:this.filters,kernelSize:this.kernelSize,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,strides:this.strides};return Object.assign(Object.assign({},r),s)}inputConv(e,n,r,s){const i=wh(e,n,this.strides,s||"valid",this.dataFormat==="channelsFirst"?"NCHW":"NHWC",this.dilationRate);return r?Af(i,r,this.dataFormat):i}recurrentConv(e,n){return wh(e,n,1,"same",this.dataFormat==="channelsFirst"?"NCHW":"NHWC")}}C$.className="ConvLSTM2DCell";Rt(C$);class kre extends Cre{constructor(e){const n=new C$(e);super(Object.assign(Object.assign({},e),{cell:n}))}static fromConfig(e,n){return new e(n)}}kre.className="ConvLSTM2D";Rt(kre);class k$ extends xr{constructor(e){super(e),this.rate=Math.max(Math.min(e.rate,1),0),this.noiseShape=e.noiseShape,this.seed=e.seed,this.supportsMasking=!0}getNoiseShape(e){if(this.noiseShape==null)return this.noiseShape;const n=e.shape,r=[];for(let s=0;s<this.noiseShape.length;++s)r.push(this.noiseShape[s]==null?n[s]:this.noiseShape[s]);return r}call(e,n){return He(()=>{this.invokeCallHook(e,n);const r=Yn(e);if(0<this.rate&&this.rate<1){const s=n.training==null?!1:n.training,i=this.getNoiseShape(r);return W5(()=>hne(r,this.rate,i,this.seed),()=>r,s)}return e})}getConfig(){const e={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},n=super.getConfig();return Object.assign(e,n),e}dispose(){return super.dispose()}}k$.className="Dropout";Rt(k$);class Bre extends k${constructor(e){super(e),this.inputSpec=[{ndim:3}]}getNoiseShape(e){const n=e.shape;return[n[0],1,n[2]]}}Bre.className="SpatialDropout1D";Rt(Bre);class Ere extends xr{constructor(e){if(super(e),this.activation=null,this.useBias=!0,this.kernel=null,this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",e.batchInputShape==null&&e.inputShape==null&&e.inputDim!=null){let n=null;e.batchSize!=null&&(n=e.batchSize),this.batchInputShape=[n,e.inputDim]}this.units=e.units,Ao(this.units,"units"),this.activation=dm(e.activation),e.useBias!=null&&(this.useBias=e.useBias),this.kernelInitializer=yi(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.biasInitializer=yi(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelConstraint=Ya(e.kernelConstraint),this.biasConstraint=Ya(e.biasConstraint),this.kernelRegularizer=bi(e.kernelRegularizer),this.biasRegularizer=bi(e.biasRegularizer),this.activityRegularizer=bi(e.activityRegularizer),this.supportsMasking=!0,this.inputSpec=[{minNDim:2}]}build(e){e=es(e);const n=e[e.length-1];this.kernel==null&&(this.kernel=this.addWeight("kernel",[n,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:{[-1]:n}}],this.built=!0}computeOutputShape(e){e=es(e);const n=e.slice();return n[n.length-1]=this.units,n}call(e,n){return He(()=>{this.invokeCallHook(e,n);const r=Yn(e),s=one(this.activation.getClassName());let i;return s!=null?i=Zf(r,this.kernel.read(),s,this.bias?this.bias.read():null):(i=Zf(r,this.kernel.read()),this.bias!=null&&(i=Af(i,this.bias.read())),this.activation!=null&&(i=this.activation.apply(i))),i})}getConfig(){const e={units:this.units,activation:um(this.activation),useBias:this.useBias,kernelInitializer:zi(this.kernelInitializer),biasInitializer:zi(this.biasInitializer),kernelRegularizer:Hs(this.kernelRegularizer),biasRegularizer:Hs(this.biasRegularizer),activityRegularizer:Hs(this.activityRegularizer),kernelConstraint:Xa(this.kernelConstraint),biasConstraint:Xa(this.biasConstraint)},n=super.getConfig();return Object.assign(e,n),e}}Ere.className="Dense";Rt(Ere);class Ire extends xr{constructor(e){e=e||{},super(e),this.inputSpec=[{minNDim:3}],this.dataFormat=e.dataFormat}computeOutputShape(e){e=es(e);for(const n of e.slice(1))if(n==null)throw new Pe(`The shape of the input to "Flatten" is not fully defined (got ${e.slice(1)}). Make sure to pass a complete "input_shape" or "batch_input_shape" argument to the first layer in your model.`);return[e[0],Kp(e,1)]}call(e,n){return He(()=>{this.invokeCallHook(e,n);let r=Yn(e);if(this.dataFormat==="channelsFirst"&&r.rank>1){const s=[0];for(let i=2;i<r.rank;++i)s.push(i);s.push(1),r=Br(r,s)}return AIe(r)})}getConfig(){const e={};this.dataFormat!=null&&(e.dataFormat=this.dataFormat);const n=super.getConfig();return Object.assign(e,n),e}}Ire.className="Flatten";Rt(Ire);class Nre extends xr{constructor(e){super(e),this.supportsMasking=!0,this.activation=dm(e.activation)}call(e,n){return He(()=>{this.invokeCallHook(e,n);const r=Yn(e);return this.activation.apply(r)})}getConfig(){const e={activation:um(this.activation)},n=super.getConfig();return Object.assign(e,n),e}}Nre.className="Activation";Rt(Nre);class jre extends xr{constructor(e){super(e),this.n=e.n,this.inputSpec=[{ndim:2}]}computeOutputShape(e){return[e[0],this.n,e[1]]}call(e,n){return He(()=>(e=Yn(e),dIe(e,this.n)))}getConfig(){const e={n:this.n},n=super.getConfig();return Object.assign(e,n),e}}jre.className="RepeatVector";Rt(jre);class Tre extends xr{constructor(e){super(e),this.targetShape=e.targetShape;for(let n=0;n<this.targetShape.length;++n)this.isUnknown(this.targetShape[n])&&(this.targetShape[n]=null)}isUnknown(e){return e<0||e==null}fixUnknownDimension(e,n){const r="Total size of new array must be unchanged.",s=n.slice();let i=1,a=null;for(let c=0;c<s.length;++c){const u=s[c];if(this.isUnknown(u))if(a===null)a=c;else throw new Pe("Can only specifiy one unknown dimension.");else i*=u}const o=Kp(e);if(a!==null){if(i===0||o%i!==0)throw new Pe(r);s[a]=o/i}else if(o!==i)throw new Pe(r);return s}computeOutputShape(e){let n=!1;for(let r=0;r<e.length;++r)if(this.isUnknown(e[r])){n=!0;break}return n?e.slice(0,1).concat(this.targetShape):e.slice(0,1).concat(this.fixUnknownDimension(e.slice(1),this.targetShape))}call(e,n){return He(()=>{this.invokeCallHook(e,n);const r=Yn(e),s=r.shape,i=s.slice(0,1).concat(this.fixUnknownDimension(s.slice(1),this.targetShape));return Fe(r,i)})}getConfig(){const e={targetShape:this.targetShape},n=super.getConfig();return Object.assign(e,n),e}}Tre.className="Reshape";Rt(Tre);class _re extends xr{constructor(e){if(super(e),e.dims==null)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(e.dims))throw new Error(`Permute constructor requires \`dims\` to be an Array, but received ${e.dims} instead.`);const n=nf(1,e.dims.length+1);if(!vr(e.dims.slice().sort(),n))throw new Error("Invalid permutation `dims`: "+JSON.stringify(e.dims)+" `dims` must contain consecutive integers starting from 1.");this.dims=e.dims,this.dimsIncludingBatch=[0].concat(this.dims),this.inputSpec=[new Wa({ndim:this.dims.length+1})]}computeOutputShape(e){e=es(e);const n=e.slice();return this.dims.forEach((r,s)=>{n[s+1]=e[r]}),n}call(e,n){return Br(Yn(e),this.dimsIncludingBatch)}getConfig(){const e={dims:this.dims},n=super.getConfig();return Object.assign(e,n),e}}_re.className="Permute";Rt(_re);class Rre extends xr{constructor(e){super(e??{}),this.supportsMasking=!0,e!=null?this.maskValue=e.maskValue==null?0:e.maskValue:this.maskValue=0}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={maskValue:this.maskValue};return Object.assign(n,e),n}computeMask(e,n){const r=Yn(e);return k2(Yg(r,this.maskValue),-1)}call(e,n){return He(()=>{this.invokeCallHook(e,n);const r=Yn(e),a=k2(Yg(r,this.maskValue),-1,!0);return je(r,Mt(a,r.dtype))})}}Rre.className="Masking";Rt(Rre);class Ore extends xr{constructor(e){if(super(e),this.embeddings=null,this.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",e.batchInputShape==null&&e.inputShape==null){let n=null;e.batchSize!=null&&(n=e.batchSize),e.inputLength==null?this.batchInputShape=[n,null]:this.batchInputShape=[n].concat(bs(e.inputLength))}this.inputDim=e.inputDim,Ao(this.inputDim,"inputDim"),this.outputDim=e.outputDim,Ao(this.outputDim,"outputDim"),this.embeddingsInitializer=yi(e.embeddingsInitializer||this.DEFAULT_EMBEDDINGS_INITIALIZER),this.embeddingsRegularizer=bi(e.embeddingsRegularizer),this.activityRegularizer=bi(e.activityRegularizer),this.embeddingsConstraint=Ya(e.embeddingsConstraint),this.maskZero=e.maskZero,this.supportsMasking=e.maskZero,this.inputLength=e.inputLength}build(e){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0}warnOnIncompatibleInputShape(e){}computeMask(e,n){return He(()=>this.maskZero?(e=Yn(e),Yg(e,Lr(e))):null)}computeOutputShape(e){if(e=es(e),this.inputLength==null)return[...e,this.outputDim];const n=bs(this.inputLength);if(n.length!==e.length-1)throw new Pe(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);{let r=0;for(let s=0;s<n.length;++s){const i=n[s],a=e[s+1];if(i!=null&&a!=null&&i!==a)throw new Pe(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);i==null&&(n[r]=a),r++}}return[e[0],...n,this.outputDim]}call(e,n){return He(()=>{this.invokeCallHook(e,n);let r=Yn(e);r.dtype!=="int32"&&(r=Jf(r,"int32"));const s=Ane(this.embeddings.read(),Fe(r,[r.size]));return Fe(s,es(this.computeOutputShape(r.shape)))})}getConfig(){const e={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:zi(this.embeddingsInitializer),embeddingsRegularizer:Hs(this.embeddingsRegularizer),activityRegularizer:Hs(this.activityRegularizer),embeddingsConstraint:Xa(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},n=super.getConfig();return Object.assign(e,n),e}}Ore.className="Embedding";Rt(Ore);class B0 extends xr{constructor(e){super(e||{}),this.supportsMasking=!0}mergeFunction(e){throw new ur}computeElementwiseOpOutputShape(e,n){if(e==null||n==null)return null;if(e.length<n.length)return this.computeElementwiseOpOutputShape(n,e);if(n.length===0)return e;const r=e.slice(0,e.length-n.length);for(let s=0;s<n.length;++s){const i=e[e.length-n.length+s],a=n[s];if(i==null||a==null||i<0||a<0)r.push(null);else if(i===1)r.push(a);else if(a===1)r.push(i);else{if(i!==a)throw new Pe("Operands could not be broadcast together with shapes "+JSON.stringify(e)+" "+JSON.stringify(n));r.push(i)}}return r}build(e){if(Array.isArray(e)&&!Array.isArray(e[0])&&(e=[es(e)]),e=e,e.length<2)throw new Pe(`A merge layer should be called on an Array of at least 2 inputs. Got ${e.length} input(s).`);let n=[];for(const i of e)i!=null&&i[0]!==null&&n.push(i[0]);if(n=Gp(n),n.length>1)throw new Pe(`Can not merge tensors with different batch sizes. Got tensors with shapes: ${JSON.stringify(e)}.`);let r=e[0]==null?null:e[0].slice(1);for(let i=1;i<e.length;++i){const a=e[i]==null?null:e[i].slice(1);r=this.computeElementwiseOpOutputShape(r,a)}const s=e.map(i=>i.length);e.indexOf(null)===-1&&Gp(s).length===1?this.reshapeRequired=!1:this.reshapeRequired=!0}call(e,n){return He(()=>{if(e=e,this.reshapeRequired){const r=[],s=e.map(i=>i.rank);if(s.indexOf(null)===-1){const i=cm(s);for(let a of e){const o=a.rank;for(let c=0;c<i-o;++c)a=Q5(a,1);r.push(a)}return this.mergeFunction(r)}else{let i=!1;for(const c of e){const u=c.rank;if(u==null){const d=c.shape,f=d[0],h=d.slice(1).concat([f]);let m=Fe(c,[f].concat(Kp(d.slice(1))));m=Br(m,[1,0]),m=Fe(m,h),r.push(m),i=!0}else if(u>1){const d=nf(1,u).concat([0]);r.push(Br(c,d)),i=!0}else r.push(c)}let a=this.mergeFunction(r);const o=a.rank;if(i){if(o==null){const c=a.shape,u=c.length,d=c[u-1],f=[d].concat(c.slice(0,c.length-1));a=Fe(Br(Fe(a,[-1,d]),[1,0]),f)}else if(o>1){const c=[o-1].concat(nf(0,o-1));a=Br(a,c)}}return a}}else return this.mergeFunction(e)})}computeOutputShape(e){e=e;let n;e[0]==null?n=null:n=e[0].slice(1);for(let s=1;s<e.length;++s){const i=e[s]==null?null:e[s].slice(1);n=this.computeElementwiseOpOutputShape(n,i)}let r=[];for(const s of e)s!=null&&s[0]!==null&&r.push(s[0]);return r=Gp(r),r.length===1?n=r.concat(n):n=[null].concat(n),n}computeMask(e,n){return He(()=>{if(n==null)return null;if(!Array.isArray(n))throw new Pe("`mask` should be an Array");if(!Array.isArray(e))throw new Pe("`inputs` should be an Array");if(n.length!==e.length)throw new Pe(`The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths (${e.length} vs ${n.length})`);if(n.every(s=>s==null))return null;n=n.map(s=>s==null?s:Oo(s,0));let r=n[0];for(let s=1;s<n.length-1;++s)r=tf(r,n[s]);return r})}}class Fre extends B0{constructor(e){super(e)}mergeFunction(e){return He(()=>{let n=e[0].clone();for(let r=1;r<e.length;++r)n=jt(n,e[r]);return n})}}Fre.className="Add";Rt(Fre);class Dre extends B0{constructor(e){super(e)}mergeFunction(e){return He(()=>{let n=e[0].clone();for(let r=1;r<e.length;++r)n=je(n,e[r]);return n})}}Dre.className="Multiply";Rt(Dre);class Lre extends B0{constructor(e){super(e)}mergeFunction(e){return He(()=>{let n=e[0].clone();for(let r=1;r<e.length;++r)n=jt(n,e[r]);return je(1/e.length,n)})}}Lre.className="Average";Rt(Lre);class $re extends B0{constructor(e){super(e)}mergeFunction(e){return He(()=>{let n=e[0];for(let r=1;r<e.length;++r)n=gA(n,e[r]);return n})}}$re.className="Maximum";Rt($re);class Pre extends B0{constructor(e){super(e)}mergeFunction(e){return He(()=>{let n=e[0];for(let r=1;r<e.length;++r)n=lm(n,e[r]);return n})}}Pre.className="Minimum";Rt(Pre);class Ure extends B0{constructor(e){super(e),this.DEFAULT_AXIS=-1,e==null&&(e={}),this.axis=e.axis==null?this.DEFAULT_AXIS:e.axis,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){if(!(Array.isArray(e)&&Array.isArray(e[0]))||e.length===1)throw new Pe("A `Concatenate` layer should be called on a list of at least 2 inputs");e=e;let n=!0;for(const s of e)if(s!=null){n=!1;break}if(n)return;const r=[];for(let s=0;s<e.length;++s){const i=e[s].slice();i.splice(this.axis,1);let a=!1;for(const o of r)if(vr(o,i)){a=!0;break}a||r.push(i)}if(r.length>1)throw new Pe("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(e))}mergeFunction(e){return He(()=>o$(e,this.axis))}computeOutputShape(e){if(!(Array.isArray(e)&&Array.isArray(e[0])))throw new Pe("A `Concatenate` layer should be called on a list of inputs.");const n=e,r=n[0].slice(),s=this.axis<0?r.length+this.axis:this.axis;for(const i of n.slice(1)){if(r[s]==null||i[s]==null){r[s]=null;break}r[s]+=i[s]}return r}computeMask(e,n){if(n==null)return null;if(!Array.isArray(n))throw new Pe("`mask` should be an array for Concatenate");if(!Array.isArray(e))throw new Pe("`inputs` should be an array for Concatenate");if(n.length!==e.length)throw new Pe(`Mismatch in the length of mask (${n.length}) and the legnth of inputs (${e.length})`);return He(()=>{let r=!0;if(n.forEach(a=>{if(a!=null){r=!1;return}}),r)return null;const s=[];for(let a=0;a<e.length;++a)n[a]==null?s.push(Mt(Oc(e[a]),"bool")):n[a].rank<e[a].rank?s.push(Oo(n[a],-1)):s.push(n[a]);const i=Wi(s,this.axis);return qI(i,-1,!1)})}getConfig(){const e={axis:this.axis},n=super.getConfig();return Object.assign(e,n),e}}Ure.className="Concatenate";Rt(Ure);function lv(t,e){for(;t<0;)t+=e;return t}function ONe(t,e,n){if(t.shape.length>3||e.shape.length>3)throw new ur("batchDot is not implemented for tensors of 4D or higher rank yet");if(ce(t.shape.length>=2,()=>`batchDot requires the rank of x to be >= 2, but got ${t.shape.length}`),ce(t.shape.length>=2,()=>`batchDot requires the rank of y to be >= 2, but got ${e.shape.length}`),typeof n=="number"&&(n=[n,n]),t.dtype==="complex64"||e.dtype==="complex64")throw new ur("batchDot is not implemented for complex64-type Tensors yet.");const r=t.shape.length,s=e.shape.length;n==null&&(n=[r-1,s-2]);const i=n;return He(()=>{let a;if(r>s){a=r-s;const c=[];for(let u=0;u<a;++u)c.push(1);e=Fe(e,e.shape.concat(c))}else if(s>r){a=s-r;const c=[];for(let u=0;u<a;++u)c.push(1);t=Fe(t,t.shape.concat(c))}else a=0;let o;if(t.shape.length===2&&e.shape.length===2)i[0]===i[1]?o=hn(je(t,e),i[0]):o=hn(je(Br(t,[1,0]),e),i[1]);else{const c=i[0]!==t.shape.length-1,u=i[1]===e.shape.length-1;o=fr(t,e,c,u)}if(a>0){let c;r>s?c=r+s-3:c=r-1;const u=[];for(let d=c;d<c+a;++d)u.push(d);o=td(o,u)}return o.shape.length===1&&(o=Oo(o,1)),o})}let zre=class extends B0{constructor(e){super(e),this.axes=e.axes,this.normalize=e.normalize==null?!1:e.normalize,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){ce(Array.isArray(e)&&e.length===2&&Array.isArray(e[0])&&Array.isArray(e[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");const n=e[0],r=e[1];if(n.length>3||r.length>3)throw new ur("Dot layer does not support tensors of 4D or higher rank yet.");const s=this.interpretAxes(n,r);if(n[s[0]]!==r[s[1]])throw new Pe(`Dimension incompatibility: ${n[s[0]]} !== ${r[s[1]]}`)}mergeFunction(e){if(e.length!==2)throw new Pe(`A \`Dot\` layer must be called on exactly 2 inputs, but received ${e.length} input(s).`);let n=e[0],r=e[1],s;return Array.isArray(this.axes)?s=this.axes.map((i,a)=>lv(i,e[a].shape.length)):s=[lv(this.axes,n.shape.length),lv(this.axes,r.shape.length)],this.normalize&&(n=qB(n,s[0]),r=qB(r,s[1])),ONe(n,r,s)}interpretAxes(e,n){let r;return Array.isArray(this.axes)?r=this.axes:r=[lv(this.axes,e.length),lv(this.axes,n.length)],r}computeOutputShape(e){ce(Array.isArray(e)&&e.length===2&&Array.isArray(e[0])&&Array.isArray(e[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");const n=e[0].slice(),r=e[1].slice();if(n.length>3||r.length>3)throw new ur("Dot layer does not support tensors of 4D or higher rank yet.");const s=this.interpretAxes(n,r);n.splice(s[0],1),r.splice(s[1],1),r.splice(0,1);const i=n.concat(r);return i.length===1&&i.push(1),i}computeMask(e,n){return null}getConfig(){const e={axes:this.axes,normalize:this.normalize},n=super.getConfig();return Object.assign(e,n),e}};zre.className="Dot";Rt(zre);class Mre extends xr{constructor(e){super(e),this.supportsMasking=!0,this.stddev=e.stddev}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={stddev:this.stddev};return Object.assign(n,e),n}call(e,n){return He(()=>{this.invokeCallHook(e,n);const r=Yn(e);return W5(()=>jt(FN(r.shape,0,this.stddev),r),()=>r,n.training||!1)})}}Mre.className="GaussianNoise";Rt(Mre);class Qre extends xr{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={rate:this.rate};return Object.assign(n,e),n}call(e,n){return He(()=>{this.invokeCallHook(e,n);const r=Yn(e);return this.rate>0&&this.rate<1?W5(()=>{const i=Math.sqrt(this.rate/(1-this.rate));return je(r,FN(r.shape,1,i))},()=>r,n.training||!1):r})}}Qre.className="GaussianDropout";Rt(Qre);class Hre extends xr{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate,this.noiseShape=e.noiseShape}_getNoiseShape(e){return this.noiseShape||Yn(e).shape}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={rate:this.rate};return Object.assign(n,e),n}call(e,n){return He(()=>{if(this.rate<1&&this.rate>0){const r=this._getNoiseShape(e);return W5(()=>{const i=Yn(e),o=-1.6732632423543772*1.0507009873554805;let c=$h(Bm(r),this.rate);c=Jf(c,"float32");const u=((1-this.rate)*(1+this.rate*o**2))**-.5,d=-u*o*this.rate,f=jt(je(i,c),je(jt(c,-1),o));return jt(je(f,u),d)},()=>Yn(e),n.training||!1)}return e})}}Hre.className="AlphaDropout";Rt(Hre);function _2(t,e,n,r,s,i=.001){let a;if(t.rank===2)a=TD(t,e,n,r,s,i);else if(t.rank===3)a=_D(t,e,n,r,s,i);else if(t.rank===4)a=RD(t,e,n,r,s,i);else throw new ur(`batchNormalization is not implemented for array of rank ${t.rank} yet`);return a}function FNe(t,e,n,r,s=.001){return He(()=>{const i=T5(t,r),a=i.mean,o=i.variance;return[_2(t,a,o,n,e,s),a,o]})}function DNe(t,e,n,r,s=.001){return He(()=>{const i=T5(t,r),a=i.mean,o=i.variance,c=[];for(const g of nf(0,t.rank))r.indexOf(g)!==-1?c.push(1):c.push(t.shape[g]);const u=Fe(a,c),d=Fe(o,c),f=e==null?null:Fe(e,c),h=n==null?null:Fe(n,c);return[_2(t,u,d,h,f,s),a,o]})}function LNe(t,e,n,r,s=.001){return vr(r.slice().sort(),nf(0,t.rank-1))?FNe(t,e,n,r,s):DNe(t,e,n,r,s)}class Wre extends xr{constructor(e){e==null&&(e={}),super(e),this.supportsMasking=!0,this.axis=e.axis==null?-1:e.axis,this.momentum=e.momentum==null?.99:e.momentum,this.epsilon=e.epsilon==null?.001:e.epsilon,this.center=e.center==null?!0:e.center,this.scale=e.scale==null?!0:e.scale,this.betaInitializer=yi(e.betaInitializer||"zeros"),this.gammaInitializer=yi(e.gammaInitializer||"ones"),this.movingMeanInitializer=yi(e.movingMeanInitializer||"zeros"),this.movingVarianceInitializer=yi(e.movingVarianceInitializer||"ones"),this.betaConstraint=Ya(e.betaConstraint),this.gammaConstraint=Ya(e.gammaConstraint),this.betaRegularizer=bi(e.betaRegularizer),this.gammaRegularizer=bi(e.gammaRegularizer)}build(e){e=es(e);const n=this.axis>=0?this.axis:this.axis+e.length,r=e[n];if(r==null)throw new Pe(`Axis ${n} of input tensor should have a defined dimension but the layer received an input with shape ${JSON.stringify(e)}.`);this.inputSpec=[new Wa({ndim:e.length,axes:{[n]:r}})];const s=[r];this.scale&&(this.gamma=this.addWeight("gamma",s,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",s,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",s,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",s,null,this.movingVarianceInitializer,null,!1),this.built=!0}call(e,n){return He(()=>{const r=n.training==null?!1:n.training,s=Yn(e),i=s.shape,a=i.length,o=nf(0,a),c=this.axis>=0?this.axis:this.axis+a;o.splice(c,1);const u=e0(1,a);u[c]=i[c];const d=o.slice();d.sort();const f=!vr(d,nf(0,a).slice(0,a-1)),h=()=>{if(f){const w=Fe(this.movingMean.read(),u),B=Fe(this.movingVariance.read(),u),k=this.center?Fe(this.beta.read(),u):null,E=this.scale?Fe(this.gamma.read(),u):null;return _2(s,w,B,k,E,this.epsilon)}else return _2(s,this.movingMean.read(),this.movingVariance.read(),this.beta==null?null:this.beta.read(),this.gamma==null?null:this.gamma.read(),this.epsilon)};if(!r)return h();const[m,g,y]=LNe(s,this.gamma.read(),this.beta.read(),o,this.epsilon),x=(w,B,k)=>{He(()=>{const E=1-k,N=w.read(),O=je(Kt(N,B),E);w.write(Kt(N,O))})};return x(this.movingMean,g,this.momentum),x(this.movingVariance,y,this.momentum),m})}getConfig(){const e={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:zi(this.betaInitializer),gammaInitializer:zi(this.gammaInitializer),movingMeanInitializer:zi(this.movingMeanInitializer),movingVarianceInitializer:zi(this.movingVarianceInitializer),betaRegularizer:Hs(this.betaRegularizer),gammaRegularizer:Hs(this.gammaRegularizer),betaConstraint:Xa(this.betaConstraint),gammaConstraint:Xa(this.gammaConstraint)},n=super.getConfig();return Object.assign(e,n),e}}Wre.className="BatchNormalization";Rt(Wre);class Vre extends xr{constructor(e){if(e==null&&(e={}),super(e),this.axis=e.axis==null?-1:e.axis,typeof this.axis=="number"){if(!Number.isInteger(this.axis))throw new Error(`Expected axis to be an integer, but received ${this.axis}`)}else if(Array.isArray(this.axis)){for(const n of this.axis)if(!Number.isInteger(n))throw new Error(`Expected axis to be an array of integers, but received ${JSON.stringify(this.axis)}`)}else throw new Error(`Expected axis to be an integer or an array of integers, but received ${JSON.stringify(this.axis)}`);this.epsilon=e.epsilon==null?.001:e.epsilon,this.center=e.center==null?!0:e.center,this.scale=e.scale==null?!0:e.scale,this.betaInitializer=yi(e.betaInitializer||"zeros"),this.gammaInitializer=yi(e.gammaInitializer||"ones"),this.betaRegularizer=bi(e.betaRegularizer),this.gammaRegularizer=bi(e.gammaRegularizer),this.supportsMasking=!0}build(e){e=es(e);const n=e.length;typeof this.axis=="number"&&(this.axis=[this.axis]);for(let i=0;i<this.axis.length;++i)this.axis[i]<0&&(this.axis[i]+=n);for(const i of this.axis)if(i<0||i>=n)throw new Error(`Invalid axis: ${i}`);if(this.axis.length!==Gp(this.axis).length)throw new Error(`Found duplicate axes in: ${this.axis}`);const r=this.axis.map(i=>e[i]),s=!0;this.scale?this.gamma=this.addWeight("gamma",r,"float32",this.gammaInitializer,this.gammaRegularizer,s):this.gamma=null,this.center?this.beta=this.addWeight("beta",r,"float32",this.betaInitializer,this.betaRegularizer,s):this.beta=null,this.built=!0}call(e,n){const r=Yn(e),s=r.shape,i=s.length;return He(()=>{let{mean:o,variance:c}=T5(r,this.axis,!0);const u=e0(1,i);for(const y of this.axis)u[y]=s[y];const d=y=>y!=null&&y.shape.length!==i?Fe(y,u):y;let f=this.scale?d(this.gamma.read()):null,h=this.center?d(this.beta.read()):null;const m=[],g=[];for(let y=0;y<i;++y)this.axis.indexOf(y)!==-1?(m.push(s[y]),g.push(1)):(m.push(1),g.push(s[y]));return o=au(o,m),c=au(c,m),f!=null&&(f=au(f,g)),h!=null&&(h=au(h,g)),_2(r,o,c,h,f,this.epsilon)})}getConfig(){const e={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:zi(this.betaInitializer),gammaInitializer:zi(this.gammaInitializer),betaRegularizer:Hs(this.betaRegularizer),gammaRegularizer:Hs(this.gammaRegularizer)},n=super.getConfig();return Object.assign(e,n),e}}Vre.className="LayerNormalization";Rt(Vre);function $Ne(t,e,n){return He(()=>{if(t.rank!==4)throw new Pe(`temporalPadding expects input tensor to be 4-D, but received a ${t.rank}-D tensor.`);if(e==null&&(e=[[1,1],[1,1]]),e.length!==2||e[0].length!==2||e[1].length!==2)throw new Pe("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(n==null&&(n=rf()),n!=="channelsLast"&&n!=="channelsFirst")throw new Pe(`Unknown data format: ${n}. Supported data formats are 'channelsLast' and 'channelsFirst.`);let r;return n==="channelsFirst"?r=[[0,0],[0,0],e[0],e[1]]:r=[[0,0],e[0],e[1],[0,0]],Ph(t,r)})}class qre extends xr{constructor(e){if(e==null&&(e={}),super(e),this.dataFormat=e.dataFormat==null?rf():e.dataFormat,e.padding==null)this.padding=[[1,1],[1,1]];else if(typeof e.padding=="number")this.padding=[[e.padding,e.padding],[e.padding,e.padding]];else{if(e.padding=e.padding,e.padding.length!==2)throw new Pe(`ZeroPadding2D expects padding to be a length-2 array, but received a length-${e.padding.length} array.`);let n,r;if(typeof e.padding[0]=="number")n=[e.padding[0],e.padding[0]],r=[e.padding[1],e.padding[1]];else{if(e.padding=e.padding,e.padding[0].length!==2)throw new Pe(`ZeroPadding2D expects height padding to be a length-2 array, but received a length-${e.padding[0].length} array.`);if(n=e.padding[0],e.padding[1].length!==2)throw new Pe(`ZeroPadding2D expects width padding to be a length-2 array, but received a length-${e.padding[1].length} array.`);r=e.padding[1]}this.padding=[n,r]}this.inputSpec=[new Wa({ndim:4})]}computeOutputShape(e){e=es(e);let n,r;return this.dataFormat==="channelsFirst"?(e[2]!=null&&e[2]>=0?n=e[2]+this.padding[0][0]+this.padding[0][1]:n=null,e[3]!=null&&e[3]>=0?r=e[3]+this.padding[1][0]+this.padding[1][1]:r=null,[e[0],e[1],n,r]):(e[1]!=null&&e[1]>=0?n=e[1]+this.padding[0][0]+this.padding[0][1]:n=null,e[2]!=null&&e[2]>=0?r=e[2]+this.padding[1][0]+this.padding[1][1]:r=null,[e[0],n,r,e[3]])}call(e,n){return He(()=>$Ne(Yn(e),this.padding,this.dataFormat))}getConfig(){const e={padding:this.padding,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}qre.className="ZeroPadding2D";Rt(qre);function QN(t,e,n,r,s,i){return He(()=>{ba(s),cne(i),yu(r),n==null&&(n=[1,1]),r==null&&(r="valid"),s==null&&(s=rf()),i==null&&(i="max"),t=b$(t,s);let a;const o=r==="same"?"same":"valid";return i==="max"?a=j5(t,e,n,o):a=v5(t,e,n,o),s==="channelsFirst"&&(a=Br(a,[0,3,1,2])),a})}function Gre(t,e,n,r,s,i){return He(()=>{ba(s),cne(i),yu(r),n==null&&(n=[1,1,1]),r==null&&(r="valid"),s==null&&(s=rf()),i==null&&(i="max"),t=dre(t,s);let a;const o=r==="same"?"same":"valid";return i==="max"?a=tL(t,e,n,o):a=jD(t,e,n,o),s==="channelsFirst"&&(a=Br(a,[0,4,1,2,3])),a})}class Kre extends xr{constructor(e){if(e.poolSize==null&&(e.poolSize=2),super(e),typeof e.poolSize=="number")this.poolSize=[e.poolSize];else if(Array.isArray(e.poolSize)&&e.poolSize.length===1&&typeof e.poolSize[0]=="number")this.poolSize=e.poolSize;else throw new Pe(`poolSize for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(e.poolSize)}`);if(Ao(this.poolSize,"poolSize"),e.strides==null)this.strides=this.poolSize;else if(typeof e.strides=="number")this.strides=[e.strides];else if(Array.isArray(e.strides)&&e.strides.length===1&&typeof e.strides[0]=="number")this.strides=e.strides;else throw new Pe(`strides for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(e.strides)}`);Ao(this.strides,"strides"),this.padding=e.padding==null?"valid":e.padding,yu(this.padding),this.inputSpec=[new Wa({ndim:3})]}computeOutputShape(e){e=es(e);const n=Yd(e[1],this.poolSize[0],this.padding,this.strides[0]);return[e[0],n,e[2]]}call(e,n){return He(()=>{this.invokeCallHook(e,n),e=Q5(Yn(e),2);const r=this.poolingFunction(Yn(e),[this.poolSize[0],1],[this.strides[0],1],this.padding,"channelsLast");return td(r,[2])})}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides},n=super.getConfig();return Object.assign(e,n),e}}class Xre extends Kre{constructor(e){super(e)}poolingFunction(e,n,r,s,i){return ba(i),yu(s),QN(e,n,r,s,i,"max")}}Xre.className="MaxPooling1D";Rt(Xre);class Yre extends Kre{constructor(e){super(e)}poolingFunction(e,n,r,s,i){return ba(i),yu(s),QN(e,n,r,s,i,"avg")}}Yre.className="AveragePooling1D";Rt(Yre);class Jre extends xr{constructor(e){if(e.poolSize==null&&(e.poolSize=[2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize],e.strides==null)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(e.strides.length!==2)throw new Pe(`If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length ${e.strides.length}.`);this.strides=e.strides}else this.strides=[e.strides,e.strides];Ao(this.poolSize,"poolSize"),Ao(this.strides,"strides"),this.padding=e.padding==null?"valid":e.padding,this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,ba(this.dataFormat),yu(this.padding),this.inputSpec=[new Wa({ndim:4})]}computeOutputShape(e){e=es(e);let n=this.dataFormat==="channelsFirst"?e[2]:e[1],r=this.dataFormat==="channelsFirst"?e[3]:e[2];return n=Yd(n,this.poolSize[0],this.padding,this.strides[0]),r=Yd(r,this.poolSize[1],this.padding,this.strides[1]),this.dataFormat==="channelsFirst"?[e[0],e[1],n,r]:[e[0],n,r,e[3]]}call(e,n){return He(()=>(this.invokeCallHook(e,n),this.poolingFunction(Yn(e),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}class Zre extends Jre{constructor(e){super(e)}poolingFunction(e,n,r,s,i){return ba(i),yu(s),QN(e,n,r,s,i,"max")}}Zre.className="MaxPooling2D";Rt(Zre);class ese extends Jre{constructor(e){super(e)}poolingFunction(e,n,r,s,i){return ba(i),yu(s),QN(e,n,r,s,i,"avg")}}ese.className="AveragePooling2D";Rt(ese);class tse extends xr{constructor(e){if(e.poolSize==null&&(e.poolSize=[2,2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize,e.poolSize],e.strides==null)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(e.strides.length!==3)throw new Pe(`If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length ${e.strides.length}.`);this.strides=e.strides}else this.strides=[e.strides,e.strides,e.strides];Ao(this.poolSize,"poolSize"),Ao(this.strides,"strides"),this.padding=e.padding==null?"valid":e.padding,this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,ba(this.dataFormat),yu(this.padding),this.inputSpec=[new Wa({ndim:5})]}computeOutputShape(e){e=es(e);let n=this.dataFormat==="channelsFirst"?e[2]:e[1],r=this.dataFormat==="channelsFirst"?e[3]:e[2],s=this.dataFormat==="channelsFirst"?e[4]:e[3];return n=Yd(n,this.poolSize[0],this.padding,this.strides[0]),r=Yd(r,this.poolSize[1],this.padding,this.strides[1]),s=Yd(s,this.poolSize[2],this.padding,this.strides[2]),this.dataFormat==="channelsFirst"?[e[0],e[1],n,r,s]:[e[0],n,r,s,e[4]]}call(e,n){return He(()=>(this.invokeCallHook(e,n),this.poolingFunction(Yn(e),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}class nse extends tse{constructor(e){super(e)}poolingFunction(e,n,r,s,i){return ba(i),yu(s),Gre(e,n,r,s,i,"max")}}nse.className="MaxPooling3D";Rt(nse);class rse extends tse{constructor(e){super(e)}poolingFunction(e,n,r,s,i){return ba(i),yu(s),Gre(e,n,r,s,i,"avg")}}rse.className="AveragePooling3D";Rt(rse);class sse extends xr{constructor(e){super(e),this.inputSpec=[new Wa({ndim:3})]}computeOutputShape(e){return[e[0],e[2]]}call(e,n){throw new ur}}class ise extends sse{constructor(e){super(e||{})}call(e,n){return He(()=>{const r=Yn(e);return $i(r,1)})}}ise.className="GlobalAveragePooling1D";Rt(ise);class ase extends sse{constructor(e){super(e||{})}call(e,n){return He(()=>{const r=Yn(e);return fu(r,1)})}}ase.className="GlobalMaxPooling1D";Rt(ase);class ose extends xr{constructor(e){super(e),this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,ba(this.dataFormat),this.inputSpec=[new Wa({ndim:4})]}computeOutputShape(e){return e=e,this.dataFormat==="channelsLast"?[e[0],e[3]]:[e[0],e[1]]}call(e,n){throw new ur}getConfig(){const e={dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}class lse extends ose{call(e,n){return He(()=>{const r=Yn(e);return this.dataFormat==="channelsLast"?$i(r,[1,2]):$i(r,[2,3])})}}lse.className="GlobalAveragePooling2D";Rt(lse);class cse extends ose{call(e,n){return He(()=>{const r=Yn(e);return this.dataFormat==="channelsLast"?fu(r,[1,2]):fu(r,[2,3])})}}cse.className="GlobalMaxPooling2D";Rt(cse);class use extends xr{constructor(e){super(e),this.layer=e.layer}build(e){this.built=!0}get trainable(){return this.layer!=null?this.layer.trainable:!1}set trainable(e){this.layer!=null&&(this.layer.trainable=e)}get trainableWeights(){return this.layer.trainableWeights}get nonTrainableWeights(){return this.layer.nonTrainableWeights}get updates(){return this.layer._updates}get losses(){return this.layer.losses}getWeights(){return this.layer.getWeights()}setWeights(e){this.layer.setWeights(e)}getConfig(){const e={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},n=super.getConfig();return Object.assign(e,n),e}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),this.layer!=null&&this.layer.setFastWeightInitDuringBuild(e)}static fromConfig(e,n,r={}){const s=n.layer,i=fh(s,r);delete n.layer;const a={layer:i};return Object.assign(a,n),new e(a)}}class dse extends use{constructor(e){super(e),this.supportsMasking=!0}build(e){if(e=es(e),e.length<3)throw new Pe(`TimeDistributed layer expects an input shape >= 3D, but received input shape ${JSON.stringify(e)}`);this.inputSpec=[{shape:e}];const n=[e[0]].concat(e.slice(2));this.layer.built||(this.layer.build(n),this.layer.built=!0),super.build(e)}computeOutputShape(e){e=es(e);const n=[e[0]].concat(e.slice(2)),r=this.layer.computeOutputShape(n),s=e[1];return[r[0],s].concat(r.slice(1))}call(e,n){return He(()=>(e=Yn(e),bre((a,o)=>[Yn(this.layer.call(a,n)),[]],e,[],!1,null,null,!1,!0)[1]))}}dse.className="TimeDistributed";Rt(dse);function PNe(t){k0(aIe,"BidirectionalMergeMode",t)}const UNe="concat";class fse extends use{constructor(e){super(e);const n=e.layer.getConfig(),r={};r.className=e.layer.getClassName(),r.config=n,this.forwardLayer=fh(r),n.goBackwards=n.goBackwards!==!0;const s={};if(s.className=e.layer.getClassName(),s.config=n,this.backwardLayer=fh(s),this.forwardLayer.name="forward_"+this.forwardLayer.name,this.backwardLayer.name="backward_"+this.backwardLayer.name,this.mergeMode=e.mergeMode===void 0?UNe:e.mergeMode,PNe(this.mergeMode),e.weights)throw new ur("weights support is not implemented for Bidirectional layer yet.");this._stateful=e.layer.stateful,this.returnSequences=e.layer.returnSequences,this.returnState=e.layer.returnState,this.supportsMasking=!0,this._trainable=!0,this.inputSpec=e.layer.inputSpec,this.numConstants=null}get trainable(){return this._trainable}set trainable(e){this._trainable=e,this.forwardLayer!=null&&(this.forwardLayer.trainable=e),this.backwardLayer!=null&&(this.backwardLayer.trainable=e)}getWeights(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())}setWeights(e){const n=e.length,r=Math.floor(n/2);this.forwardLayer.setWeights(e.slice(0,r)),this.backwardLayer.setWeights(e.slice(r))}computeOutputShape(e){let n=this.forwardLayer.computeOutputShape(e);Array.isArray(n)&&Array.isArray(n[0])||(n=[n]),n=n;let r,s,i;return this.returnState&&(i=n.slice(1)),r=n[0],r=r,this.mergeMode==="concat"?(r[r.length-1]*=2,s=[r]):this.mergeMode==null?s=[r,r.slice()]:s=[r],this.returnState?this.mergeMode==null?s.concat(i).concat(i.slice()):[r].concat(i).concat(i.slice()):Ql(s)}apply(e,n){let r=n==null?null:n.initialState,s=n==null?null:n.constants;n==null&&(n={});const i=xre(e,r,s,this.numConstants);if(e=i.inputs,r=i.initialState,s=i.constants,Array.isArray(e)&&(r=e.slice(1),e=e[0]),(r==null||r.length===0)&&s==null)return super.apply(e,n);const a=[],o=[];if(r!=null){const u=r.length;if(u%2>0)throw new Pe("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");n.initialState=r,a.push(...r);const d=r.map(f=>new Wa({shape:f.shape}));this.forwardLayer.stateSpec=d.slice(0,u/2),this.backwardLayer.stateSpec=d.slice(u/2),o.push(...d)}if(s!=null)throw new ur("Support for constants in Bidirectional layers is not implemented yet.");const c=a[0]instanceof cA;for(const u of a)if(u instanceof cA!==c)throw new Pe("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors");if(c){const u=[e].concat(a),d=this.inputSpec.concat(o),f=this.inputSpec;this.inputSpec=d;const h=super.apply(u,n);return this.inputSpec=f,h}else return super.apply(e,n)}call(e,n){return He(()=>{const r=n.initialState;let s,i;if(r==null)s=this.forwardLayer.call(e,n),i=this.backwardLayer.call(e,n);else{const c=r.slice(0,r.length/2),u=r.slice(r.length/2);s=this.forwardLayer.call(e,Object.assign(n,{initialState:c})),i=this.backwardLayer.call(e,Object.assign(n,{initialState:u}))}let a;this.returnState&&(Array.isArray(s)&&(a=s.slice(1).concat(i.slice(1))),s=s[0],i=i[0]),this.returnSequences&&(i=hu(i,1));let o;return this.mergeMode==="concat"?o=o$([s,i]):this.mergeMode==="sum"?o=jt(s,i):this.mergeMode==="ave"?o=je(.5,jt(s,i)):this.mergeMode==="mul"?o=je(s,i):this.mergeMode==null&&(o=[s,i]),this.returnState?this.mergeMode==null?o.concat(a):[o].concat(a):o})}resetStates(e){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()}build(e){Ng(this.forwardLayer.name,()=>{this.forwardLayer.build(e)}),Ng(this.backwardLayer.name,()=>{this.backwardLayer.build(e)}),this.built=!0}computeMask(e,n){Array.isArray(n)&&(n=n[0]);let r;if(this.returnSequences?this.mergeMode==null?r=[n,n]:r=n:this.mergeMode==null?r=[null,null]:r=null,this.returnState){const i=this.forwardLayer.states.map(a=>null);return Array.isArray(r)?r.concat(i).concat(i):[r].concat(i).concat(i)}else return r}get trainableWeights(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)}get nonTrainableWeights(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),this.forwardLayer!=null&&this.forwardLayer.setFastWeightInitDuringBuild(e),this.backwardLayer!=null&&this.backwardLayer.setFastWeightInitDuringBuild(e)}getConfig(){const e={mergeMode:this.mergeMode},n=super.getConfig();return Object.assign(e,n),e}static fromConfig(e,n){const r=fh(n.layer);if(delete n.layer,n.numConstants!=null)throw new ur("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");const s=n;return s.layer=r,new e(s)}}fse.className="Bidirectional";Rt(fse);class Ase extends xr{constructor(e){super(e),this.scale=e.scale,e.offset?this.offset=e.offset:this.offset=0}getConfig(){const e={scale:this.scale,offset:this.offset},n=super.getConfig();return Object.assign(e,n),e}call(e,n){return He(()=>(e=Yn(e),e.dtype!=="float32"&&(e=Jf(e,"float32")),jt(je(e,this.scale),this.offset)))}}Ase.className="Rescaling";Rt(Ase);const{resizeBilinear:zNe,cropAndResize:MNe}=ou;class hse extends xr{constructor(e){super(e),this.height=e.height,this.width=e.width}centerCrop(e,n,r,s,i,a,o,c){return He(()=>{let u,d=!1;const f=n/a,h=r/o,m=(s+n)/a,g=(i+r)/o,y=[f,h,m,g],x=[];e.rank===3?(d=!0,u=Zl([e])):u=e;for(let E=0;E<u.shape[0];E++)x.push(y);const v=Zu(x,[x.length,4]),w=Jg(0,x.length,1,"int32"),k=MNe(u,v,w,[s,i],"nearest");return Jf(d?Yn(pu(k)):k,c)})}upsize(e,n,r,s){return He(()=>{const i=zNe(e,[n,r]);return Jf(i,s)})}call(e,n){return He(()=>{const r=Yn(e),s=r.dtype,i=r.shape,a=i[i.length-3],o=i[i.length-2];let c=0;a!==this.height&&(c=Math.floor((a-this.height)/2));let u=0;return o!==this.width&&(u=Math.floor((o-this.width)/2),u===0&&(u=1)),c>=0&&u>=0?this.centerCrop(r,c,u,this.height,this.width,a,o,s):this.upsize(e,this.height,this.width,s)})}getConfig(){const e={height:this.height,width:this.width},n=super.getConfig();return Object.assign(e,n),e}computeOutputShape(e){e=es(e);const n=e.length-3,r=e.length-2;return e[n]=this.height,e[r]=this.width,e}}hse.className="CenterCrop";Rt(hse);function QNe(t,e,n,r){let s=Yn(t);if(s.dtype!=="int32"&&(s=Jf(s,"int32")),e==="int")return s;const i=s.shape;if(s.rank===0&&(s=Oo(s,-1)),e==="oneHot"&&s.shape[s.shape.length-1]!==1&&(s=Oo(s,-1)),s.rank>2)throw new Pe(`When outputMode is not int, maximum output rank is 2 Received outputMode ${e} and input shape ${i} which would result in output rank ${s.rank}.`);const a=["multiHot","oneHot"].includes(e),o=s;let c;if(typeof r<"u"&&e==="count"?c=zB(o,r,n,a):c=zB(o,[],n,a),e!=="tfIdf")return c;if(r)return je(c,r);throw new Pe("When outputMode is 'tfIdf', weights must be provided.")}class pse extends xr{constructor(e){super(e),this.numTokens=e.numTokens,e.outputMode?this.outputMode=e.outputMode:this.outputMode="multiHot"}getConfig(){const e={numTokens:this.numTokens,outputMode:this.outputMode},n=super.getConfig();return Object.assign(e,n),e}computeOutputShape(e){return e=es(e),e==null?[this.numTokens]:this.outputMode==="oneHot"&&e[e.length-1]!==1?(e.push(this.numTokens),e):(e[e.length-1]=this.numTokens,e)}call(e,n){return He(()=>{e=Yn(e),e.dtype!=="int32"&&(e=Jf(e,"int32"));let r;if(typeof n.countWeights<"u"){if(this.outputMode!=="count")throw new Pe(`countWeights is not used when outputMode !== count.
              Received countWeights=${n.countWeights}`);r=Yn(n.countWeights)}const s=fu(e),i=m1(e),a=rc(this.numTokens,s).bufferSync().get(0),o=$h(i,0).bufferSync().get(0);if(!(a&&o))throw new Pe(`Input values must be between 0 < values <= numTokens with numTokens=${this.numTokens}`);return QNe(e,this.outputMode,this.numTokens,r)})}}pse.className="CategoryEncoding";Rt(pse);const HNe=["bilinear","nearest"],B7=new Set(HNe);class mse extends xr{constructor(e){if(super(e),this.height=e.height,this.width=e.width,e.interpolation)if(B7.has(e.interpolation))this.interpolation=e.interpolation;else throw new Pe(`Invalid interpolation parameter: ${e.interpolation} is not implemented`);else this.interpolation="bilinear";this.cropToAspectRatio=!!e.cropToAspectRatio}computeOutputShape(e){e=es(e);const n=e[2];return[this.height,this.width,n]}getConfig(){const e={height:this.height,width:this.width,interpolation:this.interpolation,cropToAspectRatio:this.cropToAspectRatio},n=super.getConfig();return Object.assign(e,n),e}call(e,n){return He(()=>{const r=[this.height,this.width];if(this.interpolation==="bilinear")return ou.resizeBilinear(e,r,!this.cropToAspectRatio);if(this.interpolation==="nearest")return ou.resizeNearestNeighbor(e,r,!this.cropToAspectRatio);throw new Error(`Interpolation is ${this.interpolation} but only ${[...B7]} are supported`)})}}mse.className="Resizing";Rt(mse);class gse{constructor(e){this.seed=e}next(){if(this.seed!==void 0)return this.seed++}}gse.className="RandomSeed";class yse extends xr{constructor(e){super(e),this.randomGenerator=new gse(e.seed)}getConfig(){const e={seed:this.randomGenerator.seed},n=super.getConfig();return Object.assign(e,n),e}}yse.className="BaseRandomLayer";const WNe=["bilinear","nearest"],E7=new Set(WNe);class xse extends yse{constructor(e){super(e);const{factor:n,interpolation:r="bilinear"}=e;if(this.factor=n,Array.isArray(this.factor)&&this.factor.length===2)this.widthLower=this.factor[0],this.widthUpper=this.factor[1];else if(!Array.isArray(this.factor)&&this.factor>0)this.widthLower=-this.factor,this.widthUpper=this.factor;else throw new Pe(`Invalid factor: ${this.factor}. Must be positive number or tuple of 2 numbers`);if(this.widthLower<-1||this.widthUpper<-1)throw new Pe(`factor must have values larger than -1. Got: ${this.factor}`);if(this.widthUpper<this.widthLower)throw new Pe(`factor cannot have upper bound less than lower bound.
        Got upper bound: ${this.widthUpper}.
        Got lower bound: ${this.widthLower}
      `);if(r)if(E7.has(r))this.interpolation=r;else throw new Pe(`Invalid interpolation parameter: ${r} is not implemented`)}getConfig(){const e={factor:this.factor,interpolation:this.interpolation},n=super.getConfig();return Object.assign(e,n),e}computeOutputShape(e){e=es(e);const n=e[2];return[this.imgHeight,-1,n]}call(e,n){return He(()=>{const r=Yn(e);this.imgHeight=r.shape[r.shape.length-3];const s=r.shape[r.shape.length-2];this.widthFactor=Bm([1],1+this.widthLower,1+this.widthUpper,"float32",this.randomGenerator.next());let i=this.widthFactor.dataSync()[0]*s;i=Math.round(i);const a=[this.imgHeight,i];switch(this.interpolation){case"bilinear":return ou.resizeBilinear(e,a);case"nearest":return ou.resizeNearestNeighbor(e,a);default:throw new Error(`Interpolation is ${this.interpolation}
          but only ${[...E7]} are supported`)}})}}xse.className="RandomWidth";Rt(xse);const VNe=Xe();VNe.registerFlag("KEEP_INTERMEDIATE_TENSORS",()=>!1,t=>{t&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")});var Sc;(function(t){t[t.DT_INVALID=0]="DT_INVALID",t[t.DT_FLOAT=1]="DT_FLOAT",t[t.DT_DOUBLE=2]="DT_DOUBLE",t[t.DT_INT32=3]="DT_INT32",t[t.DT_UINT8=4]="DT_UINT8",t[t.DT_INT16=5]="DT_INT16",t[t.DT_INT8=6]="DT_INT8",t[t.DT_STRING=7]="DT_STRING",t[t.DT_COMPLEX64=8]="DT_COMPLEX64",t[t.DT_INT64=9]="DT_INT64",t[t.DT_BOOL=10]="DT_BOOL",t[t.DT_QINT8=11]="DT_QINT8",t[t.DT_QUINT8=12]="DT_QUINT8",t[t.DT_QINT32=13]="DT_QINT32",t[t.DT_BFLOAT16=14]="DT_BFLOAT16",t[t.DT_QINT16=15]="DT_QINT16",t[t.DT_QUINT16=16]="DT_QUINT16",t[t.DT_UINT16=17]="DT_UINT16",t[t.DT_COMPLEX128=18]="DT_COMPLEX128",t[t.DT_HALF=19]="DT_HALF",t[t.DT_RESOURCE=20]="DT_RESOURCE",t[t.DT_VARIANT=21]="DT_VARIANT",t[t.DT_UINT32=22]="DT_UINT32",t[t.DT_UINT64=23]="DT_UINT64",t[t.DT_FLOAT_REF=101]="DT_FLOAT_REF",t[t.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",t[t.DT_INT32_REF=103]="DT_INT32_REF",t[t.DT_UINT8_REF=104]="DT_UINT8_REF",t[t.DT_INT16_REF=105]="DT_INT16_REF",t[t.DT_INT8_REF=106]="DT_INT8_REF",t[t.DT_STRING_REF=107]="DT_STRING_REF",t[t.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",t[t.DT_INT64_REF=109]="DT_INT64_REF",t[t.DT_BOOL_REF=110]="DT_BOOL_REF",t[t.DT_QINT8_REF=111]="DT_QINT8_REF",t[t.DT_QUINT8_REF=112]="DT_QUINT8_REF",t[t.DT_QINT32_REF=113]="DT_QINT32_REF",t[t.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",t[t.DT_QINT16_REF=115]="DT_QINT16_REF",t[t.DT_QUINT16_REF=116]="DT_QUINT16_REF",t[t.DT_UINT16_REF=117]="DT_UINT16_REF",t[t.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",t[t.DT_HALF_REF=119]="DT_HALF_REF",t[t.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",t[t.DT_VARIANT_REF=121]="DT_VARIANT_REF",t[t.DT_UINT32_REF=122]="DT_UINT32_REF",t[t.DT_UINT64_REF=123]="DT_UINT64_REF"})(Sc||(Sc={}));var I7;(function(t){(function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"})(t.CheckpointFormatVersion||(t.CheckpointFormatVersion={}))})(I7||(I7={}));const B$={};function qNe(t,e){const n={tfOpName:t,category:"custom",inputs:[],attrs:[],customExecutor:e};B$[t]=n}function bse(t){return B$[t]}function GNe(t){delete B$[t]}function Y(t,e,n,r,s){const i=e.inputParams[t];if(i&&i.inputIndexStart!==void 0){const o=i.inputIndexStart,c=i.inputIndexEnd===0?void 0:i.inputIndexEnd===void 0?o+1:i.inputIndexEnd,u=o<0?e.inputNames.length+o:o;if(i.type==="tensor")return Fo(e.inputNames[u],n,r,s);if(i.type==="tensors"){const h=e.inputs.slice(o,c);return e.inputNames.slice(o,c).filter((g,y)=>{var x;return((x=h[y])===null||x===void 0?void 0:x.op)!=="NoOp"}).map(g=>Fo(g,n,r,s))}const d=Fo(e.inputNames[u],n,r,s),f=d.dataSync();return i.type==="number"?f[0]:du(d.shape,f)}const a=e.attrParams[t];return a&&a.value}function Fo(t,e,n,r){const[s,i]=Cc(t,n);if(r!=null){const o=r.getHashTableHandleByName(s);if(o!=null)return o}const a=n.currentContextIds.find(o=>!!e[JB(s,o)]);return a!==void 0?e[JB(s,a)][i]:void 0}function N7(t,e,n){return e[JB(t,n.currentContextId)]}function th(t,e){const[n,r,s]=Cc(t,e);return[JB(n,e&&e.currentContextId),r,s]}function JB(t,e){return e?`${t}-${e}`:t}function Cc(t,e){if(t==="")return["",0,void 0];const n=e!=null&&e.parseNodeNameCache!=null;if(n){const i=e.parseNodeNameCache.get(t);if(i!=null)return i}const r=t.split(":");let s;if(r.length===1)s=[t,0,void 0];else{const i=r[0],a=r.length===3?r[1]:void 0,o=Number(r[r.length-1]);s=[i,o,a]}return n&&e.parseNodeNameCache.set(t,s),s}function aB(t,e,n){let r=Y("pad",t,e,n);if(r==="explicit"){r=Y("explicitPaddings",t,e,n);const s=[[0,0],[0,0],[0,0],[0,0]];for(let i=0;i<4;i++)s[i][0]=r[i*2],s[i][1]=r[i*2+1];return s}return r}function nh(t){return t.kept?t:Xf(t)}const KNe=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],XNe=Object.freeze(Object.defineProperty({__proto__:null,json:KNe},Symbol.toStringTag,{value:"Module"}));const YNe=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsFinite",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsInf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],JNe=Object.freeze(Object.defineProperty({__proto__:null,json:YNe},Symbol.toStringTag,{value:"Module"}));const ZNe=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}],e3e=Object.freeze(Object.defineProperty({__proto__:null,json:ZNe},Symbol.toStringTag,{value:"Module"}));const t3e=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],n3e=Object.freeze(Object.defineProperty({__proto__:null,json:t3e},Symbol.toStringTag,{value:"Module"}));const r3e=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniformInt",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number"},{tfName:"maxval",name:"maxval",type:"number"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],s3e=Object.freeze(Object.defineProperty({__proto__:null,json:r3e},Symbol.toStringTag,{value:"Module"}));const i3e=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],a3e=Object.freeze(Object.defineProperty({__proto__:null,json:i3e},Symbol.toStringTag,{value:"Module"}));const o3e=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],l3e=Object.freeze(Object.defineProperty({__proto__:null,json:o3e},Symbol.toStringTag,{value:"Module"}));const c3e=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],u3e=Object.freeze(Object.defineProperty({__proto__:null,json:c3e},Symbol.toStringTag,{value:"Module"}));const d3e=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"InitializeTable",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]},{tfOpName:"InitializeTableV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],f3e=Object.freeze(Object.defineProperty({__proto__:null,json:d3e},Symbol.toStringTag,{value:"Module"}));const A3e=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}],h3e=Object.freeze(Object.defineProperty({__proto__:null,json:A3e},Symbol.toStringTag,{value:"Module"}));const p3e=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BitwiseAnd",category:"logical",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}]}],m3e=Object.freeze(Object.defineProperty({__proto__:null,json:p3e},Symbol.toStringTag,{value:"Module"}));const g3e=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"MatrixBandPart",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"numLower",type:"tensor"},{start:1,name:"numUpper",type:"tensor"}]}],y3e=Object.freeze(Object.defineProperty({__proto__:null,json:g3e},Symbol.toStringTag,{value:"Module"}));const x3e=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]}],b3e=Object.freeze(Object.defineProperty({__proto__:null,json:x3e},Symbol.toStringTag,{value:"Module"}));const v3e=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],w3e=Object.freeze(Object.defineProperty({__proto__:null,json:v3e},Symbol.toStringTag,{value:"Module"}));const S3e=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]},{tfOpName:"TensorScatterUpdate",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],C3e=Object.freeze(Object.defineProperty({__proto__:null,json:S3e},Symbol.toStringTag,{value:"Module"}));const k3e=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],B3e=Object.freeze(Object.defineProperty({__proto__:null,json:k3e},Symbol.toStringTag,{value:"Module"}));const E3e=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],I3e=Object.freeze(Object.defineProperty({__proto__:null,json:E3e},Symbol.toStringTag,{value:"Module"}));const N3e=[{tfOpName:"StaticRegexReplace",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"pattern",name:"pattern",type:"string"},{tfName:"rewrite",name:"rewrite",type:"string"},{tfName:"replace_global",name:"replaceGlobal",type:"bool"}]},{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],j3e=Object.freeze(Object.defineProperty({__proto__:null,json:N3e},Symbol.toStringTag,{value:"Module"}));const T3e=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"EnsureShape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}],_3e=Object.freeze(Object.defineProperty({__proto__:null,json:T3e},Symbol.toStringTag,{value:"Module"}));class j7{static get Instance(){return this._instance||(this._instance=new this)}constructor(){const e=[XNe,JNe,e3e,n3e,s3e,a3e,l3e,u3e,f3e,h3e,m3e,y3e,b3e,w3e,C3e,B3e,I3e,j3e,_3e],n=[].concat(...e.map(r=>r.json));this.opMappers=n.reduce((r,s)=>(r[s.tfOpName]=s,r),{})}transformGraph(e,n={}){const r=e.node,s=[],i=[],a=[],o=r.reduce((y,x)=>(y[x.name]=this.mapNode(x),x.op.startsWith("Placeholder")?s.push(y[x.name]):x.op==="Const"?i.push(y[x.name]):(x.input==null||x.input.length===0)&&a.push(y[x.name]),y),{});let c=[];const u=[];let d={},f={};n!=null&&(d=this.mapSignatureEntries(n.inputs),f=this.mapSignatureEntries(n.outputs));const h=Object.keys(o);h.forEach(y=>{const x=o[y];x.inputNames.forEach((v,w)=>{const[B,,k]=th(v),E=o[B];if(E.outputs!=null){const N=E.outputs.indexOf(k);if(N!==-1){const O=`${B}:${N}`;x.inputNames[w]=O}}x.inputs.push(E),E.children.push(x)})}),Object.keys(f).length===0?h.forEach(y=>{const x=o[y];x.children.length===0&&u.push(x)}):Object.keys(f).forEach(y=>{const[x]=th(y),v=o[x];v!=null&&(v.signatureKey=f[y],u.push(v))}),Object.keys(d).length>0?Object.keys(d).forEach(y=>{const[x]=th(y),v=o[x];v&&(v.signatureKey=d[y],c.push(v))}):c=s;let m={};e.library!=null&&e.library.function!=null&&(m=e.library.function.reduce((y,x)=>(y[x.signature.name]=this.mapFunction(x),y),{}));const g={nodes:o,inputs:c,outputs:u,weights:i,placeholders:s,signature:n,functions:m};return a.length>0&&(g.initNodes=a),g}mapSignatureEntries(e){return Object.keys(e||{}).reduce((n,r)=>(n[e[r].name]=r,n),{})}mapNode(e){const n=bse(e.op)||this.opMappers[e.op]||{};e.attr==null&&(e.attr={});const r={name:e.name,op:e.op,category:n.category,inputNames:(e.input||[]).map(s=>s.startsWith("^")?s.slice(1):s),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:n.outputs};return n.inputs!=null&&(r.inputParams=n.inputs.reduce((s,i)=>(s[i.name]={type:i.type,inputIndexStart:i.start,inputIndexEnd:i.end},s),{})),n.attrs!=null&&(r.attrParams=n.attrs.reduce((s,i)=>{const a=i.type;let o;switch(i.type){case"string":o=TO(e.attr,i.tfName,i.defaultValue),o===void 0&&i.tfDeprecatedName&&(o=TO(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"string[]":o=$O(e.attr,i.tfName,i.defaultValue),o===void 0&&i.tfDeprecatedName&&(o=$O(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"number":o=RO(e.attr,i.tfName,i.defaultValue||0),o===void 0&&i.tfDeprecatedName&&(o=RO(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"number[]":o=LO(e.attr,i.tfName,i.defaultValue),o===void 0&&i.tfDeprecatedName&&(o=LO(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"bool":o=_O(e.attr,i.tfName,i.defaultValue),o===void 0&&i.tfDeprecatedName&&(o=_O(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"bool[]":o=UO(e.attr,i.tfName,i.defaultValue),o===void 0&&i.tfDeprecatedName&&(o=UO(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"shape":o=DO(e.attr,i.tfName,i.defaultValue),o===void 0&&i.tfDeprecatedName&&(o=DO(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"shape[]":o=PO(e.attr,i.tfName,i.defaultValue),o===void 0&&i.tfDeprecatedName&&(o=PO(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"dtype":o=OO(e.attr,i.tfName,i.defaultValue),o===void 0&&i.tfDeprecatedName&&(o=OO(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"dtype[]":o=FO(e.attr,i.tfName,i.defaultValue),o===void 0&&i.tfDeprecatedName&&(o=FO(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"func":o=T7(e.attr,i.tfName,i.defaultValue),o===void 0&&i.tfDeprecatedName&&(o=T7(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error(`Unsupported param type: ${i.type} for op: ${e.op}`)}return s[i.name]={value:o,type:a},s},{})),r}mapFunction(e){const n=e.nodeDef,r=[],s=[];let i={};n!=null&&(i=n.reduce((f,h)=>(f[h.name]=this.mapNode(h),h.op==="Const"&&s.push(f[h.name]),f),{}));const a=[],o=[];e.signature.inputArg.forEach(f=>{const[h]=th(f.name),m={name:h,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:E$(f.type),type:"dtype"}},children:[]};m.signatureKey=f.name,a.push(m),i[h]=m}),Object.keys(i).forEach(f=>{const h=i[f];h.inputNames.forEach((m,g)=>{const[y,,x]=th(m),v=i[y];if(v.outputs!=null){const w=v.outputs.indexOf(x);if(w!==-1){const B=`${y}:${w}`;h.inputNames[g]=B}}h.inputs.push(v),v.children.push(h)})});const u=e.ret;e.signature.outputArg.forEach(f=>{const[h,m]=th(u[f.name]),g=i[h];g!=null&&(g.defaultOutput=m,o.push(g))});const d=this.mapArgsToSignature(e);return{nodes:i,inputs:a,outputs:o,weights:s,placeholders:r,signature:d}}mapArgsToSignature(e){return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce((n,r)=>(n[r.name]=this.mapArgToTensorInfo(r),n),{}),outputs:e.signature.outputArg.reduce((n,r)=>(n[r.name]=this.mapArgToTensorInfo(r,e.ret),n),{})}}mapArgToTensorInfo(e,n){let r=e.name;return n!=null&&(r=n[r]),{name:r,dtype:e.type}}}function R3e(t){const e=Xe().global;if(typeof e.atob<"u")return e.atob(t);if(typeof Buffer<"u")return new Buffer(t,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}function vse(t,e){const n=Array.isArray(t)?String.fromCharCode.apply(null,t):R3e(t);return e?n:n.toLowerCase()}function TO(t,e,n,r=!1){const s=t[e];return s!=null?vse(s.s,r):n}function _O(t,e,n){const r=t[e];return r?r.b:n}function RO(t,e,n){const r=t[e]||{},s=r.i!=null?r.i:r.f!=null?r.f:n;return typeof s=="number"?s:parseInt(s,10)}function E$(t){switch(typeof t=="string"&&(t=Sc[t]),t){case Sc.DT_FLOAT:case Sc.DT_HALF:return"float32";case Sc.DT_INT32:case Sc.DT_INT64:case Sc.DT_INT8:case Sc.DT_UINT8:return"int32";case Sc.DT_BOOL:return"bool";case Sc.DT_DOUBLE:return"float32";case Sc.DT_STRING:return"string";case Sc.DT_COMPLEX64:case Sc.DT_COMPLEX128:return"complex64";default:return null}}function T7(t,e,n){const r=t[e];return r&&r.func?r.func.name:n}function OO(t,e,n){const r=t[e];return r&&r.type?E$(r.type):n}function FO(t,e,n){const r=t[e];return r&&r.list&&r.list.type?r.list.type.map(s=>E$(s)):n}function wse(t){if(!t.unknownRank)return t.dim!=null?t.dim.map(e=>typeof e.size=="number"?e.size:parseInt(e.size,10)):[]}function DO(t,e,n){const r=t[e];return r&&r.shape?wse(r.shape):n}function LO(t,e,n){const r=t[e];return r?((r.list.f&&r.list.f.length?r.list.f:r.list.i)||[]).map(s=>typeof s=="number"?s:parseInt(s,10)):n}function $O(t,e,n,r=!1){const s=t[e];return s&&s.list&&s.list.s?s.list.s.map(i=>vse(i,r)):n}function PO(t,e,n){const r=t[e];return r&&r.list&&r.list.shape?r.list.shape.map(s=>wse(s)):n}function UO(t,e,n){const r=t[e];return r&&r.list&&r.list.b?r.list.b:n}class O3e{constructor(e,n,r){this.node=e,this.tensorMap=n,this.context=r,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map(s=>this.getInput(s)),e.rawAttrs!=null&&(this.attrs=Object.keys(e.rawAttrs).reduce((s,i)=>(s[i]=this.getAttr(i),s),{}))}getInput(e){return Fo(e,this.tensorMap,this.context)}getAttr(e,n){const r=this.node.rawAttrs[e];if(r.tensor!=null)return Fo(e,this.tensorMap,this.context);if(r.i!=null||r.f!=null)return RO(this.node.rawAttrs,e,n);if(r.s!=null)return TO(this.node.rawAttrs,e,n);if(r.b!=null)return _O(this.node.rawAttrs,e,n);if(r.shape!=null)return DO(this.node.rawAttrs,e,n);if(r.type!=null)return OO(this.node.rawAttrs,e,n);if(r.list!=null){if(r.list.i!=null||r.list.f!=null)return LO(this.node.rawAttrs,e,n);if(r.list.s!=null)return $O(this.node.rawAttrs,e,n);if(r.list.shape!=null)return PO(this.node.rawAttrs,e,n);if(r.list.b!=null)return UO(this.node.rawAttrs,e,n);if(r.list.type!=null)return FO(this.node.rawAttrs,e,n)}return n}}const Ho=Object.freeze(Object.defineProperty({__proto__:null,OP_SCOPE_SUFFIX:AD,abs:Na,acos:vD,acosh:wD,add:jt,addN:uee,all:qI,any:k2,argMax:Gg,argMin:SD,asin:CD,asinh:kD,atan:BD,atan2:ED,atanh:ID,avgPool:v5,avgPool3d:jD,basicLSTMCell:dee,batchNorm:Dx,batchNorm2d:TD,batchNorm3d:_D,batchNorm4d:RD,batchToSpaceND:w5,bincount:OD,bitwiseAnd:fee,booleanMaskAsync:Xee,broadcastArgs:Aee,broadcastTo:Ig,buffer:cr,cast:Mt,ceil:FD,clipByValue:Yl,clone:Xf,complex:vh,concat:Wi,concat1d:DD,concat2d:S5,concat3d:LD,concat4d:$D,conv1d:GI,conv2d:wh,conv2dTranspose:KI,conv3d:UD,conv3dTranspose:zD,cos:C5,cosh:XI,cosineWindow:bN,cumprod:I2,cumsum:YI,denseBincount:zB,depthToSpace:MD,depthwiseConv2d:Lx,diag:pee,dilation2d:QD,div:un,divNoNan:HD,dot:WD,dropout:xL,einsum:cg,elu:$x,enclosingPowerOfTwo:bL,ensureShape:mee,equal:rd,erf:JI,euclideanNorm:qD,exp:Jl,expandDims:Oo,expm1:GD,eye:ZI,fft:L5,fill:v0,floor:Ux,floorDiv:VI,fused:ite,gather:zx,gatherND:ete,greater:rc,greaterEqual:$h,ifft:v1,imag:k5,image:ou,inTopKAsync:tte,irfft:hN,isFinite:KD,isInf:XD,isNaN:YD,leakyRelu:B5,less:g1,lessEqual:km,linalg:SL,linspace:xee,localResponseNormalization:JD,log:Rc,log1p:E5,logSigmoid:ZD,logSoftmax:tN,logSumExp:I5,logicalAnd:tf,logicalNot:N5,logicalOr:nN,logicalXor:eL,losses:fte,lowerBound:vee,matMul:fr,max:fu,maxPool:j5,maxPool3d:tL,maxPoolWithArgmax:wee,maximum:gA,mean:$i,meshgrid:See,min:m1,minimum:lm,mirrorPad:nL,mod:rL,moments:T5,movingAverage:Yee,mul:je,multiRNNCell:Cee,multinomial:kee,neg:Zs,norm:Px,notEqual:Yg,oneHot:y1,ones:Vl,onesLike:Oc,op:Ne,outerProduct:Bee,pad:Ph,pad1d:Eee,pad2d:Iee,pad3d:Nee,pad4d:jee,pool:sL,pow:oA,prelu:R5,print:bD,prod:iL,raggedGather:Tee,raggedRange:_ee,raggedTensorToTensor:Ree,rand:Oee,randomGamma:Lee,randomNormal:iN,randomStandardNormal:$ee,randomUniform:Bm,randomUniformInt:Pee,range:Jg,real:x1,reciprocal:cL,relu:ff,relu6:aN,reshape:Fe,reverse:hu,reverse1d:Uee,reverse2d:zee,reverse3d:Mee,reverse4d:Qee,rfft:$5,round:oN,rsqrt:lN,scalar:Fn,scatterND:Jee,searchSorted:rN,selu:cN,separableConv2d:uN,setdiff1dAsync:Hee,sigmoid:ed,sign:uL,signal:dte,sin:dN,sinh:fN,slice:Gn,slice1d:O5,slice2d:AN,slice3d:F5,slice4d:b1,softmax:D5,softplus:w0,spaceToBatchND:_5,sparse:Ate,sparseToDense:Zee,spectral:ute,split:Gl,sqrt:po,square:Ts,squaredDifference:pN,squeeze:td,stack:Zl,step:S0,stridedSlice:dL,string:hte,sub:Kt,sum:hn,tan:fL,tanh:om,tensor:Zu,tensor1d:Qa,tensor2d:qp,tensor3d:AL,tensor4d:Wee,tensor5d:Vee,tensor6d:qee,tensorScatterUpdate:Gee,tile:au,topk:pL,transpose:Br,truncatedNormal:gN,unique:mL,unsortedSegmentSum:yN,unstack:pu,upperBound:Kee,variable:gL,where:$o,whereAsync:yL,zeros:Ra,zerosLike:Lr},Symbol.toStringTag,{value:"Module"}));const F3e=(t,e,n,r=Ho)=>{switch(t.op){case"BiasAdd":case"AddV2":case"Add":return[r.add(Y("a",t,e,n),Y("b",t,e,n))];case"AddN":return[r.addN(Y("tensors",t,e,n))];case"FloorMod":case"Mod":return[r.mod(Y("a",t,e,n),Y("b",t,e,n))];case"Mul":return[r.mul(Y("a",t,e,n),Y("b",t,e,n))];case"RealDiv":case"Div":return[r.div(Y("a",t,e,n),Y("b",t,e,n))];case"DivNoNan":return[r.divNoNan(Y("a",t,e,n),Y("b",t,e,n))];case"FloorDiv":return[r.floorDiv(Y("a",t,e,n),Y("b",t,e,n))];case"Sub":return[r.sub(Y("a",t,e,n),Y("b",t,e,n))];case"Minimum":return[r.minimum(Y("a",t,e,n),Y("b",t,e,n))];case"Maximum":return[r.maximum(Y("a",t,e,n),Y("b",t,e,n))];case"Pow":return[r.pow(Y("a",t,e,n),Y("b",t,e,n))];case"SquaredDifference":return[r.squaredDifference(Y("a",t,e,n),Y("b",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};const D3e=(t,e,n,r=Ho)=>{switch(t.op){case"Abs":case"ComplexAbs":return[r.abs(Y("x",t,e,n))];case"Acos":return[r.acos(Y("x",t,e,n))];case"Acosh":return[r.acosh(Y("x",t,e,n))];case"Asin":return[r.asin(Y("x",t,e,n))];case"Asinh":return[r.asinh(Y("x",t,e,n))];case"Atan":return[r.atan(Y("x",t,e,n))];case"Atan2":return[r.atan2(Y("x",t,e,n),Y("y",t,e,n))];case"Atanh":return[r.atanh(Y("x",t,e,n))];case"Ceil":return[r.ceil(Y("x",t,e,n))];case"Complex":return[r.complex(Y("real",t,e,n),Y("imag",t,e,n))];case"Cos":return[r.cos(Y("x",t,e,n))];case"Cosh":return[r.cosh(Y("x",t,e,n))];case"Elu":return[r.elu(Y("x",t,e,n))];case"Erf":return[r.erf(Y("x",t,e,n))];case"Exp":return[r.exp(Y("x",t,e,n))];case"Expm1":return[r.expm1(Y("x",t,e,n))];case"Floor":return[r.floor(Y("x",t,e,n))];case"Log":return[r.log(Y("x",t,e,n))];case"Log1p":return[r.log1p(Y("x",t,e,n))];case"Imag":return[r.imag(Y("x",t,e,n))];case"Neg":return[r.neg(Y("x",t,e,n))];case"Reciprocal":return[r.reciprocal(Y("x",t,e,n))];case"Real":return[r.real(Y("x",t,e,n))];case"Relu":return[r.relu(Y("x",t,e,n))];case"Round":return[r.round(Y("x",t,e,n))];case"Selu":return[r.selu(Y("x",t,e,n))];case"Sigmoid":return[r.sigmoid(Y("x",t,e,n))];case"Sin":return[r.sin(Y("x",t,e,n))];case"Sign":return[r.sign(Y("x",t,e,n))];case"Sinh":return[r.sinh(Y("x",t,e,n))];case"Softplus":return[r.softplus(Y("x",t,e,n))];case"Sqrt":return[r.sqrt(Y("x",t,e,n))];case"Square":return[r.square(Y("x",t,e,n))];case"Tanh":return[r.tanh(Y("x",t,e,n))];case"Tan":return[r.tan(Y("x",t,e,n))];case"ClipByValue":return[r.clipByValue(Y("x",t,e,n),Y("clipValueMin",t,e,n),Y("clipValueMax",t,e,n))];case"Relu6":return[r.relu6(Y("x",t,e,n))];case"Rsqrt":return[r.rsqrt(Fo(t.inputNames[0],e,n))];case"LeakyRelu":return[r.leakyRelu(Y("x",t,e,n),Y("alpha",t,e,n))];case"Prelu":return[r.prelu(Y("x",t,e,n),Y("alpha",t,e,n))];case"IsNan":return[r.isNaN(Fo(t.inputNames[0],e,n))];case"IsInf":return[r.isInf(Fo(t.inputNames[0],e,n))];case"IsFinite":return[r.isFinite(Fo(t.inputNames[0],e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};function Qu(t,e,n=""){if(!(typeof t=="number"||typeof e=="number")){ce(t.length===e.length,()=>n+` Shapes ${t} and ${e} must match`);for(let r=0;r<t.length;r++){const s=t[r],i=e[r];ce(s<0||i<0||s===i,()=>n+` Shapes ${t} and ${e} must match`)}}}function _7(t){return!(typeof t=="number"||t.some(e=>e<0))}function cv(t,e,n){let r=zO(t,n);const s=!_7(r);if(s&&e.length===0)throw new Error(`Tried to calculate elements of an empty list with non-fully-defined elementShape: ${r}`);if(s&&e.forEach(i=>{r=zO(i.shape,r)}),!_7(r))throw new Error(`Non-fully-defined elementShape: ${r}`);return r}function zO(t,e){if(typeof t=="number")return e;if(typeof e=="number")return t;if(t.length!==e.length)throw new Error(`Incompatible ranks during merge: ${t} vs. ${e}`);const n=[];for(let r=0;r<t.length;++r){const s=t[r],i=e[r];if(s>=0&&i>=0&&s!==i)throw new Error(`Incompatible shape during merge: ${t} vs. ${e}`);n[r]=s>=0?s:i}return n}class L3e{constructor(e,n,r,s,i,a,o){this.name=e,this.dtype=n,this.maxSize=r,this.elementShape=s,this.identicalElementShapes=i,this.dynamicSize=a,this.clearAfterRead=o,this.tensors=[],this.closed_=!1,this.idTensor=Fn(0),Ma(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(e){this.tensors.forEach(n=>{(e==null||!e.has(n.tensor.id))&&n.tensor.dispose()}),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(e){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||e>=this.size())throw new Error(`Tried to read from index ${e}, but array size is: ${this.size()}`);const n=this.tensors[e];if(n.cleared)throw new Error(`TensorArray ${this.name}: Could not read index ${e} twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).`);return this.clearAfterRead&&(n.cleared=!0),n.read=!0,n.tensor}readMany(e){return e.map(n=>this.read(n))}write(e,n){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error(`Tried to write to index ${e}, but array is not resizeable and size is: ${this.maxSize}`);const r=this.tensors[e]||{};if(n.dtype!==this.dtype)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e},
          because the value dtype is ${n.dtype}, but TensorArray dtype is ${this.dtype}.`);if(this.size()===0&&(this.elementShape==null||this.elementShape.length===0)&&(this.elementShape=n.shape),Qu(this.elementShape,n.shape,`TensorArray ${this.name}: Could not write to TensorArray index ${e}.`),r.read)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been read.`);if(r.written)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been written.`);r.tensor=n,Ma(n),r.written=!0,this.tensors[e]=r}writeMany(e,n){if(e.length!==n.length)throw new Error(`TensorArray ${this.name}: could not write multiple tensors,because the index size: ${e.length} is not the same as tensors size: ${n.length}.`);e.forEach((r,s)=>this.write(r,n[s]))}gather(e,n){if(n&&n!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but gather requested dtype ${n}`);if(e)e=e.slice(0,this.size());else{e=[];for(let s=0;s<this.size();s++)e.push(s)}if(e.length===0)return Zu([],[0].concat(this.elementShape));const r=this.readMany(e);return Qu(this.elementShape,r[0].shape,"TensorArray shape mismatch: "),Zl(r,0)}concat(e){if(e&&e!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but concat requested dtype ${e}`);if(this.size()===0)return Zu([],[0].concat(this.elementShape));const n=[];for(let s=0;s<this.size();s++)n.push(s);const r=this.readMany(n);return Qu(this.elementShape,r[0].shape,`TensorArray shape mismatch: tensor array shape (${this.elementShape}) vs first tensor shape (${r[0].shape})`),Wi(r,0)}scatter(e,n){if(n.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${n.dtype}`);if(e.length!==n.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${n.shape[0]}`);const r=Math.max(...e);if(!this.dynamicSize&&r>=this.maxSize)throw new Error(`Max index must be < array size (${r}  vs. ${this.maxSize})`);this.writeMany(e,pu(n,0))}split(e,n){if(n.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${n.dtype}`);let r=0;const s=e.map(c=>(r+=c,r));if(r!==n.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        ${r}, and tensor's shape is: ${n.shape}`);if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error(`TensorArray's size is not equal to the size of lengths (${this.maxSize} vs. ${e.length}), and the TensorArray is not marked as dynamically resizeable`);const i=r===0?0:n.size/r,a=[];He(()=>{n=Fe(n,[1,r,i]);for(let c=0;c<e.length;++c){const d=[0,c===0?0:s[c-1],0],f=[1,e[c],i];a[c]=Fe(Gn(n,d,f),this.elementShape)}return a});const o=[];for(let c=0;c<e.length;c++)o[c]=c;this.writeMany(o,a)}}class t0{get id(){return this.idTensor.id}constructor(e,n,r,s=-1){this.tensors=e,this.elementShape=n,this.elementDtype=r,e?.forEach(i=>{if(r!==i.dtype)throw new Error(`Invalid data types; op elements ${r}, but list elements ${i.dtype}`);Qu(n,i.shape,"TensorList shape mismatch: "),Ma(i)}),this.idTensor=Fn(0),this.maxNumElements=s,Ma(this.idTensor)}copy(){return new t0([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(e){this.tensors.forEach(n=>{(e==null||!e.has(n.id))&&n.dispose()}),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(e,n,r=-1){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(r!==-1&&this.tensors.length!==r)throw new Error(`Operation expected a list with ${r} elements but got a list with ${this.tensors.length} elements.`);Qu(e,this.elementShape,"TensorList shape mismatch: ");const s=cv(this.elementShape,this.tensors,e);return He(()=>{const i=this.tensors.map(a=>Fe(a,s));return Zl(i,0)})}popBack(e,n){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(this.size()===0)throw new Error("Trying to pop from an empty list.");const r=cv(this.elementShape,this.tensors,e),s=this.tensors.pop();return s.kept=!1,Qu(s.shape,e,"TensorList shape mismatch: "),Fe(s,r)}pushBack(e){if(e.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${this.elementDtype}`);if(Qu(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");Ma(e),this.tensors.push(e)}resize(e){if(e<0)throw new Error(`TensorListResize expects size to be non-negative. Got: ${e}`);if(this.maxNumElements!==-1&&e>this.maxNumElements)throw new Error(`TensorListResize input size ${e} is greater maxNumElement ${this.maxNumElements}.`);const n=new t0([],this.elementShape,this.elementDtype,this.maxNumElements);n.tensors.length=e;for(let r=0;r<Math.min(this.tensors.length,e);++r)n.tensors[r]=this.tensors[r];return n}getItem(e,n,r){if(r!==this.elementDtype)throw new Error(`Invalid data types; op elements ${r}, but list elements ${this.elementDtype}`);if(e<0||e>this.tensors.length)throw new Error(`Trying to access element ${e} in a list with ${this.tensors.length} elements.`);if(this.tensors[e]==null)throw new Error(`element at index ${e} is null.`);Qu(this.tensors[e].shape,n,"TensorList shape mismatch: ");const s=cv(this.elementShape,this.tensors,n);return Fe(this.tensors[e],s)}setItem(e,n){if(n.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n.dtype}, but list elements ${this.elementDtype}`);if(e<0||this.maxNumElements!==-1&&e>=this.maxNumElements)throw new Error(`Trying to set element ${e} in a list with max ${this.maxNumElements} elements.`);Qu(this.elementShape,n.shape,"TensorList shape mismatch: "),Ma(n),this.tensors[e]!=null&&(this.tensors[e].kept=!1),this.tensors[e]=n}gather(e,n,r){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);Qu(this.elementShape,r,"TensorList shape mismatch: "),e=e.slice(0,this.size());const s=cv(this.elementShape,this.tensors,r);return e.length===0?Zu([],[0].concat(s)):He(()=>{const i=e.map(a=>Fe(this.tensors[a],s));return Zl(i,0)})}concat(e,n){if(e&&e!==this.elementDtype)throw new Error(`TensorList dtype is ${this.elementDtype} but concat requested dtype ${e}`);Qu(this.elementShape,n,"TensorList shape mismatch: ");const r=cv(this.elementShape,this.tensors,n);return this.size()===0?Zu([],[0].concat(r)):He(()=>{const s=this.tensors.map(i=>Fe(i,r));return Wi(s,0)})}}function $3e(t,e,n){const r=t.dtype;if(t.shape.length<1)throw new Error(`Tensor must be at least a vector, but saw shape: ${t.shape}`);if(t.dtype!==n)throw new Error(`Invalid data types; op elements ${t.dtype}, but list elements ${n}`);const s=t.shape.slice(1);Qu(s,e,"TensorList shape mismatch: ");const i=pu(t);return new t0(i,e,r)}function P3e(t,e,n,r){return new t0([],t,e,r)}function U3e(t,e,n,r){if(e.length!==t.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${t.shape[0]}`);const s=Math.max(...e);if(r!=null&&r!==-1&&s>=r)throw new Error(`Max index must be < array size (${s}  vs. ${r})`);const i=new t0([],n,t.dtype,r),a=pu(t,0);return e.forEach((o,c)=>{i.setItem(o,a[c])}),i}function z3e(t,e,n){let r=0;const s=e.map(d=>(r+=d,r));if(r!==t.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        ${r}, and tensor's shape is: ${t.shape}`);const i=t.shape.slice(1),a=zO(i,n),o=r===0?0:t.size/r,c=He(()=>{const d=[];t=Fe(t,[1,r,o]);for(let f=0;f<e.length;++f){const m=[0,f===0?0:s[f-1],0],g=[1,e[f],o];d[f]=Fe(Gn(t,m,g),a)}return t.dispose(),d}),u=new t0([],n,t.dtype,e.length);for(let d=0;d<c.length;d++)u.setItem(d,c[d]);return u}const M3e=async(t,e,n)=>{switch(t.op){case"If":case"StatelessIf":{const r=Y("thenBranch",t,e,n),s=Y("elseBranch",t,e,n),i=Y("cond",t,e,n),a=Y("args",t,e,n);return(await i.data())[0]?n.functionMap[r].executeFunctionAsync(a,n.tensorArrayMap,n.tensorListMap):n.functionMap[s].executeFunctionAsync(a,n.tensorArrayMap,n.tensorListMap)}case"While":case"StatelessWhile":{const r=Y("body",t,e,n),s=Y("cond",t,e,n),i=Y("args",t,e,n),a=await n.functionMap[s].executeFunctionAsync(i,n.tensorArrayMap,n.tensorListMap),o=i.map(d=>d.id);let c=await a[0].data();a.forEach(d=>{!d.kept&&o.indexOf(d.id)===-1&&d.dispose()});let u=i;for(;c[0];){const d=u;u=await n.functionMap[r].executeFunctionAsync(u,n.tensorArrayMap,n.tensorListMap);const f=u.map(m=>m.id);d.forEach(m=>{!m.kept&&o.indexOf(m.id)===-1&&f.indexOf(m.id)===-1&&m.dispose()});const h=await n.functionMap[s].executeFunctionAsync(u,n.tensorArrayMap,n.tensorListMap);c=await h[0].data(),h.forEach(m=>{!m.kept&&o.indexOf(m.id)===-1&&f.indexOf(m.id)===-1&&m.dispose()})}return u}case"LoopCond":{const r=Y("pred",t,e,n);return[nh(r)]}case"Switch":{const r=Y("pred",t,e,n);let s=Y("data",t,e,n);return s.kept||(s=nh(s)),(await r.data())[0]?[void 0,s]:[s,void 0]}case"Merge":{const r=t.inputNames.find(s=>Fo(s,e,n)!==void 0);if(r){const s=Fo(r,e,n);return[nh(s)]}return}case"Enter":{const r=Y("frameName",t,e,n),s=Y("tensor",t,e,n);return n.enterFrame(r),[nh(s)]}case"Exit":{const r=Y("tensor",t,e,n);return n.exitFrame(),[nh(r)]}case"NextIteration":{const r=Y("tensor",t,e,n);return n.nextIteration(),[nh(r)]}case"TensorArrayV3":{const r=Y("size",t,e,n),s=Y("dtype",t,e,n),i=Y("elementShape",t,e,n),a=Y("dynamicSize",t,e,n),o=Y("clearAfterRead",t,e,n),c=Y("identicalElementShapes",t,e,n),u=Y("name",t,e,n),d=new L3e(u,s,r,i,c,a,o);return n.addTensorArray(d),[d.idTensor,Fn(1)]}case"TensorArrayWriteV3":{const r=Y("tensorArrayId",t,e,n),s=Y("index",t,e,n),i=Y("tensor",t,e,n),a=n.getTensorArray(r.id);return a.write(s,i),[a.idTensor]}case"TensorArrayReadV3":{const r=Y("tensorArrayId",t,e,n),s=Y("index",t,e,n);return[n.getTensorArray(r.id).read(s)]}case"TensorArrayGatherV3":{const r=Y("tensorArrayId",t,e,n),s=Y("indices",t,e,n),i=Y("dtype",t,e,n);return[n.getTensorArray(r.id).gather(s,i)]}case"TensorArrayScatterV3":{const r=Y("tensorArrayId",t,e,n),s=Y("indices",t,e,n),i=Y("tensor",t,e,n),a=n.getTensorArray(r.id);return a.scatter(s,i),[a.idTensor]}case"TensorArrayConcatV3":{const r=Y("tensorArrayId",t,e,n),s=n.getTensorArray(r.id),i=Y("dtype",t,e,n);return[s.concat(i)]}case"TensorArraySplitV3":{const r=Y("tensorArrayId",t,e,n),s=Y("tensor",t,e,n),i=Y("lengths",t,e,n),a=n.getTensorArray(r.id);return a.split(i,s),[a.idTensor]}case"TensorArraySizeV3":{const r=Y("tensorArrayId",t,e,n),s=n.getTensorArray(r.id);return[Fn(s.size(),"int32")]}case"TensorArrayCloseV3":{const r=Y("tensorArrayId",t,e,n),s=n.getTensorArray(r.id);return s.clearAndClose(),[s.idTensor]}case"TensorListSetItem":{const r=Y("tensorListId",t,e,n),s=Y("index",t,e,n),i=Y("tensor",t,e,n),a=n.getTensorList(r.id);return a.setItem(s,i),[a.idTensor]}case"TensorListGetItem":{const r=Y("tensorListId",t,e,n),s=Y("index",t,e,n),i=Y("elementShape",t,e,n),a=Y("elementDType",t,e,n);return[n.getTensorList(r.id).getItem(s,i,a)]}case"TensorListScatterV2":case"TensorListScatter":{const r=Y("indices",t,e,n),s=Y("tensor",t,e,n),i=Y("elementShape",t,e,n),a=Y("numElements",t,e,n),o=U3e(s,r,i,a);return n.addTensorList(o),[o.idTensor]}case"TensorListReserve":case"EmptyTensorList":{const r=Y("elementShape",t,e,n),s=Y("elementDType",t,e,n);let i;t.op==="TensorListReserve"?i="numElements":i="maxNumElements";const a=Y(i,t,e,n),o=t.op==="TensorListReserve"?-1:a,c=P3e(r,s,a,o);return n.addTensorList(c),[c.idTensor]}case"TensorListGather":{const r=Y("tensorListId",t,e,n),s=Y("indices",t,e,n),i=Y("elementShape",t,e,n),a=Y("elementDType",t,e,n);return[n.getTensorList(r.id).gather(s,a,i)]}case"TensorListStack":{const r=Y("tensorListId",t,e,n),s=Y("elementShape",t,e,n),i=Y("elementDType",t,e,n),a=Y("numElements",t,e,n);return[n.getTensorList(r.id).stack(s,i,a)]}case"TensorListFromTensor":{const r=Y("tensor",t,e,n),s=Y("elementShape",t,e,n),i=Y("elementDType",t,e,n),a=$3e(r,s,i);return n.addTensorList(a),[a.idTensor]}case"TensorListConcat":case"TensorListConcatV2":{const r=Y("tensorListId",t,e,n),s=n.getTensorList(r.id),i=Y("dtype",t,e,n),a=Y("elementShape",t,e,n);return[s.concat(i,a)]}case"TensorListPushBack":{const r=Y("tensorListId",t,e,n),s=Y("tensor",t,e,n),i=n.getTensorList(r.id);return i.pushBack(s),[i.idTensor]}case"TensorListPopBack":{const r=Y("tensorListId",t,e,n),s=Y("elementShape",t,e,n),i=Y("elementDType",t,e,n);return[n.getTensorList(r.id).popBack(s,i)]}case"TensorListSplit":{const r=Y("tensor",t,e,n),s=Y("elementShape",t,e,n),i=Y("lengths",t,e,n),a=z3e(r,i,s);return n.addTensorList(a),[a.idTensor]}case"TensorListLength":{const r=Y("tensorListId",t,e,n),s=n.getTensorList(r.id);return[Fn(s.size(),"int32")]}case"TensorListResize":{const r=Y("tensorListId",t,e,n),s=Y("size",t,e,n),a=n.getTensorList(r.id).resize(s);return n.addTensorList(a),[a.idTensor]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};function R7(t,e,n){const[r,s]=Y("fusedOps",t,e,n),i=r==="biasadd",a=!i,o=s==="prelu",c=r==="fusedbatchnorm",u=Y("numArgs",t,e,n);if(i){if(o&&u!==2)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!o&&i&&u!==1)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(c)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");const d=Y("strides",t,e,n),f=aB(t,e,n),h=Y("dataFormat",t,e,n).toUpperCase(),m=Y("dilations",t,e,n);let[g,y]=Y("args",t,e,n);a&&(y=g,g=void 0);const x=Y("leakyreluAlpha",t,e,n);return{stride:d,pad:f,dataFormat:h,dilations:m,biasArg:g,preluArg:y,activationFunc:s,leakyreluAlpha:x}}const Q3e=(t,e,n,r=Ho)=>{switch(t.op){case"Conv1D":{const s=Y("stride",t,e,n),i=Y("pad",t,e,n),a=Y("dataFormat",t,e,n).toUpperCase(),o=Y("dilation",t,e,n);return[r.conv1d(Y("x",t,e,n),Y("filter",t,e,n),s,i,a,o)]}case"Conv2D":{const s=Y("strides",t,e,n),i=aB(t,e,n),a=Y("dataFormat",t,e,n).toUpperCase(),o=Y("dilations",t,e,n);return[r.conv2d(Y("x",t,e,n),Y("filter",t,e,n),[s[1],s[2]],i,a,[o[1],o[2]])]}case"_FusedConv2D":{const{stride:s,pad:i,dataFormat:a,dilations:o,biasArg:c,preluArg:u,activationFunc:d,leakyreluAlpha:f}=R7(t,e,n);return[r.fused.conv2d({x:Y("x",t,e,n),filter:Y("filter",t,e,n),strides:[s[1],s[2]],pad:i,dataFormat:a,dilations:[o[1],o[2]],bias:c,activation:d,preluActivationWeights:u,leakyreluAlpha:f})]}case"FusedDepthwiseConv2dNative":{const{stride:s,pad:i,dataFormat:a,dilations:o,biasArg:c,preluArg:u,activationFunc:d,leakyreluAlpha:f}=R7(t,e,n);return[r.fused.depthwiseConv2d({x:Y("x",t,e,n),filter:Y("filter",t,e,n),strides:[s[1],s[2]],pad:i,dataFormat:a,dilations:[o[1],o[2]],bias:c,activation:d,preluActivationWeights:u,leakyreluAlpha:f})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{const s=Y("outputShape",t,e,n),i=Y("strides",t,e,n),a=aB(t,e,n);return[r.conv2dTranspose(Y("x",t,e,n),Y("filter",t,e,n),s,[i[1],i[2]],a)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{const s=Y("strides",t,e,n),i=aB(t,e,n),a=Y("dilations",t,e,n),o=Y("dataFormat",t,e,n).toUpperCase();return[r.depthwiseConv2d(Y("input",t,e,n),Y("filter",t,e,n),[s[1],s[2]],i,o,[a[1],a[2]])]}case"Conv3D":{const s=Y("strides",t,e,n),i=Y("pad",t,e,n),a=Y("dataFormat",t,e,n).toUpperCase(),o=Y("dilations",t,e,n);return[r.conv3d(Y("x",t,e,n),Y("filter",t,e,n),[s[1],s[2],s[3]],i,a,[o[1],o[2],o[3]])]}case"AvgPool":{const s=Y("strides",t,e,n),i=Y("pad",t,e,n),a=Y("kernelSize",t,e,n);return[r.avgPool(Y("x",t,e,n),[a[1],a[2]],[s[1],s[2]],i)]}case"MaxPool":{const s=Y("strides",t,e,n),i=Y("pad",t,e,n),a=Y("kernelSize",t,e,n);return[r.maxPool(Y("x",t,e,n),[a[1],a[2]],[s[1],s[2]],i)]}case"MaxPoolWithArgmax":{const s=Y("strides",t,e,n),i=Y("pad",t,e,n),a=Y("kernelSize",t,e,n),o=Y("includeBatchInIndex",t,e,n),{result:c,indexes:u}=r.maxPoolWithArgmax(Y("x",t,e,n),[a[1],a[2]],[s[1],s[2]],i,o);return[c,u]}case"AvgPool3D":{const s=Y("strides",t,e,n),i=Y("pad",t,e,n),a=Y("kernelSize",t,e,n);return[r.avgPool3d(Y("x",t,e,n),[a[1],a[2],a[3]],[s[1],s[2],s[3]],i)]}case"MaxPool3D":{const s=Y("strides",t,e,n),i=Y("pad",t,e,n),a=Y("kernelSize",t,e,n);return[r.maxPool3d(Y("x",t,e,n),[a[1],a[2],a[3]],[s[1],s[2],s[3]],i)]}case"Dilation2D":{const s=Y("strides",t,e,n),i=Y("pad",t,e,n),a=Y("dilations",t,e,n),o=s[1],c=s[2],u=a[1],d=a[2];return[r.dilation2d(Y("x",t,e,n),Y("filter",t,e,n),[o,c],i,[u,d],"NHWC")]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};const H3e=(t,e,n,r=Ho)=>{switch(t.op){case"Fill":{const s=Y("shape",t,e,n),i=Y("dtype",t,e,n),a=Y("value",t,e,n);return[r.fill(s,a,i)]}case"LinSpace":{const s=Y("start",t,e,n),i=Y("stop",t,e,n),a=Y("num",t,e,n);return[r.linspace(s,i,a)]}case"Multinomial":{const s=Y("logits",t,e,n),i=Y("numSamples",t,e,n),a=Y("seed",t,e,n);return[r.multinomial(s,i,a)]}case"OneHot":{const s=Y("indices",t,e,n),i=Y("depth",t,e,n),a=Y("onValue",t,e,n),o=Y("offValue",t,e,n),c=Y("dtype",t,e,n);return[r.oneHot(s,i,a,o,c)]}case"Ones":return[r.ones(Y("shape",t,e,n),Y("dtype",t,e,n))];case"OnesLike":return[r.onesLike(Y("x",t,e,n))];case"RandomStandardNormal":return[r.randomStandardNormal(Y("shape",t,e,n),Y("dtype",t,e,n),Y("seed",t,e,n))];case"RandomUniform":return[r.randomUniform(Y("shape",t,e,n),Y("minval",t,e,n),Y("maxval",t,e,n),Y("dtype",t,e,n))];case"RandomUniformInt":return[r.randomUniformInt(Y("shape",t,e,n),Y("minval",t,e,n),Y("maxval",t,e,n),Y("seed",t,e,n))];case"Range":{const s=Y("start",t,e,n),i=Y("stop",t,e,n),a=Y("step",t,e,n);return[r.range(s,i,a,Y("dtype",t,e,n))]}case"TruncatedNormal":{const s=Y("shape",t,e,n),i=Y("mean",t,e,n),a=Y("stdDev",t,e,n),o=Y("seed",t,e,n);return[r.truncatedNormal(s,i,a,Y("dtype",t,e,n),o)]}case"Zeros":return[r.zeros(Y("shape",t,e,n),Y("dtype",t,e,n))];case"ZerosLike":return[r.zerosLike(Y("x",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};function XT(t,e,n){const r=Y("boxes",t,e,n),s=Y("scores",t,e,n),i=Y("maxOutputSize",t,e,n),a=Y("iouThreshold",t,e,n),o=Y("scoreThreshold",t,e,n),c=Y("softNmsSigma",t,e,n);return{boxes:r,scores:s,maxOutputSize:i,iouThreshold:a,scoreThreshold:o,softNmsSigma:c}}const W3e=async(t,e,n,r,s=Ho)=>{switch(t.op){case"NonMaxSuppressionV5":{const{boxes:i,scores:a,maxOutputSize:o,iouThreshold:c,scoreThreshold:u,softNmsSigma:d}=XT(t,e,n),f=await s.image.nonMaxSuppressionWithScoreAsync(i,a,o,c,u,d);return[f.selectedIndices,f.selectedScores]}case"NonMaxSuppressionV4":{const{boxes:i,scores:a,maxOutputSize:o,iouThreshold:c,scoreThreshold:u}=XT(t,e,n),d=Y("padToMaxOutputSize",t,e,n),f=await s.image.nonMaxSuppressionPaddedAsync(i,a,o,c,u,d);return[f.selectedIndices,f.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{const{boxes:i,scores:a,maxOutputSize:o,iouThreshold:c,scoreThreshold:u}=XT(t,e,n);return[await s.image.nonMaxSuppressionAsync(i,a,o,c,u)]}case"Where":{const i=s.cast(Y("condition",t,e,n),"bool"),a=[await s.whereAsync(i)];return i.dispose(),a}case"ListDiff":return s.setdiff1dAsync(Y("x",t,e,n),Y("y",t,e,n));default:throw TypeError(`Node type ${t.op} is not implemented`)}};const V3e=(t,e,n,r=Ho)=>{switch(t.op){case"LowerBound":{const s=Y("sortedSequence",t,e,n),i=Y("values",t,e,n);return[r.lowerBound(s,i)]}case"TopKV2":{const s=Y("x",t,e,n),i=Y("k",t,e,n),a=Y("sorted",t,e,n),o=r.topk(s,i,a);return[o.values,o.indices]}case"UpperBound":{const s=Y("sortedSequence",t,e,n),i=Y("values",t,e,n);return[r.upperBound(s,i)]}case"Unique":{const s=Y("x",t,e,n),i=r.unique(s);return[i.values,i.indices]}case"UniqueV2":{const s=Y("x",t,e,n),i=Y("axis",t,e,n),a=r.unique(s,i);return[a.values,a.indices]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};const q3e=(t,e,n,r=Ho)=>{switch(t.op){case"Const":return e[t.name];case"PlaceholderWithDefault":const s=Y("default",t,e,n);return[Fo(t.name,e,n)||s];case"Placeholder":return[Fo(t.name,e,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":{const d=Y("x",t,e,n);return[nh(d)]}case"IdentityN":return Y("x",t,e,n).map(d=>nh(d));case"Snapshot":const i=Y("x",t,e,n);return[nh(i)];case"Shape":return[r.tensor1d(Y("x",t,e,n).shape,"int32")];case"ShapeN":return Y("x",t,e,n).map(d=>r.tensor1d(d.shape));case"Size":return[r.scalar(Y("x",t,e,n).size,"int32")];case"Rank":return[r.scalar(Y("x",t,e,n).rank,"int32")];case"NoOp":return[r.scalar(1)];case"Print":const a=Y("x",t,e,n),o=Y("data",t,e,n),c=Y("message",t,e,n),u=Y("summarize",t,e,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(c);for(let d=0;d<o.length;d++)console.log(Array.prototype.slice.call(o[d].dataSync()).slice(0,u));return[a];default:throw TypeError(`Node type ${t.op} is not implemented`)}};class G3e{get id(){return this.handle.id}constructor(e,n){this.keyDType=e,this.valueDType=n,this.handle=Fn(0),this.tensorMap=new Map,Ma(this.handle)}clearAndClose(){this.tensorMap.forEach(e=>e.dispose()),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}tensorSize(){return Fn(this.size(),"int32")}async import(e,n){this.checkKeyAndValueTensor(e,n);const r=await e.data();return this.tensorMap.forEach(s=>s.dispose()),this.tensorMap.clear(),He(()=>{const s=pu(n),i=r.length,a=s.length;ce(i===a,()=>`The number of elements doesn't match, keys has ${i} elements, the values has ${a} elements.`);for(let o=0;o<i;o++){const c=r[o],u=s[o];Ma(u),this.tensorMap.set(c,u)}return this.handle})}async find(e,n){this.checkKeyAndValueTensor(e,n);const r=await e.data();return He(()=>{const s=[];for(let i=0;i<r.length;i++){const a=r[i],o=this.findWithDefault(a,n);s.push(o)}return Zl(s)})}findWithDefault(e,n){const r=this.tensorMap.get(e);return r??n}checkKeyAndValueTensor(e,n){if(e.dtype!==this.keyDType)throw new Error(`Expect key dtype ${this.keyDType}, but got ${e.dtype}`);if(n.dtype!==this.valueDType)throw new Error(`Expect value dtype ${this.valueDType}, but got ${n.dtype}`)}}const K3e=async(t,e,n,r)=>{switch(t.op){case"HashTable":case"HashTableV2":{const s=r.getHashTableHandleByName(t.name);if(s!=null)return[s];{const i=Y("keyDType",t,e,n),a=Y("valueDType",t,e,n),o=new G3e(i,a);return r.addHashTable(t.name,o),[o.handle]}}case"InitializeTable":case"InitializeTableV2":case"LookupTableImport":case"LookupTableImportV2":{const s=Y("tableHandle",t,e,n,r),i=Y("keys",t,e,n),a=Y("values",t,e,n);return[await r.getHashTableById(s.id).import(i,a)]}case"LookupTableFind":case"LookupTableFindV2":{const s=Y("tableHandle",t,e,n,r),i=Y("keys",t,e,n),a=Y("defaultValue",t,e,n);return[await r.getHashTableById(s.id).find(i,a)]}case"LookupTableSize":case"LookupTableSizeV2":{const s=Y("tableHandle",t,e,n,r);return[r.getHashTableById(s.id).tensorSize()]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};const X3e=(t,e,n,r=Ho)=>{switch(t.op){case"ResizeBilinear":{const s=Y("images",t,e,n),i=Y("size",t,e,n),a=Y("alignCorners",t,e,n),o=Y("halfPixelCenters",t,e,n);return[r.image.resizeBilinear(s,[i[0],i[1]],a,o)]}case"ResizeNearestNeighbor":{const s=Y("images",t,e,n),i=Y("size",t,e,n),a=Y("alignCorners",t,e,n),o=Y("halfPixelCenters",t,e,n);return[r.image.resizeNearestNeighbor(s,[i[0],i[1]],a,o)]}case"CropAndResize":{const s=Y("image",t,e,n),i=Y("boxes",t,e,n),a=Y("boxInd",t,e,n),o=Y("cropSize",t,e,n),c=Y("method",t,e,n),u=Y("extrapolationValue",t,e,n);return[r.image.cropAndResize(s,i,a,o,c,u)]}case"ImageProjectiveTransformV3":{const s=Y("images",t,e,n),i=Y("transforms",t,e,n),a=Y("outputShape",t,e,n),o=Y("fillValue",t,e,n),c=Y("interpolation",t,e,n),u=Y("fillMode",t,e,n);return[r.image.transform(s,i,c.toLowerCase(),u.toLowerCase(),o,a)]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};const Y3e=(t,e,n,r=Ho)=>{switch(t.op){case"Equal":return[r.equal(Y("a",t,e,n),Y("b",t,e,n))];case"NotEqual":return[r.notEqual(Y("a",t,e,n),Y("b",t,e,n))];case"Greater":return[r.greater(Y("a",t,e,n),Y("b",t,e,n))];case"GreaterEqual":return[r.greaterEqual(Y("a",t,e,n),Y("b",t,e,n))];case"Less":return[r.less(Y("a",t,e,n),Y("b",t,e,n))];case"LessEqual":return[r.lessEqual(Y("a",t,e,n),Y("b",t,e,n))];case"LogicalAnd":return[r.logicalAnd(Y("a",t,e,n),Y("b",t,e,n))];case"LogicalNot":return[r.logicalNot(Y("a",t,e,n))];case"LogicalOr":return[r.logicalOr(Y("a",t,e,n),Y("b",t,e,n))];case"Select":case"SelectV2":return[r.where(Y("condition",t,e,n),Y("a",t,e,n),Y("b",t,e,n))];case"BitwiseAnd":return[r.bitwiseAnd(Y("a",t,e,n),Y("b",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};const J3e=(t,e,n,r=Ho)=>{switch(t.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[r.matMul(Y("a",t,e,n),Y("b",t,e,n),Y("transposeA",t,e,n),Y("transposeB",t,e,n))];case"Einsum":return[r.einsum(Y("equation",t,e,n),...Y("tensors",t,e,n))];case"Transpose":return[r.transpose(Y("x",t,e,n),Y("perm",t,e,n))];case"_FusedMatMul":const[s,i]=Y("fusedOps",t,e,n),a=s==="biasadd",o=i==="prelu",c=Y("numArgs",t,e,n),u=Y("leakyreluAlpha",t,e,n);if(a){if(o&&c!==2)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!o&&c!==1)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}const[d,f]=Y("args",t,e,n);return[r.fused.matMul({a:Y("a",t,e,n),b:Y("b",t,e,n),transposeA:Y("transposeA",t,e,n),transposeB:Y("transposeB",t,e,n),bias:d,activation:i,preluActivationWeights:f,leakyreluAlpha:u})];case"MatrixBandPart":return[r.linalg.bandPart(Y("a",t,e,n),Y("numLower",t,e,n),Y("numUpper",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};const Z3e=(t,e,n,r=Ho)=>{switch(t.op){case"EuclideanNorm":return[r.euclideanNorm(Y("x",t,e,n),Y("axis",t,e,n),Y("keepDims",t,e,n))];case"FusedBatchNorm":case"FusedBatchNormV2":return[r.batchNorm(Y("x",t,e,n),Y("mean",t,e,n),Y("variance",t,e,n),Y("offset",t,e,n),Y("scale",t,e,n),Y("epsilon",t,e,n))];case"FusedBatchNormV3":return[r.batchNorm(Y("x",t,e,n),Y("mean",t,e,n),Y("variance",t,e,n),Y("offset",t,e,n),Y("scale",t,e,n),Y("epsilon",t,e,n))];case"LRN":return[r.localResponseNormalization(Y("x",t,e,n),Y("radius",t,e,n),Y("bias",t,e,n),Y("alpha",t,e,n),Y("beta",t,e,n))];case"Softmax":return[r.softmax(Y("x",t,e,n))];case"LogSoftmax":return[r.logSoftmax(Y("x",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};const eje=(t,e,n,r=Ho)=>{switch(t.op){case"RaggedGather":{const{outputNestedSplits:s,outputDenseValues:i}=r.raggedGather(Y("paramsNestedSplits",t,e,n),Y("paramsDenseValues",t,e,n),Y("indices",t,e,n),Y("outputRaggedRank",t,e,n));return s.concat(i)}case"RaggedRange":{const{rtNestedSplits:s,rtDenseValues:i}=r.raggedRange(Y("starts",t,e,n),Y("limits",t,e,n),Y("splits",t,e,n));return[s,i]}case"RaggedTensorToTensor":return[r.raggedTensorToTensor(Y("shape",t,e,n),Y("values",t,e,n),Y("defaultValue",t,e,n),Y("rowPartitionTensors",t,e,n),Y("rowPartitionTypes",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};const tje=(t,e,n,r=Ho)=>{switch(t.op){case"Max":{const o=Y("axis",t,e,n),c=Y("keepDims",t,e,n);return[r.max(Y("x",t,e,n),o,c)]}case"Mean":{const o=Y("axis",t,e,n),c=Y("keepDims",t,e,n);return[r.mean(Y("x",t,e,n),o,c)]}case"Min":{const o=Y("axis",t,e,n),c=Y("keepDims",t,e,n);return[r.min(Y("x",t,e,n),o,c)]}case"Sum":{const o=Y("axis",t,e,n),c=Y("keepDims",t,e,n);return[r.sum(Y("x",t,e,n),o,c)]}case"All":{const o=Y("axis",t,e,n),c=Y("keepDims",t,e,n);return[r.all(Y("x",t,e,n),o,c)]}case"Any":{const o=Y("axis",t,e,n),c=Y("keepDims",t,e,n);return[r.any(Y("x",t,e,n),o,c)]}case"ArgMax":{const o=Y("axis",t,e,n);return[r.argMax(Y("x",t,e,n),o)]}case"ArgMin":{const o=Y("axis",t,e,n);return[r.argMin(Y("x",t,e,n),o)]}case"Prod":{const o=Y("axis",t,e,n),c=Y("keepDims",t,e,n);return[r.prod(Y("x",t,e,n),o,c)]}case"Cumprod":{const o=Y("axis",t,e,n),c=Y("exclusive",t,e,n),u=Y("reverse",t,e,n);return[r.cumprod(Y("x",t,e,n),o,c,u)]}case"Cumsum":{const o=Y("axis",t,e,n),c=Y("exclusive",t,e,n),u=Y("reverse",t,e,n);return[r.cumsum(Y("x",t,e,n),o,c,u)]}case"Bincount":const s=Y("x",t,e,n),i=Y("weights",t,e,n),a=Y("size",t,e,n);return[r.bincount(s,i,a)];case"DenseBincount":{const o=Y("x",t,e,n),c=Y("weights",t,e,n),u=Y("size",t,e,n),d=Y("binaryOutput",t,e,n);return[r.denseBincount(o,c,u,d)]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};const nje=(t,e,n,r=Ho)=>{switch(t.op){case"ConcatV2":case"Concat":{const s=Y("n",t,e,n),i=Y("axis",t,e,n);let a=Y("tensors",t,e,n);return a=a.slice(0,s),[r.concat(a,i)]}case"Gather":{const s=Y("x",t,e,n),i=Y("indices",t,e,n);return[r.gather(s,r.cast(i,"int32"),0)]}case"GatherV2":{const s=Y("axis",t,e,n),i=Y("batchDims",t,e,n),a=Y("x",t,e,n),o=Y("indices",t,e,n);return[r.gather(a,r.cast(o,"int32"),s,i)]}case"Reverse":{const s=Y("dims",t,e,n),i=[];for(let o=0;o<s.length;o++)s[o]&&i.push(o);const a=Y("x",t,e,n);return[r.reverse(a,i)]}case"ReverseV2":{const s=Y("axis",t,e,n),i=Y("x",t,e,n);return[r.reverse(i,s)]}case"Slice":{const s=Y("begin",t,e,n),i=Y("size",t,e,n);return[r.slice(Y("x",t,e,n),s,i)]}case"StridedSlice":{const s=Y("begin",t,e,n),i=Y("end",t,e,n),a=Y("strides",t,e,n),o=Y("beginMask",t,e,n),c=Y("endMask",t,e,n),u=Y("ellipsisMask",t,e,n),d=Y("newAxisMask",t,e,n),f=Y("shrinkAxisMask",t,e,n),h=Y("x",t,e,n);return[r.stridedSlice(h,s,i,a,o,c,u,d,f)]}case"Pack":return He(()=>{const s=Y("axis",t,e,n),i=Y("tensors",t,e,n),a=i[0].shape,o=r.squeeze(i[0]).shape,c=i.map(u=>{const d=vr(u.shape,a);if(!d&&!vr(r.squeeze(u).shape,o))throw new Error("the input tensors shape does not match");return d?u:r.reshape(u,a)});return[r.stack(c,s)]});case"Unpack":{const s=Y("axis",t,e,n),i=Y("tensor",t,e,n);return r.unstack(i,s)}case"Tile":{const s=Y("reps",t,e,n);return[r.tile(Y("x",t,e,n),s)]}case"Split":case"SplitV":{const s=Y("axis",t,e,n),i=Y("numOrSizeSplits",t,e,n),a=Y("x",t,e,n);return r.split(a,i,s)}case"ScatterNd":{const s=Y("indices",t,e,n),i=Y("values",t,e,n),a=Y("shape",t,e,n);return[r.scatterND(s,i,a)]}case"GatherNd":{const s=Y("x",t,e,n),i=Y("indices",t,e,n);return[r.gatherND(s,i)]}case"SparseToDense":{const s=Y("sparseIndices",t,e,n),i=Y("outputShape",t,e,n),a=Y("sparseValues",t,e,n),o=Y("defaultValue",t,e,n);return[r.sparseToDense(s,a,i,a.dtype===o.dtype?o:r.cast(o,a.dtype))]}case"TensorScatterUpdate":{const s=Y("indices",t,e,n),i=Y("values",t,e,n),a=Y("tensor",t,e,n);return[r.tensorScatterUpdate(a,s,i)]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};const rje=(t,e,n,r=Ho)=>{switch(t.op){case"SparseFillEmptyRows":{const{outputIndices:s,outputValues:i,emptyRowIndicator:a,reverseIndexMap:o}=r.sparse.sparseFillEmptyRows(Y("indices",t,e,n),Y("values",t,e,n),Y("denseShape",t,e,n),Y("defaultValue",t,e,n));return[s,i,a,o]}case"SparseReshape":{const{outputIndices:s,outputShape:i}=r.sparse.sparseReshape(Y("inputIndices",t,e,n),Y("inputShape",t,e,n),Y("newShape",t,e,n));return[s,i]}case"SparseSegmentMean":return[r.sparse.sparseSegmentMean(Y("data",t,e,n),Y("indices",t,e,n),Y("segmentIds",t,e,n))];case"SparseSegmentSum":return[r.sparse.sparseSegmentSum(Y("data",t,e,n),Y("indices",t,e,n),Y("segmentIds",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};const sje=(t,e,n,r=Ho)=>{switch(t.op){case"FFT":return[r.fft(Y("x",t,e,n))];case"IFFT":return[r.ifft(Y("x",t,e,n))];case"RFFT":return[r.rfft(Y("x",t,e,n))];case"IRFFT":return[r.irfft(Y("x",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};const ije=(t,e,n,r=Ho)=>{switch(t.op){case"StaticRegexReplace":return[r.string.staticRegexReplace(Y("input",t,e,n),Y("pattern",t,e,n),Y("rewrite",t,e,n),Y("replaceGlobal",t,e,n))];case"StringNGrams":{const{nGrams:s,nGramsSplits:i}=r.string.stringNGrams(Y("data",t,e,n),Y("dataSplits",t,e,n),Y("separator",t,e,n),Y("nGramWidths",t,e,n),Y("leftPad",t,e,n),Y("rightPad",t,e,n),Y("padWidth",t,e,n),Y("preserveShortSequences",t,e,n));return[s,i]}case"StringSplit":{const{indices:s,values:i,shape:a}=r.string.stringSplit(Y("input",t,e,n),Y("delimiter",t,e,n),Y("skipEmpty",t,e,n));return[s,i,a]}case"StringToHashBucketFast":return[r.string.stringToHashBucketFast(Y("input",t,e,n),Y("numBuckets",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};const aje=(t,e,n,r=Ho)=>{switch(t.op){case"Cast":return[r.cast(Y("x",t,e,n),Y("dtype",t,e,n))];case"ExpandDims":{const s=Y("axis",t,e,n);return[r.expandDims(Y("x",t,e,n),s)]}case"Squeeze":{const s=Y("axis",t,e,n);return[r.squeeze(Y("x",t,e,n),s)]}case"Reshape":return[r.reshape(Y("x",t,e,n),Y("shape",t,e,n))];case"EnsureShape":return[r.ensureShape(Y("x",t,e,n),Y("shape",t,e,n))];case"MirrorPad":return[r.mirrorPad(Y("x",t,e,n),Y("padding",t,e,n),Y("mode",t,e,n))];case"PadV2":case"Pad":return[r.pad(Y("x",t,e,n),Y("padding",t,e,n),Y("constantValue",t,e,n))];case"SpaceToBatchND":{const s=Y("blockShape",t,e,n),i=Y("paddings",t,e,n);return[r.spaceToBatchND(Y("x",t,e,n),s,i)]}case"BatchToSpaceND":{const s=Y("blockShape",t,e,n),i=Y("crops",t,e,n);return[r.batchToSpaceND(Y("x",t,e,n),s,i)]}case"DepthToSpace":{const s=Y("blockSize",t,e,n),i=Y("dataFormat",t,e,n).toUpperCase();return[r.depthToSpace(Y("x",t,e,n),s,i)]}case"BroadcastTo":return[r.broadcastTo(Y("x",t,e,n),Y("shape",t,e,n))];case"BroadcastArgs":return[r.broadcastArgs(Y("s0",t,e,n),Y("s1",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};function O7(t,e,n,r,s=He){const i=((a,o,c)=>{switch(a.category){case"arithmetic":return s(()=>F3e(a,o,c));case"basic_math":return s(()=>D3e(a,o,c));case"control":return M3e(a,o,c);case"convolution":return s(()=>Q3e(a,o,c));case"creation":return s(()=>H3e(a,o,c));case"dynamic":return W3e(a,o,c);case"evaluation":return s(()=>V3e(a,o,c));case"image":return s(()=>X3e(a,o,c));case"graph":return s(()=>q3e(a,o,c));case"logical":return s(()=>Y3e(a,o,c));case"matrices":return s(()=>J3e(a,o,c));case"normalization":return s(()=>Z3e(a,o,c));case"ragged":return s(()=>eje(a,o,c));case"reduction":return s(()=>tje(a,o,c));case"slice_join":return s(()=>nje(a,o,c));case"sparse":return s(()=>rje(a,o,c));case"spectral":return s(()=>sje(a,o,c));case"string":return s(()=>ije(a,o,c));case"transformation":return s(()=>aje(a,o,c));case"hash_table":return K3e(a,o,c,r);case"custom":const u=bse(a.op);if(u&&u.customExecutor)return u.customExecutor(new O3e(a,o,c));throw TypeError(`Custom op ${a.op} is not registered.`);default:throw TypeError(`Unknown op '${a.op}'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()`)}})(t,e,n);return sm(i)?i.then(a=>[].concat(a)):[].concat(i)}class F7{constructor(e={},n={},r={},s={},i){this.weightMap=e,this.tensorArrayMap=n,this.tensorListMap=r,this.functionMap=s,this.parseNodeNameCache=i,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(e,n){return{id:e,frameName:n,iterationId:0}}set currentContext(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){const e=[];for(let n=0;n<this.contexts.length-1;n++){const r=this.contexts.slice(0,this.contexts.length-n);e.push(this.contextIdforContexts(r))}e.push(""),this._currentContextIds=e}contextIdforContexts(e){return e?e.map(n=>n.id===0&&n.iterationId===0?"":`${n.frameName}-${n.iterationId}`).join("/"):""}enterFrame(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(this.contexts&&this.contexts.length>1)this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift();else throw new Error("Cannot exit frame, the context is empty")}nextIteration(){if(this.contexts&&this.contexts.length>0){this.contexts=this.contexts.slice(),this.lastId++;const e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}else throw new Error("Cannot increase frame iteration, the context is empty")}getWeight(e){return this.weightMap[e]}addTensorArray(e){this.tensorArrayMap[e.id]=e}getTensorArray(e){return this.tensorArrayMap[e]}addTensorList(e){this.tensorListMap[e.id]=e}getTensorList(e){return this.tensorListMap[e]}dispose(e){for(const n in this.tensorArrayMap)this.tensorArrayMap[n].clearAndClose(e);for(const n in this.tensorListMap)this.tensorListMap[n].clearAndClose(e)}}function D7(t,e,n,r){const s=new Set,i=[];let a=null,o=null;const c=new Set,u=new Set(Object.keys(t).map(h=>Cc(h)[0]));r=r||[];const d=new Set(r.map(h=>Cc(h.name)[0])),f=[...e];for(;f.length>0;){const h=f.pop();if((dg(h)||hje(h)||pje(h))&&a==null&&(a=h,o=a.children.map(m=>m.name).filter(m=>s.has(m))),s.add(h.name),n[h.name]==null&&!u.has(h.name)&&!d.has(h.name)){if(h.inputs.length===0){i.push(h.name);continue}h.inputs.forEach(m=>{c.has(m.name)||(c.add(m.name),f.push(m))})}}return{inputs:t,outputs:e,usedNodes:s,missingInputs:i,dynamicNode:a,syncInputs:o}}function oje(t,e){const{usedNodes:n,inputs:r}=e,s=Object.keys(r).map(x=>Cc(x)[0]).map(x=>t.nodes[x]),i=t.initNodes||[],a=x=>n.has(typeof x=="string"?x:x.name);function o(x){return[...new Map(x.map(v=>[v.name,v])).values()]}const c=o([...s,...t.weights,...i]).filter(a),u=o([...c,...Object.values(t.nodes)]).filter(a),d=new Map(u.map(x=>[x.name,x])),f={};for(const x of u){f[x.name]=f[x.name]||0;for(const v of x.children)a(v)||(f[v.name]=Number.POSITIVE_INFINITY),f[v.name]=(f[v.name]||0)+1}const h=Object.entries(f).filter(([,x])=>x===0).map(([x])=>x),m=[...h];for(;h.length>0;){const x=h.pop(),v=d.get(x);for(const w of v.children.filter(a))--f[w.name]===0&&(m.push(w.name),h.push(w.name))}const g=m.map(x=>d.get(x)),y=lje(g,c);return cje(y,c),y}function lje(t,e){const n=new Map(t.map(a=>[a.name,a])),r=e.map(a=>a.name),s=new Set(r);for(;r.length>0;){const a=r.pop(),o=n.get(a);for(const c of o.children)!n.has(c.name)||s.has(c.name)||(s.add(c.name),r.push(c.name))}return t.filter(a=>s.has(a.name))}class jC extends Error{constructor(e){super(`NodesExecutionOrderError: ${e}`)}}function cje(t,e){const n=new Map(t.map((o,c)=>[o.name,c])),r=new Set(e.map(o=>o.name)),s=o=>r.has(typeof o=="string"?o:o.name),i=new Set(t.map(o=>o.name)),a=o=>i.has(typeof o=="string"?o:o.name);for(const o of t){for(const c of o.children.filter(a)){if(!n.has(c.name))throw new jC(`Child ${c.name} of node ${o.name} is unreachable.`);if(n.get(o.name)>n.get(c.name))throw new jC(`Node ${o.name} is scheduled to run after its child ${c.name}.`)}if(!s(o))for(const c of o.inputs){if(!n.has(c.name))throw new jC(`Input ${c.name} of node ${o.name} is unreachable.`);if(n.get(c.name)>n.get(o.name))throw new jC(`Node ${o.name} is scheduled to run before its input ${c.name}.`)}}}function uje(t){const e=new Map(t.map((o,c)=>[o.name,c])),n=Number.MAX_SAFE_INTEGER,r=t.map((o,c)=>dg(o)?n:c),s=o=>{const c=r[e.get(o.name)];return c??-1},i=t.map((o,c)=>o.children.map(s).reduce((u,d)=>Math.max(u,d),r[c])),a=new Map;for(let o=0;o<t.length;++o){const c=i[o];if(c===n)continue;const u=t[o],d=t[c];a.has(d.name)||a.set(d.name,[]),a.get(d.name).push(u)}return a}const dje=new Set(["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"]),fje=new Set(["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"]),Aje=new Set(["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"]);function dg(t){return dje.has(t.op)}function hje(t){return fje.has(t.op)}function pje(t){return Aje.has(t.op)}class ZB{get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(e){const n=Object.keys(e).map(r=>e[r].map(s=>s.id));this._weightIds=[].concat(...n),this._weightMap=e}set resourceManager(e){this._resourceManager=e}get inputs(){return this._inputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get outputs(){return this._outputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get inputNodes(){return this._inputs.map(e=>e.signatureKey||e.name)}get outputNodes(){return this._outputs.map(e=>{const n=e.signatureKey||e.name;return e.defaultOutput?`${n}:${e.defaultOutput}`:n})}get functions(){return Object.keys(this._functions).reduce((e,n)=>(e[n]=this._functions[n].signature,e),{})}constructor(e,n){this.graph=e,this.parent=n,this.compiledMap=new Map,this.parseNodeNameCache=new Map,this._weightMap={},this.SEPARATOR=",",this._functions={},this._functionExecutorMap={},this.keepIntermediateTensors=!1,this._outputs=e.outputs,this._inputs=e.inputs,this._initNodes=e.initNodes,this._signature=e.signature,this._functions=e.functions,e.functions!=null&&Object.keys(e.functions).forEach(r=>{this._functionExecutorMap[r]=new ZB(e.functions[r],this)})}getCompilationKey(e,n){const r=e.map(i=>i.name).sort(),s=n.map(i=>i.name).sort();return r.join(this.SEPARATOR)+"--"+s.join(this.SEPARATOR)}compile(e,n){const r=D7(e,n,this.weightMap,this._initNodes),{missingInputs:s,dynamicNode:i,syncInputs:a}=r;if(i!=null)throw new Error(`This execution contains the node '${i.name}', which has the dynamic op '${i.op}'. Please use model.executeAsync() instead. Alternatively, to avoid the dynamic ops, specify the inputs [${a}]`);if(s.length>0){const u=n.map(f=>f.name),d=Object.keys(e);throw new Error(`Cannot compute the outputs [${u}] from the provided inputs [${d}]. Missing the following inputs: [${s}]`)}const o=oje(this.graph,r),c=uje(o);return{orderedNodes:o,nodeLiveUntilMap:c}}cloneAndKeepTensor(e){if(e==null)return null;const n=e.clone();return Ma(n),n}cloneTensorList(e){return e?e.map(r=>this.cloneAndKeepTensor(r)):null}cloneTensorMap(e){return Object.fromEntries(Object.entries(e).map(([n,r])=>[n,this.cloneTensorList(r)]))}execute(e,n){this.disposeIntermediateTensors(),e=this.mapInputs(e);const r=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),n=this.mapOutputs(n),this.checkOutputs(n);const s=r.map(h=>this.graph.nodes[Cc(h)[0]]),i=n.map(h=>Cc(h)[0]),a=new Set(i);let o=i.map(h=>this.graph.nodes[h]);o.length===0&&(o=this._outputs);const c=this.getCompilationKey(s,o);let u=this.compiledMap.get(c);u==null&&(u=this.compile(e,o),this.compiledMap.set(c,u));try{this.keepIntermediateTensors=Xe().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(h){this.keepIntermediateTensors=!1,console.warn(h.message)}const d={},f={};return He(()=>{const h=new F7(this.weightMap,d,f,this.functionExecutorMap,this.parseNodeNameCache),m=Object.assign({},this.weightMap);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap)),Object.keys(e).forEach(v=>{const[w,B]=Cc(v,h),k=[];k[B]=e[v],m[w]=k,this.keepIntermediateTensors&&(this.clonedTensorsMap[w]=this.cloneTensorList(k))});const g=this.getFrozenTensorIds(m),{orderedNodes:y,nodeLiveUntilMap:x}=u;for(const v of y){if(m[v.name])continue;const w=O7(v,m,h,this._resourceManager);if(sm(w))throw new Error(`The execution of the op '${v.op}' returned a promise. Please use model.executeAsync() instead.`);m[v.name]=w,this.keepIntermediateTensors&&(this.clonedTensorsMap[v.name]=this.cloneTensorList(w)),this.checkTensorForDisposalWithNodeLiveUntilInfo(v,m,h,g,a,x.get(v.name))}return this.parent==null&&h.dispose(g),n.map(v=>Fo(v,m,h))})}getFrozenTensorIds(e){const n=[].concat.apply([],Object.keys(e).map(r=>e[r]).map(r=>r.map(s=>s.id)));return new Set(n)}checkTensorForDisposal(e,n,r,s,i,a,o){if(!(dg(n)||a.has(e))){for(const c of r[e])c!=null&&(o[c.id]=(o[c.id]||0)+n.children.length);for(const c of n.inputs){if(dg(c))continue;const u=N7(c.name,r,s);if(u!=null)for(const d of u){if(!d||d.kept||i.has(d.id))continue;const f=o[d.id];f===1?(d.dispose(),delete o[d.id]):f!=null&&o[d.id]--}}}}checkTensorForDisposalWithNodeLiveUntilInfo(e,n,r,s,i,a){function o(c){return dg(c)||i.has(c.name)}if(!(dg(e)||a==null))for(const c of a){if(o(c))continue;const u=N7(c.name,n,r);for(const d of u)!d||d.kept||s.has(d.id)||d.dispose()}}async executeAsync(e,n){return this._executeAsync(e,n)}disposeIntermediateTensors(){this.clonedTensorsMap&&(Object.values(this.clonedTensorsMap).forEach(e=>{for(const n of e)n&&!n.isDisposed&&n.dispose()}),this.clonedTensorsMap=null)}getIntermediateTensors(){return this.clonedTensorsMap}async _executeAsync(e,n,r=!1,s={},i={}){this.disposeIntermediateTensors(),r||(e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),n=this.mapOutputs(n),this.checkOutputs(n));try{this.keepIntermediateTensors=Xe().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(h){this.keepIntermediateTensors=!1,console.warn(h.message)}const a=new F7(this.weightMap,s,i,this.functionExecutorMap,this.parseNodeNameCache);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap));const o=await this.executeWithControlFlow(e,a,n,r),c=n.map(h=>Fo(h,o,a)),u=c.map(h=>h.id),d=Object.keys(e).map(h=>e[h].id),f=new Set([...u,...d,...this.weightIds]);return Object.values(o).forEach(h=>{h.forEach(m=>{m&&!m.isDisposed&&!f.has(m.id)&&m.dispose()})}),this.parent==null&&a.dispose(f),c}async executeFunctionAsync(e,n,r){const s=e.reduce((i,a,o)=>(i[this.inputs[o].name]=a,i),{});return this._executeAsync(s,this.outputNodes,!0,n,r)}async executeWithControlFlow(e,n,r,s){const i=Object.keys(e),a=i.map(k=>this.graph.nodes[Cc(k)[0]]),o=r.map(k=>Cc(k)[0]),c=new Set(o);let u=o.map(k=>this.graph.nodes[k]);u.length===0&&(u=this._outputs);const{usedNodes:d,missingInputs:f,dynamicNode:h,syncInputs:m}=D7(e,u,this.weightMap,this._initNodes),g=[...a,...this.graph.weights,...this._initNodes||[]].map(k=>({node:k,contexts:n.currentContext})),y=Object.assign({},this.weightMap);Object.keys(e).forEach(k=>{const[E,N]=Cc(k),O=[];O[N]=e[k],y[E]=O});const x={},v=this.getFrozenTensorIds(y),w={};for(;g.length>0;){const k=this.processStack(a,g,n,y,w,v,c,x,d);await Promise.all(k)}h==null&&!s&&console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");const B=u.filter(k=>!dg(k)&&!Fo(k.name,y,n)).map(k=>k.name);if(B.length>0){let k="";throw h!=null&&(k=`Alternatively, to avoid the dynamic ops, use model.execute() and specify the inputs [${m}]`),new Error(`Cannot compute the outputs [${B}] from the provided inputs [${i}]. Consider providing the following inputs: [${f}]. ${k}`)}return y}processStack(e,n,r,s,i,a,o,c,u){const d=[];for(;n.length>0;){const f=n.pop();r.currentContext=f.contexts;let h="";if(f.node.op==="Enter"&&Y("isConstant",f.node,s,r)&&([h]=th(f.node.name,r)),s[f.node.name]==null){const m=O7(f.node,s,r,this._resourceManager);h||([h]=th(f.node.name,r));const g=r.currentContext;sm(m)?d.push(m.then(y=>(s[h]=y,this.keepIntermediateTensors&&(this.clonedTensorsMap[h]=this.cloneTensorList(y)),r.currentContext=g,this.checkTensorForDisposal(h,f.node,s,r,a,o,c),this.processChildNodes(f.node,n,r,s,i,u),y))):(s[h]=m,this.keepIntermediateTensors&&(this.clonedTensorsMap[h]=this.cloneTensorList(m)),this.checkTensorForDisposal(h,f.node,s,r,a,o,c),this.processChildNodes(f.node,n,r,s,i,u))}else this.processChildNodes(f.node,n,r,s,i,u)}return d}processChildNodes(e,n,r,s,i,a){e.children.forEach(o=>{const[c]=th(o.name,r);i[c]||!a.has(o.name)||(o.op==="Merge"?o.inputNames.some(u=>!!Fo(u,s,r))&&(i[c]=!0,n.push({contexts:r.currentContext,node:o})):o.inputNames.every(u=>!!Fo(u,s,r))&&(i[c]=!0,n.push({contexts:r.currentContext,node:o})))})}dispose(){Object.keys(this.weightMap).forEach(e=>this.weightMap[e].forEach(n=>n.dispose()))}checkInputShapeAndType(e){Object.keys(e).forEach(n=>{const r=e[n],[s]=Cc(n),i=this.graph.nodes[s];if(i.attrParams.shape&&i.attrParams.shape.value){const a=i.attrParams.shape.value,o=a.length===r.shape.length&&r.shape.every((c,u)=>a[u]===-1||a[u]===c);ce(o,()=>`The shape of dict['${i.name}'] provided in model.execute(dict) must be [${a}], but was [${r.shape}]`)}i.attrParams.dtype&&i.attrParams.dtype.value&&ce(r.dtype===i.attrParams.dtype.value,()=>`The dtype of dict['${i.name}'] provided in model.execute(dict) must be ${i.attrParams.dtype.value}, but was ${r.dtype}`)})}mapInputs(e){var n,r;const s={};for(const i in e){const a=(r=(n=this._signature)===null||n===void 0?void 0:n.inputs)===null||r===void 0?void 0:r[i];a!=null?s[a.name]=e[i]:s[i]=e[i]}return s}checkInputs(e){const n=Object.keys(e).filter(r=>{const[s]=Cc(r);return this.graph.nodes[s]==null});if(n.length>0)throw new Error(`The dict provided in model.execute(dict) has keys: [${n}] that are not part of graph`)}mapOutputs(e){return e.map(n=>{var r,s;const i=(s=(r=this._signature)===null||r===void 0?void 0:r.outputs)===null||s===void 0?void 0:s[n];return i!=null?i.name:n},{})}checkOutputs(e){e.forEach(n=>{const[r]=Cc(n);if(!this.graph.nodes[r])throw new Error(`The output '${n}' is not found in the graph`)})}}class mje{constructor(e={},n={}){this.hashTableNameToHandle=e,this.hashTableMap=n}addHashTable(e,n){this.hashTableNameToHandle[e]=n.handle,this.hashTableMap[n.id]=n}getHashTableHandleByName(e){return this.hashTableNameToHandle[e]}getHashTableById(e){return this.hashTableMap[e]}dispose(){for(const e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(const e in this.hashTableNameToHandle)this.hashTableNameToHandle[e].dispose(),delete this.hashTableNameToHandle[e]}}const gje="?tfjs-format=file",yje="model.json";class I${get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}get modelStructuredOutputKeys(){return this.structuredOutputKeys}constructor(e,n={},r=_L){this.modelUrl=e,this.loadOptions=n,this.version="n/a",this.io=r,n==null&&(this.loadOptions={}),this.resourceManager=new mje}findIOHandler(){const e=this.modelUrl;if(e.load!=null)this.handler=e;else if(this.loadOptions.requestInit!=null)this.handler=this.io.browserHTTPRequest(e,this.loadOptions);else{const n=this.io.getLoadHandlers(e,this.loadOptions);if(n.length===0)n.push(this.io.browserHTTPRequest(e,this.loadOptions));else if(n.length>1)throw new Error(`Found more than one (${n.length}) load handlers for URL '${[e]}'`);this.handler=n[0]}}load(){if(this.findIOHandler(),this.handler.load==null)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const e=this.handler.load();return sm(e)?e.then(n=>n.getWeightStream==null?this.loadSync(n):this.loadStreaming(n)):this.loadSync(e)}loadSync(e){const n=this.io.decodeWeights(e.weightData,e.weightSpecs);return this.loadWithWeightMap(e,n)}async loadStreaming(e){if(e.getWeightStream==null)throw new Error("Model artifacts missing streamWeights function");const n=await ZZ(e.getWeightStream(),e.weightSpecs);return this.loadWithWeightMap(e,n)}loadWithWeightMap(e,n){this.artifacts=e;const r=this.artifacts.modelTopology;let s=this.artifacts.signature;if(this.artifacts.userDefinedMetadata!=null){const i=this.artifacts.userDefinedMetadata;i.signature!=null&&(s=i.signature),i.structuredOutputKeys!=null&&(this.structuredOutputKeys=i.structuredOutputKeys)}if(this.signature=s,this.version=`${r.versions.producer}.${r.versions.minConsumer}`,this.executor=new ZB(j7.Instance.transformGraph(r,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(n),this.executor.resourceManager=this.resourceManager,e.modelInitializer!=null&&e.modelInitializer.node!=null){const i=j7.Instance.transformGraph(e.modelInitializer);this.initializer=new ZB(i),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializerSignature=e.initializerSignature}return!0}async save(e,n){if(typeof e=="string"){const r=this.io.getSaveHandlers(e);if(r.length===0)throw new Error(`Cannot find any save handlers for URL '${e}'`);if(r.length>1)throw new Error(`Found more than one (${r.length}) save handlers for URL '${e}'`);e=r[0]}if(e.save==null)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return e.save(this.artifacts)}addStructuredOutputNames(e){if(this.structuredOutputKeys){const n=e instanceof Fr?[e]:e,r={};return n.forEach((s,i)=>r[this.structuredOutputKeys[i]]=s),r}return e}predict(e,n){const r=this.execute(e,this.outputNodes);return this.addStructuredOutputNames(r)}async predictAsync(e,n){const r=await this.executeAsync(e,this.outputNodes);return this.addStructuredOutputNames(r)}normalizeInputs(e){var n;if(!(e instanceof Fr)&&!Array.isArray(e)){const i=(n=this.signature)===null||n===void 0?void 0:n.inputs;if(i!=null)for(const a in i){const o=i[a];o.resourceId!=null&&(e[a]=this.resourceIdToCapturedInput[o.resourceId])}return e}e=Array.isArray(e)?e:[e];const r=Object.keys(this.resourceIdToCapturedInput).length;if(e.length+r!==this.inputNodes.length)throw new Error(`Input tensor count mismatch, the graph model has ${this.inputNodes.length-r} non-resource placeholders, while there are ${e.length} input tensors provided.`);let s=0;return this.inputNodes.reduce((i,a)=>{var o,c,u;const d=(u=(c=(o=this.signature)===null||o===void 0?void 0:o.inputs)===null||c===void 0?void 0:c[a])===null||u===void 0?void 0:u.resourceId;return d!=null?i[a]=this.resourceIdToCapturedInput[d]:i[a]=e[s++],i},{})}normalizeOutputs(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}executeInitializerGraph(){return this.initializer==null?[]:this.initializerSignature==null?this.initializer.execute({},[]):this.initializer.execute({},Object.keys(this.initializerSignature.outputs))}async executeInitializerGraphAsync(){return this.initializer==null?[]:this.initializerSignature==null?this.initializer.executeAsync({},[]):this.initializer.executeAsync({},Object.keys(this.initializerSignature.outputs))}setResourceIdToCapturedInput(e){if(this.resourceIdToCapturedInput={},this.initializerSignature){const n=this.initializerSignature.outputs,r=Object.keys(n);for(let s=0;s<r.length;s++){const i=r[s],a=n[i];this.resourceIdToCapturedInput[a.resourceId]=e[s]}}}execute(e,n){this.resourceIdToCapturedInput==null&&this.setResourceIdToCapturedInput(this.executeInitializerGraph()),e=this.normalizeInputs(e),n=this.normalizeOutputs(n);const r=this.executor.execute(e,n);return r.length>1?r:r[0]}async executeAsync(e,n){this.resourceIdToCapturedInput==null&&this.setResourceIdToCapturedInput(await this.executeInitializerGraphAsync()),e=this.normalizeInputs(e),n=this.normalizeOutputs(n);const r=await this.executor.executeAsync(e,n);return r.length>1?r:r[0]}getIntermediateTensors(){return this.executor.getIntermediateTensors()}disposeIntermediateTensors(){this.executor.disposeIntermediateTensors()}convertTensorMapToTensorsMap(e){return Object.keys(e).reduce((n,r)=>(n[r]=[e[r]],n),{})}dispose(){this.executor.dispose(),this.initializer&&(this.initializer.dispose(),this.resourceIdToCapturedInput&&Ar(this.resourceIdToCapturedInput)),this.resourceManager.dispose()}}async function MO(t,e={},n=_L){if(t==null)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");e==null&&(e={}),e.fromTFHub&&typeof t=="string"&&(t=bje(t));const r=new I$(t,e,n);return await r.load(),r}function xje(t){if(t==null)throw new Error("modelUrl in loadGraphModelSync() cannot be null. Please provide model artifacts or an IOHandler that loads the model");let e;if(t instanceof Array){const[r,s]=t;if(!r)throw new Error("modelJSON must be the first element of the array");if(!s||!(s instanceof ArrayBuffer))throw new Error("An ArrayBuffer of weights must be the second element of the array");if(!("modelTopology"in r))throw new Error("Model JSON is missing 'modelTopology'");if(!("weightsManifest"in r))throw new Error("Model JSON is missing 'weightsManifest'");const i=UB(r.weightsManifest),a=yD(r,i,s);e=MB(a)}else if("load"in t)e=t;else if("modelTopology"in t&&"weightSpecs"in t&&"weightData"in t)e=MB(t);else throw new Error("Unknown model format");const n=new I$(e);return n.load(),n}function bje(t){return t.endsWith("/")||(t=t+"/"),`${t}${yje}${gje}`}const vje="4.22.0";const wje=Object.freeze(Object.defineProperty({__proto__:null,GraphModel:I$,deregisterOp:GNe,loadGraphModel:MO,loadGraphModelSync:xje,registerOp:qNe,version_converter:vje},Symbol.toStringTag,{value:"Module"}));var L7;(function(t){t[t.FAIL=0]="FAIL",t[t.SHORTEST=1]="SHORTEST",t[t.LONGEST=2]="LONGEST"})(L7||(L7={}));function yn(t,e){Array.isArray(t)||(t=[t]),t.forEach(n=>{n!=null&&ce(n.dtype!=="complex64",()=>`${e} does not support complex64 tensors in the CPU backend.`)})}const Sje=xN;class HN extends DE{nextDataId(){return HN.nextDataId++}constructor(){super(),this.blockSize=48,this.firstUse=!0,this.data=new nD(this,Ud())}write(e,n,r){this.firstUse&&(this.firstUse=!1,Xe().get("IS_NODE")&&ru(`
============================
Hi, looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, visit https://github.com/tensorflow/tfjs-node for more details. 
============================`));const s={id:this.nextDataId()};return this.data.set(s,{values:e,dtype:r,refCount:1}),s}makeTensorInfo(e,n,r){let s;if(n==="string"&&r!=null&&r.length>0&&Hf(r[0])){const i=r.map(a=>Kf(a));s=this.write(i,e,n)}else s=this.write(r,e,n);return{dataId:s,shape:e,dtype:n}}refCount(e){return this.data.has(e)?this.data.get(e).refCount:0}incRef(e){const n=this.data.get(e);n.refCount++}decRef(e){if(this.data.has(e)){const n=this.data.get(e);n.refCount--}}move(e,n,r,s,i){this.data.set(e,{values:n,dtype:s,refCount:i})}numDataIds(){return this.data.numDataIds()}async read(e){return this.readSync(e)}readSync(e){const{dtype:n,complexTensorInfos:r}=this.data.get(e);if(n==="complex64"){const s=this.readSync(r.real.dataId),i=this.readSync(r.imag.dataId);return Sh(s,i)}return TZ(this.data.get(e).values,n)}bufferSync(e){const n=this.readSync(e.dataId);if(e.dtype==="string")try{const r=n.map(s=>bh(s));return cr(e.shape,e.dtype,r)}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return cr(e.shape,e.dtype,n)}makeOutput(e,n,r){return Ud().makeTensorFromTensorInfo(this.makeTensorInfo(n,r,e),this)}disposeData(e,n=!1){if(this.data.has(e)){if(this.data.get(e).refCount--,!n&&this.data.get(e).refCount>0)return!1;const{complexTensorInfos:r}=this.data.get(e);r!=null&&(this.disposeData(r.real.dataId,!0),this.disposeData(r.imag.dataId,!0)),this.data.delete(e)}return!0}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}async time(e){const n=vl();return e(),{kernelMs:vl()-n}}memory(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}where(e){yn([e],"where");const n=this.readSync(e.dataId);return Sje(e.shape,n)}dispose(){}floatPrecision(){return 32}epsilon(){return super.epsilon()}}HN.nextDataId=0;function Sse(t){const e=new Float32Array(t.length);for(let n=0;n<t.length;++n)e[n]=Math.abs(t[n]);return e}const Cje=t=>{const{x:e}=t.inputs,n=t.backend;yn(e,"abs");let r=new Float32Array(it(e.shape));const s=n.data.get(e.dataId).values;return r=Sse(s),n.makeOutput(r,e.shape,e.dtype)},kje={kernelName:pw,backendName:"cpu",kernelFunc:Cje};function va(t){return(e,n,r,s,i)=>{const a=rr(e,n),o=a.length,c=Rn(a),u=it(a),d=ho(i,u),f=e.length,h=n.length,m=Rn(e),g=Rn(n),y=Xg(e,a),x=Xg(n,a);if(y.length+x.length===0)for(let v=0;v<d.length;++v)d[v]=t(r[v%r.length],s[v%s.length]);else for(let v=0;v<d.length;++v){const w=x0(v,o,c),B=w.slice(-f);y.forEach(O=>B[O]=0);const k=Xd(B,f,m),E=w.slice(-h);x.forEach(O=>E[O]=0);const N=Xd(E,h,g);d[v]=t(r[k],s[N])}return[d,a]}}function Bc(t){const{inputs:e,backend:n}=t,{real:r,imag:s}=e,i=n.data.get(r.dataId).values,a=n.data.get(s.dataId).values,o=n.makeTensorInfo(r.shape,"complex64"),c=n.data.get(o.dataId);return c.complexTensorInfos={real:n.makeTensorInfo(r.shape,"float32",i),imag:n.makeTensorInfo(s.shape,"float32",a)},o}const Bje={kernelName:WE,backendName:"cpu",kernelFunc:Bc};function e4(t,e,n="float32"){if(n==="complex64"){const s=e4(t,e,"float32"),i=e4(t,e,"float32");return Bc({inputs:{real:s,imag:i},backend:t})}const r=Uo(it(e),n);return t.makeTensorInfo(e,n,r)}function uA(t){const{inputs:e,backend:n}=t,{x:r}=e;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}const Eje={kernelName:ox,backendName:"cpu",kernelFunc:uA};function n0(t){const{inputs:e,backend:n}=t,{input:r}=e,s=n.data.get(r.dataId).complexTensorInfos.real,i=n.data.get(s.dataId).values;return n.makeTensorInfo(s.shape,s.dtype,i)}const Ije={kernelName:CI,backendName:"cpu",kernelFunc:n0};function Cse(t,e,n,r){if(r==="int32"){const s=Int32Array.from(t);return[e,"int32",s]}if(r==="bool"){const s=vm([0],n),[i,a]=va((o,c)=>o!==c?1:0)(e,[],t,s,"bool");return[a,"bool",i]}throw new Error(`Error in Cast: failed to cast ${n} to ${r}`)}function Am(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{dtype:i}=r;if(i==="complex64"){if(s.dtype==="complex64")return uA({inputs:{x:s},backend:n});const d=e4(n,s.shape,s.dtype),f=Am({inputs:{x:s},backend:n,attrs:{dtype:"float32"}}),h=Bc({inputs:{real:f,imag:d},backend:n});return n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(f),h}if(s.dtype==="complex64"){const d=n0({inputs:{input:s},backend:n}),f=Am({inputs:{x:d},backend:n,attrs:{dtype:i}});return n.disposeIntermediateTensorInfo(d),f}if(!iD(s.dtype,i)){const d=uA({inputs:{x:s},backend:n});return{dataId:d.dataId,shape:d.shape,dtype:i}}const a=n.data.get(s.dataId).values,[o,c,u]=Cse(a,s.shape,s.dtype,i);return n.makeTensorInfo(o,c,u)}const Nje={kernelName:G1,backendName:"cpu",kernelFunc:Am};function Za(t,e,n,r){return n==null?({inputs:s,backend:i})=>{const{a,b:o}=s,c=i;yn([a,o],t);const u=c.data.get(a.dataId).values,d=c.data.get(o.dataId).values,f=a.dtype==="string"?Ch(u):u,h=a.dtype==="string"?Ch(d):d,m=r||a.dtype,[g,y]=e(a.shape,o.shape,f,h,m);return c.makeTensorInfo(y,m,g)}:({inputs:s,backend:i})=>{const{a,b:o}=s,c=i;if(a.dtype==="complex64"||o.dtype==="complex64"){const u=Am({inputs:{x:a},backend:c,attrs:{dtype:"complex64"}}),d=c.data.get(u.dataId),f=d.complexTensorInfos.real,h=d.complexTensorInfos.imag,m=c.data.get(f.dataId).values,g=c.data.get(h.dataId).values,y=Am({inputs:{x:o},backend:c,attrs:{dtype:"complex64"}}),x=c.data.get(y.dataId),v=x.complexTensorInfos.real,w=x.complexTensorInfos.imag,B=c.data.get(v.dataId).values,k=c.data.get(w.dataId).values,[E,N,O]=n(a.shape,o.shape,m,g,B,k),F=c.makeTensorInfo(O,"float32",E),D=c.makeTensorInfo(O,"float32",N),T=Bc({inputs:{real:F,imag:D},backend:c});return c.disposeIntermediateTensorInfo(u),c.disposeIntermediateTensorInfo(y),c.disposeIntermediateTensorInfo(F),c.disposeIntermediateTensorInfo(D),T}else{const u=c.data.get(a.dataId).values,d=c.data.get(o.dataId).values,f=r||a.dtype,[h,m]=e(a.shape,o.shape,u,d,f);return c.makeTensorInfo(m,f,h)}}}function N$(t){return(e,n,r,s,i,a)=>{const o=rr(e,n),c=it(o),u=o.length,d=Rn(o),f=ho("float32",c),h=ho("float32",c),m=Xg(e,o),g=Xg(n,o),y=Sh(r,s),x=Sh(i,a),v=e.length,w=Rn(e),B=n.length,k=Rn(n);if(m.length+g.length===0)for(let E=0;E<f.length;E++){const N=E%y.length,O=E%x.length,F=t(y[N*2],y[N*2+1],x[O*2],x[O*2+1]);f[E]=F.real,h[E]=F.imag}else for(let E=0;E<f.length;E++){const N=x0(E,u,d),O=N.slice(-v);m.forEach(P=>O[P]=0);const F=Xd(O,v,w),D=N.slice(-B);g.forEach(P=>D[P]=0);const T=Xd(D,B,k),j=t(y[F*2],y[F*2+1],x[T*2],x[T*2+1]);f[E]=j.real,h[E]=j.imag}return[f,h,o]}}const kse=va(((t,e)=>t+e)),jje=N$(((t,e,n,r)=>({real:t+n,imag:e+r}))),S1=Za(b0,kse,jje),Tje={kernelName:b0,backendName:"cpu",kernelFunc:S1};function j$(t,e,n,r,s){const i=it(r),a=Uo(s,n);for(let o=0;o<t.length;o++){const c=t[o];if(c<0)throw new Error("Input x must be non-negative!");c>=s||(i>0?a[c]+=e[o]:a[c]+=1)}return a}function Bse(t,e,n,r=!1){const s=t.shape[0],i=t.shape[1],a=cr([s,n],e.dtype);for(let o=0;o<s;o++)for(let c=0;c<i;c++){const u=t.get(o,c);if(u<0)throw new Error("Input x must be non-negative!");u>=n||(r?a.set(1,o,u):e.size>0?a.set(a.get(o,u)+e.get(o,c),o,u):a.set(a.get(o,u)+1,o,u))}return a}const Ese=va(((t,e)=>t&e)),_je=Za(Sw,Ese),Rje={kernelName:Sw,backendName:"cpu",kernelFunc:_je};function yA(t){return(e,n,r)=>{const s=aa(n,e.length);for(let i=0;i<e.length;++i)s[i]=t(e[i],r);return s}}function Ss(t,e,n){const r=yA(e);return Nm(t,r,n)}function Nm(t,e,n){return({inputs:r,attrs:s,backend:i})=>{const{x:a}=r;yn(a,t);const o=i,c=o.data.get(a.dataId).values;let u;if(a.dtype==="string"){if(!Array.isArray(c))throw new Error("String tensor's value was not an instance of Array");u=Ch(c)}else u=c;const d=n||a.dtype,f=e(u,d,s);return o.makeTensorInfo(a.shape,d,f)}}const Ise=yA(t=>Math.ceil(t)),Oje=Nm(K1,Ise),Fje={kernelName:K1,backendName:"cpu",kernelFunc:Oje};function Nse(t,e,n,r){const s=aa(n,it(e));if(r&&n!=="string"){let i=0;t.forEach(a=>{const o=it(a.shape);s.set(a.vals,i),i+=o})}else{let i=0;t.forEach(a=>{const o=n==="string"?Ch(a.vals):a.vals;let c=0;for(let u=0;u<a.shape[0];++u){const d=u*e[1]+i;for(let f=0;f<a.shape[1];++f)s[d+f]=o[c++]}i+=a.shape[1]})}return s}const jse=va((t,e)=>t===e?1:0),Tse=Za(_w,jse,null,"bool"),Dje={kernelName:_w,backendName:"cpu",kernelFunc:Tse};const _se=yA(t=>Math.exp(t)),Rse=Nm(nx,_se,"float32"),Lje={kernelName:nx,backendName:"cpu",kernelFunc:Rse};const Ose=yA(t=>Math.expm1(t)),$je=Nm(rx,Ose),Pje={kernelName:rx,backendName:"cpu",kernelFunc:$je};const Fse=yA(t=>Math.floor(t)),Uje=Nm(sx,Fse),zje={kernelName:sx,backendName:"cpu",kernelFunc:Uje};const Dse=va((t,e)=>Math.floor(t/e)),Mje=Za(ix,Dse,null,"int32"),Qje={kernelName:ix,backendName:"cpu",kernelFunc:Mje};function Lse(t,e,n,r,s,i,a,o,c){const u=cr([r,i],n);for(let d=0;d<r;d++){const f=[];let h=0;for(let m=0;m<s;m++){const g=t[d*s+m];h+=g*a[m],f.push(g)}if(h<0||h>=c/i)throw new Error(`Invalid indices: ${f} does not index into ${o}`);for(let m=0;m<i;m++)u.values[d*i+m]=e.get(...e.indexToLoc(h*i+m))}return u}function $se(t,e,n){const r=cr(n,t.dtype);for(let s=0;s<r.size;++s){const a=r.indexToLoc(s).slice(),o=a[0],c=a[2],u=e.locToIndex([o,c]);a[2]=e.values[u];const d=t.locToIndex(a);0<=d&&d<t.values.length&&(r.values[s]=t.values[d])}return r}const Pse=va((t,e)=>t>e?1:0),Hje=Za(Dw,Pse,null,"bool"),Wje={kernelName:Dw,backendName:"cpu",kernelFunc:Hje};const Use=va((t,e)=>t>=e?1:0),Vje=Za(ax,Use,null,"bool"),qje={kernelName:ax,backendName:"cpu",kernelFunc:Vje};const zse=va((t,e)=>t<e?1:0),Gje=Za($w,zse,null,"bool"),Kje={kernelName:$w,backendName:"cpu",kernelFunc:Gje};const Mse=va((t,e)=>t<=e?1:0),Xje=Za(Pw,Mse,null,"bool"),Yje={kernelName:Pw,backendName:"cpu",kernelFunc:Xje};function Qse(t,e,n){const r=(e-t)/(n-1),s=Uo(n,"float32");s[0]=t;for(let i=1;i<s.length;i++)s[i]=s[i-1]+r;return s}const Hse=yA(t=>Math.log(t)),Jje=Nm(dx,Hse),Zje={kernelName:dx,backendName:"cpu",kernelFunc:Jje};function Wse(t,e,n,r){const s=ho(r,it(n));for(let i=0;i<s.length;++i){const a=i*e;let o=t[a];for(let c=0;c<e;++c){const u=t[a+c];(Number.isNaN(u)||u>o)&&(o=u)}s[i]=o}return s}const Vse=va(((t,e)=>Math.max(t,e))),eTe=Za(Ax,Vse),tTe={kernelName:Ax,backendName:"cpu",kernelFunc:eTe};const qse=va(((t,e)=>Math.min(t,e))),nTe=Za(hx,qse),rTe={kernelName:hx,backendName:"cpu",kernelFunc:nTe};const T$=va(((t,e)=>t*e)),sTe=N$(((t,e,n,r)=>({real:t*n-e*r,imag:t*r+e*n}))),WN=Za(mx,T$,sTe),iTe={kernelName:mx,backendName:"cpu",kernelFunc:WN};function Gse(t,e,n){const r=Fh(-1,n);return T$([],e,r,t,n)}function aTe(t){const{inputs:e,backend:n}=t,{x:r}=e;yn(r,"neg");const s=n.data.get(r.dataId).values,[i,a]=Gse(s,r.shape,r.dtype);return n.makeTensorInfo(a,r.dtype,i)}const oTe={kernelName:Xw,backendName:"cpu",kernelFunc:aTe};const Kse=va(((t,e)=>t!==e?1:0)),lTe=Za(Yw,Kse,null,"bool"),cTe={kernelName:Yw,backendName:"cpu",kernelFunc:lTe};function _$(t,e,n,r,s){const i=e.length,a=it(e),o=Rn(e),c=Rn(s),u=ho(n,it(s));for(let d=0;d<a;++d){const f=x0(d,i,o),h=new Array(f.length);for(let g=0;g<h.length;g++)h[g]=f[r[g]];const m=Xd(h,i,c);u[m]=t[d]}return u}function ec(t){const{inputs:e,attrs:n,backend:r}=t,{x:s}=e,{perm:i}=n;yn(s,"transpose");const a=s.shape.length,o=new Array(a);for(let f=0;f<o.length;f++)o[f]=s.shape[i[f]];const c=r.data.get(s.dataId).values,u=_$(c,s.shape,s.dtype,i,o);return{dataId:r.write(u,o,s.dtype),shape:o,dtype:s.dtype}}const uTe={kernelName:Eg,backendName:"cpu",kernelFunc:ec};function Xse(t,e,n,r){const[s,i]=go(t,r),a=Kl(e,"int32"),o=Uo(it(s),a),c=it(i);for(let u=0;u<o.length;++u){const d=u*c;let f=1;for(let h=0;h<c;++h)f*=n[d+h];o[u]=f}return{outVals:o,outShape:s,outDtype:a}}function dTe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:a}=r;yn(s,"prod");const o=s.shape.length,c=hr(i,s.shape),u=Gi(c,o);let d=c,f=s;const h=[];u!=null&&(f=ec({inputs:{x:s},backend:n,attrs:{perm:u}}),h.push(f),d=xa(d.length,o));const m=n.data.get(f.dataId).values,{outVals:g,outShape:y,outDtype:x}=Xse(f.shape,f.dtype,m,d);let v=y;return a&&(v=ya(y,c)),h.forEach(w=>n.disposeIntermediateTensorInfo(w)),n.makeTensorInfo(v,x,g)}const fTe={kernelName:r5,backendName:"cpu",kernelFunc:dTe};function ATe(t,e,n){t.forEach((r,s)=>{if(r<0||r>=n){const i=x0(s,e.length,Rn(e)).join(",");throw new Error(`indices[${i}] = ${r} is not in [0, ${n})`)}})}function hTe(t,e){for(let n=0;n<t.length;++n){const r=t[n],s=n===t.length-1?e:t[n+1].length;if(r.length===0)throw new Error("Ragged splits may not be empty");if(r[0]<0)throw new Error("Ragged splits must be non-negative");if(r[r.length-1]>s)throw new Error("Ragged splits must not point past values");for(let i=1;i<r.length;++i)if(r[i-1]>r[i])throw new Error("Ragged splits must be sorted in ascending order")}}function pTe(t,e,n,r){const s=[];let i=0;const a=e.length-1+n.length,o=new Array(a).fill(null).map(()=>[0]);hTe(n,r);let c=1;for(let u=0;u<e.length-1;++u){c*=e[u];const d=e[u+1];for(let f=1;f<c+1;++f)o[u].push(f*d)}for(let u=0;u<t.length;++u){let d=t[u],f=t[u]+1;for(let h=0;h<n.length;++h){const m=n[h],g=h+e.length-1;if(g>=0){const y=o[g],x=y[y.length-1]-m[d];for(let v=d;v<f;++v)o[g].push(m[v+1]+x)}d=m[d],f=m[f]}f!==d&&(s.push([d,f]),i+=f-d)}return{outSplits:o,valueSlices:s,numValues:i}}function mTe(t){const e=[];for(let n=0;n<t.length;++n){const r=t[n].length,s=aa("int32",r);e.push(s),t[n].forEach((i,a)=>s[a]=i)}return e}function $7(t,e){const n=t.slice(0,e);for(;n.length<e;)n.push(1);for(let r=e;r<t.length;r++)n[e-1]*=t[r];return n}function gTe(t,e,n,r,s,i){const a=$7(e,2)[1],o=$7(i,2)[1];let c=0;for(const u of n)for(let d=u[0];d<u[1];++d){for(let f=0;f<r;++f)s[c*o+f]=t[d*a+f];++c}}function yTe(t,e,n,r,s){const i=e.slice();i[0]=s;const a=aa(n,it(i)),o=t.length,c=o===0?0:o/e[0];return gTe(t,e,r,c,a,i),[a,i]}function Yse(t,e,n,r,s,i,a,o){if(t.length===0)throw new Error("paramsNestedSplits must be non empty");if(e[0].length===0)throw new Error("Split tensors must not be scalars");const c=e[0][0]-1;if(ATe(i,a,c),r.length===0)throw new Error("params.rank must be nonzero");const u=r[0],{outSplits:d,valueSlices:f,numValues:h}=pTe(i,a,t,u),m=mTe(d),g=yTe(n,r,s,f,h);return[m,g[0],g[1]]}const P7=2147483647;function Jse(t,e,n,r,s,i,a){if(e.length>1)throw new Error("starts must be a scalar or vector");if(s.length>1)throw new Error("limits must be a scalar or vector");if(a.length>1)throw new Error("deltas must be a scalar or vector");const o=e.length===0,c=s.length===0,u=a.length===0,d=[];o||d.push(e[0]),c||d.push(s[0]),u||d.push(a[0]);for(let x=1;x<d.length;++x)if(d[x]!==d[x-1])throw new Error("starts, limits, and deltas must have the same shape");const f=d.length===0?1:d[0],h=aa("int32",f+1);h[0]=0;for(let x=0;x<f;++x){const v=o?t[0]:t[x],w=c?r[0]:r[x],B=u?i[0]:i[x];if(B===0)throw new Error("Requires delta != 0");let k;if(B>0&&w<v||B<0&&w>v)k=0;else if(k=Math.ceil(Math.abs((w-v)/B)),k>P7)throw new Error(`Requires ((limit - start) / delta) <= ${P7}`);h[x+1]=h[x]+k}const m=h[f],g=aa(n,m);let y=0;for(let x=0;x<f;++x){const v=h[x+1]-h[x];let w=o?t[0]:t[x];const B=u?i[0]:i[x];for(let k=0;k<v;++k)g[y++]=w,w+=B}return[h,g]}var Du=Qd;class t4{constructor(e,n,r,s,i,a,o,c,u,d){this.shape=e,this.shapeShape=n,this.values=r,this.valuesShape=s,this.valuesDType=i,this.defaultValue=a,this.defaultValueShape=o,this.rowPartitionValues=c,this.rowPartitionValuesShapes=u,this.rowPartitionTypes=Rte(d),this.raggedRank=Ote(this.rowPartitionTypes)}getRowPartitionTypeByDimension(e){return this.rowPartitionTypes[0]===Du.FIRST_DIM_SIZE?this.rowPartitionTypes[e+1]:this.rowPartitionTypes[e]}getRowPartitionTensor(e){return this.rowPartitionTypes[0]===Du.FIRST_DIM_SIZE?this.rowPartitionValues[e+1]:this.rowPartitionValues[e]}getMaxWidth(e){const n=this.getRowPartitionTensor(e-1);switch(this.getRowPartitionTypeByDimension(e-1)){case Du.VALUE_ROWIDS:return t4.getMaxWidthValueRowID(n);case Du.ROW_SPLITS:return t4.getMaxWidthRowSplit(n);default:throw new Error(`Cannot handle partition type ${Du[this.getRowPartitionTypeByDimension(e-1)]}`)}}static getMaxWidthRowSplit(e){const n=e.length;if(n===0||n===1)return 0;let r=0;for(let s=0;s<n-1;++s){const i=e[s+1]-e[s];i>r&&(r=i)}return r}static getMaxWidthValueRowID(e){const n=e.length;if(n===0)return 0;let r=0,s=e[0],i=0;for(let a=1;a<n;++a){const o=e[a];o!==s&&(s=o,i=Math.max(a-r,i),r=a)}return Math.max(n-r,i)}tensorShapeFromTensor(e,n,r=!0){if(n.length===0){if(e[0]===-1)return[];throw new Error("The only valid scalar shape tensor is the fully unknown shape specified as -1.")}return z7(e,r)}calculateOutputSize(e){const n=this.valuesShape,r=this.defaultValueShape;Fte(r,n);const s=this.tensorShapeFromTensor(this.shape,this.shapeShape),a=_te(this.raggedRank,s,n);a[0]<0&&(a[0]=e);for(let o=1;o<=this.raggedRank;++o)a[o]<0&&(a[o]=this.getMaxWidth(o));return a}calculateFirstParentOutputIndex(e,n,r){const s=Math.min(e,r),i=[];let a=0;for(let o=0;o<s;++o,a+=n)i.push(a);for(let o=s;o<e;++o)i.push(-1);return ce(i.length===e,()=>"Final length of result must be equal to firstDimension."),i}calculateOutputIndexRowSplit(e,n,r,s){const i=e.length,a=[];for(let o=0;o<i-1;++o){const c=e[o+1]-e[o];let u=Math.min(s,c),d=n[o];d===-1&&(u=0);for(let f=0;f<u;++f)a.push(d),d+=r;for(let f=0;f<c-u;++f)a.push(-1)}if(i>0&&a.length!==e[i-1])throw new Error("Invalid row split size.");return a}calculateOutputIndexValueRowID(e,n,r,s){const i=e.length,a=[];if(i===0)return[];let o=0,c=e[0];if(c>=n.length)throw new Error(`Got currentValueRowId=${c}, which is not less than ${n.length}`);let u=n[c];a.push(u);for(let d=1;d<i;++d){const f=e[d];if(f===c)u>=0&&(++o,o<s?u+=r:u=-1);else{if(o=0,c=f,f>=n.length)throw new Error(`Got nextValueRowId=${f} which is not less than ${n.length}`);u=n[f]}a.push(u)}if(a.length!==e.length)throw new Error("Invalid row ids.");return a}calculateOutputIndex(e,n,r,s){const i=this.getRowPartitionTensor(e),a=this.getRowPartitionTypeByDimension(e);switch(a){case Du.VALUE_ROWIDS:return this.calculateOutputIndexValueRowID(i,n,r,s);case Du.ROW_SPLITS:if(i.length-1>n.length)throw new Error(`Row partition size is greater than output size: ${i.length-1} > ${n.length}`);return this.calculateOutputIndexRowSplit(i,n,r,s);default:throw new Error(`Unsupported partition type: ${Du[a]}`)}}getFirstDimensionSize(){const e=this.rowPartitionValues[0];if(this.rowPartitionTypes.length===0)throw new Error("No row_partition_types given.");const n=this.rowPartitionTypes[0];switch(n){case Du.FIRST_DIM_SIZE:return e[0];case Du.VALUE_ROWIDS:throw new Error("Cannot handle VALUE_ROWIDS in first dimension.");case Du.ROW_SPLITS:return this.rowPartitionValuesShapes[0][0]-1;default:throw new Error(`Cannot handle type ${Du[n]}`)}}compute(){if(this.rowPartitionValues[0].length<=0)throw new Error("Invalid first partition input. Tensor requires at least one element.");const n=this.getFirstDimensionSize(),r=this.calculateOutputSize(n),s=new Array(this.raggedRank+1);s[s.length-1]=1;for(let c=s.length-2;c>=0;--c)s[c]=s[c+1]*r[c+1];const i=z7(r,!1),a=aa(this.valuesDType,it(i));if(s[0]*r[0]>0){let c=this.calculateFirstParentOutputIndex(n,s[0],r[0]);for(let u=1;u<=this.raggedRank;++u)c=this.calculateOutputIndex(u-1,c,s[u],r[u]);this.setOutput(this.raggedRank,c,a,i)}return[i,a]}setOutput(e,n,r,s){if(r.length===0)return;const i=this.values,a=r;let o=s.slice();o=o.slice(e+1);const c=it(o),u=n.length;let d=this.defaultValue;if(d.length!==c&&d.length!==1){const g=this.defaultValueShape;He(()=>{const y=Fe(d,g);d=Ig(y,o).dataSync()})}let f=0,h=0,m=0;for(let g=0;g<=u;++g){let y=g<u?n[g]:-1;if(y===m){++m;continue}if(h<m){const x=i.subarray(f*c),v=a.subarray(h*c),w=(m-h)*c;U7(v,x,w)}if(g>=u){const x=r.length;y=Math.floor(x/c)}if(y>m)if(this.defaultValue.length===1)a.subarray(m*c,y*c).fill(this.defaultValue[0]),m=y;else for(;y>m;){const x=a.slice(m*c);U7(x,d,c),++m}y<0?(f=g+1,h=m):(f=g,h=m,m=h+1)}}}function U7(t,e,n){for(let r=0;r<n;r++)t[r]=e[r]}function z7(t,e){const n=[];for(let r of t){if(r<0){if(!e)throw new Error(`Dimension ${r} must be >= 0`);if(r<-1)throw new Error(`Dimension ${r} must be >= -1`);r=-1}n.push(r)}return n}function Zse(t,e,n,r,s,i,a,o,c,u){return new t4(t,e,n,r,s,i,a,o,c,u).compute()}function eie(t,e,n,r){const s=t===e,i=t<e&&n<0,a=e<t&&n>1;if(s||i||a)return Uo(0,r);const o=Math.abs(Math.ceil((e-t)/n)),c=Uo(o,r);e<t&&n===1&&(n=-1),c[0]=t;for(let u=1;u<c.length;u++)c[u]=c[u-1]+n;return c}const tie=yA(t=>1/Math.sqrt(t)),xTe=Nm(wx,tie),bTe={kernelName:wx,backendName:"cpu",kernelFunc:xTe};function gg(t,e,n,r,s,i,a,o,c,u){const d=[r/s,s],f=t.values,h=e.values;if(r===0)return cr(n,e.dtype);const m=c instanceof Fa?c:cr(d,e.dtype);typeof c=="string"||typeof c=="number"?m.values.fill(c):typeof c=="boolean"&&m.values.fill(+c);for(let g=0;g<i;g++){const y=[];let x=0;for(let v=0;v<a;v++){const w=f[g*a+v];y.push(w),x+=w*o[v]}if(x<0||x>=r/s)throw new Error(`Invalid indices: ${y} does not index into ${n}`);for(let v=0;v<s;v++)u?m.values[x*s+v]+=h[g*s+v]:m.values[x*s+v]=e.rank===0?h[0]:h[g*s+v]}return m}const vTe=yA(t=>1/(1+Math.exp(-t))),nie=Ss(Ex,t=>1/(1+Math.exp(-t))),wTe={kernelName:Ex,backendName:"cpu",kernelFunc:nie};function rie(t,e,n,r,s){const i=FL(r,e,n),a=it(n),o=Rn(r);if(i){const f=DL(e,o);return s==="string"?t.slice(f,f+a):t.subarray(f,f+a)}const c=s==="string"?Ch(t):t,u=cr(r,s,c),d=cr(n,s);for(let f=0;f<d.size;++f){const h=d.indexToLoc(f),m=h.map((g,y)=>g+e[y]);d.set(u.get(...m),...h)}return s==="string"?tne(d.values):d.values}function r0(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{begin:i,size:a}=r;yn(s,"slice");const[o,c]=jN(s,i,a);RL(s,o,c);const u=n.data.get(s.dataId).values,d=rie(u,o,c,s.shape,s.dtype);return n.makeTensorInfo(c,s.dtype,d)}const STe={kernelName:c5,backendName:"cpu",kernelFunc:r0};function sie(t,e,n,r,s,i,a){const o=e[0],c=i[0],u=new Array(c),d=new Array(o),f=e[1];if(c===0){if(o!==0)throw new Error(Mte(o));const x=aa(n,0),v=aa(s,0);return[x,[0,f],v,u,d]}let h=!0,m=0;const g=new Array(c).fill(0);for(let x=0;x<o;++x){const v=t[x*f];if(v<0)throw new Error(Qte(x,v));if(v>=c)throw new Error(Hte(x,v,c));++g[v],h=h&&v>=m,m=v}let y=!0;for(let x=0;x<c;++x){const v=g[x]===0;u[x]=v,y=y&&!v,g[x]=Math.max(g[x],1),x>0&&(g[x]+=g[x-1])}if(y&&h){const x=t,v=r;for(let w=0;w<o;++w)d[w]=w;return[x,[o,f],v,u,d]}else{const x=g[c-1],v=aa(n,x*f),w=aa(s,x),B=new Array(c).fill(0);for(let k=0;k<o;++k){const E=t[k*f],N=B[E],O=(E===0?0:g[E-1])+N;B[E]++;for(let F=0;F<f;++F)v[O*f+F]=t[k*f+F];w[O]=r[k],d[k]=O}for(let k=0;k<c;++k)if(B[k]===0){const N=k===0?0:g[k-1];v[N*f+0]=k;for(let O=1;O<f;++O)v[N*f+O]=0;w[N]=a}return[v,[x,f],w,u,d]}}function iie(t,e,n,r,s){const i=it(r),a=e[0],o=s.length,c=[];let u=1,d=-1;for(let x=0;x<o;++x){const v=s[x];if(v===-1){if(d!==-1)throw new Error(Wte(d,x));d=x,c.push(1)}else{if(v<0)throw new Error(Vte(x,v));u*=v,c.push(v)}}if(d!==-1){if(u<=0)throw new Error(qte());const x=Math.trunc(i/u);if(u*x!==i)throw new Error(Gte(r,c));c[d]=x}if(it(c)!==i)throw new Error(Kte(r,c));const h=r.length,m=[];if(h>0){m[h-1]=1;for(let x=h-2;x>=0;--x)m[x]=m[x+1]*r[x+1]}const g=[];if(o>0){g[o-1]=1;for(let x=o-2;x>=0;--x)g[x]=g[x+1]*c[x+1]}const y=aa(n,a*o);for(let x=0;x<a;++x){let v=0;for(let w=0;w<h;++w)v+=t[x*h+w]*m[w];for(let w=0;w<o;++w)y[x*o+w]=Math.trunc(v/g[w]),v%=g[w]}return[y,[a,o],c]}function R$(t,e,n,r,s,i=!1,a=0){const o=r.length,c=[e[0],t.length/e[0]],u=c[1],f=o>0?s[o-1]+1:0;if(f<0)throw new Error(bO());const h=e.slice();h[0]=f;const m=h.reduce((B,k)=>B*k,1),g=aa(n,m);if(o===0)return f>0&&g.fill(a),[g,h];if(f<=0)throw new Error(bO());let y=0,x=1,v=0,w=s[y];for(;;){let B=0;if(x<o){if(B=s[x],w===B){++x;continue}if(w>=B)throw new Error(Xte())}if(w<0||w>=f)throw new Error(Yte(w,f));w>v&&g.fill(a,v*u,w*u);for(let k=y;k<x;++k){const E=r[k];if(E<0||E>=c[0])throw new Error(Jte(k,r[k],c[0]));for(let N=0;N<u;N++)g[w*u+N]+=t[E*u+N]}if(i)for(let k=0;k<u;k++)g[w*u+k]/=x-y;if(y=x,++x,v=w+1,w=B,x>o)break}return v<f&&g.fill(a,v*u,f*u),[g,h]}const CTe=yA(t=>Math.sqrt(t)),kTe=Ss(Nx,t=>Math.sqrt(t)),BTe={kernelName:Nx,backendName:"cpu",kernelFunc:kTe};const aie=va(((t,e)=>{const n=t-e;return n*n})),ETe=Za(jx,aie),ITe={kernelName:jx,backendName:"cpu",kernelFunc:ETe};const oie=yA((t,e)=>{const{pattern:n,replaceGlobal:r,rewrite:s}=e;return t.replace(new RegExp(n,r?"g":""),s)}),NTe=Nm(h5,oie),jTe={kernelName:h5,backendName:"cpu",kernelFunc:NTe};function lie(t,e,n,r){const s=cr(t,e.dtype);for(let i=0;i<s.size;i++){const a=s.indexToLoc(i),o=new Array(a.length);for(let c=0;c<o.length;c++)o[c]=a[c]*n[c]+r[c];s.set(e.get(...o),...a)}return s}class TTe{constructor(e,n,r,s,i,a){this.separator=Kf(e),this.nGramWidths=n,this.leftPad=Kf(r),this.rightPad=Kf(s),this.padWidth=i,this.preserveShort=a}getPadWidth(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}getNumNGrams(e,n){const r=this.getPadWidth(n);return Math.max(0,e+2*r-n+1)}createNGrams(e,n,r,s,i,a){for(let o=0;o<i;++o){const c=this.getPadWidth(a),u=Math.max(0,c-o),d=Math.max(0,c-(i-(o+1))),f=a-(u+d),h=n+(u>0?0:o-c);let m=0;m+=u*this.leftPad.length;for(let w=0;w<f;++w)m+=e[h+w].length;m+=d*this.rightPad.length;const g=u+d+f-1;m+=g*this.separator.length,r[s+o]=new Uint8Array(m);const y=r[s+o];let x=0;const v=w=>w.forEach(B=>y[x++]=B);for(let w=0;w<u;++w)v(this.leftPad),v(this.separator);for(let w=0;w<f-1;++w)v(e[h+w]),v(this.separator);if(f>0){v(e[h+f-1]);for(let w=0;w<d;++w)v(this.separator),v(this.rightPad)}else{for(let w=0;w<d-1;++w)v(this.rightPad),v(this.separator);v(this.rightPad)}}}compute(e,n){const r=e.length,s=n.length;if(s>0){let c=n[0];if(c!==0)throw new Error(`First split value must be 0, got ${c}`);for(let u=1;u<s;++u){let d=n[u]>=c;if(d=d&&n[u]<=r,!d)throw new Error(`Invalid split value ${n[u]}, must be in [${c}, ${r}]`);c=n[u]}if(c!==r)throw new Error(`Last split value must be data size. Expected ${r}, got ${c}`)}const i=s-1,a=aa("int32",s);if(r===0||s===0){const c=new Array(r);for(let u=0;u<=i;++u)a[u]=0;return[c,a]}a[0]=0;for(let c=1;c<=i;++c){const u=n[c]-n[c-1];let d=0;this.nGramWidths.forEach(f=>{d+=this.getNumNGrams(u,f)}),this.preserveShort&&u>0&&d===0&&(d=1),a[c]=a[c-1]+d}const o=new Array(a[i]);for(let c=0;c<i;++c){const u=n[c];let d=a[c];if(this.nGramWidths.forEach(f=>{const h=n[c+1]-n[c],m=this.getNumNGrams(h,f);this.createNGrams(e,u,o,d,m,f),d+=m}),this.preserveShort&&d===a[c]){const f=n[c+1]-n[c];if(f===0)continue;const h=f+2*this.padWidth;this.createNGrams(e,u,o,d,1,h)}}return[o,a]}}function cie(t,e,n,r,s,i,a,o){return new TTe(n,r,s,i,a,o).compute(t,e)}function _Te(t,e,n,r){if(!t.length)return;if(e.length===0){for(let i=0;i<t.length;++i)r.push(t.subarray(i,i+1));return}if(e.length===1){const i=e[0];let a=t.indexOf(i);for(;a!==-1;){const o=t.subarray(0,a);(!n||o.length!==0)&&r.push(o),t=t.subarray(a+1),a=t.indexOf(i)}(!n||t.length!==0)&&r.push(t);return}let s=0;for(let i=0;i<t.length+1;i++)if(i===t.length||e.indexOf(t[i])!==-1){const a=t.subarray(s,i);(!n||a.length!==0)&&r.push(a),s=i+1}}function uie(t,e,n){const r=t.length,s=[];let i=0,a=0;const o=new Array(r);for(let h=0;h<r;++h){const m=s.length;_Te(t[h],e,n,s);const g=s.length-m;o[h]=g,i+=g,a=Math.max(a,g)}const c=aa("int32",i*2),u=new Array(i),d=[r,a];let f=0;for(let h=0;h<r;++h)for(let m=0;m<o[h];++m)c[f*2]=h,c[f*2+1]=m,u[f]=s[f],++f;return[c,u,d]}function die(t,e){const n=aa("int32",t.length);for(let r=0;r<t.length;++r)n[r]=MZ(t[r]).modulo(e).getLowBitsUnsigned();return n}const fie=va(((t,e)=>t-e)),RTe=N$(((t,e,n,r)=>({real:t-n,imag:e-r}))),O$=Za(Tx,fie,RTe),OTe={kernelName:Tx,backendName:"cpu",kernelFunc:O$};function Aie(t,e){const n=new Array(t.rank);for(let s=0;s<n.length;s++)n[s]=t.shape[s]*e[s];const r=cr(n,t.dtype);for(let s=0;s<r.values.length;++s){const i=r.indexToLoc(s),a=new Array(t.rank);for(let c=0;c<a.length;c++)a[c]=i[c]%t.shape[c];const o=t.locToIndex(a);r.values[s]=t.values[o]}return r}const $v=(t,e)=>{const n=e.value-t.value;return n===0?t.index-e.index:n};function hie(t,e,n=0,r=t.length-1){for(;r>n;){if(r-n>600){const o=r-n+1,c=e-n+1,u=Math.log(o),d=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*d*(o-d)/o)*Math.sign(c-o/2),h=Math.max(n,Math.floor(e-c*d/o+f)),m=Math.min(r,Math.floor(e+(o-c)*d/o+f));hie(t,e,h,m)}const s=t[e];let i=n,a=r;for(ih(t,n,e),$v(t[r],s)>0&&ih(t,n,r);i<a;){for(ih(t,i,a),i++,a--;$v(t[i],s)<0;)i=i+1;for(;$v(t[a],s)>0;)a=a-1}$v(t[n],s)===0?ih(t,n,a):(a=a+1,ih(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}}function pie(t,e,n,r,s){const i=e[e.length-1],[a,o]=[t.length/i,i],c=ho(n,a*r),u=ho("int32",a*r);for(let f=0;f<a;f++){const h=f*o,m=t.subarray(h,h+o);let g=new Array(m.length);m.forEach((w,B)=>g[B]={value:w,index:B}),r<g.length&&(hie(g,r),g=g.slice(0,r)),s&&g.sort($v);const y=f*r,x=c.subarray(y,y+r),v=u.subarray(y,y+r);for(let w=0;w<r;w++)x[w]=g[w].value,v[w]=g[w].index}const d=e.slice();return d[d.length-1]=r,[cr(d,n,c),cr(d,"int32",u)]}function mie(t,e,n,r){const s=hr(e,n)[0],i=[1,n[0],1];for(let g=0;g<s;g++)i[0]*=n[g];i[1]=n[s];for(let g=s+1;g<n.length;g++)i[2]*=n[g];const a=new Map,o=new Int32Array(n[s]),c=new Fa(i,r,t),u=[],d=i[0]===1&&i[2]===1;for(let g=0;g<n[s];g++){let y;if(d)y=t[g].toString();else{const v=[];for(let w=0;w<i[0];w++)for(let B=0;B<i[2];B++)v.push(c.get(w,g,B));y=v.join(",")}const x=a.get(y);if(x!=null)o[g]=x;else{const v=a.size;a.set(y,v),o[g]=v,u.push(g)}}const f=i.slice();f[1]=a.size;const h=new Fa(f,r);u.forEach((g,y)=>{for(let x=0;x<i[0];x++)for(let v=0;v<i[2];v++)h.set(c.get(x,g,v),x,y,v)});const m=n.slice();return m[s]=f[1],{outputValues:h.values,outputShape:m,indices:o}}const FTe=Object.freeze(Object.defineProperty({__proto__:null,addImpl:kse,bincountImpl:j$,bincountReduceImpl:Bse,bitwiseAndImpl:Ese,castImpl:Cse,ceilImpl:Ise,concatImpl:Nse,equalImpl:jse,expImpl:_se,expm1Impl:Ose,floorDivImpl:Dse,floorImpl:Fse,gatherNdImpl:Lse,gatherV2Impl:$se,greaterEqualImpl:Use,greaterImpl:Pse,lessEqualImpl:Mse,lessImpl:zse,linSpaceImpl:Qse,logImpl:Hse,maxImpl:Wse,maximumImpl:Vse,minimumImpl:qse,multiplyImpl:T$,negImpl:Gse,notEqualImpl:Kse,prodImpl:Xse,raggedGatherImpl:Yse,raggedRangeImpl:Jse,raggedTensorToTensorImpl:Zse,rangeImpl:eie,rsqrtImpl:tie,scatterImpl:gg,sigmoidImpl:vTe,simpleAbsImpl:Sse,sliceImpl:rie,sparseFillEmptyRowsImpl:sie,sparseReshapeImpl:iie,sparseSegmentReductionImpl:R$,sqrtImpl:CTe,squaredDifferenceImpl:aie,staticRegexReplaceImpl:oie,stridedSliceImpl:lie,stringNGramsImpl:cie,stringSplitImpl:uie,stringToHashBucketFastImpl:die,subImpl:fie,tileImpl:Aie,topKImpl:pie,transposeImpl:_$,uniqueImpl:mie},Symbol.toStringTag,{value:"Module"}));pD("cpu",()=>new HN,1);const gie=Ss(ex,t=>t>=0?t:Math.exp(t)-1),DTe={kernelName:ex,backendName:"cpu",kernelFunc:gie};function yie(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{alpha:i}=r;yn([s],"leakyRelu");const a=it(s.shape),o=n.data.get(s.dataId).values,c=ho("float32",a);for(let u=0;u<o.length;u++)c[u]=o[u]<0?i*o[u]:o[u];return n.makeTensorInfo(s.shape,"float32",c)}const LTe={kernelName:Lw,backendName:"cpu",kernelFunc:yie};const $Te=va((t,e)=>t<0?e*t:t);function xie(t){const{inputs:e,backend:n}=t,{x:r,alpha:s}=e;yn([r,s],"prelu");const i=n.data.get(r.dataId).values,a=n.data.get(s.dataId).values,[o,c]=$Te(r.shape,s.shape,i,a,"float32");return n.makeTensorInfo(c,"float32",o)}const PTe={kernelName:n5,backendName:"cpu",kernelFunc:xie};const bie=Ss(xx,t=>Math.max(0,t)),UTe={kernelName:xx,backendName:"cpu",kernelFunc:bie};const vie=Ss(bx,t=>Math.min(Math.max(0,t),6)),zTe={kernelName:bx,backendName:"cpu",kernelFunc:vie};function n4(t,e,n,r,s){if(n==="linear")return uA({inputs:{x:e},backend:t});if(n==="relu")return bie({inputs:{x:e},backend:t});if(n==="elu")return gie({inputs:{x:e},backend:t});if(n==="relu6")return vie({inputs:{x:e},backend:t});if(n==="prelu")return xie({inputs:{x:e,alpha:r},backend:t});if(n==="leakyrelu")return yie({inputs:{x:e},backend:t,attrs:{alpha:s}});if(n==="sigmoid")return nie({inputs:{x:e},backend:t});throw new Error(`Activation ${n} has not been implemented for the CPU backend.`)}function ei(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{shape:i}=r,a=it(s.shape),o=sD(i,a),c=it(o);ce(a===c,()=>`The new shape (${o}) has ${c} elements and the old shape (${s.shape}) has ${a} elements. The new shape and old shape must have the same number of elements.`),n.incRef(s.dataId);const u=n.data.get(s.dataId);if(u.complexTensorInfos!=null){const d=u.complexTensorInfos.real,f=u.complexTensorInfos.imag;d.shape=o,f.shape=o}return{dataId:s.dataId,shape:o,dtype:s.dtype}}const MTe={kernelName:s5,backendName:"cpu",kernelFunc:ei};function wie(t){const{inputs:e,backend:n,attrs:r}=t,{a:s,b:i}=e,{transposeA:a,transposeB:o}=r;yn([s,i],"matMul");const c=s.shape.length,u=i.shape.length,d=a?s.shape[c-2]:s.shape[c-1],f=o?i.shape[u-1]:i.shape[u-2],h=a?s.shape[c-1]:s.shape[c-2],m=o?i.shape[u-2]:i.shape[u-1],g=s.shape.slice(0,-2),y=i.shape.slice(0,-2),x=it(g),v=it(y),B=rr(s.shape.slice(0,-2),i.shape.slice(0,-2)).concat([h,m]);ce(d===f,()=>`Error in matMul: inner shapes (${d}) and (${f}) of Tensors with shapes ${s.shape} and ${i.shape} and transposeA=${a} and transposeB=${o} must match.`);const k=a?[x,d,h]:[x,h,d],E=o?[v,m,f]:[v,f,m],N=ei({inputs:{x:s},backend:n,attrs:{shape:k}}),O=ei({inputs:{x:i},backend:n,attrs:{shape:E}}),F=a?N.shape[1]:N.shape[2],D=a?N.shape[2]:N.shape[1],T=o?O.shape[1]:O.shape[2],j=Math.max(x,v),P=n.data.get(N.dataId).values,U=n.data.get(O.dataId).values,z=Rn(N.shape),ee=Rn(O.shape),[q,Z,G]=a?[z[0],1,z[1]]:[z[0],z[1],1],[ne,K,H]=o?[1,ee[1],ee[0]]:[ee[1],1,ee[0]],Q=D*T,X=cr([j,D,T],N.dtype),re=X.values,le=n.blockSize;for(let he=0;he<j;he++){const xe=he%x,Be=he%v;for(let me=0;me<D;me+=le){const ve=Math.min(me+le,D);for(let Ee=0;Ee<T;Ee+=le){const ye=Math.min(Ee+le,T);for(let Ue=0;Ue<F;Ue+=le){const at=Math.min(Ue+le,F);for(let ie=me;ie<ve;ie++)for(let Le=Ee;Le<ye;Le++){let tt=0;for(let It=Ue;It<at;It++){const _e=P[xe*q+ie*Z+It*G],At=U[It*ne+Le*K+Be*H];tt+=_e*At}re[he*Q+(ie*T+Le)]+=tt}}}}}return n.disposeIntermediateTensorInfo(N),n.disposeIntermediateTensorInfo(O),n.makeTensorInfo(B,X.dtype,X.values)}const QTe={kernelName:vw,backendName:"cpu",kernelFunc:wie};function HTe(t){const{inputs:e,backend:n,attrs:r}=t,{a:s,b:i,bias:a,preluActivationWeights:o}=e,{transposeA:c,transposeB:u,activation:d,leakyreluAlpha:f}=r;let h,m,g;const y=[];h=wie({inputs:{a:s,b:i},attrs:{transposeA:c,transposeB:u},backend:n}),a&&(m=S1({inputs:{a:h,b:a},backend:n}),y.push(h),h=m),d&&(g=n4(n,h,d,o,f),y.push(h),h=g);for(const v of y)n.disposeIntermediateTensorInfo(v);return h}const WTe={kernelName:y2,backendName:"cpu",kernelFunc:HTe};const VTe=Ss(z1,t=>Math.acos(t)),qTe={kernelName:z1,backendName:"cpu",kernelFunc:VTe};const GTe=Ss(M1,t=>Math.acosh(t)),KTe={kernelName:M1,backendName:"cpu",kernelFunc:GTe};function XTe(t){const{inputs:e,backend:n}=t,r=e;yn(e,"addN");const s=r.map(o=>n.data.get(o.dataId).values),i=cr(r[0].shape,r[0].dtype),a=i.values;for(let o=0;o<r.length;o++){const c=s[o];for(let u=0;u<a.length;u++)a[u]+=c[u]}return n.makeTensorInfo(i.shape,i.dtype,i.values)}const YTe={kernelName:mw,backendName:"cpu",kernelFunc:XTe};function JTe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:a}=r;yn(s,"all");const o=hr(i,s.shape);let c=o;const u=Gi(c,s.shape.length);let d=s;u!=null&&(d=ec({inputs:{x:s},backend:n,attrs:{perm:u}}),c=xa(c.length,s.shape.length)),Qo("all",c,d.shape.length);const[f,h]=go(d.shape,c),m=it(h),g=Uo(it(f),d.dtype),y=n.data.get(d.dataId).values;for(let v=0;v<g.length;++v){const w=v*m;let B=y[w];for(let k=0;k<m;++k){const E=y[w+k];B=B&&E}g[v]=B}u!=null&&n.disposeIntermediateTensorInfo(d);const x=n.makeTensorInfo(f,d.dtype,g);if(a){const v=ya(f,o),w=ei({inputs:{x},backend:n,attrs:{shape:v}});return n.disposeIntermediateTensorInfo(x),w}return x}const ZTe={kernelName:PE,backendName:"cpu",kernelFunc:JTe};function e_e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:a}=r;yn(s,"any");const o=hr(i,s.shape);let c=o;const u=Gi(c,s.shape.length);let d=s;u!=null&&(d=ec({inputs:{x:s},backend:n,attrs:{perm:u}}),c=xa(c.length,s.shape.length)),Qo("any",c,d.shape.length);const[f,h]=go(d.shape,c),m=it(h),g=Uo(it(f),d.dtype),y=n.data.get(d.dataId).values;for(let v=0;v<g.length;++v){const w=v*m;let B=y[w];for(let k=0;k<m;++k){const E=y[w+k];B=B||E}g[v]=B}u!=null&&n.disposeIntermediateTensorInfo(d);const x=n.makeTensorInfo(f,d.dtype,g);if(a){const v=ya(f,o),w=ei({inputs:{x},backend:n,attrs:{shape:v}});return n.disposeIntermediateTensorInfo(x),w}return x}const t_e={kernelName:UE,backendName:"cpu",kernelFunc:e_e};function n_e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i}=r;yn(s,"argMax");let a=hr(i,s.shape);const o=Gi(a,s.shape.length);let c=s;const u=[];o!=null&&(c=ec({inputs:{x:s},backend:n,attrs:{perm:o}}),u.push(c),a=xa(a.length,c.shape.length)),a=[a[0]],Qo("argMax",a,c.shape.length);const[d,f]=go(c.shape,a),h=it(d),m=Uo(h,"int32"),g=it(f),y=n.data.get(c.dataId).values;for(let x=0;x<m.length;++x){const v=x*g;let w=y[v],B=0;for(let k=0;k<g;++k){const E=y[v+k];E>w&&(w=E,B=k)}m[x]=B}return u.forEach(x=>n.disposeIntermediateTensorInfo(x)),n.makeTensorInfo(d,"int32",m)}const r_e={kernelName:gw,backendName:"cpu",kernelFunc:n_e};function s_e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i}=r;yn(s,"argMin");let a=hr(i,s.shape);const o=Gi(a,s.shape.length);let c=s;const u=[];o!=null&&(c=ec({inputs:{x:s},backend:n,attrs:{perm:o}}),u.push(c),a=xa(a.length,c.shape.length)),a=[a[0]],Qo("argMin",a,c.shape.length);const[d,f]=go(c.shape,a),h=it(d),m=Uo(h,"int32"),g=it(f),y=n.data.get(c.dataId).values;for(let x=0;x<m.length;++x){const v=x*g;let w=y[v],B=0;for(let k=0;k<g;++k){const E=y[v+k];E<w&&(w=E,B=k)}m[x]=B}return u.forEach(x=>n.disposeIntermediateTensorInfo(x)),n.makeTensorInfo(d,"int32",m)}const i_e={kernelName:yw,backendName:"cpu",kernelFunc:s_e};const a_e=Ss(Q1,t=>Math.asin(t)),o_e={kernelName:Q1,backendName:"cpu",kernelFunc:a_e};const l_e=Ss(H1,t=>Math.asinh(t)),c_e={kernelName:H1,backendName:"cpu",kernelFunc:l_e};const u_e=Ss(W1,t=>Math.atan(t)),d_e={kernelName:W1,backendName:"cpu",kernelFunc:u_e};const f_e=va((t,e)=>Math.atan2(t,e)),A_e=Za(q1,f_e),h_e={kernelName:q1,backendName:"cpu",kernelFunc:A_e};const p_e=Ss(V1,t=>Math.atanh(t)),m_e={kernelName:V1,backendName:"cpu",kernelFunc:p_e};function F$(t,e,n,r,s,i){const a=s.strideHeight,o=s.strideWidth,c=s.dilationHeight,u=s.dilationWidth,d=s.effectiveFilterHeight,f=s.effectiveFilterWidth,h=s.padInfo.top,m=s.padInfo.left,g=i==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,y=cr(s.outShape,n),x=y.values,v=s.outShape[1]*s.outShape[2]*s.outShape[3],w=s.outShape[2]*s.outShape[3],B=s.outShape[3];for(let k=0;k<s.batchSize;++k){const E=k*v,N=k*r[0];for(let O=0;O<s.inChannels;++O)for(let F=0;F<s.outHeight;++F){const D=F*a-h,T=Math.max(0,D),j=Math.min(s.inHeight,d+D),P=E+F*w;for(let U=0;U<s.outWidth;++U){const z=U*o-m,ee=Math.max(0,z),q=Math.min(s.inWidth,f+z);let Z=g,G=0,ne=0;for(let H=T;H<j;H+=c){const Q=N+H*r[1];for(let X=ee;X<q;X+=u){const re=Q+X*r[2],le=t[re+O];i==="max"&&le>Z?Z=le:i==="avg"&&(G+=le,ne++)}if(isNaN(Z))break}const K=P+U*B+O;x[K]=i==="avg"?G/ne:Z}}}return y}function Sie(t,e,n,r,s=!1,i=!1){const a=cr(r.outShape,"int32"),o=r.strideHeight,c=r.strideWidth,u=r.dilationHeight,d=r.dilationWidth,f=r.effectiveFilterHeight,h=r.effectiveFilterWidth,m=r.padInfo.top,g=r.padInfo.left,y=cr(e,n,t);for(let x=0;x<r.batchSize;++x)for(let v=0;v<r.inChannels;++v)for(let w=0;w<r.outHeight;++w){const B=w*o-m;let k=B;for(;k<0;)k+=u;const E=Math.min(r.inHeight,f+B);for(let N=0;N<r.outWidth;++N){const O=N*c-g;let F=O;for(;F<0;)F+=d;const D=Math.min(r.inWidth,h+O);let T=Number.NEGATIVE_INFINITY,j=-1;for(let P=k;P<E;P+=u){const U=P-B;for(let z=F;z<D;z+=d){const ee=z-O,q=y.get(x,P,z,v);q>T&&(T=q,s?j=i?((x*r.inHeight+P)*r.inWidth+z)*r.inChannels+v:(P*r.inWidth+z)*r.inChannels+v:j=U*h+ee)}}a.set(j,x,w,N,v)}}return a}function Cie(t,e,n,r,s,i){const a=s.strideDepth,o=s.strideHeight,c=s.strideWidth,u=s.dilationDepth,d=s.dilationHeight,f=s.dilationWidth,h=s.effectiveFilterDepth,m=s.effectiveFilterHeight,g=s.effectiveFilterWidth,y=s.padInfo.front,x=s.padInfo.top,v=s.padInfo.left,w=i==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,B=cr(s.outShape,n),k=B.values,E=s.outShape[1]*s.outShape[2]*s.outShape[3]*s.outShape[4],N=s.outShape[2]*s.outShape[3]*s.outShape[4],O=s.outShape[3]*s.outShape[4],F=s.outShape[4];for(let D=0;D<s.batchSize;++D){const T=D*E,j=D*r[0];for(let P=0;P<s.inChannels;++P)for(let U=0;U<s.outDepth;++U){const z=U*a-y;let ee=z;for(;ee<0;)ee+=u;const q=Math.min(s.inDepth,h+z),Z=T+U*N;for(let G=0;G<s.outHeight;++G){const ne=G*o-x;let K=ne;for(;K<0;)K+=d;const H=Math.min(s.inHeight,m+ne),Q=Z+G*O;for(let X=0;X<s.outWidth;++X){const re=X*c-v;let le=re;for(;le<0;)le+=f;const he=Math.min(s.inWidth,g+re),xe=Q+X*F;let Be=w,me=0,ve=0;for(let ye=ee;ye<q;ye+=u){const Ue=j+ye*r[1];for(let at=K;at<H;at+=d){const ie=Ue+at*r[2];for(let Le=le;Le<he;Le+=f){const tt=ie+Le*r[3],It=t[tt+P];if(i==="max"&&It>Be?Be=It:i==="avg"&&(me+=It,ve++),isNaN(Be))break}if(isNaN(Be))break}if(isNaN(Be))break}const Ee=xe+P;k[Ee]=i==="avg"?me/Math.max(ve,1):Be}}}}return B}function g_e(t,e){const n=cr(e.outShape,"int32"),r=e.strideDepth,s=e.strideHeight,i=e.strideWidth,a=e.dilationDepth,o=e.dilationHeight,c=e.dilationWidth,u=e.effectiveFilterDepth,d=e.effectiveFilterHeight,f=e.effectiveFilterWidth,h=e.padInfo.front,m=e.padInfo.top,g=e.padInfo.left;for(let y=0;y<e.batchSize;++y)for(let x=0;x<e.inChannels;++x)for(let v=0;v<e.outDepth;++v){const w=v*r-h;let B=w;for(;B<0;)B+=a;const k=Math.min(e.inDepth,u+w);for(let E=0;E<e.outHeight;++E){const N=E*s-m;let O=N;for(;O<0;)O+=o;const F=Math.min(e.inHeight,d+N);for(let D=0;D<e.outWidth;++D){const T=D*i-g;let j=T;for(;j<0;)j+=c;const P=Math.min(e.inWidth,f+T);let U=Number.NEGATIVE_INFINITY,z=-1;for(let ee=B;ee<k;ee+=a){const q=ee-w;for(let Z=O;Z<F;Z+=o){const G=Z-N;for(let ne=j;ne<P;ne+=c){const K=ne-T,H=t.get(y,ee,Z,ne,x);H>=U&&(U=H,z=q*d*f+G*d+K)}}}n.set(z,y,v,E,D,x)}}}return n}function y_e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e;yn(s,"avgPool");const{filterSize:i,strides:a,pad:o,dimRoundingMode:c}=r,u=1;ce(Mo(a,u),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${a} and dilations '${u}'`);const d=od(s.shape,i,a,u,o,c);let f;if(d.filterWidth===1&&d.filterHeight===1&&vr(d.inShape,d.outShape))f=uA({inputs:{x:s},backend:n});else{const h=n.data.get(s.dataId).values,m=Rn(s.shape),g=F$(h,s.shape,s.dtype,m,d,"avg");f=n.makeTensorInfo(d.outShape,s.dtype,g.values)}return f}const x_e={kernelName:xw,backendName:"cpu",kernelFunc:y_e};function b_e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{filterSize:i,strides:a,pad:o,dimRoundingMode:c,dataFormat:u}=r;yn(s,"avgPool3d");const d=Dh(s.shape,i,a,1,o,c,u),f=n.data.get(s.dataId).values,h=Cie(f,s.shape,s.dtype,Rn(s.shape),d,"avg");return n.makeTensorInfo(h.shape,"float32",h.values)}const v_e={kernelName:bw,backendName:"cpu",kernelFunc:b_e};function w_e(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,input:i}=e,{filterSize:a,strides:o,pad:c,dimRoundingMode:u}=r;yn([s,i],"avgPool3DGrad");const d=Dh(i.shape,a,o,1,c,u),f=d.strideDepth,h=d.strideHeight,m=d.strideWidth,g=d.filterDepth,y=d.filterHeight,x=d.filterWidth,v=d.dilationDepth,w=d.dilationHeight,B=d.dilationWidth,k=d.effectiveFilterDepth,E=d.effectiveFilterHeight,N=d.effectiveFilterWidth,O=k-1-d.padInfo.front,F=N-1-d.padInfo.left,D=E-1-d.padInfo.top,T=cr(i.shape,"float32"),j=1/(g*y*x),P=n.bufferSync(s);for(let U=0;U<d.batchSize;++U)for(let z=0;z<d.inChannels;++z)for(let ee=0;ee<d.inDepth;++ee)for(let q=0;q<d.inHeight;++q)for(let Z=0;Z<d.inWidth;++Z){const G=ee-O,ne=q-D,K=Z-F;let H=0;for(let Q=0;Q<k;Q+=v){const X=(G+Q)/f;if(!(X<0||X>=d.outDepth||Math.floor(X)!==X))for(let re=0;re<E;re+=w){const le=(ne+re)/h;if(!(le<0||le>=d.outHeight||Math.floor(le)!==le))for(let he=0;he<N;he+=B){const xe=(K+he)/m;if(xe<0||xe>=d.outWidth||Math.floor(xe)!==xe)continue;const Be=P.get(U,X,le,xe,z);H+=Be}}}T.set(H*j,U,ee,q,Z,z)}return n.makeTensorInfo(T.shape,T.dtype,T.values)}const S_e={kernelName:ME,backendName:"cpu",kernelFunc:w_e};function C_e(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,input:i}=e,a=i;yn([s,i],"avgPoolGrad");const{filterSize:o,strides:c,pad:u}=r,d=od(a.shape,o,c,1,u),f=d.strideHeight,h=d.strideWidth,m=d.filterHeight,g=d.filterWidth,y=d.dilationHeight,x=d.dilationWidth,v=d.effectiveFilterHeight,w=d.effectiveFilterWidth,B=w-1-d.padInfo.left,k=v-1-d.padInfo.top,E=cr(a.shape,"float32"),N=1/(m*g),O=n.data.get(s.dataId).values,F=cr(s.shape,"float32",O);for(let D=0;D<d.batchSize;++D)for(let T=0;T<d.inChannels;++T)for(let j=0;j<d.inHeight;++j)for(let P=0;P<d.inWidth;++P){const U=j-k,z=P-B;let ee=0;for(let q=0;q<v;q+=y){const Z=(U+q)/f;if(!(Z<0||Z>=d.outHeight||Math.floor(Z)!==Z))for(let G=0;G<w;G+=x){const ne=(z+G)/h;if(ne<0||ne>=d.outWidth||Math.floor(ne)!==ne)continue;const K=F.get(D,Z,ne,T);ee+=K}}E.set(ee*N,D,j,P,T)}return n.makeTensorInfo(E.shape,E.dtype,E.values)}const k_e={kernelName:zE,backendName:"cpu",kernelFunc:C_e};function B_e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,scale:i,offset:a,mean:o,variance:c}=e;ce(o.shape.length===c.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),ce(a==null||o.shape.length===a.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),ce(i==null||o.shape.length===i.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks."),yn([s,o,c,i,a],"batchNorm");let{varianceEpsilon:u}=r;u==null&&(u=.001);const d=n.data.get(s.dataId).values,f=n.data.get(o.dataId).values,h=n.data.get(c.dataId).values,m=i?n.data.get(i.dataId).values:new Float32Array([1]),g=a?n.data.get(a.dataId).values:new Float32Array([0]),y=new Float32Array(d.length),x=g.length,v=m.length,w=h.length,B=f.length;let k=0,E=0,N=0,O=0;for(let F=0;F<d.length;++F)y[F]=g[k++]+(d[F]-f[E++])*m[N++]/Math.sqrt(h[O++]+u),k>=x&&(k=0),E>=B&&(E=0),N>=v&&(N=0),O>=w&&(O=0);return n.makeTensorInfo(s.shape,s.dtype,y)}const E_e={kernelName:Ow,backendName:"cpu",kernelFunc:B_e};function I_e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{blockShape:i,crops:a}=r;yn([s],"batchToSpaceND");const o=i.reduce((v,w)=>v*w),c=P5(s.shape,i,o),u=U5(c.length,i.length),d=z5(s.shape,i,o),f=ML(a,i.length),h=QL(d,a,i.length),m=ei({inputs:{x:s},backend:n,attrs:{shape:c}}),g=ec({inputs:{x:m},backend:n,attrs:{perm:u}}),y=ei({inputs:{x:g},backend:n,attrs:{shape:d}}),x=r0({inputs:{x:y},backend:n,attrs:{begin:f,size:h}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(y),x}const N_e={kernelName:ww,backendName:"cpu",kernelFunc:I_e};function j_e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,weights:i}=e,{size:a}=r,o=n.data.get(s.dataId).values,c=n.data.get(i.dataId).values,u=j$(o,c,i.dtype,i.shape,a);return n.makeTensorInfo([a],i.dtype,u)}const T_e={kernelName:QE,backendName:"cpu",kernelFunc:j_e};function __e(t){const{inputs:e,backend:n}=t,{s0:r,s1:s}=e,i=n.data.get(r.dataId).values,a=n.data.get(s.dataId).values,o=rr(Array.from(i),Array.from(a));return n.makeTensorInfo([o.length],"int32",Int32Array.from(o))}const R_e={kernelName:HE,backendName:"cpu",kernelFunc:__e};const O_e=Ss(X1,(t,e)=>{const n=e;return t>n.clipValueMax?n.clipValueMax:t<n.clipValueMin?n.clipValueMin:t}),F_e={kernelName:X1,backendName:"cpu",kernelFunc:O_e};const D_e=t=>{const{x:e}=t.inputs,n=t.backend,r=new Float32Array(it(e.shape)),s=n.data.get(e.dataId),i=s.complexTensorInfos.real,a=s.complexTensorInfos.imag,o=n.data.get(i.dataId).values,c=n.data.get(a.dataId).values;for(let u=0;u<o.length;u++){const d=o[u],f=c[u];r[u]=Math.hypot(d,f)}return n.makeOutput(r,e.shape,"float32")},L_e={kernelName:Cw,backendName:"cpu",kernelFunc:D_e};function C1(t){const{inputs:e,backend:n}=t,{input:r}=e,s=n.data.get(r.dataId).complexTensorInfos.imag,i=n.data.get(s.dataId).values;return n.makeTensorInfo(s.shape,s.dtype,i)}const $_e={kernelName:uI,backendName:"cpu",kernelFunc:C1};function k1(t){const{inputs:e,backend:n,attrs:r}=t,{axis:s}=r,i=hr(s,e[0].shape)[0],a=e.map(y=>y.shape);PL(a,i);let o=Yf(e.map(y=>y.shape),i);if(it(o)===0)return n.makeTensorInfo(o,e[0].dtype,[]);const c=e.filter(y=>it(y.shape)>0);if(c.length===1)return uA({inputs:{x:c[0]},backend:n});if(c[0].dtype==="complex64"){const y=c.map(k=>n0({inputs:{input:k},backend:n})),x=c.map(k=>C1({inputs:{input:k},backend:n})),v=k1({inputs:y,backend:n,attrs:{axis:i}}),w=k1({inputs:x,backend:n,attrs:{axis:i}}),B=Bc({inputs:{real:v,imag:w},backend:n});return y.forEach(k=>n.disposeIntermediateTensorInfo(k)),x.forEach(k=>n.disposeIntermediateTensorInfo(k)),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(w),B}const u=c.map(y=>{const v=[-1,it(y.shape.slice(i))];return ei({inputs:{x:y},backend:n,attrs:{shape:v}})}),d=u.map(y=>({vals:n.data.get(y.dataId).values,shape:y.shape}));o=Yf(u.map(y=>y.shape),1);const f=u[0].shape[0]===1,h=Nse(d,o,e[0].dtype,f),m=Yf(c.map(y=>y.shape),i),g=n.makeTensorInfo(m,e[0].dtype,h);return u.forEach(y=>n.disposeIntermediateTensorInfo(y)),g}const P_e={kernelName:kw,backendName:"cpu",kernelFunc:k1};function kie(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i}=e,{strides:a,pad:o,dataFormat:c,dilations:u,dimRoundingMode:d}=r;yn([s,i],"conv2d");const f=Lh(c),h=mo(s.shape,i.shape,a,u,o,d,!1,f),m=h.filterHeight,g=h.filterWidth,y=h.dilationHeight,x=h.dilationWidth,v=h.padInfo.left,w=h.padInfo.top,B=h.dataFormat==="channelsLast",k=new Fa(h.outShape,s.dtype),E=Rn(s.shape),N=Rn(i.shape),O=E[0],F=B?E[1]:E[2],D=B?E[2]:1,T=B?1:E[1],j=k.strides[0],P=B?k.strides[1]:k.strides[2],U=B?k.strides[2]:1,z=B?1:k.strides[1],ee=n.data.get(s.dataId).values,q=n.data.get(i.dataId).values,Z=k.values;for(let G=0;G<h.batchSize;++G){const ne=G*O,K=G*j;for(let H=0;H<h.outHeight;++H){const Q=K+H*P,X=H*h.strideHeight-w;for(let re=0;re<m;++re){const le=X+re*y;if(le<0||le>=h.inHeight)continue;const he=re*N[0],xe=ne+le*F;for(let Be=0;Be<h.outWidth;++Be){const me=Q+Be*U,ve=Be*h.strideWidth-v;for(let Ee=0;Ee<g;++Ee){const ye=ve+Ee*x;if(ye<0||ye>=h.inWidth)continue;const Ue=he+Ee*N[1],at=xe+ye*D;let ie=Ue;for(let Le=0;Le<h.inChannels;++Le){const tt=ee[at+Le*T];for(let It=0;It<h.outChannels;++It)Z[me+It*z]+=tt*q[ie+It];ie+=h.outChannels}}}}}}return n.makeTensorInfo(k.shape,k.dtype,Z)}const U_e={kernelName:Bw,backendName:"cpu",kernelFunc:kie};function z_e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,dy:i}=e,{strides:a,pad:o,dataFormat:c,dimRoundingMode:u,filterShape:d}=r;yn([s,i],"conv2dBackpropFilter");const f=Lh(c),h=mo(s.shape,d,a,1,o,u,!1,f),{strideHeight:m,strideWidth:g,filterHeight:y,filterWidth:x}=h,v=h.dataFormat==="channelsLast",w=new Fa(h.filterShape,"float32"),B=h.padInfo.left,k=h.padInfo.top,E=n.data.get(s.dataId).values,N=n.data.get(i.dataId).values,O=new Fa(s.shape,s.dtype,E),F=new Fa(i.shape,i.dtype,N);for(let D=0;D<y;++D){const T=Math.max(0,Math.ceil((k-D)/m)),j=Math.min(h.outHeight,(h.inHeight+k-D)/m);for(let P=0;P<x;++P){const U=Math.max(0,Math.ceil((B-P)/g)),z=Math.min(h.outWidth,(h.inWidth+B-P)/g);for(let ee=0;ee<h.inChannels;++ee)for(let q=0;q<h.outChannels;++q){let Z=0;for(let G=0;G<h.batchSize;++G)for(let ne=T;ne<j;++ne){const K=D+ne*m-k;for(let H=U;H<z;++H){const Q=P+H*g-B;v?Z+=O.get(G,K,Q,ee)*F.get(G,ne,H,q):Z+=O.get(G,ee,K,Q)*F.get(G,q,ne,H)}}w.set(Z,D,P,ee,q)}}}return n.makeTensorInfo(w.shape,w.dtype,w.values)}const M_e={kernelName:VE,backendName:"cpu",kernelFunc:z_e};function Q_e(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,filter:i}=e,{inputShape:a,strides:o,pad:c,dataFormat:u,dimRoundingMode:d}=r;yn([s,i],"conv2dBackpropInput");const f=Rn(i.shape),h=Rn(s.shape);let m=Lh(u);const g=mo(a,i.shape,o,1,c,d,!1,m),y=new Fa(g.inShape,"float32"),x=y.values,v=n.data.get(s.dataId).values,w=n.data.get(i.dataId).values,[B,k,E]=f,{batchSize:N,filterHeight:O,filterWidth:F,inChannels:D,inHeight:T,inWidth:j,outChannels:P,outHeight:U,outWidth:z,strideHeight:ee,strideWidth:q}=g;m=g.dataFormat;const Z=O-1-g.padInfo.top,G=F-1-g.padInfo.left,ne=m==="channelsLast",K=y.strides[0],H=ne?y.strides[1]:y.strides[2],Q=ne?y.strides[2]:1,X=ne?1:y.strides[1],re=h[0],le=ne?h[1]:h[2],he=ne?h[2]:1,xe=ne?1:h[1];for(let Be=0;Be<N;++Be)for(let me=0;me<D;++me)for(let ve=0;ve<T;++ve){const Ee=ve-Z,ye=Math.max(0,Math.ceil(Ee/ee)),Ue=Math.min(U,(O+Ee)/ee);for(let at=0;at<j;++at){const ie=at-G,Le=Math.max(0,Math.ceil(ie/q)),tt=Math.min(z,(F+ie)/q);let It=0;for(let At=ye;At<Ue;++At){const ot=At*ee-Ee;for(let $t=Le;$t<tt;++$t){const kt=$t*q-ie,Ht=re*Be+le*At+he*$t,Sn=B*(O-1-ot)+k*(F-1-kt)+E*me;for(let zt=0;zt<P;++zt){const en=v[Ht+xe*zt],fn=w[Sn+zt];It+=en*fn}}}const _e=K*Be+H*ve+Q*at+X*me;x[_e]=It}}return n.makeTensorInfo(y.shape,y.dtype,y.values)}const H_e={kernelName:Ew,backendName:"cpu",kernelFunc:Q_e};function W_e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i}=e,{strides:a,pad:o,dilations:c}=r;yn([s,i],"conv3d");const u=Sm(s.shape,i.shape,a,c,o),{filterDepth:d,filterHeight:f,filterWidth:h,dilationDepth:m,dilationHeight:g,dilationWidth:y,padInfo:x}=u,v=x.front,w=x.left,B=x.top,k=new Fa(u.outShape,s.dtype),E=n.data.get(s.dataId).values,N=n.data.get(i.dataId).values,O=k.values,F=Rn(s.shape),D=Rn(i.shape);for(let T=0;T<u.batchSize;++T){const j=T*F[0],P=T*k.strides[0];for(let U=0;U<u.outDepth;++U){const z=P+U*k.strides[1],ee=U*u.strideDepth-v;for(let q=0;q<d;++q){const Z=ee+q*m;if(Z<0||Z>=u.inDepth)continue;const G=q*D[0],ne=j+Z*F[1];for(let K=0;K<u.outHeight;++K){const H=z+K*k.strides[2],Q=K*u.strideHeight-B;for(let X=0;X<f;++X){const re=Q+X*g;if(re<0||re>=u.inHeight)continue;const le=G+X*D[1],he=ne+re*F[2];for(let xe=0;xe<u.outWidth;++xe){const Be=H+xe*u.outChannels,me=xe*u.strideWidth-w;for(let ve=0;ve<h;++ve){const Ee=me+ve*y;if(Ee<0||Ee>=u.inWidth)continue;const ye=le+ve*D[2],Ue=he+Ee*u.inChannels;let at=ye;for(let ie=0;ie<u.inChannels;++ie){const Le=E[Ue+ie];for(let tt=0;tt<u.outChannels;++tt)O[Be+tt]+=Le*N[at+tt];at+=u.outChannels}}}}}}}}return n.makeTensorInfo(k.shape,k.dtype,k.values)}const V_e={kernelName:Iw,backendName:"cpu",kernelFunc:W_e};function q_e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,dy:i}=e,{strides:a,pad:o,filterShape:c}=r;yn([s,i],"conv3dBackpropFilterV2");const u=Rn(s.shape),d=Rn(i.shape),f=Sm(s.shape,c,a,1,o),h=f.strideDepth,m=f.strideHeight,g=f.strideWidth,y=f.filterDepth,x=f.filterHeight,v=f.filterWidth,w=new Fa(f.filterShape,"float32"),B=w.values,[k,E,N,O]=w.strides,F=n.data.get(i.dataId).values,[D,T,j,P]=d,U=n.data.get(s.dataId).values,[z,ee,q,Z]=u,G=f.padInfo.front,ne=f.padInfo.left,K=f.padInfo.top;for(let H=0;H<y;++H){const Q=Math.max(0,Math.ceil((G-H)/h)),X=Math.min(f.outDepth,(f.inDepth+G-H)/h),re=H*k;for(let le=0;le<x;++le){const he=Math.max(0,Math.ceil((K-le)/m)),xe=Math.min(f.outHeight,(f.inHeight+K-le)/m),Be=le*E+re;for(let me=0;me<v;++me){const ve=Math.max(0,Math.ceil((ne-me)/g)),Ee=Math.min(f.outWidth,(f.inWidth+ne-me)/g),ye=me*N+Be;for(let Ue=0;Ue<f.inChannels;++Ue){const at=Ue*O+ye;for(let ie=0;ie<f.outChannels;++ie){let Le=0;for(let tt=0;tt<f.batchSize;++tt){const It=tt*z,_e=tt*D;for(let At=Q;At<X;++At){const $t=(H+At*h-G)*ee+It,kt=At*T+_e;for(let Ht=he;Ht<xe;++Ht){const zt=(le+Ht*m-K)*q+$t,en=Ht*j+kt;for(let fn=ve;fn<Ee;++fn){const rn=(me+fn*g-ne)*Z+zt,Yt=fn*P+en;Le+=U[rn+Ue]*F[Yt+ie]}}}}B[at+ie]=Le}}}}}return n.makeTensorInfo(w.shape,w.dtype,w.values)}const G_e={kernelName:qE,backendName:"cpu",kernelFunc:q_e};function K_e(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,filter:i}=e,{pad:a,strides:o,inputShape:c}=r;yn([s],"conv3dBackpropInputV2");const u=Rn(s.shape),d=Rn(i.shape),f=Sm(c,i.shape,o,1,a),h=new Fa(f.inShape,"float32"),m=h.values,[g,y,x,v]=h.strides,w=n.data.get(s.dataId).values,[B,k,E,N]=u,O=n.data.get(i.dataId).values,[F,D,T,j]=d,{batchSize:P,filterDepth:U,filterHeight:z,filterWidth:ee,inChannels:q,inDepth:Z,inHeight:G,inWidth:ne,outChannels:K,outDepth:H,outHeight:Q,outWidth:X,strideDepth:re,strideHeight:le,strideWidth:he}=f,xe=U-1-f.padInfo.front,Be=z-1-f.padInfo.top,me=ee-1-f.padInfo.left;for(let ve=0;ve<P;++ve)for(let Ee=0;Ee<q;++Ee)for(let ye=0;ye<Z;++ye){const Ue=ye-xe,at=Math.max(0,Math.ceil(Ue/re)),ie=Math.min(H,(U+Ue)/re);for(let Le=0;Le<G;++Le){const tt=Le-Be,It=Math.max(0,Math.ceil(tt/le)),_e=Math.min(Q,(z+tt)/le);for(let At=0;At<ne;++At){const ot=At-me,$t=Math.max(0,Math.ceil(ot/he)),kt=Math.min(X,(ee+ot)/he);let Ht=0;for(let Sn=at;Sn<ie;++Sn){const zt=Sn*re-Ue;for(let en=It;en<_e;++en){const fn=en*le-tt;for(let Qt=$t;Qt<kt;++Qt){const rn=Qt*he-ot,Yt=B*ve+k*Sn+E*en+N*Qt,sn=F*(U-1-zt)+D*(z-1-fn)+T*(ee-1-rn)+j*Ee;for(let On=0;On<K;++On){const Ot=w[Yt+On],xn=O[sn+On];Ht+=Ot*xn}}}}m[g*ve+y*ye+x*Le+v*At+Ee]=Ht}}}return n.makeTensorInfo(h.shape,h.dtype,h.values)}const X_e={kernelName:GE,backendName:"cpu",kernelFunc:K_e};const Y_e=Ss(Y1,t=>Math.cos(t)),J_e={kernelName:Y1,backendName:"cpu",kernelFunc:Y_e};const Z_e=Ss(J1,t=>Math.cosh(t)),eRe={kernelName:J1,backendName:"cpu",kernelFunc:Z_e};function tRe(t){const{inputs:e,backend:n,attrs:r}=t,{image:s,boxes:i,boxInd:a}=e,{cropSize:o,method:c,extrapolationValue:u}=r,[d,f,h,m]=s.shape,g=i.shape[0],[y,x]=o,v=cr([g,y,x,m],"float32"),w=n.data.get(i.dataId).values,B=n.data.get(a.dataId).values,k=n.data.get(s.dataId).values,E=Rn(s.shape),N=Rn(v.shape);for(let O=0;O<g;O++){const F=O*4,D=w[F],T=w[F+1],j=w[F+2],P=w[F+3],U=B[O];if(U>=d)continue;const z=y>1?(j-D)*(f-1)/(y-1):0,ee=x>1?(P-T)*(h-1)/(x-1):0;for(let q=0;q<y;q++){const Z=y>1?D*(f-1)+q*z:.5*(D+j)*(f-1);if(Z<0||Z>f-1){for(let G=0;G<x;G++)for(let ne=0;ne<m;ne++){const K=ne+G*N[2]+q*N[1]+O*N[0];v.values[K]=u}continue}if(c==="bilinear"){const G=Math.floor(Z),ne=Math.ceil(Z),K=Z-G;for(let H=0;H<x;H++){const Q=x>1?T*(h-1)+H*ee:.5*(T+P)*(h-1);if(Q<0||Q>h-1){for(let he=0;he<m;he++){const xe=he+H*N[2]+q*N[1]+O*N[0];v.values[xe]=u}continue}const X=Math.floor(Q),re=Math.ceil(Q),le=Q-X;for(let he=0;he<m;he++){let xe=he+X*E[2]+G*E[1]+U*E[0];const Be=k[xe];xe=he+re*E[2]+G*E[1]+U*E[0];const me=k[xe];xe=he+X*E[2]+ne*E[1]+U*E[0];const ve=k[xe];xe=he+re*E[2]+ne*E[1]+U*E[0];const Ee=k[xe],ye=Be+(me-Be)*le,Ue=ve+(Ee-ve)*le;xe=he+H*N[2]+q*N[1]+O*N[0],v.values[xe]=ye+(Ue-ye)*K}}}else for(let G=0;G<x;++G){const ne=x>1?T*(h-1)+G*ee:.5*(T+P)*(h-1);if(ne<0||ne>h-1){for(let Q=0;Q<m;Q++){const X=Q+G*N[2]+q*N[1]+O*N[0];v.values[X]=u}continue}const K=Math.round(ne),H=Math.round(Z);for(let Q=0;Q<m;Q++){const X=Q+K*E[2]+H*E[1]+U*E[0],re=Q+G*N[2]+q*N[1]+O*N[0];v.values[re]=k[X]}}}}return n.makeTensorInfo(v.shape,v.dtype,v.values)}const nRe={kernelName:XE,backendName:"cpu",kernelFunc:tRe};function rRe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,exclusive:a,reverse:o}=r;yn(s,"cumprod");const c=Gi([i],s.shape.length);let u=s;c!=null&&(u=ec({inputs:{x:s},backend:n,attrs:{perm:c}}));const d=xa(1,s.shape.length)[0];if(d!==u.shape.length-1)throw new Error(`backend.cumprod in CPU expects an inner-most axis=${u.shape.length-1} but got axis=${d}`);const f=Kl(u.dtype,"int32"),h=$E(it(u.shape),f),m=n.data.get(u.dataId).values,g=u.shape[u.shape.length-1],y=o?(v,w)=>v+g-w-1:(v,w)=>v+w;for(let v=0;v<m.length;v+=g)for(let w=0;w<g;w++){const B=y(v,w);if(w===0)h[B]=a?1:m[B];else{const k=y(v,w-1);h[B]=a?m[k]*h[k]:m[B]*h[k]}}const x=n.makeTensorInfo(u.shape,f,h);if(c!=null){const v=Cm(c),w=ec({inputs:{x},backend:n,attrs:{perm:v}});return n.disposeIntermediateTensorInfo(x),n.disposeIntermediateTensorInfo(u),w}return x}const sRe={kernelName:KE,backendName:"cpu",kernelFunc:rRe};function iRe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,exclusive:a,reverse:o}=r;yn(s,"cumsum");const c=Gi([i],s.shape.length);let u=s;c!=null&&(u=ec({inputs:{x:s},backend:n,attrs:{perm:c}}));const d=xa(1,s.shape.length)[0];if(d!==u.shape.length-1)throw new Error(`backend.cumsum in CPU expects an inner-most axis=${u.shape.length-1} but got axis=${d}`);const f=Kl(u.dtype,"int32"),h=Uo(it(u.shape),f),m=n.data.get(u.dataId).values,g=u.shape[u.shape.length-1],y=o?(v,w)=>v+g-w-1:(v,w)=>v+w;for(let v=0;v<m.length;v+=g)for(let w=0;w<g;w++){const B=y(v,w);if(w===0)h[B]=a?0:m[B];else{const k=y(v,w-1);h[B]=a?m[k]+h[k]:m[B]+h[k]}}const x=n.makeTensorInfo(u.shape,f,h);if(c!=null){const v=Cm(c),w=ec({inputs:{x},backend:n,attrs:{perm:v}});return n.disposeIntermediateTensorInfo(x),n.disposeIntermediateTensorInfo(u),w}return x}const aRe={kernelName:Nw,backendName:"cpu",kernelFunc:iRe};function oRe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,weights:i}=e,{size:a,binaryOutput:o}=r;if(s.shape.length===1){const c=n.data.get(s.dataId).values,u=n.data.get(i.dataId).values,d=j$(c,u,i.dtype,i.shape,a);return n.makeTensorInfo([a],i.dtype,d)}else if(s.shape.length===2){const c=n.bufferSync(s),u=n.bufferSync(i),d=Bse(c,u,a,o);return n.makeTensorInfo(d.shape,i.dtype,d.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${s.shape.length}.`)}const lRe={kernelName:YE,backendName:"cpu",kernelFunc:oRe};function cRe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{blockSize:i,dataFormat:a}=r;ce(a==="NHWC",()=>`Only NHWC dataFormat supported on CPU for depthToSpace. Got ${a}`);const o=s.shape[0],c=s.shape[1],u=s.shape[2],d=s.shape[3],f=c*i,h=u*i,m=d/(i*i),g=n.data.get(s.dataId).values,y=new Float32Array(o*f*h*m);let x=0;for(let v=0;v<o;++v)for(let w=0;w<f;++w){const B=Math.floor(w/i),k=w%i;for(let E=0;E<h;++E){const N=Math.floor(E/i),O=E%i,F=(k*i+O)*m;for(let D=0;D<m;++D){const j=D+F+d*(N+u*(B+c*v));y[x++]=g[j]}}}return n.makeTensorInfo([o,f,h,m],s.dtype,y)}const uRe={kernelName:JE,backendName:"cpu",kernelFunc:cRe};function Bie(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i}=e,{strides:a,pad:o,dilations:c,dimRoundingMode:u}=r;yn([s,i],"depthwiseConv2DNative");const d=Rn(s.shape),f=Rn(i.shape);let h=c;h==null&&(h=[1,1]),ce(Mo(a,h),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${a} and dilations '${h}'`);const m=mo(s.shape,i.shape,a,h,o,u,!0),{filterHeight:g,filterWidth:y,dilationHeight:x,dilationWidth:v,padInfo:w}=m,B=w.left,k=w.top,E=m.outChannels/m.inChannels,N=new Fa(m.outShape,s.dtype),O=n.data.get(s.dataId).values,F=n.data.get(i.dataId).values,D=N.values;for(let T=0;T<m.batchSize;++T){const j=T*d[0],P=T*N.strides[0];for(let U=0;U<m.outHeight;++U){const z=P+U*N.strides[1],ee=U*m.strideHeight-k;for(let q=0;q<g;++q){const Z=ee+q*x;if(Z<0||Z>=m.inHeight)continue;const G=q*f[0],ne=j+Z*d[1];for(let K=0;K<m.outWidth;++K){const H=z+K*N.strides[2],Q=K*m.strideWidth-B;for(let X=0;X<y;++X){const re=Q+X*v;if(re<0||re>=m.inWidth)continue;const le=G+X*f[1],he=ne+re*m.inChannels;let xe=H,Be=le;for(let me=0;me<m.inChannels;++me){const ve=O[he+me];for(let Ee=0;Ee<E;++Ee)D[xe+Ee]+=ve*F[Be+Ee];xe+=E,Be+=E}}}}}}return n.makeTensorInfo(N.shape,N.dtype,N.values)}const dRe={kernelName:jw,backendName:"cpu",kernelFunc:Bie};function fRe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,dy:i}=e,{strides:a,dilations:o,pad:c,dimRoundingMode:u,filterShape:d}=r;yn([s,i],"depthwiseConv2dNativeBackpropFilter");const f=mo(s.shape,d,a,o,c,u,!0),{strideHeight:h,strideWidth:m,filterHeight:g,filterWidth:y}=f,x=new Fa(f.filterShape,"float32"),v=f.padInfo.left,w=f.padInfo.top,B=f.outChannels/f.inChannels,k=n.data.get(s.dataId).values,E=new Fa(s.shape,s.dtype,k),N=n.data.get(i.dataId).values,O=new Fa(i.shape,i.dtype,N);for(let F=0;F<g;++F){const D=Math.max(0,Math.ceil((w-F)/h)),T=Math.min(f.outHeight,(f.inHeight+w-F)/h);for(let j=0;j<y;++j){const P=Math.max(0,Math.ceil((v-j)/m)),U=Math.min(f.outWidth,(f.inWidth+v-j)/m);for(let z=0;z<f.outChannels;++z){const ee=Math.trunc(z/B),q=z%B;let Z=0;for(let G=0;G<f.batchSize;++G)for(let ne=D;ne<T;++ne){const K=F+ne*h-w;for(let H=P;H<U;++H){const Q=j+H*m-v;Z+=E.get(G,K,Q,ee)*O.get(G,ne,H,z)}}x.set(Z,F,j,ee,q)}}}return n.makeTensorInfo(x.shape,x.dtype,x.values)}const ARe={kernelName:ZE,backendName:"cpu",kernelFunc:fRe};function hRe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,filter:i}=e,{strides:a,dilations:o,pad:c,dimRoundingMode:u,inputShape:d}=r;yn([s,i],"depthwiseConv2DNativeBackpropInput");const f=Rn(s.shape),h=Rn(i.shape),m=mo(d,i.shape,a,o,c,u,!0),g=new Fa(m.inShape,"float32"),y=g.values,[x,v,w]=g.strides,B=n.data.get(s.dataId).values,[k,E,N]=f,O=n.data.get(i.dataId).values,[F,D,T]=h,{batchSize:j,filterHeight:P,filterWidth:U,inChannels:z,inHeight:ee,inWidth:q,outChannels:Z,outHeight:G,outWidth:ne,strideHeight:K,strideWidth:H}=m,Q=P-1-m.padInfo.top,X=U-1-m.padInfo.left,re=Z/z;for(let le=0;le<j;++le)for(let he=0;he<z;++he)for(let xe=0;xe<ee;++xe){const Be=xe-Q,me=Math.max(0,Math.ceil(Be/K)),ve=Math.min(G,(P+Be)/K);for(let Ee=0;Ee<q;++Ee){const ye=Ee-X,Ue=Math.max(0,Math.ceil(ye/H)),at=Math.min(ne,(U+ye)/H);let ie=0;for(let Le=me;Le<ve;++Le){const tt=Le*K-Be;for(let It=Ue;It<at;++It){const _e=It*H-ye,At=k*le+E*Le+N*It,ot=F*(P-1-tt)+D*(U-1-_e)+T*he;for(let $t=0;$t<re;++$t){const kt=he*re+$t,Ht=B[At+kt],Sn=O[ot+$t];ie+=Ht*Sn}}}y[x*le+v*xe+w*Ee+he]=ie}}return n.makeTensorInfo(g.shape,g.dtype,g.values)}const pRe={kernelName:eI,backendName:"cpu",kernelFunc:hRe};function mRe(t){const{inputs:e,backend:n}=t,{x:r}=e,s=it(r.shape),i=n.data.get(r.dataId).values,a=cr([s,s],r.dtype),o=a.values;for(let u=0;u<i.length;u++)o[u*s+u]=i[u];const c=[...r.shape,...r.shape];return n.makeTensorInfo(c,a.dtype,a.values)}const gRe={kernelName:tI,backendName:"cpu",kernelFunc:mRe};const yRe={kernelName:Tw,backendName:"cpu",kernelFunc:({inputs:t,backend:e,attrs:n})=>{const{x:r,filter:s}=t,{strides:i,pad:a,dilations:o}=n,c=e,u=c.data.get(r.dataId).values,d=r.shape.length,f=c.data.get(s.dataId).values,h=s.shape.length,{batchSize:m,inHeight:g,inWidth:y,inChannels:x,outHeight:v,outWidth:w,padInfo:B,strideHeight:k,strideWidth:E,filterHeight:N,filterWidth:O,dilationHeight:F,dilationWidth:D,outShape:T}=b5(r.shape,s.shape,i,a,"NHWC",o),j=it(T),P=T.length,U=aa(r.dtype,j);for(let ee=0;ee<m;++ee)for(let q=0;q<v;++q){const Z=q*k-B.top;for(let G=0;G<w;++G){const ne=G*E-B.left;for(let K=0;K<x;++K){let H=Number.MIN_SAFE_INTEGER;for(let X=0;X<N;++X){const re=Z+X*F;if(re>=0&&re<g)for(let le=0;le<O;++le){const he=ne+le*D;if(he>=0&&he<y){const xe=Xd([ee,re,he,K],d,Rn(r.shape)),Be=Xd([X,le,K],h,Rn(s.shape)),me=u[xe]+f[Be];me>H&&(H=me)}}}const Q=Xd([ee,q,G,K],P,Rn(T));U[Q]=H}}}return{dataId:c.write(vm(U,r.dtype),T,r.dtype),shape:T,dtype:r.dtype}}};const xRe={kernelName:LB,backendName:"cpu",kernelFunc:({inputs:t,backend:e,attrs:n})=>{const{x:r,filter:s,dy:i}=t,{strides:a,pad:o,dilations:c}=n,u=e,d=du(r.shape,u.data.get(r.dataId).values),f=du(s.shape,u.data.get(s.dataId).values),{batchSize:h,inHeight:m,inWidth:g,inChannels:y,outHeight:x,outWidth:v,padInfo:w,strideHeight:B,strideWidth:k,filterHeight:E,filterWidth:N,dilationHeight:O,dilationWidth:F,outShape:D}=b5(r.shape,s.shape,a,o,"NHWC",c);ce(i.rank===D.length,()=>`Error in ${LB}, dy must have the same rank as output ${D.length}, but got ${i.rank}`);const T=du(D,u.data.get(i.dataId).values),j=aD(s.shape,s.dtype);for(let U=0;U<h;++U)for(let z=0;z<x;++z){const ee=z*B-w.top;for(let q=0;q<v;++q){const Z=q*k-w.left;for(let G=0;G<y;++G){let ne=Number.MIN_SAFE_INTEGER,K=0,H=0;for(let Q=0;Q<E;++Q){const X=ee+Q*O;if(X>=0&&X<m)for(let re=0;re<N;++re){const le=Z+re*F;if(le>=0&&le<g){const he=d[U][X][le][G]+f[Q][re][G];he>ne&&(ne=he,K=Q,H=re)}}}j[K][H][G]+=T[U][z][q][G]}}}return{dataId:u.write(vm(j,r.dtype),s.shape,s.dtype),shape:s.shape,dtype:s.dtype}}};const bRe={kernelName:DB,backendName:"cpu",kernelFunc:({inputs:t,backend:e,attrs:n})=>{const{x:r,filter:s,dy:i}=t,{strides:a,pad:o,dilations:c}=n,u=e,d=du(r.shape,u.data.get(r.dataId).values),f=du(s.shape,u.data.get(s.dataId).values),{batchSize:h,inHeight:m,inWidth:g,inChannels:y,outHeight:x,outWidth:v,padInfo:w,strideHeight:B,strideWidth:k,filterHeight:E,filterWidth:N,dilationHeight:O,dilationWidth:F,outShape:D}=b5(r.shape,s.shape,a,o,"NHWC",c);ce(i.rank===D.length,()=>`Error in ${DB}, dy must have the same rank as output ${D.length}, but got ${i.rank}`);const T=du(D,u.data.get(i.dataId).values),j=aD(r.shape,r.dtype);for(let U=0;U<h;++U)for(let z=0;z<x;++z){const ee=z*B-w.top;for(let q=0;q<v;++q){const Z=q*k-w.left;for(let G=0;G<y;++G){let ne=Number.MIN_SAFE_INTEGER,K=ee<0?0:ee,H=Z<0?0:Z;for(let Q=0;Q<E;++Q){const X=ee+Q*O;if(X>=0&&X<m)for(let re=0;re<N;++re){const le=Z+re*F;if(le>=0&&le<g){const he=d[U][X][le][G]+f[Q][re][G];he>ne&&(ne=he,K=X,H=le)}}}j[U][K][H][G]+=T[U][z][q][G]}}}return{dataId:u.write(vm(j,r.dtype),r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};function vRe(t){const{inputs:e,backend:n,attrs:r}=t,{image:s}=e,{canvas:i,options:a}=r,{contextOptions:o,imageOptions:c}=a||{},u=c?.alpha||1,d=o?.contextType||"2d";if(d!=="2d")throw new Error(`Context type ${o.contextType} is not supported by the CPU backend.`);const f=i.getContext(d,o?.contextAttributes||{});if(f==null)throw new Error(`Could not get the context with ${d} type.`);const[h,m]=s.shape.slice(0,2),g=s.shape.length===2?1:s.shape[2],y=n.data.get(s.dataId).values,x=s.dtype==="float32"?255:1,v=new Uint8ClampedArray(m*h*4);for(let B=0;B<h*m;++B){const k=[0,0,0,255*u];for(let N=0;N<g;N++){const O=y[B*g+N];if(s.dtype==="float32"){if(O<0||O>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${O}.`)}else if(s.dtype==="int32"&&(O<0||O>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${O}.`);g===1?(k[0]=O*x,k[1]=O*x,k[2]=O*x):k[N]=O*x}const E=B*4;v[E+0]=Math.round(k[0]),v[E+1]=Math.round(k[1]),v[E+2]=Math.round(k[2]),v[E+3]=Math.round(k[3])}i.width=m,i.height=h;const w=new ImageData(v,m,h);return f.putImageData(w,0,0),s}const wRe={kernelName:nI,backendName:"cpu",kernelFunc:vRe};function X5(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:a}=r;yn(s,"sum");let o;s.dtype==="bool"?o=Am({inputs:{x:s},backend:n,attrs:{dtype:"int32"}}):o=uA({inputs:{x:s},backend:n});const c=o.shape.length,u=hr(i,o.shape),d=Gi(u,c);let f=u,h=o;d!=null&&(h=ec({inputs:{x:o},backend:n,attrs:{perm:d}}),f=xa(f.length,c)),Qo("sum",f,h.shape.length);const[m,g]=go(h.shape,f),y=Kl(h.dtype,"int32");let x=e4(n,m,y);const v=it(g),w=n.data.get(x.dataId).values,B=n.data.get(h.dataId).values;for(let k=0;k<w.length;++k){const E=k*v;let N=0;for(let O=0;O<v;++O)N+=B[E+O];w[k]=N}if(a){const k=ya(x.shape,u),E=x;x=ei({inputs:{x},backend:n,attrs:{shape:k}}),n.disposeIntermediateTensorInfo(E)}return n.disposeIntermediateTensorInfo(o),d!=null&&n.disposeIntermediateTensorInfo(h),x}const SRe={kernelName:u5,backendName:"cpu",kernelFunc:X5};function CRe(t){const{inputs:e,backend:n,attrs:r}=t,{equation:s}=r,i=e,{allDims:a,summedDims:o,idDims:c}=YL(s,i.length);ZL(a.length,c,i);const{path:u,steps:d}=e$(o,c),f=d.length;let h=null,m=a.length;const g=[];for(let y=0;y<f;++y){for(const x of d[y]){const{permutationIndices:v,expandDims:w}=JL(m,c[x]);let B;t$(v)?B=i[x]:(B=ec({inputs:{x:i[x]},backend:n,attrs:{perm:v}}),g.push(B));const k=B.shape.slice();for(let E=0;E<w.length;++E)k.splice(w[E],0,1);vr(B.shape,k)||(B=ei({inputs:{x:B},backend:n,attrs:{shape:k}}),g.push(B)),h===null?h=B:(h=WN({inputs:{a:B,b:h},backend:n}),g.push(h))}y<f-1&&(u[y]>=0&&(h=X5({inputs:{x:h},backend:n,attrs:{axis:u[y]-(a.length-m),keepDims:!1}}),g.push(h)),m--)}for(const y of g)y!==h&&n.disposeIntermediateTensorInfo(y);return h}const kRe={kernelName:rI,backendName:"cpu",kernelFunc:CRe};function BRe(t){const{inputs:e,backend:n}=t,{dy:r,y:s}=e;yn([r,s],"eluGrad");const i=new Float32Array(it(s.shape)),a=n.data.get(s.dataId).values,o=n.data.get(r.dataId).values;for(let c=0;c<a.length;++c){const u=a[c];u>=0?i[c]=o[c]:i[c]=o[c]*(u+1)}return n.makeTensorInfo(s.shape,"float32",i)}const ERe={kernelName:sI,backendName:"cpu",kernelFunc:BRe};const IRe=HL,NRe=WL,jRe=VL,TRe=qL,_Re=GL,RRe=KL,ORe=Ss(tx,t=>{const e=Math.sign(t),n=Math.abs(t),r=1/(1+IRe*n);return e*(1-((((RRe*r+_Re)*r+TRe)*r+jRe)*r+NRe)*r*Math.exp(-n*n))}),FRe={kernelName:tx,backendName:"cpu",kernelFunc:ORe};function r4(t){const{inputs:e,backend:n,attrs:r}=t,{input:s}=e,{dim:i}=r,a=s.shape.length,o=s.shape.slice();let c=i;return i<0&&(ce(-(a+1)<=i,()=>`Axis must be in the interval [${-(a+1)}, ${a}]`),c=a+i+1),o.splice(c,0,1),ei({inputs:{x:s},backend:n,attrs:{shape:o}})}const DRe={kernelName:Rw,backendName:"cpu",kernelFunc:r4};const LRe=va((t,e)=>t/e),D$=Za(Z1,LRe),QO={kernelName:Z1,backendName:"cpu",kernelFunc:D$};function Eie(t,e,n){const r=t.shape,s=r[0],i=r[1],a=n.data.get(t.dataId),o=a.complexTensorInfos.real,c=a.complexTensorInfos.imag,u=[s,i],d=it(u),f=ho("float32",d),h=ho("float32",d);for(let x=0;x<s;x++){const v=r0({inputs:{x:o},backend:n,attrs:{begin:[x,0],size:[1,i]}}),w=r0({inputs:{x:c},backend:n,attrs:{begin:[x,0],size:[1,i]}}),B=Bc({inputs:{real:v,imag:w},backend:n}),{real:k,imag:E}=$Re(B,e,n),N=Sh(k,E);for(let O=0;O<i;O++){const F=XL(N,O);f[x*i+O]=F.real,h[x*i+O]=F.imag}n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(w),n.disposeIntermediateTensorInfo(B)}const m=n.makeTensorInfo(u,"float32",f),g=n.makeTensorInfo(u,"float32",h),y=Bc({inputs:{real:m,imag:g},backend:n});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(g),y}function $Re(t,e,n){const r=it(t.shape),s=n.data.get(t.dataId),i=n.data.get(s.complexTensorInfos.real.dataId).values,a=n.data.get(s.complexTensorInfos.imag.dataId).values;if(PRe(r)){const o=HO(i,a,r,e,n),c=[t.shape[0],t.shape[1]];if(e){const u=n.makeTensorInfo(c,"float32",o.real),d=n.makeTensorInfo(c,"float32",o.imag),f=n.makeTensorInfo([],"float32",Fh(r,"float32")),h=uA({inputs:{x:f},backend:n}),m=QO.kernelFunc({inputs:{a:u,b:f},backend:n}),g=QO.kernelFunc({inputs:{a:d,b:h},backend:n}),y=n.data.get(m.dataId).values,x=n.data.get(g.dataId).values;return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(g),{real:y,imag:x}}return o}else{const o=Sh(i,a),c=URe(o,r,e);return Dte(c)}}function PRe(t){return(t&t-1)===0}function HO(t,e,n,r,s){if(n===1)return{real:t,imag:e};const i=Sh(t,e),a=n/2,o=Lte(i),c=o.real,u=o.imag,d=[c.length],f=s.makeTensorInfo(d,"float32",c),h=s.makeTensorInfo(d,"float32",u),m=Bc({inputs:{real:f,imag:h},backend:s}),g=$te(i),y=g.real,x=g.imag,v=[y.length],w=s.makeTensorInfo(v,"float32",y),B=s.makeTensorInfo(v,"float32",x),k=Bc({inputs:{real:w,imag:B},backend:s}),E=HO(c,u,a,r,s),N=E.real,O=E.imag,F=[N.length],D=s.makeTensorInfo(F,"float32",N),T=s.makeTensorInfo(F,"float32",O),j=Bc({inputs:{real:D,imag:T},backend:s}),P=HO(y,x,a,r,s),U=P.real,z=P.imag,ee=[U.length],q=s.makeTensorInfo(ee,"float32",U),Z=s.makeTensorInfo(ee,"float32",z),G=Bc({inputs:{real:q,imag:Z},backend:s}),ne=Ute(n,r),K=[ne.real.length],H=s.makeTensorInfo(K,"float32",ne.real),Q=s.makeTensorInfo(K,"float32",ne.imag),X=Bc({inputs:{real:H,imag:Q},backend:s}),re=WN({inputs:{a:X,b:G},backend:s}),le=S1({inputs:{a:j,b:re},backend:s}),he=O$({inputs:{a:j,b:re},backend:s}),xe=n0({inputs:{input:le},backend:s}),Be=n0({inputs:{input:he},backend:s}),me=C1({inputs:{input:le},backend:s}),ve=C1({inputs:{input:he},backend:s}),Ee=k1({inputs:[xe,Be],backend:s,attrs:{axis:0}}),ye=k1({inputs:[me,ve],backend:s,attrs:{axis:0}}),Ue=s.data.get(Ee.dataId).values,at=s.data.get(ye.dataId).values;return s.disposeIntermediateTensorInfo(f),s.disposeIntermediateTensorInfo(h),s.disposeIntermediateTensorInfo(m),s.disposeIntermediateTensorInfo(w),s.disposeIntermediateTensorInfo(B),s.disposeIntermediateTensorInfo(k),s.disposeIntermediateTensorInfo(D),s.disposeIntermediateTensorInfo(T),s.disposeIntermediateTensorInfo(j),s.disposeIntermediateTensorInfo(q),s.disposeIntermediateTensorInfo(Z),s.disposeIntermediateTensorInfo(G),s.disposeIntermediateTensorInfo(H),s.disposeIntermediateTensorInfo(Q),s.disposeIntermediateTensorInfo(X),s.disposeIntermediateTensorInfo(re),s.disposeIntermediateTensorInfo(le),s.disposeIntermediateTensorInfo(he),s.disposeIntermediateTensorInfo(xe),s.disposeIntermediateTensorInfo(me),s.disposeIntermediateTensorInfo(Be),s.disposeIntermediateTensorInfo(ve),s.disposeIntermediateTensorInfo(Ee),s.disposeIntermediateTensorInfo(ye),{real:Ue,imag:at}}function URe(t,e,n){const r=new Float32Array(e*2);for(let s=0;s<e;s++){let i=0,a=0;for(let o=0;o<e;o++){const c=zte(s*o,e,n),u=XL(t,o);i+=u.real*c.real-u.imag*c.imag,a+=u.real*c.imag+u.imag*c.real}n&&(i/=e,a/=e),Pte(r,i,a,s)}return r}function zRe(t){const{inputs:e,backend:n}=t,{input:r}=e,s=it(r.shape),i=r.shape[r.shape.length-1],a=s/i,o=ei({inputs:{x:r},backend:n,attrs:{shape:[a,i]}}),c=Eie(o,!1,n),u=ei({inputs:{x:c},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(c),u}const MRe={kernelName:iI,backendName:"cpu",kernelFunc:zRe};function L$(t){const{backend:e,attrs:n}=t,{shape:r,value:s,dtype:i}=n,a=i||y0(s),o=aa(a,it(r));return HRe(o,s,a),e.makeTensorInfo(r,a,o)}const QRe={kernelName:aI,backendName:"cpu",kernelFunc:L$};function HRe(t,e,n){t.fill(e)}const WRe={kernelName:oI,backendName:"cpu",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{image:r}=t,s=n,i=ho(r.dtype,it(r.shape)),[a,o,c,u]=r.shape,d=s.data.get(r.dataId).values;for(let h=0;h<a;h++){const m=h*c*o*u;for(let g=0;g<o;g++){const y=g*(c*u);for(let x=0;x<c;x++){const v=x*u;for(let w=0;w<u;w++){const B=Math.round(c-x-1),k=m+y+v+w;let E=d[k];if(B>=0&&B<c){const N=B*u,O=m+y+N+w;E=d[O]}i[k]=E}}}}return{dataId:s.write(i,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};function VRe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i,bias:a,preluActivationWeights:o}=e,{strides:c,pad:u,dataFormat:d,dilations:f,dimRoundingMode:h,activation:m,leakyreluAlpha:g}=r;let y=kie({inputs:{x:s,filter:i},backend:n,attrs:{strides:c,pad:u,dataFormat:d,dilations:f,dimRoundingMode:h}});if(a){const x=y;if(d==="NCHW"&&a.shape.length===1&&a.shape[0]!==1){const v=ei({inputs:{x:a},backend:n,attrs:{shape:[a.shape[0],1,1]}});y=S1({inputs:{a:y,b:v},backend:n}),n.disposeIntermediateTensorInfo(v)}else y=S1({inputs:{a:y,b:a},backend:n});n.disposeIntermediateTensorInfo(x)}if(m){const x=y;if(d==="NCHW"&&m==="prelu"&&o.shape.length===1&&o.shape[0]!==1){const v=ei({inputs:{x:o},backend:n,attrs:{shape:[o.shape[0],1,1]}});y=n4(n,y,m,v,g),n.disposeIntermediateTensorInfo(v)}else y=n4(n,y,m,o,g);n.disposeIntermediateTensorInfo(x)}return y}const qRe={kernelName:x2,backendName:"cpu",kernelFunc:VRe};function GRe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i,bias:a,preluActivationWeights:o}=e,{strides:c,pad:u,dataFormat:d,dilations:f,dimRoundingMode:h,activation:m,leakyreluAlpha:g}=r;let y=Bie({inputs:{x:s,filter:i},backend:n,attrs:{strides:c,pad:u,dataFormat:d,dilations:f,dimRoundingMode:h}});if(a){const x=y;y=S1({inputs:{a:y,b:a},backend:n}),n.disposeIntermediateTensorInfo(x)}if(m){const x=y;y=n4(n,y,m,o,g),n.disposeIntermediateTensorInfo(x)}return y}const KRe={kernelName:b2,backendName:"cpu",kernelFunc:GRe};function XRe(t){const{inputs:e,backend:n}=t,{params:r,indices:s}=e,i=it(r.shape),a=s.shape,o=a[a.length-1],[c,u,d,f]=NN(r,s);if(u===0)return n.makeTensorInfo(c,r.dtype,[]);const h=n.data.get(s.dataId).values,m=n.bufferSync(r),g=Lse(h,m,r.dtype,u,o,d,f,r.shape,i);return n.makeTensorInfo(c,r.dtype,g.values)}const YRe={kernelName:lI,backendName:"cpu",kernelFunc:XRe};function JRe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,indices:i}=e,{axis:a,batchDims:o}=r;yn([s,i],"gatherV2");const c=hr(a,s.shape)[0],u=n.data.get(i.dataId).values,d=s.shape[c];for(let k=0;k<u.length;++k){const E=u[k];ce(E<=d-1&&E>=0,()=>`GatherV2: the index value ${E} is not in [0, ${d-1}]`)}let f=o;o==null&&(f=0);const h=it(i.shape),m=r$(s,i,c,f),g=ei({inputs:{x:s},backend:n,attrs:{shape:[m.batchSize,m.outerSize,m.dimSize,m.sliceSize]}}),y=ei({inputs:{x:i},backend:n,attrs:{shape:[m.batchSize,h/m.batchSize]}}),x=[m.batchSize,m.outerSize,h/m.batchSize,m.sliceSize],v=n.bufferSync(y),w=n.bufferSync(g),B=$se(w,v,x);return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(y),n.makeTensorInfo(m.outputShape,B.dtype,B.values)}const ZRe={kernelName:Fw,backendName:"cpu",kernelFunc:JRe};function e6e(t){const{inputs:e,backend:n}=t,{input:r}=e,s=it(r.shape),i=r.shape[r.shape.length-1],a=s/i,o=ei({inputs:{x:r},backend:n,attrs:{shape:[a,i]}}),c=Eie(o,!0,n),u=ei({inputs:{x:c},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(c),u}const t6e={kernelName:cI,backendName:"cpu",kernelFunc:e6e};const n6e=Ss(lx,t=>Number.isFinite(t)?1:0,"bool"),r6e={kernelName:lx,backendName:"cpu",kernelFunc:n6e};const s6e=Ss(cx,t=>Math.abs(t)===1/0?1:0,"bool"),i6e={kernelName:cx,backendName:"cpu",kernelFunc:s6e};const a6e=Ss(ux,t=>Number.isNaN(t)?1:0,"bool"),o6e={kernelName:ux,backendName:"cpu",kernelFunc:a6e};function l6e(t){const{backend:e,attrs:n}=t,{start:r,stop:s,num:i}=n,a=Qse(r,s,i);return e.makeTensorInfo([a.length],"float32",a)}const c6e={kernelName:dI,backendName:"cpu",kernelFunc:l6e};const u6e=Ss(fx,t=>Math.log1p(t)),d6e={kernelName:fx,backendName:"cpu",kernelFunc:u6e};const f6e=va((t,e)=>t&&e),A6e=Za(Uw,f6e,null,"bool"),h6e={kernelName:Uw,backendName:"cpu",kernelFunc:A6e};const p6e=Ss(zw,t=>t?0:1,"bool"),m6e={kernelName:zw,backendName:"cpu",kernelFunc:p6e};const g6e=va((t,e)=>t||e),y6e=Za(Mw,g6e,null,"bool"),x6e={kernelName:Mw,backendName:"cpu",kernelFunc:y6e};function b6e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{depthRadius:i,bias:a,alpha:o,beta:c}=r;yn(s,"LRN");const u=s.shape[3],d=u-1,f=n.data.get(s.dataId).values,h=it(s.shape),m=new Float32Array(h);function g(y){const x=y%u;let v=y-x+Math.max(0,x-i);const w=y-x+Math.min(x+i,d);let B=0;for(;v<=w;v++){const k=f[v];B+=k*k}return B}for(let y=0;y<h;y++){const x=g(y),v=f[y]*Math.pow(a+o*x,-c);m[y]=v}return n.makeTensorInfo(s.shape,s.dtype,m)}const v6e={kernelName:Qw,backendName:"cpu",kernelFunc:b6e};function w6e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,y:i,dy:a}=e,{depthRadius:o,bias:c,alpha:u,beta:d}=r;yn(a,"LRNGrad");const f=it(a.shape),h=a.shape[3],m=n.data.get(a.dataId).values,g=n.data.get(s.dataId).values,y=n.data.get(i.dataId).values,x=new Float32Array(f),v=f;for(let w=0;w<v;w++){const B=w%h,k=w-B+Math.max(0,B-o),E=w-B+Math.min(h,B+o+1);let N=0;for(let O=k;O<E;O++)N+=Math.pow(g[O],2);N=u*N+c;for(let O=k;O<E;O++){let F=-2*u*d*g[O]*y[w]/N;w===O&&(F+=Math.pow(N,-d)),F*=m[w],x[O]+=F}}return n.makeTensorInfo(a.shape,s.dtype,x)}const S6e={kernelName:fI,backendName:"cpu",kernelFunc:w6e};function Iie(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{reductionIndices:i,keepDims:a}=r,o=n;let c=s.shape;const u=c.length,d=hr(i,c);let f=d;const h=Gi(f,u);let m=o.data.get(s.dataId).values;if(h!=null){const k=new Array(u);for(let E=0;E<k.length;E++)k[E]=c[h[E]];m=_$(m,c,s.dtype,h,k),f=xa(f.length,u),c=k}yn(s,"max"),Qo("max",f,u);const[g,y]=go(c,f),x=it(y),v=Wse(m,x,g,s.dtype),w=o.write(v,g,s.dtype);let B=g;return a&&(B=ya(g,d)),{dataId:w,shape:B,dtype:s.dtype}}const C6e={kernelName:Hw,backendName:"cpu",kernelFunc:Iie};function k6e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e;yn(s,"maxPool");const{filterSize:i,strides:a,pad:o,dimRoundingMode:c}=r,u=1;ce(Mo(a,u),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${a} and dilations '${u}'`);const d=od(s.shape,i,a,u,o,c);let f;if(d.filterWidth===1&&d.filterHeight===1&&vr(d.inShape,d.outShape))f=uA({inputs:{x:s},backend:n});else{const h=n.data.get(s.dataId).values,m=Rn(s.shape),g=F$(h,s.shape,s.dtype,m,d,"max");f=n.makeTensorInfo(d.outShape,s.dtype,g.values)}return f}const B6e={kernelName:Ww,backendName:"cpu",kernelFunc:k6e};function E6e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{filterSize:i,strides:a,pad:o,dimRoundingMode:c,dataFormat:u}=r;yn(s,"maxPool3d");const d=Dh(s.shape,i,a,1,o,c,u),f=n.data.get(s.dataId).values,h=Cie(f,s.shape,s.dtype,Rn(s.shape),d,"max");return n.makeTensorInfo(h.shape,"float32",h.values)}const I6e={kernelName:Vw,backendName:"cpu",kernelFunc:E6e};function N6e(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,input:i}=e,{filterSize:a,strides:o,pad:c,dimRoundingMode:u}=r;yn([s,i],"maxPool3DGrad");const d=Dh(i.shape,a,o,1,c,u),f=n.bufferSync(i),h=g_e(f,d),m=d.strideDepth,g=d.strideHeight,y=d.strideWidth,x=d.dilationDepth,v=d.dilationHeight,w=d.dilationWidth,B=d.effectiveFilterDepth,k=d.effectiveFilterHeight,E=d.effectiveFilterWidth,N=B-1-d.padInfo.front,O=E-1-d.padInfo.left,F=k-1-d.padInfo.top,D=cr(i.shape,"float32"),T=n.bufferSync(s);for(let j=0;j<d.batchSize;++j)for(let P=0;P<d.inChannels;++P)for(let U=0;U<d.inDepth;++U)for(let z=0;z<d.inHeight;++z)for(let ee=0;ee<d.inWidth;++ee){const q=U-N,Z=z-F,G=ee-O;let ne=0;for(let K=0;K<B;K+=x){const H=(q+K)/m;if(!(H<0||H>=d.outDepth||Math.floor(H)!==H))for(let Q=0;Q<k;Q+=v){const X=(Z+Q)/g;if(!(X<0||X>=d.outHeight||Math.floor(X)!==X))for(let re=0;re<E;re+=w){const le=(G+re)/y;if(le<0||le>=d.outWidth||Math.floor(le)!==le)continue;const he=B*k*E-1-h.get(j,H,X,le,P),xe=K*k*E+Q*E+re,Be=he===xe?1:0;if(Be===0)continue;const me=T.get(j,H,X,le,P);ne+=me*Be}}}D.set(ne,j,U,z,ee,P)}return n.makeTensorInfo(D.shape,D.dtype,D.values)}const j6e={kernelName:hI,backendName:"cpu",kernelFunc:N6e};function T6e(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,input:i,output:a}=e,o=i;yn([i,a],"maxPoolGrad");const{filterSize:c,strides:u,pad:d,dimRoundingMode:f}=r,h=od(o.shape,c,u,1,d,f),m=n.data.get(o.dataId).values,g=cr(h.outShape,o.dtype,Sie(m,o.shape,o.dtype,h).values),y=h.strideHeight,x=h.strideWidth,v=h.dilationHeight,w=h.dilationWidth,B=h.effectiveFilterHeight,k=h.effectiveFilterWidth,E=k-1-h.padInfo.left,N=B-1-h.padInfo.top,O=cr(o.shape,"float32"),F=n.data.get(s.dataId).values,D=cr(s.shape,"float32",F);for(let T=0;T<h.batchSize;++T)for(let j=0;j<h.inChannels;++j)for(let P=0;P<h.inHeight;++P)for(let U=0;U<h.inWidth;++U){const z=P-N,ee=U-E;let q=0;for(let Z=0;Z<B;Z+=v){const G=(z+Z)/y;if(!(G<0||G>=h.outHeight||Math.floor(G)!==G))for(let ne=0;ne<k;ne+=w){const K=(ee+ne)/x;if(K<0||K>=h.outWidth||Math.floor(K)!==K)continue;const H=B*k-1-g.get(T,G,K,j),Q=Z*k+ne,X=H===Q?1:0;if(X===0)continue;const re=D.get(T,G,K,j);q+=re*X}}O.set(q,T,P,U,j)}return n.makeTensorInfo(O.shape,O.dtype,O.values)}const _6e={kernelName:AI,backendName:"cpu",kernelFunc:T6e};function R6e(t,e,n,r,s){const i=Rn(e),a=F$(t,e,n,i,s,"max"),o=Sie(t,e,n,s,!0,r);return[a.values,o.values]}const O6e={kernelName:pI,backendName:"cpu",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{x:r}=t,{filterSize:s,strides:i,pad:a,includeBatchInIndex:o}=e,c=n;yn(r,"MaxPoolWithArgmax");const u=c.data.get(r.dataId).values,d=od(r.shape,s,i,[1,1],a),[f,h]=R6e(u,r.shape,r.dtype,o,d),m=c.write(f,d.outShape,r.dtype),g=c.write(h,d.outShape,r.dtype);return[{dataId:m,shape:d.outShape,dtype:r.dtype},{dataId:g,shape:d.outShape,dtype:"int32"}]}};function F6e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:a}=r,o=hr(i,s.shape),u=go(s.shape,o)[1],d=it(u),f=[],h=n.makeTensorInfo([],"float32",new Float32Array([d]));f.push(h);const m=Am({inputs:{x:s},backend:n,attrs:{dtype:"float32"}});f.push(m);const g=D$({inputs:{a:m,b:h},backend:n});f.push(g);const y=X5({inputs:{x:g},backend:n,attrs:{axis:i,keepDims:a}});return f.forEach(x=>n.disposeIntermediateTensorInfo(x)),y}const D6e={kernelName:qw,backendName:"cpu",kernelFunc:F6e};function L6e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:a}=r;yn(s,"min");const o=hr(i,s.shape);let c=o;const u=Gi(c,s.shape.length);let d=s;u!=null&&(d=ec({inputs:{x:s},backend:n,attrs:{perm:u}}),c=xa(c.length,s.shape.length)),Qo("min",c,d.shape.length);const[f,h]=go(d.shape,c),m=it(h),g=Uo(it(f),d.dtype),y=n.data.get(d.dataId).values;for(let v=0;v<g.length;++v){const w=v*m;let B=y[w];for(let k=0;k<m;++k){const E=y[w+k];(Number.isNaN(E)||E<B)&&(B=E)}g[v]=B}u!=null&&n.disposeIntermediateTensorInfo(d);const x=n.makeTensorInfo(f,d.dtype,g);if(a){const v=ya(f,o),w=ei({inputs:{x},backend:n,attrs:{shape:v}});return n.disposeIntermediateTensorInfo(x),w}return x}const $6e={kernelName:Gw,backendName:"cpu",kernelFunc:L6e};function P6e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{paddings:i,mode:a}=r;yn(s,"mirrorPad");const o=i.map((B,k)=>B[0]+s.shape[k]+B[1]),c=i.map(B=>B[0]),u=i.map((B,k)=>B[0]+s.shape[k]),d=a==="reflect"?0:1,f=n.data.get(s.dataId).values,h=s.shape.length,m=Rn(s.shape),g=it(o),y=o.length,x=Rn(o),v=ho(s.dtype,g);for(let B=0;B<g;B++){let k=x0(B,y,x);for(let N=0;N<y;N++)k[N]<c[N]?k[N]=c[N]*2-k[N]-d:k[N]>=u[N]&&(k[N]=(u[N]-1)*2-k[N]+d);k=k.map((N,O)=>N-c[O]);const E=Xd(k,h,m);v[B]=f[E]}return{dataId:n.write(v,o,s.dtype),shape:o,dtype:s.dtype}}const U6e={kernelName:Kw,backendName:"cpu",kernelFunc:P6e};const z6e=va(((t,e)=>{const n=t%e;return t<0&&e<0||t>=0&&e>=0?n:(n+e)%e})),M6e=Za(px,z6e),Q6e={kernelName:px,backendName:"cpu",kernelFunc:M6e};function Nie(t){const{inputs:e,backend:n,attrs:r}=t,{logits:s}=e,{dim:i}=r,a=s.shape.length;let o=i;if(o===-1&&(o=a-1),o!==a-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${a} and dim was ${o}`);const c=hr([o],s.shape),u=Iie({inputs:{x:s},backend:n,attrs:{reductionIndices:c,keepDims:!1}}),d=ya(u.shape,c),f=ei({inputs:{x:u},backend:n,attrs:{shape:d}}),h=O$({inputs:{a:s,b:f},backend:n}),m=Rse({inputs:{x:h},backend:n}),g=X5({inputs:{x:m},backend:n,attrs:{axis:c,keepDims:!1}}),y=ei({inputs:{x:g},backend:n,attrs:{shape:d}}),x=D$({inputs:{a:m,b:y},backend:n});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(y),x}const H6e={kernelName:A5,backendName:"cpu",kernelFunc:Nie};function W6e(t){const{inputs:e,backend:n,attrs:r}=t,{logits:s}=e,{numSamples:i,seed:a,normalized:o}=r;yn(s,"multinomial");const c=o?s:Nie({inputs:{logits:s},backend:n,attrs:{dim:-1}}),u=c.shape[0],d=c.shape[1],f=n.data.get(c.dataId).values,h=[u,i],m=Uo(it(h),"int32");for(let g=0;g<u;++g){const y=g*d,x=new Float32Array(d-1);x[0]=f[y];for(let B=1;B<x.length;++B)x[B]=x[B-1]+f[y+B];const v=sN.alea(a.toString()),w=g*i;for(let B=0;B<i;++B){const k=v();m[w+B]=x.length;for(let E=0;E<x.length;E++)if(k<x[E]){m[w+B]=E;break}}}return o||n.disposeIntermediateTensorInfo(c),n.makeTensorInfo(h,"int32",m)}const V6e={kernelName:mI,backendName:"cpu",kernelFunc:W6e};const q6e=kN;function G6e(t){const{inputs:e,backend:n,attrs:r}=t,{boxes:s,scores:i}=e,{maxOutputSize:a,iouThreshold:o,scoreThreshold:c}=r;yn(s,"NonMaxSuppression");const u=n.data.get(s.dataId).values,d=n.data.get(i.dataId).values,{selectedIndices:f}=q6e(u,d,a,o,c);return n.makeTensorInfo([f.length],"int32",new Int32Array(f))}const K6e={kernelName:gI,backendName:"cpu",kernelFunc:G6e};const X6e=BN;function Y6e(t){const{inputs:e,backend:n,attrs:r}=t,{boxes:s,scores:i}=e,{maxOutputSize:a,iouThreshold:o,scoreThreshold:c,padToMaxOutputSize:u}=r;yn(s,"NonMaxSuppressionPadded");const d=n.data.get(s.dataId).values,f=n.data.get(i.dataId).values,{selectedIndices:h,validOutputs:m}=X6e(d,f,a,o,c,u);return[n.makeTensorInfo([h.length],"int32",new Int32Array(h)),n.makeTensorInfo([],"int32",new Int32Array([m]))]}const J6e={kernelName:yI,backendName:"cpu",kernelFunc:Y6e};const Z6e=EN;function eOe(t){const{inputs:e,backend:n,attrs:r}=t,{boxes:s,scores:i}=e,{maxOutputSize:a,iouThreshold:o,scoreThreshold:c,softNmsSigma:u}=r;yn(s,"NonMaxSuppressionWithScore");const d=n.data.get(s.dataId).values,f=n.data.get(i.dataId).values,h=a,m=o,g=c,y=u,{selectedIndices:x,selectedScores:v}=Z6e(d,f,h,m,g,y);return[n.makeTensorInfo([x.length],"int32",new Int32Array(x)),n.makeTensorInfo([v.length],"float32",new Float32Array(v))]}const tOe={kernelName:xI,backendName:"cpu",kernelFunc:eOe};function nOe(t){const{inputs:e,backend:n,attrs:r}=t,{indices:s}=e,{dtype:i,depth:a,onValue:o,offValue:c}=r;yn(s,"oneHot");const u=it(s.shape),d=new Float32Array(u*a);d.fill(c);const f=n.data.get(s.dataId).values;for(let h=0;h<u;++h)f[h]>=0&&f[h]<a&&(d[h*a+f[h]]=o);return n.makeTensorInfo([...s.shape,a],i,d)}const rOe={kernelName:Zw,backendName:"cpu",kernelFunc:nOe};function s4(t){const{inputs:e,backend:n}=t,{x:r}=e;if(r.dtype==="string")throw new Error("zerosLike is not supported for string tensors");if(r.dtype==="complex64"){const s=n0({inputs:{input:r},backend:n}),i=s4({inputs:{x:s},backend:n}),a=C1({inputs:{input:r},backend:n}),o=s4({inputs:{x:a},backend:n}),c=Bc({inputs:{real:i,imag:o},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(o),c}else return L$({backend:n,attrs:{shape:r.shape,value:0,dtype:r.dtype}})}const sOe={kernelName:g5,backendName:"cpu",kernelFunc:s4};function jie(t){const{inputs:e,backend:n}=t,{x:r}=e;if(r.dtype==="string")throw new Error("onesLike is not supported for string tensors");if(r.dtype==="complex64"){const s=n0({inputs:{input:r},backend:n}),i=jie({inputs:{x:s},backend:n}),a=C1({inputs:{input:r},backend:n}),o=s4({inputs:{x:a},backend:n}),c=Bc({inputs:{real:i,imag:o},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(o),c}else return L$({backend:n,attrs:{shape:r.shape,value:1,dtype:r.dtype}})}const iOe={kernelName:Jw,backendName:"cpu",kernelFunc:jie};function Tie(t){const{inputs:e,backend:n,attrs:r}=t,{axis:s}=r;if(e.length===1)return r4({inputs:{input:e[0]},backend:n,attrs:{dim:s}});const i=e[0].shape,a=e[0].dtype;e.forEach(d=>{zo(i,d.shape,"All tensors passed to stack must have matching shapes"),ce(a===d.dtype,()=>"All tensors passed to stack must have matching dtypes")});const o=[],c=e.map(d=>{const f=r4({inputs:{input:d},backend:n,attrs:{dim:s}});return o.push(f),f}),u=k1({inputs:c,backend:n,attrs:{axis:s}});return o.forEach(d=>n.disposeIntermediateTensorInfo(d)),u}const aOe={kernelName:e5,backendName:"cpu",kernelFunc:Tie};function oOe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{paddings:i,constantValue:a}=r;yn(s,"pad");const o=i.map((w,B)=>w[0]+s.shape[B]+w[1]),c=i.map(w=>w[0]),u=n.data.get(s.dataId).values,d=it(s.shape),f=s.shape.length,h=Rn(s.shape),m=it(o),g=o.length,y=Rn(o),x=ho(s.dtype,m);a!==0&&x.fill(a);for(let w=0;w<d;w++){const k=x0(w,f,h).map((N,O)=>N+c[O]),E=Xd(k,g,y);x[E]=u[w]}return{dataId:n.write(x,o,s.dtype),shape:o,dtype:s.dtype}}const _ie={kernelName:t5,backendName:"cpu",kernelFunc:oOe};const lOe=va((t,e)=>Math.pow(t,e)),cOe=Za(gx,lOe),uOe={kernelName:gx,backendName:"cpu",kernelFunc:cOe};function dOe(t){const{inputs:e,backend:n,attrs:r}=t,{paramsNestedSplits:s,paramsDenseValues:i,indices:a}=e,{outputRaggedRank:o}=r,c=s.map(v=>n.data.get(v.dataId).values),u=s.map(v=>v.shape),d=n.data.get(i.dataId).values,f=n.data.get(a.dataId).values,[h,m,g]=Yse(c,u,d,i.shape,i.dtype,f,a.shape),y=h.map(v=>n.makeTensorInfo([v.length],"int32",v)),x=n.makeTensorInfo(g,i.dtype,m);return y.concat([x])}const fOe={kernelName:bI,backendName:"cpu",kernelFunc:dOe};function AOe(t){const{inputs:e,backend:n}=t,{starts:r,limits:s,deltas:i}=e,a=n.data.get(r.dataId).values,o=n.data.get(s.dataId).values,c=n.data.get(i.dataId).values,[u,d]=Jse(a,r.shape,r.dtype,o,s.shape,c,i.shape),f=n.makeTensorInfo([u.length],"int32",u),h=n.makeTensorInfo([d.length],r.dtype,d);return[f,h]}const hOe={kernelName:vI,backendName:"cpu",kernelFunc:AOe};function pOe(t){const{inputs:e,backend:n,attrs:r}=t,{shape:s,values:i,defaultValue:a,rowPartitionTensors:o}=e,{rowPartitionTypes:c}=r,u=n.data.get(s.dataId).values,d=n.data.get(i.dataId).values,f=n.data.get(a.dataId).values,h=o.map(x=>n.data.get(x.dataId).values),m=o.map(x=>x.shape),[g,y]=Zse(u,s.shape,d,i.shape,i.dtype,f,a.shape,h,m,c);return n.makeTensorInfo(g,i.dtype,y)}const mOe={kernelName:wI,backendName:"cpu",kernelFunc:pOe};function gOe(t){const{backend:e,attrs:n}=t,{start:r,stop:s,dtype:i,step:a}=n,o=eie(r,s,a,i);return e.makeTensorInfo([o.length],i,o)}const yOe={kernelName:SI,backendName:"cpu",kernelFunc:gOe};const xOe=Ss(yx,t=>1/t),bOe={kernelName:yx,backendName:"cpu",kernelFunc:xOe};function vOe(t){const{inputs:e,backend:n,attrs:r}=t,{images:s}=e,{alignCorners:i,halfPixelCenters:a,size:o}=r;yn(s,"resizeBilinear");const c=Rn(s.shape),[u,d]=o,[f,h,m,g]=s.shape,y=n.data.get(s.dataId).values,x=new Float32Array(it([f,u,d,g])),v=[i&&u>1?h-1:h,i&&d>1?m-1:m],w=[i&&u>1?u-1:u,i&&d>1?d-1:d];let B=0;const k=v[0]/w[0],E=v[1]/w[1];for(let N=0;N<f;N++)for(let O=0;O<u;O++){let F;a?F=k*(O+.5)-.5:F=k*O;const D=Math.max(0,Math.floor(F)),T=F-D,j=Math.min(h-1,Math.ceil(F)),P=N*c[0]+D*c[1],U=N*c[0]+j*c[1];for(let z=0;z<d;z++){let ee;a?ee=E*(z+.5)-.5:ee=E*z;const q=Math.max(0,Math.floor(ee)),Z=ee-q,G=Math.min(m-1,Math.ceil(ee)),ne=P+q*c[2],K=U+q*c[2],H=P+G*c[2],Q=U+G*c[2];for(let X=0;X<g;X++){const re=y[ne+X],le=y[K+X],he=y[H+X],xe=y[Q+X],Be=re+(he-re)*Z,me=le+(xe-le)*Z,ve=Be+(me-Be)*T;x[B++]=ve}}}return n.makeTensorInfo([f,u,d,g],"float32",x)}const wOe={kernelName:a5,backendName:"cpu",kernelFunc:vOe};function SOe(t){const{inputs:e,backend:n,attrs:r}=t,{images:s,dy:i}=e,{alignCorners:a}=r;yn([i,s],"resizeBilinearGrad");const o=Rn(s.shape),[c,u,d,f]=s.shape,[,h,m]=i.shape,g=new Float32Array(c*u*d*f),y=[a&&h>1?u-1:u,a&&m>1?d-1:d],x=[a&&h>1?h-1:h,a&&m>1?m-1:m],v=y[0]/x[0],w=y[1]/x[1],B=n.data.get(i.dataId).values;let k=0;for(let E=0;E<c;E++){const N=E*o[0];for(let O=0;O<h;O++){const F=O*v,D=Math.floor(F),T=Math.min(Math.ceil(F),u-1),j=N+D*o[1],P=N+T*o[1],U=F-D,z=1-U;for(let ee=0;ee<m;ee++){const q=ee*w,Z=Math.floor(q),G=Math.min(Math.ceil(q),d-1),ne=q-Z,K=1-ne,H=j+Z*o[2],Q=j+G*o[2],X=P+Z*o[2],re=P+G*o[2],le=z*K,he=z*ne,xe=U*K,Be=U*ne;for(let me=0;me<f;me++){const ve=B[k++];g[H+me]+=ve*le,g[Q+me]+=ve*he,g[X+me]+=ve*xe,g[re+me]+=ve*Be}}}}return n.makeTensorInfo([c,d,u,f],"float32",g)}const COe={kernelName:BI,backendName:"cpu",kernelFunc:SOe};function kOe(t){const{inputs:e,backend:n,attrs:r}=t,{images:s}=e,{alignCorners:i,halfPixelCenters:a,size:o}=r;yn(s,"resizeNearestNeighbor");const c=Rn(s.shape),[u,d]=o,[f,h,m,g]=s.shape,y=n.data.get(s.dataId).values,x=new Float32Array(f*u*d*g),v=[i&&u>1?h-1:h,i&&d>1?m-1:m],w=[i&&u>1?u-1:u,i&&d>1?d-1:d],B=v[0]/w[0],k=v[1]/w[1];let E=0;for(let N=0;N<f;N++){const O=N*c[0];for(let F=0;F<u;F++){const D=a?B*(F+.5):B*F;let T=Math.min(h-1,i?Math.round(D):Math.floor(D));a&&(T=Math.max(0,T));const j=O+T*c[1];for(let P=0;P<d;P++){const U=a?k*(P+.5):k*P;let z=Math.min(m-1,i?Math.round(U):Math.floor(U));a&&(z=Math.max(0,z));const ee=j+z*c[2];for(let q=0;q<g;q++){const Z=y[ee+q];x[E++]=Z}}}}return n.makeTensorInfo([f,u,d,g],s.dtype,x)}const BOe={kernelName:i5,backendName:"cpu",kernelFunc:kOe};function EOe(t){const{inputs:e,backend:n,attrs:r}=t,{images:s,dy:i}=e,{alignCorners:a}=r;yn([i,s],"resizeNearestNeighborGrad");const o=Rn(s.shape),c=Rn(i.shape),[u,d,f,h]=s.shape,[,m,g]=i.shape,y=new Float32Array(u*d*f*h),x=n.data.get(i.dataId).values,v=[a&&m>1?d-1:d,a&&g>1?f-1:f],w=[a&&m>1?m-1:m,a&&g>1?g-1:g],B=v[0]/w[0],k=v[1]/w[1],E=1/B,N=1/k,O=Math.ceil(E)*2+2,F=Math.ceil(N)*2+2;for(let D=0;D<u;D++){const T=D*o[0];for(let j=0;j<d;j++){const P=T+j*o[1],U=Math.floor(j*E),z=Math.floor(U-O/2);for(let ee=0;ee<f;ee++){const q=P+ee*o[2],Z=Math.floor(ee*N),G=Math.floor(Z-F/2);for(let ne=0;ne<h;ne++){let K=0;for(let H=0;H<O;H++){const Q=H+z;if(Q<0||Q>=m)continue;const X=T+Q*c[1],re=Q*B,le=Math.min(d-1,a?Math.round(re):Math.floor(re));if(j===le)for(let he=0;he<F;he++){const xe=he+G;if(xe<0||xe>=g)continue;const Be=X+xe*c[2],me=xe*k,ve=Math.min(f-1,a?Math.round(me):Math.floor(me));ee===ve&&(K+=x[Be+ne])}}y[q+ne]=K}}}}return n.makeTensorInfo(s.shape,s.dtype,y)}const IOe={kernelName:kI,backendName:"cpu",kernelFunc:EOe};function NOe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{dims:i}=r;yn(s,"reverse");const a=s.shape.length,o=hr(i,s.shape);if(a===0)return uA({inputs:{x:s},backend:n});const c=new Fa(s.shape,s.dtype),u=n.bufferSync(s);for(let d=0;d<c.size;d++){const f=c.indexToLoc(d),h=f.slice();o.forEach(m=>h[m]=s.shape[m]-1-h[m]),c.set(u.get(...h),...f)}return n.makeTensorInfo(c.shape,c.dtype,c.values)}const jOe={kernelName:o5,backendName:"cpu",kernelFunc:NOe};const TOe={kernelName:QI,backendName:"cpu",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{image:r}=t,{radians:s,fillValue:i,center:a}=e,o=n,c=ho(r.dtype,it(r.shape)),[u,d,f,h]=r.shape,[m,g]=zL(a,d,f),y=255,x=Math.sin(s),v=Math.cos(s),w=o.data.get(r.dataId).values;for(let k=0;k<u;k++){const E=k*f*d*h;for(let N=0;N<d;N++){const O=N*(f*h);for(let F=0;F<f;F++){const D=F*h;for(let T=0;T<h;T++){const j=[u,N,F,T],P=j[2],U=j[1];let z=(P-m)*v-(U-g)*x,ee=(P-m)*x+(U-g)*v;z=Math.round(z+m),ee=Math.round(ee+g);let q=i;if(typeof i!="number"&&(T===3?q=y:q=i[T]),z>=0&&z<f&&ee>=0&&ee<d){const G=ee*(f*h),ne=z*h,K=E+G+ne+T;q=w[K]}const Z=E+O+D+T;c[Z]=q}}}}return{dataId:o.write(c,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};const _Oe=Ss(vx,t=>{const e=Math.floor(t);return t-e<.5?Math.floor(t):t-e>.5?Math.ceil(t):e%2===0?e:e+1}),ROe={kernelName:vx,backendName:"cpu",kernelFunc:_Oe};function OOe(t){const{inputs:e,backend:n,attrs:r}=t,{indices:s,updates:i}=e,{shape:a}=r,{sliceRank:o,numUpdates:c,sliceSize:u,strides:d,outputSize:f}=Em(i,s,a),h=!0,m=n.bufferSync(s),g=n.bufferSync(i),y=gg(m,g,a,f,u,c,o,d,0,h);return n.makeTensorInfo(a,y.dtype,y.values)}const FOe={kernelName:EI,backendName:"cpu",kernelFunc:OOe};function DOe(t,e){let n=0,r=t.length,s=0;for(;n<r;)s=Math.floor((n+r)/2),t[s]<e?n=s+1:r=s;return r}function LOe(t,e){let n=0,r=t.length,s=0;for(;n<r;)s=Math.floor((n+r)/2),t[s]<=e?n=s+1:r=s;return r}function $Oe(t,e,n,r,s,i){const a=aa("int32",n*s);for(let o=0;o<n;++o){const c=t.slice(o*r,(o+1)*r),u=o*s;for(let d=0;d<s;++d)a[u+d]=i==="left"?DOe(c,e[d+u]):LOe(c,e[d+u])}return a}function POe(t){const{inputs:e,backend:n,attrs:r}=t,{sortedSequence:s,values:i}=e,{side:a}=r,o=n.data.get(s.dataId).values,c=n.data.get(i.dataId).values,u=$Oe(o,c,s.shape[0],s.shape[1],i.shape[1],a);return n.makeTensorInfo(i.shape,"int32",u)}const UOe={kernelName:NI,backendName:"cpu",kernelFunc:POe};function zOe(t){const{inputs:e,backend:n}=t,{condition:r,t:s,e:i}=e;yn([r,s,i],"select");const a=r.shape.length,o=n.data.get(r.dataId).values,c=n.data.get(s.dataId).values,u=n.data.get(i.dataId).values,d=Kl(s.dtype,i.dtype),f=Uo(it(s.shape),d);let h=0;const m=a===0||a>1||s.shape.length===1?1:it(s.shape.slice(1));for(let g=0;g<o.length;g++)for(let y=0;y<m;y++)o[g]===1?f[h++]=c[g]:f[h++]=u[g];return n.makeTensorInfo(s.shape,d,f)}const MOe={kernelName:l5,backendName:"cpu",kernelFunc:zOe};const QOe=_N,HOe=RN,WOe=Ss(Sx,t=>t>=0?HOe*t:QOe*(Math.exp(t)-1)),VOe={kernelName:Sx,backendName:"cpu",kernelFunc:WOe};const qOe=Ss(Bx,t=>t<0?-1:t>0?1:0),GOe={kernelName:Bx,backendName:"cpu",kernelFunc:qOe};const KOe=Ss(Cx,t=>Math.sin(t)),XOe={kernelName:Cx,backendName:"cpu",kernelFunc:KOe};const YOe=Ss(kx,t=>Math.sinh(t)),JOe={kernelName:kx,backendName:"cpu",kernelFunc:YOe};const ZOe=11920928955078125e-23,M7=Math.log(ZOe)+2,eFe=Ss(Ix,t=>{const e=t>-M7,n=t<M7,r=Math.exp(t);let s;return n?s=r:e?s=t:s=Math.log(1+r),s}),tFe={kernelName:Ix,backendName:"cpu",kernelFunc:eFe};function nFe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{blockShape:i,paddings:a}=r;yn([s],"spaceToBatchND");const o=it(i),c=[[0,0]];c.push(...a);for(let N=1+i.length;N<s.shape.length;++N)c.push([0,0]);const u=_ie.kernelFunc({inputs:{x:s},backend:n,attrs:{paddings:c,constantValue:0}}),d=P5(u.shape,i,o,!1),f=U5(d.length,i.length,!1),h=z5(u.shape,i,o,!1),y=ei({inputs:{x:u},backend:n,attrs:{shape:d}}),w=ec({inputs:{x:y},backend:n,attrs:{perm:f}}),E=ei({inputs:{x:w},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(w),E}const rFe={kernelName:d5,backendName:"cpu",kernelFunc:nFe};function sFe(t){const{inputs:e,backend:n}=t,{indices:r,values:s,denseShape:i,defaultValue:a}=e;if(i.shape.length!==1)throw new Error(`Dense shape must be a vector, saw:
        ${i.shape}`);if(r.shape.length!==2)throw new Error(`Indices must be a matrix, saw:
        ${r.shape}`);if(s.shape.length!==1)throw new Error(`Values must be a vector, saw:
        ${s.shape}`);if(a.shape.length!==0)throw new Error(`Default value must be a scalar, saw:
        ${a.shape}`);const o=n.data.get(r.dataId).values,c=n.data.get(s.dataId).values,u=n.data.get(i.dataId).values,d=n.data.get(a.dataId).values[0],[f,h,m,g,y]=sie(o,r.shape,r.dtype,c,s.dtype,u,d);return[n.makeTensorInfo(h,r.dtype,f),n.makeTensorInfo([h[0]],s.dtype,m),n.makeTensorInfo([g.length],"bool",new Uint8Array(g.map(x=>Number(x)))),n.makeTensorInfo([y.length],r.dtype,new Int32Array(y))]}const iFe={kernelName:jI,backendName:"cpu",kernelFunc:sFe};function aFe(t){const{inputs:e,backend:n}=t,{inputIndices:r,inputShape:s,newShape:i}=e;if(r.shape.length!==2)throw new Error(`Input indices should be a matrix but received shape
        ${r.shape}`);if(s.shape.length!==1)throw new Error(`Input shape should be a vector but received shape
        ${s.shape}`);if(i.shape.length!==1)throw new Error(`Target shape should be a vector but received shape ${i.shape}`);const a=Array.from(n.data.get(s.dataId).values),o=n.data.get(r.dataId).values,c=Array.from(n.data.get(i.dataId).values),[u,d,f]=iie(o,r.shape,r.dtype,a,c);return[n.makeTensorInfo(d,r.dtype,u),n.makeTensorInfo([f.length],i.dtype,new Int32Array(f))]}const oFe={kernelName:TI,backendName:"cpu",kernelFunc:aFe};function lFe(t){const{inputs:e,backend:n}=t,{data:r,indices:s,segmentIds:i}=e;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.shape.length!==1)throw new Error(`Indices should be a vector but received shape
          ${s.shape}`);if(i.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
          ${i.shape}`);if(s.shape[0]!==i.shape[0])throw new Error("segmentIds and indices should have same size.");const a=n.data.get(r.dataId).values,o=n.data.get(s.dataId).values,c=n.data.get(i.dataId).values,[u,d]=R$(a,r.shape,r.dtype,o,c,!0);return n.makeTensorInfo(d,r.dtype,u)}const cFe={kernelName:_I,backendName:"cpu",kernelFunc:lFe};function uFe(t){const{inputs:e,backend:n}=t,{data:r,indices:s,segmentIds:i}=e;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.shape.length!==1)throw new Error(`Indices should be a vector but received shape
         ${s.shape}`);if(i.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
         ${i.shape}`);if(s.shape[0]!==i.shape[0])throw new Error("segmentIds and indices should have same size.");const a=n.data.get(r.dataId).values,o=n.data.get(s.dataId).values,c=n.data.get(i.dataId).values,[u,d]=R$(a,r.shape,r.dtype,o,c);return n.makeTensorInfo(d,r.dtype,u)}const dFe={kernelName:RI,backendName:"cpu",kernelFunc:uFe};function fFe(t){const{inputs:e,backend:n,attrs:r}=t,{sparseIndices:s,sparseValues:i,defaultValue:a}=e,{outputShape:o}=r,{sliceRank:c,numUpdates:u,sliceSize:d,strides:f,outputSize:h}=Em(i,s,o),m=!1,g=n.bufferSync(s);let y;switch(i.dtype){case"bool":{const x=n.bufferSync(i),v=!!n.data.get(a.dataId).values[0];y=gg(g,x,o,h,d,u,c,f,v,m);break}case"float32":{const x=n.bufferSync(i),v=n.data.get(a.dataId).values[0];y=gg(g,x,o,h,d,u,c,f,v,m);break}case"int32":{const x=n.bufferSync(i),v=n.data.get(a.dataId).values[0];y=gg(g,x,o,h,d,u,c,f,v,m);break}case"string":{const x=n.bufferSync(i),v=bh(n.data.get(a.dataId).values[0]);y=gg(g,x,o,h,d,u,c,f,v,m);break}default:throw new Error(`Unsupported type ${i.dtype}`)}return n.makeTensorInfo(o,y.dtype,y.values)}const AFe={kernelName:OI,backendName:"cpu",kernelFunc:fFe};function hFe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{numOrSizeSplits:i,axis:a}=r,o=hr(a,s.shape)[0],c=n$(s,i,o),u=new Array(s.shape.length).fill(0),d=s.shape.slice();return c.map(f=>{const h=[...d];h[o]=f;const m=r0({inputs:{x:s},backend:n,attrs:{begin:u,size:h}});return u[o]+=f,m})}const pFe={kernelName:f5,backendName:"cpu",kernelFunc:hFe};const mFe={kernelName:FI,backendName:"cpu",kernelFunc:({inputs:t,backend:e})=>{const{x:n}=t,r=e;yn(n,"square");const s=r.data.get(n.dataId).values,i=new Float32Array(s.length);for(let o=0;o<s.length;++o){const c=s[o];i[o]=c*c}return{dataId:r.write(i,n.shape,n.dtype),shape:n.shape,dtype:n.dtype}}};const gFe=Ss(Fx,(t,e)=>{const n=e;return isNaN(t)?NaN:t>0?1:n.alpha}),yFe={kernelName:Fx,backendName:"cpu",kernelFunc:gFe};function xFe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{begin:i,end:a,strides:o,beginMask:c,endMask:u,ellipsisMask:d,newAxisMask:f,shrinkAxisMask:h}=r;yn(s,"stridedSlice");const{finalShapeSparse:m,finalShape:g,isIdentity:y,sliceDim0:x,isSimpleSlice:v,begin:w,end:B,strides:k}=LL(s.shape,i,a,o,c,u,d,f,h);let E;if(y)E=ei({inputs:{x:s},backend:n,attrs:{shape:g}});else if(x||v){ce(s.shape.length>=1,()=>`Input must have rank at least 1, got: ${s.shape.length}`);const N=OL(w,B,k),O=r0({inputs:{x:s},backend:n,attrs:{begin:w,size:N}});E=ei({inputs:{x:O},backend:n,attrs:{shape:g}}),n.disposeIntermediateTensorInfo(O)}else{const N=n.bufferSync(s),O=lie(m,N,k,w);E=n.makeTensorInfo(g,O.dtype,O.values)}return E}const bFe={kernelName:DI,backendName:"cpu",kernelFunc:xFe};function vFe(t){const{inputs:e,backend:n,attrs:r}=t,{separator:s,nGramWidths:i,leftPad:a,rightPad:o,padWidth:c,preserveShortSequences:u}=r,{data:d,dataSplits:f}=e,h=n.data.get(d.dataId).values,m=n.data.get(f.dataId).values,[g,y]=cie(h,m,s,i,a,o,c,u);return[n.makeTensorInfo([g.length],"string",g),n.makeTensorInfo(f.shape,"int32",y)]}const wFe={kernelName:LI,backendName:"cpu",kernelFunc:vFe};function SFe(t){const{inputs:e,backend:n,attrs:r}=t,{skipEmpty:s}=r,{input:i,delimiter:a}=e;if(i.dtype!=="string")throw new Error("Input must be of datatype string");if(i.shape.length!==1)throw new Error(`Input must be a vector, got shape: ${i.shape}`);if(a.shape.length!==0)throw new Error(`Delimiter must be a scalar, got shape: ${a.shape}`);const o=n.data.get(i.dataId).values,c=n.data.get(a.dataId).values[0],[u,d,f]=uie(o,c,s),h=d.length;return[n.makeTensorInfo([h,2],"int32",u),n.makeTensorInfo([h],"string",d),n.makeTensorInfo([2],"int32",new Int32Array(f))]}const CFe={kernelName:$I,backendName:"cpu",kernelFunc:SFe};function kFe(t){const{inputs:e,backend:n,attrs:r}=t,{numBuckets:s}=r,{input:i}=e;if(i.dtype!=="string")throw new Error("Input must be of datatype string");if(s<=0)throw new Error("Number of buckets must be at least 1");const a=n.data.get(i.dataId).values,o=die(a,s);return n.makeTensorInfo(i.shape,"int32",o)}const BFe={kernelName:PI,backendName:"cpu",kernelFunc:kFe};const EFe=Ss(_x,t=>Math.tan(t)),IFe={kernelName:_x,backendName:"cpu",kernelFunc:EFe};const NFe=Ss(Rx,t=>Math.tanh(t)),jFe={kernelName:Rx,backendName:"cpu",kernelFunc:NFe};function TFe(t){const{inputs:e,backend:n}=t,{tensor:r,indices:s,updates:i}=e,{sliceRank:a,numUpdates:o,sliceSize:c,strides:u,outputSize:d}=Em(i,s,r.shape),f=!1,h=n.bufferSync(s),m=n.bufferSync(i),g=n.bufferSync(r),y=gg(h,m,r.shape,d,c,o,a,u,g,f);return n.makeTensorInfo(r.shape,y.dtype,y.values)}const _Fe={kernelName:II,backendName:"cpu",kernelFunc:TFe};function RFe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{reps:i}=r;yn(s,"tile");const a=Aie(n.bufferSync(s),i);return n.makeTensorInfo(a.shape,a.dtype,a.values)}const OFe={kernelName:Ox,backendName:"cpu",kernelFunc:RFe};function FFe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{k:i,sorted:a}=r;yn(s,"topk");const o=n.data.get(s.dataId).values,[c,u]=pie(o,s.shape,s.dtype,i,a);return[n.makeTensorInfo(c.shape,c.dtype,c.values),n.makeTensorInfo(u.shape,u.dtype,u.values)]}const DFe={kernelName:UI,backendName:"cpu",kernelFunc:FFe};function LFe(t){const{inputs:e,attrs:n,backend:r}=t,{image:s,transforms:i}=e,{interpolation:a,fillMode:o,fillValue:c,outputShape:u}=n,[d,f,h,m]=s.shape,[g,y]=u??[f,h],x=[d,g,y,m],v=Rn(s.shape),w=v[0],B=v[1],k=v[2],E=Rn(x),N=E[0],O=E[1],F=E[2],D=ho(s.dtype,it(x));D.fill(c);const T=r.data.get(s.dataId).values,j=r.data.get(i.dataId).values;for(let U=0;U<d;++U){const z=i.shape[0]===1?j:j.subarray(U*8,U*8+8);for(let ee=0;ee<g;++ee)for(let q=0;q<y;++q)for(let Z=0;Z<m;++Z){let G;const ne=z[6]*q+z[7]*ee+1;if(ne===0)continue;const K=(z[0]*q+z[1]*ee+z[2])/ne,H=(z[3]*q+z[4]*ee+z[5])/ne,Q=Q7(K,h,o),X=Q7(H,f,o);switch(a){case"nearest":G=QFe(T,f,h,w,B,k,U,X,Q,Z,c);break;case"bilinear":G=HFe(T,f,h,w,B,k,U,X,Q,Z,c);break;default:throw new Error(`Error in Transform: Expect 'nearest' or 'bilinear', but got ${a}`)}const re=U*N+ee*O+q*F+Z;D[re]=G}return r.makeTensorInfo(x,s.dtype,D)}return{dataId:r.write(D,x,s.dtype),shape:s.shape,dtype:s.dtype}}const $Fe={kernelName:zI,backendName:"cpu",kernelFunc:LFe};function Q7(t,e,n){switch(n){case"reflect":return PFe(t,e);case"wrap":return UFe(t,e);case"nearest":return MFe(t,e);default:return zFe(t)}}function PFe(t,e){let n=t;if(n<0)if(e<=1)n=0;else{const r=2*e;n<r&&(n=r*Math.trunc(-n/r)+n),n=n<-e?n+r:-n-1}else if(n>e-1)if(e<=1)n=0;else{const r=2*e;n-=r*Math.trunc(n/r),n>=e&&(n=r-n-1)}return nm(0,n,e-1)}function UFe(t,e){let n=t;if(n<0)if(e<=1)n=0;else{const r=e-1;n+=e*(Math.trunc(-n/r)+1)}else if(n>e-1)if(e<=1)n=0;else{const r=e-1;n-=e*Math.trunc(n/r)}return nm(0,n,e-1)}function zFe(t,e){return t}function MFe(t,e){return nm(0,t,e-1)}function Pv(t,e,n,r,s,i,a,o,c,u,d){const f=a*r+o*s+c*i+u;return 0<=o&&o<e&&0<=c&&c<n?t[f]:d}function QFe(t,e,n,r,s,i,a,o,c,u,d){const f=Math.round(o),h=Math.round(c);return Pv(t,e,n,r,s,i,a,f,h,u,d)}function HFe(t,e,n,r,s,i,a,o,c,u,d){const f=Math.floor(o),h=Math.floor(c),m=f+1,g=h+1,y=(g-c)*Pv(t,e,n,r,s,i,a,f,h,u,d)+(c-h)*Pv(t,e,n,r,s,i,a,f,g,u,d),x=(g-c)*Pv(t,e,n,r,s,i,a,m,h,u,d)+(c-h)*Pv(t,e,n,r,s,i,a,m,g,u,d);return(m-o)*y+(o-f)*x}function WFe(t){const{inputs:e,attrs:n,backend:r}=t,{axis:s}=n,{x:i}=e;yn(i,"unique");const a=r.data.get(i.dataId).values,{outputValues:o,outputShape:c,indices:u}=mie(a,s,i.shape,i.dtype);return[r.makeTensorInfo(c,i.dtype,o),r.makeTensorInfo([u.length],"int32",u)]}const VFe={kernelName:MI,backendName:"cpu",kernelFunc:WFe};function qFe(t){const{inputs:e,backend:n,attrs:r}=t,{value:s}=e;let{axis:i}=r;i<0&&(i+=s.shape.length);const a=s.shape.length,o=s.shape[i],c=new Array(a-1);let u=0;for(let m=0;m<a;m++)m!==i&&(c[u++]=s.shape[m]);const d=new Array(a).fill(0),f=s.shape.slice();f[i]=1;const h=new Array(o);for(let m=0;m<h.length;m++){d[i]=m;const g=r0({inputs:{x:s},backend:n,attrs:{begin:d,size:f}});h[m]=ei({inputs:{x:g},backend:n,attrs:{shape:c}}),n.disposeIntermediateTensorInfo(g)}return h}const GFe={kernelName:p5,backendName:"cpu",kernelFunc:qFe};function KFe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,segmentIds:i}=e,{numSegments:a}=r;yn(s,"unsortedSegmentSum");const o=s.shape.length,c=i.shape.length,u=[],d=[],f=o-c;let h=i;for(let g=0;g<f;++g){const y=r4({inputs:{input:h},backend:n,attrs:{dim:g+1}});h=y,d.push(y)}for(let g=0;g<a;++g){const y=Fh(g,"int32"),x=n.makeTensorInfo([],"int32",y),v=Tse({inputs:{a:x,b:h},backend:n}),w=Am({inputs:{x:v},backend:n,attrs:{dtype:"float32"}}),B=WN({inputs:{a:w,b:s},backend:n}),k=X5({inputs:{x:B},backend:n,attrs:{axis:0,keepDims:!1}});u.push(k),d.push(x),d.push(v),d.push(w),d.push(B),d.push(k)}const m=Tie({inputs:u,backend:n,attrs:{axis:0}});return d.forEach(g=>n.disposeIntermediateTensorInfo(g)),m}const XFe={kernelName:m5,backendName:"cpu",kernelFunc:KFe};const YFe=[WTe,kje,qTe,KTe,Tje,YTe,ZTe,t_e,r_e,i_e,o_e,c_e,d_e,h_e,m_e,x_e,v_e,S_e,k_e,QTe,E_e,N_e,T_e,Rje,R_e,Nje,Fje,F_e,Bje,L_e,P_e,U_e,M_e,H_e,V_e,G_e,X_e,J_e,eRe,nRe,sRe,aRe,lRe,uRe,dRe,ARe,pRe,gRe,yRe,xRe,bRe,wRe,kRe,DTe,ERe,Dje,FRe,Lje,DRe,Pje,MRe,QRe,WRe,zje,Qje,qRe,KRe,YRe,ZRe,Wje,qje,Eje,t6e,$_e,r6e,i6e,o6e,LTe,Kje,Yje,c6e,Zje,d6e,h6e,m6e,x6e,v6e,S6e,C6e,tTe,B6e,I6e,j6e,_6e,O6e,D6e,$6e,rTe,U6e,Q6e,V6e,iTe,oTe,K6e,J6e,tOe,cTe,rOe,iOe,aOe,_ie,uOe,PTe,fTe,fOe,hOe,mOe,yOe,Ije,QO,bOe,UTe,zTe,MTe,wOe,COe,BOe,IOe,jOe,TOe,ROe,bTe,FOe,UOe,MOe,VOe,wTe,GOe,XOe,JOe,STe,H6e,tFe,rFe,iFe,oFe,cFe,dFe,AFe,pFe,BTe,mFe,ITe,jTe,yFe,bFe,wFe,CFe,BFe,OTe,SRe,IFe,jFe,_Fe,OFe,DFe,$Fe,uTe,VFe,GFe,XFe,sOe];for(const t of YFe)HI(t);const fg={},TC={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function JFe(t,e){fg[t]=e}function sf(t,e){if(!(t in fg)||e!=null){const r=e8e(t,e);if(r!==null)fg[t]=r;else return console.log("Could not get context for WebGL version",t),null}const n=fg[t];return n==null||n.isContextLost()?(delete fg[t],sf(t)):(n.disable(n.DEPTH_TEST),n.disable(n.STENCIL_TEST),n.disable(n.BLEND),n.disable(n.DITHER),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SAMPLE_COVERAGE),n.enable(n.SCISSOR_TEST),n.enable(n.CULL_FACE),n.cullFace(n.BACK),fg[t])}function ZFe(t){if(!Xe().getBool("IS_SAFARI")&&typeof OffscreenCanvas<"u"&&t===2)return new OffscreenCanvas(300,150);if(typeof document<"u")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}function e8e(t,e){if(t!==1&&t!==2)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");const n=e??ZFe(t);return n.addEventListener("webglcontextlost",r=>{r.preventDefault(),delete fg[t]},!1),Xe().getBool("SOFTWARE_WEBGL_ENABLED")&&(TC.failIfMajorPerformanceCaveat=!1),t===1?n.getContext("webgl",TC)||n.getContext("experimental-webgl",TC):n.getContext("webgl2",TC)}var R2;(function(t){t[t.DENSE=0]="DENSE",t[t.SHARED_BATCH=1]="SHARED_BATCH"})(R2||(R2={}));var lu;(function(t){t[t.RENDER=0]="RENDER",t[t.UPLOAD=1]="UPLOAD",t[t.PIXELS=2]="PIXELS",t[t.DOWNLOAD=3]="DOWNLOAD"})(lu||(lu={}));var Do;(function(t){t[t.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",t[t.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",t[t.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",t[t.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",t[t.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"})(Do||(Do={}));function Y5(t,e){return[e,t]}function t8e(t,e){return t*e}function _C(t){const e=it(t),n=Math.ceil(e/4);return RB(n)}function Hx(t,e){return[Math.max(1,Math.ceil(e/2)),Math.max(1,Math.ceil(t/2))]}function n8e(t,e){const[n,r]=Hx(t,e);return n*r*4}function $$(t,e){const n=t;let r,s,i,a,o,c,u,d,f,h;return Xe().getNumber("WEBGL_VERSION")===2?(r=n.R32F,s=n.R16F,i=n.RGBA16F,a=n.RGBA32F,o=n.RED,u=4,d=1,f=n.HALF_FLOAT,h=n.FLOAT,c=n.RGBA8):(r=t.RGBA,s=t.RGBA,i=t.RGBA,a=n.RGBA,o=t.RGBA,u=4,d=4,f=e!=null?e.HALF_FLOAT_OES:null,h=t.FLOAT,c=t.RGBA),{internalFormatFloat:r,internalFormatHalfFloat:s,internalFormatPackedHalfFloat:i,internalFormatPackedFloat:a,textureFormatFloat:o,downloadTextureFormat:c,downloadUnpackNumChannels:u,defaultNumChannels:d,textureTypeHalfFloat:f,textureTypeFloat:h}}function Zt(t,e){const n=e();return Xe().getBool("DEBUG")&&r8e(t),n}function r8e(t){const e=t.getError();if(e!==t.NO_ERROR)throw new Error("WebGL Error: "+o8e(t,e))}const s8e=596e-10,i8e=65504;function a8e(t){return!!(Xe().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||t===0||s8e<Math.abs(t)&&Math.abs(t)<i8e)}function o8e(t,e){switch(e){case t.NO_ERROR:return"NO_ERROR";case t.INVALID_ENUM:return"INVALID_ENUM";case t.INVALID_VALUE:return"INVALID_VALUE";case t.INVALID_OPERATION:return"INVALID_OPERATION";case t.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case t.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case t.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return`Unknown error code ${e}`}}function RC(t,e){return Mh(t,()=>t.getExtension(e),'Extension "'+e+'" not supported on this browser.')}function l8e(t,e){const n=Mh(t,()=>t.createShader(t.VERTEX_SHADER),"Unable to create vertex WebGLShader.");if(Zt(t,()=>t.shaderSource(n,e)),Zt(t,()=>t.compileShader(n)),t.getShaderParameter(n,t.COMPILE_STATUS)===!1)throw console.log(t.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}function c8e(t,e){const n=Mh(t,()=>t.createShader(t.FRAGMENT_SHADER),"Unable to create fragment WebGLShader.");if(Zt(t,()=>t.shaderSource(n,e)),Zt(t,()=>t.compileShader(n)),Xe().get("ENGINE_COMPILE_ONLY"))return n;if(t.getShaderParameter(n,t.COMPILE_STATUS)===!1)throw Rie(e,t.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}const u8e=/ERROR: [0-9]+:([0-9]+):/g;function Rie(t,e){const n=u8e.exec(e);if(n==null){console.log(`Couldn't parse line number in error: ${e}`),console.log(t);return}const r=+n[1],s=t.split(`
`),i=s.length.toString().length+2,a=s.map((f,h)=>Bg((h+1).toString(),i)+f);let o=0;for(let f=0;f<a.length;f++)o=Math.max(a[f].length,o);const c=a.slice(0,r-1),u=a.slice(r-1,r),d=a.slice(r);console.log(c.join(`
`)),console.log(e.split(`
`)[0]),console.log(`%c ${Bg(u[0],o)}`,"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(d.join(`
`))}function d8e(t){return Mh(t,()=>t.createProgram(),"Unable to create WebGLProgram.")}function f8e(t,e){if(Zt(t,()=>t.linkProgram(e)),!Xe().get("ENGINE_COMPILE_ONLY")&&t.getProgramParameter(e,t.LINK_STATUS)===!1)throw console.log(t.getProgramInfoLog(e)),new Error("Failed to link vertex and fragment shaders.")}function YT(t,e){if(Zt(t,()=>t.validateProgram(e)),t.getProgramParameter(e,t.VALIDATE_STATUS)===!1)throw console.log(t.getProgramInfoLog(e)),new Error("Shader program validation failed.")}function A8e(t,e){const n=Mh(t,()=>t.createBuffer(),"Unable to create WebGLBuffer");return Zt(t,()=>t.bindBuffer(t.ARRAY_BUFFER,n)),Zt(t,()=>t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW)),n}function h8e(t,e){const n=Mh(t,()=>t.createBuffer(),"Unable to create WebGLBuffer");return Zt(t,()=>t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n)),Zt(t,()=>t.bufferData(t.ELEMENT_ARRAY_BUFFER,e,t.STATIC_DRAW)),n}function p8e(t){return Mh(t,()=>t.createTexture(),"Unable to create WebGLTexture.")}function m8e(t,e){const n=Xe().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t<=0||e<=0){const r=`[${t}x${e}]`;throw new Error("Requested texture size "+r+" is invalid.")}if(t>n||e>n){const r=`[${t}x${e}]`,s=`[${n}x${n}]`;throw new Error("Requested texture size "+r+" greater than WebGL maximum on this browser / GPU "+s+".")}}function g8e(t){return Mh(t,()=>t.createFramebuffer(),"Unable to create WebGLFramebuffer.")}function H7(t,e,n,r,s,i,a){const o=t.getAttribLocation(e,n);return o===-1?!1:(Zt(t,()=>t.bindBuffer(t.ARRAY_BUFFER,r)),Zt(t,()=>t.vertexAttribPointer(o,s,t.FLOAT,!1,i,a)),Zt(t,()=>t.enableVertexAttribArray(o)),!0)}function y8e(t,e,n){S8e(t,n),Zt(t,()=>t.activeTexture(t.TEXTURE0+n)),Zt(t,()=>t.bindTexture(t.TEXTURE_2D,e))}function x8e(t,e,n){return Mh(t,()=>t.getUniformLocation(e,n),'uniform "'+n+'" not present in program.')}function b8e(t,e,n){return t.getUniformLocation(e,n)}function v8e(t,e,n,r){Zt(t,()=>y8e(t,e,r)),Zt(t,()=>t.uniform1i(n,r))}function JT(t,e,n){Zt(t,()=>t.bindFramebuffer(t.FRAMEBUFFER,n)),Zt(t,()=>t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0))}function W7(t,e){Zt(t,()=>t.bindFramebuffer(t.FRAMEBUFFER,e)),Zt(t,()=>t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,null,0))}function OC(t){const e=t.checkFramebufferStatus(t.FRAMEBUFFER);if(e!==t.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+w8e(t,e))}function w8e(t,e){switch(e){case t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case t.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return`unknown error ${e}`}}function Mh(t,e,n){const r=Zt(t,()=>e());if(r==null)throw new Error(n);return r}function S8e(t,e){const n=t.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=e+t.TEXTURE0;if(r<t.TEXTURE0||r>n){const s=`[gl.TEXTURE0, gl.TEXTURE${n}]`;throw new Error(`textureUnit must be in ${s}.`)}}function B1(t,e=2){return it(t.slice(0,t.length-e))}function E1(t){if(t.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[t.length>1?t[t.length-2]:1,t[t.length-1]]}function FC(t){let e=[1,1,1];return t.length===0||t.length===1&&t[0]===1||(e=[B1(t),...E1(t)]),e}function C8e(t,e=!1){let n=Xe().getNumber("WEBGL_MAX_TEXTURE_SIZE"),r=Xe().getNumber("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE");r===1/0&&Xe().getBool("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE")&&(r=n/2),e&&(n=n*2,r=r*2,t=t.map((o,c)=>c>=t.length-2?LE(t[c]):t[c]),t.length===1&&(t=[2,t[0]])),t.length!==2&&(t=Oh(t).newShape);let s=it(t),i=null;t.length<=1&&s<=n?i=[1,s]:t.length===2&&t[0]<=n&&t[1]<=n?i=t:t.length===3&&t[0]*t[1]<=n&&t[2]<=n?i=[t[0]*t[1],t[2]]:t.length===3&&t[0]<=n&&t[1]*t[2]<=n?i=[t[0],t[1]*t[2]]:t.length===4&&t[0]*t[1]*t[2]<=n&&t[3]<=n?i=[t[0]*t[1]*t[2],t[3]]:t.length===4&&t[0]<=n&&t[1]*t[2]*t[3]<=n&&(i=[t[0],t[1]*t[2]*t[3]]);const a=i!=null&&Math.max(...i)>r&&Math.min(...i)<=(e?2:1)&&Math.min(...i)>0;if(i==null||a)if(e){const o=B1(t);let c=2,u=2;t.length&&([c,u]=E1(t)),s=o*(c/2)*(u/2),i=RB(s).map(d=>d*2)}else i=RB(s);return i}function DC(t){return t%2===0}function i4(t,e){if(t=t.slice(-2),e=e.slice(-2),vr(t,e)||!t.length||!e.length||t[0]===0||t[1]===0||e[0]===0||e[1]===0)return!0;if(t.length!==e.length){const n=t[t.length-1],r=e[e.length-1];if(n===r||DC(n)&&DC(r)&&(t[0]===1||e[0]===1))return!0}return t[1]===e[1]&&DC(t[0])&&DC(e[0])}let ZT,e_;function k8e(t){if(ZT==null){const e=sf(t);ZT=e.getParameter(e.MAX_TEXTURE_SIZE)}return ZT}function B8e(t){if(e_==null){const e=sf(t);e_=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,e_)}function E8e(t){if(t===0)return 0;let e;const n=sf(t);return Ku(n,"EXT_disjoint_timer_query_webgl2")&&t===2?e=2:Ku(n,"EXT_disjoint_timer_query")?e=1:e=0,e}function Ku(t,e){return t.getExtension(e)!=null}function V7(t){try{if(sf(t)!=null)return!0}catch(e){return console.log("Error when getting WebGL context: ",e),!1}return!1}function I8e(t){if(t===0)return!1;const e=sf(t);if(t===1){if(!Ku(e,"OES_texture_float"))return!1}else if(!Ku(e,"EXT_color_buffer_float"))return!1;return WO(e)}function N8e(t){if(t===0)return!1;const e=sf(t);if(t===1){if(!Ku(e,"OES_texture_float")||!Ku(e,"WEBGL_color_buffer_float"))return!1}else{if(Ku(e,"EXT_color_buffer_float"))return WO(e);const r="EXT_color_buffer_half_float";if(Ku(e,r)){const s=e.getExtension(r);return j8e(e,s)}return!1}return WO(e)}function WO(t){const e=$$(t),n=t.createTexture();t.bindTexture(t.TEXTURE_2D,n),t.texImage2D(t.TEXTURE_2D,0,e.internalFormatFloat,1,1,0,e.textureFormatFloat,e.textureTypeFloat,null);const i=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,i),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0);const a=t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE;return t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteTexture(n),t.deleteFramebuffer(i),a}function j8e(t,e){const n=$$(t,e),r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r),t.texImage2D(t.TEXTURE_2D,0,n.internalFormatHalfFloat,1,1,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);const a=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,a),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0);const o=t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE;return t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteTexture(r),t.deleteFramebuffer(a),o}function T8e(t){return t!==2?!1:sf(t).fenceSync!=null}function J5(t,e){Array.isArray(t)||(t=[t]),t.forEach(n=>{n!=null&&ce(n.dtype!=="complex64",()=>`${e} does not support complex64 tensors in the WebGL backend.`)})}const wn=Xe();wn.registerFlag("HAS_WEBGL",()=>wn.getNumber("WEBGL_VERSION")>0);wn.registerFlag("WEBGL_VERSION",()=>V7(2)?2:V7(1)?1:0);wn.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",()=>!1);wn.registerFlag("WEBGL_BUFFER_SUPPORTED",()=>wn.get("WEBGL_VERSION")===2);wn.registerFlag("WEBGL_CPU_FORWARD",()=>!0);wn.registerFlag("WEBGL_FORCE_F16_TEXTURES",()=>!1);wn.registerFlag("WEBGL_PACK",()=>wn.getBool("HAS_WEBGL"));wn.registerFlag("WEBGL_PACK_NORMALIZATION",()=>wn.getBool("WEBGL_PACK"));wn.registerFlag("WEBGL_PACK_CLIP",()=>wn.getBool("WEBGL_PACK"));wn.registerFlag("WEBGL_PACK_DEPTHWISECONV",()=>wn.getBool("WEBGL_PACK"));wn.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",()=>wn.getBool("WEBGL_PACK"));wn.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",()=>wn.getBool("WEBGL_PACK"));wn.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",()=>wn.getBool("WEBGL_PACK"));wn.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",()=>wn.getBool("WEBGL_PACK"));wn.registerFlag("WEBGL_PACK_REDUCE",()=>wn.getBool("WEBGL_PACK"));wn.registerFlag("WEBGL_LAZILY_UNPACK",()=>wn.getBool("WEBGL_PACK"));wn.registerFlag("WEBGL_CONV_IM2COL",()=>wn.getBool("WEBGL_PACK"));wn.registerFlag("WEBGL_PACK_CONV2DTRANSPOSE",()=>wn.getBool("WEBGL_PACK"));wn.registerFlag("WEBGL_MAX_TEXTURE_SIZE",()=>k8e(wn.getNumber("WEBGL_VERSION")));wn.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",()=>B8e(wn.getNumber("WEBGL_VERSION")));wn.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",()=>{const t=wn.getNumber("WEBGL_VERSION");return t===0?0:E8e(t)});wn.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",()=>wn.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!dD());wn.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",()=>I8e(wn.getNumber("WEBGL_VERSION")));wn.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",()=>wn.getBool("WEBGL_FORCE_F16_TEXTURES")?!1:wn.getBool("WEBGL_RENDER_FLOAT32_CAPABLE"));wn.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",()=>N8e(wn.getNumber("WEBGL_VERSION")));wn.registerFlag("WEBGL_FENCE_API_ENABLED",()=>T8e(wn.getNumber("WEBGL_VERSION")));wn.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",()=>wn.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0);wn.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",()=>-1,t=>{if(typeof t!="number")throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be a number but got ${t}.`);if(t<0&&t!==-1)throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never delete) or at least 0, but got ${t}.`)});wn.registerFlag("WEBGL_FLUSH_THRESHOLD",()=>dD()?1:-1,t=>{if(typeof t!="number")throw new Error(`WEBGL_FLUSH_THRESHOLD must be a number but got ${t}.`);if(t<0&&t!==-1)throw new Error(`WEBGL_FLUSH_THRESHOLD must be -1 (indicating never manual flush) or at least 0, but got ${t}.`)});wn.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",()=>128);wn.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",()=>!1);wn.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",()=>1e5);wn.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",()=>128);wn.registerFlag("WEBGL_EXP_CONV",()=>!1);wn.registerFlag("SOFTWARE_WEBGL_ENABLED",()=>wn.getBool("IS_TEST"));wn.registerFlag("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE",()=>1/0);wn.registerFlag("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE",()=>!1);wn.registerFlag("WEBGL2_ISNAN_CUSTOM",()=>!1);wn.registerFlag("ENGINE_COMPILE_ONLY",()=>!1);function Ol(){let t,e,n,r,s,i,a,o,c,u;return Xe().getNumber("WEBGL_VERSION")===2?(t="#version 300 es",e="in",n="out",r="in",s="texture",i="outputColor",a="out vec4 outputColor;",o=Xe().getBool("WEBGL2_ISNAN_CUSTOM")?`
      bool isnan_custom(float val) {
        uint floatToUint = floatBitsToUint(val);
        return (floatToUint & 0x7fffffffu) > 0x7f800000u;
      }

      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan_custom(val.x),
          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));
      }

      #define isnan(value) isnan_custom(value)
    `:"",c="",u=`
      #define round(value) newRound(value)
      int newRound(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 newRound(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `):(t="",e="attribute",n="varying",r="varying",s="texture2D",i="gl_FragColor",a="",o=`
      #define isnan(value) isnan_custom(value)
      bool isnan_custom(float val) {
        return (val > 0. || val < 1. || val == 0.) ? false : true;
      }
      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));
      }
    `,c=`
      uniform float INFINITY;

      bool isinf(float val) {
        return abs(val) == INFINITY;
      }
      bvec4 isinf(vec4 val) {
        return equal(abs(val), vec4(INFINITY));
      }
    `,u=`
      int round(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 round(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `),{version:t,attribute:e,varyingVs:n,varyingFs:r,texture2D:s,output:i,defineOutput:a,defineSpecialNaN:o,defineSpecialInf:c,defineRound:u}}function E0(t,e,n="index"){const r=Rn(e);return r.map((s,i)=>{const a=`int ${t[i]} = ${n} / ${s}`,o=i===r.length-1?`int ${t[i+1]} = ${n} - ${t[i]} * ${s}`:`index -= ${t[i]} * ${s}`;return`${a}; ${o};`}).join("")}function VN(t,e,n="index"){const r=Rn(e);return r.map((s,i)=>{const a=`int ${t[i]} = ${n} / outShapeStrides[${i}]`,o=i===r.length-1?`int ${t[i+1]} = ${n} - ${t[i]} * outShapeStrides[${i}]`:`index -= ${t[i]} * outShapeStrides[${i}]`;return`${a}; ${o};`}).join("")}function _8e(t,e){const n=t.length,r=t.map(i=>`${e}[${i}]`),s=new Array(n-1);s[n-2]=r[n-1];for(let i=n-3;i>=0;--i)s[i]=`(${s[i+1]} * ${r[i+1]})`;return s}function R8e(t,e,n="index"){const r=t.map((i,a)=>a),s=_8e(r,e);return s.map((i,a)=>{const o=`int ${t[a]} = ${n} / ${s[a]}`,c=a===s.length-1?`int ${t[a+1]} = ${n} - ${t[a]} * ${s[a]}`:`index -= ${t[a]} * ${s[a]}`;return`${o}; ${c};`}).join("")}function P$(t){const e=Rn(t).map(n=>n.toString());return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * ${e[0]} + coords.y * ${e[1]} + coords.z;
  }
`}function U$(){return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;
  }
`}const Oie=`
  const float FLOAT_MAX = 1.70141184e38;
  const float FLOAT_MIN = 1.17549435e-38;

  lowp vec4 encode_float(highp float v) {
    if (isnan(v)) {
      return vec4(255, 255, 255, 255);
    }

    highp float av = abs(v);

    if(av < FLOAT_MIN) {
      return vec4(0.0, 0.0, 0.0, 0.0);
    } else if(v > FLOAT_MAX) {
      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
    } else if(v < -FLOAT_MAX) {
      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
    }

    highp vec4 c = vec4(0,0,0,0);

    highp float e = floor(log2(av));
    highp float m = exp2(fract(log2(av))) - 1.0;

    c[2] = floor(128.0 * m);
    m -= c[2] / 128.0;
    c[1] = floor(32768.0 * m);
    m -= c[1] / 32768.0;
    c[0] = floor(8388608.0 * m);

    highp float ebias = e + 127.0;
    c[3] = floor(ebias / 2.0);
    ebias -= c[3] * 2.0;
    c[2] += floor(ebias) * 128.0;

    c[3] += 128.0 * step(0.0, -v);

    return c / 255.0;
  }
`;const{getBroadcastDims:Fie}=nne;function O8e(t,e,n){const r=[];if(t.forEach(m=>{const g=it(m.shapeInfo.logicalShape);if(m.shapeInfo.isUniform?r.push(`uniform float ${m.name}${g>1?`[${g}]`:""};`):(r.push(`uniform sampler2D ${m.name};`),r.push(`uniform int offset${m.name};`)),n.enableShapeUniforms){const{uniformShape:y}=z$(n.packedInputs,m.shapeInfo.logicalShape,m.shapeInfo.texShape);switch(y.length){case 1:r.push(`uniform int ${m.name}Shape;`);break;case 2:r.push(`uniform ivec2 ${m.name}Shape;`);break;case 3:r.push(`uniform ivec3 ${m.name}Shape;`);break;case 4:r.push(`uniform ivec4 ${m.name}Shape;`);break}r.push(`uniform ivec2 ${m.name}TexShape;`)}}),n.enableShapeUniforms){switch(e.logicalShape.length){case 1:r.push("uniform int outShape;");break;case 2:r.push("uniform ivec2 outShape;"),r.push("uniform int outShapeStrides;");break;case 3:r.push("uniform ivec3 outShape;"),r.push("uniform ivec2 outShapeStrides;");break;case 4:r.push("uniform ivec4 outShape;"),r.push("uniform ivec3 outShapeStrides;");break}r.push("uniform ivec2 outTexShape;")}n.customUniforms&&n.customUniforms.forEach(m=>{r.push(`uniform ${m.type} ${m.name}${m.arrayIndex?`[${m.arrayIndex}]`:""};`)});const s=r.join(`
`),i=t.map(m=>F8e(m,e,n.packedInputs,n.enableShapeUniforms)).join(`
`),a=e.texShape,o=Ol(),c=$8e(o);let u,d,f=z8e(o);return e.isPacked?(u=D8e(e.logicalShape,a,n.enableShapeUniforms),d=U8e(o)):(u=L8e(e.logicalShape,a,n.enableShapeUniforms),d=P8e(o)),n.packedInputs&&(f+=W8e),[f,c,d,s,u,i,n.userCode].join(`
`)}function Wx(t,e=!1){const n=t.shapeInfo.logicalShape;switch(n.length){case 0:return rDe(t,e);case 1:return iDe(t,e);case 2:return oDe(t,e);case 3:return cDe(t,e);case 4:return dDe(t,e);case 5:return fDe(t);case 6:return ADe(t);default:throw new Error(`${n.length}-D input sampling is not yet supported`)}}function Die(t,e){switch(t.shapeInfo.logicalShape.length){case 0:return nDe(t);case 1:return sDe(t,e);case 2:return aDe(t,e);case 3:return lDe(t,e);default:return uDe(t,e)}}function F8e(t,e,n=!1,r){let s="";n?s+=Die(t,r):s+=Wx(t,r);const i=t.shapeInfo.logicalShape,a=e.logicalShape;return i.length<=a.length&&(n?s+=hDe(t,e):s+=pDe(t,e)),s}function D8e(t,e,n){switch(t.length){case 0:return Lie();case 1:return V8e(t,e,n);case 2:return eDe(t,e,n);case 3:return G8e(t,e,n);default:return X8e(t,e,n)}}function L8e(t,e,n){switch(t.length){case 0:return Lie();case 1:return q8e(t,e,n);case 2:return tDe(t,e,n);case 3:return K8e(t,e,n);case 4:return Y8e(t,e,n);case 5:return J8e(t,e);case 6:return Z8e(t,e);default:throw new Error(`${t.length}-D output sampling is not yet supported`)}}function $8e(t){return`
    float sampleTexture(sampler2D textureSampler, vec2 uv) {
      return ${t.texture2D}(textureSampler, uv).r;
    }
  `}function P8e(t){return`
    void setOutput(float val) {
      ${t.output} = vec4(val, 0, 0, 0);
    }
  `}function U8e(t){return`
    void setOutput(vec4 val) {
      ${t.output} = val;
    }
  `}function z8e(t){return`${t.version}
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    ${t.varyingFs} vec2 resultUV;
    ${t.defineOutput}
    const vec2 halfCR = vec2(0.5, 0.5);

    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    uniform float NAN;
    ${t.defineSpecialNaN}
    ${t.defineSpecialInf}
    ${t.defineRound}

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    int idiv(int a, int b, float sign) {
      int res = a / b;
      int mod = imod(a, b);
      if (sign < 0. && mod != 0) {
        res -= 1;
      }
      return res;
    }

    //Based on the work of Dave Hoskins
    //https://www.shadertoy.com/view/4djSRW
    #define HASHSCALE1 443.8975
    float random(float seed){
      vec2 p = resultUV * seed;
      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);
      p3 += dot(p3, p3.yzx + 19.19);
      return fract((p3.x + p3.y) * p3.z);
    }

    ${M8e}
    ${Q8e}
    ${H8e}
  `}const M8e=`
vec2 uvFromFlat(int texNumR, int texNumC, int index) {
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
  int texelIndex = index / 2;
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,Q8e=`
vec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,
  int texNumC, int row, int col) {
  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,H8e=`
vec2 packedUVfrom3D(int texNumR, int texNumC,
    int texelsInBatch, int texelsInLogicalRow, int b,
    int row, int col) {
  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,W8e=`
  float getChannel(vec4 frag, vec2 innerDims) {
    vec2 modCoord = mod(innerDims, 2.);
    return modCoord.x == 0. ?
      (modCoord.y == 0. ? frag.r : frag.g) :
      (modCoord.y == 0. ? frag.b : frag.a);
  }
  float getChannel(vec4 frag, int dim) {
    float modCoord = mod(float(dim), 2.);
    return modCoord == 0. ? frag.r : frag.g;
  }
`;function Lie(){return`
    int getOutputCoords() {
      return 0;
    }
  `}function V8e(t,e,n){const r=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)];return r[0]===1?n?`
      int getOutputCoords() {
        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));
      }
    `:`
      int getOutputCoords() {
        return 2 * int(resultUV.x * ${r[1]}.0);
      }
    `:r[1]===1?n?`
      int getOutputCoords() {
        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));
      }
    `:`
      int getOutputCoords() {
        return 2 * int(resultUV.y * ${r[0]}.0);
      }
    `:n?`
    int getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);
    }
  `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));
      return 2 * (resTexRC.x * ${r[1]} + resTexRC.y);
    }
  `}function q8e(t,e,n){return e[0]===1?n?`
      int getOutputCoords() {
        return int(resultUV.x * float(outTexShape[1]));
      }
    `:`
      int getOutputCoords() {
        return int(resultUV.x * ${e[1]}.0);
      }
    `:e[1]===1?n?`
      int getOutputCoords() {
        return int(resultUV.y * float(outTexShape[0]));
      }
    `:`
      int getOutputCoords() {
        return int(resultUV.y * ${e[0]}.0);
      }
    `:n?`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(outTexShape[0], outTexShape[1]));
      return resTexRC.x * outTexShape[1] + resTexRC.y;
    }
  `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${e[0]}, ${e[1]}));
      return resTexRC.x * ${e[1]} + resTexRC.y;
    }
  `}function G8e(t,e,n){if(n)return`
    ivec3 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));
      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;

      int b = index / texelsInBatch;
      index -= b * texelsInBatch;

      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec3(b, r, c);
    }
  `;const r=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)],s=Math.ceil(t[2]/2),i=s*Math.ceil(t[1]/2);return`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));
      int index = resTexRC.x * ${r[1]} + resTexRC.y;

      int b = index / ${i};
      index -= b * ${i};

      int r = 2 * (index / ${s});
      int c = imod(index, ${s}) * 2;

      return ivec3(b, r, c);
    }
  `}function K8e(t,e,n){if(n)return`
  ivec3 getOutputCoords() {
    ivec2 resTexRC = ivec2(resultUV.yx *
                           vec2(outTexShape[0], outTexShape[1]));
    int index = resTexRC.x * outTexShape[1] + resTexRC.y;
    ${VN(["r","c","d"],t)}
    return ivec3(r, c, d);
  }
`;const r=E0(["r","c","d"],t);return`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;
      ${r}
      return ivec3(r, c, d);
    }
  `}function X8e(t,e,n){if(n)return`
    ivec4 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;

      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));
      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));
      int texelsInBatchN = texelsInBatch * outShape[1];

      int b2 = index / texelsInBatchN;
      index -= b2 * texelsInBatchN;

      int b = index / texelsInBatch;
      index -= b * texelsInBatch;

      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec4(b2, b, r, c);
    }
  `;const r=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)],s=Math.ceil(t[t.length-1]/2),i=s*Math.ceil(t[t.length-2]/2);let a=i,o="",c="b, r, c";for(let u=2;u<t.length-1;u++)a*=t[t.length-u-1],o=`
      int b${u} = index / ${a};
      index -= b${u} * ${a};
    `+o,c=`b${u}, `+c;return`
    ivec${t.length} getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));
      int index = resTexRC.x * ${r[1]} + resTexRC.y;

      ${o}

      int b = index / ${i};
      index -= b * ${i};

      int r = 2 * (index / ${s});
      int c = imod(index, ${s}) * 2;

      return ivec${t.length}(${c});
    }
  `}function Y8e(t,e,n){if(n)return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(outTexShape[0], outTexShape[1]));
      int index = resTexRC.x * outTexShape[1] + resTexRC.y;
      ${VN(["r","c","d","d2"],t)}
      return ivec4(r, c, d, d2);
    }
  `;const r=E0(["r","c","d","d2"],t);return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;
      ${r}
      return ivec4(r, c, d, d2);
    }
  `}function J8e(t,e){const n=E0(["r","c","d","d2","d3"],t);return`
    ivec5 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx * vec2(${e[0]},
                             ${e[1]}));

      int index = resTexRC.x * ${e[1]} + resTexRC.y;

      ${n}

      ivec5 outShape = ivec5(r, c, d, d2, d3);
      return outShape;
    }
  `}function Z8e(t,e){const n=E0(["r","c","d","d2","d3","d4"],t);return`
    ivec6 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;

      ${n}

      ivec6 result = ivec6(r, c, d, d2, d3, d4);
      return result;
    }
  `}function eDe(t,e,n){const r=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)];if(vr(t,e))return n?`
      ivec2 getOutputCoords() {
        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));
      }
    `:`
      ivec2 getOutputCoords() {
        return 2 * ivec2(resultUV.yx * vec2(${r[0]}, ${r[1]}));
      }
    `;const s=Math.ceil(t[1]/2);return n?`
    ivec2 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));

      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;
      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec2(r, c);
    }
  `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));

      int index = resTexRC.x * ${r[1]} + resTexRC.y;
      int r = 2 * (index / ${s});
      int c = imod(index, ${s}) * 2;

      return ivec2(r, c);
    }
  `}function tDe(t,e,n){return vr(t,e)?n?`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));
      }
    `:`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(${e[0]}, ${e[1]}));
      }
    `:t[1]===1?n?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(outTexShape[0], outTexShape[1]));
        int index = resTexRC.x * outTexShape[1] + resTexRC.y;
        return ivec2(index, 0);
      }
    `:`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(${e[0]}, ${e[1]}));
        int index = resTexRC.x * ${e[1]} + resTexRC.y;
        return ivec2(index, 0);
      }
    `:t[0]===1?n?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(outTexShape[0], outTexShape[1]));
        int index = resTexRC.x * outTexShape[1] + resTexRC.y;
        return ivec2(0, index);
      }
    `:`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(${e[0]}, ${e[1]}));
        int index = resTexRC.x * ${e[1]} + resTexRC.y;
        return ivec2(0, index);
      }
    `:n?`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(outTexShape[0], outTexShape[1]));
      int index = resTexRC.x * outTexShape[1] + resTexRC.y;
      int r = index / outShape[1];
      int c = index - r * outShape[1];
      return ivec2(r, c);
    }
  `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;
      int r = index / ${t[1]};
      int c = index - r * ${t[1]};
      return ivec2(r, c);
    }
  `}function I0(t){return`offset${t}`}function nDe(t){const e=t.name,n="get"+e.charAt(0).toUpperCase()+e.slice(1),r=Ol();return`
    vec4 ${n}() {
      return ${r.texture2D}(${e}, halfCR);
    }
  `}function rDe(t,e){const n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(t.shapeInfo.isUniform)return`float ${r}() {return ${n};}`;const[s,i]=t.shapeInfo.texShape;if(s===1&&i===1)return`
      float ${r}() {
        return sampleTexture(${n}, halfCR);
      }
    `;const a=I0(n);if(e)return`
    float ${r}() {
      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], ${a});
      return sampleTexture(${n}, uv);
    }
  `;const[o,c]=t.shapeInfo.texShape;return`
    float ${r}() {
      vec2 uv = uvFromFlat(${o}, ${c}, ${a});
      return sampleTexture(${n}, uv);
    }
  `}function sDe(t,e){const n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),s=t.shapeInfo.texShape,i=Ol();if(e)return`
    vec4 ${r}(int index) {
      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));
      vec2 uv = packedUVfrom1D(
        packedTexShape[0], packedTexShape[1], index);
      return ${i.texture2D}(${n}, uv);
    }
  `;const a=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)];return`
    vec4 ${r}(int index) {
      vec2 uv = packedUVfrom1D(
        ${a[0]}, ${a[1]}, index);
      return ${i.texture2D}(${n}, uv);
    }
  `}function iDe(t,e){const n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(t.shapeInfo.isUniform)return`
      float ${r}(int index) {
        ${Vx(t)}
      }
    `;const s=t.shapeInfo.texShape,i=s[0],a=s[1];if(a===1&&i===1)return`
      float ${r}(int index) {
        return sampleTexture(${n}, halfCR);
      }
    `;const o=I0(n);return a===1?e?`
      float ${r}(int index) {
        vec2 uv = vec2(0.5, (float(index + ${o}) + 0.5) / float(${n}TexShape[0]));
        return sampleTexture(${n}, uv);
      }
    `:`
      float ${r}(int index) {
        vec2 uv = vec2(0.5, (float(index + ${o}) + 0.5) / ${i}.0);
        return sampleTexture(${n}, uv);
      }
    `:i===1?e?`
      float ${r}(int index) {
        vec2 uv = vec2((float(index + ${o}) + 0.5) / float(${n}TexShape[1]), 0.5);
        return sampleTexture(${n}, uv);
      }
    `:`
      float ${r}(int index) {
        vec2 uv = vec2((float(index + ${o}) + 0.5) / ${a}.0, 0.5);
        return sampleTexture(${n}, uv);
      }
    `:e?`
    float ${r}(int index) {
      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], index + ${o});
      return sampleTexture(${n}, uv);
    }
  `:`
    float ${r}(int index) {
      vec2 uv = uvFromFlat(${i}, ${a}, index + ${o});
      return sampleTexture(${n}, uv);
    }
  `}function aDe(t,e){const n=t.shapeInfo.logicalShape,r=t.name,s="get"+r.charAt(0).toUpperCase()+r.slice(1),i=t.shapeInfo.texShape,a=i[0],o=i[1],c=Ol();if(i!=null&&vr(n,i))return e?`
      vec4 ${s}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);

        return ${c.texture2D}(${r}, uv);
      }
    `:`
      vec4 ${s}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${o}.0, ${a}.0);

        return ${c.texture2D}(${r}, uv);
      }
    `;if(e)return`
    vec4 ${s}(int row, int col) {
      ivec2 packedTexShape = ivec2(ceil(float(${r}TexShape[0]) / 2.0), ceil(float(${r}TexShape[1]) / 2.0));
      int valuesPerRow = int(ceil(float(${r}Shape[1]) / 2.0));
      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);
      return ${c.texture2D}(${r}, uv);
    }
  `;const u=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)],d=Math.ceil(n[1]/2);return`
    vec4 ${s}(int row, int col) {
      vec2 uv = packedUVfrom2D(${d}, ${u[0]}, ${u[1]}, row, col);
      return ${c.texture2D}(${r}, uv);
    }
  `}function oDe(t,e){const n=t.shapeInfo.logicalShape,r=t.name,s="get"+r.charAt(0).toUpperCase()+r.slice(1),i=t.shapeInfo.texShape;if(i!=null&&vr(n,i)){if(e)return`
      float ${s}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `;const h=i[0],m=i[1];return`
    float ${s}(int row, int col) {
      vec2 uv = (vec2(col, row) + halfCR) / vec2(${m}.0, ${h}.0);
      return sampleTexture(${r}, uv);
    }
  `}const{newShape:a,keptDims:o}=Oh(n),c=a;if(c.length<n.length){const h=qx(t,c),m=["row","col"];return`
      ${Wx(h,e)}
      float ${s}(int row, int col) {
        return ${s}(${Gx(m,o)});
      }
    `}if(t.shapeInfo.isUniform)return`
      float ${s}(int row, int col) {
        int index = round(dot(vec2(row, col), vec2(${n[1]}, 1)));
        ${Vx(t)}
      }
    `;const u=i[0],d=i[1],f=I0(r);return d===1?e?`
      float ${s}(int row, int col) {
        float index = dot(vec3(row, col, ${f}), vec3(${r}Shape[1], 1, 1));
        vec2 uv = vec2(0.5, (index + 0.5) / float(${r}TexShape[0]));
        return sampleTexture(${r}, uv);
      }
    `:`
    float ${s}(int row, int col) {
      float index = dot(vec3(row, col, ${f}), vec3(${n[1]}, 1, 1));
      vec2 uv = vec2(0.5, (index + 0.5) / ${u}.0);
      return sampleTexture(${r}, uv);
    }
  `:u===1?e?`
      float ${s}(int row, int col) {
        float index = dot(vec3(row, col, ${f}), vec3(${r}Shape[1], 1, 1));
        vec2 uv = vec2((index + 0.5) / float(${r}TexShape[1]), 0.5);
        return sampleTexture(${r}, uv);
      }
    `:`
    float ${s}(int row, int col) {
      float index = dot(vec3(row, col, ${f}), vec3(${n[1]}, 1, 1));
      vec2 uv = vec2((index + 0.5) / ${d}.0, 0.5);
      return sampleTexture(${r}, uv);
    }
  `:e?`
      float ${s}(int row, int col) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * ${r}Shape[1] + col + ${f};
        vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index);
        return sampleTexture(${r}, uv);
      }
    `:`
  float ${s}(int row, int col) {
    // Explicitly use integer operations as dot() only works on floats.
    int index = row * ${n[1]} + col + ${f};
    vec2 uv = uvFromFlat(${u}, ${d}, index);
    return sampleTexture(${r}, uv);
  }
`}function lDe(t,e){const n=t.shapeInfo.logicalShape,r=t.name,s="get"+r.charAt(0).toUpperCase()+r.slice(1),i=t.shapeInfo.texShape,a=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];if(n[0]===1){const h=n.slice(1),m=[1,2],g=qx(t,h),y=["b","row","col"];return`
        ${Die(g,e)}
        vec4 ${s}(int b, int row, int col) {
          return ${s}(${Gx(y,m)});
        }
      `}const o=Ol();if(e)return`
    vec4 ${s}(int b, int row, int col) {
      ivec2 packedTexShape = ivec2(ceil(float(${r}TexShape[0]) / 2.0), ceil(float(${r}TexShape[1]) / 2.0));
      int valuesPerRow = int(ceil(float(${r}Shape[2]) / 2.0));
      int texelsInBatch = valuesPerRow * int(ceil(float(${r}Shape[1]) / 2.0));
      vec2 uv = packedUVfrom3D(
        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);
      return ${o.texture2D}(${r}, uv);
    }
  `;const c=a[0],u=a[1],d=Math.ceil(n[2]/2),f=d*Math.ceil(n[1]/2);return`
    vec4 ${s}(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        ${c}, ${u}, ${f}, ${d}, b, row, col);
      return ${o.texture2D}(${r}, uv);
    }
  `}function cDe(t,e){const n=t.shapeInfo.logicalShape,r=t.name,s="get"+r.charAt(0).toUpperCase()+r.slice(1),i=n[1]*n[2],a=n[2],{newShape:o,keptDims:c}=Oh(n),u=o;if(u.length<n.length){const y=qx(t,u),x=["row","col","depth"];return`
        ${Wx(y,e)}
        float ${s}(int row, int col, int depth) {
          return ${s}(${Gx(x,c)});
        }
      `}if(t.shapeInfo.isUniform)return`
      float ${s}(int row, int col, int depth) {
        int index = round(dot(vec3(row, col, depth),
                          vec3(${i}, ${a}, 1)));
        ${Vx(t)}
      }
    `;const d=t.shapeInfo.texShape,f=d[0],h=d[1],m=t.shapeInfo.flatOffset;if(h===i&&m==null)return e?`
      float ${s}(int row, int col, int depth) {
        int stride1 = ${r}Shape[2];
        float texR = float(row);
        float texC = dot(vec2(col, depth), vec2(stride1, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
        float ${s}(int row, int col, int depth) {
          float texR = float(row);
          float texC = dot(vec2(col, depth), vec2(${a}, 1));
          vec2 uv = (vec2(texC, texR) + halfCR) /
                     vec2(${h}.0, ${f}.0);
          return sampleTexture(${r}, uv);
        }
      `;if(h===a&&m==null)return e?`
      float ${s}(int row, int col, int depth) {
        float texR = dot(vec2(row, col), vec2(${r}Shape[1], 1));
        float texC = float(depth);
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
    float ${s}(int row, int col, int depth) {
      float texR = dot(vec2(row, col), vec2(${n[1]}, 1));
      float texC = float(depth);
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${h}.0, ${f}.0);
      return sampleTexture(${r}, uv);
    }
  `;const g=I0(r);return e?`
    float ${s}(int row, int col, int depth) {
      // Explicitly use integer operations as dot() only works on floats.
      int stride0 = ${r}Shape[1] * ${r}Shape[2];
      int stride1 = ${r}Shape[2];
      int index = row * stride0 + col * stride1 + depth + ${g};
      vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index);
      return sampleTexture(${r}, uv);
    }
    `:`
      float ${s}(int row, int col, int depth) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * ${i} + col * ${a} + depth + ${g};
        vec2 uv = uvFromFlat(${f}, ${h}, index);
        return sampleTexture(${r}, uv);
      }
  `}function uDe(t,e){const n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),s=Ol();if(e)return`
    vec4 ${r}(int b2, int b, int row, int col) {
      int valuesPerRow = int(ceil(float(${n}Shape[3]) / 2.0));
      int texelsInBatch = valuesPerRow * int(ceil(float(${n}Shape[2]) / 2.0));
      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);
      texelsInBatch *= ${n}Shape[1];
      index = b2 * texelsInBatch + index;
      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));
      int texR = index / packedTexShape[1];
      int texC = index - texR * packedTexShape[1];
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ${s.texture2D}(${n}, uv);
    }
  `;const i=t.shapeInfo.logicalShape,a=i.length,o=t.shapeInfo.texShape,c=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)],u=c[0],d=c[1],f=Math.ceil(i[a-1]/2);let h=f*Math.ceil(i[a-2]/2),m="int b, int row, int col",g=`b * ${h} + (row / 2) * ${f} + (col / 2)`;for(let y=2;y<a-1;y++)m=`int b${y}, `+m,h*=i[a-y-1],g=`b${y} * ${h} + `+g;return`
    vec4 ${r}(${m}) {
      int index = ${g};
      int texR = index / ${d};
      int texC = index - texR * ${d};
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${d}, ${u});
      return ${s.texture2D}(${n}, uv);
    }
  `}function dDe(t,e){const n=t.shapeInfo.logicalShape,r=t.name,s="get"+r.charAt(0).toUpperCase()+r.slice(1),i=n[3],a=n[2]*i,o=n[1]*a,{newShape:c,keptDims:u}=Oh(n);if(c.length<n.length){const w=qx(t,c),B=["row","col","depth","depth2"];return`
      ${Wx(w,e)}
      float ${s}(int row, int col, int depth, int depth2) {
        return ${s}(${Gx(B,u)});
      }
    `}if(t.shapeInfo.isUniform)return`
      float ${s}(int row, int col, int depth, int depth2) {
        int index = round(dot(vec4(row, col, depth, depth2),
                          vec4(${o}, ${a}, ${i}, 1)));
        ${Vx(t)}
      }
    `;const d=t.shapeInfo.flatOffset,f=t.shapeInfo.texShape,h=f[0],m=f[1],g=`int stride2 = ${r}Shape[3];`,y=`int stride1 = ${r}Shape[2] * stride2;`,x=`int stride0 = ${r}Shape[1] * stride1;`;if(m===o&&d==null)return e?`
      float ${s}(int row, int col, int depth, int depth2) {
        ${g}
        ${y}
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(stride1, stride2, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
      float ${s}(int row, int col, int depth, int depth2) {
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(${a}, ${i}, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${m}.0, ${h}.0);
        return sampleTexture(${r}, uv);
      }
    `;if(m===i&&d==null)return e?`
      float ${s}(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(${r}Shape[1] * ${r}Shape[2], ${r}Shape[2], 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
      float ${s}(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(${n[1]*n[2]}, ${n[2]}, 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${m}.0, ${h}.0);
        return sampleTexture(${r}, uv);
      }
    `;const v=I0(r);return e?`
    float ${s}(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      ${g}
      ${y}
      ${x}
      int index = row * stride0 + col * stride1 +
          depth * stride2 + depth2;
      vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index + ${v});
      return sampleTexture(${r}, uv);
    }
  `:`
    float ${s}(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${o} + col * ${a} +
          depth * ${i} + depth2;
      vec2 uv = uvFromFlat(${h}, ${m}, index + ${v});
      return sampleTexture(${r}, uv);
    }
  `}function fDe(t){const e=t.shapeInfo.logicalShape,n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),s=e[4],i=e[3]*s,a=e[2]*i,o=e[1]*a,{newShape:c,keptDims:u}=Oh(e);if(c.length<e.length){const y=qx(t,c),x=["row","col","depth","depth2","depth3"];return`
      ${Wx(y)}
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        return ${r}(${Gx(x,u)});
      }
    `}if(t.shapeInfo.isUniform)return`
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        float index = dot(
          vec4(row, col, depth, depth2),
          vec4(${o}, ${a}, ${i}, ${s})) +
          depth3;
        ${Vx(t)}
      }
    `;const d=t.shapeInfo.flatOffset,f=t.shapeInfo.texShape,h=f[0],m=f[1];if(m===o&&d==null)return`
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
                         vec4(${a}, ${i}, ${s}, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${m}.0, ${h}.0);
        return sampleTexture(${n}, uv);
      }
    `;if(m===s&&d==null)return`
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        float texR = dot(
          vec4(row, col, depth, depth2),
          vec4(${e[1]*e[2]*e[3]},
               ${e[2]*e[3]}, ${e[3]}, 1));
        int texC = depth3;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${m}.0, ${h}.0);
        return sampleTexture(${n}, uv);
      }
    `;const g=I0(n);return`
    float ${r}(int row, int col, int depth, int depth2, int depth3) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${o} + col * ${a} + depth * ${i} +
          depth2 * ${s} + depth3 + ${g};
      vec2 uv = uvFromFlat(${h}, ${m}, index);
      return sampleTexture(${n}, uv);
    }
  `}function ADe(t){const e=t.shapeInfo.logicalShape,n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),{newShape:s,keptDims:i}=Oh(e);if(s.length<e.length){const x=qx(t,s),v=["row","col","depth","depth2","depth3","depth4"];return`
      ${Wx(x)}
      float ${r}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        return ${r}(${Gx(v,i)});
      }
    `}const a=e[5],o=e[4]*a,c=e[3]*o,u=e[2]*c,d=e[1]*u;if(t.shapeInfo.isUniform)return`
      float ${r}(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
        int index = round(dot(
          vec4(row, col, depth, depth2),
          vec4(${d}, ${u}, ${c}, ${o})) +
          dot(
            vec2(depth3, depth4),
            vec2(${a}, 1)));
        ${Vx(t)}
      }
    `;const f=t.shapeInfo.flatOffset,h=t.shapeInfo.texShape,m=h[0],g=h[1];if(g===d&&f==null)return`
      float ${r}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
          vec4(${u}, ${c}, ${o}, ${a})) +
               float(depth4);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${g}.0, ${m}.0);
        return sampleTexture(${n}, uv);
      }
    `;if(g===a&&f==null)return`
      float ${r}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        float texR = dot(vec4(row, col, depth, depth2),
          vec4(${e[1]*e[2]*e[3]*e[4]},
               ${e[2]*e[3]*e[4]},
               ${e[3]*e[4]},
               ${e[4]})) + float(depth3);
        int texC = depth4;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${g}.0, ${m}.0);
        return sampleTexture(${n}, uv);
      }
    `;const y=I0(n);return`
    float ${r}(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${d} + col * ${u} + depth * ${c} +
          depth2 * ${o} + depth3 * ${a} + depth4 + ${y};
      vec2 uv = uvFromFlat(${m}, ${g}, index);
      return sampleTexture(${n}, uv);
    }
  `}function Vx(t){const e=t.name,n=it(t.shapeInfo.logicalShape);return n<2?`return ${e};`:`
    for (int i = 0; i < ${n}; i++) {
      if (i == index) {
        return ${e}[i];
      }
    }
  `}function hDe(t,e){const n=t.name,r=n.charAt(0).toUpperCase()+n.slice(1),s="get"+r+"AtOutCoords",i=t.shapeInfo.logicalShape.length,a=e.logicalShape.length,o=Fie(t.shapeInfo.logicalShape,e.logicalShape),c=Rs(a),u=a-i;let d;const f=["x","y","z","w","u","v"];i===0?d="":a<2&&o.length>=1?d="coords = 0;":d=o.map(w=>`coords.${f[w+u]} = 0;`).join(`
`);let h="";a<2&&i>0?h="coords":h=t.shapeInfo.logicalShape.map((w,B)=>`coords.${f[B+u]}`).join(", ");let m="return outputValue;";const y=it(t.shapeInfo.logicalShape)===1,v=it(e.logicalShape)===1;if(i===1&&!y&&!v)m=`
      return vec4(outputValue.xy, outputValue.xy);
    `;else if(y&&!v)a===1?m=`
        return vec4(outputValue.x, outputValue.x, 0., 0.);
      `:m=`
        return vec4(outputValue.x);
      `;else if(o.length){const w=i-2,B=i-1;o.indexOf(w)>-1&&o.indexOf(B)>-1?m="return vec4(outputValue.x);":o.indexOf(w)>-1?m="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":o.indexOf(B)>-1&&(m="return vec4(outputValue.xx, outputValue.zz);")}return`
    vec4 ${s}() {
      ${c} coords = getOutputCoords();
      ${d}
      vec4 outputValue = get${r}(${h});
      ${m}
    }
  `}function pDe(t,e){const n=t.name,r=n.charAt(0).toUpperCase()+n.slice(1),s="get"+r+"AtOutCoords",i=e.texShape,a=t.shapeInfo.texShape,o=t.shapeInfo.logicalShape.length,c=e.logicalShape.length;if(!t.shapeInfo.isUniform&&o===c&&t.shapeInfo.flatOffset==null&&vr(a,i))return`
      float ${s}() {
        return sampleTexture(${n}, resultUV);
      }
    `;const u=Rs(c),d=Fie(t.shapeInfo.logicalShape,e.logicalShape),f=c-o;let h;const m=["x","y","z","w","u","v"];o===0?h="":c<2&&d.length>=1?h="coords = 0;":h=d.map(y=>`coords.${m[y+f]} = 0;`).join(`
`);let g="";return c<2&&o>0?g="coords":g=t.shapeInfo.logicalShape.map((y,x)=>`coords.${m[x+f]}`).join(", "),`
    float ${s}() {
      ${u} coords = getOutputCoords();
      ${h}
      return get${r}(${g});
    }
  `}function Rs(t){if(t<=1)return"int";if(t===2)return"ivec2";if(t===3)return"ivec3";if(t===4)return"ivec4";if(t===5)return"ivec5";if(t===6)return"ivec6";throw Error(`GPU for rank ${t} is not yet supported`)}function z$(t,e,n){const{newShape:r,keptDims:s}=Oh(e),i=e.length,a=t&&i===3&&e[0]===1,o=a?e.slice(1):r,c=!t&&i>1&&!vr(e,n)&&r.length<i||a;return{useSqueezeShape:c,uniformShape:c?o:e,keptDims:s}}function qx(t,e){const n=JSON.parse(JSON.stringify(t));return n.shapeInfo.logicalShape=e,n}function Gx(t,e){return e.map(n=>t[n]).join(", ")}function mDe(t,e,n,r){const s=n.map((d,f)=>{const h={logicalShape:d.shape,texShape:d.isUniform?null:d.texData.texShape,isUniform:d.isUniform,isPacked:d.isUniform?!1:d.texData.isPacked,flatOffset:null};return d.texData!=null&&d.texData.slice!=null&&d.texData.slice.flatOffset>0&&(h.flatOffset=d.texData.slice.flatOffset),{name:e.variableNames[f],shapeInfo:h}}),i=s.map(d=>d.shapeInfo),a={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},o=O8e(s,a,e),c=c8e(t.gl,o),u=t.createProgram(c);return Xe().get("ENGINE_COMPILE_ONLY")?{program:e,fragmentShader:c,source:o,webGLProgram:u,inShapeInfos:i,outShapeInfo:a,variablesLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:(t.buildVao(u),Object.assign({program:e,fragmentShader:c,source:o,webGLProgram:u,inShapeInfos:i,outShapeInfo:a},$ie(t,e,u)))}function $ie(t,e,n){const r=[],s=[];let i,a,o,c=null,u=null;u=t.getUniformLocation(n,"NAN",!1),Xe().getNumber("WEBGL_VERSION")===1&&(c=t.getUniformLocation(n,"INFINITY",!1));const d=!1;for(const f of e.variableNames){const h={name:f,uniform:t.getUniformLocation(n,f,d),offset:t.getUniformLocation(n,`offset${f}`,d)};e.enableShapeUniforms&&(h.shape=t.getUniformLocation(n,`${f}Shape`,d),h.texShape=t.getUniformLocation(n,`${f}TexShape`,d)),r.push(h)}if(e.enableShapeUniforms&&(i=t.getUniformLocation(n,"outShape",d),o=t.getUniformLocation(n,"outShapeStrides",d),a=t.getUniformLocation(n,"outTexShape",d)),e.customUniforms)for(const f of e.customUniforms)s.push(t.getUniformLocation(n,f.name,d));return{variablesLocations:r,customUniformLocations:s,infLoc:c,nanLoc:u,outShapeLocation:i,outShapeStridesLocation:o,outTexShapeLocation:a}}function q7(t,e){if(t.length!==e.length)throw Error(`Binary was compiled with ${t.length} inputs, but was executed with ${e.length} inputs`);t.forEach((n,r)=>{const s=n.logicalShape,i=e[r],a=i.shape;if(!vr(s,a))throw Error(`Binary was compiled with different shapes than the current args. Shapes ${s} and ${a} must match`);if(n.isUniform&&i.isUniform)return;const o=n.texShape,c=i.isUniform?null:i.texData.texShape;if(!vr(o,c))throw Error(`Binary was compiled with different texture shapes than the current args. Shape ${o} and ${c} must match`)})}function gDe(t,e,n,r,s){e.program.enableShapeUniforms||(q7(e.inShapeInfos,n),q7([e.outShapeInfo],[r]));const i=r.texData.texture,a=r.texData.texShape;r.texData.isPacked?t.setOutputPackedMatrixTexture(i.texture,a[0],a[1]):t.setOutputMatrixTexture(i.texture,a[0],a[1]),t.setProgram(e.webGLProgram),t.bindVertexArray(e.webGLProgram.vao),Xe().getNumber("WEBGL_VERSION")===1&&e.infLoc!==null&&t.gl.uniform1f(e.infLoc,1/0),e.nanLoc!==null&&t.gl.uniform1f(e.nanLoc,NaN);for(let c=0;c<n.length;++c){const u=n[c],{uniform:d,offset:f,shape:h,texShape:m}=e.variablesLocations[c];if(h){const{uniformShape:g}=z$(e.program.packedInputs,u.shape,u.texData.texShape);switch(g.length){case 1:t.gl.uniform1iv(h,new Int32Array(g));break;case 2:t.gl.uniform2iv(h,new Int32Array(g));break;case 3:t.gl.uniform3iv(h,new Int32Array(g));break;case 4:t.gl.uniform4iv(h,new Int32Array(g));break}}if(m&&t.gl.uniform2i(m,u.texData.texShape[0],u.texData.texShape[1]),d!=null){if(u.isUniform){if(it(u.shape)<2)t.gl.uniform1f(d,u.uniformValues[0]);else{let g=u.uniformValues;g instanceof Float32Array||(g=new Float32Array(g)),t.gl.uniform1fv(d,g)}continue}u.texData.slice!=null&&f!=null&&t.gl.uniform1i(f,u.texData.slice.flatOffset),t.setInputMatrixTexture(u.texData.texture.texture,d,c)}}const o=e.outShapeLocation;if(o)switch(r.shape.length){case 1:t.gl.uniform1iv(o,new Int32Array(r.shape));break;case 2:t.gl.uniform2iv(o,new Int32Array(r.shape));break;case 3:t.gl.uniform3iv(o,new Int32Array(r.shape));break;case 4:t.gl.uniform4iv(o,new Int32Array(r.shape));break}if(e.outShapeStridesLocation){const c=Rn(r.shape);switch(r.shape.length){case 2:t.gl.uniform1iv(e.outShapeStridesLocation,new Int32Array(c));break;case 3:t.gl.uniform2iv(e.outShapeStridesLocation,new Int32Array(c));break;case 4:t.gl.uniform3iv(e.outShapeStridesLocation,new Int32Array(c));break}}if(e.outTexShapeLocation&&t.gl.uniform2i(e.outTexShapeLocation,r.texData.texShape[0],r.texData.texShape[1]),e.program.customUniforms&&s)for(let c=0;c<e.program.customUniforms.length;++c){const u=e.program.customUniforms[c],d=e.customUniformLocations[c],f=s[c];if(u.type==="float")t.gl.uniform1fv(d,f);else if(u.type==="vec2")t.gl.uniform2fv(d,f);else if(u.type==="vec3")t.gl.uniform3fv(d,f);else if(u.type==="vec4")t.gl.uniform4fv(d,f);else if(u.type==="int")t.gl.uniform1iv(d,f);else if(u.type==="ivec2")t.gl.uniform2iv(d,f);else if(u.type==="ivec3")t.gl.uniform3iv(d,f);else if(u.type==="ivec4")t.gl.uniform4iv(d,f);else throw Error(`uniform type ${u.type} is not supported yet.`)}t.executeProgram()}function yDe(t,e,n){let r="";e.concat(n).forEach(a=>{const o=a.texData!=null&&a.texData.slice!=null&&a.texData.slice.flatOffset>0;if(t.enableShapeUniforms&&!a.isUniform){const c=a.texData.texShape,{useSqueezeShape:u,uniformShape:d,keptDims:f}=z$(t.packedInputs,a.shape,c);let h="",m="",g="";if(d.length===1&&t.packedInputs){const E=[Math.ceil(c[0]/2),Math.ceil(c[1]/2)];h=`${E[0]>1}_${E[1]>1}`}else if(d.length===2&&!t.packedInputs)m=`${d[0]>1}_${d[1]>1}`;else if(d.length>2&&!t.packedInputs){const E=Rn(d);g=`${E[0]===c[1]}_${E[E.length-1]===c[1]}`}const y=a.shape.length,x=d.length===2&&vr(a.shape,c),v=it(a.shape)===1,w=Xg(a.shape,n.shape),B=!t.packedInputs&&y===n.shape.length&&vr(c,n.texData.texShape),k=t.packedInputs||d.length>2?"":`${c[0]>1}_${c[1]>1}`;r+=`${y}_${B}_${u?f:""}_${d.length}_${v}_${w}_${x}_${h}_${m}_${g}_${k}_${o}`}else{const c=a.isUniform?"uniform":a.texData.texShape;r+=`${a.shape}_${c}_${o}`}});const s=t.userCode;let i=t.constructor.name;return i+="_"+r+"_"+s+`${Xe().getNumber("WEBGL_VERSION")}`,i}function cl(t){return Xe().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&t<=4}class xDe{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=R2.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=Ol();this.outputShape=e,this.enableShapeUniforms=cl(this.outputShape.length),this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        ${this.enableShapeUniforms?VN(["r","c","d"],e):E0(["r","c","d"],e)}
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));
        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getA(rc.x, rc.y, rc.z);
        }

        ${n.output} = result;
      }
    `}}class bDe{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=R2.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=Ol();this.outputShape=e,this.enableShapeUniforms=cl(this.outputShape.length),this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        ${this.enableShapeUniforms?VN(["r","c","d"],e):E0(["r","c","d"],e)}
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));
        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));
        }

        ${n.output} = result;
      }
    `}}class vDe{constructor(e){this.variableNames=["A"],this.outTexUsage=lu.DOWNLOAD;const n=Ol();this.outputShape=e,this.userCode=`
      ${Oie}

      void main() {
        float x = getAAtOutCoords();
        ${n.output} = encode_float(x);
      }
    `}}class wDe{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=lu.DOWNLOAD;const n=Ol();this.outputShape=e,this.userCode=`
      ${Oie}

      void main() {
        ivec3 coords = getOutputCoords();
        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));
        ${n.output} = encode_float(x);
      }
    `}}const SDe={R:0,G:1,B:2,A:3};class G7{constructor(e,n=!1,r="RGBA"){this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];const s=Ol();this.outputShape=e,this.enableShapeUniforms=cl(this.outputShape.length);let i="result";n&&(i="floor(result * 255. + 0.5)");let a="";for(let o=0;o<r.length;o++){const c=r[o];a+=`
          if(offset == ${o}) {
            result = values[${SDe[c]}];
          }`}this.userCode=`
      ${this.enableShapeUniforms?U$():P$(e)}

      void main() {
        ivec3 coords = getOutputCoords();
        int flatIndex = getFlatIndex(coords);
        float result = 0.;
        int offset = imod(flatIndex, ${r.length});

        flatIndex = idiv(flatIndex, ${r.length}, 1.);

        int r = flatIndex / texShape[1];
        if (r < texShape[0]) {
          int c = imod(flatIndex, texShape[1]);
          vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);
          vec4 values = ${s.texture2D}(A, uv);
          ${a}
        }
        ${s.output} = vec4(${i}, 0., 0., 0.);
      }
    `}}class CDe{constructor(e,n=!1){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];const r=Ol();this.outputShape=e,this.enableShapeUniforms=cl(this.outputShape.length);let s="",i="result";n&&(i="floor(result * 255. + 0.5)");for(let a=0;a<=1;a++)for(let o=0;o<=1;o++){const c=a*2+o;s+=`
          localCoords = coords;
          if(localCoords[2] + ${o} < ${this.enableShapeUniforms?"outShape[2]":`${e[2]}`}) {
          localCoords[2] += ${o};
          if (localCoords[1] + ${a} < ${this.enableShapeUniforms?"outShape[1]":`${e[1]}`}) {
            localCoords[1] += ${a};

            flatIndex = getFlatIndex(localCoords);
            offset = imod(flatIndex, 4);

            flatIndex = idiv(flatIndex, 4, 1.);

            int r = flatIndex / texShape[1];
            int c = imod(flatIndex, texShape[1]);
            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);
            values = ${r.texture2D}(A, uv);

            if (offset == 0) {
              result[${c}] = values[0];
            } else if (offset == 1) {
              result[${c}] = values[1];
            } else if (offset == 2) {
              result[${c}] = values[2];
            } else {
              result[${c}] = values[3];
            }
          }
        }
        `}this.userCode=`
        ${this.enableShapeUniforms?U$():P$(e)}

        void main() {
          ivec3 coords = getOutputCoords();

          vec4 result = vec4(0.);
          int flatIndex, r, c, offset;
          ivec3 localCoords;
          vec2 uv;
          vec4 values;

          ${s}

          ${r.output} = ${i};
        }
    `}}function kDe(t){const e=Ol(),n=`${e.version}
    precision highp float;
    ${e.attribute} vec3 clipSpacePos;
    ${e.attribute} vec2 uv;
    ${e.varyingVs} vec2 resultUV;

    void main() {
      gl_Position = vec4(clipSpacePos, 1);
      resultUV = uv;
    }`;return l8e(t,n)}function BDe(t){const e=new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]);return A8e(t,e)}function EDe(t){const e=new Uint16Array([0,1,2,2,1,3]);return h8e(t,e)}function Z5(t,e,n,r,s,i){m8e(e,n);const a=p8e(t),o=t.TEXTURE_2D;return Zt(t,()=>t.bindTexture(o,a)),Zt(t,()=>t.texParameteri(o,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE)),Zt(t,()=>t.texParameteri(o,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)),Zt(t,()=>t.texParameteri(o,t.TEXTURE_MIN_FILTER,t.NEAREST)),Zt(t,()=>t.texParameteri(o,t.TEXTURE_MAG_FILTER,t.NEAREST)),Xe().getNumber("WEBGL_VERSION")===1?Zt(t,()=>t.texImage2D(o,0,r,e,n,0,s,i,null)):Zt(t,()=>t.texStorage2D(o,1,r,e,n)),Zt(t,()=>t.bindTexture(t.TEXTURE_2D,null)),{texture:a,texShape:[n,e]}}function Pie(t){return t.internalFormatFloat}function IDe(t,e,n,r){const[s,i]=Y5(e,n);return Z5(t,s,i,Pie(r),r.textureFormatFloat,t.FLOAT)}function Uie(t){return t.internalFormatHalfFloat}function NDe(t,e,n,r){const[s,i]=Y5(e,n);return Z5(t,s,i,Uie(r),r.textureFormatFloat,r.textureTypeHalfFloat)}function zie(t){return t.downloadTextureFormat}function jDe(t,e,n,r){const[s,i]=Y5(e,n);return Z5(t,s,i,zie(r),t.RGBA,t.UNSIGNED_BYTE)}function Mie(t){return t.internalFormatPackedFloat}function TDe(t,e,n,r){const[s,i]=Hx(e,n);return Z5(t,s,i,Mie(r),t.RGBA,t.FLOAT)}function Qie(t){return t.internalFormatPackedHalfFloat}function _De(t,e,n,r){const[s,i]=Hx(e,n);return Z5(t,s,i,Qie(r),t.RGBA,r.textureTypeHalfFloat)}function RDe(t,e,n){return Zt(t,()=>t.bindBuffer(t.ARRAY_BUFFER,n)),H7(t,e,"clipSpacePos",n,3,20,0)&&H7(t,e,"uv",n,2,20,12)}function ODe(t,e,n,r,s,i){Zt(t,()=>t.bindTexture(t.TEXTURE_2D,e));let a,o,c;s instanceof Uint8Array?(a=new Uint8Array(n*r*4),o=t.UNSIGNED_BYTE,c=t.RGBA):(a=new Float32Array(n*r*4),o=t.FLOAT,c=i.internalFormatPackedFloat),a.set(s),Xe().getNumber("WEBGL_VERSION")===2?Zt(t,()=>t.texSubImage2D(t.TEXTURE_2D,0,0,0,n,r,t.RGBA,o,a)):Zt(t,()=>t.texImage2D(t.TEXTURE_2D,0,c,n,r,0,t.RGBA,o,a)),Zt(t,()=>t.bindTexture(t.TEXTURE_2D,null))}function FDe(t,e,n){Zt(t,()=>t.bindTexture(t.TEXTURE_2D,e)),n.data instanceof Uint8Array?Xe().getNumber("WEBGL_VERSION")===2?Zt(t,()=>t.texSubImage2D(t.TEXTURE_2D,0,0,0,n.width,n.height,t.RGBA,t.UNSIGNED_BYTE,n.data)):Zt(t,()=>t.texImage2D(t.TEXTURE_2D,0,t.RGBA,n.width,n.height,0,t.RGBA,t.UNSIGNED_BYTE,n.data)):Xe().getNumber("WEBGL_VERSION")===2?Zt(t,()=>t.texSubImage2D(t.TEXTURE_2D,0,0,0,t.RGBA,t.UNSIGNED_BYTE,n)):Zt(t,()=>t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n)),Zt(t,()=>t.bindTexture(t.TEXTURE_2D,null))}function DDe(t,e,n,r){const s=t.createBuffer();Zt(t,()=>t.bindBuffer(t.PIXEL_PACK_BUFFER,s));const o=4*4*e*n;return Zt(t,()=>t.bufferData(t.PIXEL_PACK_BUFFER,o,t.STREAM_READ)),Zt(t,()=>t.readPixels(0,0,n,e,t.RGBA,t.FLOAT,0)),Zt(t,()=>t.bindBuffer(t.PIXEL_PACK_BUFFER,null)),s}function LDe(t,e,n){const r=t,s=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,e),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,s),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),s}function $De(t,e,n,r){const[s,i]=Y5(e,n),a=4,o=new Uint8Array(t8e(e*n,a));return Zt(t,()=>t.readPixels(0,0,s,i,r.downloadTextureFormat,t.UNSIGNED_BYTE,o)),new Float32Array(o.buffer)}function PDe(t,e,n,r,s,i,a,o){const c=t,u=new Float32Array(n8e(i,a));return c.bindBuffer(c.PIXEL_PACK_BUFFER,e),c.getBufferSubData(c.PIXEL_PACK_BUFFER,0,u),c.bindBuffer(c.PIXEL_PACK_BUFFER,null),u}function UDe(t,e,n){const r=new Float32Array(e*n*4);return Zt(t,()=>t.readPixels(0,0,n,e,t.RGBA,t.FLOAT,r)),r}class t_{constructor(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.itemsToPoll=[];const n=Xe().getNumber("WEBGL_VERSION");if(e!=null?(this.gl=e,JFe(n,e)):this.gl=sf(n),e=this.gl,Xe().getNumber("WEBGL_VERSION")===2){const i=e;this.createVertexArray=()=>Zt(i,()=>i.createVertexArray()),this.bindVertexArray=a=>Zt(i,()=>i.bindVertexArray(a)),this.deleteVertexArray=a=>Zt(i,()=>i.deleteVertexArray(a)),this.getVertexArray=()=>Zt(i,()=>i.getParameter(i.VERTEX_ARRAY_BINDING))}else if(e!=null){const i=e.getExtension("OES_vertex_array_object");if(i==null)throw new Error("All WebGL1 implementations are expected to offer OES_vertex_array_object.");this.createVertexArray=()=>Zt(e,()=>i.createVertexArrayOES()),this.bindVertexArray=a=>Zt(e,()=>i.bindVertexArrayOES(a)),this.deleteVertexArray=a=>Zt(e,()=>i.deleteVertexArrayOES(a)),this.getVertexArray=()=>Zt(e,()=>e.getParameter(i.VERTEX_ARRAY_BINDING_OES))}let r="WEBGL_color_buffer_float";const s="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),Xe().getNumber("WEBGL_VERSION")===1){const i="OES_texture_float",a="OES_texture_half_float";if(this.textureFloatExtension=RC(this.gl,i),Ku(this.gl,a))this.textureHalfFloatExtension=RC(this.gl,a);else if(Xe().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(r),Ku(this.gl,s))this.colorBufferHalfFloatExtension=RC(this.gl,s);else if(Xe().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(r="EXT_color_buffer_float",Ku(this.gl,r))this.colorBufferFloatExtension=this.gl.getExtension(r);else if(Ku(this.gl,s))this.colorBufferHalfFloatExtension=this.gl.getExtension(s);else throw new Error("GL context does not support color renderable floats");this.vertexBuffer=BDe(this.gl),this.indexBuffer=EDe(this.gl),this.framebuffer=g8e(this.gl),this.textureConfig=$$(this.gl,this.textureHalfFloatExtension)}get debug(){return Xe().getBool("DEBUG")}dispose(){if(this.disposed)return;this.program!=null&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),this.outputTexture!=null&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");const e=this.gl;Zt(e,()=>e.finish()),Zt(e,()=>e.bindFramebuffer(e.FRAMEBUFFER,null)),Zt(e,()=>e.deleteFramebuffer(this.framebuffer)),Zt(e,()=>e.bindBuffer(e.ARRAY_BUFFER,null)),Zt(e,()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)),Zt(e,()=>e.deleteBuffer(this.indexBuffer)),this.disposed=!0}createFloat32MatrixTexture(e,n){return this.throwIfDisposed(),IDe(this.gl,e,n,this.textureConfig)}createFloat16MatrixTexture(e,n){return this.throwIfDisposed(),NDe(this.gl,e,n,this.textureConfig)}createUnsignedBytesMatrixTexture(e,n){return this.throwIfDisposed(),jDe(this.gl,e,n,this.textureConfig)}uploadPixelDataToTexture(e,n){this.throwIfDisposed(),FDe(this.gl,e,n)}uploadDenseMatrixToTexture(e,n,r,s){this.throwIfDisposed(),ODe(this.gl,e,n,r,s,this.textureConfig)}createFloat16PackedMatrixTexture(e,n){return this.throwIfDisposed(),_De(this.gl,e,n,this.textureConfig)}createPackedMatrixTexture(e,n){return this.throwIfDisposed(),TDe(this.gl,e,n,this.textureConfig)}deleteMatrixTexture(e){this.throwIfDisposed(),this.outputTexture===e&&(W7(this.gl,this.framebuffer),this.outputTexture=null),Zt(this.gl,()=>this.gl.deleteTexture(e))}downloadByteEncodedFloatMatrixFromOutputTexture(e,n,r){return this.downloadMatrixDriver(e,()=>$De(this.gl,n,r,this.textureConfig))}downloadPackedMatrixFromBuffer(e,n,r,s,i,a){return PDe(this.gl,e,n,r,s,i,a,this.textureConfig)}downloadFloat32MatrixFromBuffer(e,n){return LDe(this.gl,e,n)}createBufferFromTexture(e,n,r){this.bindTextureToFrameBuffer(e);const s=DDe(this.gl,n,r,this.textureConfig);return this.unbindTextureToFrameBuffer(),s}createAndWaitForFence(){const e=this.createFence(this.gl);return this.pollFence(e)}createFence(e){let n,r;if(Xe().getBool("WEBGL_FENCE_API_ENABLED")){const s=e,i=s.fenceSync(s.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),r=()=>{const a=s.clientWaitSync(i,0,0);return a===s.ALREADY_SIGNALED||a===s.CONDITION_SATISFIED},n=i}else Xe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(n=this.beginQuery(),this.endQuery(),r=()=>this.isQueryAvailable(n,Xe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))):r=()=>!0;return{query:n,isFencePassed:r}}downloadMatrixFromPackedTexture(e,n,r){return this.downloadMatrixDriver(e,()=>UDe(this.gl,n,r))}createProgram(e){this.throwIfDisposed();const n=this.gl;this.vertexShader==null&&(this.vertexShader=kDe(n));const r=d8e(n);Zt(n,()=>n.attachShader(r,this.vertexShader)),Zt(n,()=>n.attachShader(r,e)),f8e(n,r);const s=Object.assign(r,{vao:this.createVertexArray()});return this.debug&&YT(n,s),s}buildVao(e){this.setProgram(e),this.bindVertexArray(e.vao);const n=this.gl;Zt(n,()=>n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,this.indexBuffer)),RDe(n,e,this.vertexBuffer)}deleteProgram(e){this.throwIfDisposed(),e===this.program&&(this.program=null),e!=null&&(Zt(this.gl,()=>this.gl.deleteProgram(e)),this.deleteVertexArray(e.vao))}setProgram(e){this.throwIfDisposed(),this.program=e,this.program!=null&&this.debug&&YT(this.gl,this.program),Zt(this.gl,()=>this.gl.useProgram(e))}getUniformLocation(e,n,r=!0){return this.throwIfDisposed(),r?x8e(this.gl,e,n):b8e(this.gl,e,n)}getAttributeLocation(e,n){return this.throwIfDisposed(),Zt(this.gl,()=>this.gl.getAttribLocation(e,n))}getUniformLocationNoThrow(e,n){return this.throwIfDisposed(),this.gl.getUniformLocation(e,n)}setInputMatrixTexture(e,n,r){this.throwIfDisposed(),this.throwIfNoProgram(),v8e(this.gl,e,n,r)}setOutputMatrixTexture(e,n,r){this.setOutputMatrixTextureDriver(e,r,n)}setOutputPackedMatrixTexture(e,n,r){this.throwIfDisposed();const[s,i]=Hx(n,r);this.setOutputMatrixTextureDriver(e,s,i)}setOutputMatrixWriteRegion(e,n,r,s){this.setOutputMatrixWriteRegionDriver(r,e,s,n)}setOutputPackedMatrixWriteRegion(e,n,r,s){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}debugValidate(){this.program!=null&&YT(this.gl,this.program),OC(this.gl)}executeProgram(){this.throwIfDisposed(),this.throwIfNoProgram();const e=this.gl;if(this.debug){const n=this.getVertexArray();console.assert(n===this.program.vao,"VAO changed between setProgram and executeProgram!"),this.debugValidate()}Zt(e,()=>e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0))}blockUntilAllProgramsCompleted(){this.throwIfDisposed(),Zt(this.gl,()=>this.gl.finish())}getQueryTimerExtension(){return this.disjointQueryTimerExtension==null&&(this.disjointQueryTimerExtension=RC(this.gl,Xe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}getQueryTimerExtensionWebGL2(){return this.getQueryTimerExtension()}getQueryTimerExtensionWebGL1(){return this.getQueryTimerExtension()}beginQuery(){if(Xe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){const r=this.gl,s=this.getQueryTimerExtensionWebGL2(),i=r.createQuery();return r.beginQuery(s.TIME_ELAPSED_EXT,i),i}const e=this.getQueryTimerExtensionWebGL1(),n=e.createQueryEXT();return e.beginQueryEXT(e.TIME_ELAPSED_EXT,n),n}endQuery(){if(Xe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){const n=this.gl,r=this.getQueryTimerExtensionWebGL2();n.endQuery(r.TIME_ELAPSED_EXT);return}const e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}async waitForQueryAndGetTime(e){return await Z6(()=>this.disposed||this.isQueryAvailable(e,Xe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))),this.getQueryTime(e,Xe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}getQueryTime(e,n){if(n===0)return null;if(n===2){const r=this.gl;return r.getQueryParameter(e,r.QUERY_RESULT)/1e6}else{const r=this.getQueryTimerExtensionWebGL1();return r.getQueryObjectEXT(e,r.QUERY_RESULT_EXT)/1e6}}isQueryAvailable(e,n){if(n===0)return!0;if(n===2){const r=this.gl,s=this.getQueryTimerExtensionWebGL2(),i=r.getQueryParameter(e,r.QUERY_RESULT_AVAILABLE);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(s.GPU_DISJOINT_EXT)),i&&!this.disjoint}else{const r=this.getQueryTimerExtensionWebGL1(),s=r.getQueryObjectEXT(e,r.QUERY_RESULT_AVAILABLE_EXT);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),s&&!this.disjoint}}pollFence(e){return new Promise(n=>{this.addItemToPoll(()=>e.isFencePassed(),()=>n())})}pollItems(){const e=zDe(this.itemsToPoll.map(n=>n.isDoneFn));for(let n=0;n<=e;++n){const{resolveFn:r}=this.itemsToPoll[n];r()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}addItemToPoll(e,n){if(this.itemsToPoll.push({isDoneFn:e,resolveFn:n}),this.itemsToPoll.length>1)return;let r;"setTimeoutCustom"in Xe().platform&&(r=Xe().platform.setTimeoutCustom.bind(Xe().platform)),Z6(()=>(this.pollItems(),this.itemsToPoll.length===0),()=>0,null,r)}bindTextureToFrameBuffer(e){this.throwIfDisposed(),JT(this.gl,e,this.framebuffer),this.debug&&OC(this.gl)}unbindTextureToFrameBuffer(){this.outputTexture!=null?(JT(this.gl,this.outputTexture,this.framebuffer),this.debug&&OC(this.gl)):W7(this.gl,this.framebuffer)}downloadMatrixDriver(e,n){this.bindTextureToFrameBuffer(e);const r=n();return this.unbindTextureToFrameBuffer(),r}setOutputMatrixTextureDriver(e,n,r){this.throwIfDisposed();const s=this.gl;JT(s,e,this.framebuffer),this.debug&&OC(s),this.outputTexture=e,Zt(s,()=>s.viewport(0,0,n,r)),Zt(s,()=>s.scissor(0,0,n,r))}setOutputMatrixWriteRegionDriver(e,n,r,s){this.throwIfDisposed(),Zt(this.gl,()=>this.gl.scissor(e,n,r,s))}throwIfDisposed(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}throwIfNoProgram(){if(this.program==null)throw new Error("No GPU program is currently set.")}}function zDe(t){let e=0;for(;e<t.length&&t[e]();++e);return e-1}const{addImpl:MDe,bincountImpl:Hie,bincountReduceImpl:QDe,bitwiseAndImpl:HDe,castImpl:WDe,ceilImpl:VDe,concatImpl:qDe,equalImpl:GDe,expImpl:KDe,expm1Impl:XDe,floorImpl:YDe,gatherNdImpl:JDe,gatherV2Impl:ZDe,greaterImpl:eLe,greaterEqualImpl:tLe,lessImpl:nLe,lessEqualImpl:rLe,linSpaceImpl:sLe,logImpl:iLe,maxImpl:aLe,maximumImpl:oLe,minimumImpl:lLe,multiplyImpl:cLe,negImpl:uLe,notEqualImpl:dLe,prodImpl:fLe,raggedGatherImpl:ALe,raggedRangeImpl:hLe,raggedTensorToTensorImpl:pLe,rangeImpl:mLe,rsqrtImpl:gLe,scatterImpl:yLe,sigmoidImpl:xLe,simpleAbsImpl:Wie,sliceImpl:bLe,sparseFillEmptyRowsImpl:vLe,sparseReshapeImpl:wLe,sparseSegmentReductionImpl:Vie,sqrtImpl:SLe,staticRegexReplaceImpl:CLe,stridedSliceImpl:kLe,stringNGramsImpl:BLe,stringSplitImpl:ELe,stringToHashBucketFastImpl:ILe,subImpl:NLe,tileImpl:jLe,topKImpl:TLe,transposeImpl:M$,uniqueImpl:_Le}=FTe;function qie(t,e){return["x","y","z","w","u","v"].slice(0,e).map(n=>`${t}.${n}`)}function Il(t,e){return e===1?[t]:qie(t,e)}function RLe(t,e){if(t===1)return"rc";let n="";for(let r=0;r<t;r++)n+=e[r],r<t-1&&(n+=",");return n}class OLe{constructor(e){if(this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.enableShapeUniforms=cl(this.outputShape.length),this.rank===0)this.userCode=`
        void main() {
          setOutput(vec4(getA(), 0., 0., 0.));
        }
      `;else{const n=Il("rc",this.rank),r=Rs(this.rank),s=this.getOutOfBoundsCondition(n),i=this.getSetup(n),a=this.getOutput(n);this.userCode=`
        void main() {
          ${r} rc = getOutputCoords();

          if(${s}) {
            setOutput(vec4(0));
          } else {
            ${i}

            setOutput(vec4(${a}));
          }
        }
      `}}getSourceCoordsArr(e){const n=[];for(let r=0;r<=1;r++)for(let s=0;s<=1;s++){let i=`${r===0?"r":"rp1"}, ${s===0?"c":"cp1"}`;for(let a=2;a<this.rank;a++)i=`${e[e.length-1-a]},`+i;n.push(i)}return n}getOutOfBoundsCondition(e){if(this.rank===1)return`rc > ${this.enableShapeUniforms?"outShape":this.outputShape[0]}`;let n="";for(let r=this.rank-2;r<this.rank;r++)n+=`${e[r]} >= ${this.enableShapeUniforms?`outShape[${r}]`:this.outputShape[r]}`,r<this.rank-1&&(n+="||");return n}getSetup(e){if(this.rank===1)return"";const n=e.slice(-2),r=this.enableShapeUniforms?`outShape[${this.rank} - 1]`:this.outputShape[this.rank-1],s=this.enableShapeUniforms?`outShape[${this.rank} - 2]`:this.outputShape[this.rank-2];return`
      int r = ${n[0]};
      int c = ${n[1]};
      int rp1 = r + 1;
      int cp1 = c + 1;

      bool cEdge = cp1 >= ${r};
      bool rEdge = rp1 >= ${s};
    `}getOutput(e){const n=this.getSourceCoordsArr(e);return this.rank===1?`getA(rc), (rc + 1 >= ${this.enableShapeUniforms?"outShape":this.outputShape[0]} ? 0. : getA(rc + 1)), 0, 0`:`getA(${n[0]}),
            cEdge ? 0. : getA(${n[1]}),
            rEdge ? 0. : getA(${n[2]}),
            rEdge || cEdge ? 0. : getA(${n[3]})`}}class Gie{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=e,this.enableShapeUniforms=cl(this.outputShape.length);let r="";for(let s=0;s<4;s++){let i="thisRC = rc;";s%2===1&&(i+="thisRC.z += 1;"),s>1&&(i+="thisRC.y += 1;"),r+=`
        ${i}
        ${s>0?"if(thisRC.y < rows && thisRC.z < cols){":""}
          int flatIndex = getFlatIndex(thisRC);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);
          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[${s}] =
            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);
        ${s>0?"}":""}
      `}this.userCode=`
      ${FLe(n,this.enableShapeUniforms)}
      ${this.enableShapeUniforms?U$():P$(e)}

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.);

        ivec3 thisRC;
        int rows = ${this.enableShapeUniforms?"outShape[1]":e[1]};
        int cols = ${this.enableShapeUniforms?"outShape[2]":e[2]};

        ${r}

        setOutput(result);
      }
    `}}function FLe(t,e){return`
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      ${e?R8e(["r","c","d"],"inputShape"):E0(["r","c","d"],t)}
      return ivec3(r, c, d);
    }
  `}class DLe{constructor(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.usedTextures={},this.logEnabled=!1}acquireTexture(e,n,r){const s=X7(n,r),i=Y7(e,s,r);i in this.freeTextures||(this.freeTextures[i]=[]),i in this.usedTextures||(this.usedTextures[i]=[]);const a=K7(e,s,this.gpgpu.gl,this.gpgpu.textureConfig,r);if(this.freeTextures[i].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=a,this.log();const c=this.freeTextures[i].pop();return this.usedTextures[i].push(c),c}let o;return s===Do.PACKED_2X2_FLOAT32?o=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):s===Do.PACKED_2X2_FLOAT16?o=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):s===Do.UNPACKED_FLOAT32?o=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):s===Do.UNPACKED_FLOAT16?o=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):s===Do.PACKED_4X1_UNSIGNED_BYTE&&(o=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[i].push(o),this.numUsedTextures++,this._numBytesAllocated+=a,this.log(),o}releaseTexture(e,n,r,s){if(this.freeTextures==null)return;const i=X7(r,s),a=Y7(n,i,s);a in this.freeTextures||(this.freeTextures[a]=[]);const o=K7(n,i,this.gpgpu.gl,this.gpgpu.textureConfig,s),c=Xe().getNumber("WEBGL_DELETE_TEXTURE_THRESHOLD");c!==-1&&this._numBytesAllocated>c?(this.gpgpu.deleteMatrixTexture(e.texture),this._numBytesAllocated-=o):(this.freeTextures[a].push(e),this.numFreeTextures++,this._numBytesFree+=o),this.numUsedTextures--;const u=this.usedTextures[a],d=u&&u.indexOf(e);if(d==null||d<0)throw new Error("Cannot release a texture that was never provided by this texture manager");u[d]=u[u.length-1],u.pop(),this.log()}log(){if(!this.logEnabled)return;const e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",`${this.numFreeTextures} / ${this.numUsedTextures}`,`(${e})`);const n=this._numBytesFree/this._numBytesAllocated;console.log(`Bytes allocated: ${this._numBytesAllocated}`),console.log(`Bytes unused: ${this._numBytesFree} (${Math.round(100*n)}%)`)}get numBytesAllocated(){return this._numBytesAllocated}get numBytesFree(){return this._numBytesFree}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){if(this.freeTextures!=null){for(const e in this.freeTextures)this.freeTextures[e].forEach(n=>{this.gpgpu.deleteMatrixTexture(n.texture)});for(const e in this.usedTextures)this.usedTextures[e].forEach(n=>{this.gpgpu.deleteMatrixTexture(n.texture)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}function LLe(t,e){const n=t;if(e===n.R32F)return 4;if(e===n.R16F)return 2;if(e===n.RGBA32F)return 16;if(e===t.RGBA)return 16;if(e===n.RGBA16F)return 8;if(e===n.RGBA8)return 4;throw new Error(`Unknown internal format ${e}`)}function K7(t,e,n,r,s){const i=$Le(e,r);let a;if(s){const[c,u]=Hx(t[0],t[1]);a=c*u}else{const[c,u]=Y5(t[0],t[1]);a=c*u}const o=LLe(n,i);return a*o}function $Le(t,e){switch(t){case Do.PACKED_2X2_FLOAT32:return Mie(e);case Do.PACKED_2X2_FLOAT16:return Qie(e);case Do.UNPACKED_FLOAT32:return Pie(e);case Do.UNPACKED_FLOAT16:return Uie(e);case Do.PACKED_4X1_UNSIGNED_BYTE:return zie(e);default:throw new Error(`Unknown physical texture type ${t}`)}}function PLe(t){return Xe().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?t?Do.PACKED_2X2_FLOAT32:Do.UNPACKED_FLOAT32:t?Do.PACKED_2X2_FLOAT16:Do.UNPACKED_FLOAT16}function X7(t,e){if(t===lu.UPLOAD)return Do.PACKED_2X2_FLOAT32;if(t===lu.RENDER||t==null)return PLe(e);if(t===lu.DOWNLOAD||t===lu.PIXELS)return Do.PACKED_4X1_UNSIGNED_BYTE;throw new Error(`Unknown logical texture type ${t}`)}function Y7(t,e,n){return`${t[0]}_${t[1]}_${e}_${n}`}class Wf{constructor(e,n){this.variableNames=["A"],this.outputShape=e,this.enableShapeUniforms=cl(this.outputShape.length),this.userCode=`
      float unaryOperation(float x) {
        ${n}
      }

      void main() {
        float x = getAAtOutCoords();
        float y = unaryOperation(x);

        setOutput(y);
      }
    `}}const cd="if (isnan(x)) return x;",ULe="return x;",J7="return abs(x);",zLe="return (x >= 0.0) ? x : (exp(x) - 1.0);",MLe=cd+`
  return (x < 0.0) ? 0.0 : x;
`,QLe=cd+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,jp="return x;",HLe="return 1.0 / (1.0 + exp(-1.0 * x));";const WLe="return x;",VLe=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,qLe=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,GLe=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,KLe="return 1.0 / (1.0 + exp(-1.0 * x));";class $p{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.enableShapeUniforms=cl(this.outputShape.length),this.userCode=`
      vec4 unaryOperation(vec4 x) {
        ${n}
      }

      void main() {
        vec4 x = getAAtOutCoords();
        vec4 y = unaryOperation(x);

        setOutput(y);
      }
    `}}class XLe{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e,this.enableShapeUniforms=cl(this.outputShape.length);const n=e.length,r=Il("rc",n),s=Rs(n),i=RLe(n,r),a=r.slice(-2),o=n<=1?"rc":`vec2(${a.join(",")})`;this.userCode=`
      void main() {
        ${s} rc = getOutputCoords();
        vec4 packedInput = getA(${i});

        setOutput(getChannel(packedInput, ${o}));
      }
    `}}const YLe=xN,JLe=1e-7,ZLe=1e-4,LC={};function e$e(t){return t in LC||(LC[t]={}),LC[t]}const t$e=Xe().getNumber("CPU_HANDOFF_SIZE_THRESHOLD"),n$e=600;function r$e(){return Xe().global.screen==null?1024:Xe().global.screen.height*Xe().global.screen.width*window.devicePixelRatio*n$e/1024/1024}class qN extends DE{nextDataId(){return qN.nextDataId++}constructor(e){if(super(),this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.dataRefCount=new WeakMap,this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.lastGlFlushTime=0,this.warnedAboutMemory=!1,this.pendingDeletes=0,this.disposed=!1,!Xe().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");let n;if(e!=null){if(e instanceof t_)n=e;else{const r=sf(Xe().getNumber("WEBGL_VERSION"),e);n=new t_(r)}this.binaryCache={},this.gpgpuCreatedLocally=!1}else{const r=sf(Xe().getNumber("WEBGL_VERSION"));n=new t_(r),this.binaryCache=e$e(Xe().getNumber("WEBGL_VERSION")),this.gpgpuCreatedLocally=!0}this.gpgpu=n,this.canvas=this.gpgpu.gl.canvas,this.textureManager=new DLe(this.gpgpu),this.numMBBeforeWarning=r$e(),this.texData=new nD(this,Ud())}numDataIds(){return this.texData.numDataIds()-this.pendingDeletes}writeTexture(e,n,r,s,i,a){const o=this.makeTensorInfo(n,r),c=this.texData.get(o.dataId);c.isPacked=!1,c.texture={texture:e,texShape:[s,i]},c.texShape=[s,i];const u=FC(n),d=new G7(u,!1,a),f=this.runWebGLProgram(d,[o],r,[[s,i]]);return f.shape=n,c.texture=null,this.disposeIntermediateTensorInfo(o),f.dataId}write(e,n,r){if((Xe().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||Xe().getBool("DEBUG"))&&this.checkNumericalProblems(e),r==="complex64"&&e!=null)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");const s={id:this.nextDataId()};return this.texData.set(s,{shape:n,dtype:r,values:e,usage:lu.UPLOAD,refCount:1}),s}refCount(e){return this.texData.has(e)?this.texData.get(e).refCount:0}incRef(e){const n=this.texData.get(e);n.refCount++}decRef(e){if(this.texData.has(e)){const n=this.texData.get(e);n.refCount--}}move(e,n,r,s,i){if(Xe().getBool("DEBUG")&&this.checkNumericalProblems(n),s==="complex64")throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:r,dtype:s,values:n,usage:lu.UPLOAD,refCount:i})}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}readSync(e){const n=this.texData.get(e),{values:r,dtype:s,complexTensorInfos:i,slice:a,shape:o,isPacked:c}=n;if(a!=null){let h;c?h=new $p(o,jp):h=new Wf(o,jp);const m=this.runWebGLProgram(h,[{dataId:e,shape:o,dtype:s}],s),g=this.readSync(m.dataId);return this.disposeIntermediateTensorInfo(m),g}if(r!=null)return this.convertAndCacheOnCPU(e);if(s==="string")return r;const u=this.activeTimers!=null;let d;u&&(d=vl());let f;if(s==="complex64"){const h=this.readSync(i.real.dataId),m=this.readSync(i.imag.dataId);f=Sh(h,m)}else f=this.getValuesFromTexture(e);return u&&(this.downloadWaitMs+=vl()-d),this.convertAndCacheOnCPU(e,f)}async read(e){if(this.pendingRead.has(e)){const g=this.pendingRead.get(e);return new Promise(y=>g.push(y))}const n=this.texData.get(e),{values:r,shape:s,slice:i,dtype:a,complexTensorInfos:o,isPacked:c}=n;if(i!=null){let g;c?g=new $p(s,jp):g=new Wf(s,jp);const y=this.runWebGLProgram(g,[{dataId:e,shape:s,dtype:a}],a),x=this.read(y.dataId);return this.disposeIntermediateTensorInfo(y),x}if(r!=null)return this.convertAndCacheOnCPU(e);if(Xe().getBool("DEBUG")&&!Xe().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&Xe().getNumber("WEBGL_VERSION")===2)throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");let u=null,d;if(a!=="complex64"&&Xe().get("WEBGL_BUFFER_SUPPORTED")){d=this.decode(e);const g=this.texData.get(d.dataId);u=this.gpgpu.createBufferFromTexture(g.texture.texture,..._C(s))}this.pendingRead.set(e,[]),a!=="complex64"&&await this.gpgpu.createAndWaitForFence();let f;if(a==="complex64"){const g=await Promise.all([this.read(o.real.dataId),this.read(o.imag.dataId)]),y=g[0],x=g[1];f=Sh(y,x)}else if(u==null)f=this.getValuesFromTexture(e);else{const g=it(s);f=this.gpgpu.downloadFloat32MatrixFromBuffer(u,g)}if(d!=null&&this.disposeIntermediateTensorInfo(d),u!=null){const g=this.gpgpu.gl;Zt(g,()=>g.deleteBuffer(u))}const h=this.convertAndCacheOnCPU(e,f),m=this.pendingRead.get(e);return this.pendingRead.delete(e),m.forEach(g=>g(h)),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e)&&Ud().removeDataId(e,this),this.pendingDeletes--),h}readToGPU(e,n={}){const r=this.texData.get(e),{values:s,shape:i,slice:a,dtype:o,isPacked:c,texture:u}=r;if(o==="complex64")throw new Error("Does not support reading texture for complex64 dtype.");if(a!=null){let m;c?m=new $p(i,jp):m=new Wf(i,jp);const g=this.runWebGLProgram(m,[{dataId:e,shape:i,dtype:o}],o),y=this.readToGPU(g,n);return this.disposeIntermediateTensorInfo(g),y}if(u==null)throw s!=null?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");const d=this.decode(e,n.customTexShape),f=Ud().makeTensorFromTensorInfo(d),h=this.texData.get(d.dataId);return Object.assign({tensorRef:f},h.texture)}bufferSync(e){const n=this.readSync(e.dataId);if(e.dtype==="string")try{const r=n.map(s=>bh(s));return cr(e.shape,e.dtype,r)}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return cr(e.shape,e.dtype,n)}checkNumericalProblems(e){if(e!=null)for(let n=0;n<e.length;n++){const r=e[n];if(!a8e(r))throw Xe().getBool("WEBGL_RENDER_FLOAT32_CAPABLE")?Error(`The value ${r} cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'`):Error(`The value ${r} cannot be represented on this device.`)}}getValuesFromTexture(e){const{shape:n,dtype:r,isPacked:s}=this.texData.get(e),i=it(n);if(Xe().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){const h=this.decode(e),m=this.texData.get(h.dataId),g=this.gpgpu.downloadMatrixFromPackedTexture(m.texture.texture,..._C(n)).subarray(0,i);return this.disposeIntermediateTensorInfo(h),g}const a=Xe().getBool("WEBGL_PACK")&&s===!0,o=a?FC(n):n,c=a?new wDe(o):new vDe(o),u=this.runWebGLProgram(c,[{shape:o,dtype:r,dataId:e}],"float32"),d=this.texData.get(u.dataId),f=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(d.texture.texture,d.texShape[0],d.texShape[1]).subarray(0,i);return this.disposeIntermediateTensorInfo(u),f}timerAvailable(){return Xe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}time(e){const n=this.activeTimers,r=[];let s=!1;this.programTimersStack==null?(this.programTimersStack=r,s=!0):this.activeTimers.push(r),this.activeTimers=r,e();const i=iA(this.activeTimers.map(c=>c.query)).filter(c=>c!=null),a=iA(this.activeTimers.map(c=>c.name)).filter(c=>c!=null);this.activeTimers=n,s&&(this.programTimersStack=null);const o={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return(async()=>{if(Xe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0){const c=await Promise.all(i);o.kernelMs=CZ(c),o.getExtraProfileInfo=()=>c.map((u,d)=>({name:a[d],ms:u})).map(u=>`${u.name}: ${u.ms}`).join(", ")}else o.kernelMs={error:"WebGL query timers are not supported in this environment."};return this.uploadWaitMs=0,this.downloadWaitMs=0,o})()}memory(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}startTimer(){return Xe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:vl(),endMs:null}}endTimer(e){return Xe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=vl(),e)}async getQueryTime(e){if(Xe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)return this.gpgpu.waitForQueryAndGetTime(e);const n=e;return n.endMs-n.startMs}disposeData(e,n=!1){if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(n?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!n&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);const{complexTensorInfos:r}=this.texData.get(e);return r!=null&&(this.disposeData(r.real.dataId,n),this.disposeData(r.imag.dataId,n)),this.texData.delete(e),!0}releaseGPUData(e){const{texture:n,dtype:r,texShape:s,usage:i,isPacked:a,slice:o}=this.texData.get(e),c=o&&o.origDataId||e,u=this.dataRefCount.get(c);u>1?this.dataRefCount.set(c,u-1):(this.dataRefCount.delete(c),n!=null&&(this.numBytesInGPU-=this.computeBytes(s,r),this.textureManager.releaseTexture(n,s,i,a)));const d=this.texData.get(e);d.texture=null,d.texShape=null,d.isPacked=!1,d.slice=null}getTexture(e){return this.uploadToGPU(e),this.texData.get(e).texture.texture}getDataInfo(e){return this.texData.get(e)}shouldExecuteOnCPU(e,n=t$e){return Xe().getBool("WEBGL_CPU_FORWARD")&&e.every(r=>this.texData.get(r.dataId).texture==null&&it(r.shape)<n)}getGPGPUContext(){return this.gpgpu}where(e){ru("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");const n=e.dataSync();return YLe(e.shape,n)}packedUnaryOp(e,n,r){const s=new $p(e.shape,n),i=this.compileAndRun(s,[e],r);return Ud().makeTensorFromTensorInfo(i)}abs(e){if(this.shouldExecuteOnCPU([e])&&e.dtype!=="complex64"){const s=Wie(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,s)}if(Xe().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,J7,e.dtype);const n=new Wf(e.shape,J7),r=this.compileAndRun(n,[e]);return Ud().makeTensorFromTensorInfo(r)}makeTensorInfo(e,n,r){let s;if(n==="string"&&r!=null&&r.length>0&&Hf(r[0])){const i=r.map(a=>Kf(a));s=this.write(i,e,n)}else s=this.write(r,e,n);return this.texData.get(s).usage=null,{dataId:s,shape:e,dtype:n}}makeOutput(e,n,r){return Ud().makeTensorFromTensorInfo(this.makeTensorInfo(e,n,r),this)}unpackTensor(e){const n=new XLe(e.shape);return this.runWebGLProgram(n,[e],e.dtype)}packTensor(e){const n=new OLe(e.shape);return this.runWebGLProgram(n,[e],e.dtype,null,!0)}packedReshape(e,n){const r=[B1(e.shape),...E1(e.shape)],s={dtype:e.dtype,shape:r,dataId:e.dataId},i=[B1(n),...E1(n)],a=new Gie(i,r),o=!0,c=[r],u=this.runWebGLProgram(a,[s],e.dtype,c,o);return{dataId:u.dataId,shape:n,dtype:u.dtype}}decode(e,n){const r=this.texData.get(e),{isPacked:s,shape:i,dtype:a}=r;if(n!=null){const h=it(i),m=n[0]*n[1]*4;ce(h<=m,()=>"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data.")}const o=FC(i);let c;s?c=new bDe(o):c=new xDe(o);const u=!0,d=[n??_C(o)],f=this.runWebGLProgram(c,[{shape:o,dtype:a,dataId:e}],a,d,u,n);return{dtype:a,shape:i,dataId:f.dataId}}runWebGLProgram(e,n,r,s,i=!1,a){const o=this.makeTensorInfo(e.outputShape,r),c=this.texData.get(o.dataId);if(e.packedOutput&&(c.isPacked=!0),e.outPackingScheme===R2.DENSE){const v=a??_C(e.outputShape);c.texShape=v.map(w=>w*2)}if(e.outTexUsage!=null&&(c.usage=e.outTexUsage),it(o.shape)===0)return c.values=ho(o.dtype,0),o;const u=[],d=n.map(v=>{if(v.dtype==="complex64")throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");let w=this.texData.get(v.dataId);if(w.texture==null){if(!e.packedInputs&&it(v.shape)<=Xe().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:v.shape,texData:null,isUniform:!0,uniformValues:w.values};e.packedInputs&&(w.isPacked=!0,w.shape=v.shape)}if(this.uploadToGPU(v.dataId),!!w.isPacked!=!!e.packedInputs)v=w.isPacked?this.unpackTensor(v):this.packTensor(v),u.push(v),w=this.texData.get(v.dataId);else if(w.isPacked&&!i4(w.shape,v.shape)){const B=v,k=v.shape;v.shape=w.shape,v=this.packedReshape(v,k),u.push(v),w=this.texData.get(v.dataId),B.shape=k}return{shape:v.shape,texData:w,isUniform:!1}});this.uploadToGPU(o.dataId);const f={shape:o.shape,texData:c,isUniform:!1},h=yDe(e,d,f),m=this.getAndSaveBinary(h,()=>mDe(this.gpgpu,e,d,f)),g=this.activeTimers!=null;let y;g&&(y=this.startTimer()),Xe().get("ENGINE_COMPILE_ONLY")||gDe(this.gpgpu,m,d,f,s),u.forEach(v=>this.disposeIntermediateTensorInfo(v)),g&&(y=this.endTimer(y),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(y)}));const x=Xe().getNumber("WEBGL_FLUSH_THRESHOLD");if(x>0){const v=vl();v-this.lastGlFlushTime>x&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=v)}if(!Xe().getBool("WEBGL_LAZILY_UNPACK")&&c.isPacked&&i===!1){const v=this.unpackTensor(o);return this.disposeIntermediateTensorInfo(o),v}return o}compileAndRun(e,n,r,s,i=!1){return r=r||n[0].dtype,this.runWebGLProgram(e,n,r,s,i)}getAndSaveBinary(e,n){return e in this.binaryCache||(this.binaryCache[e]=n()),this.binaryCache[e]}getTextureManager(){return this.textureManager}dispose(){this.disposed||(Xe().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach(n=>{this.gpgpu.deleteProgram(this.binaryCache[n].webGLProgram),delete this.binaryCache[n]}),this.textureManager.dispose(),this.canvas!=null&&typeof HTMLCanvasElement<"u"&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)}floatPrecision(){return this.floatPrecisionValue==null&&(this.floatPrecisionValue=He(()=>{if(!Xe().get("WEBGL_RENDER_FLOAT32_ENABLED")){const e=Xe().getBool("DEBUG");Xe().set("DEBUG",!1);const n=this.abs(Fn(1e-8)).dataSync()[0];if(Xe().set("DEBUG",e),n>0)return 32}return 16})),this.floatPrecisionValue}epsilon(){return this.floatPrecision()===32?JLe:ZLe}uploadToGPU(e){const n=this.texData.get(e),{shape:r,dtype:s,values:i,texture:a,usage:o,isPacked:c}=n;if(a!=null)return;const u=this.activeTimers!=null;let d;u&&(d=vl());let f=n.texShape;if(f==null&&(f=C8e(r,c),n.texShape=f),i!=null){const h=FC(r);let m,g=f[1],y=f[0];const x=i instanceof Uint8Array||i instanceof Uint8ClampedArray;(c||!x)&&([g,y]=Hx(f[0],f[1])),c?m=new CDe(h,x):m=new G7(h,x);const v=x?[y,g]:f,w=this.makeTensorInfo(v,s),B=this.texData.get(w.dataId);x?B.usage=lu.PIXELS:B.usage=lu.UPLOAD,B.texShape=v,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(w.dataId),g,y,i);const k=[[y,g]],N=this.runWebGLProgram(m,[w],s,k,!0),O=this.texData.get(N.dataId);n.texShape=O.texShape,n.isPacked=O.isPacked,n.usage=O.usage,Xe().get("ENGINE_COMPILE_ONLY")?this.disposeData(N.dataId):(n.texture=O.texture,n.values=null,this.texData.delete(N.dataId)),this.disposeIntermediateTensorInfo(w),u&&(this.uploadWaitMs+=vl()-d)}else{const h=this.acquireTexture(f,o,s,c);n.texture=h}}convertAndCacheOnCPU(e,n){const r=this.texData.get(e),{dtype:s}=r;return n!=null&&(r.values=s$e(n,s)),r.values}acquireTexture(e,n,r,s){if(this.numBytesInGPU+=this.computeBytes(e,r),!this.warnedAboutMemory&&this.numBytesInGPU>this.numMBBeforeWarning*1024*1024){const i=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn(`High memory usage in GPU: ${i} MB, most likely due to a memory leak`)}return this.textureManager.acquireTexture(e,n,s)}computeBytes(e,n){return e[0]*e[1]*g2(n)}checkCompileCompletion(){for(const[,e]of Object.entries(this.binaryCache))this.checkCompletion_(e)}async checkCompileCompletionAsync(){const e=[];if(this.gpgpu.parallelCompilationExtension){for(const[,n]of Object.entries(this.binaryCache))e.push(this.checkCompletionAsync_(n));return Promise.all(e)}else{for(const[,n]of Object.entries(this.binaryCache)){const r=new Promise(s=>{try{this.checkCompletion_(n),s(!0)}catch(i){throw i}});e.push(r)}return Promise.all(e)}}async checkCompletionAsync_(e){return this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR)?this.checkCompletion_(e):(await $L(),this.checkCompletionAsync_(e))}checkCompletion_(e){if(this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.gl.LINK_STATUS)===!1)throw console.log(this.gpgpu.gl.getProgramInfoLog(e.webGLProgram)),this.gpgpu.gl.getShaderParameter(e.fragmentShader,this.gpgpu.gl.COMPILE_STATUS)===!1?(Rie(e.source,this.gpgpu.gl.getShaderInfoLog(e.fragmentShader)),new Error("Failed to compile fragment shader.")):new Error("Failed to link vertex and fragment shaders.");return!0}getUniformLocations(){for(const e of Object.values(this.binaryCache)){this.gpgpu.buildVao(e.webGLProgram);const{variablesLocations:n,customUniformLocations:r,infLoc:s,nanLoc:i,outShapeLocation:a,outShapeStridesLocation:o,outTexShapeLocation:c}=$ie(this.gpgpu,e.program,e.webGLProgram);e.variablesLocations=n,e.customUniformLocations=r,e.infLoc=s,e.nanLoc=i,e.outShapeLocation=a,e.outShapeStridesLocation=o,e.outTexShapeLocation=c}}createTensorFromGPUData(e,n,r){e.channels=e.channels||"RGBA";const{texture:s,height:i,width:a,channels:o}=e,c=Ud().backend;if(!c.gpgpu.gl.isTexture(s))throw new Error("The texture is invalid. Also, please make sure the texture and the TFJS WebGL backend are using the same canvas. If you want to use your own custom canvas, you have to create and use the custom TFJS WebGL backend created from the canvas through 'new tf.MathBackendWebGL(customCanvas)'.");const u=c.writeTexture(s,n,r,i,a,o);return Ud().makeTensorFromDataId(u,n,r,c)}}qN.nextDataId=0;function s$e(t,e){if(e==="float32"||e==="complex64")return t;if(e==="int32"||e==="bool"){const n=e==="int32"?new Int32Array(t.length):new Uint8Array(t.length);for(let r=0;r<n.length;++r)n[r]=Math.round(t[r]);return n}else throw new Error(`Unknown dtype ${e}`)}fD()&&pD("webgl",()=>new qN,2);const Q$=`
  if (isnan(a)) return a;
  if (isnan(b)) return b;
`;class s0{constructor(e,n,r){this.variableNames=["A","B"],this.outputShape=rr(n,r),this.enableShapeUniforms=cl(this.outputShape.length),this.userCode=`
      float binaryOperation(float a, float b) {
        ${e}
      }

      void main() {
        float a = getAAtOutCoords();
        float b = getBAtOutCoords();
        setOutput(binaryOperation(a, b));
      }
    `}}const N0=`
  result.r = isNaN.r ? NAN : result.r;
  result.g = isNaN.g ? NAN : result.g;
  result.b = isNaN.b ? NAN : result.b;
  result.a = isNaN.a ? NAN : result.a;
`;class Kx{constructor(e,n,r,s=!1){this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=rr(n,r);const i=this.outputShape.length;this.enableShapeUniforms=cl(i);let a="";if(s)if(i===0||it(this.outputShape)===1)a=`
          result.y = 0.;
          result.z = 0.;
          result.w = 0.;
        `;else if(a=`
          ${Rs(i)} coords = getOutputCoords();
        `,i===1)this.enableShapeUniforms?a+=`
            result.y = (coords + 1) >= outShape ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `:a+=`
            result.y = (coords + 1) >= ${this.outputShape[0]} ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `;else{const c=Il("coords",i);this.enableShapeUniforms?a+=`
            bool nextRowOutOfBounds =
              (${c[i-2]} + 1) >= outShape[${i} - 2];
            bool nextColOutOfBounds =
              (${c[i-1]} + 1) >= outShape[${i} - 1];
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `:a+=`
            bool nextRowOutOfBounds =
              (${c[i-2]} + 1) >= ${this.outputShape[i-2]};
            bool nextColOutOfBounds =
              (${c[i-1]} + 1) >= ${this.outputShape[i-1]};
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `}this.userCode=`
      vec4 binaryOperation(vec4 a, vec4 b) {
        ${e}
      }

      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();

        vec4 result = binaryOperation(a, b);
        ${a}

        setOutput(result);
      }
    `}}function Dc(t){const{inputs:e,backend:n}=t,{x:r}=e;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}const i$e={kernelName:ox,backendName:"webgl",kernelFunc:Dc};function jm(t){const{inputs:e,backend:n}=t,{real:r,imag:s}=e,i=n.makeTensorInfo(r.shape,"complex64"),a=n.texData.get(i.dataId),o=Dc({inputs:{x:r},backend:n}),c=Dc({inputs:{x:s},backend:n});return a.complexTensorInfos={real:o,imag:c},i}const a$e={kernelName:WE,backendName:"webgl",kernelFunc:jm};const Kie="return (a < 0.) ? b * a : a;",Xie=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`;function o$e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{alpha:i}=r,a=n.makeTensorInfo([],"float32",Fh(i,"float32")),o=Xe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Kx(Xie,s.shape,a.shape):new s0(Kie,s.shape,a.shape),c=n.runWebGLProgram(o,[s,a],"float32");return n.disposeIntermediateTensorInfo(a),c}const l$e={kernelName:Lw,backendName:"webgl",kernelFunc:o$e};const Yie="return (a < 0.) ? b * a : a;",Jie=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`;function c$e(t){const{inputs:e,backend:n}=t,{x:r,alpha:s}=e,i=Xe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Kx(Jie,r.shape,s.shape):new s0(Yie,r.shape,s.shape);return n.runWebGLProgram(i,[r,s],"float32")}const u$e={kernelName:n5,backendName:"webgl",kernelFunc:c$e};const Xx="if (isnan(x)) return x;";function qr({opSnippet:t,packedOpSnippet:e,cpuKernelImpl:n,dtype:r}){return({inputs:s,backend:i})=>{const{x:a}=s,o=i,c=r||a.dtype;if(o.shouldExecuteOnCPU([a])&&n!=null){const f=o.texData.get(a.dataId),h=n(f.values,c);return o.makeTensorInfo(a.shape,c,h)}const u=Xe().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&e!=null;let d;return u?d=new $p(a.shape,e):d=new Wf(a.shape,t),o.runWebGLProgram(d,[a],c)}}function Wo({opSnippet:t,packedOpSnippet:e,checkOutOfBounds:n=!1,supportsComplex:r=!1,cpuKernelImpl:s,dtype:i}){return({inputs:a,backend:o})=>{const{a:c,b:u}=a,d=o;if(r&&c.dtype==="complex64"){const g=d.texData.get(c.dataId),y=d.texData.get(u.dataId),[x,v]=[[g.complexTensorInfos.real,y.complexTensorInfos.real],[g.complexTensorInfos.imag,y.complexTensorInfos.imag]].map(B=>{const[k,E]=B,N={dataId:k.dataId,dtype:k.dtype,shape:c.shape},O={dataId:E.dataId,dtype:E.dtype,shape:u.shape},F=new s0(t,c.shape,u.shape);return d.runWebGLProgram(F,[N,O],Kl(k.dtype,E.dtype))}),w=jm({inputs:{real:x,imag:v},backend:d});return d.disposeIntermediateTensorInfo(x),d.disposeIntermediateTensorInfo(v),w}const f=i||Kl(c.dtype,u.dtype);if((c.dtype==="string"||u.dtype==="string"||d.shouldExecuteOnCPU([c,u]))&&s!=null){const g=d.texData.get(c.dataId).values,y=d.texData.get(u.dataId).values,x=c.dtype==="string"?Ch(g):g,v=c.dtype==="string"?Ch(y):y,[w,B]=s(c.shape,u.shape,x,v,f),k=d.makeTensorInfo(B,f),E=d.texData.get(k.dataId);return E.values=w,k}const h=Xe().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&e!=null;let m;return h?m=new Kx(e,c.shape,u.shape,n):m=new s0(t,c.shape,u.shape),d.runWebGLProgram(m,[c,u],f)}}function O2(t,e=!1){if(t==="linear")return e?WLe:ULe;if(t==="relu")return e?qLe:MLe;if(t==="elu")return e?VLe:zLe;if(t==="relu6")return e?GLe:QLe;if(t==="prelu")return e?Jie:Yie;if(t==="leakyrelu")return e?Xie:Kie;if(t==="sigmoid")return e?KLe:HLe;throw new Error(`Activation ${t} has not been implemented for the WebGL backend.`)}class Zie{constructor(e,n,r,s=!1,i=!1,a=!1,o=null,c=!1,u=!1){this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=r,this.enableShapeUniforms=cl(this.outputShape.length);const d=s?e[1]:e[2],f=Math.ceil(d/2),h=s?"i * 2, rc.y":"rc.y, i * 2",m=i?"rc.z, i * 2":"i * 2, rc.z",g=s?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],y=i?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"];let x="",v="";o&&(c?x=`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          ${o}
        }`:u?x=`vec4 activation(vec4 a) {
          vec4 b = getLeakyreluAlphaAtOutCoords();
          ${o}
        }`:x=`vec4 activation(vec4 x) {
          ${o}
        }`,v="result = activation(result);");const w=a?"result += getBiasAtOutCoords();":"";a&&this.variableNames.push("bias"),c&&this.variableNames.push("preluActivationWeights"),u&&this.variableNames.push("leakyreluAlpha");let B="rc.x",k="rc.x";e[0]<n[0]?B=`imod(rc.x, ${e[0]})`:n[0]<e[0]&&(k=`imod(rc.x, ${n[0]})`),this.userCode=`
      ${x}
      // Don't use uniform for sharedDimensionPacked for performance.
      const float sharedDimension = ${f}.0;

      vec4 dot2x2ARowBCol(ivec3 rc) {
        vec4 result = vec4(0);
        int batchA = ${B};
        int batchB = ${k};
        for (int i = 0; i < ${f}; i++) {
          vec4 a = getMatrixA(batchA, ${h});
          vec4 b = getMatrixB(batchB, ${m});

          // These swizzled products need to be separately added.
          // See: https://github.com/tensorflow/tfjs/issues/1735
          result += (${g[0]} * ${y[0]});
          result += (${g[1]} * ${y[1]});
        }
        return result;
      }

      void main() {
        ivec3 rc = getOutputCoords();
        vec4 result = dot2x2ARowBCol(rc);

        ${w}

        ${v}

        setOutput(result);
      }
    `}}const Z7={REAL:"return areal * breal - aimag * bimag;",IMAG:"return areal * bimag + aimag * breal;"};class eH{constructor(e,n,r){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=rr(n,r),this.userCode=`
      float binaryOpComplex(
          float areal, float aimag, float breal, float bimag) {
        ${e}
      }

      void main() {
        float areal = getARealAtOutCoords();
        float aimag = getAImagAtOutCoords();
        float breal = getBRealAtOutCoords();
        float bimag = getBImagAtOutCoords();
        setOutput(binaryOpComplex(areal, aimag, breal, bimag));
      }
    `}}const tH="return a * b;";function H$(t){const{inputs:e,backend:n}=t,{a:r,b:s}=e,i=Kl(r.dtype,s.dtype);if(r.dtype==="complex64"){const o=n.texData.get(r.dataId),c=n.texData.get(s.dataId),u=new eH(Z7.REAL,r.shape,s.shape),d=new eH(Z7.IMAG,r.shape,s.shape),f=[{dataId:o.complexTensorInfos.real.dataId,dtype:o.complexTensorInfos.real.dtype,shape:r.shape},{dataId:o.complexTensorInfos.imag.dataId,dtype:o.complexTensorInfos.imag.dtype,shape:r.shape},{dataId:c.complexTensorInfos.real.dataId,dtype:c.complexTensorInfos.real.dtype,shape:s.shape},{dataId:c.complexTensorInfos.imag.dataId,dtype:c.complexTensorInfos.imag.dtype,shape:s.shape}],h=n.runWebGLProgram(u,f,"float32"),m=n.runWebGLProgram(d,f,"float32"),g=jm({inputs:{real:h,imag:m},backend:n});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),g}if(n.shouldExecuteOnCPU([r,s])){const o=n.texData.get(r.dataId),c=n.texData.get(s.dataId),[u,d]=cLe(r.shape,s.shape,o.values,c.values,i),f=n.makeTensorInfo(d,i),h=n.texData.get(f.dataId);return h.values=u,f}let a;return Xe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?a=new Kx(tH,r.shape,s.shape):a=new s0(tH,r.shape,s.shape),n.runWebGLProgram(a,[r,s],i)}const d$e={kernelName:mx,backendName:"webgl",kernelFunc:H$};function f$e(t,e,n){const r=[B1(t.shape),...E1(t.shape)],s={dtype:t.dtype,shape:r,dataId:t.dataId},i=[B1(e),...E1(e)],a=new Gie(i,r),o=!0,c=[r],u=n.runWebGLProgram(a,[s],t.dtype,c,o);return{dataId:u.dataId,shape:e,dtype:u.dtype}}function qt(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{shape:i}=r,a=n,o=it(s.shape),c=sD(i,o),u=it(c);ce(o===u,()=>`The new shape (${c}) has ${u} elements and the old shape (${s.shape}) has ${o} elements. The new shape and old shape must have the same number of elements.`);const d=a.texData.get(s.dataId);return d.isPacked&&!i4(s.shape,c)&&!(d.texture!==null&&i4(d.shape,c))?f$e(s,c,a):(a.incRef(s.dataId),{dataId:s.dataId,shape:c,dtype:s.dtype})}const A$e={kernelName:s5,backendName:"webgl",kernelFunc:qt};class nH{constructor(e,n){this.variableNames=["x"];const{windowSize:r,batchSize:s,inSize:i,outSize:a}=e;this.outputShape=[s,a];const o=Math.floor(r/4)*4,c=r%4;let u="sumValue += dot(values, ones);";if(n!=null){const f=1/n;u=`sumValue += dot(values * ${Hg(f)?f.toPrecision(2):f}, ones);`}let d="";i%r>0&&(d=`
        if (inIdx < 0 || inIdx >= ${i}) {
          return 0.0;
        }
      `),this.userCode=`
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        ${d}
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${r};

        float sumValue = 0.0;

        for (int i = 0; i < ${o}; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          ${u}
        }

        int inIdx = inOffset + ${o};
        if (${c===1}) {
          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);

          ${u}
        } else if (${c===2}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1), 0.0, 0.0);

          ${u}
        } else if (${c===3}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2), 0.0);

          ${u}
        }
        setOutput(sumValue);
      }
    `}}class h$e{constructor(e,n){this.variableNames=["x"];const{windowSize:r,batchSize:s,inSize:i,outSize:a}=e;this.outputShape=[s,a];let o="0.0",c="";n==="prod"?o="1.0":n==="min"?(o="1.0 / 1e-20",c="min"):n==="max"&&(o="-1.0 / 1e-20",c="max");let u=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;n==="sum"?u="sumValue":n==="prod"?u="prodValue":n==="all"?u="allValue":n==="any"&&(u="anyValue");const d=Math.floor(r/4)*4,f=r%4;let h=`
      if (${n==="sum"}) {
        sumValue += dot(values, ones);
      } else if (${n==="prod"}) {
        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);
        prodValue *= tmp[0] * tmp[1];
      } else {
        minMaxValue = ${c}(values, minMaxValue);
        if (${n==="min"} || ${n==="max"}) {
          minMaxValue = ${c}(values, minMaxValue);
          bvec4 isNaN = isnan(values);
          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {
            minMaxValue = vec4(NAN);
          }
        }
      }
    `,m="vec4";n==="all"?(o="1.0",h=`
        bool reducedAllValue = all(values);
        float floatedReducedAllValue = float(reducedAllValue);
        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);
      `,m="bvec4"):n==="any"&&(o="0.0",h=`
        bool reducedAnyValue = any(values);
        float floatedReducedAnyValue = float(reducedAnyValue);
        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);
      `,m="bvec4");let g="";i%r>0&&(g=`
        if (inIdx < 0 || inIdx >= ${i}) {
          return initializationValue;
        }
      `),this.userCode=`
      const float initializationValue = ${o};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        ${g}
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${r};

        vec4 minMaxValue = vec4(${o});
        float prodValue = 1.0;
        float sumValue = 0.0;
        float allValue = 1.0;
        float anyValue = 0.0;

        for (int i = 0; i < ${d}; i += 4) {
          int inIdx = inOffset + i;
          ${m} values = ${m}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          ${h}
        }

        int inIdx = inOffset + ${d};
        if (${f===1}) {
          ${m} values = ${m}(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          ${h}
        } else if (${f===2}) {
          ${m} values = ${m}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          ${h}
        } else if (${f===3}) {
          ${m} values = ${m}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          ${h}
        }
        setOutput(${u});
      }
    `}}function p$e(t){const e=[];for(;e.length===0||e[e.length-1].outSize!==1;){const n=e.length?e[e.length-1].outSize:t[1],r=TN(n);e.push({inSize:n,windowSize:r,outSize:Math.ceil(n/r)})}return e}function j0(t,e,n,r){const s=p$e(t.shape);let i=t;for(let a=0;a<s.length;a++){const{inSize:o,windowSize:c,outSize:u}=s[a];let d,f;n==="mean"?d=a===0?new nH({windowSize:c,inSize:o,batchSize:t.shape[0],outSize:u},o):new nH({windowSize:c,inSize:o,batchSize:t.shape[0],outSize:u}):d=new h$e({windowSize:c,inSize:o,batchSize:t.shape[0],outSize:u},n),f=i,i=r.runWebGLProgram(d,[i],e),f.dataId!==t.dataId&&r.disposeIntermediateTensorInfo(f)}return i}class m$e{constructor(e,n){this.variableNames=["A"];const r=new Array(e.length);for(let a=0;a<r.length;a++)r[a]=e[n[a]];this.outputShape=r,this.rank=r.length;const s=Rs(this.rank),i=g$e(n);this.userCode=`
    void main() {
      ${s} resRC = getOutputCoords();
      setOutput(getA(${i}));
    }
    `}}function g$e(t){const e=t.length;if(e>6)throw Error(`Transpose for rank ${e} is not yet supported`);const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(e);for(let s=0;s<t.length;s++)r[t[s]]=n[s];return r.join()}class y$e{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;const r=new Array(e.length);for(let d=0;d<r.length;d++)r[d]=e[n[d]];if(this.outputShape=r,this.rank=r.length,this.rank>6)throw Error(`Packed transpose for rank ${this.rank} is not yet supported.`);const s=Rs(this.rank),i=qie("rc",this.rank),a=new Array(this.rank);for(let d=0;d<n.length;d++)a[n[d]]=i[d];const o=`vec2(${a.slice(-2).join()})`,c=`++${i[this.rank-1]} < ${r[this.rank-1]}`,u=`getChannel(getA(${a.join()}), ${o})`;this.userCode=`
    void main() {
      ${s} rc = getOutputCoords();
      vec4 result = vec4(0.);
      result[0] = ${u};
      if(${c}) {
        result[1] = ${u};
      }
      --${i[this.rank-1]};
      if(++${i[this.rank-2]} < ${r[this.rank-2]}) {
        result[2] = ${u};
        if(${c}) {
          result[3] = ${u};
        }
      }
      setOutput(result);
    }
    `}}function GN(t,e,n){const r=Xe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new y$e(t.shape,e):new m$e(t.shape,e);return n.runWebGLProgram(r,[t],t.dtype)}function x$e(t,e,n,r){const s=e,i=t.shape.length,a=hr(s,t.shape);let o=a;const c=Gi(o,i),u=c!=null;let d=t;u&&(d=GN(t,c,r),o=xa(o.length,i)),Qo("sum",o,i);const[f,h]=go(d.shape,o);let m=f;n&&(m=ya(f,a));const g=it(h),x=it(t.shape)/g,v=qt({inputs:{x:d},attrs:{shape:[x,g]},backend:r}),w=WI(t.dtype),B=j0(v,w,"sum",r),k=qt({inputs:{x:B},attrs:{shape:m},backend:r});return r.disposeIntermediateTensorInfo(v),r.disposeIntermediateTensorInfo(B),u&&r.disposeIntermediateTensorInfo(d),k}function KN(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:a}=r;return x$e(s,i,a,n)}const b$e={kernelName:u5,backendName:"webgl",kernelFunc:KN};function _l(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{perm:i}=r,a=n,o=s.shape.length,c=new Array(o);for(let d=0;d<c.length;d++)c[d]=s.shape[i[d]];let u;if(a.shouldExecuteOnCPU([s])){const f=a.texData.get(s.dataId).values,h=M$(f,s.shape,s.dtype,i,c);u=a.makeTensorInfo(c,s.dtype);const m=a.texData.get(u.dataId);m.values=h}else u=GN(s,i,a);return u}const v$e={kernelName:Eg,backendName:"webgl",kernelFunc:_l};const eae=1e3;function a4({a:t,b:e,transposeA:n,transposeB:r,backend:s,bias:i=null,preluActivationWeights:a=null,leakyreluAlpha:o=0,activation:c=null}){const u=t.shape.length,d=e.shape.length,f=n?t.shape[u-2]:t.shape[u-1],h=r?e.shape[d-1]:e.shape[d-2],m=n?t.shape[u-1]:t.shape[u-2],g=r?e.shape[d-2]:e.shape[d-1],y=t.shape.slice(0,-2),x=e.shape.slice(0,-2),v=it(y),w=it(x),k=rr(t.shape.slice(0,-2),e.shape.slice(0,-2)).concat([m,g]);ce(f===h,()=>`Error in matMul: inner shapes (${f}) and (${h}) of Tensors with shapes ${t.shape} and ${e.shape} and transposeA=${n} and transposeB=${r} must match.`);const E=n?[v,f,m]:[v,m,f],N=r?[w,g,h]:[w,h,g],O=qt({inputs:{x:t},backend:s,attrs:{shape:E}}),F=qt({inputs:{x:e},backend:s,attrs:{shape:N}}),D=[O,F],T=Math.max(v,w),j=n?O.shape[1]:O.shape[2],P=i!=null,U=a!=null,z=c==="leakyrelu",ee=c!=null?O2(c,!0):null,q=P||U||z||ee!=null;let Z;if((m===1||g===1)&&j>eae&&q===!1){let ne=O,K=F;n&&(ne=_l({inputs:{x:O},backend:s,attrs:{perm:[0,2,1]}}),D.push(ne)),r&&(K=_l({inputs:{x:F},backend:s,attrs:{perm:[0,2,1]}}),D.push(K));const H=g!==1,Q=g===1;let X=ne;H&&(X=qt({inputs:{x:ne},backend:s,attrs:{shape:[T,j,1]}}),D.push(X));const re=g===1?2:1;let le=K;Q&&(le=qt({inputs:{x:K},backend:s,attrs:{shape:[T,1,j]}}),D.push(le));const he=H$({inputs:{a:X,b:le},backend:s});Z=KN({inputs:{x:he},backend:s,attrs:{axis:re,keepDims:!0}}),D.push(he)}else{const ne=Kl(t.dtype,e.dtype),K=new Zie(E,N,[T,m,g],n,r,P,ee,U,z),H=[O,F];if(i!=null&&H.push(i),U&&H.push(a),z){const Q=s.makeTensorInfo([],"float32",Fh(o,"float32"));H.push(Q),D.push(Q)}Z=s.runWebGLProgram(K,H,ne)}const G=qt({inputs:{x:Z},backend:s,attrs:{shape:k}});D.push(Z);for(const ne of D)s.disposeIntermediateTensorInfo(ne);return G}function w$e(t){const{inputs:e,backend:n,attrs:r}=t,{a:s,b:i,bias:a,preluActivationWeights:o}=e,{transposeA:c,transposeB:u,activation:d,leakyreluAlpha:f}=r;return a4({a:s,b:i,transposeA:c,transposeB:u,backend:n,bias:a,preluActivationWeights:o,leakyreluAlpha:f,activation:d})}const S$e={kernelName:y2,backendName:"webgl",kernelFunc:w$e};const rH="return abs(x);";function C$e(t){const{inputs:e,backend:n}=t,{x:r}=e;if(n.shouldExecuteOnCPU([r])&&r.dtype!=="complex64"){const i=n.texData.get(r.dataId),a=Wie(i.values);return n.makeTensorInfo(r.shape,r.dtype,a)}let s;return Xe().getBool("WEBGL_PACK_UNARY_OPERATIONS")?s=new $p(r.shape,rH):s=new Wf(r.shape,rH),n.runWebGLProgram(s,[r],r.dtype)}const k$e={kernelName:pw,backendName:"webgl",kernelFunc:C$e};const B$e=cd+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return acos(x);
`,E$e=qr({opSnippet:B$e}),I$e={kernelName:z1,backendName:"webgl",kernelFunc:E$e};const N$e=cd+`
  if (x < 1.0) return NAN;
return log(x + sqrt(x * x - 1.0));`,j$e=qr({opSnippet:N$e}),T$e={kernelName:M1,backendName:"webgl",kernelFunc:j$e};const sH="return a + b;",_$e=Wo({opSnippet:sH,packedOpSnippet:sH,supportsComplex:!0,cpuKernelImpl:MDe}),R$e={kernelName:b0,backendName:"webgl",kernelFunc:_$e};class O$e{constructor(e,n){this.outputShape=[],this.outputShape=e,this.variableNames=n.map((i,a)=>`T${a}`);const r=[];this.variableNames.forEach(i=>{r.push(`float v${i} = get${i}AtOutCoords();`)});const s=this.variableNames.map(i=>`v${i}`).join(" + ");this.userCode=`
      void main() {
        ${r.join(`
        `)}

        float result = ${s};
        setOutput(result);
      }
    `}}class F$e{constructor(e,n){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=n.map((i,a)=>`T${a}`);const r=[];this.variableNames.forEach(i=>{r.push(`vec4 v${i} = get${i}AtOutCoords();`)});const s=this.variableNames.map(i=>`v${i}`).join(" + ");this.userCode=`
      void main() {
        ${r.join(`
        `)}

        vec4 result = ${s};
        setOutput(result);
      }
    `}}function oB(t){const{inputs:e,backend:n}=t,r=e;if(r.length===1)return Dc({inputs:{x:r[0]},backend:n});if(r.length>Xe().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){const c=Math.floor(r.length/2),u=oB({inputs:r.slice(0,c),backend:n}),d=oB({inputs:r.slice(c),backend:n});return oB({inputs:[u,d],backend:n})}const s=r.map(c=>c.dtype).reduce((c,u)=>Kl(c,u)),i=r.map(c=>c.shape),o=Xe().getBool("WEBGL_PACK")?new F$e(r[0].shape,i):new O$e(r[0].shape,i);return n.runWebGLProgram(o,r,s)}const D$e={kernelName:mw,backendName:"webgl",kernelFunc:oB};function L$e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:a}=r,o=s.shape.length,c=hr(i,s.shape);let u=c;const d=Gi(u,o);let f=s;d!=null&&(f=_l({inputs:{x:s},backend:n,attrs:{perm:d}}),u=xa(u.length,o)),Qo("all",u,o);const[h,m]=go(f.shape,u),g=it(m),y=qt({inputs:{x:f},backend:n,attrs:{shape:[-1,g]}}),x=j0(y,y.dtype,"all",n);let v;if(a){const w=ya(h,c);v=qt({inputs:{x},backend:n,attrs:{shape:w}})}else v=qt({inputs:{x},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(x),d!=null&&n.disposeIntermediateTensorInfo(f),v}const $$e={kernelName:PE,backendName:"webgl",kernelFunc:L$e};function P$e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:a}=r,o=s.shape.length,c=hr(i,s.shape);let u=c;const d=Gi(u,o);let f=s;d!=null&&(f=_l({inputs:{x:s},backend:n,attrs:{perm:d}}),u=xa(u.length,o)),Qo("any",u,o);const[h,m]=go(f.shape,u),g=it(m),y=qt({inputs:{x:f},backend:n,attrs:{shape:[-1,g]}}),x=j0(y,y.dtype,"any",n);let v;if(a){const w=ya(h,c);v=qt({inputs:{x},backend:n,attrs:{shape:w}})}else v=qt({inputs:{x},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(x),d!=null&&n.disposeIntermediateTensorInfo(f),v}const U$e={kernelName:UE,backendName:"webgl",kernelFunc:P$e};class z$e{constructor(e,n,r){this.variableNames=["A"];const{windowSize:s,batchSize:i,outSize:a}=e;r||this.variableNames.push("bestIndicesA"),this.outputShape=[i,a];const o=n==="max"?">":"<",c=r?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${s};

        int bestIndex = inOffset;
        float bestValue = getA(batch, bestIndex);

        for (int i = 0; i < ${s}; i++) {
          int inIdx = ${c};
          float candidate = getA(batch, inIdx);
          if (candidate ${o} bestValue) {
            bestValue = candidate;
            bestIndex = inIdx;
          }
        }
        setOutput(float(bestIndex));
      }
    `}}class M$e{constructor(e,n,r,s){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,ce(e.length>2,()=>`Packed arg${r.charAt(0).toUpperCase()+r.slice(1)} supports only inputs with rank above 2.`);const i=e[e.length-1],a=Math.ceil(i/n);this.outputShape=e.slice(0,-1),a>1&&this.outputShape.push(a),s||this.variableNames.push("bestIndicesA");const o=this.outputShape,c=o.length,u=Rs(c),d=Il("coords",c);let f,h;if(a===1){h=c+1;const F=Rs(h);f=`
        ${F} sourceLocR = ${F}(${d.join()}, 0);
        ++${d[c-1]};
        ${F} sourceLocG = ${F}(${d.join()}, 0);
        ++${d[c-2]};
        ${F} sourceLocA = ${F}(${d.join()}, 0);
        --${d[c-1]};
        ${F} sourceLocB = ${F}(${d.join()}, 0);
        --${d[c-2]};`}else h=c,f=`
        ${u} sourceLocR = coords;
        ++${d[c-1]};
        ${u} sourceLocG = coords;
        ++${d[c-2]};
        ${u} sourceLocA = coords;
        --${d[c-1]};
        ${u} sourceLocB = coords;
        --${d[c-2]};`;const m=["x","y","z","w","u","v"].slice(0,h),g="."+m[h-1],y=m.map(F=>"int "+F),x=Il("sourceLocR",h-1).concat("inIdx.r"),v=Il("sourceLocG",h-1).concat("inIdx.g"),w=Il("sourceLocB",h-1).concat("inIdx.b"),B=Il("sourceLocA",h-1).concat("inIdx.a"),k=r==="max"?"greaterThan":"lessThan",E=s?"":`
          inIdx = round(vec4(getBestIndicesAChannel(${x.join()}),
                             getBestIndicesAChannel(${v.join()}),
                             getBestIndicesAChannel(${w.join()}),
                             getBestIndicesAChannel(${B.join()})));`,N=`vec4(
            getAChannel(${x.join()}),
            hasNextCol ? getAChannel(${v.join()}) : 0.,
            hasNextRow ? getAChannel(${w.join()}) : 0.,
            hasNextRow && hasNextCol ? getAChannel(${B.join()}) : 0.)`,O=s?"":`
      float getBestIndicesAChannel(${y.join()}) {
        return getChannel(getBestIndicesA(${m.join()}),
                                          vec2(${m.slice(-2).join()}));
      }`;this.userCode=`
      float getAChannel(${y.join()}) {
        return getChannel(getA(${m.join()}),
                               vec2(${m.slice(-2).join()}));
      }
      ${O}
      void main() {
        ${u} coords = getOutputCoords();
        bool hasNextCol = ${d[c-1]} < ${o[c-1]-1};
        bool hasNextRow = ${d[c-2]} < ${o[c-2]-1};
        ${f}
        ivec4 srcIdx = ivec4(sourceLocR${g}, sourceLocG${g},
          sourceLocB${g}, sourceLocA${g}) * ${n};
        ivec4 inIdx = srcIdx;
        vec4 bestIndex = vec4(inIdx);
        vec4 bestValue = ${N};

        for (int i = 0; i < ${n}; i++) {
          inIdx = srcIdx;
          ${E}
          vec4 candidate = ${N};
          bvec4 nan = isnan(candidate);
          bvec4 replace = bvec4(
            vec4(${k}(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));

          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,
                           replace.y  ? candidate.y : bestValue.y,
                           replace.z  ? candidate.z : bestValue.z,
                           replace.w  ? candidate.w : bestValue.w);
          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));
          srcIdx++;
        }
        setOutput(bestIndex);
      }
    `}}function tae(t,e,n,r=null){let s=e.shape[0],i=e.shape[1];r!=null&&(s=r.shape[0],i=r.shape[1]);const a=TN(i),o={windowSize:a,inSize:i,batchSize:s,outSize:Math.ceil(i/a)},c=new z$e(o,n,r==null),u=[e];r!=null&&u.push(r);const d=t.runWebGLProgram(c,u,"int32");if(d.shape[1]===1)return d;const f=tae(t,e,n,d);return t.disposeIntermediateTensorInfo(d),f}function nae(t,e,n,r=null){const s=r!=null?r.shape:e.shape,i=s[s.length-1],a=TN(i),o=new M$e(s,a,n,r==null),c=r==null?[e]:[e,r],u=t.runWebGLProgram(o,c,"int32");if(u.shape.length===e.shape.length){const d=nae(t,e,n,u);return t.disposeIntermediateTensorInfo(u),d}return u}function rae(t,e,n,r){const s=[n];if(Qo("arg"+r.charAt(0).toUpperCase()+r.slice(1),s,e.shape.length),!Xe().getBool("WEBGL_PACK_REDUCE")||e.shape.length<=2){const i=[],a=t.texData.get(e.dataId),o=a!==null&&a.isPacked;let c=e;o&&(c=t.unpackTensor(e),i.push(c));const[u,d]=go(c.shape,s),f=it(d),h=qt({inputs:{x:c},backend:t,attrs:{shape:[-1,f]}});i.push(h);const m=tae(t,h,r);i.push(m);const g=qt({inputs:{x:m},backend:t,attrs:{shape:u}});return i.forEach(y=>t.disposeIntermediateTensorInfo(y)),g}return nae(t,e,r)}function Q$e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i}=r;let a=hr(i,s.shape);const o=Gi(a,s.shape.length);let c=s;const u=[];o!=null&&(c=_l({inputs:{x:s},backend:n,attrs:{perm:o}}),u.push(c),a=xa(a.length,c.shape.length)),Qo("argMax",[a[0]],c.shape.length);const d=rae(n,c,a[0],"max");return u.forEach(f=>n.disposeIntermediateTensorInfo(f)),d}const H$e={kernelName:gw,backendName:"webgl",kernelFunc:Q$e};function W$e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i}=r;let a=hr(i,s.shape);const o=Gi(a,s.shape.length);let c=s;const u=[];o!=null&&(c=_l({inputs:{x:s},backend:n,attrs:{perm:o}}),u.push(c),a=xa(a.length,c.shape.length)),Qo("argMin",[a[0]],c.shape.length);const d=rae(n,c,a[0],"min");return u.forEach(f=>n.disposeIntermediateTensorInfo(f)),d}const V$e={kernelName:yw,backendName:"webgl",kernelFunc:W$e};const q$e=cd+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return asin(x);
`,G$e=qr({opSnippet:q$e}),K$e={kernelName:Q1,backendName:"webgl",kernelFunc:G$e};const X$e=cd+"return log(x + sqrt(x * x + 1.0));",Y$e=qr({opSnippet:X$e}),J$e={kernelName:H1,backendName:"webgl",kernelFunc:Y$e};const Z$e=cd+`
  return atan(x);
`,ePe=qr({opSnippet:Z$e}),tPe={kernelName:W1,backendName:"webgl",kernelFunc:ePe};const nPe=Q$+`
  return atan(a, b);
`,rPe=`
  vec4 result = atan(a, b);
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+N0+`
  return result;
`,sPe=Wo({opSnippet:nPe,packedOpSnippet:rPe}),iPe={kernelName:q1,backendName:"webgl",kernelFunc:sPe};const aPe=cd+`
  if ((x < -1.0) || (x > 1.0)) return NAN;
return (log(1.0 + x) - log(1.0 - x)) / 2.0;`,oPe=qr({opSnippet:aPe}),lPe={kernelName:V1,backendName:"webgl",kernelFunc:oPe};class F2{constructor(e,n,r,s=!1,i=!1){if(this.variableNames=["x"],n==="avg"&&r)throw new Error("Cannot compute positions for average pool.");const a=e.filterWidth,o=e.strideHeight,c=e.strideWidth,u=e.dilationHeight,d=e.dilationWidth,f=e.effectiveFilterHeight,h=e.effectiveFilterWidth,m=e.padInfo.top,g=e.padInfo.left;this.outputShape=e.outShape;const y=n==="avg",x=`((batch  * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + d`,v=`(xR * ${e.inWidth} + xC) * ${e.inChannels} + d`;let w="0.0";if(y||(w="-1.0 / 1e-20"),r){this.userCode=`
        const ivec2 strides = ivec2(${o}, ${c});
        const ivec2 pads = ivec2(${m}, ${g});

        void main() {
          ivec4 coords = getOutputCoords();
          int batch = coords[0];
          int d = coords[3];

          ivec2 xRCCorner = coords.yz * strides - pads;
          int xRCorner = xRCCorner.x;
          int xCCorner = xRCCorner.y;

          // max/min x(?, ?, d) to get y(yR, yC, d).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;
          float avgValue = 0.0;

          for (int wR = 0; wR < ${f};
              wR += ${u}) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${h};
                wC += ${d}) {
              int xC = xCCorner + wC;

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              float value = getX(batch, xR, xC, d);

              // If a min / max value has already been found, use it. If not,
              // use the current value.
              float currMinMaxValue = mix(
                  value, minMaxValue, minMaxValueFound);
              if (value >= currMinMaxValue) {
                minMaxValue = value;
                minMaxValueFound = 1.0;
                minMaxPosition = ${s?i?x:v:`wR * ${h} + wC`};
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;return}const B="max";let k=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;n==="avg"&&(k="avgValue / max(count, 1.0)");const E=Math.floor(a/4)*4,N=a%4,O=`
      if (${y}) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = ${B}(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec2 strides = ivec2(${o}, ${c});
      const ivec2 pads = ivec2(${m}, ${g});
      const float initializationValue = ${w};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xR, int xC, int d) {
        if (xC < 0 || xC >= ${e.inWidth}) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xR, xC, d);
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d = coords[3];

        ivec2 xRCCorner = coords.yz * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // max/min x(?, ?, d) to get y(yR, yC, d).
        // ? = to be determined
        vec4 minMaxValue = vec4(${w});
        float avgValue = 0.0;
        count = 0.0;

        for (int wR = 0; wR < ${f};
            wR += ${u}) {
          int xR = xRCorner + wR;

          if (xR < 0 || xR >= ${e.inHeight}) {
            continue;
          }

          for (int wC = 0; wC < ${E}; wC += 4) {
            int xC = xCCorner + wC * ${d};

            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${d}, d),
              getValue(batch, xR, xC + 2 * ${d}, d),
              getValue(batch, xR, xC + 3 * ${d}, d)
            );

            ${O}
          }

          int xC = xCCorner + ${E};
          if (${N===1}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              initializationValue,
              initializationValue,
              initializationValue
            );

            ${O}
          } else if (${N===2}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${d}, d),
              initializationValue,
              initializationValue
            );

            ${O}
          } else if (${N===3}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${d}, d),
              getValue(batch, xR, xC + 2 * ${d}, d),
              initializationValue
            );

            ${O}
          }
        }
        setOutput(${k});
      }
    `}}class W${constructor(e,n,r,s=!1,i=!1){if(this.variableNames=["x"],n==="avg"&&r)throw new Error("Cannot compute positions for average pool.");const a=e.filterWidth,o=e.strideDepth,c=e.strideHeight,u=e.strideWidth,d=e.dilationDepth,f=e.dilationHeight,h=e.dilationWidth,m=e.effectiveFilterDepth,g=e.effectiveFilterHeight,y=e.effectiveFilterWidth,x=e.padInfo.front,v=e.padInfo.top,w=e.padInfo.left;this.outputShape=e.outShape;const B=n==="avg";let k="0.0";if(B||(k="-1.0 / 1e-20"),r){this.userCode=`
        const ivec3 strides =
            ivec3(${o}, ${c}, ${u});
        const ivec3 pads = ivec3(${x}, ${v}, ${w});

        void main() {
          ivec5 coords = getOutputCoords();
          int batch = coords.x;
          int ch = coords.u;

          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
          int xDCorner = xCorner.x;
          int xRCorner = xCorner.y;
          int xCCorner = xCorner.z;

          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;

          for (int wD = 0; wD < ${m};
              wD += ${d}) {
            int xD = xDCorner + wD;

            if (xD < 0 || xD >= ${e.inDepth}) {
              continue;
            }

            for (int wR = 0; wR < ${g};
                wR += ${f}) {
              int xR = xRCorner + wR;

              if (xR < 0 || xR >= ${e.inHeight}) {
                continue;
              }

              for (int wC = 0; wC < ${y};
                  wC += ${h}) {
                int xC = xCCorner + wC;

                if (xC < 0 || xC >= ${e.inWidth}) {
                  continue;
                }

                float value = getX(batch, xD, xR, xC, ch);

                // If a min / max value has already been found, use it. If not,
                // use the current value.
                float currMinMaxValue = mix(
                    value, minMaxValue, minMaxValueFound);
                if (value >= currMinMaxValue) {
                  minMaxValue = value;
                  minMaxValueFound = 1.0;
                  minMaxPosition = ${s?i?`(((batch * ${e.inDepth} + xD) * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`((xD * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`wD * ${g} * ${y} +
                      wR * ${y} + wC`};
                }
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;return}const E="max";let N=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;n==="avg"&&(N="avgValue / max(count, 1.0)");const O=Math.floor(a/4)*4,F=a%4,D=`
      if (${B}) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = ${E}(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec3 strides =
        ivec3(${o}, ${c}, ${u});
      const ivec3 pads = ivec3(${x}, ${v}, ${w});
      const float initializationValue = ${k};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xD, int xR, int xC, int ch) {
        if (xC < 0 || xC >= ${e.inWidth}) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xD, xR, xC, ch);
      }

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xDCorner = xCorner.x;
        int xRCorner = xCorner.y;
        int xCCorner = xCorner.z;

        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).
        // ? = to be determined
        vec4 minMaxValue = vec4(${k});
        float avgValue = 0.0;
        count = 0.0;

        for (int wD = 0; wD < ${m};
            wD += ${d}) {
          int xD = xDCorner + wD;

          if (xD < 0 || xD >= ${e.inDepth}) {
            continue;
          }

          for (int wR = 0; wR < ${g};
            wR += ${f}) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${O}; wC += 4) {
              int xC = xCCorner + wC * ${h};

              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${h}, ch),
                getValue(batch, xD, xR, xC + 2 * ${h}, ch),
                getValue(batch, xD, xR, xC + 3 * ${h}, ch)
              );

              ${D}
            }

            int xC = xCCorner + ${O};
            if (${F===1}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                initializationValue,
                initializationValue,
                initializationValue
              );

              ${D}
            } else if (${F===2}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${h}, ch),
                initializationValue,
                initializationValue
              );

              ${D}
            } else if (${F===3}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${h}, ch),
                getValue(batch, xD, xR, xC + 2 * ${h}, ch),
                initializationValue
              );

              ${D}
            }
          }
        }
        setOutput(${N});
      }
    `}}function cPe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e;J5(s,"avgPool");const{filterSize:i,strides:a,pad:o,dimRoundingMode:c}=r,u=1;ce(Mo(a,u),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${a} and dilations '${u}'`);const d=od(s.shape,i,a,u,o,c);if(d.filterWidth===1&&d.filterHeight===1&&vr(d.inShape,d.outShape))return Dc({inputs:{x:s},backend:n});const f=new F2(d,"avg",!1);return n.runWebGLProgram(f,[s],"float32")}const uPe={kernelName:xw,backendName:"webgl",kernelFunc:cPe};function dPe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{filterSize:i,strides:a,pad:o,dimRoundingMode:c,dataFormat:u}=r,d=[1,1,1],f=Dh(s.shape,i,a,d,o,c,u),h=new W$(f,"avg",!1);return n.runWebGLProgram(h,[s],"float32")}const fPe={kernelName:bw,backendName:"webgl",kernelFunc:dPe};class APe{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const n=e.filterHeight,r=e.filterWidth,s=e.strideHeight,i=e.strideWidth,a=e.dilationHeight,o=e.dilationWidth,c=e.effectiveFilterHeight,u=e.effectiveFilterWidth,d=c-1-e.padInfo.top,f=u-1-e.padInfo.left,h=1/(n*r);this.userCode=`
      const ivec2 pads = ivec2(${d}, ${f});
      const float avgMultiplier = float(${h});

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${c};
            wR += ${a}) {
          float dyR = float(dyRCorner + wR) / ${s}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < ${u};
            wC+= ${o}) {
            float dyC = float(dyCCorner + wC) / ${i}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);

            dotProd += dyValue * avgMultiplier;
          }
        }
        setOutput(dotProd);
      }
    `}}class hPe{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const n=e.filterDepth,r=e.filterHeight,s=e.filterWidth,i=e.strideDepth,a=e.strideHeight,o=e.strideWidth,c=e.dilationDepth,u=e.dilationHeight,d=e.dilationWidth,f=e.effectiveFilterDepth,h=e.effectiveFilterHeight,m=e.effectiveFilterWidth,g=f-1-e.padInfo.front,y=h-1-e.padInfo.top,x=m-1-e.padInfo.left,v=1/(n*r*s);this.userCode=`
      const ivec3 pads = ivec3(${g}, ${y}, ${x});
      const float avgMultiplier = float(${v});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < ${f};
            wD += ${c}) {
          float dyD = float(dyDCorner + wD) / ${i}.0;

          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < ${h};
              wR += ${u}) {
            float dyR = float(dyRCorner + wR) / ${a}.0;

            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < ${m};
                wC += ${d}) {
              float dyC = float(dyCCorner + wC) / ${o}.0;

              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);

              dotProd += dyValue * avgMultiplier;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}function pPe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,input:i}=e,a=i,{filterSize:o,strides:c,pad:u,dimRoundingMode:d}=r,f=[1,1,1],h=Dh(a.shape,o,c,f,u,d),m=new hPe(h);return n.runWebGLProgram(m,[s],a.dtype)}const mPe={kernelName:ME,backendName:"webgl",kernelFunc:pPe};function gPe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,input:i}=e,a=i;J5([s,i],"avgPoolGrad");const{filterSize:o,strides:c,pad:u}=r,d=od(a.shape,o,c,1,u),f=new APe(d);return n.runWebGLProgram(f,[s],a.dtype)}const yPe={kernelName:zE,backendName:"webgl",kernelFunc:gPe};function xPe(t){const{inputs:e,backend:n,attrs:r}=t,{a:s,b:i}=e,{transposeA:a,transposeB:o}=r;return a4({a:s,b:i,transposeA:a,transposeB:o,backend:n})}const bPe={kernelName:vw,backendName:"webgl",kernelFunc:xPe};class vPe{constructor(e,n,r,s,i,a){this.outputShape=[],this.variableNames=["x","mean","variance"],rr(e,n),rr(e,r);let o="0.0";s!=null&&(rr(e,s),this.variableNames.push("offset"),o="getOffsetAtOutCoords()");let c="1.0";i!=null&&(rr(e,i),this.variableNames.push("scale"),c="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`
      void main() {
        float x = getXAtOutCoords();
        float mean = getMeanAtOutCoords();
        float variance = getVarianceAtOutCoords();
        float offset = ${o};
        float scale = ${c};
        float inv = scale * inversesqrt(variance + float(${a}));
        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));
      }
    `}}class wPe{constructor(e,n,r,s,i,a){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],rr(e,n),rr(e,r);let o="vec4(0.0)";s!=null&&(rr(e,s),this.variableNames.push("offset"),o="getOffsetAtOutCoords()");let c="vec4(1.0)";i!=null&&(rr(e,i),this.variableNames.push("scale"),c="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`
      void main() {
        vec4 offset = ${o};
        vec4 scale = ${c};

        vec4 x = getXAtOutCoords();
        vec4 mean = getMeanAtOutCoords();
        vec4 variance = getVarianceAtOutCoords();

        vec4 inv = scale * inversesqrt(variance + vec4(${a}));

        setOutput((x - mean) * inv + offset);
      }
    `}}const SPe=({inputs:t,backend:e,attrs:n})=>{const{x:r,mean:s,variance:i,offset:a,scale:o}=t;ce(s.shape.length===i.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),ce(a==null||s.shape.length===a.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),ce(o==null||s.shape.length===o.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");let{varianceEpsilon:c}=n;c==null&&(c=.001);const u=[r,s,i];let d=null;a!=null&&(d=a.shape,u.push(a));let f=null;o!=null&&(f=o.shape,u.push(o));const h=Xe().getBool("WEBGL_PACK_NORMALIZATION")?new wPe(r.shape,s.shape,i.shape,d,f,c):new vPe(r.shape,s.shape,i.shape,d,f,c);return e.runWebGLProgram(h,u,u[0].dtype)},CPe={kernelName:Ow,backendName:"webgl",kernelFunc:SPe};class kPe{constructor(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;const n=Rs(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const r=BPe(this.rank);let s;const i=e.map((a,o)=>`sourceLoc.${VO[o]} = start[${o}] + coords.${VO[o]};`);s=`
        ${n} sourceLoc;
        ${n} coords = getOutputCoords();
        ${i.join(`
`)}
      `,this.userCode=`
      void main() {
        ${s}
        setOutput(getSource(${r}));
      }
    `}}const VO=["x","y","z","w","u","v"];function BPe(t){if(t===1)return"sourceLoc";if(t<=6)return VO.slice(0,t).map(e=>"sourceLoc."+e).join(",");throw Error(`Slicing for rank ${t} is not yet supported`)}class EPe{constructor(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const n=Rs(this.rank),r=Il("coords",this.rank),s=Il("sourceLoc",this.rank),i=this.rank===1?"sourceLoc":`vec2(${s.slice(-2).join()})`,a=`getChannel(getSource(${s.join()}), ${i})`,o=`
      result.x = ${a};
      if (++${r[this.rank-1]} < ${e[this.rank-1]}) {
        ++${s[this.rank-1]};
        result.y = ${a};
        --${s[this.rank-1]};
      }
    `,c=this.rank===1?"":`
      --${r[this.rank-1]};
      if (++${r[this.rank-2]} < ${e[this.rank-2]}) {
        ++${s[this.rank-2]};
        result.z = ${a};
        if (++${r[this.rank-1]} < ${e[this.rank-1]}) {
          ++${s[this.rank-1]};
          result.w = ${a};
        }
      }
    `,u=this.rank<=4?`sourceLoc = coords +
            ${n}(${e.map((d,f)=>`start[${f}]`).join()});`:e.map((d,f)=>`${s[f]} = ${r[f]} + start[${f}];`).join(`
`);this.userCode=`
      void main() {
        ${n} coords = getOutputCoords();
        ${n} sourceLoc;
        ${u}
        vec4 result = vec4(0.);
        ${o}
        ${c}
        setOutput(result);
      }
    `}}function IPe(t,e,n,r){const s=r.texData.get(t.dataId),i=r.makeTensorInfo(n,t.dtype),a=r.texData.get(i.dataId);Object.assign(a,s),a.refCount=1,a.shape=n,a.dtype=t.dtype;let o=DL(e,Rn(t.shape));s.slice&&(o+=s.slice.flatOffset),a.slice={flatOffset:o,origDataId:s.slice&&s.slice.origDataId||t.dataId};const c=r.dataRefCount.get(a.slice.origDataId)||1;return r.dataRefCount.set(a.slice.origDataId,c+1),i}function Yx(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{begin:i,size:a}=r,[o,c]=jN(s,i,a);if(RL(s,o,c),it(c)===0)return n.makeTensorInfo(c,s.dtype,[]);if(n.shouldExecuteOnCPU([s])||s.dtype==="string"){const f=n.texData.get(s.dataId),h=bLe(f.values,o,c,s.shape,s.dtype);return n.makeTensorInfo(c,s.dtype,h)}const{isPacked:u}=n.texData.get(s.dataId),d=FL(s.shape,o,c);if(u||!d){const f=Xe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new EPe(c):new kPe(c),h=[o];return n.runWebGLProgram(f,[s],s.dtype,h)}return n.uploadToGPU(s.dataId),IPe(s,o,c,n)}const NPe={kernelName:c5,backendName:"webgl",kernelFunc:Yx};const jPe=t=>{const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{blockShape:i,crops:a}=r;ce(s.shape.length<=4,()=>"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet");const o=i.reduce((w,B)=>w*B),c=P5(s.shape,i,o),u=U5(c.length,i.length),d=z5(s.shape,i,o),f=ML(a,i.length),h=QL(d,a,i.length),m=[],g=qt({inputs:{x:s},backend:n,attrs:{shape:c}}),y=_l({inputs:{x:g},backend:n,attrs:{perm:u}}),x=qt({inputs:{x:y},backend:n,attrs:{shape:d}}),v=Yx({inputs:{x},backend:n,attrs:{begin:f,size:h}});return m.push(g),m.push(y),m.push(x),m.forEach(w=>n.disposeIntermediateTensorInfo(w)),v},TPe={kernelName:ww,backendName:"webgl",kernelFunc:jPe};function _Pe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,weights:i}=e,{size:a}=r,o=n.readSync(s.dataId),c=n.readSync(i.dataId),u=Hie(o,c,i.dtype,i.shape,a);return n.makeTensorInfo([a],i.dtype,u)}const RPe={kernelName:QE,backendName:"webgl",kernelFunc:_Pe};const OPe=`
  int r = int(a.r) & int(b.r);
  int g = int(a.g) & int(b.g);
  int rb = int(a.b) & int(b.b);
  int ra = int(a.a) & int(b.a);
  return vec4(r, g, rb, ra);
`,FPe=`
  return float(int(a.r) & int(b.r));
`;function DPe(t){const{inputs:e,backend:n}=t,{a:r,b:s}=e,i=Xe().getBool("WEBGL_PACK_BINARY_OPERATIONS"),a=Xe().getNumber("WEBGL_VERSION");if(n.shouldExecuteOnCPU([r,s])||a===1){const c=n.texData.get(r.dataId).values,u=n.texData.get(s.dataId).values,[d,f]=HDe(r.shape,s.shape,c,u,r.dtype),h=n.makeTensorInfo(f,r.dtype),m=n.texData.get(h.dataId);return m.values=d,h}let o;return i?o=new Kx(OPe,r.shape,s.shape,!1):o=new s0(FPe,r.shape,s.shape),n.runWebGLProgram(o,[r,s],r.dtype)}const LPe={kernelName:Sw,backendName:"webgl",kernelFunc:DPe};function $Pe(t){const{inputs:e,backend:n}=t,{s0:r,s1:s}=e,i=n.readSync(r.dataId),a=n.readSync(s.dataId),o=rr(Array.from(i),Array.from(a));return n.makeTensorInfo([o.length],"int32",Int32Array.from(o))}const PPe={kernelName:HE,backendName:"webgl",kernelFunc:$Pe};const UPe="return float(a != b);",sae=Wo({opSnippet:UPe,cpuKernelImpl:dLe,dtype:"bool"}),zPe={kernelName:Yw,backendName:"webgl",kernelFunc:sae};function eS(t){const{inputs:e,backend:n}=t,{input:r}=e,s=n.texData.get(r.dataId);return Dc({inputs:{x:s.complexTensorInfos.real},backend:n})}const MPe={kernelName:CI,backendName:"webgl",kernelFunc:eS};const QPe="return float(int(x));";function HPe(t,e){const n=new Wf(t.shape,QPe),r=e.runWebGLProgram(n,[t],"int32");return{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}function qO(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{dtype:i}=r;if(i==="complex64"){if(s.dtype==="complex64")return Dc({inputs:{x:s},backend:n});const a=Ra(s.shape),o=qO({inputs:{x:s},backend:n,attrs:{dtype:"float32"}}),c=jm({inputs:{real:o,imag:a},backend:n});return a.dispose(),n.disposeIntermediateTensorInfo(o),c}if(s.dtype==="complex64"){const a=eS({inputs:{input:s},backend:n}),o=qO({inputs:{x:a},backend:n,attrs:{dtype:i}});return n.disposeIntermediateTensorInfo(a),o}if(!iD(s.dtype,i)){const a=Dc({inputs:{x:s},backend:n});return{dataId:a.dataId,shape:a.shape,dtype:i}}if(n.shouldExecuteOnCPU([s])){const a=n.texData.get(s.dataId).values,[o,c,u]=WDe(a,s.shape,s.dtype,i);return n.makeTensorInfo(o,c,u)}if(i==="int32")return HPe(s,n);if(i==="bool"){const a=n.makeTensorInfo([],"bool",ho("bool",1)),c=sae({inputs:{a:s,b:a},backend:n});return n.disposeIntermediateTensorInfo(a),c}throw new Error(`Error in Cast: failed to cast ${s.dtype} to ${i}`)}const WPe={kernelName:G1,backendName:"webgl",kernelFunc:qO};const iH="return ceil(x);",VPe=qr({opSnippet:iH,packedOpSnippet:iH,cpuKernelImpl:VDe}),qPe={kernelName:K1,backendName:"webgl",kernelFunc:VPe};class GPe{constructor(e){this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode=`

      void main() {
        float value = getAAtOutCoords();
        if (isnan(value)) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, minVal, maxVal));
      }
    `}}class KPe{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode=`
      void main() {
        vec4 value = getAAtOutCoords();

        if (any(isnan(value))) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));
      }
    `}}function XPe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{clipValueMin:i,clipValueMax:a}=r;let o;Xe().getBool("WEBGL_PACK_CLIP")?o=new KPe(s.shape):o=new GPe(s.shape);const c=[[i],[a]];return n.runWebGLProgram(o,[s],s.dtype,c)}const YPe={kernelName:X1,backendName:"webgl",kernelFunc:XPe};class JPe{constructor(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode=`
      void main() {
        float re = abs(getRealAtOutCoords());
        float im = abs(getImagAtOutCoords());
        float mx = max(re, im);

        // sadly the length function in glsl is not underflow-safe
        // (at least not on Intel GPUs). So the safe solution is
        // to ensure underflow-safety in all cases.
        setOutput(
          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))
        );
      }
    `}}function aH(t,e){return{dataId:e.dataId,dtype:e.dtype,shape:t.shape}}function ZPe(t){const{inputs:e,backend:n}=t,{x:r}=e,s=n.texData.get(r.dataId),i=new JPe(r.shape),a=[aH(r,s.complexTensorInfos.real),aH(r,s.complexTensorInfos.imag)];return n.runWebGLProgram(i,a,a[0].dtype)}const eUe={kernelName:Cw,backendName:"webgl",kernelFunc:ZPe};class tUe{constructor(e){this.outputShape=[],this.outputShape=Yf(e,1),this.variableNames=e.map((a,o)=>`T${o}`);const n=new Array(e.length-1);n[0]=e[0][1];for(let a=1;a<n.length;a++)n[a]=n[a-1]+e[a][1];const r=[`if (yC < ${n[0]}) setOutput(getT0(yR, yC));`];for(let a=1;a<n.length;a++){const o=n[a-1];r.push(`else if (yC < ${n[a]}) setOutput(getT${a}(yR, yC-${o}));`)}const s=n.length,i=n[n.length-1];r.push(`else setOutput(getT${s}(yR, yC-${i}));`),this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int yR = coords.x;
        int yC = coords.y;

        ${r.join(`
        `)}
      }
    `}}class nUe{constructor(e,n){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=Yf(e,n);const r=this.outputShape,s=r.length,i=Rs(s),a=Il("coords",s),o=["x","y","z","w","u","v"].slice(0,s);this.variableNames=e.map((y,x)=>`T${x}`);const c=new Array(e.length-1);c[0]=e[0][n];for(let y=1;y<c.length;y++)c[y]=c[y-1]+e[y][n];const u=o[n],d=o.slice(-2),f=o.join();let h=`if (${u} < ${c[0]}) {
        return getChannel(
            getT0(${f}), vec2(${d.join()}));
        }`;for(let y=1;y<c.length;y++){const x=c[y-1];h+=`
        if (${u} < ${c[y]}  && ${u} >= ${c[y-1]}) {
          return getChannel(
            getT${y}(${$C(o,u,x)}),
            vec2(${$C(d,u,x)}));
        }`}const m=c.length,g=c[c.length-1];h+=`
        return getChannel(
          getT${m}(${$C(o,u,g)}),
          vec2(${$C(d,u,g)}));`,this.userCode=`
      float getValue(${o.map(y=>"int "+y)}) {
        ${h}
      }

      void main() {
        ${i} coords = getOutputCoords();
        vec4 result = vec4(getValue(${a}), 0., 0., 0.);

        ${a[s-1]} = ${a[s-1]} + 1;
        if (${a[s-1]} < ${r[s-1]}) {
          result.g = getValue(${a});
        }

        ${a[s-2]} = ${a[s-2]} + 1;
        if (${a[s-2]} < ${r[s-2]}) {
          result.a = getValue(${a});
        }

        ${a[s-1]} = ${a[s-1]} - 1;
        if (${a[s-2]} < ${r[s-2]} &&
            ${a[s-1]} < ${r[s-1]}) {
          result.b = getValue(${a});
        }
        setOutput(result);
      }
    `}}function $C(t,e,n){const r=t.indexOf(e);return t.map((i,a)=>a===r?`${i} - ${n}`:i).join()}function XN(t){const{inputs:e,backend:n}=t,{input:r}=e,s=n.texData.get(r.dataId);return Dc({inputs:{x:s.complexTensorInfos.imag},backend:n})}const rUe={kernelName:uI,backendName:"webgl",kernelFunc:XN};function Uv(t,e,n){const r=t[0].dtype;if(r==="complex64"){const m=t.map(w=>eS({inputs:{input:w},backend:n})),g=t.map(w=>XN({inputs:{input:w},backend:n})),y=Uv(m,e,n),x=Uv(g,e,n),v=jm({inputs:{real:y,imag:x},backend:n});return m.forEach(w=>n.disposeIntermediateTensorInfo(w)),g.forEach(w=>n.disposeIntermediateTensorInfo(w)),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(x),v}let s=n.shouldExecuteOnCPU(t);if(r==="string"&&(s=!0),s){const m=t.map(k=>{const N=[-1,it(k.shape.slice(e))];return qt({inputs:{x:k},backend:n,attrs:{shape:N}})}),g=m.map(k=>({vals:n.readSync(k.dataId),shape:k.shape})),y=Yf(m.map(k=>k.shape),1),x=m[0].shape[0]===1,v=qDe(g,y,r,x),w=Yf(t.map(k=>k.shape),e),B=n.makeTensorInfo(w,r,v);return m.forEach(k=>n.disposeIntermediateTensorInfo(k)),B}const i=t.filter(m=>it(m.shape)>0),a=Xe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&i[0].shape.length>1;if(i.length===1){const m=a?new Wf(t[0].shape,jp):new $p(t[0].shape,jp);return n.runWebGLProgram(m,t,r)}const o=Xe().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER");if(i.length>o){const m=[];for(let y=0;y<i.length;y+=o){const x=i.slice(y,y+o);m.push(Uv(x,e,n))}const g=Uv(m,e,n);for(const y of m)n.disposeIntermediateTensorInfo(y);return g}if(a){const m=new nUe(i.map(g=>g.shape),e);return n.runWebGLProgram(m,i,r)}const{tensors2D:c,outShape:u}=sUe(i,e,n),d=new tUe(c.map(m=>m.shape)),f=n.runWebGLProgram(d,c,r);c.forEach(m=>n.disposeIntermediateTensorInfo(m));const h=qt({inputs:{x:f},attrs:{shape:u},backend:n});return n.disposeIntermediateTensorInfo(f),h}function sUe(t,e,n){const r=Yf(t.map(i=>i.shape),e);return{tensors2D:t.map(i=>qt({inputs:{x:i},attrs:{shape:[-1,it(i.shape.slice(e))]},backend:n})),outShape:r}}function iae(t){const{inputs:e,backend:n,attrs:r}=t,{axis:s}=r,i=hr(s,e[0].shape)[0],a=e.map(u=>u.shape);PL(a,i);const o=Yf(e.map(u=>u.shape),i);if(it(o)===0)return n.makeTensorInfo(o,e[0].dtype,[]);const c=e.filter(u=>it(u.shape)>0);return c.length===1?Dc({inputs:{x:c[0]},backend:n}):Uv(c,i,n)}const iUe={kernelName:kw,backendName:"webgl",kernelFunc:iae};class aae{constructor(e,n=!1,r=null,s=!1,i=!1){this.variableNames=["x","W"],this.outputShape=e.outShape;const a=e.padInfo.top,o=e.padInfo.left,c=e.strideHeight,u=e.strideWidth,d=e.dilationHeight,f=e.dilationWidth,h=e.filterHeight,m=e.filterWidth,g=Math.floor(e.inChannels/4)*4,y=e.inChannels%4,x=e.dataFormat==="channelsLast",v=x?1:2,w=x?2:3,B=x?3:1;let k="",E="";r&&(s?k=`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          ${r}
        }`:i?k=`float activation(float a) {
          float b = getLeakyreluAlphaAtOutCoords();
          ${r}
        }`:k=`
          float activation(float x) {
            ${r}
          }
        `,E="result = activation(result);");const N=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${k}

      const ivec2 strides = ivec2(${c}, ${u});
      const ivec2 pads = ivec2(${a}, ${o});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d2 = coords[${B}];

        ivec2 xRCCorner =
            ivec2(coords[${v}], coords[${w}]) * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${h}; wR++) {
          int xR = xRCorner + wR * ${d};

          if (xR < 0 || xR >= ${e.inHeight}) {
            continue;
          }

          for (int wC = 0; wC < ${m}; wC++) {
            int xC = xCCorner + wC * ${f};

            if (xC < 0 || xC >= ${e.inWidth}) {
              continue;
            }

            for (int d1 = 0; d1 < ${g}; d1 += 4) {
              vec4 wValues = vec4(
                getW(wR, wC, d1, d2),
                getW(wR, wC, d1 + 1, d2),
                getW(wR, wC, d1 + 2, d2),
                getW(wR, wC, d1 + 3, d2)
              );

              if (${x}) {
                vec4 xValues = vec4(
                  getX(batch, xR, xC, d1),
                  getX(batch, xR, xC, d1 + 1),
                  getX(batch, xR, xC, d1 + 2),
                  getX(batch, xR, xC, d1 + 3)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec4 xValues = vec4(
                  getX(batch, d1, xR, xC),
                  getX(batch, d1 + 1, xR, xC),
                  getX(batch, d1 + 2, xR, xC),
                  getX(batch, d1 + 3, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }
            }

            if (${y===1}) {

              if (${x}) {
                dotProd +=
                    getX(batch, xR, xC, ${g}) *
                    getW(wR, wC, ${g}, d2);
              } else {
                dotProd +=
                    getX(batch, ${g}, xR, xC) *
                    getW(wR, wC, ${g}, d2);
              }

            } else if (${y===2}) {
              vec2 wValues = vec2(
                getW(wR, wC, ${g}, d2),
                getW(wR, wC, ${g} + 1, d2)
              );

              if (${x}) {
                vec2 xValues = vec2(
                  getX(batch, xR, xC, ${g}),
                  getX(batch, xR, xC, ${g} + 1)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec2 xValues = vec2(
                  getX(batch, ${g}, xR, xC),
                  getX(batch, ${g} + 1, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            } else if (${y===3}) {
              vec3 wValues = vec3(
                getW(wR, wC, ${g}, d2),
                getW(wR, wC, ${g} + 1, d2),
                getW(wR, wC, ${g} + 2, d2)
              );

              if (${x}) {
                vec3 xValues = vec3(
                  getX(batch, xR, xC, ${g}),
                  getX(batch, xR, xC, ${g} + 1),
                  getX(batch, xR, xC, ${g} + 2)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec3 xValues = vec3(
                  getX(batch, ${g}, xR, xC),
                  getX(batch, ${g} + 1, xR, xC),
                  getX(batch, ${g} + 2, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            }
          }
        }

        float result = dotProd;
        ${N}
        ${E}
        setOutput(result);
      }
    `}}class aUe{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const n=e.padInfo.front,r=e.padInfo.top,s=e.padInfo.left,i=e.strideDepth,a=e.strideHeight,o=e.strideWidth,c=e.dilationDepth,u=e.dilationHeight,d=e.dilationWidth,f=e.filterDepth,h=e.filterHeight,m=e.filterWidth,g=Math.floor(e.inChannels/4)*4,y=e.inChannels%4;this.userCode=`
      const ivec3 strides = ivec3(${i}, ${a}, ${o});
      const ivec3 pads = ivec3(${n}, ${r}, ${s});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d2 = coords.u;

        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xFCorner = xFRCCorner.x;
        int xRCorner = xFRCCorner.y;
        int xCCorner = xFRCCorner.z;

        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get
        // y(yF, yR, yC, d2). ? = to be determined. : = across all
        // values in that axis.
        float dotProd = 0.0;
        for (int wF = 0; wF < ${f}; wF++) {
          int xF = xFCorner + wF * ${c};

          if (xF < 0 || xF >= ${e.inDepth}) {
            continue;
          }

          for (int wR = 0; wR < ${h}; wR++) {
            int xR = xRCorner + wR * ${u};

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${m}; wC++) {
              int xC = xCCorner + wC * ${d};

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              for (int d1 = 0; d1 < ${g}; d1 += 4) {
                vec4 xValues = vec4(
                  getX(batch, xF, xR, xC, d1),
                  getX(batch, xF, xR, xC, d1 + 1),
                  getX(batch, xF, xR, xC, d1 + 2),
                  getX(batch, xF, xR, xC, d1 + 3)
                );
                vec4 wValues = vec4(
                  getW(wF, wR, wC, d1, d2),
                  getW(wF, wR, wC, d1 + 1, d2),
                  getW(wF, wR, wC, d1 + 2, d2),
                  getW(wF, wR, wC, d1 + 3, d2)
                );

                dotProd += dot(xValues, wValues);
              }

              if (${y===1}) {
                dotProd +=
                  getX(batch, xF, xR, xC, ${g}) *
                  getW(wF, wR, wC, ${g}, d2);
              } else if (${y===2}) {
                vec2 xValues = vec2(
                  getX(batch, xF, xR, xC, ${g}),
                  getX(batch, xF, xR, xC, ${g} + 1)
                );
                vec2 wValues = vec2(
                  getW(wF, wR, wC, ${g}, d2),
                  getW(wF, wR, wC, ${g} + 1, d2)
                );
                dotProd += dot(xValues, wValues);
              } else if (${y===3}) {
                vec3 xValues = vec3(
                  getX(batch, xF, xR, xC, ${g}),
                  getX(batch, xF, xR, xC, ${g} + 1),
                  getX(batch, xF, xR, xC, ${g} + 2)
                );
                vec3 wValues = vec3(
                  getW(wF, wR, wC, ${g}, d2),
                  getW(wF, wR, wC, ${g} + 1, d2),
                  getW(wF, wR, wC, ${g} + 2, d2)
                );
                dotProd += dot(xValues, wValues);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class oae{constructor(e,n=!1,r=null,s=!1,i=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=cl(this.outputShape.length);const a=e.padInfo.left,o=e.strideWidth,c=e.dilationWidth,u=e.filterHeight,d=e.filterWidth,f=d;let h=`
       int xR; int xC; int xCOffset;
       vec4 wTexel; vec4 previous; vec4 final;`;for(let x=0;x<d;x++)h+=`
           vec4 xTexelC${x*2};
           int xTexelC${x*2}Ready;
           vec4 xTexelC${x*2+1};
           int xTexelC${x*2+1}Ready;
           vec4 xC${x};`;h+=`
     for (int r = 0; r < ${u}; r++) {
      for (int d1 = 0; d1 < ${e.inChannels}; d1 += 2) {
       `;for(let x=0;x<d;x++)h+=`
           xTexelC${x*2} = vec4(0.0);
           xTexelC${x*2}Ready = 0;
           xTexelC${x*2+1} = vec4(0.0);
           xTexelC${x*2+1}Ready = 0;
           xC${x} = vec4(0.0);`;h+=`
         xR = xRCorner + r * dilations[0];
         if (xR >=0 && xR < inDims[0]) {
       `;for(let x=0;x<(f+1)/2;x++){const v=x*2;if(h+=`
           xC = xCCorner + ${v*c};
           `,o===1){if(v<d&&(a%2===1?(h+=`
                 xCOffset = xC + 1;
                 if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${v}Ready == 0) {
                   xTexelC${v} = getX(batch, xR, xCOffset, d1);

                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${v}.zw = vec2(0.0);
                   }
                   xTexelC${v}Ready = 1;
                 }
               `,c===1&&v>0?h+=`
                 xC${v} = vec4(xTexelC${v-2}.zw, xTexelC${v}.xy);
                 `:h+=`
                   xCOffset = xC + 1 - 2;

                   if (xCOffset >= 0 && xCOffset < inDims[1]) {
                     previous = getX(batch, xR, xCOffset, d1);

                     // Need to manually clear unused channels in case
                     // we're reading from recycled texture.
                     if (xCOffset + 1 >= inDims[1]) {
                       previous.zw = vec2(0.0);
                     }

                     xC${v} = vec4(previous.zw, xTexelC${v}.xy);
                   } else {
                     xC${v} = vec4(0.0, 0.0, xTexelC${v}.xy);
                   }
                   `):h+=`
                 if (xC >= 0 && xC < inDims[1] && xTexelC${v}Ready == 0) {
                   xTexelC${v} = getX(batch, xR, xC, d1);
                   if (xC + 1 >= inDims[1]) {
                     xTexelC${v}.zw = vec2(0.0);
                   }
                   xTexelC${v}Ready = 1;
                 }

                 xC${v} = xTexelC${v};
                 `,v+1<d)){const w=a%2===0?LE(c):c;c%2===0&&a%2===1||c%2!==0&&a%2!==1?(h+=`
                   xCOffset = xC + imod(pads[1], 2) + ${w};

                   if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${v+1}Ready == 0) {
                     xTexelC${v+1} = getX(batch, xR, xCOffset, d1);

                     // Need to manually clear unused channels in case
                     // we're reading from recycled texture.
                     if (xCOffset + 1 >= inDims[1]) {
                       xTexelC${v+1}.zw = vec2(0.0);
                     }
                     xTexelC${v+1}Ready = 1;
                   }
                   `,c>1?h+=`
                     xCOffset -= 2;
                     if (xCOffset >= 0 && xCOffset < inDims[1]) {
                      previous = getX(batch, xR, xCOffset, d1);
                      xC${v+1} = vec4(previous.zw, xTexelC${v+1}.xy);
                     } else {
                      xC${v+1} = vec4(0.0, 0.0, xTexelC${v+1}.xy);
                     }
                     `:h+=`
                     xC${v+1} = vec4(xTexelC${v}.zw, xTexelC${v+1}.xy);
                     `):w===1?h+=`
                     xC${v+1} = xTexelC${v};
                     `:h+=`
                     xCOffset = xC + ${w};

                     if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${v+1}Ready == 0) {
                       xTexelC${v+1} = getX(batch, xR, xCOffset, d1);
                       if (xCOffset + 1 >= inDims[1]) {
                         xTexelC${v+1}.zw = vec2(0.0);
                       }
                       xTexelC${v+1}Ready = 1;
                     }

                     xC${v+1} = xTexelC${v+1};
                     `}}else v<d&&(a%2===1?(h+=`
                 xCOffset = xC + 1 - strides[1];
                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${v}Ready == 0) {
                   xTexelC${v} = getX(batch, xR, xCOffset, d1);
                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${v}.zw = vec2(0.0);
                   }
                   xTexelC${v}Ready = 1;
                 }

                 if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${v+1}Ready == 0) {
                   xTexelC${v+1} = getX(batch, xR, xC + 1, d1);
                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xC + 2 >= inDims[1]) {
                     xTexelC${v+1}.zw = vec2(0.0);
                   }
                   xTexelC${v+1}Ready = 1;
                 }

                 xC${v} = vec4(xTexelC${v}.zw, xTexelC${v+1}.zw);
               `,v+1<d&&(h+=`
                   final = vec4(0.0);
                   xCOffset = xC + 1 + strides[1];
                   if(xCOffset >= 0 && xCOffset < inDims[1]) {
                     final = getX(batch, xR, xCOffset, d1);
                   }
                   xC${v+1} = vec4(xTexelC${v+1}.xy, final.xy);
                 `)):(h+=`
                 if(xC >= 0 && xC < inDims[1] && xTexelC${v}Ready == 0) {
                   xTexelC${v} = getX(batch, xR, xC, d1);
                   if (xC + 1 >= inDims[1]) {
                     xTexelC${v}.zw = vec2(0.0);
                   }
                   xTexelC${v}Ready = 1;
                 }

                 xCOffset = xC + strides[1];
                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${v+1}Ready == 0) {
                   xTexelC${v+1} = getX(batch, xR, xCOffset, d1);
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${v+1}.zw = vec2(0.);
                   }
                   xTexelC${v+1}Ready = 1;
                 }

                 xC${v} = vec4(
                   xTexelC${v}.xy, xTexelC${v+1}.xy);
               `,v+1<d&&(h+=`
                   xC${v+1} = vec4(xTexelC${v}.zw, xTexelC${v+1}.zw);
                 `)));v<d&&(h+=`
             wTexel = getW(r, ${v}, d1, d2);
             dotProd += xC${v}.xxzz * vec4(wTexel.xy, wTexel.xy);
             if(d1 + 1 < ${e.inChannels}) {
               dotProd += xC${v}.yyww * vec4(wTexel.zw, wTexel.zw);
             }
           `,v+1<d&&(h+=`
               wTexel = getW(r, ${v+1}, d1, d2);
               dotProd += xC${v+1}.xxzz * vec4(wTexel.xy, wTexel.xy);
               if(d1 + 1 < ${e.inChannels}) {
                 dotProd += xC${v+1}.yyww * vec4(wTexel.zw, wTexel.zw);
               }
             `))}h+=`
     }
   `,h+=`
     }
   `,h+=`
     }
   `;let m="",g="";r&&(s?m=`vec4 activation(vec4 a) {
           vec4 b = getPreluActivationWeightsAtOutCoords();
           ${r}
         }`:i?m=`vec4 activation(vec4 a) {
           vec4 b = getLeakyreluAlphaAtOutCoords();
           ${r}
         }`:m=`vec4 activation(vec4 x) {
           ${r}
         }`,g="result = activation(result);");const y=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
       ${m}

       void main() {
         ivec4 coords = getOutputCoords();
         int batch = coords.x;
         ivec2 xRCCorner = coords.yz * strides - pads;
         int d2 = coords.w;
         int xRCorner = xRCCorner.x;
         int xCCorner = xRCCorner.y;

         //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.
         vec4 dotProd = vec4(0.000000000000001);

         ${h}

         vec4 result = dotProd - vec4(0.000000000000001);
         ${y}
         ${g}
         setOutput(result);
       }
     `}}class oUe{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec4"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=e,this.enableShapeUniforms=cl(this.outputShape.length);const{dataFormat:r}=n,s=Ol(),i=r==="channelsLast",a=i?1:2,o=i?2:3,c=this.enableShapeUniforms?"if(blockIndex < outShape[2] && pos < outShape[1]) {":`if(blockIndex < ${e[2]} && pos < ${e[1]}) {`;let u="";for(let d=0;d<=1;d++)for(let f=0;f<=1;f++)u+=`
          blockIndex = rc.z + ${f};
          pos = rc.y + ${d};

          ${c}
            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];
            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);

            if(d0 < inputShape[${a}] && d0 >= 0) {
              // Use custom imod instead mod. On Intel GPU, mod may generate
              // unexpected value.
              // https://github.com/tensorflow/tfjs/issues/5447
              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];
              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /
                  inChannels);

              if(d1 < inputShape[${o}] && d1 >= 0) {

                ch = imod(pos, inChannels);

                if (${i}) {
                  innerDims = vec2(d1, ch);
                  result[${d*2+f}] = getChannel(
                    getA(rc.x, d0, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                } else {
                  innerDims = vec2(d0, d1);
                  result[${d*2+f}] = getChannel(
                    getA(rc.x, ch, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                }
              }
            }
          }
        `;this.userCode=`
      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0);

        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
        vec2 innerDims;

        ${u}

        ${s.output} = result;
      }
    `}}function o4(t,e){const n=t.length;return n>=3?e?[...t.slice(0,-3),t[n-3]*t[n-2],t[n-1]]:[...t.slice(0,-3),t[n-3],t[n-2]*t[n-1]]:!e&&n===1&&t[0]>1?[t[0],1]:null}function lae({x:t,filter:e,convInfo:n,backend:r,bias:s=null,preluActivationWeights:i=null,leakyreluAlpha:a=0,activation:o=null}){const c=t.shape,u=r.texData.get(t.dataId),d=n.inChannels,f=c[0]*c[1]*c[2],h=n.outChannels,m=n.dataFormat==="channelsLast",g=!1,y=!1;let x;const v=[];if(i!=null){const k=o4(i.shape,m);k!=null&&(i=qt({inputs:{x:i},backend:r,attrs:{shape:k}}),v.push(i))}if(s!=null){const k=o4(s.shape,m);k!=null&&(s=qt({inputs:{x:s},backend:r,attrs:{shape:k}}),v.push(s))}if(!((f===1||h===1)&&d>eae)&&u.isPacked&&m&&u.texture!=null&&c[2]%2!==0&&vr(u.shape.slice(-3),c.slice(-3))){const k=c[0]*c[1]*(c[2]+1),E={dataId:t.dataId,shape:[1,k,n.inChannels],dtype:t.dtype},N=u.shape;u.shape=u.shape.slice(),u.shape[u.shape.length-2]++,ce(i4(u.shape,E.shape),()=>`packed reshape ${u.shape} to ${E.shape} isn't free`);const O=qt({inputs:{x:e},backend:r,attrs:{shape:[1,n.inChannels,n.outChannels]}});v.push(O);const F=a4({a:E,b:O,backend:r,transposeA:g,transposeB:y,bias:s,activation:o,preluActivationWeights:i,leakyreluAlpha:a}),D=r.texData.get(F.dataId);ce(D.isPacked,()=>"batchMatMul result is expected to be packed"),u.shape=N,D.shape=n.outShape,x=Dc({inputs:{x:F},backend:r}),x.shape=n.outShape,v.push(F)}else{const k=n.outHeight*n.outWidth,E=qt({inputs:{x:t},backend:r,attrs:{shape:m?[n.batchSize,k,n.inChannels]:[n.batchSize,n.inChannels,k]}}),N=qt({inputs:{x:e},backend:r,attrs:{shape:[1,n.inChannels,n.outChannels]}}),O=a4({a:m?E:N,b:m?N:E,transposeA:!m,transposeB:y,backend:r,bias:s,activation:o,preluActivationWeights:i,leakyreluAlpha:a});x=qt({inputs:{x:O},backend:r,attrs:{shape:n.outShape}}),v.push(E),v.push(N),v.push(O)}for(const k of v)r.disposeIntermediateTensorInfo(k);return x}function cae({x:t,filter:e,convInfo:n,backend:r,bias:s=null,preluActivationWeights:i=null,leakyreluAlpha:a=0,activation:o=null}){const{filterWidth:c,filterHeight:u,inChannels:d,outWidth:f,outHeight:h,dataFormat:m}=n,g=m==="channelsLast",y=c*u*d,x=h*f,v=[n.batchSize,y,x],w=!0,B=!1,k=[];if(i!=null){const G=o4(i.shape,g);G!=null&&(i=qt({inputs:{x:i},backend:r,attrs:{shape:G}}),k.push(i))}if(s!=null){const G=o4(s.shape,g);G!=null&&(s=qt({inputs:{x:s},backend:r,attrs:{shape:G}}),k.push(s))}const E=qt({inputs:{x:e},backend:r,attrs:{shape:[1,y,it(e.shape)/y]}});k.push(E);const N=new oUe(v,n),O=[t.shape,[n.padInfo.top,n.padInfo.left],[n.strideHeight,n.strideWidth],[n.dilationHeight,n.dilationWidth],[n.inChannels],[n.filterWidth*n.inChannels],[n.outWidth]],F=r.runWebGLProgram(N,[t],"float32",O),D=qt({inputs:{x:F},backend:r,attrs:{shape:v}});k.push(F),k.push(D);const T=s!=null,j=i!=null,P=o==="leakyrelu",U=o?O2(o,!0):null,z=new Zie(g?D.shape:E.shape,g?E.shape:D.shape,g?[n.batchSize,x,n.outChannels]:[n.batchSize,n.outChannels,x],w,B,T,U,j,P),ee=g?[D,E]:[E,D];if(s&&ee.push(s),j&&ee.push(i),P){const G=r.makeTensorInfo([],"float32",Fh(a,"float32"));ee.push(G),k.push(G)}const q=r.runWebGLProgram(z,ee,"float32"),Z=qt({inputs:{x:q},backend:r,attrs:{shape:n.outShape}});k.push(q);for(const G of k)r.disposeIntermediateTensorInfo(G);return Z}function lUe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i}=e,{strides:a,pad:o,dataFormat:c,dilations:u,dimRoundingMode:d}=r,f=Lh(c),h=mo(s.shape,i.shape,a,u,o,d,!1,f);let m;if(h.filterHeight===1&&h.filterWidth===1&&h.dilationHeight===1&&h.dilationWidth===1&&h.strideHeight===1&&h.strideWidth===1&&(h.padInfo.type==="SAME"||h.padInfo.type==="VALID"))m=lae({x:s,filter:i,convInfo:h,backend:n});else if(h.strideWidth<=2&&f==="channelsLast"&&Xe().getBool("WEBGL_EXP_CONV")){const y=new oae(h),x=[[h.padInfo.top,h.padInfo.left],[h.strideHeight,h.strideWidth],[h.dilationHeight,h.dilationWidth],[h.inHeight,h.inWidth]];m=n.runWebGLProgram(y,[s,i],"float32",x)}else if(Xe().getBool("WEBGL_CONV_IM2COL"))m=cae({x:s,filter:i,convInfo:h,backend:n});else{const y=new aae(h);m=n.runWebGLProgram(y,[s,i],"float32")}const g=qt({inputs:{x:m},backend:n,attrs:{shape:h.outShape}});return n.disposeIntermediateTensorInfo(m),g}const cUe={kernelName:Bw,backendName:"webgl",kernelFunc:lUe};class uUe{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const n=e.strideHeight,r=e.strideWidth,s=e.padInfo.top,i=e.padInfo.left,a=e.dataFormat==="channelsLast";this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int d2 = coords.w;

        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int b = 0; b < ${e.batchSize}; b++) {
          for (int yR = 0; yR < ${e.outHeight}; yR++) {
            int xR = wR + yR * ${n} - ${s};

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int yC = 0; yC < ${e.outWidth}; yC++) {
              int xC = wC + yC * ${r} - ${i};

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              ${a?`float dyValue = getDy(b, yR, yC, d2);
              float xValue = getX(b, xR, xC, d1);
              dotProd += (xValue * dyValue);`:`float dyValue = getDy(b, d2, yR, yC);
              float xValue = getX(b, d1, xR, xC);
              dotProd += (xValue * dyValue);`}
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class dUe{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const n=e.filterHeight,r=e.filterWidth,s=e.strideHeight,i=e.strideWidth,a=e.dataFormat==="channelsLast",o=n-1-e.padInfo.top,c=r-1-e.padInfo.left,u=a?1:2,d=a?2:3,f=a?3:1;this.userCode=`
      const ivec2 pads = ivec2(${o}, ${c});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[${f}];

        ivec2 dyCorner = ivec2(coords[${u}], coords[${d}]) - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${n}; wR++) {
          float dyR = float(dyRCorner + wR) / ${s}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = ${n} - 1 - wR;

          for (int wC = 0; wC < ${r}; wC++) {
            float dyC = float(dyCCorner + wC) / ${i}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = ${r} - 1 - wC;

            for (int d2 = 0; d2 < ${e.outChannels}; d2++) {

              if (${a}) {
                float xValue = getDy(batch, idyR, idyC, d2);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              } else {
                float xValue = getDy(batch, d2, idyR, idyC);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `}}class fUe{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const n=e.strideDepth,r=e.strideHeight,s=e.strideWidth,i=e.padInfo.front,a=e.padInfo.top,o=e.padInfo.left;this.userCode=`
      void main() {
        ivec5 coords = getOutputCoords();
        int wF = coords.x;
        int wR = coords.y;
        int wC = coords.z;
        int d1 = coords.w;
        int d2 = coords.u;

        float dotProd = 0.0;

        for (int b = 0; b < ${e.batchSize}; b++) {
          for (int yF = 0; yF < ${e.outDepth}; yF++) {
            int xF = wF + yF * ${n} - ${i};

            if (xF < 0 || xF >= ${e.inDepth}) {
              continue;
            }

            for (int yR = 0; yR < ${e.outHeight}; yR++) {
              int xR = wR + yR * ${r} - ${a};

              if (xR < 0 || xR >= ${e.inHeight}) {
                continue;
              }

              for (int yC = 0; yC < ${e.outWidth}; yC++) {
                int xC = wC + yC * ${s} - ${o};

                if (xC < 0 || xC >= ${e.inWidth}) {
                  continue;
                }

                float dyValue = getDy(b, yF, yR, yC, d2);
                float xValue = getX(b, xF, xR, xC, d1);
                dotProd += (xValue * dyValue);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class AUe{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const n=e.filterDepth,r=e.filterHeight,s=e.filterWidth,i=e.strideDepth,a=e.strideHeight,o=e.strideWidth,c=n-1-e.padInfo.front,u=r-1-e.padInfo.top,d=s-1-e.padInfo.left;this.userCode=`
      const ivec3 pads = ivec3(${c}, ${u}, ${d});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.u;


        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyFCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        float dotProd = 0.0;
        for (int wF = 0; wF < ${n}; wF++) {
          float dyF = float(dyFCorner + wF) / ${i}.0;

          if (dyF < 0.0 || dyF >= ${e.outDepth}.0 || fract(dyF) > 0.0) {
            continue;
          }
          int idyF = int(dyF);

          int wFPerm = ${n} - 1 - wF;

          for (int wR = 0; wR < ${r}; wR++) {
            float dyR = float(dyRCorner + wR) / ${a}.0;

            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||
              fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            int wRPerm = ${r} - 1 - wR;

            for (int wC = 0; wC < ${s}; wC++) {
              float dyC = float(dyCCorner + wC) / ${o}.0;

              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              int wCPerm = ${s} - 1 - wC;

              for (int d2 = 0; d2 < ${e.outChannels}; d2++) {
                float xValue = getDy(batch, idyF, idyR, idyC, d2);
                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}function hUe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,dy:i}=e,{strides:a,pad:o,dataFormat:c,dimRoundingMode:u,filterShape:d}=r,f=Lh(c),h=mo(s.shape,d,a,1,o,u,!1,f),m=new uUe(h);return n.runWebGLProgram(m,[s,i],"float32")}const pUe={kernelName:VE,backendName:"webgl",kernelFunc:hUe};class mUe{constructor(e){this.variableNames=["dy","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"strides",type:"vec2"}],this.outputShape=e.inShape,this.enableShapeUniforms=cl(this.outputShape.length);const n=e.filterHeight,r=e.filterWidth,s=n-1-e.padInfo.top,i=r-1-e.padInfo.left;this.userCode=`
      const ivec2 pads = ivec2(${s}, ${i});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[3];

        ivec2 dyCorner = ivec2(coords[1], coords[2]) - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        vec4 result = vec4(0.);
        for (int wR = 0; wR < ${n}; wR++) {
          float dyR = float(dyRCorner + wR) / strides[0];
          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);
          int wRPerm = ${n} - 1 - wR;

          for (int wC = 0; wC < ${r}; wC++) {
            int wCPerm = ${r} - 1 - wC;

            float dyC = float(dyCCorner + wC) / strides[1];
            bool idyCVal = (dyC >= 0.0) && (dyC < ${e.outWidth}.0)
              && (fract(dyC) == 0.0);
            int idyC = int(dyC);

            float dyC2 = float(dyCCorner + wC + 1) / strides[1];
            bool idyCVal2 = (dyC2 >= 0.0) && (dyC2 < ${e.outWidth}.0)
              && (fract(dyC2) == 0.0);
            int idyC2 = int(dyC2);

            if (idyCVal && idyCVal2) {
              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {
                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);
                vec4 dySample = getDy(batch, idyR, idyC, d2);
                vec4 dySample2 = (idyC / 2 == idyC2 / 2) ?
                  dySample : getDy(batch, idyR, idyC2, d2);

                vec2 dyValue = mod(float(idyC), 2.) == 0. ?
                  dySample.xy : dySample.zw;
                result.xy += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));

                dyValue = mod(float(idyC2), 2.) == 0. ?
                  dySample2.xy : dySample2.zw;
                result.zw += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));
              }
            } else if (idyCVal) {
              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {
                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);
                vec4 dySample = getDy(batch, idyR, idyC, d2);
                vec2 dyValue = mod(float(idyC), 2.) == 0. ?
                  dySample.xy : dySample.zw;
                result.xy += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));
              }
            } else if (idyCVal2) {
              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {
                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);
                vec4 dySample = getDy(batch, idyR, idyC2, d2);
                vec2 dyValue = mod(float(idyC2), 2.) == 0. ?
                  dySample.xy : dySample.zw;
                result.zw += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));
              }
            }
          }
        }
        setOutput(result);
      }
    `}}function gUe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,filter:i}=e,{inputShape:a,strides:o,pad:c,dataFormat:u,dimRoundingMode:d}=r,f=Lh(u),h=mo(a,i.shape,o,1,c,d,!1,f);if(Xe().getBool("WEBGL_PACK_CONV2DTRANSPOSE")&&f==="channelsLast"){const m=[[h.strideHeight,h.strideWidth]],g=new mUe(h);return n.runWebGLProgram(g,[s,i],"float32",m)}else{const m=new dUe(h);return n.runWebGLProgram(m,[s,i],"float32")}}const yUe={kernelName:Ew,backendName:"webgl",kernelFunc:gUe};function xUe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i}=e,{strides:a,pad:o,dilations:c}=r,u=Sm(s.shape,i.shape,a,c,o),d=new aUe(u);return n.runWebGLProgram(d,[s,i],"float32")}const bUe={kernelName:Iw,backendName:"webgl",kernelFunc:xUe};function vUe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,dy:i}=e,{strides:a,pad:o,filterShape:c}=r,u=Sm(s.shape,c,a,1,o),d=new fUe(u);return n.runWebGLProgram(d,[s,i],"float32")}const wUe={kernelName:qE,backendName:"webgl",kernelFunc:vUe};function SUe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,filter:i}=e,{pad:a,strides:o,inputShape:c}=r,u=Sm(c,i.shape,o,1,a),d=new AUe(u);return n.runWebGLProgram(d,[s,i],"float32")}const CUe={kernelName:GE,backendName:"webgl",kernelFunc:SUe};const kUe=Xx+`
  return cos(x);
`,BUe=`
  vec4 result = cos(x);
  bvec4 isNaN = isnan(x);
  ${N0}
  return result;
`,EUe=qr({opSnippet:kUe,packedOpSnippet:BUe}),IUe={kernelName:Y1,backendName:"webgl",kernelFunc:EUe};const NUe=`
  float e2x = exp(-x);
  return (e2x + 1.0 / e2x) / 2.0;
`,jUe=qr({opSnippet:NUe}),TUe={kernelName:J1,backendName:"webgl",kernelFunc:jUe};class _Ue{constructor(e,n,r,s,i){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];const[a,o,c,u]=e,[d]=n,[f,h]=r;this.outputShape=[d,f,h,u];const m=s==="bilinear"?1:0,[g,y]=[`${o-1}.0`,`${c-1}.0`],[x,v,w]=f>1?[`${(o-1)/(f-1)}`,"(y2-y1) * height_ratio",`y1*${g} + float(y)*(height_scale)`]:["0.0","0.0",`0.5 * (y1+y2) * ${g}`],[B,k,E]=h>1?[`${(c-1)/(h-1)}`,"(x2-x1) * width_ratio",`x1*${y} + float(x)*(width_scale)`]:["0.0","0.0",`0.5 * (x1+x2) * ${y}`];this.userCode=`
      const float height_ratio = float(${x});
      const float width_ratio = float(${B});
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int y = coords[1];
        int x = coords[2];
        int d = coords[3];

        // get box vals
        float y1 = getBoxes(b,0);
        float x1 = getBoxes(b,1);
        float y2 = getBoxes(b,2);
        float x2 = getBoxes(b,3);

        // get image in batch index
        int bInd = round(getBoxInd(b));
        if(bInd < 0 || bInd >= ${a}) {
          return;
        }

        float height_scale = ${v};
        float width_scale = ${k};

        float in_y = ${w};
        if( in_y < 0.0 || in_y > ${g} ) {
          setOutput(float(${i}));
          return;
        }
        float in_x = ${E};
        if( in_x < 0.0 || in_x > ${y} ) {
          setOutput(float(${i}));
          return;
        }

        vec2 sourceFracIndexCR = vec2(in_x,in_y);
        if(${m} == 1) {
          // Compute the four integer indices.
          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);
          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));

          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);
          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);
          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);
          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);

          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);

          float top = topLeft + (topRight - topLeft) * fracCR.x;
          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;
          float newValue = top + (bottom - top) * fracCR.y;
          setOutput(newValue);
        } else {
          // Compute the coordinators of nearest neighbor point.
          ivec2 sourceNearestCR = ivec2(floor(
            sourceFracIndexCR + vec2(0.5,0.5)));
          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);
          setOutput(newValue);
        }
      }
    `}}const RUe=t=>{const{inputs:e,backend:n,attrs:r}=t,{image:s,boxes:i,boxInd:a}=e,{cropSize:o,method:c,extrapolationValue:u}=r,d=new _Ue(s.shape,i.shape,o,c,u);return n.runWebGLProgram(d,[s,i,a],"float32")},OUe={kernelName:XE,backendName:"webgl",kernelFunc:RUe};var D2;(function(t){t.Prod="*",t.Sum="+"})(D2||(D2={}));class oH{constructor(e,n,r,s){this.op=e,this.outputShape=n,this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}];const i=this.outputShape.length,a=this.op===D2.Prod?"1.0":"0.0",o=r?a:`getX(${lH(i,"coords",this.op)})`,c=this.outputShape[this.outputShape.length-1];let u="",d="";r?(u=s?`end != ${c-1}`:"end != 0",d=s?"end + 1":"end - 1"):(u=s?`end + pow2 < ${c}`:"end >= pow2",d=s?"end + pow2":"end - pow2"),this.userCode=`
      void main() {
        ${Rs(i)} coords = getOutputCoords();
        int end = ${cH(i,"coords",this.op)};
        float val = ${o};
        int pow2 = int(pow(2.0, index));
        if (${u}) {
          int idx = ${d};
          ${cH(i,"coords",this.op)} = idx;
          val ${this.op}= getX(${lH(i,"coords",this.op)});
        }
        setOutput(val);
      }
    `}}function lH(t,e,n){if(t===1)return`${e}`;if(t===2)return`${e}.x, ${e}.y`;if(t===3)return`${e}.x, ${e}.y, ${e}.z`;if(t===4)return`${e}.x, ${e}.y, ${e}.z, ${e}.w`;throw new Error(`Cumulative ${n} for rank ${t} is not yet supported`)}function cH(t,e,n){if(t===1)return`${e}`;if(t===2)return`${e}.y`;if(t===3)return`${e}.z`;if(t===4)return`${e}.w`;throw new Error(`Cumulative ${n} for rank ${t} is not yet supported`)}function uae(t,e,n,r,s,i){const a=e.shape.length,o=Gi([r],a);let c=e;o!=null&&(c=_l({inputs:{x:e},backend:n,attrs:{perm:o}}));const u=xa(1,a)[0];if(u!==a-1)throw new Error(`WebGL cumprod shader expects an inner-most axis=${e.shape.length-1} but got axis=${r}`);const d=c.shape[u];let f=Dc({inputs:{x:c},backend:n});for(let h=0;h<=Math.ceil(Math.log2(d))-1;h++){const m=new oH(t,c.shape,!1,i),g=[[h]],y=f;f=n.runWebGLProgram(m,[f],f.dtype,g),n.disposeIntermediateTensorInfo(y)}if(s){const h=new oH(t,c.shape,s,i),m=f;f=n.runWebGLProgram(h,[f],f.dtype),n.disposeIntermediateTensorInfo(m)}if(o!=null){const h=Cm(o),m=_l({inputs:{x:f},backend:n,attrs:{perm:h}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(c),m}return f}function FUe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,exclusive:a,reverse:o}=r;return uae(D2.Prod,s,n,i,a,o)}const DUe={kernelName:KE,backendName:"webgl",kernelFunc:FUe};function LUe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,exclusive:a,reverse:o}=r;return uae(D2.Sum,s,n,i,a,o)}const $Ue={kernelName:Nw,backendName:"webgl",kernelFunc:LUe};function PUe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,weights:i}=e,{size:a,binaryOutput:o}=r;if(s.shape.length===1){const c=n.readSync(s.dataId),u=n.readSync(i.dataId),d=Hie(c,u,i.dtype,i.shape,a);return n.makeTensorInfo([a],i.dtype,d)}else if(s.shape.length===2){const c=n.bufferSync(s),u=n.bufferSync(i),d=QDe(c,u,a,o);return n.makeTensorInfo(d.shape,i.dtype,d.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${s.shape.length}.`)}const UUe={kernelName:YE,backendName:"webgl",kernelFunc:PUe};class zUe{constructor(e,n,r){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=n,this.dataFormat=r,this.userCode=`
    void main() {
      ivec4 coords = getOutputCoords();
      int b = coords[0];
      int h = ${this.getHeightCoordString()};
      int w = ${this.getWidthCoordString()};
      int d = ${this.getDepthCoordString()};

      int in_h = h / ${n};
      int offset_h = imod(h, ${n});
      int in_w = w / ${n};
      int offset_w = imod(w, ${n});
      int offset_d = (offset_h * ${n} + offset_w) *
        ${this.getOutputDepthSize()};
      int in_d = d + offset_d;

      float result = ${this.getInputSamplingString()};
      setOutput(result);
    }
  `}getHeightCoordString(){return this.dataFormat==="NHWC"?"coords[1]":"coords[2]"}getWidthCoordString(){return this.dataFormat==="NHWC"?"coords[2]":"coords[3]"}getDepthCoordString(){return this.dataFormat==="NHWC"?"coords[3]":"coords[1]"}getOutputDepthSize(){return this.dataFormat==="NHWC"?this.outputShape[3]:this.outputShape[1]}getInputSamplingString(){return this.dataFormat==="NHWC"?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}function MUe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{blockSize:i,dataFormat:a}=r,o=s.shape[0],c=a==="NHWC"?s.shape[1]:s.shape[2],u=a==="NHWC"?s.shape[2]:s.shape[3],d=a==="NHWC"?s.shape[3]:s.shape[1],f=c*i,h=u*i,m=d/(i*i),g=a==="NHWC"?[o,f,h,m]:[o,m,f,h],y=new zUe(g,i,a);return n.runWebGLProgram(y,[s],s.dtype)}const QUe={kernelName:JE,backendName:"webgl",kernelFunc:MUe};class dae{constructor(e,n=!1,r=null,s=!1,i=!1){this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=cl(this.outputShape.length);const a=e.filterHeight,o=e.filterWidth,c=e.outChannels/e.inChannels;let u="",d="";r&&(s?u=`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          ${r}
        }`:i?u=`float activation(float a) {
          float b = getLeakyreluAlphaAtOutCoords();
          ${r}
        }`:u=`
          float activation(float x) {
            ${r}
          }
        `,d="result = activation(result);");const f=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${u}

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / ${c};
        int q = d2 - d1 * ${c};

        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.
        for (int wR = 0; wR < ${a}; wR++) {
          int xR = xRCorner + wR * dilations[0];

          if (xR < 0 || xR >= inDims[0]) {
            continue;
          }

          for (int wC = 0; wC < ${o}; wC++) {
            int xC = xCCorner + wC * dilations[1];

            if (xC < 0 || xC >= inDims[1]) {
              continue;
            }

            float xVal = getX(batch, xR, xC, d1);
            float wVal = getW(wR, wC, d1, q);
            dotProd += xVal * wVal;
          }
        }

        float result = dotProd;
        ${f}
        ${d}
        setOutput(result);
      }
    `}}class fae{constructor(e,n=!1,r=null,s=!1,i=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=cl(this.outputShape.length);const a=e.outChannels/e.inChannels,o=e.padInfo.left,c=e.strideWidth,u=e.dilationWidth,d=e.filterHeight,f=e.filterWidth,h=f;let m=`
      int xR; int xC; int xCOffset;
      vec4 wTexel; vec4 previous; vec4 final;`;for(let v=0;v<f;v++)m+=`
          vec4 xTexelC${v*2};
          int xTexelC${v*2}Ready;
          vec4 xTexelC${v*2+1};
          int xTexelC${v*2+1}Ready;
          vec4 xC${v};`;m+=`
    for (int r = 0; r < ${d}; r++) {
      `;for(let v=0;v<f;v++)m+=`
          xTexelC${v*2} = vec4(0.0);
          xTexelC${v*2}Ready = 0;
          xTexelC${v*2+1} = vec4(0.0);
          xTexelC${v*2+1}Ready = 0;
          xC${v} = vec4(0.0);`;m+=`
        xR = xRCorner + r * dilations[0];
        if (xR >=0 && xR < inDims[0]) {
      `;for(let v=0;v<(h+1)/2;v++){const w=v*2;if(m+=`
          xC = xCCorner + ${w*u};
          `,c===1){if(w<f&&(o%2===1?(m+=`
                xCOffset = xC + 1;
                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${w}Ready == 0) {
                  xTexelC${w} = getX(batch, xR, xCOffset, d1);

                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${w}.zw = vec2(0.0);
                  }
                  xTexelC${w}Ready = 1;
                }
              `,u===1&&w>0?m+=`
                xC${w} = vec4(xTexelC${w-2}.zw, xTexelC${w}.xy);
                `:m+=`
                  xCOffset = xC + 1 - 2;

                  if (xCOffset >= 0 && xCOffset < inDims[1]) {
                    previous = getX(batch, xR, xCOffset, d1);

                    // Need to manually clear unused channels in case
                    // we're reading from recycled texture.
                    if (xCOffset + 1 >= inDims[1]) {
                      previous.zw = vec2(0.0);
                    }

                    xC${w} = vec4(previous.zw, xTexelC${w}.xy);
                  } else {
                    xC${w} = vec4(0.0, 0.0, xTexelC${w}.xy);
                  }
                  `):m+=`
                if (xC >= 0 && xC < inDims[1] && xTexelC${w}Ready == 0) {
                  xTexelC${w} = getX(batch, xR, xC, d1);
                  if (xC + 1 >= inDims[1]) {
                    xTexelC${w}.zw = vec2(0.0);
                  }
                  xTexelC${w}Ready = 1;
                }

                xC${w} = xTexelC${w};
                `,w+1<f)){const B=o%2===0?LE(u):u;u%2===0&&o%2===1||u%2!==0&&o%2!==1?(m+=`
                  xCOffset = xC + imod(pads[1], 2) + ${B};

                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${w+1}Ready == 0) {
                    xTexelC${w+1} = getX(batch, xR, xCOffset, d1);

                    // Need to manually clear unused channels in case
                    // we're reading from recycled texture.
                    if (xCOffset + 1 >= inDims[1]) {
                      xTexelC${w+1}.zw = vec2(0.0);
                    }
                    xTexelC${w+1}Ready = 1;
                  }
                  `,u>1?m+=`
                    xCOffset -= 2;
                    if (xCOffset >= 0 && xCOffset < inDims[1]) {
                     previous = getX(batch, xR, xCOffset, d1);
                     xC${w+1} = vec4(previous.zw, xTexelC${w+1}.xy);
                    } else {
                     xC${w+1} = vec4(0.0, 0.0, xTexelC${w+1}.xy);
                    }
                    `:m+=`
                    xC${w+1} = vec4(xTexelC${w}.zw, xTexelC${w+1}.xy);
                    `):B===1?m+=`
                    xC${w+1} = xTexelC${w};
                    `:m+=`
                    xCOffset = xC + ${B};

                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${w+1}Ready == 0) {
                      xTexelC${w+1} = getX(batch, xR, xCOffset, d1);
                      if (xCOffset + 1 >= inDims[1]) {
                        xTexelC${w+1}.zw = vec2(0.0);
                      }
                      xTexelC${w+1}Ready = 1;
                    }

                    xC${w+1} = xTexelC${w+1};
                    `}}else w<f&&(o%2===1?(m+=`
                xCOffset = xC + 1 - strides[1];
                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${w}Ready == 0) {
                  xTexelC${w} = getX(batch, xR, xCOffset, d1);
                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${w}.zw = vec2(0.0);
                  }
                  xTexelC${w}Ready = 1;
                }

                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${w+1}Ready == 0) {
                  xTexelC${w+1} = getX(batch, xR, xC + 1, d1);
                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xC + 2 >= inDims[1]) {
                    xTexelC${w+1}.zw = vec2(0.0);
                  }
                  xTexelC${w+1}Ready = 1;
                }

                xC${w} = vec4(xTexelC${w}.zw, xTexelC${w+1}.zw);
              `,w+1<f&&(m+=`
                  final = vec4(0.0);
                  xCOffset = xC + 1 + strides[1];
                  if(xCOffset >= 0 && xCOffset < inDims[1]) {
                    final = getX(batch, xR, xCOffset, d1);
                  }
                  xC${w+1} = vec4(xTexelC${w+1}.xy, final.xy);
                `)):(m+=`
                if(xC >= 0 && xC < inDims[1] && xTexelC${w}Ready == 0) {
                  xTexelC${w} = getX(batch, xR, xC, d1);
                  if (xC + 1 >= inDims[1]) {
                    xTexelC${w}.zw = vec2(0.0);
                  }
                  xTexelC${w}Ready = 1;
                }

                xCOffset = xC + strides[1];
                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${w+1}Ready == 0) {
                  xTexelC${w+1} = getX(batch, xR, xCOffset, d1);
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${w+1}.zw = vec2(0.);
                  }
                  xTexelC${w+1}Ready = 1;
                }

                xC${w} = vec4(
                  xTexelC${w}.xy, xTexelC${w+1}.xy);
              `,w+1<f&&(m+=`
                  xC${w+1} = vec4(xTexelC${w}.zw, xTexelC${w+1}.zw);
                `)));w<f&&(m+=`
            wTexel = getW(r, ${w}, d1, q);
            dotProd += xC${w} * vec4(wTexel.xz, wTexel.xz);
          `,w+1<f&&(m+=`
              wTexel = getW(r, ${w+1}, d1, q);
              dotProd += xC${w+1} * vec4(wTexel.xz, wTexel.xz);
            `))}m+=`
    }
  `,m+=`
      }
    `;let g="",y="";r&&(s?g=`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          ${r}
        }`:i?g=`vec4 activation(vec4 a) {
          vec4 b = getLeakyreluAlphaAtOutCoords();
          ${r}
        }`:g=`vec4 activation(vec4 x) {
          ${r}
        }`,y="result = activation(result);");const x=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${g}

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / ${a};
        int q = d2 - d1 * ${a};
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.
        vec4 dotProd = vec4(0.000000000000001);

        ${m}

        vec4 result = dotProd - vec4(0.000000000000001);
        ${x}
        ${y}
        setOutput(result);
      }
    `}}function HUe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i}=e,{strides:a,pad:o,dilations:c,dimRoundingMode:u}=r;let d=c;d==null&&(d=[1,1]),ce(Mo(a,d),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${a} and dilations '${d}'`);const f=mo(s.shape,i.shape,a,d,o,u,!0);let h;Xe().getBool("WEBGL_PACK_DEPTHWISECONV")&&f.strideWidth<=2&&f.outChannels/f.inChannels===1?h=new fae(f):h=new dae(f);const m=[[f.padInfo.top,f.padInfo.left],[f.strideHeight,f.strideWidth],[f.dilationHeight,f.dilationWidth],[f.inHeight,f.inWidth]];return n.runWebGLProgram(h,[s,i],"float32",m)}const WUe={kernelName:jw,backendName:"webgl",kernelFunc:HUe};class VUe{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const n=e.strideHeight,r=e.strideWidth,s=e.padInfo.top,i=e.padInfo.left,a=e.outChannels/e.inChannels;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int dm = coords.w;
        int d2 = d1 * ${a} + dm;

        float dotProd = 0.0;

        // TO DO: Vec4 over the batch size
        for (int b = 0; b < ${e.batchSize}; b++) {
          for (int yR = 0; yR < ${e.outHeight}; yR++) {
            int xR = wR + yR * ${n} - ${s};

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int yC = 0; yC < ${e.outWidth}; yC++) {
              int xC = wC + yC * ${r} - ${i};

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              float dyValue = getDy(b, yR, yC, d2);
              float xValue = getX(b, xR, xC, d1);
              dotProd += (xValue * dyValue);
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class qUe{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const n=e.filterHeight,r=e.filterWidth,s=e.strideHeight,i=e.strideWidth,a=n-1-e.padInfo.top,o=r-1-e.padInfo.left,c=e.outChannels/e.inChannels;this.userCode=`
      const ivec2 pads = ivec2(${a}, ${o});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[3];
        ivec2 dyCorner = coords.yz - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        float dotProd = 0.0;

        for (int wR = 0; wR < ${n}; wR++) {
          float dyR = float(dyRCorner + wR) / ${s}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = ${n} - 1 - wR;

          for (int wC = 0; wC < ${r}; wC++) {
            float dyC = float(dyCCorner + wC) / ${i}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = ${r} - 1 - wC;

            // TO DO: Vec4 over the channelMul
            for (int dm = 0; dm < ${c}; dm++) {
              int d2 = d1 * ${c} + dm;
              float xValue = getDy(batch, idyR, idyC, d2);
              float wValue = getW(wRPerm, wCPerm, d1, dm);
              dotProd += xValue * wValue;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}function GUe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,dy:i}=e,{strides:a,dilations:o,pad:c,dimRoundingMode:u,filterShape:d}=r,f=mo(s.shape,d,a,o,c,u,!0),h=new VUe(f);return n.runWebGLProgram(h,[s,i],"float32")}const KUe={kernelName:ZE,backendName:"webgl",kernelFunc:GUe};function XUe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,filter:i}=e,{strides:a,dilations:o,pad:c,dimRoundingMode:u,inputShape:d}=r,f=mo(d,i.shape,a,o,c,u,!0),h=new qUe(f);return n.runWebGLProgram(h,[s,i],"float32")}const YUe={kernelName:eI,backendName:"webgl",kernelFunc:XUe};class JUe{constructor(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode=`
      void main() {
          ivec2 coords = getOutputCoords();
          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;
          setOutput(val);
      }
    `}}function ZUe(t){const{inputs:e,backend:n}=t,{x:r}=e,s=[...r.shape,...r.shape],i=it(r.shape),a=qt({inputs:{x:r},backend:n,attrs:{shape:[i]}}),o=new JUe(i),c=n.runWebGLProgram(o,[a],a.dtype),u=qt({inputs:{x:c},backend:n,attrs:{shape:s}});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(c),u}const eze={kernelName:tI,backendName:"webgl",kernelFunc:ZUe};class tze{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const{inHeight:n,inWidth:r,padInfo:s,strideHeight:i,strideWidth:a,filterHeight:o,filterWidth:c,dilationHeight:u,dilationWidth:d}=e,{top:f,left:h}=s;this.userCode=`
      const ivec2 strides = ivec2(${i}, ${a});
      const ivec2 pads = ivec2(${f}, ${h});
      const float neg_infinity = -3.4e38;

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.w;
        ivec2 outTopLeftCorner =
            coords.yz * strides - pads;
        int hBeg = outTopLeftCorner.x;
        int wBeg = outTopLeftCorner.y;

        float curVal = neg_infinity;
        for (int h = 0; h < ${o}; h++) {
          int hIn = hBeg + h * ${u};

          if (hIn >= 0 && hIn < ${n}) {
            for (int w = 0; w < ${c}; w++) {
              int wIn = wBeg + w * ${d};

              if (wIn >= 0 && wIn < ${r}) {
                float xVal = getX(batch, hIn, wIn, d1);
                float wVal = getW(h, w, d1);

                float val = xVal + wVal;
                if (val > curVal) {
                  curVal = val;
                }
              }
            }
          }
        }

        float result = curVal;
        setOutput(result);
      }
    `}}function nze(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i}=e,{strides:a,pad:o,dilations:c}=r,u=b5(s.shape,i.shape,a,o,"NHWC",c);let d;const f=new tze(u);d=n.runWebGLProgram(f,[s,i],"float32");const h=qt({inputs:{x:d},backend:n,attrs:{shape:u.outShape}});return n.disposeIntermediateTensorInfo(d),h}const rze={kernelName:Tw,backendName:"webgl",kernelFunc:nze};function sze(t){const{inputs:e,backend:n,attrs:r}=t,{equation:s}=r,i=e,{allDims:a,summedDims:o,idDims:c}=YL(s,i.length);ZL(a.length,c,i);const{path:u,steps:d}=e$(o,c),f=d.length;let h=null,m=a.length;const g=[];for(let y=0;y<f;++y){for(const x of d[y]){const{permutationIndices:v,expandDims:w}=JL(m,c[x]);let B;t$(v)?B=i[x]:(B=_l({inputs:{x:i[x]},backend:n,attrs:{perm:v}}),g.push(B));const k=B.shape.slice();for(let E=0;E<w.length;++E)k.splice(w[E],0,1);vr(B.shape,k)||(B=qt({inputs:{x:B},backend:n,attrs:{shape:k}}),g.push(B)),h===null?h=B:(h=H$({inputs:{a:B,b:h},backend:n}),g.push(h))}y<f-1&&(u[y]>=0&&(h=KN({inputs:{x:h},backend:n,attrs:{axis:u[y]-(a.length-m),keepDims:!1}}),g.push(h)),m--)}for(const y of g)y!==h&&n.disposeIntermediateTensorInfo(y);return h}const ize={kernelName:rI,backendName:"webgl",kernelFunc:sze};const aze="return (x >= 0.0) ? x : (exp(x) - 1.0);",oze=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,lze=qr({opSnippet:aze,packedOpSnippet:oze}),cze={kernelName:ex,backendName:"webgl",kernelFunc:lze};const uze="return (b >= 0.0) ? a : a * (b + 1.0);",dze=`
  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));
  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));
`,fze=t=>{const{inputs:e,backend:n}=t,{dy:r,y:s}=e,i=Xe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Kx(dze,r.shape,s.shape):new s0(uze,r.shape,s.shape);return n.runWebGLProgram(i,[r,s],r.dtype)},Aze={kernelName:sI,backendName:"webgl",kernelFunc:fze};const hze=`
  return vec4(equal(a, b));
`,pze="return float(a == b);",mze=Wo({opSnippet:pze,packedOpSnippet:hze,dtype:"bool",cpuKernelImpl:GDe}),gze={kernelName:_w,backendName:"webgl",kernelFunc:mze};const yze=`
  // Error function is calculated approximately with elementary function.
  // See "Handbook of Mathematical Functions with Formulas,
  // Graphs, and Mathematical Tables", Abramowitz and Stegun.
  float p = ${HL};
  float a1 = ${WL};
  float a2 = ${VL};
  float a3 = ${qL};
  float a4 = ${GL};
  float a5 = ${KL};

  float sign = sign(x);
  x = abs(x);
  float t = 1.0 / (1.0 + p * x);
  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));
`,xze=qr({opSnippet:yze}),bze={kernelName:tx,backendName:"webgl",kernelFunc:xze};const vze=Xx+`
  return exp(x);
`,wze=`
  vec4 result = exp(x);
  bvec4 isNaN = isnan(x);
  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,Aae=qr({opSnippet:vze,packedOpSnippet:wze,cpuKernelImpl:KDe,dtype:"float32"}),Sze={kernelName:nx,backendName:"webgl",kernelFunc:Aae};function GO(t){const{inputs:e,attrs:n,backend:r}=t,{dim:s}=n,{input:i}=e,a=i.shape.length,o=i.shape.slice();let c=s;return s<0&&(ce(-(a+1)<=s,()=>`Axis must be in the interval [${-(a+1)}, ${a}]`),c=a+s+1),o.splice(c,0,1),qt({inputs:{x:i},backend:r,attrs:{shape:o}})}const Cze={kernelName:Rw,backendName:"webgl",kernelFunc:GO};const uH="return exp(x) - 1.0;",kze=qr({opSnippet:uH,packedOpSnippet:uH,cpuKernelImpl:XDe}),Bze={kernelName:rx,backendName:"webgl",kernelFunc:kze};class dH{constructor(e,n,r){this.variableNames=["real","imag"];const s=n[1];this.outputShape=n;const i=r?`2.0 * ${Math.PI}`:`-2.0 * ${Math.PI}`,a=r?`${s}.0`:"1.0";let o;if(e==="real")o="return real * expR - imag * expI;";else if(e==="imag")o="return real * expI + imag * expR;";else throw new Error(`FFT component must be either "real" or "imag", got ${e}.`);this.userCode=`
      const float exponentMultiplier = ${i};

      float unaryOpComplex(float real, float expR, float imag, float expI) {
        ${o}
      }

      float mulMatDFT(int batch, int index) {
        float indexRatio = float(index) / float(${s});
        float exponentMultiplierTimesIndexRatio =
            exponentMultiplier * indexRatio;

        float result = 0.0;

        for (int i = 0; i < ${s}; i++) {
          // x = (-2|2 * PI / N) * index * i;
          float x = exponentMultiplierTimesIndexRatio * float(i);
          float expR = cos(x);
          float expI = sin(x);
          float real = getReal(batch, i);
          float imag = getImag(batch, i);

          result +=
              unaryOpComplex(real, expR, imag, expI) / ${a};
        }

        return result;
      }

      void main() {
        ivec2 coords = getOutputCoords();
        setOutput(mulMatDFT(coords[0], coords[1]));
      }
    `}}function hae(t,e,n){const r=n.texData.get(t.dataId),s=it(t.shape),i=t.shape[t.shape.length-1],a=s/i,o=qt({inputs:{x:t},backend:n,attrs:{shape:[a,i]}}),c=o.shape,u=new dH("real",c,e),d=new dH("imag",c,e),f=[{dataId:r.complexTensorInfos.real.dataId,dtype:r.complexTensorInfos.real.dtype,shape:c},{dataId:r.complexTensorInfos.imag.dataId,dtype:r.complexTensorInfos.imag.dtype,shape:c}],h=n.runWebGLProgram(u,f,"float32"),m=n.runWebGLProgram(d,f,"float32"),g=jm({inputs:{real:h,imag:m},backend:n});n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m);const y=qt({inputs:{x:g},backend:n,attrs:{shape:t.shape}});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(g),y}function Eze(t){const{inputs:e,backend:n}=t,{input:r}=e;return hae(r,!1,n)}const Ize={kernelName:iI,backendName:"webgl",kernelFunc:Eze};class Nze{constructor(e,n){this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=e,this.userCode=`
      void main() {
        // Input can be obtained from uniform value.
        setOutput(value);
      }
    `}}function tS(t){const{backend:e,attrs:n}=t,{shape:r,value:s}=n;let{dtype:i}=n;if(i=i||y0(s),i==="string"){const a=aa(i,it(r));return a.fill(s),e.makeTensorInfo(r,i,a)}else{const a=new Nze(r,s),o=[[s]];return e.runWebGLProgram(a,[],i,o)}}const jze={kernelName:aI,backendName:"webgl",kernelFunc:tS};class Tze{constructor(e){this.variableNames=["Image"],this.outputShape=[];const n=e[2];this.outputShape=e,this.userCode=`
        void main() {
          ivec4 coords = getOutputCoords();
          int x = coords[2];

          int coordX = ${n} - x - 1;
          float outputValue;
          if(coordX >= 0 && coordX < ${n}) {
            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);
          } else {
            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);
          }
          setOutput(outputValue);
        }
    `}}const _ze={kernelName:oI,backendName:"webgl",kernelFunc:({inputs:t,backend:e})=>{const{image:n}=t,r=e,s=new Tze(n.shape);return r.runWebGLProgram(s,[n],n.dtype)}};const fH="return floor(x);",Rze=qr({opSnippet:fH,packedOpSnippet:fH,cpuKernelImpl:YDe}),Oze={kernelName:sx,backendName:"webgl",kernelFunc:Rze};const Fze=`
  float s = sign(a) * sign(b);
  int ia = round(a);
  int ib = round(b);
  if (ib != 0) {
    // Windows (D3D) wants guaranteed non-zero int division at compile-time.
    return float(idiv(ia, ib, s));
  } else {
    return NAN;
  }
`,Dze=`
  ivec4 ia = round(a);
  ivec4 ib = round(b);
  bvec4 cond = notEqual(ib, ivec4(0));
  ivec4 result = ivec4(0);
  vec4 s = sign(a) * sign(b);

  // Windows (D3D) wants guaranteed non-zero int division at compile-time.
  if (cond[0]) {
    result[0] = idiv(ia[0], ib[0], s[0]);
  }
  if (cond[1]) {
    result[1] = idiv(ia[1], ib[1], s[1]);
  }
  if (cond[2]) {
    result[2] = idiv(ia[2], ib[2], s[2]);
  }
  if (cond[3]) {
    result[3] = idiv(ia[3], ib[3], s[3]);
  }
  return vec4(result);
`,Lze=Wo({opSnippet:Fze,packedOpSnippet:Dze,dtype:"int32"}),$ze={kernelName:ix,backendName:"webgl",kernelFunc:Lze};class Pze{constructor(e){this.variableNames=["A"];const n=Ol(),[r,s]=e;this.outputShape=e,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${s}.0, ${r}.0);

        vec4 values = ${n.texture2D}(A, uv);
        float value;
        if (depth == 0) {
          value = values.r;
        } else if (depth == 1) {
          value = values.g;
        } else if (depth == 2) {
          value = values.b;
        } else if (depth == 3) {
          value = values.a;
        }

        setOutput(floor(value * 255.0 + 0.5));
      }
    `}}class Uze{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;const n=Ol(),[r,s]=e;this.outputShape=e,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];

        vec4 result = vec4(0.);

        for(int row=0; row<=1; row++) {
          for(int col=0; col<=1; col++) {
            texC = coords[1] + row;
            depth = coords[2] + col;

            vec2 uv = (vec2(texC, texR) + halfCR) /
                       vec2(${s}.0, ${r}.0);
            vec4 values = ${n.texture2D}(A, uv);
            float value;
            if (depth == 0) {
              value = values.r;
            } else if (depth == 1) {
              value = values.g;
            } else if (depth == 2) {
              value = values.b;
            } else if (depth == 3) {
              value = values.a;
            }

            result[row * 2 + col] = floor(value * 255.0 + 0.5);
          }
        }

        ${n.output} = result;
      }
    `}}const zze={kernelName:$B,backendName:"webgl",kernelFunc:Mze};let xy,n_=Xe().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");function Mze(t){const{inputs:e,backend:n,attrs:r}=t;let{pixels:s}=e;const{numChannels:i}=r,a=typeof HTMLVideoElement<"u"&&s instanceof HTMLVideoElement,o=typeof HTMLImageElement<"u"&&s instanceof HTMLImageElement,[c,u]=a?[s.videoWidth,s.videoHeight]:[s.width,s.height],d=[u,c],f=[u,c,i];if(o||a){const y=Xe().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");(xy==null||y!==n_)&&(n_=y,xy=document.createElement("canvas").getContext("2d",{willReadFrequently:n_})),xy.canvas.width=c,xy.canvas.height=u,xy.drawImage(s,0,0,c,u),s=xy.canvas}const h=n.makeTensorInfo(d,"int32");n.texData.get(h.dataId).usage=lu.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(h.dataId),s);const m=Xe().getBool("WEBGL_PACK")?new Uze(f):new Pze(f),g=n.runWebGLProgram(m,[h],"int32");return n.disposeData(h.dataId),g}function Qze(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i,bias:a,preluActivationWeights:o}=e,{strides:c,pad:u,dataFormat:d,dilations:f,dimRoundingMode:h,activation:m,leakyreluAlpha:g}=r,y=Lh(d),x=mo(s.shape,i.shape,c,f,u,h,!1,y);let v;const w=[],B=a!=null,k=o!=null,E=m==="leakyrelu",N=()=>{const F=[s,i],D=(T,j)=>{if(j==="NCHW"&&T.shape.length===1&&T.shape[0]!==1){const P=qt({inputs:{x:T},backend:n,attrs:{shape:[T.shape[0],1,1]}});return w.push(P),P}return T};if(B&&F.push(D(a,d)),k&&F.push(D(o,d)),E){const T=n.makeTensorInfo([],"float32",Fh(g,"float32"));F.push(T),w.push(T)}return F};if(x.filterHeight===1&&x.filterWidth===1&&x.dilationHeight===1&&x.dilationWidth===1&&x.strideHeight===1&&x.strideWidth===1&&(x.padInfo.type==="SAME"||x.padInfo.type==="VALID"))v=lae({x:s,filter:i,convInfo:x,backend:n,bias:a,activation:m,preluActivationWeights:o,leakyreluAlpha:g});else if(x.strideWidth<=2&&y==="channelsLast"&&Xe().getBool("WEBGL_EXP_CONV")){const F=m?O2(m,!0):null,D=new oae(x,B,F,k,E),T=[[x.padInfo.top,x.padInfo.left],[x.strideHeight,x.strideWidth],[x.dilationHeight,x.dilationWidth],[x.inHeight,x.inWidth]],j=N();v=n.runWebGLProgram(D,j,"float32",T)}else if(Xe().getBool("WEBGL_CONV_IM2COL"))v=cae({x:s,filter:i,convInfo:x,backend:n,bias:a,activation:m,preluActivationWeights:o,leakyreluAlpha:g});else{const F=m?O2(m,!1):null,D=new aae(x,B,F,k,E),T=N();v=n.runWebGLProgram(D,T,"float32")}const O=qt({inputs:{x:v},backend:n,attrs:{shape:x.outShape}});return w.push(v),w.forEach(F=>n.disposeIntermediateTensorInfo(F)),O}const Hze={kernelName:x2,backendName:"webgl",kernelFunc:Qze};function Wze(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i,bias:a,preluActivationWeights:o}=e,{strides:c,pad:u,dilations:d,dimRoundingMode:f,activation:h,leakyreluAlpha:m}=r,g=[];let y=d;y==null&&(y=[1,1]),ce(Mo(c,y),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${c} and dilations '${y}'`);const x=mo(s.shape,i.shape,c,y,u,f,!0),v=Xe().getBool("WEBGL_PACK_DEPTHWISECONV")&&x.strideWidth<=2&&x.outChannels/x.inChannels===1,w=h?O2(h,v):null,B=[s,i],k=a!=null,E=o!=null,N=h==="leakyrelu";if(k&&B.push(a),E&&B.push(o),N){const T=n.makeTensorInfo([],"float32",Fh(m,"float32"));B.push(T),g.push(T)}let O;v?O=new fae(x,k,w,E,N):O=new dae(x,k,w,E,N);const F=[[x.padInfo.top,x.padInfo.left],[x.strideHeight,x.strideWidth],[x.dilationHeight,x.dilationWidth],[x.inHeight,x.inWidth]],D=n.runWebGLProgram(O,B,"float32",F);return g.forEach(T=>n.disposeIntermediateTensorInfo(T)),D}const Vze={kernelName:b2,backendName:"webgl",kernelFunc:Wze};class qze{constructor(e,n,r,s){this.sliceDim=e,this.strides=n,this.paramsShape=s,this.variableNames=["x","indices"],this.outputShape=r;const i=Rs(r.length);let a=`
    int index;`;for(let o=0;o<this.sliceDim;o++)a+=`
          index = round(getIndices(coords[0], ${o}));
          out_of_bounds = out_of_bounds || index < 0;
          out_of_bounds = out_of_bounds || index >= ${this.paramsShape[o]};
          flattenIndex += index * ${this.strides[o]};`;this.userCode=`
         void main() {
          ${i} coords = getOutputCoords();
          int flattenIndex = 0;
          bool out_of_bounds = false;

          ${a}

          setOutput(out_of_bounds ? 0.0 : getX(flattenIndex, coords[1]));
        }
      `}}function Gze(t){const{inputs:e,backend:n}=t,{params:r,indices:s}=e,i=s.shape,a=i[i.length-1],o=it(r.shape),[c,u,d,f]=NN(r,s),h=qt({inputs:{x:s},backend:n,attrs:{shape:[u,a]}}),m=qt({inputs:{x:r},backend:n,attrs:{shape:[it(r.shape)/d,d]}});if(n.shouldExecuteOnCPU([r,s])||r.dtype==="string"){const v=n.readSync(s.dataId),w=n.bufferSync(r),B=JDe(v,w,r.dtype,u,a,d,f,r.shape,o);return n.makeTensorInfo(c,r.dtype,B.values)}const g=new qze(a,f,[u,d],r.shape),y=n.runWebGLProgram(g,[m,h],m.dtype),x=qt({inputs:{x:y},backend:n,attrs:{shape:c}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(y),x}const Kze={kernelName:lI,backendName:"webgl",kernelFunc:Gze};class Xze{constructor(e,n){this.variableNames=["A","indices"],this.outputShape=n,this.rank=n.length;const r=Rs(this.rank),s=Yze(e);this.userCode=`
      void main() {
        ${r} resRC = getOutputCoords();
        int index = int(getIndices(resRC.x, resRC.z));
        float inBounds = (index >= 0) && (index < ${e[2]}) ? 1.0 : 0.0;
        setOutput(inBounds * getA(${s}));
      }
    `}}function Yze(t,e){const n=["resRC.x","resRC.y","resRC.z","resRC.w"],r=[];for(let s=0;s<t.length;s++)s===2?r.push("index"):r.push(`${n[s]}`);return r.join()}function pae(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,indices:i}=e,{axis:a,batchDims:o}=r,c=hr(a,s.shape)[0];if(Xe().get("DEBUG")){const w=n.readSync(i.dataId),B=s.shape[c];for(let k=0;k<w.length;++k){const E=w[k];ce(E<=B-1&&E>=0,()=>`GatherV2: the index value ${E} is not in [0, ${B-1}]`)}}const u=r$(s,i,c,o),d=it(i.shape),f=[],h=qt({inputs:{x:s},backend:n,attrs:{shape:[u.batchSize,u.outerSize,u.dimSize,u.sliceSize]}}),m=qt({inputs:{x:i},backend:n,attrs:{shape:[u.batchSize,d/u.batchSize]}});f.push(h),f.push(m);const g=[u.batchSize,u.outerSize,d/u.batchSize,u.sliceSize];if(n.shouldExecuteOnCPU([s,i])||s.dtype==="string"){const w=n.bufferSync(m),B=n.bufferSync(h),k=ZDe(B,w,g);return f.forEach(E=>n.disposeIntermediateTensorInfo(E)),n.makeTensorInfo(u.outputShape,k.dtype,k.values)}const y=new Xze(h.shape,g),x=n.runWebGLProgram(y,[h,m],h.dtype);f.push(x);const v=qt({inputs:{x},backend:n,attrs:{shape:u.outputShape}});return f.forEach(w=>n.disposeIntermediateTensorInfo(w)),v}const Jze={kernelName:Fw,backendName:"webgl",kernelFunc:pae};const Zze="return float(a > b);",eMe=`
  return vec4(greaterThan(a, b));
`,tMe=Wo({opSnippet:Zze,packedOpSnippet:eMe,cpuKernelImpl:eLe,dtype:"bool"}),nMe={kernelName:Dw,backendName:"webgl",kernelFunc:tMe};const rMe="return float(a >= b);",sMe=`
  return vec4(greaterThanEqual(a, b));
`,iMe=Wo({opSnippet:rMe,packedOpSnippet:sMe,dtype:"bool",cpuKernelImpl:tLe}),aMe={kernelName:ax,backendName:"webgl",kernelFunc:iMe};function oMe(t){const{inputs:e,backend:n}=t,{input:r}=e;return hae(r,!0,n)}const lMe={kernelName:cI,backendName:"webgl",kernelFunc:oMe};const cMe="return float(!isnan(x) && !isinf(x));",uMe=qr({opSnippet:cMe,dtype:"bool"}),dMe={kernelName:lx,backendName:"webgl",kernelFunc:uMe};const fMe="return float(isinf(x));",AMe=qr({opSnippet:fMe,dtype:"bool"}),hMe={kernelName:cx,backendName:"webgl",kernelFunc:AMe};const pMe="return float(isnan(x));",mMe=qr({opSnippet:pMe,dtype:"bool"}),gMe={kernelName:ux,backendName:"webgl",kernelFunc:mMe};const yMe="return float(a < b);",xMe=`
  return vec4(lessThan(a, b));
`,bMe=Wo({opSnippet:yMe,packedOpSnippet:xMe,cpuKernelImpl:nLe,dtype:"bool"}),vMe={kernelName:$w,backendName:"webgl",kernelFunc:bMe};const wMe="return float(a <= b);",SMe=`
  return vec4(lessThanEqual(a, b));
`,CMe=Wo({opSnippet:wMe,packedOpSnippet:SMe,cpuKernelImpl:rLe,dtype:"bool"}),kMe={kernelName:Pw,backendName:"webgl",kernelFunc:CMe};function BMe(t){const{backend:e,attrs:n}=t,{start:r,stop:s,num:i}=n,a=sLe(r,s,i);return e.makeTensorInfo([a.length],"float32",a)}const EMe={kernelName:dI,backendName:"webgl",kernelFunc:BMe};const IMe=Xx+`
  return x < 0.0 ? 0./0. : log(x);
`,NMe=`
  vec4 result = log(x);
  bvec4 isNaN = isnan(x);
  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);
  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);
  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);
  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);
  return result;
`,jMe=qr({opSnippet:IMe,packedOpSnippet:NMe,cpuKernelImpl:iLe}),TMe={kernelName:dx,backendName:"webgl",kernelFunc:jMe};const _Me=Xx+`
  return log(1.0 + x);
`,RMe=qr({opSnippet:_Me}),OMe={kernelName:fx,backendName:"webgl",kernelFunc:RMe};const FMe="return float(a >= 1.0 && b >= 1.0);",DMe=`
  return vec4(
    vec4(greaterThanEqual(a, vec4(1.0))) *
    vec4(greaterThanEqual(b, vec4(1.0))));
`,LMe=Wo({opSnippet:FMe,packedOpSnippet:DMe,dtype:"bool"}),$Me={kernelName:Uw,backendName:"webgl",kernelFunc:LMe};const PMe="return float(!(x >= 1.0));",UMe=qr({opSnippet:PMe}),zMe={kernelName:zw,backendName:"webgl",kernelFunc:UMe};const MMe="return float(a >= 1.0 || b >= 1.0);",QMe=`
  return min(
    vec4(greaterThanEqual(a, vec4(1.0))) +
    vec4(greaterThanEqual(b, vec4(1.0))),
    vec4(1.0));
`,HMe=Wo({opSnippet:MMe,packedOpSnippet:QMe,dtype:"bool"}),WMe={kernelName:Mw,backendName:"webgl",kernelFunc:HMe};class VMe{constructor(e,n,r,s,i){this.variableNames=["x"],this.outputShape=[];const a=n,o=e[3]-1;this.outputShape=e;let c;const u=`float(${r}) + float(${s}) * sum`;i===.5?c=`inversesqrt(${u})`:i===1?c=`1.0/(${u})`:c=`exp(log(${u}) * float(-${i}));`,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];
        int d = coords[3];
        float x = getX(b, r, c, d);
        float sum = 0.0;
        for (int j = -${a}; j <= ${a}; j++) {
          int idx = d + j;
          if (idx >= 0 && idx <=  ${o}) {
            float z = getX(b, r, c, idx);
            sum += z * z;
          }
        }
        float val = x * ${c};
        setOutput(val);
      }
    `}}class qMe{constructor(e,n,r,s,i){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;const a=n,o=e[3]-1;this.outputShape=e;let c;const u=`float(${r}) + float(${s}) * sum`;i===.5?c=`inversesqrt(${u})`:i===1?c=`1.0/(${u})`:c=`exp(log(${u}) * float(-${i}));`,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords.x;
        int r = coords.y;
        int c = coords.z;
        int d = coords.w;

        bool hasNextCol = d < ${this.outputShape[3]};
        bool hasNextRow = c < ${this.outputShape[2]};

        vec4 sum = vec4(0.);
        vec4 xFragAtOutputCoords = getX(b, r, c, d);

        vec4 xAtOutputCoords = vec4(
          getChannel(xFragAtOutputCoords, vec2(c, d)),
          hasNextCol ?
            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,
          hasNextRow ?
            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,
          (hasNextRow && hasNextCol) ?
            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0
        );

        int firstChannel = d - ${a};
        vec2 cache = vec2(0.);
        if(firstChannel >= 0){
          vec4 firstChannelFrag = getX(b, r, c, firstChannel);
          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));
            if(hasNextRow){
              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));
            }
        }

        ivec2 depth = ivec2(d, d + 1);
        for (int j = - ${a}; j <= ${a}; j++) {
          ivec2 idx = depth + j;
          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));
          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(${o}));

          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;
          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;

          if(depthInRange || depthPlusOneInRange){
            vec4 z = vec4(0.);
            vec4 xFragAtCurrentDepth;
            z.xz = cache.xy;
            if(depthPlusOneInRange && hasNextCol){
              xFragAtCurrentDepth = idx.y != d ?
                getX(b, r, c, idx.y) : xFragAtOutputCoords;
              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));
              if(hasNextRow){
                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));
              }
            }
            cache.xy = z.yw;
            sum += z * z;
          }
        }
        vec4 result = xAtOutputCoords * ${c};
        setOutput(result);
      }
    `}}const GMe=t=>{const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{depthRadius:i,bias:a,alpha:o,beta:c}=r,u=Xe().getBool("WEBGL_PACK_NORMALIZATION")?new qMe(s.shape,i,a,o,c):new VMe(s.shape,i,a,o,c);return n.runWebGLProgram(u,[s],s.dtype)},KMe={kernelName:Qw,backendName:"webgl",kernelFunc:GMe};class XMe{constructor(e,n,r,s,i){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=n,this.bias=r,this.alpha=s,this.beta=i,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];

        float result = 0.0;
        for (int d = 0; d < ${this.depth}; ++d) {
          int depthBegin = int(max(0.0, float(d - ${n})));
          int depthEnd = int(min(float(${this.depth}),
              float(d + ${n} + 1)));

          const int MIN_DEPTH_BEGIN = 0;
          const int MAX_DEPTH_END = ${this.depth};

          float norm = 0.0;
          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd) {
              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);
            }
            else {
              break;
            }
          }

          norm = float(${s}) * norm + float(${r});

          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd){
              float dyi = -2.0 * float(${s})
                * float(${i})
                * getInputImage(b, r, c, k) * getOutputImage(b, r, c, d)
                / norm;
              if (k == d) {
                dyi += pow(norm, -1.0 * ${i});
              }
              if (k == coords[3]) {
                dyi *= getDy(b, r, c, d);
                result += dyi;
              }
            }
            else {
              break;
            }
          }
      }
      setOutput(result);
      }
    `}}const YMe=t=>{const{inputs:e,backend:n,attrs:r}=t,{x:s,y:i,dy:a}=e,{depthRadius:o,bias:c,alpha:u,beta:d}=r,f=new XMe(s.shape,o,c,u,d);return n.runWebGLProgram(f,[s,i,a],s.dtype)},JMe={kernelName:fI,backendName:"webgl",kernelFunc:YMe};function ZMe(t,e,n,r){const s=it(e),a=it(t.shape)/s,o=qt({inputs:{x:t},attrs:{shape:[a,s]},backend:r}),c=j0(o,t.dtype,"max",r),u=qt({inputs:{x:c},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(o),r.disposeIntermediateTensorInfo(c),u}function mae(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{reductionIndices:i,keepDims:a}=r,o=s.shape.length,c=hr(i,s.shape);let u=c;const d=Gi(u,o),f=d!=null,h=n.shouldExecuteOnCPU([s]);let m=s;if(f){if(h){const B=n.texData.get(m.dataId).values,k=new Array(o);for(let O=0;O<k.length;O++)k[O]=s.shape[d[O]];const E=M$(B,s.shape,s.dtype,d,k);m=n.makeTensorInfo(k,s.dtype);const N=n.texData.get(m.dataId);N.values=E}else m=GN(s,d,n);u=xa(u.length,o)}Qo("max",u,o);const[g,y]=go(m.shape,u);let x=g;a&&(x=ya(g,c));let v;if(h){const B=n.texData.get(m.dataId).values,k=aLe(B,it(y),x,s.dtype);v=n.makeTensorInfo(x,s.dtype);const E=n.texData.get(v.dataId);E.values=k}else v=ZMe(m,y,x,n);return f&&n.disposeIntermediateTensorInfo(m),v}const e9e={kernelName:Hw,backendName:"webgl",kernelFunc:mae};const t9e=Q$+`
  return max(a, b);
`,n9e=`
  vec4 result = vec4(max(a, b));
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+N0+`
  return result;
`,r9e=Wo({opSnippet:t9e,packedOpSnippet:n9e,cpuKernelImpl:oLe}),s9e={kernelName:Ax,backendName:"webgl",kernelFunc:r9e};function i9e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e;J5(s,"maxPool");const{filterSize:i,strides:a,pad:o,dimRoundingMode:c}=r,u=1;ce(Mo(a,u),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${a} and dilations '${u}'`);const d=od(s.shape,i,a,u,o,c);if(d.filterWidth===1&&d.filterHeight===1&&vr(d.inShape,d.outShape))return Dc({inputs:{x:s},backend:n});const f=new F2(d,"max",!1);return n.runWebGLProgram(f,[s],s.dtype)}const a9e={kernelName:Ww,backendName:"webgl",kernelFunc:i9e};function o9e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{filterSize:i,strides:a,pad:o,dataFormat:c,dimRoundingMode:u}=r,d=[1,1,1],f=Dh(s.shape,i,a,d,o,u,c),h=new W$(f,"max",!1);return n.runWebGLProgram(h,[s],s.dtype)}const l9e={kernelName:Vw,backendName:"webgl",kernelFunc:o9e};class c9e{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const n=e.strideHeight,r=e.strideWidth,s=e.dilationHeight,i=e.effectiveFilterHeight,a=e.effectiveFilterWidth,o=i-1-e.padInfo.top,c=a-1-e.padInfo.left,u=i*a-1;this.userCode=`
      const ivec2 pads = ivec2(${o}, ${c});

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${i};
          wR += ${s}) {
          float dyR = float(dyRCorner + wR) / ${n}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < ${a}; wC++) {
            float dyC = float(dyCCorner + wC) / ${r}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);
            int maxPosValue = ${u} - int(getMaxPos(b, idyR, idyC, d));

            // Get the current value, check it against the value from the
            // position matrix.
            int curPosValue = wR * ${a} + wC;
            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

            dotProd += dyValue * mask;
          }
        }
        setOutput(dotProd);
      }
    `}}class u9e{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const n=e.strideDepth,r=e.strideHeight,s=e.strideWidth,i=e.dilationDepth,a=e.dilationHeight,o=e.dilationWidth,c=e.effectiveFilterDepth,u=e.effectiveFilterHeight,d=e.effectiveFilterWidth,f=c-1-e.padInfo.front,h=u-1-e.padInfo.top,m=d-1-e.padInfo.left,g=c*u*d-1;this.userCode=`
      const ivec3 pads = ivec3(${f}, ${h}, ${m});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < ${c};
           wD += ${i}) {
          float dyD = float(dyDCorner + wD) / ${n}.0;

          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < ${u};
              wR += ${a}) {
            float dyR = float(dyRCorner + wR) / ${r}.0;

            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < ${d};
                wC += ${o}) {
              float dyC = float(dyCCorner + wC) / ${s}.0;

              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);
              int maxPosValue = ${g} -
                  int(getMaxPos(batch, idyD, idyR, idyC, ch));

              // Get the current value, check it against the value from the
              // position matrix.
              int curPosValue =
                  wD * ${u} * ${d} +
                  wR * ${d} + wC;
              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

              dotProd += dyValue * mask;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}function d9e(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,input:i}=e,a=i,{filterSize:o,strides:c,pad:u,dimRoundingMode:d}=r,f=[1,1,1],h=Dh(a.shape,o,c,f,u,d),m=new W$(h,"max",!0),g=n.runWebGLProgram(m,[a],a.dtype),y=new u9e(h),x=n.runWebGLProgram(y,[s,g],a.dtype);return n.disposeIntermediateTensorInfo(g),x}const f9e={kernelName:hI,backendName:"webgl",kernelFunc:d9e};function A9e(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,input:i,output:a}=e,o=i;J5([i,a],"maxPoolGrad");const{filterSize:c,strides:u,pad:d,dimRoundingMode:f}=r,h=od(o.shape,c,u,1,d,f),m=!0,g=new F2(h,"max",m),y=n.runWebGLProgram(g,[o],o.dtype),x=new c9e(h),v=n.runWebGLProgram(x,[s,y],o.dtype);return n.disposeIntermediateTensorInfo(y),v}const h9e={kernelName:AI,backendName:"webgl",kernelFunc:A9e};function p9e(t,e,n,r){let s=new F2(n,"max",!1);const i=r.runWebGLProgram(s,[t],"float32");s=new F2(n,"max",!0,!0,e);const a=r.runWebGLProgram(s,[t],"float32");return[i,a]}const m9e={kernelName:pI,backendName:"webgl",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{x:r}=t,{filterSize:s,strides:i,pad:a,includeBatchInIndex:o}=e,c=n;ce(r.shape.length===4,()=>`Error in maxPool: input must be rank 4 but got rank ${r.shape.length}.`);const u=[1,1];ce(Mo(i,u),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${i} and dilations '${u}'`);const d=od(r.shape,s,i,u,a),[f,h]=p9e(r,o,d,c);return[f,h]}};function g9e(t,e,n,r){const s=it(e),a=it(t.shape)/s,o=qt({inputs:{x:t},attrs:{shape:[a,s]},backend:r}),c=j0(o,"float32","mean",r),u=qt({inputs:{x:c},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(o),r.disposeIntermediateTensorInfo(c),u}const y9e={kernelName:qw,backendName:"webgl",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{x:r}=t,{keepDims:s,axis:i}=e,a=n,o=r.shape.length,c=hr(i,r.shape);let u=c;const d=Gi(u,o),f=d!=null,h=a.shouldExecuteOnCPU([r]),m=[];let g=r;if(f){if(h){const k=a.texData.get(g.dataId).values,E=new Array(o);for(let F=0;F<E.length;F++)E[F]=r.shape[d[F]];const N=M$(k,r.shape,r.dtype,d,E);g=a.makeTensorInfo(E,r.dtype);const O=a.texData.get(g.dataId);O.values=N}else g=GN(r,d,a);m.push(g),u=xa(u.length,o)}Qo("sum",u,o);const[y,x]=go(g.shape,u);let v=y;s&&(v=ya(y,c));const w=g9e(g,x,v,a);for(const B of m)a.disposeIntermediateTensorInfo(B);return w}};function x9e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:a}=r,o=s.shape.length,c=hr(i,s.shape);let u=c;const d=Gi(u,o);let f=s;d!=null&&(f=_l({inputs:{x:s},backend:n,attrs:{perm:d}}),u=xa(u.length,s.shape.length)),Qo("min",u,o);const[h,m]=go(f.shape,u),g=it(m),y=qt({inputs:{x:f},backend:n,attrs:{shape:[-1,g]}}),x=j0(y,y.dtype,"min",n);let v;if(a){const w=ya(h,c);v=qt({inputs:{x},backend:n,attrs:{shape:w}})}else v=qt({inputs:{x},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(x),d!=null&&n.disposeIntermediateTensorInfo(f),v}const b9e={kernelName:Gw,backendName:"webgl",kernelFunc:x9e};const v9e=Q$+`
  return min(a, b);
`,w9e=`
  vec4 result = vec4(min(a, b));
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+N0+`
  return result;
`,S9e=Wo({opSnippet:v9e,packedOpSnippet:w9e,cpuKernelImpl:lLe}),C9e={kernelName:hx,backendName:"webgl",kernelFunc:S9e};class k9e{constructor(e,n,r){this.variableNames=["x"],this.outputShape=n.map((d,f)=>d[0]+e[f]+d[1]);const s=e.length,i=Rs(s),a=n.map(d=>d[0]).join(","),o=n.map((d,f)=>d[0]+e[f]).join(","),c=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,s),u=r==="reflect"?0:1;if(s===1){this.userCode=`
        int start = ${a};
        int end = ${o};

        void main() {
          int outC = getOutputCoords();
          if (outC < start) {
            outC = start * 2 - outC - ${u};
          } else if(outC >= end) {
            outC = (end - 1) * 2 - outC + ${u};
          }
          setOutput(getX(outC - start));
        }
      `;return}this.userCode=`
      ${i} start = ${i}(${a});
      ${i} end = ${i}(${o});

      void main() {
        ${i} outC = getOutputCoords();
        for (int i = 0; i < ${s}; i++) {
          if (outC[i] < start[i]) {
            outC[i] = start[i] * 2 - outC[i] - ${u};
          } else if(outC[i] >= end[i]) {
            outC[i] = (end[i] - 1) * 2 - outC[i] + ${u};
          }
        }
        ${i} coords = outC - start;
        setOutput(getX(${c}));
      }
    `}}class B9e{constructor(e,n,r){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n.map((g,y)=>g[0]+e[y]+g[1]);const s=e.length,i=Rs(s),a=n.map(g=>g[0]).join(","),o=n.map((g,y)=>g[0]+e[y]).join(","),c=Il("rc",s),u=Il("source",s),d=`${c[s-1]} < ${this.outputShape[s-1]}`,f=s===1?"source":`vec2(${u.slice(-2).join()})`,h=r==="reflect"?0:1;let m="";if(s===1){const g=`
        ${i} source = rc;
        if (source < start) {
          source = start * 2 - source - ${h};
        } else if (source >= end) {
          source = (end - 1) * 2 - source + ${h};
        }
        source -= start;
      `;m=`
        ${i} rc = outputLoc;
        ${g}
        result[0] = getChannel(getX(${u.join()}), ${f});
        ${c[s-1]} += 1;
        if(${d}) {
          ${g}
          result[1] = getChannel(getX(${u.join()}), ${f});
        }
      `}else{const g=`
        ${i} source = rc;
        ${i} lt = ${i}(lessThan(source, start));
        ${i} gte = ${i}(greaterThanEqual(source, end));
        ${i} orig = 1 - (lt + gte);
        source = orig * source +
                lt * (start * 2 - source - ${h}) +
                gte * ((end - 1) * 2 - source + ${h});
        source -= start;
      `;m=`
        ${i} rc = outputLoc;
        ${g}
        result[0] = getChannel(getX(${u.join()}), ${f});
        ${c[s-1]} += 1;
        if(${d}) {
          ${g}
          result[1] = getChannel(getX(${u.join()}), ${f});
        }
        rc = outputLoc;
        ${c[s-2]} += 1;
        if(${c[s-2]} < ${this.outputShape[s-2]}) {
          ${g}
          result[2] = getChannel(getX(${u.join()}), ${f});
          ${c[s-1]} += 1;
          if(${d}) {
            ${g}
            result[3] = getChannel(getX(${u.join()}), ${f});
          }
        }
      `}this.userCode=`
      const ${i} start = ${i}(${a});
      const ${i} end = ${i}(${o});

      void main() {
        ${i} outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        ${m}
        setOutput(result);
      }
    `}}const E9e=({inputs:t,backend:e,attrs:n})=>{const{x:r}=t,{paddings:s,mode:i}=n,a=Xe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new B9e(r.shape,s,i):new k9e(r.shape,s,i);return e.runWebGLProgram(a,[r],r.dtype)},I9e={kernelName:Kw,backendName:"webgl",kernelFunc:E9e};const N9e=`if (b == 0.0) return NAN;
  return mod(a, b);`,j9e=`
  vec4 result = mod(a, b);
  bvec4 isNaN = equal(b, vec4(0.0));
  `+N0+`
  return result;
`,T9e=Wo({opSnippet:N9e,packedOpSnippet:j9e}),_9e={kernelName:px,backendName:"webgl",kernelFunc:T9e};class R9e{constructor(e,n,r){this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[e,r],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];

        float r = random(seed);
        float cdf = 0.0;

        for (int i = 0; i < ${n-1}; i++) {
          cdf += getProbs(batch, i);

          if (r < cdf) {
            setOutput(float(i));
            return;
          }
        }

        // If no other event happened, last event happened.
        setOutput(float(${n-1}));
      }
    `}}const O9e=`
if (a == b) {
  return 1.0;
};
return a / b;`,F9e=`
  // vec4 one = vec4(equal(a, b));
  // return one + (vec4(1.0) - one) * a / b;
  vec4 result = a / b;
  if(a.x == b.x) {
    result.x = 1.;
  }
  if(a.y == b.y) {
    result.y = 1.;
  }
  if(a.z == b.z) {
    result.z = 1.;
  }
  if(a.w == b.w) {
    result.w = 1.;
  }

  return result;
`,gae=Wo({opSnippet:O9e,packedOpSnippet:F9e,checkOutOfBounds:!0}),D9e={kernelName:Z1,backendName:"webgl",kernelFunc:gae};const AH="return a - b;",yae=Wo({opSnippet:AH,packedOpSnippet:AH,supportsComplex:!0,cpuKernelImpl:NLe}),L9e={kernelName:Tx,backendName:"webgl",kernelFunc:yae};function xae(t){const{inputs:e,backend:n,attrs:r}=t,{logits:s}=e,{dim:i}=r,a=hr([i],s.shape),o=mae({inputs:{x:s},backend:n,attrs:{reductionIndices:a,keepDims:!1}}),c=ya(o.shape,a),u=qt({inputs:{x:o},backend:n,attrs:{shape:c}}),d=yae({inputs:{a:s,b:u},backend:n}),f=Aae({inputs:{x:d},backend:n}),h=KN({inputs:{x:f},backend:n,attrs:{axis:a,keepDims:!1}}),m=qt({inputs:{x:h},backend:n,attrs:{shape:c}}),g=gae({inputs:{a:f,b:m},backend:n});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),g}const $9e={kernelName:A5,backendName:"webgl",kernelFunc:xae};function P9e(t){const{inputs:e,backend:n,attrs:r}=t,{logits:s}=e,{numSamples:i,seed:a,normalized:o}=r,c=o?s:xae({inputs:{logits:s},backend:n,attrs:{dim:s.shape.length-1}}),u=c.shape[0],d=c.shape[1],f=new R9e(u,d,i),h=[[a]],m=n.runWebGLProgram(f,[c],"int32",h);return o||n.disposeIntermediateTensorInfo(c),m}const U9e={kernelName:mI,backendName:"webgl",kernelFunc:P9e};const z9e=cd+`
  return -x;
`,M9e=`
  vec4 result = -x;
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`;function Q9e(t){const{inputs:e,backend:n}=t,{x:r}=e;if(n.shouldExecuteOnCPU([r])){const i=n.texData.get(r.dataId),[a,o]=uLe(i.values,r.shape,r.dtype);return n.makeTensorInfo(o,r.dtype,a)}let s;return Xe().getBool("WEBGL_PACK_UNARY_OPERATIONS")?s=new $p(r.shape,M9e):s=new Wf(r.shape,z9e),n.runWebGLProgram(s,[r],r.dtype)}const H9e={kernelName:Xw,backendName:"webgl",kernelFunc:Q9e};const W9e=kN;function V9e(t){ru("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:e,backend:n,attrs:r}=t,{boxes:s,scores:i}=e,{maxOutputSize:a,iouThreshold:o,scoreThreshold:c}=r,u=n.readSync(s.dataId),d=n.readSync(i.dataId),{selectedIndices:f}=W9e(u,d,a,o,c);return n.makeTensorInfo([f.length],"int32",new Int32Array(f))}const q9e={kernelName:gI,backendName:"webgl",kernelFunc:V9e};const G9e=BN;function K9e(t){ru("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:e,backend:n,attrs:r}=t,{boxes:s,scores:i}=e,{maxOutputSize:a,iouThreshold:o,scoreThreshold:c,padToMaxOutputSize:u}=r,d=n.readSync(s.dataId),f=n.readSync(i.dataId),{selectedIndices:h,validOutputs:m}=G9e(d,f,a,o,c,u);return[n.makeTensorInfo([h.length],"int32",new Int32Array(h)),n.makeTensorInfo([],"int32",new Int32Array([m]))]}const X9e={kernelName:yI,backendName:"webgl",kernelFunc:K9e};const Y9e=EN;function J9e(t){ru("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:e,backend:n,attrs:r}=t,{boxes:s,scores:i}=e,{maxOutputSize:a,iouThreshold:o,scoreThreshold:c,softNmsSigma:u}=r,d=n.readSync(s.dataId),f=n.readSync(i.dataId),h=a,m=o,g=c,y=u,{selectedIndices:x,selectedScores:v}=Y9e(d,f,h,m,g,y);return[n.makeTensorInfo([x.length],"int32",new Int32Array(x)),n.makeTensorInfo([v.length],"float32",new Float32Array(v))]}const Z9e={kernelName:xI,backendName:"webgl",kernelFunc:J9e};class eQe{constructor(e,n,r,s){this.variableNames=["indices"],this.outputShape=[e,n],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int index = round(getIndices(coords.x));
        setOutput(mix(float(${s}), float(${r}),
                      float(index == coords.y)));
      }
    `}}const tQe=t=>{const{inputs:e,backend:n,attrs:r}=t,{indices:s}=e,{dtype:i,depth:a,onValue:o,offValue:c}=r,u=it(s.shape),d=new eQe(u,a,o,c),f=qt({inputs:{x:s},backend:n,attrs:{shape:[u]}}),h=n.runWebGLProgram(d,[f],i);n.disposeIntermediateTensorInfo(f);const m=[...s.shape,a],g=qt({inputs:{x:h},backend:n,attrs:{shape:m}});return n.disposeIntermediateTensorInfo(h),g},nQe={kernelName:Zw,backendName:"webgl",kernelFunc:tQe};function l4(t){const{inputs:e,backend:n}=t,{x:r}=e;if(r.dtype==="complex64"){const s=eS({inputs:{input:r},backend:n}),i=l4({inputs:{x:s},backend:n}),a=XN({inputs:{input:r},backend:n}),o=l4({inputs:{x:a},backend:n}),c=jm({inputs:{real:i,imag:o},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(o),c}else return tS({attrs:{shape:r.shape,dtype:r.dtype,value:r.dtype==="string"?"":0},backend:n})}const rQe={kernelName:g5,backendName:"webgl",kernelFunc:l4};function bae(t){const{inputs:e,backend:n}=t,{x:r}=e;if(r.dtype==="string")throw new Error("onesLike is not supported under string dtype");if(r.dtype==="complex64"){const s=eS({inputs:{input:r},backend:n}),i=bae({inputs:{x:s},backend:n}),a=XN({inputs:{input:r},backend:n}),o=l4({inputs:{x:a},backend:n}),c=jm({inputs:{real:i,imag:o},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(o),c}else return tS({attrs:{shape:r.shape,dtype:r.dtype,value:1},backend:n})}const sQe={kernelName:Jw,backendName:"webgl",kernelFunc:bae};function iQe(t){const{inputs:e,backend:n,attrs:r}=t,{axis:s}=r;if(e.length===1)return GO({inputs:{input:e[0]},backend:n,attrs:{dim:s}});const i=e[0].shape,a=e[0].dtype;e.forEach(d=>{zo(i,d.shape,"All tensors passed to stack must have matching shapes"),ce(a===d.dtype,()=>"All tensors passed to stack must have matching dtypes")});const o=[],c=e.map(d=>{const f=GO({inputs:{input:d},backend:n,attrs:{dim:s}});return o.push(f),f}),u=iae({inputs:c,backend:n,attrs:{axis:s}});return o.forEach(d=>n.disposeIntermediateTensorInfo(d)),u}const aQe={kernelName:e5,backendName:"webgl",kernelFunc:iQe};class oQe{constructor(e,n,r){this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((u,d)=>u[0]+e[d]+u[1]);const s=e.length,i=Rs(s),a=n.map(u=>u[0]).join(","),o=n.map((u,d)=>u[0]+e[d]).join(","),c=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,s);if(s===1){this.userCode=`
        int start = ${a};
        int end = ${o};

        void main() {
          int outC = getOutputCoords();
          if (outC < start || outC >= end) {
            setOutput(value);
          } else {
            setOutput(getX(outC - start));
          }
        }
      `;return}this.userCode=`
      ${i} start = ${i}(${a});
      ${i} end = ${i}(${o});

      void main() {
        ${i} outC = getOutputCoords();
        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {
          setOutput(value);
        } else {
          ${i} coords = outC - start;
          setOutput(getX(${c}));
        }
      }
    `}}class lQe{constructor(e,n,r){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((y,x)=>y[0]+e[x]+y[1]);const s=e.length,i=Rs(s),a=n.map(y=>y[0]).join(","),o=n.map((y,x)=>y[0]+e[x]).join(","),c=Il("rc",s),u=Il("source",s),d=`${c[s-1]} < ${this.outputShape[s-1]}`,f=s===1?"source":`vec2(${u.slice(-2).join()})`,h=[`${i} rc = outputLoc;`,`${c[s-1]} += 1;
       if(${d}) {
      `,s===1?"":`}
       rc = outputLoc;
       ${c[s-2]} += 1;
       if(${c[s-2]} < ${this.outputShape[s-2]}) {`,s===1?"":`  ${c[s-1]} += 1;
         if(${d}) {`],m=s===1?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))";let g="";for(let y=0,x=s===1?2:4;y<x;y++)g+=`
        ${h[y]}
        if (${m}) {
          result[${y}] = float(value);
        } else {
          ${i} source = rc - start;
          result[${y}] = getChannel(getX(${u.join()}), ${f});
        }
      `;g+=s===1?"} ":"}}",this.userCode=`
      const ${i} start = ${i}(${a});
      const ${i} end = ${i}(${o});

      void main() {
        ${i} outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        ${g}
        setOutput(result);
      }
    `}}const vae=t=>{const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{paddings:i,constantValue:a}=r;if(it(s.shape)===0){const u=i.map((d,f)=>d[0]+s.shape[f]+d[1]);return tS({backend:n,attrs:{shape:u,value:a,dtype:s.dtype}})}const o=Xe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new lQe(s.shape,i,a):new oQe(s.shape,i,a),c=[[a]];return n.runWebGLProgram(o,[s],s.dtype,c)},cQe={kernelName:t5,backendName:"webgl",kernelFunc:vae};const uQe=`
  if(a < 0.0 && floor(b) < b){
    return NAN;
  }
  if (b == 0.0) {
    return 1.0;
  }
  return (round(mod(b, 2.0)) != 1) ?
      pow(abs(a), b) : sign(a) * pow(abs(a), b);
`,dQe=`
  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.
  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));
  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);
  vec4 result = multiplier * pow(abs(a), b);

  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS
  bvec4 isExpZero = equal(b, vec4(0.0));
  result.r = isExpZero.r ? 1.0 : result.r;
  result.g = isExpZero.g ? 1.0 : result.g;
  result.b = isExpZero.b ? 1.0 : result.b;
  result.a = isExpZero.a ? 1.0 : result.a;

  bvec4 isNaN1 = lessThan(a, vec4(0.0));
  bvec4 isNaN2 = lessThan(floor(b), b);
  bvec4 isNaN = bvec4(isNaN1.x && isNaN2.x, isNaN1.y && isNaN2.y, isNaN1.z && isNaN2.z, isNaN1.w && isNaN2.w);
  `+N0+`
  return result;
`,fQe=Wo({opSnippet:uQe,packedOpSnippet:dQe}),AQe={kernelName:gx,backendName:"webgl",kernelFunc:fQe};function hQe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:a}=r,o=s.shape.length,c=[],u=hr(i,s.shape);let d=u;const f=Gi(d,o);let h=s;f!=null&&(h=_l({inputs:{x:s},backend:n,attrs:{perm:f}}),d=xa(d.length,o),c.push(h)),Qo("prod",d,o);let m;if(n.shouldExecuteOnCPU([h])){const g=n.texData.get(h.dataId).values,{outVals:y,outShape:x,outDtype:v}=fLe(h.shape,h.dtype,g,d);m=n.makeTensorInfo(x,v,y)}else{const[g,y]=go(h.shape,d),x=it(y),v=qt({inputs:{x:h},backend:n,attrs:{shape:[-1,x]}}),w=WI(s.dtype),B=j0(v,w,"prod",n);m=qt({inputs:{x:B},backend:n,attrs:{shape:g}}),c.push(v),c.push(B)}if(a){c.push(m);const g=ya(m.shape,u);m=qt({inputs:{x:m},backend:n,attrs:{shape:g}})}return c.forEach(g=>n.disposeIntermediateTensorInfo(g)),m}const pQe={kernelName:r5,backendName:"webgl",kernelFunc:hQe};function mQe(t){const{inputs:e,backend:n,attrs:r}=t,{paramsNestedSplits:s,paramsDenseValues:i,indices:a}=e,{outputRaggedRank:o}=r,c=s.map(v=>n.readSync(v.dataId)),u=s.map(v=>v.shape),d=n.readSync(i.dataId),f=n.readSync(a.dataId),[h,m,g]=ALe(c,u,d,i.shape,i.dtype,f,a.shape,o),y=h.map(v=>n.makeTensorInfo([v.length],"int32",v)),x=n.makeTensorInfo(g,i.dtype,m);return y.concat([x])}const gQe={kernelName:bI,backendName:"webgl",kernelFunc:mQe};function yQe(t){const{inputs:e,backend:n}=t,{starts:r,limits:s,deltas:i}=e,a=n.readSync(r.dataId),o=n.readSync(s.dataId),c=n.readSync(i.dataId),[u,d]=hLe(a,r.shape,r.dtype,o,s.shape,c,i.shape),f=n.makeTensorInfo([u.length],"int32",u),h=n.makeTensorInfo([d.length],r.dtype,d);return[f,h]}const xQe={kernelName:vI,backendName:"webgl",kernelFunc:yQe};function bQe(t){const{inputs:e,backend:n,attrs:r}=t,{shape:s,values:i,defaultValue:a,rowPartitionTensors:o}=e,{rowPartitionTypes:c}=r,u=n.readSync(s.dataId),d=n.readSync(i.dataId),f=n.readSync(a.dataId),h=o.map(x=>n.readSync(x.dataId)),m=o.map(x=>x.shape),[g,y]=pLe(u,s.shape,d,i.shape,i.dtype,f,a.shape,h,m,c);return n.makeTensorInfo(g,i.dtype,y)}const vQe={kernelName:wI,backendName:"webgl",kernelFunc:bQe};const wae=t=>{const{backend:e,attrs:n}=t,{start:r,stop:s,step:i,dtype:a}=n,o=mLe(r,s,i,a);return e.makeTensorInfo([o.length],a,o)},wQe={kernelName:SI,backendName:"webgl",kernelFunc:wae};const SQe="return 1.0 / x;",CQe=qr({opSnippet:SQe}),kQe={kernelName:yx,backendName:"webgl",kernelFunc:CQe};const BQe=cd+`
  return (x < 0.0) ? 0.0 : x;
`,EQe=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,IQe=qr({opSnippet:BQe,packedOpSnippet:EQe}),NQe={kernelName:xx,backendName:"webgl",kernelFunc:IQe};const jQe=cd+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,TQe=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,_Qe=qr({opSnippet:jQe,packedOpSnippet:TQe}),RQe={kernelName:bx,backendName:"webgl",kernelFunc:_Qe};class OQe{constructor(e,n,r,s,i){this.variableNames=["A"],this.outputShape=[];const[a,o,c,u]=e;this.outputShape=[a,n,r,u];const d=[s&&n>1?o-1:o,s&&r>1?c-1:c],f=[s&&n>1?n-1:n,s&&r>1?r-1:r];let h;i?h="(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":h="vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          ${d[0]/f[0]},
          ${d[1]/f[1]});
      const vec2 inputShapeRC = vec2(${o}.0, ${c}.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = ${h};

        // Compute the four integer indices.
        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));
        ivec2 sourceCeilRC = ivec2(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);
        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);
        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);
        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);

        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);

        float top = topLeft + (topRight - topLeft) * fracRC.y;
        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;
        float newValue = top + (bottom - top) * fracRC.x;

        setOutput(newValue);
      }
    `}}class FQe{constructor(e,n,r,s,i){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[a,o,c,u]=e;this.outputShape=[a,n,r,u];const d=[s&&n>1?o-1:o,s&&r>1?c-1:c],f=[s&&n>1?n-1:n,s&&r>1?r-1:r];let h;i?h="(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":h="vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          ${d[0]/f[0]},
          ${d[1]/f[1]},
          ${d[1]/f[1]});
      const vec3 inputShapeRC = vec3(${o}.0, ${c}.0,
                                     ${c}.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = ${h};

        // Compute the four integer indices.
        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));
        ivec3 sourceCeilRC = ivec3(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < ${u-1};
        bool hasNextRow = coords.z < ${r-1};

        // In parallel, construct four corners for all four components in
        // packed 2x2 cell.
        vec4 topLeft = vec4(
          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 bottomLeft = vec4(
          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 topRight = vec4(
          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec4 bottomRight = vec4(
          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);

        vec4 top = mix(topLeft, topRight, fracRC.yyzz);
        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);
        vec4 newValue = mix(top, bottom, fracRC.x);

        setOutput(newValue);
      }
    `}}function DQe(t){const{inputs:e,backend:n,attrs:r}=t,{images:s}=e,{alignCorners:i,halfPixelCenters:a,size:o}=r,[c,u]=o,d=Xe().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new FQe(s.shape,c,u,i,a):new OQe(s.shape,c,u,i,a);return n.runWebGLProgram(d,[s],"float32")}const LQe={kernelName:a5,backendName:"webgl",kernelFunc:DQe};class $Qe{constructor(e,n,r){this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;const[,s,i]=n,[,a,o]=e,c=[r&&a>1?s-1:s,r&&o>1?i-1:i],u=[r&&a>1?a-1:a,r&&o>1?o-1:o],d=c[0]/u[0],f=c[1]/u[1],h=1/d,m=1/f,g=Math.ceil(h)*2+2,y=Math.ceil(m)*2+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(${d});
        const float widthScale = float(${f});

        const float invHeightScale = float(${h});
        const float invWidthScale = float(${m});

        const int winHeight = int(${g});
        const int winWidth = int(${y});

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(startRLerp - float(winHeight / 2));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(startCLerp - float(winWidth / 2));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= ${a}) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= ${o}) {
              continue;
            }

            float dxR = float(dyR) * heightScale;
            int topDxRIndex = int(floor(dxR));
            int bottomDxRIndex = int(min(ceil(dxR), ${s-1}.0));
            float dxRLerp = dxR - float(topDxRIndex);
            float inverseDxRLerp = 1.0 - dxRLerp;

            float dxC = float(dyC) * widthScale;
            int leftDxCIndex = int(floor(dxC));
            int rightDxCIndex = int(min(ceil(dxC), ${i-1}.0));
            float dxCLerp = dxC - float(leftDxCIndex);
            float inverseDxCLerp = 1.0 - dxCLerp;

            if (r == topDxRIndex && c == leftDxCIndex) {
              // topLeft
              accumulator +=
                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;
            }

            if (r == topDxRIndex && c == rightDxCIndex) {
              // topRight
              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;
            }

            if (r == bottomDxRIndex && c == leftDxCIndex) {
              // bottomLeft
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;
            }

            if (r == bottomDxRIndex && c == rightDxCIndex) {
              // bottomRight
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `}}function PQe(t){const{inputs:e,backend:n,attrs:r}=t,{images:s,dy:i}=e,{alignCorners:a}=r,o=new $Qe(i.shape,s.shape,a);return n.runWebGLProgram(o,[i],i.dtype)}const UQe={kernelName:BI,backendName:"webgl",kernelFunc:PQe};class zQe{constructor(e,n,r,s,i){this.variableNames=["A"],this.outputShape=[];const[a,o,c,u]=e;this.outputShape=[a,n,r,u];const d=[s&&n>1?o-1:o,s&&r>1?c-1:c],f=[s&&n>1?n-1:n,s&&r>1?r-1:r],h=s?"0.5":"0.0";let m;i?m="max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":m="vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          ${d[0]/f[0]},
          ${d[1]/f[1]});
      const vec2 inputShapeRC = vec2(${o}.0, ${c}.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = ${m};

        // Compute the coordinators of nearest neighbor point.
        ivec2 sourceNearestRC = ivec2(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${h})));
        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);

        setOutput(newValue);
      }
    `}}class MQe{constructor(e,n,r,s,i){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[a,o,c,u]=e;this.outputShape=[a,n,r,u];const d=[s&&n>1?o-1:o,s&&r>1?c-1:c],f=[s&&n>1?n-1:n,s&&r>1?r-1:r],h=s?"0.5":"0.0";let m;i?m="max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":m="vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          ${d[0]/f[0]},
          ${d[1]/f[1]},
          ${d[1]/f[1]});
      const vec3 inputShapeRC = vec3(${o}.0, ${c}.0,
                                     ${c}.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = ${m};

        // Compute the coordinators of nearest neighbor point.
        ivec3 sourceNearestRC = ivec3(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${h})));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < ${u-1};
        bool hasNextRow = coords.z < ${r-1};

        vec4 newValue = vec4(
          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),
          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);

        setOutput(newValue);
      }
    `}}function QQe(t){const{inputs:e,backend:n,attrs:r}=t,{images:s}=e,{alignCorners:i,halfPixelCenters:a,size:o}=r,[c,u]=o,d=Xe().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new MQe(s.shape,c,u,i,a):new zQe(s.shape,c,u,i,a);return n.runWebGLProgram(d,[s],s.dtype)}const HQe={kernelName:i5,backendName:"webgl",kernelFunc:QQe};class WQe{constructor(e,n,r){this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;const[,s,i]=n,[,a,o]=e,c=[r&&a>1?s-1:s,r&&o>1?i-1:i],u=[r&&a>1?a-1:a,r&&o>1?o-1:o],d=c[0]/u[0],f=c[1]/u[1],h=1/d,m=1/f,g=Math.ceil(h)*2+2,y=Math.ceil(m)*2+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(${d});
        const float widthScale = float(${f});

        const float invHeightScale = float(${h});
        const float invWidthScale = float(${m});

        const int winHeight = int(${g});
        const int winWidth = int(${y});

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(floor(startRLerp - float(winHeight / 2)));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(floor(startCLerp - float(winWidth / 2)));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= ${a}) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= ${o}) {
              continue;
            }

            float sourceFracRow =
              float(${c[0]}) *
                (float(dyR) / float(${u[0]}));

            float sourceFracCol =
                float(${c[1]}) *
                  (float(dyC) / float(${u[1]}));

            int sourceNearestRow = int(min(
                float(int(${s}) - 1),
                ${r} ? float(round(sourceFracRow)) :
                                  float(floor(sourceFracRow))));

            int sourceNearestCol = int(min(
                float(int(${i}) - 1),
                ${r} ? float(round(sourceFracCol)) :
                                  float(floor(sourceFracCol))));

            if (r == sourceNearestRow && c == sourceNearestCol) {
              accumulator += getDy(b, dyR, dyC, d);
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `}}function VQe(t){const{inputs:e,backend:n,attrs:r}=t,{images:s,dy:i}=e,{alignCorners:a}=r,o=new WQe(i.shape,s.shape,a);return n.runWebGLProgram(o,[i],i.dtype)}const qQe={kernelName:kI,backendName:"webgl",kernelFunc:VQe};class GQe{constructor(e,n){this.variableNames=["x"];const r=e.length;if(r>4)throw new Error(`WebGL backend: Reverse of rank-${r} tensor is not yet supported`);if(this.outputShape=e,r===1){this.userCode=`
        void main() {
          int coord = getOutputCoords();
          setOutput(getX(${e[0]} - coord - 1));
        }
      `;return}const s=o=>n.indexOf(o)!==-1&&e[o]!==1?`${e[o]} - coords[${o}] - 1`:`coords[${o}]`,i=e.map((o,c)=>s(c)).join(","),a=Rs(r);this.userCode=`
      void main() {
        ${a} coords = getOutputCoords();
        setOutput(getX(${i}));
      }
    `}}class KQe{constructor(e,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;const r=e.length;if(r>4)throw new Error(`WebGL backend: Reverse of rank-${r} tensor is not yet supported`);this.outputShape=e;const s=Il("rc",r),i=`${s[r-1]} + 1 < ${this.outputShape[r-1]}`,a=`${s[r-2]} + 1 < ${this.outputShape[r-2]}`,o=Rs(r);r===1?this.userCode=`
        void main(){
          int rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = getChannel(getX(${e[0]} - rc - 1),
            ${e[0]} - rc - 1);
          if(${i}){
              result.g = getChannel(getX(${e[0]} - (rc  + 1) - 1),
                ${e[0]} - (rc  + 1) - 1);
          }
          setOutput(result);
        }
      `:this.userCode=`
        void main() {
          ${o} rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = ${c(s.slice())};
          if(${i}){
            result.g = ${u(s.slice())};
          }
          if(${a}) {
            result.b = ${d(s.slice())};
            if(${i}) {
              result.a = ${f(s.slice())};
            }
          }
          setOutput(result);
        }
    `;function c(g){return h(g)}function u(g){return g[r-1]="("+g[r-1]+" + 1)",h(g)}function d(g){return g[r-2]="("+g[r-2]+" + 1)",h(g)}function f(g){return g[r-1]="("+g[r-1]+" + 1)",g[r-2]="("+g[r-2]+" + 1)",h(g)}function h(g){const y=e.map((w,B)=>m(B,g)),x=y.join(","),v=y.slice(-2).join(",");return`getChannel(getX(${x}), vec2(${v}))`}function m(g,y){return n.indexOf(g)!==-1&&e[g]!==1?`${e[g]} - ${y[g]} - 1`:`${y[g]}`}}}function XQe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{dims:i}=r,a=s.shape.length,o=hr(i,s.shape);if(a===0)return Dc({inputs:{x:s},backend:n});const c=Xe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new KQe(s.shape,o):new GQe(s.shape,o);return n.runWebGLProgram(c,[s],s.dtype)}const YQe={kernelName:o5,backendName:"webgl",kernelFunc:XQe};class JQe{constructor(e,n){this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];const r=e[1],s=e[2];this.outputShape=e;let i="";typeof n=="number"?i=`float outputValue = ${n.toFixed(2)};`:i=`
        vec3 fill = vec3(${n.join(",")});
        float outputValue = fill[coords[3]];`,this.userCode=`
        void main() {
          ivec4 coords = getOutputCoords();
          int x = coords[2];
          int y = coords[1];
          float coordXFloat = (float(x) - params[0]) * params[3] -
            (float(y) - params[1]) * params[2];
          float coordYFloat = (float(x) - params[0]) * params[2] +
            (float(y) - params[1]) * params[3];
          int coordX = int(round(coordXFloat + params[0]));
          int coordY = int(round(coordYFloat + params[1]));
          ${i}
          if(coordX >= 0 && coordX < ${s} && coordY >= 0 && coordY < ${r}) {
            outputValue = getImage(coords[0], coordY, coordX, coords[3]);
          }
          setOutput(outputValue);
        }
    `}}const ZQe={kernelName:QI,backendName:"webgl",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{image:r}=t,{radians:s,fillValue:i,center:a}=e,o=n,c=new JQe(r.shape,i),[u,d]=zL(a,r.shape[1],r.shape[2]),f=[[u,d,Math.sin(s),Math.cos(s)]];return o.runWebGLProgram(c,[r],r.dtype,f)}};const e7e=`
  // OpenGL ES does not support round function.
  // The algorithm is based on banker's rounding.
  float base = floor(x);
  if ((x - base) < 0.5) {
    return floor(x);
  } else if ((x - base) > 0.5) {
    return ceil(x);
  } else {
    if (mod(base, 2.0) == 0.0) {
      return base;
    } else {
      return base + 1.0;
    }
  }
`,t7e=qr({opSnippet:e7e}),n7e={kernelName:vx,backendName:"webgl",kernelFunc:t7e};const r7e="return inversesqrt(x);",s7e=qr({opSnippet:r7e,cpuKernelImpl:gLe}),i7e={kernelName:wx,backendName:"webgl",kernelFunc:s7e};class V${constructor(e,n,r,s,i,a,o=!0,c=!1){this.variableNames=["updates","indices","defaultValue"],this.outputShape=a;const u=Rs(i.length),d=Rs(a.length);let f="";r===1?f="i":r===2&&(f="i, j");const h=`getIndices(${f})`;let m="";s===1?m="i":s===2&&(m="i, coords[1]");const g=`getUpdates(${m})`;let y="";c&&(y="coords[0], coords[1]");const x=`getDefaultValue(${y})`,v=n>1?"strides[j]":"strides";this.userCode=`
        ${u} strides = ${u}(${i});

        void main() {
          ${d} coords = getOutputCoords();
          float sum = 0.0;
          bool found = false;
          for (int i = 0; i < ${e}; i++) {
            int flattenedIndex = 0;
            for (int j = 0; j < ${n}; j++) {
              int index = round(${h});
              flattenedIndex += index * ${v};
            }
            if (flattenedIndex == coords[0]) {
              sum += ${g};
              found = true;
            }
          }
          setOutput(mix(${x}, sum, float(found)));
        }
      `}}class a7e{constructor(e,n,r,s,i,a,o=!0,c=!1){this.variableNames=["updates","indices","defaultValue"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=a;const u=Rs(i.length),d=Rs(a.length);let f="";r===1?f="i":r===2&&(f="i, j");const h=`getIndices(${f})`;let m="";s===1?m="i":s===2&&(m="i, coords[1]");const g=`getUpdates(${m})`;let y="";c&&(y="coords[0], coords[1]");const x=`getDefaultValue(${y})`,v=n>1?"strides[j]":"strides",w=n>1?"strides[j + 1]":"strides";this.userCode=`
        ${u} strides = ${u}(${i});

        void main() {
          ${d} coords = getOutputCoords();
          vec4 sum = vec4(0.);
          vec4 found = vec4(0.);
          for (int i = 0; i < ${e}; i+=2) {
            ivec2 flattenedIndex = ivec2(0);
            for (int j = 0; j < ${n}; j+=2) {
              ivec4 index = round(${h});
              flattenedIndex += index.xz * ${v};
              if (j + 1 < ${n}) {
                flattenedIndex += index.yw * ${w};
              }
            }
            if (flattenedIndex[0] == coords[0] || flattenedIndex[1] == coords[0] ||
                flattenedIndex[0] == coords[0] + 1 || flattenedIndex[1] == coords[0] + 1) {
              vec4 updVals = ${g};
              if (flattenedIndex[0] == coords[0]) {
                sum.xy += updVals.xy;
                found.xy = vec2(1.);
              } else if (flattenedIndex[0] == coords[0] + 1) {
                sum.zw += updVals.xy;
                found.zw = vec2(1.);
              }
              if (flattenedIndex[1] == coords[0]) {
                sum.xy += updVals.zw;
                found.xy = vec2(1.);
              } else if (flattenedIndex[1] == coords[0] + 1) {
                sum.zw += updVals.zw;
                found.zw = vec2(1.);
              }
            }
          }
          setOutput(mix(${x}, sum, found));
        }
      `}}function o7e(t){const{inputs:e,backend:n,attrs:r}=t,{indices:s,updates:i}=e,{shape:a}=r,{sliceRank:o,numUpdates:c,sliceSize:u,strides:d,outputSize:f}=Em(i,s,a),h=[f/u,u];if(f===0)return n.makeTensorInfo(a,s.dtype);const m=qt({inputs:{x:s},backend:n,attrs:{shape:[c,o]}}),g=qt({inputs:{x:i},backend:n,attrs:{shape:[c,u]}}),y=n.makeTensorInfo([],"float32",new Float32Array([0]));let x;Xe().getBool("WEBGL_PACK")?x=new a7e(c,o,m.shape.length,g.shape.length,d,h):x=new V$(c,o,m.shape.length,g.shape.length,d,h);const v=n.runWebGLProgram(x,[g,m,y],g.dtype),w=qt({inputs:{x:v},backend:n,attrs:{shape:a}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(y),w}const l7e={kernelName:EI,backendName:"webgl",kernelFunc:o7e};class c7e{constructor(e,n,r,s){this.variableNames=["sortedSequence","values"],this.customUniforms=[{name:"numInputs",type:"int"}],this.outputShape=[e,r];const i="while (left < right) {",a=`for (int i = 0; i < ${Math.ceil(Math.log2(n+1))}; ++i) { if (left >= right) break;`,o=Xe().getNumber("WEBGL_VERSION")===2?i:a,c=s==="left"?"<":"<=";this.userCode=`
       int findBound(int batch, float value) {
         int left = 0;
         int right = numInputs;
         int mid;
         ${o}
           mid = (left + right) / 2;
           if (getSortedSequence(batch, mid) ${c} value) {
             left = mid + 1;
           } else {
             right = mid;
           }
         }
         return right;
       }

       void main() {
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int valueIndex = coords[1];

         float value = getValues(batch, valueIndex);

         setOutput(float(findBound(batch, value)));
       }
     `}}function u7e(t){const{inputs:e,backend:n,attrs:r}=t,{sortedSequence:s,values:i}=e,{side:a}=r,o=new c7e(s.shape[0],s.shape[1],i.shape[1],a),c=[[s.shape[1]]];return n.runWebGLProgram(o,[s,i],"int32",c)}const d7e={kernelName:NI,backendName:"webgl",kernelFunc:u7e};class f7e{constructor(e,n,r){this.variableNames=["c","a","b"],this.outputShape=n;let s,i;if(r>4)throw Error(`Where for rank ${r} is not yet supported`);if(r===1)i="resRC",s="resRC";else{const o=["resRC.x","resRC.y","resRC.z","resRC.w"],c=[],u=[];for(let d=0;d<n.length;d++)u.push(`${o[d]}`),d<e&&c.push(`${o[d]}`);s=c.join(),i=u.join()}const a=Rs(r);this.userCode=`
      void main() {
        ${a} resRC = getOutputCoords();
        float cVal = getC(${s});
        if (cVal >= 1.0) {
          setOutput(getA(${i}));
        } else {
          setOutput(getB(${i}));
        }
      }
    `}}function A7e(t){const{inputs:e,backend:n}=t,{condition:r,t:s,e:i}=e,a=new f7e(r.shape.length,s.shape,s.shape.length);return n.runWebGLProgram(a,[r,s,i],Kl(s.dtype,i.dtype))}const h7e={kernelName:l5,backendName:"webgl",kernelFunc:A7e};const p7e=`
  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.
  // see: https://arxiv.org/abs/1706.02515
  float scaleAlpha = ${_N};
  float scale = ${RN};
  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);
`,m7e=qr({opSnippet:p7e}),g7e={kernelName:Sx,backendName:"webgl",kernelFunc:m7e};const y7e=Xx+`
  return 1.0 / (1.0 + exp(-1.0 * x));
`,x7e=`
  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,b7e=qr({opSnippet:y7e,packedOpSnippet:x7e,cpuKernelImpl:xLe}),v7e={kernelName:Ex,backendName:"webgl",kernelFunc:b7e};const w7e=`
  if (isnan(x)) { return 0.0; }
  return sign(x);
`,S7e=qr({opSnippet:w7e}),C7e={kernelName:Bx,backendName:"webgl",kernelFunc:S7e};const k7e=Xx+`
  return sin(x);
`,B7e=`
  vec4 result = sin(x);
  bvec4 isNaN = isnan(x);
  ${N0}
  return result;
`,E7e=qr({opSnippet:k7e,packedOpSnippet:B7e}),I7e={kernelName:Cx,backendName:"webgl",kernelFunc:E7e};const N7e=`
  float e2x = exp(x);
  return (e2x - 1.0 / e2x) / 2.0;
`,j7e=qr({opSnippet:N7e}),T7e={kernelName:kx,backendName:"webgl",kernelFunc:j7e};const _7e=`
  float epsilon = 1.1920928955078125e-7;
  float threshold = log(epsilon) + 2.0;

  bool too_large = x > -threshold;
  bool too_small = x < threshold;

  float result;
  float exp_x = exp(x);

  if (too_large){
    result = x;
  }
  else if (too_small){
    result = exp_x;
  }
  else{
    result = log(exp_x + 1.0);
  }
  return result;
`,R7e=qr({opSnippet:_7e}),O7e={kernelName:Ix,backendName:"webgl",kernelFunc:R7e};const F7e=t=>{const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{blockShape:i,paddings:a}=r;ce(s.shape.length<=4,()=>"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet");const o=i.reduce((v,w)=>v*w),c=[[0,0]];c.push(...a);for(let v=1+i.length;v<s.shape.length;++v)c.push([0,0]);const u=[],d=vae({inputs:{x:s},backend:n,attrs:{paddings:c,constantValue:0}}),f=P5(d.shape,i,o,!1),h=U5(f.length,i.length,!1),m=z5(d.shape,i,o,!1),g=qt({inputs:{x:d},backend:n,attrs:{shape:f}}),y=_l({inputs:{x:g},backend:n,attrs:{perm:h}}),x=qt({inputs:{x:y},backend:n,attrs:{shape:m}});return u.push(d),u.push(g),u.push(y),u.forEach(v=>n.disposeIntermediateTensorInfo(v)),x},D7e={kernelName:d5,backendName:"webgl",kernelFunc:F7e};function L7e(t){const{inputs:e,backend:n}=t,{indices:r,values:s,denseShape:i,defaultValue:a}=e;if(i.shape.length!==1)throw new Error(`Dense shape must be a vector, saw:
         ${i.shape}`);if(r.shape.length!==2)throw new Error(`Indices must be a matrix, saw:
         ${r.shape}`);if(s.shape.length!==1)throw new Error(`Values must be a vector, saw:
         ${s.shape}`);if(a.shape.length!==0)throw new Error(`Default value must be a scalar, saw:
        ${a.shape}`);const o=n.readSync(r.dataId),c=n.readSync(s.dataId),u=n.readSync(i.dataId),d=n.readSync(a.dataId)[0],[f,h,m,g,y]=vLe(o,r.shape,r.dtype,c,s.dtype,u,d);return[n.makeTensorInfo(h,r.dtype,f),n.makeTensorInfo([h[0]],s.dtype,m),n.makeTensorInfo([g.length],"bool",new Uint8Array(g.map(x=>Number(x)))),n.makeTensorInfo([y.length],r.dtype,new Int32Array(y))]}const $7e={kernelName:jI,backendName:"webgl",kernelFunc:L7e};function P7e(t){const{inputs:e,backend:n}=t,{inputIndices:r,inputShape:s,newShape:i}=e;if(r.shape.length!==2)throw new Error(`Input indices should be a matrix but received shape ${r.shape}`);if(s.shape.length!==1)throw new Error(`Input shape should be a vector but received shape ${s.shape}`);if(i.shape.length!==1)throw new Error(`Target shape should be a vector but received shape ${i.shape}`);const a=Array.from(n.readSync(s.dataId)),o=n.readSync(r.dataId),c=Array.from(n.readSync(i.dataId)),[u,d,f]=wLe(o,r.shape,r.dtype,a,c);return[n.makeTensorInfo(d,r.dtype,u),n.makeTensorInfo([f.length],i.dtype,new Int32Array(f))]}const U7e={kernelName:TI,backendName:"webgl",kernelFunc:P7e};function z7e(t){const{inputs:e,backend:n}=t,{data:r,indices:s,segmentIds:i}=e;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.shape.length!==1)throw new Error(`Indices should be a vector but received shape
              ${s.shape}`);if(i.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
              ${i.shape}`);const a=n.readSync(r.dataId),o=n.readSync(s.dataId),c=n.readSync(i.dataId),[u,d]=Vie(a,r.shape,r.dtype,o,c,!0);return n.makeTensorInfo(d,r.dtype,u)}const M7e={kernelName:_I,backendName:"webgl",kernelFunc:z7e};function Q7e(t){const{inputs:e,backend:n}=t,{data:r,indices:s,segmentIds:i}=e;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.shape.length!==1)throw new Error(`Indices should be a vector but received shape
             ${s.shape}`);if(i.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
             ${i.shape}`);const a=n.readSync(r.dataId),o=n.readSync(s.dataId),c=n.readSync(i.dataId),[u,d]=Vie(a,r.shape,r.dtype,o,c);return n.makeTensorInfo(d,r.dtype,u)}const H7e={kernelName:RI,backendName:"webgl",kernelFunc:Q7e};function W7e(t){const{inputs:e,backend:n,attrs:r}=t,{sparseIndices:s,sparseValues:i,defaultValue:a}=e,{outputShape:o}=r,{sliceRank:c,numUpdates:u,sliceSize:d,strides:f,outputSize:h}=Em(i,s,o),m=!1;if(i.dtype==="string"){const v=n.bufferSync(s),w=n.bufferSync(i),B=bh(n.readSync(a.dataId)[0]),k=yLe(v,w,o,h,d,u,c,f,B,m);return n.makeTensorInfo(o,k.dtype,k.values)}const g=new V$(u,c,s.shape.length,i.shape.length,f,[h,1],m),y=n.runWebGLProgram(g,[i,s,a],i.dtype),x=qt({inputs:{x:y},backend:n,attrs:{shape:o}});return n.disposeIntermediateTensorInfo(y),x}const V7e={kernelName:OI,backendName:"webgl",kernelFunc:W7e};function q7e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{numOrSizeSplits:i,axis:a}=r,o=hr(a,s.shape)[0],c=n$(s,i,o),u=s.shape.length,d=new Array(u).fill(0),f=s.shape.slice();return c.map(h=>{const m=[...f];m[o]=h;const g=Yx({inputs:{x:s},backend:n,attrs:{begin:d,size:m}});return d[o]+=h,g})}const G7e={kernelName:f5,backendName:"webgl",kernelFunc:q7e};const hH="return sqrt(x);",K7e=qr({opSnippet:hH,packedOpSnippet:hH,cpuKernelImpl:SLe}),X7e={kernelName:Nx,backendName:"webgl",kernelFunc:K7e};const Y7e="return x * x;",J7e=qr({opSnippet:Y7e}),Z7e={kernelName:FI,backendName:"webgl",kernelFunc:J7e};const pH="return (a - b) * (a - b);",eHe=Wo({opSnippet:pH,packedOpSnippet:pH}),tHe={kernelName:jx,backendName:"webgl",kernelFunc:eHe};function nHe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e;if(s.dtype!=="string")throw new Error("Input must be of datatype string");const i=n.readSync(s.dataId),a=Ch(i),o=CLe(a,"string",r);return n.makeTensorInfo(s.shape,"string",o)}const rHe={kernelName:h5,backendName:"webgl",kernelFunc:nHe};function sHe({inputs:t,attrs:e,backend:n}){const{x:r}=t,s=cd+`
    return x > 0.0 ? 1.0 : float(${e.alpha});
  `,i=new Wf(r.shape,s);return n.runWebGLProgram(i,[r],r.dtype)}const iHe={kernelName:Fx,backendName:"webgl",kernelFunc:sHe};class aHe{constructor(e,n,r){this.variableNames=["x"],this.outputShape=r;const s=r.length,i=Rs(r.length),a=Rs(r.length);let o="";if(s===1)o="coords * strides + begin";else{let c=0;o=r.map((u,d)=>(c++,r.length===1?`coords * strides[${d}] + begin[${d}]`:`coords[${c-1}] * strides[${d}] + begin[${d}]`)).join(",")}this.userCode=`
      ${i} begin = ${i}(${e});
      ${i} strides = ${i}(${n});

      void main() {
        ${a} coords = getOutputCoords();
        setOutput(getX(${o}));
      }
    `}}function oHe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{begin:i,end:a,strides:o,beginMask:c,endMask:u,ellipsisMask:d,newAxisMask:f,shrinkAxisMask:h}=r,{finalShapeSparse:m,finalShape:g,isIdentity:y,sliceDim0:x,isSimpleSlice:v,begin:w,end:B,strides:k}=LL(s.shape,i,a,o,c,u,d,f,h);let E;if(y)E=qt({inputs:{x:s},backend:n,attrs:{shape:g}});else if(x||v){ce(s.shape.length>=1,()=>`Input must have rank at least 1, got: ${s.shape.length}`);const O=OL(w,B,k),F=Yx({inputs:{x:s},backend:n,attrs:{begin:w,size:O}});E=qt({inputs:{x:F},backend:n,attrs:{shape:g}}),n.disposeIntermediateTensorInfo(F)}else if(n.shouldExecuteOnCPU([s])){const F=n.readSync(s.dataId),D=cr(s.shape,s.dtype,F),T=kLe(m,D,k,w);E=n.makeTensorInfo(g,s.dtype,T.values)}else{const F=new aHe(w,k,m);E=n.runWebGLProgram(F,[s],s.dtype)}const N=qt({inputs:{x:E},backend:n,attrs:{shape:g}});return n.disposeIntermediateTensorInfo(E),N}const lHe={kernelName:DI,backendName:"webgl",kernelFunc:oHe};function cHe(t){const{inputs:e,backend:n,attrs:r}=t,{separator:s,nGramWidths:i,leftPad:a,rightPad:o,padWidth:c,preserveShortSequences:u}=r,{data:d,dataSplits:f}=e,h=n.readSync(d.dataId),m=n.readSync(f.dataId),[g,y]=BLe(h,m,s,i,a,o,c,u);return[n.makeTensorInfo([g.length],"string",g),n.makeTensorInfo(f.shape,"int32",y)]}const uHe={kernelName:LI,backendName:"webgl",kernelFunc:cHe};function dHe(t){const{inputs:e,backend:n,attrs:r}=t,{skipEmpty:s}=r,{input:i,delimiter:a}=e;if(i.dtype!=="string")throw new Error("Input must be of datatype string");if(i.shape.length!==1)throw new Error(`Input must be a vector, got shape: ${i.shape}`);if(a.shape.length!==0)throw new Error(`Delimiter must be a scalar, got shape: ${a.shape}`);const o=n.readSync(i.dataId),c=n.readSync(a.dataId)[0],[u,d,f]=ELe(o,c,s),h=d.length;return[n.makeTensorInfo([h,2],"int32",u),n.makeTensorInfo([h],"string",d),n.makeTensorInfo([2],"int32",new Int32Array(f))]}const fHe={kernelName:$I,backendName:"webgl",kernelFunc:dHe};function AHe(t){const{inputs:e,backend:n,attrs:r}=t,{numBuckets:s}=r,{input:i}=e;if(i.dtype!=="string")throw new Error("Input must be of datatype string");if(s<=0)throw new Error("Number of buckets must be at least 1");const a=n.readSync(i.dataId),o=ILe(a,s);return n.makeTensorInfo(i.shape,"int32",o)}const hHe={kernelName:PI,backendName:"webgl",kernelFunc:AHe};const pHe="return tan(x);",mHe=qr({opSnippet:pHe}),gHe={kernelName:_x,backendName:"webgl",kernelFunc:mHe};const yHe=`
  float e2x = exp(-2.0 * abs(x));
  return sign(x) * (1.0 - e2x) / (1.0 + e2x);
`,xHe=qr({opSnippet:yHe}),bHe={kernelName:Rx,backendName:"webgl",kernelFunc:xHe};function vHe(t){const{inputs:e,backend:n,attrs:r}=t,{tensor:s,indices:i,updates:a}=e,{sliceRank:o,numUpdates:c,sliceSize:u,strides:d,outputSize:f}=Em(a,i,s.shape),h=[f/u,u];if(f===0)return n.makeTensorInfo(s.shape,i.dtype);const m=qt({inputs:{x:i},backend:n,attrs:{shape:[c,o]}}),g=qt({inputs:{x:a},backend:n,attrs:{shape:[c,u]}}),y=qt({inputs:{x:s},backend:n,attrs:{shape:h}}),x=new V$(c,o,m.shape.length,g.shape.length,d,h,!1,!0),v=n.runWebGLProgram(x,[g,m,y],y.dtype),w=qt({inputs:{x:v},backend:n,attrs:{shape:s.shape}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(v),w}const wHe={kernelName:II,backendName:"webgl",kernelFunc:vHe};class SHe{constructor(e,n){this.variableNames=["A"];const r=new Array(e.length);for(let a=0;a<r.length;a++)r[a]=e[a]*n[a];this.outputShape=r,this.rank=r.length;const s=Rs(this.rank),i=CHe(e);this.userCode=`
      void main() {
        ${s} resRC = getOutputCoords();
        setOutput(getA(${i}));
      }
    `}}function CHe(t){const e=t.length;if(e>5)throw Error(`Tile for rank ${e} is not yet supported`);if(e===1)return`imod(resRC, ${t[0]})`;const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[];for(let s=0;s<t.length;s++)r.push(`imod(${n[s]}, ${t[s]})`);return r.join()}function Sae(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{reps:i}=r;if(s.dtype==="string"||s.shape.length>5){const c=n.readSync(s.dataId),u=s.dtype==="string"?c.map(h=>bh(h)):c,d=cr(s.shape,s.dtype,u),f=jLe(d,i);return n.makeTensorInfo(f.shape,f.dtype,f.values)}const a=new SHe(s.shape,i);return n.runWebGLProgram(a,[s],s.dtype)}const kHe={kernelName:Ox,backendName:"webgl",kernelFunc:Sae};class BHe{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=e,this.userCode=`
       void main() {
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int elemIdx = coords[1];

         // We compare elements pair-wise within a group of size 2 * inc.
         // The comparing rule for each group alternates between ascending
         // and descending. Within each group, we compare each pair at
         // positions i and i+inc. To decide whether an element at position i
         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than
         // inc, it is in the first half of the group, we denote it as x0,
         // otherwise we denote it as x1.
         // For example, as shown in the Bitonic top K paper referenced above,
         // Figure5(a) shows that element[1] is in the
         // second half of the group when group size is 2, but it is in the
         // first half of the group when group size is 4.

         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;
         int i = isFirstInPair ? elemIdx : elemIdx - inc;

         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));
         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));
         float x0 = i0 < n ? getX(batch, i0) : negativeInf;
         float x1 = i1 < n ? getX(batch, i1) : negativeInf;

         // Denotes which direction indices are in (ascending or descending).
         bool reverse = imod(elemIdx, 2 * dir) >= dir;
         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);
         if (reverse == isGreater) { // Elements in opposite order of direction
           int iTemp = i0;
           i0 = i1;
           i1 = iTemp;
         }
         if (isFirstInPair) {
            setOutput(float(i0));
         } else {
            setOutput(float(i1));
         }
       }
     `}}class EHe{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=e,this.userCode=`
    void main() {
         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int elemIdx = coords[1];

         // The output size is half of the previous size.
         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),
         // we only need to output the indices at positions |, the indices at
         // positions _ can be thrown away, see Figure5(b) After Phase 2
         // (Merge phase) in the Bitonic Top K paper referenced above.
         // For example, the paper shows we only need to output the orange bars.
         // The output sequence should look like this | | | | | | | |.
         // Because the sequence is halved, to map the output index back
         // to the previous sequence to find the corresponding value,
         // we need to double the index. When we double the index,
         // we basically interpolate a position, so 2i looks like
         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position
         // of each 2k positions by - elemIdx % k. E.g. for output at
         // index 4,5,6,7, we want to get the corresponding element at
         // original index 8,9,10,11, for output at index 8,9,10,11,
         // we want to get the corresponding element at original index
         // 16,17,18,19, so on and so forth.

         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));
         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));
         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));

         float x0 = getX(batch, i0);
         float x1 = i1 < n ? getX(batch, i1) : x0;

         setOutput(x0 >= x1 ? float(i0) : float(i1));
       }
     `}}function Jm(t,e){e!==null&&t.disposeIntermediateTensorInfo(e)}function mH(t){let e=1;for(;e<t;)e*=2;return e}function IHe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{k:i,sorted:a}=r,o=Xe().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),c=Xe().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),u=s.shape,d=u[u.length-1];if(n.shouldExecuteOnCPU([s])||d<o||i>c){const T=n.readSync(s.dataId),[j,P]=TLe(T,u,s.dtype,i,a);return[n.makeTensorInfo(j.shape,j.dtype,j.values),n.makeTensorInfo(P.shape,P.dtype,P.values)]}if(i===0)return u[u.length-1]=0,[n.makeTensorInfo(u,s.dtype,[]),n.makeTensorInfo(u,"int32",[])];if(d===1)return[s,tS({attrs:{shape:u,dtype:"int32",value:0},backend:n})];const f=n.texData.get(s.dataId),h=f!==null&&f.isPacked,m=h?n.unpackTensor(s):s,y=it(u)/d,x=qt({inputs:{x:m},attrs:{shape:[y,d]},backend:n});h&&Jm(n,m);const v=mH(i),w=mH(d);let B=null;const k=()=>B===null?[x,x]:[x,B],E=(T,j,P)=>{const U=k(),z=new BHe(P),q=[[d],[B===null?1:0],[Number.NEGATIVE_INFINITY],[T],[j]],Z=B;B=n.runWebGLProgram(z,U,"int32",q),Jm(n,Z)};for(let T=1;T<v;T*=2){const j=T*2;for(let P=T;P>=1;P/=2)E(j,P,[y,w])}for(let T=w;T>v;T/=2){const j=k(),P=new EHe([y,T/2]),z=[[d],[B===null?1:0],[v]],ee=B;B=n.runWebGLProgram(P,j,"int32",z),Jm(n,ee);const q=v/2,Z=q*2;for(let G=q;G>=1;G/=2)E(Z,G,B.shape)}let N=B;B=Yx({inputs:{x:B},backend:n,attrs:{begin:0,size:[y,i]}}),Jm(n,N);let O=pae({inputs:{x,indices:B},backend:n,attrs:{axis:1,batchDims:1}});Jm(n,x);const F=u.slice(0,-1);F.push(i),N=B,B=qt({inputs:{x:B},attrs:{shape:F},backend:n}),Jm(n,N);const D=O;return O=qt({inputs:{x:O},attrs:{shape:F},backend:n}),Jm(n,D),[O,B]}const NHe={kernelName:UI,backendName:"webgl",kernelFunc:IHe};class jHe{constructor(e,n,r,s,i,a){this.variableNames=["Image","Transforms"],this.outputShape=a;const o=r==="nearest"?1:2;let c;switch(s){case"constant":c=1;break;case"reflect":c=2;break;case"wrap":c=3;break;case"nearest":c=4;break;default:c=1;break}this.userCode=`
            float mapCoord(float outCoord, float len) {
              float inCoord = outCoord;
              if(${c} == 2) {
                if (inCoord < 0.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz2 = 2.0 * len;
                    if (inCoord < sz2) {
                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +
                      inCoord;
                    }
                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;
                  }
                } else if (inCoord > len - 1.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz2 = 2.0 * len;
                    inCoord -= sz2 * float(int(float(inCoord / sz2)));
                    if (inCoord >= len) {
                      inCoord = sz2 - inCoord - 1.0;
                    }
                  }
                }
                return clamp(inCoord, 0.0, len - 1.0);
              } else if (${c} == 3) {
                if (inCoord < 0.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz = len - 1.0;
                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);
                  }
                } else if (inCoord > len - 1.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz = len - 1.0;
                    inCoord -= len * float(int(float(inCoord / sz)));
                  }
                }
                return clamp(inCoord, 0.0, len - 1.0);
              } else if (${c} == 4) {
                return clamp(outCoord, 0.0, len - 1.0);
              } else {
                return outCoord;
              }
            }

            float readWithFillValue(int batch, int coordY, int coordX,
              int channel) {
              float outputValue;
              if (0 <= coordY && coordY < ${e} && 0 <= coordX && coordX < ${n}) {
                  outputValue = getImage(batch, coordY, coordX, channel);
              } else {
                outputValue = float(${i});
              }
              return outputValue;
            }

            void main() {
              ivec4 coords = getOutputCoords();
              float outputValue;
              int batch = coords[0];
              int x = coords[2];
              int y = coords[1];
              int channel = coords[3];
              float xf = float(x);
              float yf = float(y);
              float a1 = getTransforms(batch, 0);
              float a2 = getTransforms(batch, 1);
              float a3 = getTransforms(batch, 2);
              float b1 = getTransforms(batch, 3);
              float b2 = getTransforms(batch, 4);
              float b3 = getTransforms(batch, 5);
              float c1 = getTransforms(batch, 6);
              float c2 = getTransforms(batch, 7);
              float projection = c1 * xf + c2 * yf + 1.0;
              if (projection == 0.0) {
                outputValue = float(${i});
              } else {
                float inX = (a1 * xf + a2 * yf + a3) / projection;
                float inY = (b1 * xf + b2 * yf + b3) / projection;
                float mapX = mapCoord(inX, float(${n}));
                float mapY = mapCoord(inY, float(${e}));

                if (${o} == 1) {
                  int coordY = int(round(mapY));
                  int coordX = int(round(mapX));
                  outputValue = readWithFillValue(batch, coordY, coordX,
                    channel);
                } else {
                  float yFloor = floor(mapY);
                  float xFloor = floor(mapX);
                  float yCeil = yFloor + 1.0;
                  float xCeil = xFloor + 1.0;
                  float valueYFloor = (xCeil - mapX) *
                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +
                  (mapX - xFloor) *
                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);
                  float valueYCeil = (xCeil - mapX) *
                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +
                  (mapX - xFloor) *
                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);
                  outputValue = (yCeil - mapY) * valueYFloor +
                  (mapY - yFloor) * valueYCeil;
                }
              }
              setOutput(outputValue);
            }
        `}}function THe(t){const{inputs:e,backend:n,attrs:r}=t,{image:s,transforms:i}=e,{interpolation:a,fillMode:o,fillValue:c,outputShape:u}=r,[d,f,h,m]=s.shape,[g,y]=u??[f,h],x=[d,g,y,m],v=new jHe(f,h,a,o,c,x);return n.runWebGLProgram(v,[s,i],"float32")}const _He={kernelName:zI,backendName:"webgl",kernelFunc:THe};function RHe(t){const{inputs:e,attrs:n,backend:r}=t,{axis:s}=n,{x:i}=e;J5(i,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");const a=r.readSync(i.dataId),{outputValues:o,outputShape:c,indices:u}=_Le(a,s,i.shape,i.dtype);return[r.makeTensorInfo(c,i.dtype,o),r.makeTensorInfo([u.length],"int32",u)]}const OHe={kernelName:MI,backendName:"webgl",kernelFunc:RHe};function FHe(t){const{inputs:e,backend:n,attrs:r}=t,{value:s}=e;let{axis:i}=r;i<0&&(i+=s.shape.length);const a=s,o=a.shape.length,c=s.shape[i],u=new Array(o-1);let d=0;for(let y=0;y<o;y++)y!==i&&(u[d++]=a.shape[y]);const f=[],h=new Array(o).fill(0),m=a.shape.slice();m[i]=1;const g=new Array(c);for(let y=0;y<g.length;y++){h[i]=y;const x=Yx({inputs:{x:a},backend:n,attrs:{begin:h,size:m}}),v=qt({inputs:{x},backend:n,attrs:{shape:u}});g[y]=v,f.push(x)}return f.forEach(y=>n.disposeIntermediateTensorInfo(y)),g}const DHe={kernelName:p5,backendName:"webgl",kernelFunc:FHe};class LHe{constructor(e,n){this.variableNames=["x","segmentIds"];const r=e.windowSize,s=e.batchSize,i=e.inSize,a=e.numSegments,o=a*Math.ceil(i/r);this.outputShape=[s,o];const c="0.0",u="sumValue",d=Math.floor(r/4)*4,f=r%4,h=`
        sumValue += dot(values, segFilter);
    `;let m="";i%r>0&&(m=`
        if (inIdx < 0 || inIdx >= ${i}) {
          return initializationValue;
        }
      `);let g="";i%r>0&&(g=`
        if (inIdx < 0 || inIdx >= ${i}) {
          return -1.0;
        }
      `),this.userCode=`
      const float initializationValue = ${c};

      float getValue(int batch, int inIdx) {
        ${m}
        return getX(batch, inIdx);
      }

      float getSegmentIdAtIndex(int inIdx) {
        ${g}
        return getSegmentIds(inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = int(floor(float(outIdx) / float(
          ${a})) * float(${r}));
        int currentSeg = int(mod(float(outIdx), float(${a})));

        float sumValue = 0.0;

        for (int i = 0; i < ${d}; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0
          );

          ${h}
        }

        int inIdx = inOffset + ${d};
        if (${f===1}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            0,
            0,
            0
          );

          ${h}
        } else if (${f===2}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
              0,
              0
          );

          ${h}
        } else if (${f===3}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            0
          );

          ${h}
        }
        setOutput(${u});
      }
    `}}function $He(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,segmentIds:i}=e,{numSegments:a}=r,o=s.shape.length,c=[];let u=0;const d=Gi([u],o);let f=s;d!=null&&(f=_l({inputs:{x:s},backend:n,attrs:{perm:d}}),c.push(f),u=xa(1,o)[0]);const h=ene(f.shape,u,a),m=it([f.shape[u]]),g=qt({inputs:{x:f},backend:n,attrs:{shape:[-1,m]}});c.push(g);const y=WI(s.dtype),x=(k,E,N,O,F)=>{const D=k.shape[0],T=k.shape[1],j=Zte(T,F),P={windowSize:j,inSize:T,batchSize:D,numSegments:F},U=new LHe(P,E),z=n.compileAndRun(U,[k,N],O);if(c.push(z),z.shape[1]===F)return z;const ee=wae({backend:n,attrs:{start:0,stop:F,step:1,dtype:"float32"}}),q=Sae({inputs:{x:ee},backend:n,attrs:{reps:[T/j]}});return c.push(ee),c.push(q),x(z,E,q,O,F)},v=x(g,"unsortedSegmentSum",i,y,a),w=qt({inputs:{x:v},backend:n,attrs:{shape:h}});let B=w;if(d!=null){c.push(w);const k=Cm(d);B=_l({inputs:{x:B},backend:n,attrs:{perm:k}})}return c.forEach(k=>n.disposeIntermediateTensorInfo(k)),B}const PHe={kernelName:m5,backendName:"webgl",kernelFunc:$He};const UHe=[S$e,k$e,I$e,T$e,R$e,D$e,$$e,U$e,H$e,V$e,K$e,J$e,tPe,iPe,lPe,uPe,fPe,mPe,yPe,bPe,CPe,TPe,RPe,LPe,PPe,WPe,qPe,YPe,a$e,eUe,iUe,cUe,pUe,yUe,bUe,wUe,CUe,IUe,TUe,OUe,DUe,$Ue,UUe,QUe,WUe,KUe,YUe,eze,rze,ize,cze,Aze,gze,bze,Sze,Cze,Bze,Ize,jze,_ze,Oze,$ze,zze,Hze,Vze,Kze,Jze,nMe,aMe,i$e,lMe,rUe,dMe,hMe,gMe,l$e,vMe,kMe,EMe,TMe,OMe,$Me,zMe,WMe,KMe,JMe,e9e,s9e,a9e,l9e,f9e,h9e,m9e,y9e,b9e,C9e,I9e,_9e,U9e,d$e,H9e,q9e,X9e,Z9e,zPe,nQe,sQe,aQe,cQe,AQe,u$e,pQe,gQe,xQe,vQe,wQe,MPe,D9e,kQe,NQe,RQe,A$e,LQe,UQe,HQe,qQe,YQe,ZQe,n7e,i7e,l7e,d7e,h7e,g7e,v7e,C7e,I7e,T7e,NPe,$9e,O7e,D7e,$7e,U7e,M7e,H7e,V7e,G7e,X7e,Z7e,tHe,rHe,iHe,lHe,uHe,fHe,hHe,L9e,b$e,gHe,bHe,wHe,kHe,NHe,_He,v$e,OHe,DHe,PHe,rQe];for(const t of UHe)HI(t);var zv={exports:{}};const zHe=P8(wje),MHe=P8(qBe);var QHe=zv.exports,gH;function HHe(){return gH||(gH=1,(function(t,e){(function(n,r){r(e,zHe,MHe)})(QHe,(function(n,r,s){const i={1:{name:"/m/01g317",id:1,displayName:"person"},2:{name:"/m/0199g",id:2,displayName:"bicycle"},3:{name:"/m/0k4j",id:3,displayName:"car"},4:{name:"/m/04_sv",id:4,displayName:"motorcycle"},5:{name:"/m/05czz6l",id:5,displayName:"airplane"},6:{name:"/m/01bjv",id:6,displayName:"bus"},7:{name:"/m/07jdr",id:7,displayName:"train"},8:{name:"/m/07r04",id:8,displayName:"truck"},9:{name:"/m/019jd",id:9,displayName:"boat"},10:{name:"/m/015qff",id:10,displayName:"traffic light"},11:{name:"/m/01pns0",id:11,displayName:"fire hydrant"},13:{name:"/m/02pv19",id:13,displayName:"stop sign"},14:{name:"/m/015qbp",id:14,displayName:"parking meter"},15:{name:"/m/0cvnqh",id:15,displayName:"bench"},16:{name:"/m/015p6",id:16,displayName:"bird"},17:{name:"/m/01yrx",id:17,displayName:"cat"},18:{name:"/m/0bt9lr",id:18,displayName:"dog"},19:{name:"/m/03k3r",id:19,displayName:"horse"},20:{name:"/m/07bgp",id:20,displayName:"sheep"},21:{name:"/m/01xq0k1",id:21,displayName:"cow"},22:{name:"/m/0bwd_0j",id:22,displayName:"elephant"},23:{name:"/m/01dws",id:23,displayName:"bear"},24:{name:"/m/0898b",id:24,displayName:"zebra"},25:{name:"/m/03bk1",id:25,displayName:"giraffe"},27:{name:"/m/01940j",id:27,displayName:"backpack"},28:{name:"/m/0hnnb",id:28,displayName:"umbrella"},31:{name:"/m/080hkjn",id:31,displayName:"handbag"},32:{name:"/m/01rkbr",id:32,displayName:"tie"},33:{name:"/m/01s55n",id:33,displayName:"suitcase"},34:{name:"/m/02wmf",id:34,displayName:"frisbee"},35:{name:"/m/071p9",id:35,displayName:"skis"},36:{name:"/m/06__v",id:36,displayName:"snowboard"},37:{name:"/m/018xm",id:37,displayName:"sports ball"},38:{name:"/m/02zt3",id:38,displayName:"kite"},39:{name:"/m/03g8mr",id:39,displayName:"baseball bat"},40:{name:"/m/03grzl",id:40,displayName:"baseball glove"},41:{name:"/m/06_fw",id:41,displayName:"skateboard"},42:{name:"/m/019w40",id:42,displayName:"surfboard"},43:{name:"/m/0dv9c",id:43,displayName:"tennis racket"},44:{name:"/m/04dr76w",id:44,displayName:"bottle"},46:{name:"/m/09tvcd",id:46,displayName:"wine glass"},47:{name:"/m/08gqpm",id:47,displayName:"cup"},48:{name:"/m/0dt3t",id:48,displayName:"fork"},49:{name:"/m/04ctx",id:49,displayName:"knife"},50:{name:"/m/0cmx8",id:50,displayName:"spoon"},51:{name:"/m/04kkgm",id:51,displayName:"bowl"},52:{name:"/m/09qck",id:52,displayName:"banana"},53:{name:"/m/014j1m",id:53,displayName:"apple"},54:{name:"/m/0l515",id:54,displayName:"sandwich"},55:{name:"/m/0cyhj_",id:55,displayName:"orange"},56:{name:"/m/0hkxq",id:56,displayName:"broccoli"},57:{name:"/m/0fj52s",id:57,displayName:"carrot"},58:{name:"/m/01b9xk",id:58,displayName:"hot dog"},59:{name:"/m/0663v",id:59,displayName:"pizza"},60:{name:"/m/0jy4k",id:60,displayName:"donut"},61:{name:"/m/0fszt",id:61,displayName:"cake"},62:{name:"/m/01mzpv",id:62,displayName:"chair"},63:{name:"/m/02crq1",id:63,displayName:"couch"},64:{name:"/m/03fp41",id:64,displayName:"potted plant"},65:{name:"/m/03ssj5",id:65,displayName:"bed"},67:{name:"/m/04bcr3",id:67,displayName:"dining table"},70:{name:"/m/09g1w",id:70,displayName:"toilet"},72:{name:"/m/07c52",id:72,displayName:"tv"},73:{name:"/m/01c648",id:73,displayName:"laptop"},74:{name:"/m/020lf",id:74,displayName:"mouse"},75:{name:"/m/0qjjc",id:75,displayName:"remote"},76:{name:"/m/01m2v",id:76,displayName:"keyboard"},77:{name:"/m/050k8",id:77,displayName:"cell phone"},78:{name:"/m/0fx9l",id:78,displayName:"microwave"},79:{name:"/m/029bxz",id:79,displayName:"oven"},80:{name:"/m/01k6s3",id:80,displayName:"toaster"},81:{name:"/m/0130jx",id:81,displayName:"sink"},82:{name:"/m/040b_t",id:82,displayName:"refrigerator"},84:{name:"/m/0bt_c3",id:84,displayName:"book"},85:{name:"/m/01x3z",id:85,displayName:"clock"},86:{name:"/m/02s195",id:86,displayName:"vase"},87:{name:"/m/01lsmm",id:87,displayName:"scissors"},88:{name:"/m/0kmg4",id:88,displayName:"teddy bear"},89:{name:"/m/03wvsk",id:89,displayName:"hair drier"},90:{name:"/m/012xff",id:90,displayName:"toothbrush"}};class a{constructor(c,u){this.modelPath=u||`https://storage.googleapis.com/tfjs-models/savedmodel/${this.getPrefix(c)}/model.json`}getPrefix(c){return c==="lite_mobilenet_v2"?`ssd${c}`:`ssd_${c}`}async load(){this.model=await r.loadGraphModel(this.modelPath);const c=s.zeros([1,300,300,3],"int32"),u=await this.model.executeAsync(c);await Promise.all(u.map((d=>d.data()))),u.map((d=>d.dispose())),c.dispose()}async infer(c,u,d){const f=s.tidy((()=>(c instanceof s.Tensor||(c=s.browser.fromPixels(c)),s.expandDims(c)))),h=f.shape[1],m=f.shape[2],g=await this.model.executeAsync(f),y=g[0].dataSync(),x=g[1].dataSync();f.dispose(),s.dispose(g);const[v,w]=this.calculateMaxScores(y,g[0].shape[1],g[0].shape[2]),B=s.getBackend();s.getBackend()==="webgl"&&s.setBackend("cpu");const k=s.tidy((()=>{const N=s.tensor2d(x,[g[1].shape[1],g[1].shape[3]]);return s.image.nonMaxSuppression(N,v,u,d,d)})),E=k.dataSync();return k.dispose(),B!==s.getBackend()&&s.setBackend(B),this.buildDetectedObjects(m,h,x,v,E,w)}buildDetectedObjects(c,u,d,f,h,m){const g=h.length,y=[];for(let x=0;x<g;x++){const v=[];for(let N=0;N<4;N++)v[N]=d[4*h[x]+N];const w=v[0]*u,B=v[1]*c,k=v[2]*u,E=v[3]*c;v[0]=B,v[1]=w,v[2]=E-B,v[3]=k-w,y.push({bbox:v,class:i[m[h[x]]+1].displayName,score:f[h[x]]})}return y}calculateMaxScores(c,u,d){const f=[],h=[];for(let m=0;m<u;m++){let g=Number.MIN_VALUE,y=-1;for(let x=0;x<d;x++)c[m*d+x]>g&&(g=c[m*d+x],y=x);f[m]=g,h[m]=y}return[f,h]}async detect(c,u=20,d=.5){return this.infer(c,u,d)}dispose(){this.model!=null&&this.model.dispose()}}n.ObjectDetection=a,n.load=async function(o={}){if(s==null)throw new Error("Cannot find TensorFlow.js. If you are using a <script> tag, please also include @tensorflow/tfjs on the page before using this model.");const c=o.base||"lite_mobilenet_v2",u=o.modelUrl;if(["mobilenet_v1","mobilenet_v2","lite_mobilenet_v2"].indexOf(c)===-1)throw new Error(`ObjectDetection constructed with invalid base model ${c}. Valid names are 'mobilenet_v1', 'mobilenet_v2' and 'lite_mobilenet_v2'.`);const d=new a(c,u);return await d.load(),d},n.version="2.2.3",Object.defineProperty(n,"__esModule",{value:!0})}))})(zv,zv.exports)),zv.exports}var Cae=HHe();const WHe="http://localhost:8000/api";function kae({problemId:t,code:e,language:n,onRunComplete:r,showRunButton:s=!0,isGlobalTest:i=!1}){const[a,o]=C.useState(!1),[c,u]=C.useState(null),[d,f]=C.useState("all"),h=async()=>{if(!(!e?.trim()||!t)){o(!0),u(null);try{const v=await rt.post(`${WHe}/run-with-tests`,{problemId:t,code:e,language:n,isGlobalTest:i});u(v.data),r&&r(v.data)}catch(v){u({success:!1,error:v.response?.data?.error||"Execution failed"})}finally{o(!1)}}},m=()=>{if(!c?.testResults)return[];switch(d){case"passed":return c.testResults.filter(v=>v.passed);case"failed":return c.testResults.filter(v=>!v.passed);default:return c.testResults}},g=c?.testResults?.filter(v=>v.passed).length||0,y=c?.testResults?.length||0;c?.testResults?.filter(v=>!v.isHidden);const x=c?.testResults?.filter(v=>v.isHidden)||[];return l.jsxs("div",{children:[s&&l.jsx("button",{onClick:h,disabled:a||!e?.trim(),style:{marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem",width:"100%",justifyContent:"center",padding:"0.75rem 1.5rem",background:"linear-gradient(135deg, #10b981, #059669)",border:"none",borderRadius:"8px",color:"white",fontSize:"0.9rem",fontWeight:600,cursor:a||!e?.trim()?"not-allowed":"pointer",opacity:a||!e?.trim()?.6:1},children:a?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"spinner-small"}),"Running Tests..."]}):l.jsxs(l.Fragment,{children:[l.jsx(ef,{size:16}),"Run with Test Cases"]})}),!c&&!a&&l.jsxs("div",{style:{padding:"2rem",textAlign:"center",background:"rgba(59, 130, 246, 0.05)",borderRadius:"12px",border:"1px solid rgba(59, 130, 246, 0.1)"},children:[l.jsx(rQ,{size:40,style:{marginBottom:"0.75rem",color:"#3b82f6",opacity:.7}}),l.jsx("div",{style:{color:"var(--text-main)",fontWeight:500,marginBottom:"0.5rem"},children:"Ready to Test"}),l.jsx("div",{style:{fontSize:"0.85rem",color:"var(--text-muted)"},children:'Click "Run with Test Cases" to execute your code against all test cases'})]}),c&&!c.success&&c.error&&l.jsxs("div",{style:{padding:"1rem",background:"rgba(239, 68, 68, 0.1)",borderRadius:"12px",border:"1px solid rgba(239, 68, 68, 0.2)",marginBottom:"1rem"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[l.jsx(Qn,{size:18,color:"#ef4444"}),l.jsx("span",{style:{fontWeight:600,color:"#ef4444"},children:"Execution Error"})]}),l.jsx("pre",{style:{margin:0,fontSize:"0.8rem",color:"#f87171",whiteSpace:"pre-wrap",wordBreak:"break-word",fontFamily:"monospace"},children:c.error})]}),c&&c.testResults&&l.jsxs("div",{style:{background:"var(--bg-dark)",borderRadius:"12px",overflow:"hidden",border:"1px solid var(--border-color)"},children:[l.jsxs("div",{style:{padding:"1rem",background:g===y?"linear-gradient(135deg, rgba(16, 185, 129, 0.2), rgba(5, 150, 105, 0.1))":"linear-gradient(135deg, rgba(249, 115, 22, 0.2), rgba(234, 88, 12, 0.1))",borderBottom:"1px solid var(--border-color)",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[g===y?l.jsx("div",{style:{width:"50px",height:"50px",borderRadius:"50%",background:"linear-gradient(135deg, #10b981, #059669)",display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx(ol,{size:24,color:"white"})}):l.jsx("div",{style:{width:"50px",height:"50px",borderRadius:"50%",background:"linear-gradient(135deg, #f97316, #ea580c)",display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx(Cg,{size:24,color:"white"})}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"1.25rem",fontWeight:700,color:g===y?"#10b981":"#f97316"},children:g===y?"All Tests Passed!":`${g}/${y} Tests Passed`}),l.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--text-muted)"},children:["Score: ",c.score||0," / ",c.totalPoints||0," points"]})]})]}),l.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[l.jsxs("div",{style:{textAlign:"center"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem",color:"#10b981",fontWeight:600},children:[l.jsx($n,{size:16})," ",g]}),l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-muted)"},children:"Passed"})]}),l.jsxs("div",{style:{textAlign:"center"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem",color:"#ef4444",fontWeight:600},children:[l.jsx(Jr,{size:16})," ",y-g]}),l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-muted)"},children:"Failed"})]}),l.jsxs("div",{style:{textAlign:"center"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem",color:"#8b5cf6",fontWeight:600},children:[l.jsx(Mg,{size:16})," ",x.length]}),l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-muted)"},children:"Hidden"})]})]})]}),l.jsx("div",{style:{display:"flex",borderBottom:"1px solid var(--border-color)"},children:["all","passed","failed"].map(v=>l.jsx("button",{onClick:()=>f(v),style:{flex:1,padding:"0.75rem",background:d===v?"var(--bg-card)":"transparent",border:"none",borderBottom:d===v?"2px solid var(--primary)":"2px solid transparent",color:d===v?"var(--primary)":"var(--text-muted)",cursor:"pointer",fontSize:"0.85rem",fontWeight:500,textTransform:"capitalize"},children:v==="all"?`All (${y})`:v==="passed"?`Passed (${g})`:`Failed (${y-g})`},v))}),l.jsxs("div",{style:{maxHeight:"400px",overflowY:"auto"},children:[m().map((v,w)=>l.jsx(VHe,{result:v,index:w+1},v.testCaseId||w)),m().length===0&&l.jsx("div",{style:{padding:"2rem",textAlign:"center",color:"var(--text-muted)"},children:"No test cases in this category"})]})]}),c&&(!c.testResults||c.testResults.length===0)&&!c.error&&l.jsxs("div",{style:{padding:"2rem",textAlign:"center",background:"var(--bg-dark)",borderRadius:"12px",color:"var(--text-muted)"},children:[l.jsx(rQ,{size:40,style:{marginBottom:"0.5rem",opacity:.5}}),l.jsx("div",{children:"No test cases found for this problem"}),l.jsx("div",{style:{fontSize:"0.8rem",marginTop:"0.25rem"},children:"Ask your mentor to add test cases"})]})]})}function VHe({result:t,index:e}){const[n,r]=C.useState(!t.passed);return l.jsxs("div",{style:{borderBottom:"1px solid var(--border-color)",background:t.passed?"transparent":"rgba(239, 68, 68, 0.03)"},children:[l.jsxs("div",{onClick:()=>!t.isHidden&&r(!n),style:{padding:"0.75rem 1rem",display:"flex",alignItems:"center",justifyContent:"space-between",cursor:t.isHidden?"default":"pointer",transition:"background 0.2s"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[t.passed?l.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:"rgba(16, 185, 129, 0.2)",display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx($n,{size:14,color:"#10b981"})}):l.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:"rgba(239, 68, 68, 0.2)",display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx(Jr,{size:14,color:"#ef4444"})}),l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsxs("span",{style:{fontWeight:500,fontSize:"0.9rem"},children:["Test Case ",e]}),t.isHidden&&l.jsxs("span",{style:{padding:"0.15rem 0.5rem",background:"rgba(139, 92, 246, 0.2)",color:"#a78bfa",borderRadius:"4px",fontSize:"0.65rem",fontWeight:600,display:"flex",alignItems:"center",gap:"0.25rem"},children:[l.jsx(Mg,{size:10})," Hidden"]})]}),t.description&&l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginTop:"0.15rem"},children:t.description})]})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[t.executionTime&&l.jsxs("span",{style:{fontSize:"0.75rem",color:"var(--text-muted)",display:"flex",alignItems:"center",gap:"0.25rem"},children:[l.jsx(vs,{size:12})," ",t.executionTime,"ms"]}),l.jsxs("span",{style:{padding:"0.25rem 0.5rem",background:t.passed?"rgba(16, 185, 129, 0.2)":"rgba(239, 68, 68, 0.2)",color:t.passed?"#10b981":"#ef4444",borderRadius:"4px",fontSize:"0.75rem",fontWeight:600},children:[t.points||0," pts"]})]})]}),!t.isHidden&&n&&l.jsxs("div",{style:{padding:"0 1rem 1rem 3.5rem",display:"grid",gap:"0.75rem"},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginBottom:"0.25rem"},children:"Input"}),l.jsx("pre",{style:{margin:0,padding:"0.5rem 0.75rem",background:"var(--bg-card)",borderRadius:"6px",fontSize:"0.8rem",fontFamily:"monospace",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:String(t.input??"(no input)")})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginBottom:"0.25rem"},children:"Expected Output"}),l.jsx("pre",{style:{margin:0,padding:"0.5rem 0.75rem",background:"rgba(16, 185, 129, 0.1)",borderRadius:"6px",fontSize:"0.8rem",color:"#10b981",fontFamily:"monospace",whiteSpace:"pre-wrap",wordBreak:"break-word",border:"1px solid rgba(16, 185, 129, 0.2)"},children:String(t.expectedOutput||t.expected_output||"(empty)")})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginBottom:"0.25rem"},children:"Your Output"}),l.jsx("pre",{style:{margin:0,padding:"0.5rem 0.75rem",background:t.passed?"rgba(30, 41, 59, 0.4)":"rgba(239, 68, 68, 0.05)",borderRadius:"6px",fontSize:"0.8rem",color:t.passed?"#e2e8f0":"#ef4444",fontFamily:"monospace",whiteSpace:"pre-wrap",wordBreak:"break-word",border:`1px solid ${t.passed?"rgba(255, 255, 255, 0.05)":"rgba(239, 68, 68, 0.1)"}`},children:String(t.actualOutput||t.output||"(no output)")})]})]}),t.isHidden&&l.jsx("div",{style:{padding:"0 1rem 0.75rem 3.5rem",fontSize:"0.75rem",color:"var(--text-muted)",fontStyle:"italic"},children:t.passed?" Your code passed this hidden test case":" Your code failed this hidden test case. Details are hidden."})]})}var r_={exports:{}},yH;function qHe(){return yH||(yH=1,(function(t,e){var n=void 0,r=function(s){return n||(n=new Promise(function(i,a){var o=typeof s<"u"?s:{},c=o.onAbort;o.onAbort=function(L){a(new Error(L)),c&&c(L)},o.postRun=o.postRun||[],o.postRun.push(function(){i(o)}),t=void 0;var u;u||=typeof o<"u"?o:{};var d=typeof window=="object",f=typeof WorkerGlobalScope<"u",h=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer";u.onRuntimeInitialized=function(){function L(qe,St){switch(typeof St){case"boolean":Vc(qe,St?1:0);break;case"number":Ii(qe,St);break;case"string":Wc(qe,St,-1,-1);break;case"object":if(St===null)la(qe);else if(St.length!=null){var Vt=hd(St,Ad);Dl(qe,Vt,St.length,-1),Dn(Vt)}else wu(qe,"Wrong API use : tried to return a value of an unknown type ("+St+").",-1);break;default:la(qe)}}function V(qe,St){for(var Vt=[],In=0;In<qe;In+=1){var zn=ye(St+4*In,"i32"),Sr=jr(zn);if(Sr===1||Sr===2)zn=Zi(zn);else if(Sr===3)zn=ui(zn);else if(Sr===4){Sr=zn,zn=Vs(Sr),Sr=gs(Sr);for(var Ni=new Uint8Array(zn),ys=0;ys<zn;ys+=1)Ni[ys]=T[Sr+ys];zn=Ni}else zn=null;Vt.push(zn)}return Vt}function se(qe,St){this.Qa=qe,this.db=St,this.Oa=1,this.lb=[]}function pe(qe,St){if(this.db=St,St=zt(qe)+1,this.eb=ic(St),this.eb===null)throw Error("Unable to allocate memory for the SQL string");en(qe,j,this.eb,St),this.kb=this.eb,this.Za=this.pb=null}function Re(qe){if(this.filename="dbfile_"+(4294967295*Math.random()>>>0),qe!=null){var St=this.filename,Vt="/",In=St;if(Vt&&(Vt=typeof Vt=="string"?Vt:Fs(Vt),In=St?_e(Vt+"/"+St):Vt),St=xn(!0,!0),In=oa(In,St),qe){if(typeof qe=="string"){Vt=Array(qe.length);for(var zn=0,Sr=qe.length;zn<Sr;++zn)Vt[zn]=qe.charCodeAt(zn);qe=Vt}st(In,St|146),Vt=Pt(In,577),ai(Vt,qe,0,qe.length,0),Gt(Vt),st(In,St)}}this.handleError(kn(this.filename,Ge)),this.db=ye(Ge,"i32"),Ll(this.db),this.fb={},this.Sa={}}var Ge=Ei(4),ht=u.cwrap,kn=ht("sqlite3_open","number",["string","number"]),Tn=ht("sqlite3_close_v2","number",["number"]),Mn=ht("sqlite3_exec","number",["number","string","number","number","number"]),Nr=ht("sqlite3_changes","number",["number"]),ni=ht("sqlite3_prepare_v2","number",["number","string","number","number","number"]),gd=ht("sqlite3_sql","string",["number"]),yd=ht("sqlite3_normalized_sql","string",["number"]),ac=ht("sqlite3_prepare_v2","number",["number","number","number","number","number"]),zc=ht("sqlite3_bind_text","number",["number","number","number","number","number"]),vu=ht("sqlite3_bind_blob","number",["number","number","number","number","number"]),NA=ht("sqlite3_bind_double","number",["number","number","number"]),Mc=ht("sqlite3_bind_int","number",["number","number","number"]),Qc=ht("sqlite3_bind_parameter_index","number",["number","string"]),Xh=ht("sqlite3_step","number",["number"]),Hc=ht("sqlite3_errmsg","string",["number"]),Yh=ht("sqlite3_column_count","number",["number"]),M=ht("sqlite3_data_count","number",["number"]),ae=ht("sqlite3_column_double","number",["number","number"]),Se=ht("sqlite3_column_text","string",["number","number"]),Oe=ht("sqlite3_column_blob","number",["number","number"]),Qe=ht("sqlite3_column_bytes","number",["number","number"]),bt=ht("sqlite3_column_type","number",["number","number"]),Tt=ht("sqlite3_column_name","string",["number","number"]),dn=ht("sqlite3_reset","number",["number"]),Bn=ht("sqlite3_clear_bindings","number",["number"]),Vn=ht("sqlite3_finalize","number",["number"]),er=ht("sqlite3_create_function_v2","number","number string number number number number number number number".split(" ")),jr=ht("sqlite3_value_type","number",["number"]),Vs=ht("sqlite3_value_bytes","number",["number"]),ui=ht("sqlite3_value_text","string",["number"]),gs=ht("sqlite3_value_blob","number",["number"]),Zi=ht("sqlite3_value_double","number",["number"]),Ii=ht("sqlite3_result_double","",["number","number"]),la=ht("sqlite3_result_null","",["number"]),Wc=ht("sqlite3_result_text","",["number","string","number","number"]),Dl=ht("sqlite3_result_blob","",["number","number","number","number"]),Vc=ht("sqlite3_result_int","",["number","number"]),wu=ht("sqlite3_result_error","",["number","string","number"]),xd=ht("sqlite3_aggregate_context","number",["number","number"]),Ll=ht("RegisterExtensionFunctions","number",["number"]),dl=ht("sqlite3_update_hook","number",["number","number","number"]);se.prototype.bind=function(qe){if(!this.Qa)throw"Statement closed";return this.reset(),Array.isArray(qe)?this.Cb(qe):qe!=null&&typeof qe=="object"?this.Db(qe):!0},se.prototype.step=function(){if(!this.Qa)throw"Statement closed";this.Oa=1;var qe=Xh(this.Qa);switch(qe){case 100:return!0;case 101:return!1;default:throw this.db.handleError(qe)}},se.prototype.wb=function(qe){return qe==null&&(qe=this.Oa,this.Oa+=1),ae(this.Qa,qe)},se.prototype.Gb=function(qe){if(qe==null&&(qe=this.Oa,this.Oa+=1),qe=Se(this.Qa,qe),typeof BigInt!="function")throw Error("BigInt is not supported");return BigInt(qe)},se.prototype.Hb=function(qe){return qe==null&&(qe=this.Oa,this.Oa+=1),Se(this.Qa,qe)},se.prototype.getBlob=function(qe){qe==null&&(qe=this.Oa,this.Oa+=1);var St=Qe(this.Qa,qe);qe=Oe(this.Qa,qe);for(var Vt=new Uint8Array(St),In=0;In<St;In+=1)Vt[In]=T[qe+In];return Vt},se.prototype.get=function(qe,St){St=St||{},qe!=null&&this.bind(qe)&&this.step(),qe=[];for(var Vt=M(this.Qa),In=0;In<Vt;In+=1)switch(bt(this.Qa,In)){case 1:var zn=St.useBigInt?this.Gb(In):this.wb(In);qe.push(zn);break;case 2:qe.push(this.wb(In));break;case 3:qe.push(this.Hb(In));break;case 4:qe.push(this.getBlob(In));break;default:qe.push(null)}return qe},se.prototype.getColumnNames=function(){for(var qe=[],St=Yh(this.Qa),Vt=0;Vt<St;Vt+=1)qe.push(Tt(this.Qa,Vt));return qe},se.prototype.getAsObject=function(qe,St){qe=this.get(qe,St),St=this.getColumnNames();for(var Vt={},In=0;In<St.length;In+=1)Vt[St[In]]=qe[In];return Vt},se.prototype.getSQL=function(){return gd(this.Qa)},se.prototype.getNormalizedSQL=function(){return yd(this.Qa)},se.prototype.run=function(qe){return qe!=null&&this.bind(qe),this.step(),this.reset()},se.prototype.sb=function(qe,St){St==null&&(St=this.Oa,this.Oa+=1),qe=fn(qe);var Vt=hd(qe,Ad);this.lb.push(Vt),this.db.handleError(zc(this.Qa,St,Vt,qe.length-1,0))},se.prototype.Bb=function(qe,St){St==null&&(St=this.Oa,this.Oa+=1);var Vt=hd(qe,Ad);this.lb.push(Vt),this.db.handleError(vu(this.Qa,St,Vt,qe.length,0))},se.prototype.rb=function(qe,St){St==null&&(St=this.Oa,this.Oa+=1),this.db.handleError((qe===(qe|0)?Mc:NA)(this.Qa,St,qe))},se.prototype.Eb=function(qe){qe==null&&(qe=this.Oa,this.Oa+=1),vu(this.Qa,qe,0,0,0)},se.prototype.tb=function(qe,St){switch(St==null&&(St=this.Oa,this.Oa+=1),typeof qe){case"string":this.sb(qe,St);return;case"number":this.rb(qe,St);return;case"bigint":this.sb(qe.toString(),St);return;case"boolean":this.rb(qe+0,St);return;case"object":if(qe===null){this.Eb(St);return}if(qe.length!=null){this.Bb(qe,St);return}}throw"Wrong API use : tried to bind a value of an unknown type ("+qe+")."},se.prototype.Db=function(qe){var St=this;return Object.keys(qe).forEach(function(Vt){var In=Qc(St.Qa,Vt);In!==0&&St.tb(qe[Vt],In)}),!0},se.prototype.Cb=function(qe){for(var St=0;St<qe.length;St+=1)this.tb(qe[St],St+1);return!0},se.prototype.reset=function(){return this.freemem(),Bn(this.Qa)===0&&dn(this.Qa)===0},se.prototype.freemem=function(){for(var qe;(qe=this.lb.pop())!==void 0;)Dn(qe)},se.prototype.free=function(){this.freemem();var qe=Vn(this.Qa)===0;return delete this.db.fb[this.Qa],this.Qa=0,qe},pe.prototype.next=function(){if(this.eb===null)return{done:!0};if(this.Za!==null&&(this.Za.free(),this.Za=null),!this.db.db)throw this.mb(),Error("Database closed");var qe=ci(),St=Ei(4);at(Ge),at(St);try{this.db.handleError(ac(this.db.db,this.kb,-1,Ge,St)),this.kb=ye(St,"i32");var Vt=ye(Ge,"i32");return Vt===0?(this.mb(),{done:!0}):(this.Za=new se(Vt,this.db),this.db.fb[Vt]=this.Za,{value:this.Za,done:!1})}catch(In){throw this.pb=tt(this.kb),this.mb(),In}finally{bu(qe)}},pe.prototype.mb=function(){Dn(this.eb),this.eb=null},pe.prototype.getRemainingSQL=function(){return this.pb!==null?this.pb:tt(this.kb)},typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(pe.prototype[Symbol.iterator]=function(){return this}),Re.prototype.run=function(qe,St){if(!this.db)throw"Database closed";if(St){qe=this.prepare(qe,St);try{qe.step()}finally{qe.free()}}else this.handleError(Mn(this.db,qe,0,0,Ge));return this},Re.prototype.exec=function(qe,St,Vt){if(!this.db)throw"Database closed";var In=ci(),zn=null;try{var Sr=Xo(qe),Ni=Ei(4);for(qe=[];ye(Sr,"i8")!==0;){at(Ge),at(Ni),this.handleError(ac(this.db,Sr,-1,Ge,Ni));var ys=ye(Ge,"i32");if(Sr=ye(Ni,"i32"),ys!==0){var di=null;for(zn=new se(ys,this),St!=null&&zn.bind(St);zn.step();)di===null&&(di={columns:zn.getColumnNames(),values:[]},qe.push(di)),di.values.push(zn.get(null,Vt));zn.free()}}return qe}catch(La){throw zn&&zn.free(),La}finally{bu(In)}},Re.prototype.each=function(qe,St,Vt,In,zn){typeof St=="function"&&(In=Vt,Vt=St,St=void 0),qe=this.prepare(qe,St);try{for(;qe.step();)Vt(qe.getAsObject(null,zn))}finally{qe.free()}if(typeof In=="function")return In()},Re.prototype.prepare=function(qe,St){if(at(Ge),this.handleError(ni(this.db,qe,-1,Ge,0)),qe=ye(Ge,"i32"),qe===0)throw"Nothing to prepare";var Vt=new se(qe,this);return St!=null&&Vt.bind(St),this.fb[qe]=Vt},Re.prototype.iterateStatements=function(qe){return new pe(qe,this)},Re.prototype.export=function(){Object.values(this.fb).forEach(function(St){St.free()}),Object.values(this.Sa).forEach(li),this.Sa={},this.handleError(Tn(this.db));var qe=vo(this.filename);return this.handleError(kn(this.filename,Ge)),this.db=ye(Ge,"i32"),Ll(this.db),qe},Re.prototype.close=function(){this.db!==null&&(Object.values(this.fb).forEach(function(qe){qe.free()}),Object.values(this.Sa).forEach(li),this.Sa={},this.Ya&&(li(this.Ya),this.Ya=void 0),this.handleError(Tn(this.db)),Ir("/"+this.filename),this.db=null)},Re.prototype.handleError=function(qe){if(qe===0)return null;throw qe=Hc(this.db),Error(qe)},Re.prototype.getRowsModified=function(){return Nr(this.db)},Re.prototype.create_function=function(qe,St){Object.prototype.hasOwnProperty.call(this.Sa,qe)&&(li(this.Sa[qe]),delete this.Sa[qe]);var Vt=eo(function(In,zn,Sr){zn=V(zn,Sr);try{var Ni=St.apply(null,zn)}catch(ys){wu(In,ys,-1);return}L(In,Ni)},"viii");return this.Sa[qe]=Vt,this.handleError(er(this.db,qe,St.length,1,0,Vt,0,0,0)),this},Re.prototype.create_aggregate=function(qe,St){var Vt=St.init||function(){return null},In=St.finalize||function(di){return di},zn=St.step;if(!zn)throw"An aggregate function must have a step function in "+qe;var Sr={};Object.hasOwnProperty.call(this.Sa,qe)&&(li(this.Sa[qe]),delete this.Sa[qe]),St=qe+"__finalize",Object.hasOwnProperty.call(this.Sa,St)&&(li(this.Sa[St]),delete this.Sa[St]);var Ni=eo(function(di,La,bd){var ea=xd(di,1);Object.hasOwnProperty.call(Sr,ea)||(Sr[ea]=Vt()),La=V(La,bd),La=[Sr[ea]].concat(La);try{Sr[ea]=zn.apply(null,La)}catch($l){delete Sr[ea],wu(di,$l,-1)}},"viii"),ys=eo(function(di){var La=xd(di,1);try{var bd=In(Sr[La])}catch(ea){delete Sr[La],wu(di,ea,-1);return}L(di,bd),delete Sr[La]},"vi");return this.Sa[qe]=Ni,this.Sa[St]=ys,this.handleError(er(this.db,qe,zn.length-1,1,0,0,Ni,ys,0)),this},Re.prototype.updateHook=function(qe){this.Ya&&(dl(this.db,0,0),li(this.Ya),this.Ya=void 0),qe&&(this.Ya=eo(function(St,Vt,In,zn,Sr){switch(Vt){case 18:St="insert";break;case 23:St="update";break;case 9:St="delete";break;default:throw"unknown operationCode in updateHook callback: "+Vt}if(In=In?Le(j,In):"",zn=zn?Le(j,zn):"",Sr>Number.MAX_SAFE_INTEGER)throw"rowId too big to fit inside a Number";qe(St,In,zn,Number(Sr))},"viiiij"),dl(this.db,this.Ya,0))},u.Database=Re};var m={...u},g="./this.program",y=(L,V)=>{throw V},x="",v,w;if(h){var B=hO;x=__dirname+"/",w=L=>(L=G(L)?new URL(L):L,B.readFileSync(L)),v=async L=>(L=G(L)?new URL(L):L,B.readFileSync(L,void 0)),!u.thisProgram&&1<process.argv.length&&(g=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),t.exports=u,y=(L,V)=>{throw process.exitCode=L,V}}else(d||f)&&(f?x=self.location.href:typeof document<"u"&&document.currentScript&&(x=document.currentScript.src),x=x.startsWith("blob:")?"":x.slice(0,x.replace(/[?#].*/,"").lastIndexOf("/")+1),f&&(w=L=>{var V=new XMLHttpRequest;return V.open("GET",L,!1),V.responseType="arraybuffer",V.send(null),new Uint8Array(V.response)}),v=async L=>{if(G(L))return new Promise((se,pe)=>{var Re=new XMLHttpRequest;Re.open("GET",L,!0),Re.responseType="arraybuffer",Re.onload=()=>{Re.status==200||Re.status==0&&Re.response?se(Re.response):pe(Re.status)},Re.onerror=pe,Re.send(null)});var V=await fetch(L,{credentials:"same-origin"});if(V.ok)return V.arrayBuffer();throw Error(V.status+" : "+V.url)});var k=u.print||console.log.bind(console),E=u.printErr||console.error.bind(console);Object.assign(u,m),m=null,u.thisProgram&&(g=u.thisProgram);var N=u.wasmBinary,O,F=!1,D,T,j,P,U,z,ee,q,Z,G=L=>L.startsWith("file://");function ne(){var L=O.buffer;u.HEAP8=T=new Int8Array(L),u.HEAP16=P=new Int16Array(L),u.HEAPU8=j=new Uint8Array(L),u.HEAPU16=new Uint16Array(L),u.HEAP32=U=new Int32Array(L),u.HEAPU32=z=new Uint32Array(L),u.HEAPF32=ee=new Float32Array(L),u.HEAPF64=Z=new Float64Array(L),u.HEAP64=q=new BigInt64Array(L),u.HEAPU64=new BigUint64Array(L)}var K=0,H=null;function Q(L){throw u.onAbort?.(L),L="Aborted("+L+")",E(L),F=!0,new WebAssembly.RuntimeError(L+". Build with -sASSERTIONS for more info.")}var X;async function re(L){if(!N)try{var V=await v(L);return new Uint8Array(V)}catch{}if(L==X&&N)L=new Uint8Array(N);else if(w)L=w(L);else throw"both async and sync fetching of the wasm failed";return L}async function le(L,V){try{var se=await re(L);return await WebAssembly.instantiate(se,V)}catch(pe){E(`failed to asynchronously prepare wasm: ${pe}`),Q(pe)}}async function he(L){var V=X;if(!N&&typeof WebAssembly.instantiateStreaming=="function"&&!G(V)&&!h)try{var se=fetch(V,{credentials:"same-origin"});return await WebAssembly.instantiateStreaming(se,L)}catch(pe){E(`wasm streaming compile failed: ${pe}`),E("falling back to ArrayBuffer instantiation")}return le(V,L)}class xe{name="ExitStatus";constructor(V){this.message=`Program terminated with exit(${V})`,this.status=V}}var Be=L=>{for(;0<L.length;)L.shift()(u)},me=[],ve=[],Ee=()=>{var L=u.preRun.shift();ve.unshift(L)};function ye(L,V="i8"){switch(V.endsWith("*")&&(V="*"),V){case"i1":return T[L];case"i8":return T[L];case"i16":return P[L>>1];case"i32":return U[L>>2];case"i64":return q[L>>3];case"float":return ee[L>>2];case"double":return Z[L>>3];case"*":return z[L>>2];default:Q(`invalid type for getValue: ${V}`)}}var Ue=u.noExitRuntime||!0;function at(L){var V="i32";switch(V.endsWith("*")&&(V="*"),V){case"i1":T[L]=0;break;case"i8":T[L]=0;break;case"i16":P[L>>1]=0;break;case"i32":U[L>>2]=0;break;case"i64":q[L>>3]=BigInt(0);break;case"float":ee[L>>2]=0;break;case"double":Z[L>>3]=0;break;case"*":z[L>>2]=0;break;default:Q(`invalid type for setValue: ${V}`)}}var ie=typeof TextDecoder<"u"?new TextDecoder:void 0,Le=(L,V=0,se=NaN)=>{var pe=V+se;for(se=V;L[se]&&!(se>=pe);)++se;if(16<se-V&&L.buffer&&ie)return ie.decode(L.subarray(V,se));for(pe="";V<se;){var Re=L[V++];if(Re&128){var Ge=L[V++]&63;if((Re&224)==192)pe+=String.fromCharCode((Re&31)<<6|Ge);else{var ht=L[V++]&63;Re=(Re&240)==224?(Re&15)<<12|Ge<<6|ht:(Re&7)<<18|Ge<<12|ht<<6|L[V++]&63,65536>Re?pe+=String.fromCharCode(Re):(Re-=65536,pe+=String.fromCharCode(55296|Re>>10,56320|Re&1023))}}else pe+=String.fromCharCode(Re)}return pe},tt=(L,V)=>L?Le(j,L,V):"",It=(L,V)=>{for(var se=0,pe=L.length-1;0<=pe;pe--){var Re=L[pe];Re==="."?L.splice(pe,1):Re===".."?(L.splice(pe,1),se++):se&&(L.splice(pe,1),se--)}if(V)for(;se;se--)L.unshift("..");return L},_e=L=>{var V=L.charAt(0)==="/",se=L.slice(-1)==="/";return(L=It(L.split("/").filter(pe=>!!pe),!V).join("/"))||V||(L="."),L&&se&&(L+="/"),(V?"/":"")+L},At=L=>{var V=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(L).slice(1);return L=V[0],V=V[1],!L&&!V?".":(V&&=V.slice(0,-1),L+V)},ot=L=>L&&L.match(/([^\/]+|\/)\/*$/)[1],$t=()=>{if(h){var L=hO;return V=>L.randomFillSync(V)}return V=>crypto.getRandomValues(V)},kt=L=>{(kt=$t())(L)},Ht=(...L)=>{for(var V="",se=!1,pe=L.length-1;-1<=pe&&!se;pe--){if(se=0<=pe?L[pe]:"/",typeof se!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!se)return"";V=se+"/"+V,se=se.charAt(0)==="/"}return V=It(V.split("/").filter(Re=>!!Re),!se).join("/"),(se?"/":"")+V||"."},Sn=[],zt=L=>{for(var V=0,se=0;se<L.length;++se){var pe=L.charCodeAt(se);127>=pe?V++:2047>=pe?V+=2:55296<=pe&&57343>=pe?(V+=4,++se):V+=3}return V},en=(L,V,se,pe)=>{if(!(0<pe))return 0;var Re=se;pe=se+pe-1;for(var Ge=0;Ge<L.length;++Ge){var ht=L.charCodeAt(Ge);if(55296<=ht&&57343>=ht){var kn=L.charCodeAt(++Ge);ht=65536+((ht&1023)<<10)|kn&1023}if(127>=ht){if(se>=pe)break;V[se++]=ht}else{if(2047>=ht){if(se+1>=pe)break;V[se++]=192|ht>>6}else{if(65535>=ht){if(se+2>=pe)break;V[se++]=224|ht>>12}else{if(se+3>=pe)break;V[se++]=240|ht>>18,V[se++]=128|ht>>12&63}V[se++]=128|ht>>6&63}V[se++]=128|ht&63}}return V[se]=0,se-Re},fn=(L,V)=>{var se=Array(zt(L)+1);return L=en(L,se,0,se.length),V&&(se.length=L),se},Qt=[];function rn(L,V){Qt[L]={input:[],output:[],cb:V},Wn(L,Yt)}var Yt={open(L){var V=Qt[L.node.rdev];if(!V)throw new dt(43);L.tty=V,L.seekable=!1},close(L){L.tty.cb.fsync(L.tty)},fsync(L){L.tty.cb.fsync(L.tty)},read(L,V,se,pe){if(!L.tty||!L.tty.cb.xb)throw new dt(60);for(var Re=0,Ge=0;Ge<pe;Ge++){try{var ht=L.tty.cb.xb(L.tty)}catch{throw new dt(29)}if(ht===void 0&&Re===0)throw new dt(6);if(ht==null)break;Re++,V[se+Ge]=ht}return Re&&(L.node.atime=Date.now()),Re},write(L,V,se,pe){if(!L.tty||!L.tty.cb.qb)throw new dt(60);try{for(var Re=0;Re<pe;Re++)L.tty.cb.qb(L.tty,V[se+Re])}catch{throw new dt(29)}return pe&&(L.node.mtime=L.node.ctime=Date.now()),Re}},sn={xb(){e:{if(!Sn.length){var L=null;if(h){var V=Buffer.alloc(256),se=0,pe=process.stdin.fd;try{se=B.readSync(pe,V,0,256)}catch(Re){if(Re.toString().includes("EOF"))se=0;else throw Re}0<se&&(L=V.slice(0,se).toString("utf-8"))}else typeof window<"u"&&typeof window.prompt=="function"&&(L=window.prompt("Input: "),L!==null&&(L+=`
`));if(!L){L=null;break e}Sn=fn(L,!0)}L=Sn.shift()}return L},qb(L,V){V===null||V===10?(k(Le(L.output)),L.output=[]):V!=0&&L.output.push(V)},fsync(L){0<L.output?.length&&(k(Le(L.output)),L.output=[])},Tb(){return{Ob:25856,Qb:5,Nb:191,Pb:35387,Mb:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Ub(){return 0},Vb(){return[24,80]}},On={qb(L,V){V===null||V===10?(E(Le(L.output)),L.output=[]):V!=0&&L.output.push(V)},fsync(L){0<L.output?.length&&(E(Le(L.output)),L.output=[])}},Ot={Wa:null,Xa(){return Ot.createNode(null,"/",16895,0)},createNode(L,V,se,pe){if((se&61440)===24576||(se&61440)===4096)throw new dt(63);return Ot.Wa||(Ot.Wa={dir:{node:{Ta:Ot.La.Ta,Ua:Ot.La.Ua,lookup:Ot.La.lookup,hb:Ot.La.hb,rename:Ot.La.rename,unlink:Ot.La.unlink,rmdir:Ot.La.rmdir,readdir:Ot.La.readdir,symlink:Ot.La.symlink},stream:{Va:Ot.Ma.Va}},file:{node:{Ta:Ot.La.Ta,Ua:Ot.La.Ua},stream:{Va:Ot.Ma.Va,read:Ot.Ma.read,write:Ot.Ma.write,ib:Ot.Ma.ib,jb:Ot.Ma.jb}},link:{node:{Ta:Ot.La.Ta,Ua:Ot.La.Ua,readlink:Ot.La.readlink},stream:{}},ub:{node:{Ta:Ot.La.Ta,Ua:Ot.La.Ua},stream:Cn}}),se=Ds(L,V,se,pe),wr(se.mode)?(se.La=Ot.Wa.dir.node,se.Ma=Ot.Wa.dir.stream,se.Na={}):(se.mode&61440)===32768?(se.La=Ot.Wa.file.node,se.Ma=Ot.Wa.file.stream,se.Ra=0,se.Na=null):(se.mode&61440)===40960?(se.La=Ot.Wa.link.node,se.Ma=Ot.Wa.link.stream):(se.mode&61440)===8192&&(se.La=Ot.Wa.ub.node,se.Ma=Ot.Wa.ub.stream),se.atime=se.mtime=se.ctime=Date.now(),L&&(L.Na[V]=se,L.atime=L.mtime=L.ctime=se.atime),se},Sb(L){return L.Na?L.Na.subarray?L.Na.subarray(0,L.Ra):new Uint8Array(L.Na):new Uint8Array(0)},La:{Ta(L){var V={};return V.dev=(L.mode&61440)===8192?L.id:1,V.ino=L.id,V.mode=L.mode,V.nlink=1,V.uid=0,V.gid=0,V.rdev=L.rdev,wr(L.mode)?V.size=4096:(L.mode&61440)===32768?V.size=L.Ra:(L.mode&61440)===40960?V.size=L.link.length:V.size=0,V.atime=new Date(L.atime),V.mtime=new Date(L.mtime),V.ctime=new Date(L.ctime),V.blksize=4096,V.blocks=Math.ceil(V.size/V.blksize),V},Ua(L,V){for(var se of["mode","atime","mtime","ctime"])V[se]!=null&&(L[se]=V[se]);V.size!==void 0&&(V=V.size,L.Ra!=V&&(V==0?(L.Na=null,L.Ra=0):(se=L.Na,L.Na=new Uint8Array(V),se&&L.Na.set(se.subarray(0,Math.min(V,L.Ra))),L.Ra=V)))},lookup(){throw Ot.vb},hb(L,V,se,pe){return Ot.createNode(L,V,se,pe)},rename(L,V,se){try{var pe=Cs(V,se)}catch{}if(pe){if(wr(L.mode))for(var Re in pe.Na)throw new dt(55);Ki(pe)}delete L.parent.Na[L.name],V.Na[se]=L,L.name=se,V.ctime=V.mtime=L.parent.ctime=L.parent.mtime=Date.now()},unlink(L,V){delete L.Na[V],L.ctime=L.mtime=Date.now()},rmdir(L,V){var se=Cs(L,V),pe;for(pe in se.Na)throw new dt(55);delete L.Na[V],L.ctime=L.mtime=Date.now()},readdir(L){return[".","..",...Object.keys(L.Na)]},symlink(L,V,se){return L=Ot.createNode(L,V,41471,0),L.link=se,L},readlink(L){if((L.mode&61440)!==40960)throw new dt(28);return L.link}},Ma:{read(L,V,se,pe,Re){var Ge=L.node.Na;if(Re>=L.node.Ra)return 0;if(L=Math.min(L.node.Ra-Re,pe),8<L&&Ge.subarray)V.set(Ge.subarray(Re,Re+L),se);else for(pe=0;pe<L;pe++)V[se+pe]=Ge[Re+pe];return L},write(L,V,se,pe,Re,Ge){if(V.buffer===T.buffer&&(Ge=!1),!pe)return 0;if(L=L.node,L.mtime=L.ctime=Date.now(),V.subarray&&(!L.Na||L.Na.subarray)){if(Ge)return L.Na=V.subarray(se,se+pe),L.Ra=pe;if(L.Ra===0&&Re===0)return L.Na=V.slice(se,se+pe),L.Ra=pe;if(Re+pe<=L.Ra)return L.Na.set(V.subarray(se,se+pe),Re),pe}Ge=Re+pe;var ht=L.Na?L.Na.length:0;if(ht>=Ge||(Ge=Math.max(Ge,ht*(1048576>ht?2:1.125)>>>0),ht!=0&&(Ge=Math.max(Ge,256)),ht=L.Na,L.Na=new Uint8Array(Ge),0<L.Ra&&L.Na.set(ht.subarray(0,L.Ra),0)),L.Na.subarray&&V.subarray)L.Na.set(V.subarray(se,se+pe),Re);else for(Ge=0;Ge<pe;Ge++)L.Na[Re+Ge]=V[se+Ge];return L.Ra=Math.max(L.Ra,Re+pe),pe},Va(L,V,se){if(se===1?V+=L.position:se===2&&(L.node.mode&61440)===32768&&(V+=L.node.Ra),0>V)throw new dt(28);return V},ib(L,V,se,pe,Re){if((L.node.mode&61440)!==32768)throw new dt(43);if(L=L.node.Na,Re&2||!L||L.buffer!==T.buffer){Re=!0,pe=65536*Math.ceil(V/65536);var Ge=IA(65536,pe);if(Ge&&j.fill(0,Ge,Ge+pe),pe=Ge,!pe)throw new dt(48);L&&((0<se||se+V<L.length)&&(L.subarray?L=L.subarray(se,se+V):L=Array.prototype.slice.call(L,se,se+V)),T.set(L,pe))}else Re=!1,pe=L.byteOffset;return{Kb:pe,Ab:Re}},jb(L,V,se,pe){return Ot.Ma.write(L,V,0,pe,se,!1),0}}},xn=(L,V)=>{var se=0;return L&&(se|=365),V&&(se|=146),se},ke=null,$e={},yt=[],Ct=1,_t=null,Lt=!1,Ut=!0,Jt={},dt=class{name="ErrnoError";constructor(L){this.Pa=L}},pr=class{gb={};node=null;get flags(){return this.gb.flags}set flags(L){this.gb.flags=L}get position(){return this.gb.position}set position(L){this.gb.position=L}},Gr=class{La={};Ma={};ab=null;constructor(L,V,se,pe){L||=this,this.parent=L,this.Xa=L.Xa,this.id=Ct++,this.name=V,this.mode=se,this.rdev=pe,this.atime=this.mtime=this.ctime=Date.now()}get read(){return(this.mode&365)===365}set read(L){L?this.mode|=365:this.mode&=-366}get write(){return(this.mode&146)===146}set write(L){L?this.mode|=146:this.mode&=-147}};function Hn(L,V={}){if(!L)throw new dt(44);V.nb??(V.nb=!0),L.charAt(0)==="/"||(L="//"+L);var se=0;e:for(;40>se;se++){L=L.split("/").filter(kn=>!!kn);for(var pe=ke,Re="/",Ge=0;Ge<L.length;Ge++){var ht=Ge===L.length-1;if(ht&&V.parent)break;if(L[Ge]!==".")if(L[Ge]==="..")Re=At(Re),pe=pe.parent;else{Re=_e(Re+"/"+L[Ge]);try{pe=Cs(pe,L[Ge])}catch(kn){if(kn?.Pa===44&&ht&&V.Jb)return{path:Re};throw kn}if(!pe.ab||ht&&!V.nb||(pe=pe.ab.root),(pe.mode&61440)===40960&&(!ht||V.$a)){if(!pe.La.readlink)throw new dt(52);pe=pe.La.readlink(pe),pe.charAt(0)==="/"||(pe=At(Re)+"/"+pe),L=pe+"/"+L.slice(Ge+1).join("/");continue e}}}return{path:Re,node:pe}}throw new dt(32)}function Fs(L){for(var V;;){if(L===L.parent)return L=L.Xa.zb,V?L[L.length-1]!=="/"?`${L}/${V}`:L+V:L;V=V?`${L.name}/${V}`:L.name,L=L.parent}}function cn(L,V){for(var se=0,pe=0;pe<V.length;pe++)se=(se<<5)-se+V.charCodeAt(pe)|0;return(L+se>>>0)%_t.length}function Ki(L){var V=cn(L.parent.id,L.name);if(_t[V]===L)_t[V]=L.bb;else for(V=_t[V];V;){if(V.bb===L){V.bb=L.bb;break}V=V.bb}}function Cs(L,V){var se=wr(L.mode)?(se=Er(L,"x"))?se:L.La.lookup?0:2:54;if(se)throw new dt(se);for(se=_t[cn(L.id,V)];se;se=se.bb){var pe=se.name;if(se.parent.id===L.id&&pe===V)return se}return L.La.lookup(L,V)}function Ds(L,V,se,pe){return L=new Gr(L,V,se,pe),V=cn(L.parent.id,L.name),L.bb=_t[V],_t[V]=L}function wr(L){return(L&61440)===16384}function ts(L){var V=["r","w","rw"][L&3];return L&512&&(V+="w"),V}function Er(L,V){if(Ut)return 0;if(!V.includes("r")||L.mode&292){if(V.includes("w")&&!(L.mode&146)||V.includes("x")&&!(L.mode&73))return 2}else return 2;return 0}function Bt(L,V){if(!wr(L.mode))return 54;try{return Cs(L,V),20}catch{}return Er(L,"wx")}function Si(L,V,se){try{var pe=Cs(L,V)}catch(Re){return Re.Pa}if(L=Er(L,"wx"))return L;if(se){if(!wr(pe.mode))return 54;if(pe===pe.parent||Fs(pe)==="/")return 10}else if(wr(pe.mode))return 31;return 0}function ms(L){if(!L)throw new dt(63);return L}function Jn(L){if(L=yt[L],!L)throw new dt(8);return L}function ns(L,V=-1){if(L=Object.assign(new pr,L),V==-1)e:{for(V=0;4096>=V;V++)if(!yt[V])break e;throw new dt(33)}return L.fd=V,yt[V]=L}function Ci(L,V=-1){return L=ns(L,V),L.Ma?.Rb?.(L),L}function ft(L,V,se){var pe=L?.Ma.Ua;L=pe?L:V,pe??=V.La.Ua,ms(pe),pe(L,se)}var Cn={open(L){L.Ma=$e[L.node.rdev].Ma,L.Ma.open?.(L)},Va(){throw new dt(70)}};function Wn(L,V){$e[L]={Ma:V}}function Xn(L,V){var se=V==="/";if(se&&ke)throw new dt(10);if(!se&&V){var pe=Hn(V,{nb:!1});if(V=pe.path,pe=pe.node,pe.ab)throw new dt(10);if(!wr(pe.mode))throw new dt(54)}V={type:L,Wb:{},zb:V,Ib:[]},L=L.Xa(V),L.Xa=V,V.root=L,se?ke=L:pe&&(pe.ab=V,pe.Xa&&pe.Xa.Ib.push(V))}function sr(L,V,se){var pe=Hn(L,{parent:!0}).node;if(L=ot(L),!L)throw new dt(28);if(L==="."||L==="..")throw new dt(20);var Re=Bt(pe,L);if(Re)throw new dt(Re);if(!pe.La.hb)throw new dt(63);return pe.La.hb(pe,L,V,se)}function oa(L,V=438){return sr(L,V&4095|32768,0)}function Qr(L,V=511){return sr(L,V&1023|16384,0)}function os(L,V,se){typeof se>"u"&&(se=V,V=438),sr(L,V|8192,se)}function Pr(L,V){if(!Ht(L))throw new dt(44);var se=Hn(V,{parent:!0}).node;if(!se)throw new dt(44);V=ot(V);var pe=Bt(se,V);if(pe)throw new dt(pe);if(!se.La.symlink)throw new dt(63);se.La.symlink(se,V,L)}function Xi(L){var V=Hn(L,{parent:!0}).node;L=ot(L);var se=Cs(V,L),pe=Si(V,L,!0);if(pe)throw new dt(pe);if(!V.La.rmdir)throw new dt(63);if(se.ab)throw new dt(10);V.La.rmdir(V,L),Ki(se)}function Ir(L){var V=Hn(L,{parent:!0}).node;if(!V)throw new dt(44);L=ot(L);var se=Cs(V,L),pe=Si(V,L,!1);if(pe)throw new dt(pe);if(!V.La.unlink)throw new dt(63);if(se.ab)throw new dt(10);V.La.unlink(V,L),Ki(se)}function ti(L,V){return L=Hn(L,{$a:!V}).node,ms(L.La.Ta)(L)}function rs(L,V,se,pe){ft(L,V,{mode:se&4095|V.mode&-4096,ctime:Date.now(),Fb:pe})}function st(L,V){L=typeof L=="string"?Hn(L,{$a:!0}).node:L,rs(null,L,V)}function gt(L,V,se){if(wr(V.mode))throw new dt(31);if((V.mode&61440)!==32768)throw new dt(28);var pe=Er(V,"w");if(pe)throw new dt(pe);ft(L,V,{size:se,timestamp:Date.now()})}function Pt(L,V,se=438){if(L==="")throw new dt(44);if(typeof V=="string"){var pe={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[V];if(typeof pe>"u")throw Error(`Unknown file open mode: ${V}`);V=pe}if(se=V&64?se&4095|32768:0,typeof L=="object")pe=L;else{var Re=L.endsWith("/");L=Hn(L,{$a:!(V&131072),Jb:!0}),pe=L.node,L=L.path}var Ge=!1;if(V&64)if(pe){if(V&128)throw new dt(20)}else{if(Re)throw new dt(31);pe=sr(L,se|511,0),Ge=!0}if(!pe)throw new dt(44);if((pe.mode&61440)===8192&&(V&=-513),V&65536&&!wr(pe.mode))throw new dt(54);if(!Ge&&(Re=pe?(pe.mode&61440)===40960?32:wr(pe.mode)&&(ts(V)!=="r"||V&576)?31:Er(pe,ts(V)):44))throw new dt(Re);return V&512&&!Ge&&(Re=pe,Re=typeof Re=="string"?Hn(Re,{$a:!0}).node:Re,gt(null,Re,0)),V&=-131713,Re=ns({node:pe,path:Fs(pe),flags:V,seekable:!0,position:0,Ma:pe.Ma,Lb:[],error:!1}),Re.Ma.open&&Re.Ma.open(Re),Ge&&st(pe,se&511),!u.logReadFiles||V&1||L in Jt||(Jt[L]=1),Re}function Gt(L){if(L.fd===null)throw new dt(8);L.ob&&(L.ob=null);try{L.Ma.close&&L.Ma.close(L)}catch(V){throw V}finally{yt[L.fd]=null}L.fd=null}function jn(L,V,se){if(L.fd===null)throw new dt(8);if(!L.seekable||!L.Ma.Va)throw new dt(70);if(se!=0&&se!=1&&se!=2)throw new dt(28);L.position=L.Ma.Va(L,V,se),L.Lb=[]}function mr(L,V,se,pe,Re){if(0>pe||0>Re)throw new dt(28);if(L.fd===null)throw new dt(8);if((L.flags&2097155)===1)throw new dt(8);if(wr(L.node.mode))throw new dt(31);if(!L.Ma.read)throw new dt(28);var Ge=typeof Re<"u";if(!Ge)Re=L.position;else if(!L.seekable)throw new dt(70);return V=L.Ma.read(L,V,se,pe,Re),Ge||(L.position+=V),V}function ai(L,V,se,pe,Re){if(0>pe||0>Re)throw new dt(28);if(L.fd===null)throw new dt(8);if((L.flags&2097155)===0)throw new dt(8);if(wr(L.node.mode))throw new dt(31);if(!L.Ma.write)throw new dt(28);L.seekable&&L.flags&1024&&jn(L,0,2);var Ge=typeof Re<"u";if(!Ge)Re=L.position;else if(!L.seekable)throw new dt(70);return V=L.Ma.write(L,V,se,pe,Re,void 0),Ge||(L.position+=V),V}function vo(L){var V,se=Pt(L,se||0);L=ti(L).size;var pe=new Uint8Array(L);return mr(se,pe,0,L,0),V=pe,Gt(se),V}function ki(L,V,se){L=_e("/dev/"+L);var pe=xn(!!V,!!se);ki.yb??(ki.yb=64);var Re=ki.yb++<<8|0;Wn(Re,{open(Ge){Ge.seekable=!1},close(){se?.buffer?.length&&se(10)},read(Ge,ht,kn,Tn){for(var Mn=0,Nr=0;Nr<Tn;Nr++){try{var ni=V()}catch{throw new dt(29)}if(ni===void 0&&Mn===0)throw new dt(6);if(ni==null)break;Mn++,ht[kn+Nr]=ni}return Mn&&(Ge.node.atime=Date.now()),Mn},write(Ge,ht,kn,Tn){for(var Mn=0;Mn<Tn;Mn++)try{se(ht[kn+Mn])}catch{throw new dt(29)}return Tn&&(Ge.node.mtime=Ge.node.ctime=Date.now()),Mn}}),os(L,pe,Re)}var En={};function wo(L,V,se){if(V.charAt(0)==="/")return V;if(L=L===-100?"/":Jn(L).path,V.length==0){if(!se)throw new dt(44);return L}return L+"/"+V}function oi(L,V){U[L>>2]=V.dev,U[L+4>>2]=V.mode,z[L+8>>2]=V.nlink,U[L+12>>2]=V.uid,U[L+16>>2]=V.gid,U[L+20>>2]=V.rdev,q[L+24>>3]=BigInt(V.size),U[L+32>>2]=4096,U[L+36>>2]=V.blocks;var se=V.atime.getTime(),pe=V.mtime.getTime(),Re=V.ctime.getTime();return q[L+40>>3]=BigInt(Math.floor(se/1e3)),z[L+48>>2]=se%1e3*1e6,q[L+56>>3]=BigInt(Math.floor(pe/1e3)),z[L+64>>2]=pe%1e3*1e6,q[L+72>>3]=BigInt(Math.floor(Re/1e3)),z[L+80>>2]=Re%1e3*1e6,q[L+88>>3]=BigInt(V.ino),0}var Yi=void 0,xu=()=>{var L=U[+Yi>>2];return Yi+=4,L},Sa=0,Ji=[0,31,60,91,121,152,182,213,244,274,305,335],Bi=[0,31,59,90,120,151,181,212,243,273,304,334],sc={},BA=L=>{D=L,Ue||0<Sa||(u.onExit?.(L),F=!0),y(L,new xe(L))},EA=L=>{if(!F)try{if(L(),!(Ue||0<Sa))try{D=L=D,BA(L)}catch(V){V instanceof xe||V=="unwind"||y(1,V)}}catch(V){V instanceof xe||V=="unwind"||y(1,V)}},Ca={},xf=()=>{if(!dd){var L={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:g||"./this.program"},V;for(V in Ca)Ca[V]===void 0?delete L[V]:L[V]=Ca[V];var se=[];for(V in L)se.push(`${V}=${L[V]}`);dd=se}return dd},dd,Xo=L=>{var V=zt(L)+1,se=Ei(V);return en(L,j,se,V),se},fd=(L,V,se,pe)=>{var Re={string:Mn=>{var Nr=0;return Mn!=null&&Mn!==0&&(Nr=Xo(Mn)),Nr},array:Mn=>{var Nr=Ei(Mn.length);return T.set(Mn,Nr),Nr}};L=u["_"+L];var Ge=[],ht=0;if(pe)for(var kn=0;kn<pe.length;kn++){var Tn=Re[se[kn]];Tn?(ht===0&&(ht=ci()),Ge[kn]=Tn(pe[kn])):Ge[kn]=pe[kn]}return se=L(...Ge),se=(function(Mn){return ht!==0&&bu(ht),V==="string"?Mn?Le(j,Mn):"":V==="boolean"?!!Mn:Mn})(se)},Ad=0,hd=(L,V)=>(V=V==1?Ei(L.length):ic(L.length),L.subarray||L.slice||(L=new Uint8Array(L)),j.set(L,V),V),Fl,pd=[],ul,li=L=>{Fl.delete(ul.get(L)),ul.set(L,null),pd.push(L)},eo=(L,V)=>{if(!Fl){Fl=new WeakMap;var se=ul.length;if(Fl)for(var pe=0;pe<0+se;pe++){var Re=ul.get(pe);Re&&Fl.set(Re,pe)}}if(se=Fl.get(L)||0)return se;if(pd.length)se=pd.pop();else{try{ul.grow(1)}catch(Tn){throw Tn instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":Tn}se=ul.length-1}try{ul.set(se,L)}catch(Tn){if(!(Tn instanceof TypeError))throw Tn;if(typeof WebAssembly.Function=="function"){var Ge=WebAssembly.Function;pe={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},Re={parameters:[],results:V[0]=="v"?[]:[pe[V[0]]]};for(var ht=1;ht<V.length;++ht)Re.parameters.push(pe[V[ht]]);V=new Ge(Re,L)}else{pe=[1],Re=V.slice(0,1),V=V.slice(1),ht={i:127,p:127,j:126,f:125,d:124,e:111},pe.push(96);var kn=V.length;128>kn?pe.push(kn):pe.push(kn%128|128,kn>>7);for(Ge of V)pe.push(ht[Ge]);Re=="v"?pe.push(0):pe.push(1,ht[Re]),V=[0,97,115,109,1,0,0,0,1],Ge=pe.length,128>Ge?V.push(Ge):V.push(Ge%128|128,Ge>>7),V.push(...pe),V.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),V=new WebAssembly.Module(new Uint8Array(V)),V=new WebAssembly.Instance(V,{e:{f:L}}).exports.f}ul.set(se,V)}return Fl.set(L,se),se};_t=Array(4096),Xn(Ot,"/"),Qr("/tmp"),Qr("/home"),Qr("/home/web_user"),(function(){Qr("/dev"),Wn(259,{read:()=>0,write:(pe,Re,Ge,ht)=>ht,Va:()=>0}),os("/dev/null",259),rn(1280,sn),rn(1536,On),os("/dev/tty",1280),os("/dev/tty1",1536);var L=new Uint8Array(1024),V=0,se=()=>(V===0&&(kt(L),V=L.byteLength),L[--V]);ki("random",se),ki("urandom",se),Qr("/dev/shm"),Qr("/dev/shm/tmp")})(),(function(){Qr("/proc");var L=Qr("/proc/self");Qr("/proc/self/fd"),Xn({Xa(){var V=Ds(L,"fd",16895,73);return V.Ma={Va:Ot.Ma.Va},V.La={lookup(se,pe){se=+pe;var Re=Jn(se);return se={parent:null,Xa:{zb:"fake"},La:{readlink:()=>Re.path},id:se+1},se.parent=se},readdir(){return Array.from(yt.entries()).filter(([,se])=>se).map(([se])=>se.toString())}},V}},"/proc/self/fd")})(),Ot.vb=new dt(44),Ot.vb.stack="<generic error, no stack>";var Uc={a:(L,V,se,pe)=>Q(`Assertion failed: ${L?Le(j,L):""}, at: `+[V?V?Le(j,V):"":"unknown filename",se,pe?pe?Le(j,pe):"":"unknown function"]),i:function(L,V){try{return L=L?Le(j,L):"",st(L,V),0}catch(se){if(typeof En>"u"||se.name!=="ErrnoError")throw se;return-se.Pa}},L:function(L,V,se){try{if(V=V?Le(j,V):"",V=wo(L,V),se&-8)return-28;var pe=Hn(V,{$a:!0}).node;return pe?(L="",se&4&&(L+="r"),se&2&&(L+="w"),se&1&&(L+="x"),L&&Er(pe,L)?-2:0):-44}catch(Re){if(typeof En>"u"||Re.name!=="ErrnoError")throw Re;return-Re.Pa}},j:function(L,V){try{var se=Jn(L);return rs(se,se.node,V,!1),0}catch(pe){if(typeof En>"u"||pe.name!=="ErrnoError")throw pe;return-pe.Pa}},h:function(L){try{var V=Jn(L);return ft(V,V.node,{timestamp:Date.now(),Fb:!1}),0}catch(se){if(typeof En>"u"||se.name!=="ErrnoError")throw se;return-se.Pa}},b:function(L,V,se){Yi=se;try{var pe=Jn(L);switch(V){case 0:var Re=xu();if(0>Re)break;for(;yt[Re];)Re++;return Ci(pe,Re).fd;case 1:case 2:return 0;case 3:return pe.flags;case 4:return Re=xu(),pe.flags|=Re,0;case 12:return Re=xu(),P[Re+0>>1]=2,0;case 13:case 14:return 0}return-28}catch(Ge){if(typeof En>"u"||Ge.name!=="ErrnoError")throw Ge;return-Ge.Pa}},g:function(L,V){try{var se=Jn(L),pe=se.node,Re=se.Ma.Ta;L=Re?se:pe,Re??=pe.La.Ta,ms(Re);var Ge=Re(L);return oi(V,Ge)}catch(ht){if(typeof En>"u"||ht.name!=="ErrnoError")throw ht;return-ht.Pa}},H:function(L,V){V=-9007199254740992>V||9007199254740992<V?NaN:Number(V);try{if(isNaN(V))return 61;var se=Jn(L);if(0>V||(se.flags&2097155)===0)throw new dt(28);return gt(se,se.node,V),0}catch(pe){if(typeof En>"u"||pe.name!=="ErrnoError")throw pe;return-pe.Pa}},G:function(L,V){try{if(V===0)return-28;var se=zt("/")+1;return V<se?-68:(en("/",j,L,V),se)}catch(pe){if(typeof En>"u"||pe.name!=="ErrnoError")throw pe;return-pe.Pa}},K:function(L,V){try{return L=L?Le(j,L):"",oi(V,ti(L,!0))}catch(se){if(typeof En>"u"||se.name!=="ErrnoError")throw se;return-se.Pa}},C:function(L,V,se){try{return V=V?Le(j,V):"",V=wo(L,V),Qr(V,se),0}catch(pe){if(typeof En>"u"||pe.name!=="ErrnoError")throw pe;return-pe.Pa}},J:function(L,V,se,pe){try{V=V?Le(j,V):"";var Re=pe&256;return V=wo(L,V,pe&4096),oi(se,Re?ti(V,!0):ti(V))}catch(Ge){if(typeof En>"u"||Ge.name!=="ErrnoError")throw Ge;return-Ge.Pa}},x:function(L,V,se,pe){Yi=pe;try{V=V?Le(j,V):"",V=wo(L,V);var Re=pe?xu():0;return Pt(V,se,Re).fd}catch(Ge){if(typeof En>"u"||Ge.name!=="ErrnoError")throw Ge;return-Ge.Pa}},v:function(L,V,se,pe){try{if(V=V?Le(j,V):"",V=wo(L,V),0>=pe)return-28;var Re=Hn(V).node;if(!Re)throw new dt(44);if(!Re.La.readlink)throw new dt(28);var Ge=Re.La.readlink(Re),ht=Math.min(pe,zt(Ge)),kn=T[se+ht];return en(Ge,j,se,pe+1),T[se+ht]=kn,ht}catch(Tn){if(typeof En>"u"||Tn.name!=="ErrnoError")throw Tn;return-Tn.Pa}},u:function(L){try{return L=L?Le(j,L):"",Xi(L),0}catch(V){if(typeof En>"u"||V.name!=="ErrnoError")throw V;return-V.Pa}},f:function(L,V){try{return L=L?Le(j,L):"",oi(V,ti(L))}catch(se){if(typeof En>"u"||se.name!=="ErrnoError")throw se;return-se.Pa}},r:function(L,V,se){try{return V=V?Le(j,V):"",V=wo(L,V),se===0?Ir(V):se===512?Xi(V):Q("Invalid flags passed to unlinkat"),0}catch(pe){if(typeof En>"u"||pe.name!=="ErrnoError")throw pe;return-pe.Pa}},q:function(L,V,se){try{V=V?Le(j,V):"",V=wo(L,V,!0);var pe=Date.now(),Re,Ge;if(se){var ht=z[se>>2]+4294967296*U[se+4>>2],kn=U[se+8>>2];kn==1073741823?Re=pe:kn==1073741822?Re=null:Re=1e3*ht+kn/1e6,se+=16,ht=z[se>>2]+4294967296*U[se+4>>2],kn=U[se+8>>2],kn==1073741823?Ge=pe:kn==1073741822?Ge=null:Ge=1e3*ht+kn/1e6}else Ge=Re=pe;if((Ge??Re)!==null){L=Re;var Tn=Hn(V,{$a:!0}).node;ms(Tn.La.Ua)(Tn,{atime:L,mtime:Ge})}return 0}catch(Mn){if(typeof En>"u"||Mn.name!=="ErrnoError")throw Mn;return-Mn.Pa}},m:()=>Q(""),l:()=>{Ue=!1,Sa=0},A:function(L,V){L=-9007199254740992>L||9007199254740992<L?NaN:Number(L),L=new Date(1e3*L),U[V>>2]=L.getSeconds(),U[V+4>>2]=L.getMinutes(),U[V+8>>2]=L.getHours(),U[V+12>>2]=L.getDate(),U[V+16>>2]=L.getMonth(),U[V+20>>2]=L.getFullYear()-1900,U[V+24>>2]=L.getDay();var se=L.getFullYear();U[V+28>>2]=(se%4!==0||se%100===0&&se%400!==0?Bi:Ji)[L.getMonth()]+L.getDate()-1|0,U[V+36>>2]=-(60*L.getTimezoneOffset()),se=new Date(L.getFullYear(),6,1).getTimezoneOffset();var pe=new Date(L.getFullYear(),0,1).getTimezoneOffset();U[V+32>>2]=(se!=pe&&L.getTimezoneOffset()==Math.min(pe,se))|0},y:function(L,V,se,pe,Re,Ge,ht){Re=-9007199254740992>Re||9007199254740992<Re?NaN:Number(Re);try{if(isNaN(Re))return 61;var kn=Jn(pe);if((V&2)!==0&&(se&2)===0&&(kn.flags&2097155)!==2)throw new dt(2);if((kn.flags&2097155)===1)throw new dt(2);if(!kn.Ma.ib)throw new dt(43);if(!L)throw new dt(28);var Tn=kn.Ma.ib(kn,L,Re,V,se),Mn=Tn.Kb;return U[Ge>>2]=Tn.Ab,z[ht>>2]=Mn,0}catch(Nr){if(typeof En>"u"||Nr.name!=="ErrnoError")throw Nr;return-Nr.Pa}},z:function(L,V,se,pe,Re,Ge){Ge=-9007199254740992>Ge||9007199254740992<Ge?NaN:Number(Ge);try{var ht=Jn(Re);if(se&2){if(se=Ge,(ht.node.mode&61440)!==32768)throw new dt(43);if(!(pe&2)){var kn=j.slice(L,L+V);ht.Ma.jb&&ht.Ma.jb(ht,kn,se,V,pe)}}}catch(Tn){if(typeof En>"u"||Tn.name!=="ErrnoError")throw Tn;return-Tn.Pa}},n:(L,V)=>{if(sc[L]&&(clearTimeout(sc[L].id),delete sc[L]),!V)return 0;var se=setTimeout(()=>{delete sc[L],EA(()=>bf(L,performance.now()))},V);return sc[L]={id:se,Xb:V},0},B:(L,V,se,pe)=>{var Re=new Date().getFullYear(),Ge=new Date(Re,0,1).getTimezoneOffset();Re=new Date(Re,6,1).getTimezoneOffset(),z[L>>2]=60*Math.max(Ge,Re),U[V>>2]=+(Ge!=Re),V=ht=>{var kn=Math.abs(ht);return`UTC${0<=ht?"-":"+"}${String(Math.floor(kn/60)).padStart(2,"0")}${String(kn%60).padStart(2,"0")}`},L=V(Ge),V=V(Re),Re<Ge?(en(L,j,se,17),en(V,j,pe,17)):(en(L,j,pe,17),en(V,j,se,17))},d:()=>Date.now(),s:()=>2147483648,c:()=>performance.now(),o:L=>{var V=j.length;if(L>>>=0,2147483648<L)return!1;for(var se=1;4>=se;se*=2){var pe=V*(1+.2/se);pe=Math.min(pe,L+100663296);e:{pe=(Math.min(2147483648,65536*Math.ceil(Math.max(L,pe)/65536))-O.buffer.byteLength+65535)/65536|0;try{O.grow(pe),ne();var Re=1;break e}catch{}Re=void 0}if(Re)return!0}return!1},E:(L,V)=>{var se=0;return xf().forEach((pe,Re)=>{var Ge=V+se;for(Re=z[L+4*Re>>2]=Ge,Ge=0;Ge<pe.length;++Ge)T[Re++]=pe.charCodeAt(Ge);T[Re]=0,se+=pe.length+1}),0},F:(L,V)=>{var se=xf();z[L>>2]=se.length;var pe=0;return se.forEach(Re=>pe+=Re.length+1),z[V>>2]=pe,0},e:function(L){try{var V=Jn(L);return Gt(V),0}catch(se){if(typeof En>"u"||se.name!=="ErrnoError")throw se;return se.Pa}},p:function(L,V){try{var se=Jn(L);return T[V]=se.tty?2:wr(se.mode)?3:(se.mode&61440)===40960?7:4,P[V+2>>1]=0,q[V+8>>3]=BigInt(0),q[V+16>>3]=BigInt(0),0}catch(pe){if(typeof En>"u"||pe.name!=="ErrnoError")throw pe;return pe.Pa}},w:function(L,V,se,pe){try{e:{var Re=Jn(L);L=V;for(var Ge,ht=V=0;ht<se;ht++){var kn=z[L>>2],Tn=z[L+4>>2];L+=8;var Mn=mr(Re,T,kn,Tn,Ge);if(0>Mn){var Nr=-1;break e}if(V+=Mn,Mn<Tn)break;typeof Ge<"u"&&(Ge+=Mn)}Nr=V}return z[pe>>2]=Nr,0}catch(ni){if(typeof En>"u"||ni.name!=="ErrnoError")throw ni;return ni.Pa}},D:function(L,V,se,pe){V=-9007199254740992>V||9007199254740992<V?NaN:Number(V);try{if(isNaN(V))return 61;var Re=Jn(L);return jn(Re,V,se),q[pe>>3]=BigInt(Re.position),Re.ob&&V===0&&se===0&&(Re.ob=null),0}catch(Ge){if(typeof En>"u"||Ge.name!=="ErrnoError")throw Ge;return Ge.Pa}},I:function(L){try{var V=Jn(L);return V.Ma?.fsync?V.Ma.fsync(V):0}catch(se){if(typeof En>"u"||se.name!=="ErrnoError")throw se;return se.Pa}},t:function(L,V,se,pe){try{e:{var Re=Jn(L);L=V;for(var Ge,ht=V=0;ht<se;ht++){var kn=z[L>>2],Tn=z[L+4>>2];L+=8;var Mn=ai(Re,T,kn,Tn,Ge);if(0>Mn){var Nr=-1;break e}if(V+=Mn,Mn<Tn)break;typeof Ge<"u"&&(Ge+=Mn)}Nr=V}return z[pe>>2]=Nr,0}catch(ni){if(typeof En>"u"||ni.name!=="ErrnoError")throw ni;return ni.Pa}},k:BA},mn;(async function(){function L(se){return mn=se.exports,O=mn.M,ne(),ul=mn.O,K--,u.monitorRunDependencies?.(K),K==0&&H&&(se=H,H=null,se()),mn}K++,u.monitorRunDependencies?.(K);var V={a:Uc};return u.instantiateWasm?new Promise(se=>{u.instantiateWasm(V,(pe,Re)=>{L(pe),se(pe.exports)})}):(X??=u.locateFile?u.locateFile("sql-wasm.wasm",x):x+"sql-wasm.wasm",L((await he(V)).instance))})(),u._sqlite3_free=L=>(u._sqlite3_free=mn.P)(L),u._sqlite3_value_text=L=>(u._sqlite3_value_text=mn.Q)(L),u._sqlite3_prepare_v2=(L,V,se,pe,Re)=>(u._sqlite3_prepare_v2=mn.R)(L,V,se,pe,Re),u._sqlite3_step=L=>(u._sqlite3_step=mn.S)(L),u._sqlite3_reset=L=>(u._sqlite3_reset=mn.T)(L),u._sqlite3_exec=(L,V,se,pe,Re)=>(u._sqlite3_exec=mn.U)(L,V,se,pe,Re),u._sqlite3_finalize=L=>(u._sqlite3_finalize=mn.V)(L),u._sqlite3_column_name=(L,V)=>(u._sqlite3_column_name=mn.W)(L,V),u._sqlite3_column_text=(L,V)=>(u._sqlite3_column_text=mn.X)(L,V),u._sqlite3_column_type=(L,V)=>(u._sqlite3_column_type=mn.Y)(L,V),u._sqlite3_errmsg=L=>(u._sqlite3_errmsg=mn.Z)(L),u._sqlite3_clear_bindings=L=>(u._sqlite3_clear_bindings=mn._)(L),u._sqlite3_value_blob=L=>(u._sqlite3_value_blob=mn.$)(L),u._sqlite3_value_bytes=L=>(u._sqlite3_value_bytes=mn.aa)(L),u._sqlite3_value_double=L=>(u._sqlite3_value_double=mn.ba)(L),u._sqlite3_value_int=L=>(u._sqlite3_value_int=mn.ca)(L),u._sqlite3_value_type=L=>(u._sqlite3_value_type=mn.da)(L),u._sqlite3_result_blob=(L,V,se,pe)=>(u._sqlite3_result_blob=mn.ea)(L,V,se,pe),u._sqlite3_result_double=(L,V)=>(u._sqlite3_result_double=mn.fa)(L,V),u._sqlite3_result_error=(L,V,se)=>(u._sqlite3_result_error=mn.ga)(L,V,se),u._sqlite3_result_int=(L,V)=>(u._sqlite3_result_int=mn.ha)(L,V),u._sqlite3_result_int64=(L,V)=>(u._sqlite3_result_int64=mn.ia)(L,V),u._sqlite3_result_null=L=>(u._sqlite3_result_null=mn.ja)(L),u._sqlite3_result_text=(L,V,se,pe)=>(u._sqlite3_result_text=mn.ka)(L,V,se,pe),u._sqlite3_aggregate_context=(L,V)=>(u._sqlite3_aggregate_context=mn.la)(L,V),u._sqlite3_column_count=L=>(u._sqlite3_column_count=mn.ma)(L),u._sqlite3_data_count=L=>(u._sqlite3_data_count=mn.na)(L),u._sqlite3_column_blob=(L,V)=>(u._sqlite3_column_blob=mn.oa)(L,V),u._sqlite3_column_bytes=(L,V)=>(u._sqlite3_column_bytes=mn.pa)(L,V),u._sqlite3_column_double=(L,V)=>(u._sqlite3_column_double=mn.qa)(L,V),u._sqlite3_bind_blob=(L,V,se,pe,Re)=>(u._sqlite3_bind_blob=mn.ra)(L,V,se,pe,Re),u._sqlite3_bind_double=(L,V,se)=>(u._sqlite3_bind_double=mn.sa)(L,V,se),u._sqlite3_bind_int=(L,V,se)=>(u._sqlite3_bind_int=mn.ta)(L,V,se),u._sqlite3_bind_text=(L,V,se,pe,Re)=>(u._sqlite3_bind_text=mn.ua)(L,V,se,pe,Re),u._sqlite3_bind_parameter_index=(L,V)=>(u._sqlite3_bind_parameter_index=mn.va)(L,V),u._sqlite3_sql=L=>(u._sqlite3_sql=mn.wa)(L),u._sqlite3_normalized_sql=L=>(u._sqlite3_normalized_sql=mn.xa)(L),u._sqlite3_changes=L=>(u._sqlite3_changes=mn.ya)(L),u._sqlite3_close_v2=L=>(u._sqlite3_close_v2=mn.za)(L),u._sqlite3_create_function_v2=(L,V,se,pe,Re,Ge,ht,kn,Tn)=>(u._sqlite3_create_function_v2=mn.Aa)(L,V,se,pe,Re,Ge,ht,kn,Tn),u._sqlite3_update_hook=(L,V,se)=>(u._sqlite3_update_hook=mn.Ba)(L,V,se),u._sqlite3_open=(L,V)=>(u._sqlite3_open=mn.Ca)(L,V);var ic=u._malloc=L=>(ic=u._malloc=mn.Da)(L),Dn=u._free=L=>(Dn=u._free=mn.Ea)(L);u._RegisterExtensionFunctions=L=>(u._RegisterExtensionFunctions=mn.Fa)(L);var IA=(L,V)=>(IA=mn.Ga)(L,V),bf=(L,V)=>(bf=mn.Ha)(L,V),bu=L=>(bu=mn.Ia)(L),Ei=L=>(Ei=mn.Ja)(L),ci=()=>(ci=mn.Ka)();u.stackSave=()=>ci(),u.stackRestore=L=>bu(L),u.stackAlloc=L=>Ei(L),u.cwrap=(L,V,se,pe)=>{var Re=!se||se.every(Ge=>Ge==="number"||Ge==="boolean");return V!=="string"&&Re&&!pe?u["_"+L]:(...Ge)=>fd(L,V,se,Ge)},u.addFunction=eo,u.removeFunction=li,u.UTF8ToString=tt,u.ALLOC_NORMAL=Ad,u.allocate=hd,u.allocateUTF8OnStack=Xo;function md(){function L(){if(u.calledRun=!0,!F){if(!u.noFSInit&&!Lt){var V,se;Lt=!0,pe??=u.stdin,V??=u.stdout,se??=u.stderr,pe?ki("stdin",pe):Pr("/dev/tty","/dev/stdin"),V?ki("stdout",null,V):Pr("/dev/tty","/dev/stdout"),se?ki("stderr",null,se):Pr("/dev/tty1","/dev/stderr"),Pt("/dev/stdin",0),Pt("/dev/stdout",1),Pt("/dev/stderr",1)}if(mn.N(),Ut=!1,u.onRuntimeInitialized?.(),u.postRun)for(typeof u.postRun=="function"&&(u.postRun=[u.postRun]);u.postRun.length;){var pe=u.postRun.shift();me.unshift(pe)}Be(me)}}if(0<K)H=md;else{if(u.preRun)for(typeof u.preRun=="function"&&(u.preRun=[u.preRun]);u.preRun.length;)Ee();Be(ve),0<K?H=md:u.setStatus?(u.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>u.setStatus(""),1),L()},1)):L()}}if(u.preInit)for(typeof u.preInit=="function"&&(u.preInit=[u.preInit]);0<u.preInit.length;)u.preInit.pop()();return md(),o}),n)};t.exports=r,t.exports.default=r})(r_)),r_.exports}var GHe=qHe();const Bae=nc(GHe);function Eae({query:t,schemaContext:e}){const[n,r]=C.useState(!1),[s,i]=C.useState(null),[a,o]=C.useState(null),[c,u]=C.useState(!0);C.useEffect(()=>{(async()=>{try{const x=await Bae({locateFile:v=>`/${v}`});o(x),u(!1)}catch(x){console.error("Failed to initialize SQL.js:",x),u(!1)}})()},[]);const d=async()=>{if(!(!t?.trim()||!a)){r(!0),i(null);try{const y=new a.Database;e?.trim()&&y.run(e);const x=y.exec(t);if(x.length>0){const v=x[0];i({success:!0,output:"Success",parsedData:{columns:v.columns,rows:v.values}})}else i({success:!0,output:"Query executed successfully. No rows returned.",parsedData:{columns:[],rows:[]}});y.close()}catch(y){i({success:!1,error:y.message||"Execution failed"})}finally{r(!1)}}},f=y=>{navigator.clipboard.writeText(y)},h=()=>{if(!s?.parsedData)return{columns:[],rows:[]};const{columns:y,rows:x}=s.parsedData;return{columns:y||[],rows:x||[]}},{columns:m,rows:g}=h();return l.jsxs("div",{style:{marginTop:"1rem"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem"},children:[l.jsx("div",{style:{display:"flex",gap:"0.5rem"},children:l.jsx("button",{onClick:d,disabled:n||!t?.trim()||c,style:{fontSize:"0.85rem",padding:"0.6rem 1rem",display:"flex",alignItems:"center",gap:"0.5rem",background:"linear-gradient(135deg, #3b82f6, #2563eb)",color:"white",border:"none",borderRadius:"8px",cursor:n||!t?.trim()||c?"not-allowed":"pointer",opacity:n||!t?.trim()||c?.6:1,fontWeight:500},children:c?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"spinner-small"}),"Initializing..."]}):n?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"spinner-small"}),"Running..."]}):l.jsxs(l.Fragment,{children:[l.jsx(K8,{size:16}),"Run & Visualize"]})})}),!c&&l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.4rem",fontSize:"0.75rem",color:"#10b981",background:"rgba(16, 185, 129, 0.1)",padding:"0.4rem 0.75rem",borderRadius:"20px",fontWeight:600,border:"1px solid rgba(16, 185, 129, 0.2)"},children:[l.jsx(Ka,{size:12}),"WASM Sandbox Active"]})]}),s&&l.jsxs("div",{style:{background:"var(--bg-dark)",borderRadius:"12px",overflow:"hidden",border:"1px solid var(--border-color)"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.75rem 1rem",borderBottom:"1px solid var(--border-color)",background:"var(--bg-card)"},children:[l.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:s.success?l.jsxs(l.Fragment,{children:[l.jsx($n,{size:16,color:"#10b981"}),l.jsx("span",{style:{fontWeight:500,color:"#10b981"},children:"Results"})]}):l.jsxs(l.Fragment,{children:[l.jsx(Jr,{size:16,color:"#ef4444"}),l.jsx("span",{style:{fontWeight:500,color:"#ef4444"},children:"Error"})]})}),s.success&&g.length>0&&l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[l.jsxs("span",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:[g.length," row(s) returned"]}),l.jsxs("button",{onClick:()=>f(s.output||""),style:{display:"flex",alignItems:"center",gap:"0.3rem",padding:"0.3rem 0.6rem",fontSize:"0.75rem",background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"4px",color:"var(--text-muted)",cursor:"pointer"},children:[l.jsx($J,{size:12})," Copy"]})]})]}),l.jsx("div",{style:{padding:"1rem"},children:s.success?l.jsx(l.Fragment,{children:m.length>0&&g.length>0?l.jsx("div",{style:{overflowX:"auto",maxHeight:"350px"},children:l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.85rem"},children:[l.jsx("thead",{children:l.jsx("tr",{style:{background:"rgba(59, 130, 246, 0.1)",position:"sticky",top:0},children:m.map((y,x)=>l.jsx("th",{style:{padding:"0.75rem 1rem",textAlign:"left",borderBottom:"2px solid var(--border-color)",fontWeight:600,color:"#3b82f6",whiteSpace:"nowrap"},children:y},x))})}),l.jsx("tbody",{children:g.map((y,x)=>l.jsx("tr",{style:{background:x%2===0?"transparent":"rgba(255,255,255,0.02)"},children:y.map((v,w)=>l.jsx("td",{style:{padding:"0.6rem 1rem",borderBottom:"1px solid var(--border-color)",color:v===null||v===""?"var(--text-muted)":"var(--text-main)"},children:v===null?"NULL":v},w))},x))})]})}):l.jsx("div",{style:{padding:"1rem",textAlign:"center",color:"var(--text-muted)",fontStyle:"italic"},children:"Query executed successfully. No rows returned."})}):l.jsx("div",{style:{padding:"1rem",background:"rgba(239, 68, 68, 0.1)",borderRadius:"8px",border:"1px solid rgba(239, 68, 68, 0.2)"},children:l.jsx("pre",{style:{margin:0,fontSize:"0.85rem",color:"#f87171",whiteSpace:"pre-wrap",wordBreak:"break-word",fontFamily:"monospace"},children:s.error||s.output||"Unknown error"})})})]})]})}function KHe(t){if(!t||!t.trim())return{tables:[]};const e=[],n=/CREATE\s+TABLE\s+(?:IF\s+NOT\s+EXISTS\s+)?[`"']?(\w+)[`"']?\s*\(([\s\S]*?)\)\s*;/gi;let r;for(;(r=n.exec(t))!==null;){const s=r[1],i=r[2],a=[],o=i.match(/PRIMARY\s+KEY\s*\(([^)]+)\)/i),c=o?o[1].split(",").map(m=>m.trim().replace(/[`"']/g,"").toLowerCase()):[],u=/FOREIGN\s+KEY\s*\(\s*[`"']?(\w+)[`"']?\s*\)\s*REFERENCES\s+[`"']?(\w+)[`"']?\s*\(\s*[`"']?(\w+)[`"']?\s*\)/gi,d={};let f;for(;(f=u.exec(i))!==null;)d[f[1].toLowerCase()]={table:f[2],column:f[3]};const h=i.split(`
`).map(m=>m.trim().replace(/,\s*$/,"")).filter(m=>m.length>0);for(const m of h){if(/^\s*(PRIMARY\s+KEY|FOREIGN\s+KEY|UNIQUE|CHECK|CONSTRAINT|INDEX|KEY\s)/i.test(m))continue;const g=m.match(/^[`"']?(\w+)[`"']?\s+(\w+(?:\s*\([^)]*\))?)\s*(.*)?$/i);if(!g)continue;const y=g[1],x=g[2],v=g[3]||"",w=c.includes(y.toLowerCase())||/PRIMARY\s+KEY/i.test(v),B=d.hasOwnProperty(y.toLowerCase());a.push({name:y,type:x,isPrimaryKey:w,isForeignKey:B,isNotNull:/NOT\s+NULL/i.test(v),isAutoIncrement:/AUTO_INCREMENT|AUTOINCREMENT/i.test(v),defaultValue:v.match(/DEFAULT\s+([^\s,]+)/i)?.[1]||null,references:B?d[y.toLowerCase()]:null})}a.length>0&&e.push({name:s,columns:a})}return{tables:e}}function XHe(t){const e=(t||"").toLowerCase();return e.includes("int")||e.includes("decimal")||e.includes("float")||e.includes("double")||e.includes("numeric")?l.jsx(H6,{size:12,color:"#f59e0b"}):e.includes("char")||e.includes("text")||e.includes("varchar")?l.jsx(fye,{size:12,color:"#3b82f6"}):e.includes("date")||e.includes("time")||e.includes("timestamp")?l.jsx(d1,{size:12,color:"#8b5cf6"}):e.includes("bool")?l.jsx(q6,{size:12,color:"#10b981"}):l.jsx(H6,{size:12,color:"#64748b"})}function Iae({schema:t}){const[e,n]=C.useState(null),[r,s]=C.useState({});C.useEffect(()=>{if(t){const o=KHe(t);if(n(o),o.tables){const c={};o.tables.forEach(u=>c[u.name]=!0),s(c)}}},[t]);const i=o=>{s(c=>({...c,[o]:!c[o]}))};if(!e||!e.tables||e.tables.length===0)return l.jsxs("div",{className:"glass",style:{padding:"2rem",textAlign:"center",borderRadius:"16px"},children:[l.jsx(Ka,{size:32,style:{opacity:.3,marginBottom:"1rem"}}),l.jsx("p",{style:{color:"var(--text-muted)",fontSize:"0.9rem"},children:"No schema detected for this problem."})]});const a=[];return e.tables.forEach(o=>{o.columns.forEach(c=>{c.isForeignKey&&c.references&&a.push({from:o.name,fromCol:c.name,to:c.references.table,toCol:c.references.column})})}),l.jsxs("div",{className:"sql-visualizer animate-fadeIn",children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1.5rem"},children:[l.jsx("div",{style:{padding:"0.5rem",background:"linear-gradient(135deg, #3b82f6, #8b5cf6)",borderRadius:"10px",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.3)"},children:l.jsx(Ka,{size:20,color:"white"})}),l.jsxs("div",{children:[l.jsx("h3",{style:{margin:0,fontSize:"1.1rem",fontWeight:700},children:"Database Map"}),l.jsxs("p",{style:{margin:0,fontSize:"0.75rem",color:"var(--text-muted)"},children:["Interactive Entity Relationship View  ",e.tables.length," table(s) detected"]})]}),l.jsx("div",{style:{marginLeft:"auto",display:"flex",alignItems:"center",gap:"0.4rem",fontSize:"0.7rem",color:"#10b981",background:"rgba(16, 185, 129, 0.1)",padding:"0.35rem 0.7rem",borderRadius:"20px",fontWeight:600,border:"1px solid rgba(16, 185, 129, 0.2)"},children:" Local Parse"})]}),a.length>0&&l.jsxs("div",{style:{marginBottom:"1.5rem",padding:"0.75rem 1rem",background:"rgba(139, 92, 246, 0.08)",borderRadius:"12px",border:"1px solid rgba(139, 92, 246, 0.15)"},children:[l.jsx("div",{style:{fontSize:"0.75rem",fontWeight:700,color:"#a78bfa",marginBottom:"0.5rem",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Relationships"}),a.map((o,c)=>l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.8rem",marginBottom:"0.25rem"},children:[l.jsx("span",{style:{fontWeight:600,color:"#3b82f6"},children:o.from}),l.jsxs("span",{style:{color:"var(--text-muted)"},children:[".",o.fromCol]}),l.jsx("span",{style:{color:"#f59e0b"},children:""}),l.jsx("span",{style:{fontWeight:600,color:"#10b981"},children:o.to}),l.jsxs("span",{style:{color:"var(--text-muted)"},children:[".",o.toCol]})]},c))]}),l.jsx("div",{className:"er-diagram-container",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"1.5rem"},children:e.tables.map(o=>l.jsxs("div",{className:"glass table-card",style:{borderRadius:"16px",overflow:"hidden",border:"1px solid var(--glass-border)",boxShadow:"0 10px 25px rgba(0,0,0,0.1)",background:"var(--glass-bg)",transition:"all 0.3s ease"},children:[l.jsxs("div",{onClick:()=>i(o.name),style:{padding:"1rem",background:"rgba(59, 130, 246, 0.1)",borderBottom:r[o.name]?"1px solid var(--glass-border)":"none",display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[l.jsx(K8,{size:18,color:"#3b82f6"}),l.jsx("span",{style:{fontWeight:700,fontSize:"1rem",letterSpacing:"-0.01em"},children:o.name}),l.jsxs("span",{style:{fontSize:"0.7rem",color:"var(--text-muted)",background:"rgba(255,255,255,0.05)",padding:"0.15rem 0.5rem",borderRadius:"10px"},children:[o.columns.length," cols"]})]}),r[o.name]?l.jsx(tm,{size:16}):l.jsx(gh,{size:16})]}),r[o.name]&&l.jsx("div",{className:"table-columns",style:{padding:"0.5rem 0"},children:o.columns.map((c,u)=>l.jsxs("div",{className:"column-row",style:{padding:"0.6rem 1rem",display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:"0.85rem",borderBottom:u===o.columns.length-1?"none":"1px solid rgba(255,255,255,0.03)"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[c.isPrimaryKey?l.jsx(W6,{size:14,color:"#f59e0b",title:"Primary Key"}):c.isForeignKey?l.jsx(a0e,{size:14,color:"#10b981",title:`FK  ${c.references?.table}`}):XHe(c.type),l.jsx("span",{style:{fontWeight:c.isPrimaryKey||c.isForeignKey?600:400},children:c.name}),c.isPrimaryKey&&l.jsx("span",{style:{fontSize:"0.6rem",background:"rgba(245, 158, 11, 0.15)",color:"#f59e0b",padding:"0.1rem 0.4rem",borderRadius:"4px",fontWeight:700},children:"PK"}),c.isForeignKey&&l.jsx("span",{style:{fontSize:"0.6rem",background:"rgba(16, 185, 129, 0.15)",color:"#10b981",padding:"0.1rem 0.4rem",borderRadius:"4px",fontWeight:700},children:"FK"}),c.isNotNull&&l.jsx("span",{style:{fontSize:"0.6rem",background:"rgba(239, 68, 68, 0.15)",color:"#ef4444",padding:"0.1rem 0.4rem",borderRadius:"4px",fontWeight:700},children:"NN"})]}),l.jsx("span",{style:{color:"var(--text-muted)",fontSize:"0.75rem",fontFamily:"monospace"},children:c.type?.toLowerCase()})]},u))})]},o.name))}),l.jsx("style",{children:`
                .table-card:hover {
                    transform: translateY(-5px);
                    border-color: var(--primary);
                    box-shadow: 0 15px 35px rgba(59, 130, 246, 0.15);
                }
                .column-row:hover {
                    background: rgba(255, 255, 255, 0.05);
                }
                .sql-visualizer {
                    padding: 1.5rem;
                    background: rgba(15, 23, 42, 0.2);
                    border-radius: 20px;
                    border: 1px solid var(--border-color);
                }
            `})]})}function YHe(t){if(!t||!t.trim())return[];const e=t.trim(),n=[],r=e.replace(/\s+/g," "),s=r.match(/FROM\s+(.+?)(?:\s+WHERE|\s+GROUP\s+BY|\s+HAVING|\s+ORDER\s+BY|\s+LIMIT|\s*;?\s*$)/i),i=r.match(/WHERE\s+(.+?)(?:\s+GROUP\s+BY|\s+HAVING|\s+ORDER\s+BY|\s+LIMIT|\s*;?\s*$)/i),a=r.match(/GROUP\s+BY\s+(.+?)(?:\s+HAVING|\s+ORDER\s+BY|\s+LIMIT|\s*;?\s*$)/i),o=r.match(/HAVING\s+(.+?)(?:\s+ORDER\s+BY|\s+LIMIT|\s*;?\s*$)/i),c=r.match(/ORDER\s+BY\s+(.+?)(?:\s+LIMIT|\s*;?\s*$)/i),u=r.match(/LIMIT\s+(\d+)/i),d=s?s[1].trim():null;if(!d)return n.push({stepName:"Execute",description:"Run the full query",query:e}),n;if(n.push({stepName:"1. FROM (Base Data)",description:`Load all rows from: ${d}`,query:`SELECT * FROM ${d};`}),i&&n.push({stepName:"2. WHERE (Filter)",description:`Apply filter: ${i[1].trim()}`,query:`SELECT * FROM ${d} WHERE ${i[1].trim()};`}),a){const g=a[1].trim();let y=`SELECT ${g}, COUNT(*) as count FROM ${d}`;i&&(y+=` WHERE ${i[1].trim()}`),y+=` GROUP BY ${g}`,o&&(y+=` HAVING ${o[1].trim()}`),y+=";",n.push({stepName:"3. GROUP BY (Aggregate)",description:`Group rows by: ${g}${o?` with HAVING: ${o[1].trim()}`:""}`,query:y})}let f=r.replace(/\s*ORDER\s+BY\s+.+?(?=\s+LIMIT|\s*;?\s*$)/i,"").replace(/\s*LIMIT\s+\d+/i,"").replace(/;?\s*$/,";");f!==e.replace(/;?\s*$/,";")&&n.push({stepName:`${a?"4":i?"3":"2"}. SELECT (Projection)`,description:"Apply column selection and expressions",query:f}),(c||u)&&n.push({stepName:`${n.length+1}. Final Result`,description:`${c?`Sort by: ${c[1].trim()}`:""}${u?` | Limit: ${u[1]}`:""}`,query:e.replace(/;?\s*$/,";")});const h=n[n.length-1]?.query?.replace(/;\s*$/,"").trim().toLowerCase(),m=e.replace(/;\s*$/,"").trim().toLowerCase();return h!==m&&n.push({stepName:`${n.length+1}. Final Result`,description:"Complete query output",query:e.replace(/;?\s*$/,";")}),n}function Nae({query:t,schema:e}){const[n,r]=C.useState([]),[s,i]=C.useState(0),[a,o]=C.useState(!1),[c,u]=C.useState({}),[d,f]=C.useState(null),[h,m]=C.useState(null),[g,y]=C.useState(!1);C.useEffect(()=>{(async()=>{try{const E=await Bae({locateFile:N=>`/${N}`});m(E),y(!0)}catch(E){console.error("Failed to init SQL.js:",E)}})()},[]);const x=(k,E)=>{try{const N=k.exec(E);return N.length>0?{columns:N[0].columns,rows:N[0].values}:{columns:[],rows:[]}}catch(N){return{error:N.message}}},v=()=>{if(!(!t||!h)){o(!0),f(null),u({});try{const k=YHe(t);if(k.length===0){f("Could not break down the query. Make sure it is a valid SELECT statement."),o(!1);return}r(k),i(0);const E=new h.Database;e?.trim()&&E.run(e);const N={};for(let O=0;O<k.length;O++)N[O]=x(E,k[O].query);u(N),E.close()}catch(k){f(k.message||"Failed to analyze query.")}finally{o(!1)}}},w=()=>{s<n.length-1&&i(s+1)},B=()=>{s>0&&i(s-1)};return l.jsxs("div",{className:"sql-debugger-panel animate-fadeIn",children:[l.jsxs("div",{className:"debugger-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1.25rem",borderBottom:"1px solid var(--border-color)",background:"rgba(59, 130, 246, 0.05)"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[l.jsx(qu,{size:20,color:"#3b82f6"}),l.jsxs("div",{children:[l.jsx("h3",{style:{margin:0,fontSize:"1rem",fontWeight:700},children:"Step-Wise Debugger"}),l.jsx("p",{style:{margin:0,fontSize:"0.75rem",color:"var(--text-muted)"},children:"Trace query logic layer by layer"})]})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[g&&l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.4rem",fontSize:"0.7rem",color:"#10b981",background:"rgba(16, 185, 129, 0.1)",padding:"0.35rem 0.7rem",borderRadius:"20px",fontWeight:600,border:"1px solid rgba(16, 185, 129, 0.2)"},children:[l.jsx(Ka,{size:12})," WASM"]}),l.jsxs("button",{onClick:v,disabled:a||!g,style:{padding:"0.6rem 1.25rem",background:"linear-gradient(135deg, #10b981, #059669)",color:"white",border:"none",borderRadius:"8px",fontSize:"0.85rem",fontWeight:600,cursor:a||!g?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"0.5rem",opacity:a||!g?.6:1},children:[l.jsx(ef,{size:16})," ",n.length>0?"Restart Trace":"Trace Query"]})]})]}),d&&l.jsxs("div",{style:{padding:"1rem 1.25rem",background:"rgba(239, 68, 68, 0.1)",borderBottom:"1px solid rgba(239, 68, 68, 0.2)",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(Q6,{size:16,color:"#ef4444"}),l.jsx("span",{style:{fontSize:"0.85rem",color:"#f87171"},children:d})]}),l.jsxs("div",{className:"debugger-content",style:{display:"grid",gridTemplateColumns:"300px 1fr",minHeight:"400px"},children:[l.jsxs("div",{className:"steps-sidebar",style:{borderRight:"1px solid var(--border-color)",background:"rgba(0,0,0,0.1)"},children:[n.map((k,E)=>l.jsxs("div",{onClick:()=>i(E),style:{padding:"1rem 1.25rem",borderBottom:"1px solid rgba(255,255,255,0.03)",cursor:"pointer",background:s===E?"rgba(59, 130, 246, 0.15)":"transparent",position:"relative",display:"flex",alignItems:"flex-start",gap:"0.75rem",transition:"background 0.2s"},children:[l.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:c[E]?.error?"#ef4444":E<=s?"#10b981":"var(--bg-dark)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.75rem",fontWeight:800,color:"white",marginTop:"2px",flexShrink:0},children:c[E]?.error?"!":E<s?l.jsx(_ge,{size:14}):E+1}),l.jsxs("div",{children:[l.jsx("div",{style:{fontWeight:600,fontSize:"0.85rem"},children:k.stepName}),l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-muted)",marginTop:"2px"},children:k.description}),c[E]&&!c[E].error&&l.jsxs("div",{style:{fontSize:"0.65rem",color:"#10b981",marginTop:"3px"},children:[c[E].rows.length," row(s)"]})]}),s===E&&l.jsx("div",{style:{position:"absolute",right:0,top:"50%",transform:"translateY(-50%)",width:"3px",height:"60%",background:"#3b82f6",borderRadius:"3px 0 0 3px"}})]},E)),n.length===0&&l.jsxs("div",{style:{padding:"2rem",textAlign:"center",color:"var(--text-muted)",fontSize:"0.85rem"},children:[l.jsx(Ga,{size:32,style:{marginBottom:"1rem",opacity:.2}}),l.jsx("p",{children:'Click "Trace Query" to analyze SQL logic steps.'})]})]}),l.jsx("div",{className:"result-area",style:{display:"flex",flexDirection:"column"},children:n.length>0?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"step-query-info",style:{padding:"1rem 1.5rem",background:"rgba(0,0,0,0.2)"},children:[l.jsx("div",{style:{fontSize:"0.7rem",textTransform:"uppercase",letterSpacing:"0.05em",color:"#10b981",fontWeight:700,marginBottom:"0.5rem"},children:"Current Operation Query"}),l.jsx("div",{style:{background:"#020617",padding:"0.75rem 1rem",borderRadius:"8px",fontFamily:"monospace",fontSize:"0.85rem",color:"#cbd5e1",border:"1px solid rgba(255,255,255,0.05)",whiteSpace:"pre-wrap"},children:n[s]?.query})]}),l.jsx("div",{className:"step-data-preview",style:{flex:1,padding:"1.5rem",overflow:"auto"},children:c[s]?.error?l.jsx("div",{style:{padding:"1rem",background:"rgba(239, 68, 68, 0.1)",borderRadius:"8px",border:"1px solid rgba(239, 68, 68, 0.2)"},children:l.jsx("pre",{style:{margin:0,fontSize:"0.85rem",color:"#f87171",whiteSpace:"pre-wrap",fontFamily:"monospace"},children:c[s].error})}):c[s]?l.jsx("div",{className:"debugger-table-container",children:c[s].columns.length>0&&c[s].rows.length>0?l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.85rem"},children:[l.jsx("thead",{children:l.jsx("tr",{style:{background:"rgba(255,255,255,0.05)"},children:c[s].columns.map((k,E)=>l.jsx("th",{style:{padding:"0.75rem",textAlign:"left",borderBottom:"2px solid var(--border-color)",color:"#3b82f6",fontWeight:600},children:k},E))})}),l.jsx("tbody",{children:c[s].rows.map((k,E)=>l.jsx("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.03)"},children:k.map((N,O)=>l.jsx("td",{style:{padding:"0.75rem",color:N===null?"var(--text-muted)":"var(--text-main)"},children:N===null?"NULL":String(N)},O))},E))})]}):l.jsx("div",{style:{padding:"2rem",textAlign:"center",color:"var(--text-muted)"},children:"Query executed successfully. No rows returned."})}):l.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",opacity:.5},children:[l.jsx(Q6,{size:32}),l.jsx("p",{style:{marginTop:"1rem"},children:"No data for this step."})]})}),l.jsxs("div",{className:"debugger-footer",style:{padding:"1rem 1.5rem",borderTop:"1px solid var(--border-color)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:["Step ",s+1," of ",n.length]}),l.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[s>0&&l.jsx("button",{onClick:B,style:{padding:"0.5rem 1.25rem",background:"rgba(255,255,255,0.05)",color:"var(--text-main)",border:"1px solid var(--border-color)",borderRadius:"8px",fontSize:"0.85rem",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:" Previous"}),s<n.length-1&&l.jsxs("button",{onClick:w,style:{padding:"0.5rem 1.25rem",background:"var(--primary)",color:"white",border:"none",borderRadius:"8px",fontSize:"0.85rem",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:["Next Step ",l.jsx(Y0e,{size:16})]})]})]})]}):l.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",flex:1,padding:"3rem",textAlign:"center"},children:[l.jsx("div",{style:{width:"64px",height:"64px",borderRadius:"20px",background:"rgba(59, 130, 246, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1.5rem"},children:l.jsx(qu,{size:32,color:"#3b82f6"})}),l.jsx("h4",{style:{margin:"0 0 0.5rem 0"},children:"Ready to Debug"}),l.jsx("p",{style:{margin:0,fontSize:"0.85rem",color:"var(--text-muted)",maxWidth:"400px"},children:"The debugger will break your SQL query into physical execution steps so you can see how data flows through JOINs and WHERE clauses."})]})})]}),l.jsx("style",{children:`
                .sql-debugger-panel {
                    border-radius: 20px;
                    overflow: hidden;
                    background: var(--bg-card);
                    border: 1px solid var(--border-color);
                    box-shadow: var(--glass-shadow);
                }
                .debugger-table-container {
                    border-radius: 12px;
                    border: 1px solid rgba(255,255,255,0.05);
                    overflow: hidden;
                    background: #020617;
                }
            `})]})}const dA=Object.create(null);dA.open="0";dA.close="1";dA.ping="2";dA.pong="3";dA.message="4";dA.upgrade="5";dA.noop="6";const lB=Object.create(null);Object.keys(dA).forEach(t=>{lB[dA[t]]=t});const KO={type:"error",data:"parser error"},jae=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Tae=typeof ArrayBuffer=="function",_ae=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,q$=({type:t,data:e},n,r)=>jae&&e instanceof Blob?n?r(e):xH(e,r):Tae&&(e instanceof ArrayBuffer||_ae(e))?n?r(e):xH(new Blob([e]),r):r(dA[t]+(e||"")),xH=(t,e)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];e("b"+(r||""))},n.readAsDataURL(t)};function bH(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let s_;function JHe(t,e){if(jae&&t.data instanceof Blob)return t.data.arrayBuffer().then(bH).then(e);if(Tae&&(t.data instanceof ArrayBuffer||_ae(t.data)))return e(bH(t.data));q$(t,!1,n=>{s_||(s_=new TextEncoder),e(s_.encode(n))})}const vH="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Mv=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<vH.length;t++)Mv[vH.charCodeAt(t)]=t;const ZHe=t=>{let e=t.length*.75,n=t.length,r,s=0,i,a,o,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const u=new ArrayBuffer(e),d=new Uint8Array(u);for(r=0;r<n;r+=4)i=Mv[t.charCodeAt(r)],a=Mv[t.charCodeAt(r+1)],o=Mv[t.charCodeAt(r+2)],c=Mv[t.charCodeAt(r+3)],d[s++]=i<<2|a>>4,d[s++]=(a&15)<<4|o>>2,d[s++]=(o&3)<<6|c&63;return u},eWe=typeof ArrayBuffer=="function",G$=(t,e)=>{if(typeof t!="string")return{type:"message",data:Rae(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:tWe(t.substring(1),e)}:lB[n]?t.length>1?{type:lB[n],data:t.substring(1)}:{type:lB[n]}:KO},tWe=(t,e)=>{if(eWe){const n=ZHe(t);return Rae(n,e)}else return{base64:!0,data:t}},Rae=(t,e)=>e==="blob"?t instanceof Blob?t:new Blob([t]):t instanceof ArrayBuffer?t:t.buffer,Oae="",nWe=(t,e)=>{const n=t.length,r=new Array(n);let s=0;t.forEach((i,a)=>{q$(i,!1,o=>{r[a]=o,++s===n&&e(r.join(Oae))})})},rWe=(t,e)=>{const n=t.split(Oae),r=[];for(let s=0;s<n.length;s++){const i=G$(n[s],e);if(r.push(i),i.type==="error")break}return r};function sWe(){return new TransformStream({transform(t,e){JHe(t,n=>{const r=n.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const i=new DataView(s.buffer);i.setUint8(0,126),i.setUint16(1,r)}else{s=new Uint8Array(9);const i=new DataView(s.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(r))}t.data&&typeof t.data!="string"&&(s[0]|=128),e.enqueue(s),e.enqueue(n)})}})}let i_;function PC(t){return t.reduce((e,n)=>e+n.length,0)}function UC(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let r=0;for(let s=0;s<e;s++)n[s]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),n}function iWe(t,e){i_||(i_=new TextDecoder);const n=[];let r=0,s=-1,i=!1;return new TransformStream({transform(a,o){for(n.push(a);;){if(r===0){if(PC(n)<1)break;const c=UC(n,1);i=(c[0]&128)===128,s=c[0]&127,s<126?r=3:s===126?r=1:r=2}else if(r===1){if(PC(n)<2)break;const c=UC(n,2);s=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(r===2){if(PC(n)<8)break;const c=UC(n,8),u=new DataView(c.buffer,c.byteOffset,c.length),d=u.getUint32(0);if(d>Math.pow(2,21)-1){o.enqueue(KO);break}s=d*Math.pow(2,32)+u.getUint32(4),r=3}else{if(PC(n)<s)break;const c=UC(n,s);o.enqueue(G$(i?c:i_.decode(c),e)),r=0}if(s===0||s>t){o.enqueue(KO);break}}}})}const Fae=4;function Va(t){if(t)return aWe(t)}function aWe(t){for(var e in Va.prototype)t[e]=Va.prototype[e];return t}Va.prototype.on=Va.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Va.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};Va.prototype.off=Va.prototype.removeListener=Va.prototype.removeAllListeners=Va.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var r,s=0;s<n.length;s++)if(r=n[s],r===e||r.fn===e){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+t],this};Va.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,s=n.length;r<s;++r)n[r].apply(this,e)}return this};Va.prototype.emitReserved=Va.prototype.emit;Va.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Va.prototype.hasListeners=function(t){return!!this.listeners(t).length};const YN=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),Hu=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),oWe="arraybuffer";function Dae(t,...e){return e.reduce((n,r)=>(t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}const lWe=Hu.setTimeout,cWe=Hu.clearTimeout;function JN(t,e){e.useNativeTimers?(t.setTimeoutFn=lWe.bind(Hu),t.clearTimeoutFn=cWe.bind(Hu)):(t.setTimeoutFn=Hu.setTimeout.bind(Hu),t.clearTimeoutFn=Hu.clearTimeout.bind(Hu))}const uWe=1.33;function dWe(t){return typeof t=="string"?fWe(t):Math.ceil((t.byteLength||t.size)*uWe)}function fWe(t){let e=0,n=0;for(let r=0,s=t.length;r<s;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}function Lae(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function AWe(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function hWe(t){let e={},n=t.split("&");for(let r=0,s=n.length;r<s;r++){let i=n[r].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}class pWe extends Error{constructor(e,n,r){super(e),this.description=n,this.context=r,this.type="TransportError"}}class K$ extends Va{constructor(e){super(),this.writable=!1,JN(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,r){return super.emitReserved("error",new pWe(e,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=G$(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=AWe(e);return n.length?"?"+n:""}}class mWe extends K${constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};rWe(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,nWe(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=Lae()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let $ae=!1;try{$ae=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const gWe=$ae;function yWe(){}class xWe extends mWe{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,n){const r=this.request({method:"POST",data:e});r.on("success",n),r.on("error",(s,i)=>{this.onError("xhr post error",s,i)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=e}}class eA extends Va{constructor(e,n,r){super(),this.createRequest=e,JN(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var e;const n=Dae(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var s;r.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=eA.requestsCount++,eA.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=yWe,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete eA.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}eA.requestsCount=0;eA.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",wH);else if(typeof addEventListener=="function"){const t="onpagehide"in Hu?"pagehide":"unload";addEventListener(t,wH,!1)}}function wH(){for(let t in eA.requests)eA.requests.hasOwnProperty(t)&&eA.requests[t].abort()}const bWe=(function(){const t=Pae({xdomain:!1});return t&&t.responseType!==null})();class vWe extends xWe{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=bWe&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new eA(Pae,this.uri(),e)}}function Pae(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||gWe))return new XMLHttpRequest}catch{}if(!e)try{return new Hu[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Uae=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class wWe extends K${get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,r=Uae?{}:Dae(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,r)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],s=n===e.length-1;q$(r,this.supportsBinary,i=>{try{this.doWrite(r,i)}catch{}s&&YN(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=Lae()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const a_=Hu.WebSocket||Hu.MozWebSocket;class SWe extends wWe{createSocket(e,n,r){return Uae?new a_(e,n,r):n?new a_(e,n):new a_(e)}doWrite(e,n){this.ws.send(n)}}class CWe extends K${get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=iWe(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(n).getReader(),s=sWe();s.readable.pipeTo(e.writable),this._writer=s.writable.getWriter();const i=()=>{r.read().then(({done:o,value:c})=>{o||(this.onPacket(c),i())}).catch(o=>{})};i();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this._writer.write(a).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],s=n===e.length-1;this._writer.write(r).then(()=>{s&&YN(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const kWe={websocket:SWe,webtransport:CWe,polling:vWe},BWe=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,EWe=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function XO(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),r=t.indexOf("]");n!=-1&&r!=-1&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let s=BWe.exec(t||""),i={},a=14;for(;a--;)i[EWe[a]]=s[a]||"";return n!=-1&&r!=-1&&(i.source=e,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=IWe(i,i.path),i.queryKey=NWe(i,i.query),i}function IWe(t,e){const n=/\/{2,9}/g,r=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function NWe(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,s,i){s&&(n[s]=i)}),n}const YO=typeof addEventListener=="function"&&typeof removeEventListener=="function",cB=[];YO&&addEventListener("offline",()=>{cB.forEach(t=>t())},!1);class Xp extends Va{constructor(e,n){if(super(),this.binaryType=oWe,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const r=XO(e);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=XO(n.host).host);JN(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const s=r.prototype.name;this.transports.push(s),this._transportsByName[s]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=hWe(this.opts.query)),YO&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},cB.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=Fae,n.transport=e,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&Xp.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Xp.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const s=this.writeBuffer[r].data;if(s&&(n+=dWe(s)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,YN(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,r){return this._sendPacket("message",e,n,r),this}send(e,n,r){return this._sendPacket("message",e,n,r),this}_sendPacket(e,n,r,s){if(typeof n=="function"&&(s=n,n=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const i={type:e,data:n,options:r};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(Xp.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),YO&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=cB.indexOf(this._offlineEventListener);r!==-1&&cB.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}Xp.protocol=Fae;class jWe extends Xp{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),r=!1;Xp.priorWebsocketSuccess=!1;const s=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",f=>{if(!r)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Xp.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(d(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const h=new Error("probe error");h.transport=n.name,this.emitReserved("upgradeError",h)}}))};function i(){r||(r=!0,d(),n.close(),n=null)}const a=f=>{const h=new Error("probe error: "+f);h.transport=n.name,i(),this.emitReserved("upgradeError",h)};function o(){a("transport closed")}function c(){a("socket closed")}function u(f){n&&f.name!==n.name&&i()}const d=()=>{n.removeListener("open",s),n.removeListener("error",a),n.removeListener("close",o),this.off("close",c),this.off("upgrading",u)};n.once("open",s),n.once("error",a),n.once("close",o),this.once("close",c),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&n.push(e[r]);return n}}let TWe=class extends jWe{constructor(e,n={}){const r=typeof e=="object"?e:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(s=>kWe[s]).filter(s=>!!s)),super(e,r)}};function _We(t,e="",n){let r=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),r=XO(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+e,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}const RWe=typeof ArrayBuffer=="function",OWe=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,zae=Object.prototype.toString,FWe=typeof Blob=="function"||typeof Blob<"u"&&zae.call(Blob)==="[object BlobConstructor]",DWe=typeof File=="function"||typeof File<"u"&&zae.call(File)==="[object FileConstructor]";function X$(t){return RWe&&(t instanceof ArrayBuffer||OWe(t))||FWe&&t instanceof Blob||DWe&&t instanceof File}function uB(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(uB(t[n]))return!0;return!1}if(X$(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return uB(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&uB(t[n]))return!0;return!1}function LWe(t){const e=[],n=t.data,r=t;return r.data=JO(n,e),r.attachments=e.length,{packet:r,buffers:e}}function JO(t,e){if(!t)return t;if(X$(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=JO(t[r],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=JO(t[r],e));return n}return t}function $We(t,e){return t.data=ZO(t.data,e),delete t.attachments,t}function ZO(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=ZO(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=ZO(t[n],e));return t}const PWe=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];var Vr;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Vr||(Vr={}));class UWe{constructor(e){this.replacer=e}encode(e){return(e.type===Vr.EVENT||e.type===Vr.ACK)&&uB(e)?this.encodeAsBinary({type:e.type===Vr.EVENT?Vr.BINARY_EVENT:Vr.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===Vr.BINARY_EVENT||e.type===Vr.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=LWe(e),r=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(r),s}}class Y$ extends Va{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const r=n.type===Vr.BINARY_EVENT;r||n.type===Vr.BINARY_ACK?(n.type=r?Vr.EVENT:Vr.ACK,this.reconstructor=new zWe(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(X$(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const r={type:Number(e.charAt(0))};if(Vr[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===Vr.BINARY_EVENT||r.type===Vr.BINARY_ACK){const i=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const a=e.substring(i,n);if(a!=Number(a)||e.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(a)}if(e.charAt(n+1)==="/"){const i=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););r.nsp=e.substring(i,n)}else r.nsp="/";const s=e.charAt(n+1);if(s!==""&&Number(s)==s){const i=n+1;for(;++n;){const a=e.charAt(n);if(a==null||Number(a)!=a){--n;break}if(n===e.length)break}r.id=Number(e.substring(i,n+1))}if(e.charAt(++n)){const i=this.tryParse(e.substr(n));if(Y$.isPayloadValid(r.type,i))r.data=i;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case Vr.CONNECT:return SH(n);case Vr.DISCONNECT:return n===void 0;case Vr.CONNECT_ERROR:return typeof n=="string"||SH(n);case Vr.EVENT:case Vr.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&PWe.indexOf(n[0])===-1);case Vr.ACK:case Vr.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class zWe{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=$We(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function SH(t){return Object.prototype.toString.call(t)==="[object Object]"}const MWe=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Y$,Encoder:UWe,get PacketType(){return Vr}},Symbol.toStringTag,{value:"Module"}));function zd(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const QWe=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Mae extends Va{constructor(e,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[zd(e,"open",this.onopen.bind(this)),zd(e,"packet",this.onpacket.bind(this)),zd(e,"error",this.onerror.bind(this)),zd(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var r,s,i;if(QWe.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const a={type:Vr.EVENT,data:n};if(a.options={},a.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const d=this.ids++,f=n.pop();this._registerAckCallback(d,f),a.id=d}const o=(s=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||s===void 0?void 0:s.writable,c=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!o||(c?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(e,n){var r;const s=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(s===void 0){this.acks[e]=n;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===e&&this.sendBuffer.splice(o,1);n.call(this,new Error("operation has timed out"))},s),a=(...o)=>{this.io.clearTimeoutFn(i),n.apply(this,o)};a.withError=!0,this.acks[e]=a}emitWithAck(e,...n){return new Promise((r,s)=>{const i=(a,o)=>a?s(a):r(o);i.withError=!0,n.push(i),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((s,...i)=>(this._queue[0],s!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...i)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Vr.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){const r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Vr.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Vr.EVENT:case Vr.BINARY_EVENT:this.onevent(e);break;case Vr.ACK:case Vr.BINARY_ACK:this.onack(e);break;case Vr.DISCONNECT:this.ondisconnect();break;case Vr.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let r=!1;return function(...s){r||(r=!0,n.packet({type:Vr.ACK,id:e,data:s}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Vr.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,e.data)}}}function Jx(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Jx.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-n:t+n}return Math.min(t,this.max)|0};Jx.prototype.reset=function(){this.attempts=0};Jx.prototype.setMin=function(t){this.ms=t};Jx.prototype.setMax=function(t){this.max=t};Jx.prototype.setJitter=function(t){this.jitter=t};class eF extends Va{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,JN(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Jx({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const s=n.parser||MWe;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new TWe(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const s=zd(n,"open",function(){r.onopen(),e&&e()}),i=o=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",o),e?e(o):this.maybeReconnectOnOpen()},a=zd(n,"error",i);if(this._timeout!==!1){const o=this._timeout,c=this.setTimeoutFn(()=>{s(),i(new Error("timeout")),n.close()},o);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(s),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(zd(e,"ping",this.onping.bind(this)),zd(e,"data",this.ondata.bind(this)),zd(e,"error",this.onerror.bind(this)),zd(e,"close",this.onclose.bind(this)),zd(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){YN(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new Mae(this,e,n),this.nsps[e]=r),r}_destroy(e){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let r=0;r<n.length;r++)this.engine.write(n[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(s=>{s?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",s)):e.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const uv={};function dB(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=_We(t,e.path||"/socket.io"),r=n.source,s=n.id,i=n.path,a=uv[s]&&i in uv[s].nsps,o=e.forceNew||e["force new connection"]||e.multiplex===!1||a;let c;return o?c=new eF(r,e):(uv[s]||(uv[s]=new eF(r,e)),c=uv[s]),n.query&&!e.query&&(e.query=n.queryKey),c.socket(n.path,e)}Object.assign(dB,{Manager:eF,Socket:Mae,io:dB,connect:dB});class HWe{constructor(){this.socket=null,this.isConnected=!1}connect(){if(this.socket)return this.socket;const e="http://localhost:8000";return this.socket=dB(e,{reconnection:!0,reconnectionDelay:1e3,reconnectionDelayMax:5e3,reconnectionAttempts:5,transports:["websocket","polling"]}),this.socket.on("connect",()=>{console.log(" Connected to WebSocket"),this.isConnected=!0}),this.socket.on("disconnect",()=>{console.log(" Disconnected from WebSocket"),this.isConnected=!1}),this.socket.on("connect_error",n=>{console.error(" WebSocket connection error:",n)}),this.socket}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null,this.isConnected=!1)}joinMonitoring(e,n,r=null){this.socket||this.connect(),this.socket.emit("join_monitoring",{userId:e,role:n,mentorId:r})}emitSubmissionStarted(e,n,r,s,i,a=!1){this.socket||this.connect(),this.socket.emit("submission_started",{studentId:e,studentName:n,problemId:r,problemTitle:s,mentorId:i,isProctored:a})}emitSubmissionCompleted(e,n,r,s,i,a,o){this.socket||this.connect(),this.socket.emit("submission_completed",{studentId:e,studentName:n,problemId:r,problemTitle:s,mentorId:i,status:a,score:o})}emitProctoringViolation(e,n,r,s,i){this.socket||this.connect(),this.socket.emit("proctoring_violation",{studentId:e,studentName:n,violationType:r,severity:s,mentorId:i})}emitProgressUpdate(e,n,r,s){this.socket||this.connect(),this.socket.emit("progress_update",{studentId:e,problemId:n,progress:r,mentorId:s})}emitTestFailed(e,n,r,s,i){this.socket||this.connect(),this.socket.emit("test_failed",{studentId:e,studentName:n,problemId:r,testname:s,mentorId:i})}onLiveUpdate(e){this.socket||this.connect(),this.socket.on("live_update",e)}onLiveAlert(e){this.socket||this.connect(),this.socket.on("live_alert",e)}onMonitoringConnected(e){this.socket||this.connect(),this.socket.on("monitoring_connected",e)}removeListener(e){this.socket&&this.socket.off(e)}emit(e,n){this.socket||this.connect(),this.socket.emit(e,n)}on(e,n){this.socket||this.connect(),this.socket.on(e,n)}}const as=new HWe,o_="http://localhost:8000/api",Zm={Python:{monacoLang:"python",ext:".py",defaultCode:`# Write your Python code here

def solution():
    pass

# Call your solution
solution()`},JavaScript:{monacoLang:"javascript",ext:".js",defaultCode:`// Write your JavaScript code here

function solution() {
    
}

// Call your solution
solution();`},Java:{monacoLang:"java",ext:".java",defaultCode:`// Write your Java code here

public class Solution {
    public static void main(String[] args) {
        // Your code here
    }
}`},C:{monacoLang:"c",ext:".c",defaultCode:`// Write your C code here
#include <stdio.h>

int main() {
    // Your code here
    return 0;
}`},"C++":{monacoLang:"cpp",ext:".cpp",defaultCode:`// Write your C++ code here
#include <iostream>
using namespace std;

int main() {
    // Your code here
    return 0;
}`},SQL:{monacoLang:"sql",ext:".sql",defaultCode:`-- Write your SQL query here
SELECT * FROM table_name;`}},CH={aptitude:{label:"Aptitude",icon:Zr},verbal:{label:"Verbal",icon:Oa},logical:{label:"Logical",icon:qu},coding:{label:"Coding",icon:Dr},sql:{label:"SQL",icon:Ka}};function WWe(t,e){const n=[...t];let r=n.length;const s=()=>(e=(e*9301+49297)%233280,e/233280);for(;r--;){const i=Math.floor(s()*(r+1));[n[r],n[i]]=[n[i],n[r]]}return n}function VWe(t,e){let n=0;const r=`${t}-${e}`;for(let s=0;s<r.length;s++)n=(n<<5)-n+r.charCodeAt(s)|0;return Math.abs(n)}function qWe({test:t,user:e,onClose:n,onComplete:r}){const[s,i]=C.useState(0),[a,o]=C.useState(0),[c,u]=C.useState({}),[d,f]=C.useState((t.duration||180)*60),[h,m]=C.useState(0),[g,y]=C.useState(!1),[x,v]=C.useState(""),[w,B]=C.useState(!1),[k,E]=C.useState(null),[N,O]=C.useState(!1),[F,D]=C.useState(!1),[T,j]=C.useState({}),[P,U]=C.useState(""),[z,ee]=C.useState(!1),[q,Z]=C.useState(!0),[G,ne]=C.useState(350),K=C.useRef(null),H=C.useRef(!1),[Q,X]=C.useState({}),[re,le]=C.useState({}),[he,xe]=C.useState({}),[Be,me]=C.useState({}),[ve,Ee]=C.useState("validator"),ye=C.useRef(null),Ue=C.useRef(c),at=C.useRef(h),ie=C.useRef(d),Le=C.useRef(!1),tt=t.proctoring||{},[It,_e]=C.useState(!1),[At,ot]=C.useState(!1),[$t,kt]=C.useState(null),[Ht,Sn]=C.useState(!1),[zt,en]=C.useState(0),[fn,Qt]=C.useState(!1),[rn,Yt]=C.useState(!1),[sn,On]=C.useState(tt.enabled&&tt.enableVideoAudio),[Ot,xn]=C.useState(!1),[ke,$e]=C.useState(0),[yt,Ct]=C.useState(0),_t=C.useRef(null),Lt=C.useRef(null),Ut=C.useRef(null),Jt=C.useRef(null),dt=C.useRef(null),pr=C.useRef(0),Gr=C.useRef(0),Hn=C.useRef(0),[Fs,cn]=C.useState(0),Ki=C.useRef(0),Cs=C.useRef(!1),Ds=C.useMemo(()=>{const st=t.questionsBySection||{};return["aptitude","verbal","logical","coding","sql"].filter(gt=>(st[gt]&&st[gt].length)>0)},[t.questionsBySection]),wr=C.useMemo(()=>{const st=t.questionsBySection||{},gt=VWe(e.id,t.id),Pt=[];return Ds.forEach(Gt=>{const jn=(st[Gt]||[]).map(mr=>({...mr,section:Gt}));Pt.push(...WWe(jn,gt+Gt.length))}),Pt},[t.questionsBySection,Ds,e.id,t.id]),ts=Ds[s]||Ds[0],Er=wr.filter(st=>st.section===ts),Bt=Er[a],Si=wr.length;C.useEffect(()=>{Ue.current=c},[c]),C.useEffect(()=>{at.current=h},[h]),C.useEffect(()=>{ie.current=d},[d]),C.useEffect(()=>{const st=async()=>{try{!document.fullscreenElement&&!Le.current&&await document.documentElement.requestFullscreen()}catch{}};st();const gt=()=>{!document.fullscreenElement&&!Le.current&&tt.enabled&&(v(" Fullscreen mode required! Re-entering..."),y(!0),setTimeout(()=>{Le.current||st(),y(!1)},1500))};return document.addEventListener("fullscreenchange",gt),t&&e&&as.emitSubmissionStarted(e.id,e.name||e.email,t.id,t.title,null,t.proctoring?.enabled||!1),()=>{document.removeEventListener("fullscreenchange",gt),document.fullscreenElement&&!Le.current&&document.exitFullscreen().catch(()=>{})}},[]),C.useEffect(()=>{if(!(k||!Si))return ye.current=setInterval(()=>{f(st=>st<=1?(clearInterval(ye.current),sr(!0),0):st-1)},1e3),()=>clearInterval(ye.current)},[k,Si]);const ms=t.maxTabSwitches??3;C.useEffect(()=>{const st=()=>{document.hidden&&!k&&m(gt=>{const Pt=gt+1;return as.emitProctoringViolation(e.id,e.name||e.email,"window_switch",Pt>=ms?"critical":"warning",null),Pt>=ms?(v(`Disqualified: max tab switches (${Pt}) exceeded.`),y(!0),setTimeout(()=>sr(!0),2e3)):(v(`Tab switch detected (${Pt}/${ms}).`),y(!0),setTimeout(()=>y(!1),3e3)),Pt})};return document.addEventListener("visibilitychange",st),()=>document.removeEventListener("visibilitychange",st)},[k,ms]);const Jn=async()=>{try{const st=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user",width:320,height:240},audio:!0});if(kt(st),_e(!0),ot(!0),Qt(!0),Yt(!1),_t.current&&(_t.current.srcObject=st,_t.current.play().catch(()=>{})),tt.detectCameraBlocking&&(Ut.current=setInterval(Ci,1500)),tt.detectPhoneUsage||tt.detectCameraBlocking)try{await hD();const gt=await Cae.load();Jt.current=gt,dt.current=setInterval(ns,3e3)}catch(gt){console.warn("Failed to load object detector:",gt)}return!0}catch(st){return console.error("Camera access denied:",st),Yt(!0),Qt(!1),!1}};C.useEffect(()=>{if(!(tt.enabled&&tt.enableVideoAudio))return(!tt.enabled||!tt.enableVideoAudio)&&(Qt(!0),On(!1)),()=>{Ut.current&&clearInterval(Ut.current),dt.current&&clearInterval(dt.current),$t&&$t.getTracks().forEach(st=>st.stop())}},[tt.enabled,tt.enableVideoAudio]),C.useEffect(()=>{Cs.current=Ht},[Ht]);const ns=C.useCallback(async()=>{if(!(!Jt.current||!_t.current||_t.current.readyState!==4))try{const st=await Jt.current.detect(_t.current);tt.detectPhoneUsage&&(st.find(Gt=>Gt.class==="cell phone"&&Gt.score>.6)?(xn(!0),$e(Gt=>{const jn=Gt+1;return Gr.current=jn,v(` Mobile Phone Detected! (${jn})`),y(!0),setTimeout(()=>y(!1),3e3),as.emitProctoringViolation(e.id,e.name||e.email,"phone_detected",jn>=3?"critical":"warning",null),jn})):xn(!1)),!st.find(Pt=>Pt.class==="person"&&Pt.score>.5)&&!Cs.current&&cn(Pt=>{const Gt=Pt+1;return Ki.current=Gt,Gt%3===0&&as.emitProctoringViolation(e.id,e.name||e.email,"face_not_detected",Gt>=9?"critical":"warning",null),Gt})}catch(st){console.error("Detection error:",st)}},[tt.detectPhoneUsage]),Ci=C.useCallback(()=>{if(!_t.current||!Lt.current)return;const st=_t.current,gt=Lt.current;if(st.readyState<2||st.videoWidth===0)return;const Pt=gt.getContext("2d");gt.width=st.videoWidth||320,gt.height=st.videoHeight||240,Pt.drawImage(st,0,0,gt.width,gt.height);const jn=Pt.getImageData(0,0,gt.width,gt.height).data;let mr=0,ai=0,vo=gt.width*gt.height;for(let oi=0;oi<jn.length;oi+=4){const Yi=(jn[oi]+jn[oi+1]+jn[oi+2])/3;mr+=Yi,Yi<15&&ai++}const ki=mr/vo,En=ai/vo,wo=ki<25||En>.85;wo&&!Cs.current?(Cs.current=!0,Sn(!0),en(oi=>{const Yi=oi+1;return pr.current=Yi,v(` Camera blocked detected! Please uncover your camera. (${Yi})`),y(!0),as.emitProctoringViolation(e.id,e.name||e.email,"camera_blocked",Yi>=3?"critical":"warning",null),Yi})):!wo&&Cs.current&&(Cs.current=!1,Sn(!1),y(!1))},[e]);C.useEffect(()=>{if(!tt.enabled||!tt.disableCopyPaste)return;const st=Gt=>{Gt.preventDefault(),Ct(jn=>{const mr=jn+1;return Hn.current=mr,v(` Copy attempt blocked! (${mr})`),y(!0),setTimeout(()=>y(!1),2e3),as.emitProctoringViolation(e.id,e.name||e.email,"copy_attempt",mr>=5?"critical":"warning",null),mr})},gt=Gt=>{Gt.preventDefault(),Ct(jn=>{const mr=jn+1;return Hn.current=mr,v(` Paste attempt blocked! (${mr})`),y(!0),setTimeout(()=>y(!1),2e3),as.emitProctoringViolation(e.id,e.name||e.email,"paste_attempt",mr>=5?"critical":"warning",null),mr})},Pt=Gt=>Gt.preventDefault();return document.addEventListener("copy",st),document.addEventListener("paste",gt),document.addEventListener("contextmenu",Pt),()=>{document.removeEventListener("copy",st),document.removeEventListener("paste",gt),document.removeEventListener("contextmenu",Pt)}},[tt.enabled,tt.disableCopyPaste]),C.useEffect(()=>{pr.current=zt},[zt]),C.useEffect(()=>{Gr.current=ke},[ke]),C.useEffect(()=>{Hn.current=yt},[yt]),C.useEffect(()=>{Ki.current=Fs},[Fs]);const ft=(st,gt)=>{u(Pt=>({...Pt,[st]:gt}))};C.useEffect(()=>{if(!Bt)return;if(Bt.questionType==="coding"||Bt.questionType==="sql"||Bt.type==="coding"||Bt.type==="SQL"){const gt=Bt.type==="SQL"||Bt.questionType==="sql"?"SQL":Bt.testCases?.language||"Python";if(!Be[Bt.id]){const Pt=Object.keys(Zm).find(Gt=>Gt.toLowerCase()===gt.toLowerCase())||"Python";if(me(Gt=>({...Gt,[Bt.id]:Pt})),c[Bt.id]===void 0){const Gt=Zm[Pt].defaultCode;u(jn=>({...jn,[Bt.id]:Gt}))}}}},[Bt?.id,Bt?.questionType,Bt?.starterCode,Bt?.testCases?.language]);const Cn=(st,gt)=>{c[st]&&(c[st],Zm[Be[st]]?.defaultCode),me(Pt=>({...Pt,[st]:gt})),u(Pt=>({...Pt,[st]:Zm[gt].defaultCode}))},Wn=async(st,gt,Pt,Gt)=>{j(jn=>({...jn,[st]:"Running..."})),X(jn=>({...jn,[st]:"output"}));try{const jn=await rt.post(`${o_}/run`,{code:gt,language:Pt,problemId:st,sqlSchema:Gt,stdin:re[st]||""});let mr=jn.data.output||"";jn.data.stderr&&(mr=mr?`${mr}

--- Errors ---
${jn.data.stderr}`:jn.data.stderr),j(ai=>({...ai,[st]:mr||jn.data.error||"No output"}))}catch(jn){j(mr=>({...mr,[st]:"Error: "+(jn.response?.data?.error||jn.message)}))}finally{D(!1)}},Xn=async()=>{if(Bt){ee(!0);try{const st=Bt.type==="SQL"||Bt.questionType==="sql",gt=Be[Bt.id]||(st?"SQL":"Python"),Pt=await rt.post(`${o_}/hints`,{problemDescription:Bt.question,currentCode:c[Bt.id]||"",language:gt});U(Pt.data.hint)}catch{U("Unable to generate hint at this time.")}finally{ee(!1)}}},sr=async(st=!1)=>{if(!w&&!(!st&&Si>0&&Object.keys(c).length<Si&&!window.confirm(`You have ${Si-Object.keys(c).length} unanswered. Submit anyway?`))){if(Le.current=!0,B(!0),$t&&$t.getTracks().forEach(gt=>gt.stop()),Ut.current&&clearInterval(Ut.current),dt.current&&clearInterval(dt.current),document.fullscreenElement)try{await document.exitFullscreen()}catch{}try{const gt=(t.duration||120)*60-ie.current;console.log("[Submit] Sending submission..."),e&&t&&as.emitSubmissionCompleted(e.id,e.name||e.email,t.id,t.title,null,"success",Math.round(Object.keys(Ue.current).length/Si*100));const Pt=await rt.post(`${o_}/global-tests/${t.id}/submit`,{studentId:e.id,answers:Ue.current,selectedLanguages:Be,timeSpent:gt,tabSwitches:at.current,copyPasteAttempts:Hn.current,cameraBlockedCount:pr.current,phoneDetectionCount:Gr.current,faceMissingCount:Ki.current,proctoringEnabled:tt.enabled||!1});console.log("[Submit] Response received:",JSON.stringify(Pt.data).substring(0,500));const Gt=Pt.data.submission||Pt.data;console.log("[Submit] submissionResult status:",Gt?.status,"score:",Gt?.score,"sectionScores:",JSON.stringify(Gt?.sectionScores)),Gt?(await new Promise(jn=>setTimeout(jn,200)),console.log("[Submit] Submission successful, returning to test list..."),B(!1),n(),r&&r(Gt)):(console.error("[Submit] No submission data in response"),B(!1),alert("Test submitted but no result data received. Please refresh the page."))}catch(gt){console.error("[Submit] Error:",gt),B(!1),alert(gt.response?.data?.error||"Submit failed. Please try again.")}}},oa=st=>{const gt=Math.floor(st/60),Pt=st%60;return`${String(gt).padStart(2,"0")}:${String(Pt).padStart(2,"0")}`},Qr=()=>{a<Er.length-1?o(st=>st+1):s<Ds.length-1&&(i(s+1),o(0))},os=()=>{if(a>0)o(st=>st-1);else if(s>0){const st=Ds[s-1],gt=wr.filter(Pt=>Pt.section===st).length;i(s-1),o(gt-1)}};if(N&&k){const st=k.sectionScores||{},gt=k.status==="passed";return l.jsxs("div",{style:{position:"fixed",inset:0,background:"linear-gradient(135deg, #0f172a 0%, #1e293b 100%)",zIndex:99999,display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem",overflow:"auto",animation:"fadeIn 0.3s ease-out"},children:[l.jsx("style",{children:`
                    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
                    @keyframes scaleIn { from { transform: scale(0.9); opacity: 0; } to { transform: scale(1); opacity: 1; } }
                    @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }
                    @keyframes confetti { 0% { transform: translateY(0) rotate(0deg); opacity: 1; } 100% { transform: translateY(-100px) rotate(720deg); opacity: 0; } }
                `}),l.jsxs("div",{style:{background:"rgba(30,41,59,0.98)",borderRadius:"24px",border:`2px solid ${gt?"rgba(16, 185, 129, 0.4)":"rgba(239, 68, 68, 0.4)"}`,maxWidth:800,width:"100%",maxHeight:"90vh",overflow:"hidden",display:"flex",flexDirection:"column",boxShadow:`0 25px 50px -12px ${gt?"rgba(16, 185, 129, 0.25)":"rgba(239, 68, 68, 0.25)"}`,animation:"scaleIn 0.4s ease-out"},children:[l.jsxs("div",{style:{padding:"2rem 2rem 1.5rem",background:gt?"linear-gradient(135deg, rgba(16, 185, 129, 0.15), rgba(6, 182, 212, 0.1))":"linear-gradient(135deg, rgba(239, 68, 68, 0.15), rgba(251, 146, 60, 0.1))",borderBottom:`1px solid ${gt?"rgba(16, 185, 129, 0.2)":"rgba(239, 68, 68, 0.2)"}`,textAlign:"center"},children:[l.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:gt?"linear-gradient(135deg, #10b981, #06b6d4)":"linear-gradient(135deg, #ef4444, #f97316)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem",boxShadow:`0 8px 24px ${gt?"rgba(16, 185, 129, 0.4)":"rgba(239, 68, 68, 0.4)"}`,animation:gt?"pulse 2s ease-in-out infinite":"none"},children:gt?l.jsx(jl,{size:40,color:"white"}):l.jsx(Jr,{size:40,color:"white"})}),l.jsx("h2",{style:{margin:"0 0 0.5rem",color:"white",fontSize:"1.75rem",fontWeight:800},children:gt?" Congratulations!":"Test Completed"}),l.jsx("p",{style:{margin:0,color:"rgba(255,255,255,0.7)",fontSize:"1rem"},children:gt?"You have successfully passed the assessment!":"Keep practicing to improve your score."})]}),l.jsxs("div",{style:{padding:"2rem",overflowY:"auto"},children:[l.jsxs("div",{style:{display:"flex",gap:"1.5rem",marginBottom:"2rem",flexWrap:"wrap",justifyContent:"center"},children:[l.jsxs("div",{style:{padding:"1.5rem 2.5rem",background:gt?"rgba(16,185,129,0.15)":"rgba(239,68,68,0.15)",borderRadius:16,border:`2px solid ${gt?"rgba(16,185,129,0.4)":"rgba(239,68,68,0.4)"}`,textAlign:"center",minWidth:"180px"},children:[l.jsxs("div",{style:{fontSize:"3.5rem",fontWeight:900,color:gt?"#10b981":"#ef4444",lineHeight:1},children:[k.score??k.overallPercentage,"%"]}),l.jsx("div",{style:{fontSize:"0.9rem",color:"rgba(255,255,255,0.6)",marginTop:"0.5rem",textTransform:"uppercase",letterSpacing:"2px",fontWeight:600},children:"Overall Score"})]}),l.jsxs("div",{style:{padding:"1.5rem 2rem",background:"rgba(139, 92, 246, 0.1)",borderRadius:16,border:"1px solid rgba(139, 92, 246, 0.3)",textAlign:"center"},children:[l.jsxs("div",{style:{fontSize:"2rem",fontWeight:800,color:"#a78bfa"},children:[k.correctCount||0,"/",k.totalQuestions||0]}),l.jsx("div",{style:{fontSize:"0.85rem",color:"rgba(255,255,255,0.5)",marginTop:"0.25rem"},children:"Correct Answers"})]})]}),l.jsxs("h3",{style:{margin:"0 0 1rem",color:"white",fontSize:"1.1rem",fontWeight:700,display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(qu,{size:18,color:"#8b5cf6"})," Section-wise Performance"]}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(130px, 1fr))",gap:"0.75rem"},children:Object.entries(st).map(([Pt,Gt])=>{const jn=Gt>=70?"#10b981":Gt>=50?"#f59e0b":"#ef4444";return l.jsxs("div",{style:{padding:"1rem",background:"rgba(30, 41, 59, 0.8)",borderRadius:12,border:"1px solid rgba(255,255,255,0.1)",textAlign:"center"},children:[l.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:800,color:jn},children:[Gt,"%"]}),l.jsx("div",{style:{fontSize:"0.75rem",color:"rgba(255,255,255,0.5)",textTransform:"capitalize",marginTop:"0.25rem"},children:Pt})]},Pt)})})]}),l.jsx("div",{style:{padding:"1.25rem 2rem",borderTop:"1px solid rgba(139,92,246,0.2)",display:"flex",justifyContent:"center",gap:"1rem",background:"rgba(15, 23, 42, 0.5)"},children:l.jsx("button",{type:"button",onClick:()=>{document.fullscreenElement&&document.exitFullscreen(),n(),r&&r(k)},style:{padding:"0.85rem 2.5rem",background:"linear-gradient(135deg, #8b5cf6, #6366f1)",border:"none",borderRadius:"12px",color:"white",fontWeight:700,fontSize:"1rem",cursor:"pointer",boxShadow:"0 4px 14px rgba(139, 92, 246, 0.4)",transition:"all 0.2s"},onMouseOver:Pt=>Pt.target.style.transform="translateY(-2px)",onMouseOut:Pt=>Pt.target.style.transform="translateY(0)",children:"Close & View Results"})})]})]})}if(wr.length===0)return l.jsxs("div",{style:{padding:"2rem",textAlign:"center",color:"white"},children:["No questions available.",l.jsx("button",{onClick:n,style:{marginLeft:"1rem",padding:"0.5rem",cursor:"pointer"},children:"Close"})]});const Pr=Bt?.questionType==="sql"||Bt?.questionType==="SQL"||Bt?.language==="SQL"||Bt?.type==="SQL",Xi=(Bt?.questionType==="coding"||Bt?.type==="coding"||!!Bt?.language)&&!Pr,Ir=Be[Bt?.id]||(Pr?"SQL":"Python"),ti=Xi||Pr?c[Bt?.id]??Zm[Ir]?.defaultCode??"":"",rs=C.useMemo(()=>{if(!Bt)return{input:"N/A",output:"N/A"};if(Bt.sampleInput!==void 0&&Bt.expectedOutput!==void 0)return{input:String(Bt.sampleInput),output:String(Bt.expectedOutput)};if(Bt.testCases){if(Bt.questionType==="sql"||Bt.type==="SQL"){let Pt="N/A";if(Array.isArray(Bt.testCases)){const Gt=Bt.testCases[0];Gt&&(Pt=Gt.expected_output||Gt.expectedOutput||"N/A")}else Bt.testCases&&(Pt=Bt.testCases.expectedOutput||"N/A");return{input:"N/A",output:String(Pt)}}const st=Array.isArray(Bt.testCases)?Bt.testCases:Bt.testCases.cases||[],gt=st.find(Pt=>!Pt.isHidden)||st[0];if(gt){const Pt=gt.input??gt.sampleInput??"(empty)",Gt=gt.expected_output??gt.expectedOutput??"(empty)";return{input:String(Pt),output:String(Gt)}}}return{input:"N/A",output:"N/A"}},[Bt]);return l.jsxs("div",{style:{position:"fixed",inset:0,background:"linear-gradient(135deg, #0f172a 0%, #1e1b4b 50%, #0f172a 100%)",zIndex:9999,display:"flex",flexDirection:"column",overflow:"hidden"},children:[g&&l.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,padding:"0.75rem 2rem",background:"linear-gradient(135deg, #f59e0b, #d97706)",color:"#1f2937",textAlign:"center",zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center",gap:"0.75rem",boxShadow:"0 4px 20px rgba(245, 158, 11, 0.4)",animation:"slideDown 0.3s ease-out"},children:[l.jsx("style",{children:"@keyframes slideDown { from { transform: translateY(-100%); } to { transform: translateY(0); } }"}),l.jsx(Qn,{size:20}),l.jsx("span",{style:{fontWeight:600},children:x})]}),w&&l.jsxs("div",{style:{position:"fixed",inset:0,background:"rgba(15, 23, 42, 0.95)",zIndex:1e5,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"1.5rem"},children:[l.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",border:"4px solid rgba(139, 92, 246, 0.2)",borderTopColor:"#8b5cf6",animation:"spin 1s linear infinite"}}),l.jsx("style",{children:"@keyframes spin { to { transform: rotate(360deg); } }"}),l.jsx("h2",{style:{margin:0,color:"white",fontSize:"1.5rem",fontWeight:700},children:"Submitting Your Test..."}),l.jsx("p",{style:{margin:0,color:"rgba(255,255,255,0.6)",fontSize:"0.95rem"},children:"Please wait while we evaluate your answers"}),l.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.5rem"},children:[l.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"#8b5cf6",animation:"pulse 1.5s ease-in-out infinite"}}),l.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"#8b5cf6",animation:"pulse 1.5s ease-in-out 0.2s infinite"}}),l.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"#8b5cf6",animation:"pulse 1.5s ease-in-out 0.4s infinite"}})]}),l.jsx("style",{children:"@keyframes pulse { 0%, 100% { opacity: 0.3; transform: scale(1); } 50% { opacity: 1; transform: scale(1.2); } }"})]}),sn&&tt.enabled&&tt.enableVideoAudio&&l.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(15, 23, 42, 0.98)",zIndex:100001,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem"},children:l.jsxs("div",{style:{background:"linear-gradient(135deg, #1e293b, #0f172a)",borderRadius:"20px",padding:"3rem",maxWidth:"500px",width:"100%",border:"1px solid rgba(139, 92, 246, 0.3)",boxShadow:"0 25px 50px rgba(0, 0, 0, 0.5)"},children:[l.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[l.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"rgba(139, 92, 246, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1.5rem"},children:l.jsx(Zv,{size:40,color:"#8b5cf6"})}),l.jsx("h2",{style:{margin:0,color:"white",fontSize:"1.75rem",fontWeight:700,marginBottom:"0.75rem"},children:"Camera Access Required"}),l.jsx("p",{style:{margin:0,color:"rgba(255,255,255,0.6)",fontSize:"1rem",lineHeight:1.6},children:"This is a proctored test. You must allow camera and microphone access to continue."})]}),l.jsx("div",{style:{background:"rgba(245, 158, 11, 0.1)",border:"1px solid rgba(245, 158, 11, 0.3)",borderRadius:"12px",padding:"1rem",marginBottom:"2rem"},children:l.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"0.75rem"},children:[l.jsx(Ui,{size:20,color:"#f59e0b",style:{flexShrink:0,marginTop:"2px"}}),l.jsxs("div",{style:{fontSize:"0.9rem",color:"#fbbf24",lineHeight:1.5},children:[l.jsx("strong",{children:"Proctoring features enabled:"}),l.jsxs("ul",{style:{margin:"0.5rem 0 0",paddingLeft:"1.25rem"},children:[tt.enableVideoAudio&&l.jsx("li",{children:"Camera & Audio monitoring"}),tt.detectCameraBlocking&&l.jsx("li",{children:"Camera obstruction detection"}),tt.detectPhoneUsage&&l.jsx("li",{children:"Phone usage detection"}),tt.disableCopyPaste&&l.jsx("li",{children:"Copy/Paste disabled"})]})]})]})}),rn&&l.jsxs("div",{style:{background:"rgba(239, 68, 68, 0.15)",border:"1px solid rgba(239, 68, 68, 0.4)",borderRadius:"12px",padding:"1rem",marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"0.75rem"},children:[l.jsx(Qn,{size:20,color:"#ef4444"}),l.jsx("div",{style:{color:"#fca5a5",fontSize:"0.9rem"},children:"Camera access was denied. Please allow camera access in your browser settings and try again."})]}),l.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[l.jsx("button",{onClick:n,style:{flex:1,padding:"1rem",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.2)",background:"transparent",color:"rgba(255,255,255,0.7)",fontSize:"1rem",fontWeight:600,cursor:"pointer"},children:"Cancel"}),l.jsxs("button",{onClick:async()=>{await Jn()&&On(!1)},style:{flex:2,padding:"1rem",borderRadius:"12px",border:"none",background:"linear-gradient(135deg, #8b5cf6, #6366f1)",color:"white",fontSize:"1rem",fontWeight:700,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",boxShadow:"0 4px 15px rgba(139, 92, 246, 0.4)"},children:[l.jsx(Zv,{size:20})," Allow Camera & Start Test"]})]})]})}),Ht&&tt.enabled&&tt.detectCameraBlocking&&!sn&&l.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(239, 68, 68, 0.95)",zIndex:99999,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem"},children:l.jsxs("div",{style:{background:"rgba(0,0,0,0.3)",borderRadius:"20px",padding:"3rem",textAlign:"center",maxWidth:"500px"},children:[l.jsx("div",{style:{width:"100px",height:"100px",borderRadius:"50%",background:"rgba(255,255,255,0.2)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1.5rem",animation:"pulse 1.5s ease-in-out infinite"},children:l.jsx(qk,{size:50,color:"white"})}),l.jsx("h2",{style:{margin:0,color:"white",fontSize:"2rem",fontWeight:700,marginBottom:"1rem"},children:"Camera Blocked!"}),l.jsx("p",{style:{margin:0,color:"rgba(255,255,255,0.9)",fontSize:"1.1rem",lineHeight:1.6,marginBottom:"1.5rem"},children:"Your camera appears to be covered or obstructed. Please uncover your camera to continue the test."}),l.jsxs("div",{style:{background:"rgba(0,0,0,0.2)",borderRadius:"12px",padding:"1rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[l.jsx(Qn,{size:20,color:"white"}),l.jsxs("span",{style:{color:"white",fontWeight:600},children:["Violations logged: ",zt]})]})]})}),l.jsxs("header",{style:{padding:"0.75rem 2rem",borderBottom:"1px solid rgba(139,92,246,0.2)",background:"linear-gradient(180deg, rgba(15,23,42,0.98) 0%, rgba(15,23,42,0.95) 100%)",display:"flex",justifyContent:"space-between",alignItems:"center",backdropFilter:"blur(12px)",boxShadow:"0 4px 20px rgba(0,0,0,0.3)"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1.5rem"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",paddingRight:"1.5rem",borderRight:"1px solid rgba(139,92,246,0.2)"},children:[l.jsx(Po,{size:20,color:"#8b5cf6"}),l.jsx("span",{style:{fontWeight:700,fontSize:"1.1rem",background:"linear-gradient(135deg, #8b5cf6, #6366f1)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Assessment"})]}),l.jsx("div",{style:{display:"flex",gap:"0.5rem"},children:Ds.map((st,gt)=>{const Pt=CH[st]?.icon||qu,Gt=s===gt;return l.jsxs("button",{type:"button",onClick:()=>{i(gt),o(0)},style:{padding:"0.5rem 1rem",borderRadius:10,border:Gt?"1px solid rgba(139,92,246,0.5)":"1px solid transparent",background:Gt?"linear-gradient(135deg, rgba(139,92,246,0.25), rgba(99,102,241,0.15))":"transparent",color:Gt?"#a78bfa":"#94a3b8",cursor:"pointer",fontSize:"0.85rem",fontWeight:Gt?600:500,display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.2s ease"},children:[l.jsx(Pt,{size:14}),CH[st]?.label||st]},st)})})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1.25rem"},children:[tt.enabled&&l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.4rem 0.75rem",background:"rgba(239,68,68,0.15)",border:"1px solid rgba(239,68,68,0.3)",borderRadius:"8px"},children:[l.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:"#ef4444",animation:"pulse 1.5s infinite"}}),l.jsx("span",{style:{fontSize:"0.75rem",color:"#fca5a5",fontWeight:600,letterSpacing:"0.5px"},children:"PROCTORED"})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.4rem 0.75rem",background:"rgba(139,92,246,0.1)",borderRadius:"8px",border:"1px solid rgba(139,92,246,0.2)"},children:[l.jsx($n,{size:14,color:"#a78bfa"}),l.jsxs("span",{style:{color:"#a78bfa",fontSize:"0.85rem",fontWeight:600},children:[Object.keys(c).length,"/",Si]})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem",background:d<300?"linear-gradient(135deg, rgba(239,68,68,0.2), rgba(220,38,38,0.1))":"linear-gradient(135deg, rgba(16,185,129,0.2), rgba(5,150,105,0.1))",borderRadius:10,border:`1px solid ${d<300?"rgba(239,68,68,0.4)":"rgba(16,185,129,0.4)"}`,boxShadow:d<300?"0 0 20px rgba(239,68,68,0.2)":"none"},children:[l.jsx(vs,{size:16,color:d<300?"#ef4444":"#10b981"}),l.jsx("span",{style:{fontVariantNumeric:"tabular-nums",color:d<300?"#fca5a5":"#6ee7b7",fontWeight:700,fontSize:"1rem"},children:oa(d)})]})]})]}),l.jsxs("div",{style:{flex:1,display:"flex",overflow:"hidden"},children:[l.jsx("div",{style:{width:"300px",background:"linear-gradient(180deg, rgba(15,23,42,0.95) 0%, rgba(30,41,59,0.9) 100%)",borderRight:"1px solid rgba(139,92,246,0.15)",display:"flex",flexDirection:"column",backdropFilter:"blur(12px)"},children:l.jsxs("div",{style:{flex:1,padding:"1.25rem",overflowY:"auto"},children:[tt.enabled&&l.jsxs("div",{style:{marginBottom:"1.5rem"},children:[l.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(239,68,68,0.2), rgba(220,38,38,0.1))",border:"1px solid rgba(239,68,68,0.3)",borderRadius:10,padding:"0.5rem 0.75rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",color:"#fca5a5",fontWeight:600,fontSize:"0.8rem",marginBottom:"1rem",letterSpacing:"0.5px"},children:[l.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:"#ef4444",animation:"pulse 1.5s infinite"}}),"PROCTORED MODE"]}),tt.enableVideoAudio&&l.jsxs("div",{style:{position:"relative",borderRadius:12,overflow:"hidden",border:"2px solid rgba(139,92,246,0.3)",background:"#000",marginBottom:"1rem",boxShadow:"0 8px 24px rgba(0,0,0,0.4)"},children:[l.jsx("video",{ref:_t,autoPlay:!0,playsInline:!0,muted:!0,style:{width:"100%",display:"block",transform:"scaleX(-1)",aspectRatio:"4/3",objectFit:"cover"}}),l.jsxs("div",{style:{position:"absolute",bottom:8,left:8,display:"flex",gap:4},children:[l.jsx("div",{style:{padding:5,borderRadius:"50%",background:It?"rgba(16,185,129,0.9)":"rgba(239,68,68,0.9)",backdropFilter:"blur(4px)"},children:l.jsx(Zv,{size:10,color:"white"})}),l.jsx("div",{style:{padding:5,borderRadius:"50%",background:At?"rgba(16,185,129,0.9)":"rgba(239,68,68,0.9)",backdropFilter:"blur(4px)"},children:l.jsx(IE,{size:10,color:"white"})})]}),l.jsxs("div",{style:{position:"absolute",top:8,right:8,display:"flex",alignItems:"center",gap:4,padding:"3px 8px",borderRadius:20,background:"rgba(0,0,0,0.7)",backdropFilter:"blur(4px)",border:"1px solid rgba(255,255,255,0.1)"},children:[l.jsx("div",{style:{width:5,height:5,borderRadius:"50%",background:"#10b981",animation:"pulse 2s infinite"}}),l.jsx("span",{style:{fontSize:"0.6rem",color:"white",fontWeight:600},children:"REC"})]})]}),l.jsxs("div",{style:{display:"grid",gap:"0.75rem",fontSize:"0.8rem",background:"rgba(30,41,59,0.4)",padding:"1rem",borderRadius:12,border:"1px solid rgba(255,255,255,0.05)"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",color:"#e2e8f0",fontWeight:500},children:[l.jsx("span",{children:"Tab Switches:"}),l.jsxs("span",{style:{color:h>0?"#f59e0b":"#10b981",fontWeight:700},children:[h,"/",ms]})]}),tt.detectCameraBlocking&&l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",color:"#e2e8f0",fontWeight:500},children:[l.jsx("span",{children:"Cam Blocks:"}),l.jsx("span",{style:{color:zt>0?"#ef4444":"#10b981",fontWeight:700},children:zt})]}),tt.detectPhoneUsage&&l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",color:"#e2e8f0",fontWeight:500},children:[l.jsx("span",{children:"Phone Detected:"}),l.jsx("span",{style:{color:ke>0?"#ef4444":"#10b981",fontWeight:700},children:ke})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",color:"#e2e8f0",fontWeight:500},children:[l.jsx("span",{children:"Face Missing:"}),l.jsx("span",{style:{color:Fs>0?"#f59e0b":"#10b981",fontWeight:700},children:Fs})]})]}),l.jsxs("div",{style:{marginTop:"1.5rem"},children:[l.jsxs("h4",{style:{color:"rgba(239,68,68,0.9)",fontSize:"0.8rem",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"0.75rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(Qn,{size:14})," Proctoring Rules"]}),l.jsxs("ul",{style:{margin:0,paddingLeft:"1.25rem",fontSize:"0.75rem",color:"#94a3b8",lineHeight:1.6,display:"flex",flexDirection:"column",gap:"0.4rem"},children:[l.jsx("li",{children:"Do not switch tabs or windows."}),tt.enableVideoAudio&&l.jsx("li",{children:"Keep your camera and microphone on."}),tt.enforceFullscreen&&l.jsx("li",{children:"Do not exit fullscreen mode."}),tt.detectCameraBlocking&&l.jsx("li",{children:"Ensure your face is always visible."}),tt.detectPhoneUsage&&l.jsx("li",{children:"No mobile phones allowed."})]})]})]}),l.jsxs("h3",{style:{margin:"0 0 1rem",fontSize:"0.9rem",color:"rgba(255,255,255,0.6)",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(kr,{size:16})," Question Palette"]}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"0.5rem"},children:Er.map((st,gt)=>l.jsx("button",{onClick:()=>o(gt),style:{width:36,height:36,borderRadius:8,border:a===gt?"2px solid #3b82f6":"1px solid rgba(139,92,246,0.3)",background:c[Er[gt].id]?"linear-gradient(135deg, #10b981, #06b6d4)":a===gt?"rgba(59,130,246,0.3)":"transparent",color:"white",cursor:"pointer",fontSize:"0.85rem"},children:gt+1},gt))})]})}),!Xi&&!Pr?l.jsx(l.Fragment,{children:l.jsxs("div",{style:{flex:1,padding:"2rem",overflowY:"auto",display:"flex",flexDirection:"column",maxWidth:"900px",margin:"0 auto",width:"100%"},children:[l.jsxs("div",{style:{marginBottom:"1rem",fontSize:"1rem",color:"#8b5cf6",fontWeight:600},children:["Question ",a+1," OF ",Er.length]}),l.jsx("h2",{style:{fontSize:"1.25rem",color:"white",lineHeight:1.6,marginBottom:"2rem"},children:Bt?.question}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:(Bt?.options||[]).map((st,gt)=>l.jsxs("button",{onClick:()=>ft(Bt.id,st),style:{padding:"1.25rem",textAlign:"left",borderRadius:12,border:`1px solid ${c[Bt.id]===st?"#8b5cf6":"rgba(255,255,255,0.1)"}`,background:c[Bt.id]===st?"rgba(139,92,246,0.1)":"rgba(255,255,255,0.02)",color:"white",cursor:"pointer",fontSize:"1rem",display:"flex",alignItems:"center",gap:"1rem",transition:"all 0.2s"},children:[l.jsx("div",{style:{width:28,height:28,borderRadius:"50%",border:"1px solid rgba(255,255,255,0.3)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.8rem",background:c[Bt.id]===st?"#8b5cf6":"transparent"},children:String.fromCharCode(65+gt)}),st]},gt))}),l.jsxs("div",{style:{marginTop:"auto",paddingTop:"2rem",display:"flex",justifyContent:"space-between"},children:[l.jsxs("button",{onClick:os,disabled:s===0&&a===0,style:{padding:"0.75rem 1.5rem",borderRadius:10,background:"rgba(255,255,255,0.1)",border:"none",color:"white",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(h2,{size:20})," Previous"]}),l.jsxs("button",{onClick:Qr,style:{padding:"0.75rem 1.5rem",borderRadius:10,background:"linear-gradient(135deg, #3b82f6, #6366f1)",border:"none",color:"white",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:["Next ",l.jsx(Ug,{size:20})]})]})]})}):l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{width:"35%",minWidth:"350px",maxWidth:"450px",borderRight:"1px solid #334155",display:"flex",flexDirection:"column",background:"#0f172a"},children:l.jsxs("div",{style:{flex:1,padding:"2rem",overflowY:"auto"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",paddingBottom:"1rem",borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[l.jsx("div",{style:{background:"rgba(139, 92, 246, 0.15)",padding:"0.6rem",borderRadius:"10px"},children:l.jsx(Oa,{size:20,color:"#8b5cf6"})}),l.jsx("h3",{style:{margin:0,color:"white",fontSize:"1.2rem",fontWeight:700},children:"Problem Statement"})]}),l.jsx("div",{style:{padding:"0.4rem 0.8rem",borderRadius:"20px",fontSize:"0.75rem",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.5px",background:Bt.difficulty?.toLowerCase()==="hard"?"rgba(239, 68, 68, 0.1)":Bt.difficulty?.toLowerCase()==="medium"?"rgba(245, 158, 11, 0.1)":"rgba(16, 185, 129, 0.1)",color:Bt.difficulty?.toLowerCase()==="hard"?"#ef4444":Bt.difficulty?.toLowerCase()==="medium"?"#f59e0b":"#10b981",border:`1px solid ${Bt.difficulty?.toLowerCase()==="hard"?"rgba(239, 68, 68, 0.2)":Bt.difficulty?.toLowerCase()==="medium"?"rgba(245, 158, 11, 0.2)":"rgba(16, 185, 129, 0.2)"}`},children:Bt.difficulty||"Medium"})]}),l.jsx("div",{style:{color:"#94a3b8",lineHeight:1.8,fontSize:"1rem",letterSpacing:"-0.01em"},children:Bt.question}),Pr&&l.jsxs("div",{style:{marginTop:"2rem",display:"flex",flexDirection:"column",gap:"1.25rem"},children:[l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.75rem",color:"#60a5fa"},children:[l.jsx(Ka,{size:18}),l.jsx("span",{style:{fontWeight:700,fontSize:"0.9rem",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Database Schema"})]}),l.jsxs("div",{style:{background:"#0f172a",borderRadius:"12px",border:"1px solid rgba(59, 130, 246, 0.3)",overflow:"hidden",boxShadow:"0 4px 12px rgba(0,0,0,0.3)"},children:[l.jsxs("div",{style:{background:"rgba(59, 130, 246, 0.1)",padding:"0.5rem 1rem",borderBottom:"1px solid rgba(59, 130, 246, 0.2)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("span",{style:{fontSize:"0.75rem",color:"rgba(255,255,255,0.5)",fontFamily:"monospace"},children:"schema.sql"}),l.jsx(Ka,{size:12,color:"rgba(255,255,255,0.3)"})]}),l.jsx("pre",{style:{margin:0,padding:"1.25rem",fontSize:"0.85rem",color:"#93c5fd",overflowX:"auto",whiteSpace:"pre-wrap",fontFamily:'"Fira Code", "Source Code Pro", monospace',lineHeight:1.6},children:Bt.sqlSchema||Bt.starterCode||"No schema provided"})]})]}),rs.output&&rs.output!=="N/A"&&l.jsxs("div",{style:{marginTop:"1rem"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.75rem",color:"#10b981"},children:[l.jsx(kr,{size:16}),l.jsx("span",{style:{fontWeight:700,fontSize:"0.85rem",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Expected Output"}),l.jsx("span",{style:{fontSize:"0.7rem",color:"rgba(16, 185, 129, 0.6)",marginLeft:"auto"},children:"Your query should produce this result"})]}),l.jsx("div",{style:{background:"linear-gradient(135deg, rgba(16, 185, 129, 0.08), rgba(6, 182, 212, 0.05))",borderRadius:"12px",border:"1px solid rgba(16, 185, 129, 0.25)",overflow:"hidden",boxShadow:"0 4px 12px rgba(0,0,0,0.2)"},children:rs.output.includes("|")?l.jsx("div",{style:{overflowX:"auto"},children:l.jsx("table",{style:{width:"100%",borderCollapse:"collapse",fontFamily:'"Fira Code", monospace',fontSize:"0.85rem"},children:l.jsx("tbody",{children:rs.output.split(`
`).filter(Boolean).map((st,gt)=>{const Pt=st.split("|").map(jn=>jn.trim()),Gt=gt===0&&Pt.every(jn=>/^[a-zA-Z_\s]+$/.test(jn));return l.jsx("tr",{style:{background:Gt?"rgba(16, 185, 129, 0.15)":gt%2===0?"transparent":"rgba(255,255,255,0.02)"},children:Pt.map((jn,mr)=>Gt?l.jsx("th",{style:{padding:"0.75rem 1rem",textAlign:"left",color:"#10b981",fontWeight:700,borderBottom:"2px solid rgba(16, 185, 129, 0.3)",whiteSpace:"nowrap"},children:jn},mr):l.jsx("td",{style:{padding:"0.65rem 1rem",color:"#4ade80",borderBottom:"1px solid rgba(255,255,255,0.05)",whiteSpace:"nowrap"},children:jn},mr))},gt)})})})}):l.jsx("pre",{style:{margin:0,padding:"1rem",fontFamily:'"Fira Code", monospace',fontSize:"0.85rem",color:"#4ade80",whiteSpace:"pre-wrap",lineHeight:1.6},children:rs.output})}),l.jsxs("div",{style:{marginTop:"0.5rem",padding:"0.5rem 0.75rem",background:"rgba(245, 158, 11, 0.1)",borderRadius:"8px",border:"1px solid rgba(245, 158, 11, 0.2)",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(xh,{size:14,color:"#f59e0b"}),l.jsx("span",{style:{fontSize:"0.75rem",color:"#fbbf24"},children:"Tip: Your output should match both the data values and ordering. Column headers may vary."})]})]})]}),!Pr&&l.jsxs("div",{style:{marginTop:"2rem",display:"flex",flexDirection:"column",gap:"1.25rem"},children:[l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.75rem",color:"#94a3b8"},children:[l.jsx(Oa,{size:16}),l.jsx("span",{style:{fontWeight:700,fontSize:"0.85rem",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Sample Input"})]}),l.jsx("div",{style:{background:"#1e293b",padding:"1rem",borderRadius:"10px",border:"1px solid #334155",fontFamily:'"Fira Code", monospace',fontSize:"0.9rem",color:"#e2e8f0",boxShadow:"inset 0 2px 4px rgba(0,0,0,0.2)"},children:rs.input})]}),l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.75rem",color:"#10b981"},children:[l.jsx($n,{size:16}),l.jsx("span",{style:{fontWeight:700,fontSize:"0.85rem",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Expected Output"})]}),l.jsx("div",{style:{background:"rgba(16, 185, 129, 0.05)",padding:"1rem",borderRadius:"10px",border:"1px solid rgba(16, 185, 129, 0.2)",fontFamily:'"Fira Code", monospace',fontSize:"0.9rem",color:"#4ade80",boxShadow:"inset 0 2px 4px rgba(0,0,0,0.1)"},children:rs.output})]})]}),l.jsxs("div",{style:{marginTop:"2rem"},children:[l.jsxs("button",{onClick:Xn,disabled:z,style:{width:"100%",padding:"0.75rem",background:"rgba(251,191,36,0.1)",border:"1px solid rgba(251,191,36,0.3)",color:"#fbbf24",borderRadius:8,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[l.jsx(xh,{size:16})," ",z?"Loading...":"Get AI Hint"]}),P&&l.jsxs("div",{style:{marginTop:"1rem",padding:"1rem",background:"rgba(16,185,129,0.1)",border:"1px solid rgba(16,185,129,0.2)",color:"#4ade80",borderRadius:10,fontSize:"0.9rem"},children:[" ",P]})]})]})}),l.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",background:"linear-gradient(180deg, #111827 0%, #0f172a 100%)"},children:[l.jsxs("div",{style:{padding:"0.65rem 1.25rem",borderBottom:"1px solid rgba(59, 130, 246, 0.15)",display:"flex",justifyContent:"space-between",alignItems:"center",background:"linear-gradient(180deg, rgba(31, 41, 55, 0.6) 0%, rgba(31, 41, 55, 0.3) 100%)"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1.25rem"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(Dr,{size:14,color:"#3b82f6"}),l.jsx("div",{style:{color:"#94a3b8",fontSize:"0.75rem",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Language"})]}),l.jsx("select",{value:Ir,onChange:st=>Cn(Bt.id,st.target.value),disabled:Pr,style:{background:"rgba(30, 41, 59, 0.8)",color:"#f3f4f6",border:"1px solid rgba(59, 130, 246, 0.3)",borderRadius:"8px",padding:"0.4rem 0.75rem",cursor:Pr?"default":"pointer",fontSize:"0.85rem",outline:"none",boxShadow:"0 2px 8px rgba(0,0,0,0.2)"},children:Object.keys(Zm).map(st=>l.jsx("option",{value:st,disabled:Pr&&st!=="SQL",children:st},st))})]}),!Pr&&l.jsx("button",{onClick:()=>Wn(Bt.id,ti,Ir,Bt.sqlSchema),disabled:F,style:{padding:"0.5rem 1.25rem",background:F?"#374151":"linear-gradient(135deg, #10b981, #059669)",border:"none",borderRadius:"8px",color:"white",fontWeight:600,cursor:F?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"0.6rem",boxShadow:F?"none":"0 4px 10px rgba(37, 99, 235, 0.3)",transition:"all 0.2s",fontSize:"0.9rem"},children:F?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin",style:{width:14,height:14,border:"2px solid rgba(255,255,255,0.3)",borderTopColor:"white",borderRadius:"50%"}}),"Running..."]}):l.jsxs(l.Fragment,{children:[l.jsx(ef,{size:16,fill:"white"})," Run Code"]})})]}),l.jsxs("div",{style:{flex:1,position:"relative",display:"flex",flexDirection:"column",overflow:"hidden"},children:[l.jsx("div",{style:{flex:1,position:"relative",minHeight:"200px"},children:l.jsx(hw,{height:"100%",defaultLanguage:Pr?"sql":"python",language:Zm[Ir]?.monacoLang||"python",theme:"vs-dark",value:ti,onChange:st=>u(gt=>({...gt,[Bt.id]:st||""})),options:{minimap:{enabled:!1},fontSize:14,padding:{top:16}}})}),l.jsxs("div",{ref:K,style:{height:q?`${G}px`:"40px",flex:0,minHeight:q?"400px":"40px",transition:H.current?"none":"height 0.25s cubic-bezier(0.4, 0, 0.2, 1)",borderTop:"2px solid rgba(59, 130, 246, 0.3)",background:"linear-gradient(180deg, #0a0f1a 0%, #020617 100%)",display:"flex",flexDirection:"column",flexShrink:0,position:"relative",overflow:"hidden",boxShadow:"0 -4px 20px rgba(0,0,0,0.3)"},children:[q&&l.jsx("div",{onMouseDown:st=>{st.preventDefault(),st.stopPropagation(),H.current=!0;const gt=st.clientY,Pt=G;document.body.style.cursor="ns-resize",document.body.style.userSelect="none";const Gt=mr=>{mr.preventDefault();const ai=gt-mr.clientY,vo=Math.min(Math.max(Pt+ai,120),600);ne(vo)},jn=()=>{H.current=!1,document.body.style.cursor="",document.body.style.userSelect="",document.removeEventListener("mousemove",Gt),document.removeEventListener("mouseup",jn)};document.addEventListener("mousemove",Gt),document.addEventListener("mouseup",jn)},style:{position:"absolute",top:"-4px",left:0,right:0,height:"12px",cursor:"ns-resize",background:"transparent",zIndex:20,display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx("div",{style:{width:"60px",height:"5px",background:"linear-gradient(90deg, transparent, #3b82f6, transparent)",borderRadius:"3px",opacity:.7,transition:"opacity 0.2s, width 0.2s"},onMouseEnter:st=>{st.target.style.opacity="1",st.target.style.width="80px"},onMouseLeave:st=>{st.target.style.opacity="0.7",st.target.style.width="60px"}})}),!q&&l.jsxs("div",{onClick:()=>Z(!0),style:{flex:1,display:"flex",alignItems:"center",padding:"0 1.5rem",cursor:"pointer",background:"linear-gradient(180deg, #0f172a 0%, #1e293b 100%)",gap:"0.75rem",color:"#94a3b8",fontSize:"0.85rem",justifyContent:"space-between",borderTop:"1px solid rgba(59, 130, 246, 0.2)",transition:"background 0.2s"},onMouseEnter:st=>st.currentTarget.style.background="linear-gradient(180deg, #1e293b 0%, #334155 100%)",onMouseLeave:st=>st.currentTarget.style.background="linear-gradient(180deg, #0f172a 0%, #1e293b 100%)",children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[l.jsx("div",{style:{padding:"0.35rem",background:"rgba(59, 130, 246, 0.2)",borderRadius:"6px",display:"flex",alignItems:"center"},children:l.jsx(tm,{size:16,color:"#3b82f6"})}),l.jsx("span",{style:{fontWeight:600},children:"Console & Test Results"})]}),l.jsxs("div",{style:{fontSize:"0.75rem",color:"#64748b",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx("kbd",{style:{padding:"2px 6px",background:"rgba(255,255,255,0.1)",borderRadius:"4px",fontSize:"0.7rem"},children:"Click"}),"to expand"]})]}),Pr&&q&&l.jsxs("div",{style:{height:"100%",display:"flex",flexDirection:"column"},children:[l.jsxs("div",{style:{padding:"0.75rem 1.25rem",background:"#0f172a",borderBottom:"1px solid rgba(255,255,255,0.05)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{style:{display:"flex",gap:"1.25rem"},children:[l.jsxs("button",{onClick:()=>Ee("validator"),style:{padding:"0.5rem 0.75rem",background:"transparent",color:ve==="validator"?"#3b82f6":"#94a3b8",border:"none",borderBottom:`2px solid ${ve==="validator"?"#3b82f6":"transparent"}`,cursor:"pointer",fontSize:"0.85rem",fontWeight:600,display:"flex",alignItems:"center",gap:"0.6rem",transition:"all 0.2s",marginTop:"2px"},children:[l.jsx(Ui,{size:16})," Validator"]}),l.jsxs("button",{onClick:()=>Ee("visualizer"),style:{padding:"0.5rem 0.75rem",background:"transparent",color:ve==="visualizer"?"#8b5cf6":"#94a3b8",border:"none",borderBottom:`2px solid ${ve==="visualizer"?"#8b5cf6":"transparent"}`,cursor:"pointer",fontSize:"0.85rem",fontWeight:600,display:"flex",alignItems:"center",gap:"0.6rem",transition:"all 0.2s",marginTop:"2px"},children:[l.jsx(Ka,{size:16})," ER Diagram"]}),l.jsxs("button",{onClick:()=>Ee("debugger"),style:{padding:"0.5rem 0.75rem",background:"transparent",color:ve==="debugger"?"#10b981":"#94a3b8",border:"none",borderBottom:`2px solid ${ve==="debugger"?"#10b981":"transparent"}`,cursor:"pointer",fontSize:"0.85rem",fontWeight:600,display:"flex",alignItems:"center",gap:"0.6rem",transition:"all 0.2s",marginTop:"2px"},children:[l.jsx(qu,{size:16})," Debugger"]})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"rgba(255,255,255,0.3)",fontWeight:500,textTransform:"uppercase"},children:"Advanced SQL Tools"}),l.jsx("button",{onClick:()=>Z(!1),style:{background:"transparent",border:"none",cursor:"pointer",color:"#64748b"},children:l.jsx(gh,{size:18})})]})]}),l.jsxs("div",{style:{flex:1,overflow:"auto",padding:"1.5rem",background:"radial-gradient(circle at top left, rgba(30,41,59,0.2), transparent)",display:"flex",flexDirection:"column",gap:"1.5rem"},children:[ve==="validator"&&l.jsx(Eae,{query:ti,schemaContext:Bt.sqlSchema||Bt.starterCode}),ve==="visualizer"&&l.jsx(Iae,{schema:Bt.sqlSchema||Bt.starterCode}),ve==="debugger"&&l.jsx(Nae,{query:ti,schema:Bt.sqlSchema||Bt.starterCode})]})]}),!Pr&&q&&l.jsxs("div",{style:{height:"100%",display:"flex",flexDirection:"column"},children:[l.jsxs("div",{style:{display:"flex",borderBottom:"1px solid rgba(59, 130, 246, 0.1)",background:"linear-gradient(180deg, rgba(15, 23, 42, 0.8) 0%, rgba(15, 23, 42, 0.5) 100%)",justifyContent:"space-between",paddingRight:"1rem"},children:[l.jsx("div",{style:{display:"flex"},children:["input","output","tests"].map(st=>{const gt=(Q[Bt.id]||"input")===st;return l.jsxs("button",{onClick:()=>X(Pt=>({...Pt,[Bt.id]:st})),style:{padding:"1rem 1.5rem",background:gt?"rgba(30, 41, 59, 0.8)":"transparent",border:"none",borderBottom:gt?`3px solid ${st==="input"?"#f59e0b":st==="output"?"#3b82f6":"#10b981"}`:"3px solid transparent",color:gt?st==="input"?"#fbbf24":st==="output"?"#60a5fa":"#4ade80":"#94a3b8",cursor:"pointer",fontSize:"0.9rem",fontWeight:600,display:"flex",alignItems:"center",gap:"0.75rem",transition:"all 0.2s"},children:[st==="input"&&l.jsxs(l.Fragment,{children:[l.jsx(Oa,{size:14})," Custom Input"]}),st==="output"&&l.jsxs(l.Fragment,{children:[l.jsx(Dr,{size:14})," Output ",l.jsx("span",{style:{width:6,height:6,borderRadius:"50%",background:T[Bt.id]?"#10b981":"transparent",marginLeft:4}})]}),st==="tests"&&l.jsxs(l.Fragment,{children:[l.jsx($n,{size:14})," Test Cases",he[Bt.id]&&l.jsxs("span",{style:{fontSize:"0.7rem",background:"rgba(255,255,255,0.1)",padding:"1px 6px",borderRadius:4,marginLeft:4},children:[he[Bt.id].passed,"/",he[Bt.id].total]})]})]},st)})}),l.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:l.jsx("button",{onClick:()=>Z(!1),title:"Collapse",style:{background:"transparent",border:"none",cursor:"pointer",color:"#64748b",display:"flex",alignItems:"center",padding:"4px"},children:l.jsx(gh,{size:18})})})]}),l.jsxs("div",{style:{flex:1,overflowY:"auto",display:"flex",flexDirection:"column",padding:"1.5rem"},children:[(Q[Bt.id]||"input")==="input"&&l.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"1rem"},children:l.jsx("textarea",{value:re[Bt.id]||"",onChange:st=>le(gt=>({...gt,[Bt.id]:st.target.value})),placeholder:"Enter custom input here...",style:{width:"100%",flex:1,background:"rgba(15, 23, 42, 0.6)",color:"#e2e8f0",border:"1px solid rgba(59, 130, 246, 0.2)",borderRadius:"12px",padding:"1.25rem",fontFamily:"monospace",resize:"none",outline:"none",fontSize:"0.9rem",lineHeight:"1.6"}})}),(Q[Bt.id]||"input")==="output"&&l.jsx("div",{style:{padding:"1.5rem",fontFamily:"monospace",color:"#e2e8f0",fontSize:"0.9rem",whiteSpace:"pre-wrap",flex:1,overflow:"auto",maxHeight:"100%",lineHeight:"1.6"},children:T[Bt.id]||"No output yet. Run your code to see results."}),(Q[Bt.id]||"input")==="tests"&&l.jsx("div",{style:{padding:"1.5rem",overflow:"auto",flex:1,display:"flex",flexDirection:"column",gap:"1.5rem"},children:l.jsx(kae,{problemId:Bt.id,code:ti,language:Ir,isGlobalTest:!0,onRunComplete:st=>{if(st?.testResults){const gt=st.testResults.filter(Gt=>Gt.passed).length,Pt=st.testResults.length;if(xe(Gt=>({...Gt,[Bt.id]:{passed:gt,total:Pt}})),e&&as){const Gt=Math.round(gt/Pt*100);as.emitProgressUpdate(e.id,Bt.id,Gt,null)}}}})})]})]})]})]})]})]})]}),l.jsxs("div",{style:{padding:"0.75rem 2rem",borderTop:"1px solid rgba(139,92,246,0.2)",background:"linear-gradient(180deg, rgba(15,23,42,0.98) 0%, rgba(15,23,42,0.95) 100%)",display:"flex",justifyContent:"space-between",alignItems:"center",backdropFilter:"blur(12px)",boxShadow:"0 -4px 20px rgba(0,0,0,0.2)"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[l.jsxs("span",{style:{fontSize:"0.85rem",color:"#64748b"},children:["Question ",wr.indexOf(Bt)+1," of ",Si]}),l.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[l.jsxs("button",{onClick:os,style:{padding:"0.5rem 1rem",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.1)",background:"rgba(255,255,255,0.05)",color:"#94a3b8",cursor:"pointer",fontSize:"0.85rem",fontWeight:500,display:"flex",alignItems:"center",gap:"0.35rem",transition:"all 0.2s"},children:[l.jsx(h2,{size:16})," Prev"]}),l.jsxs("button",{onClick:Qr,style:{padding:"0.5rem 1rem",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.1)",background:"rgba(255,255,255,0.05)",color:"#94a3b8",cursor:"pointer",fontSize:"0.85rem",fontWeight:500,display:"flex",alignItems:"center",gap:"0.35rem",transition:"all 0.2s"},children:["Next ",l.jsx(Ug,{size:16})]})]})]}),l.jsxs("button",{onClick:()=>sr(!1),disabled:w,style:{padding:"0.75rem 2rem",borderRadius:12,border:"none",background:w?"#374151":"linear-gradient(135deg, #8b5cf6, #6366f1)",color:"white",fontWeight:700,cursor:w?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"0.5rem",boxShadow:w?"none":"0 4px 20px rgba(139, 92, 246, 0.4)",transition:"all 0.2s",fontSize:"0.95rem"},children:[l.jsx(_c,{size:18})," ",w?"Submitting...":"Submit Test"]})]}),l.jsx("canvas",{ref:Lt,style:{display:"none"}})]})}const GWe="http://localhost:8000/api";function J$({submission:t,onClose:e,isStudentView:n=!1}){const[r,s]=C.useState(!0),[i,a]=C.useState(null),[o,c]=C.useState(null);if(C.useEffect(()=>{t?.id&&rt.get(`${GWe}/aptitude-submissions/${t.id}`).then(d=>{a(d.data),s(!1)}).catch(d=>{console.error("Failed to load submission details:",d),c("Failed to load submission details"),s(!1)})},[t?.id]),!t)return null;const u=i||t;return l.jsx("div",{className:"modal-overlay",onClick:e,children:l.jsxs("div",{className:"modal-content",onClick:d=>d.stopPropagation(),style:{maxWidth:"950px",maxHeight:"90vh",display:"flex",flexDirection:"column",overflow:"hidden"},children:[l.jsxs("div",{className:"modal-header",style:{borderBottom:"1px solid rgba(139, 92, 246, 0.2)"},children:[l.jsxs("div",{className:"modal-title-with-icon",children:[l.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"12px",background:u.status==="passed"?"linear-gradient(135deg, #10b981, #06b6d4)":"linear-gradient(135deg, #ef4444, #f97316)",display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx(Zr,{size:24,color:"white"})}),l.jsxs("div",{children:[l.jsx("h2",{style:{margin:0},children:"Aptitude Test Report"}),l.jsx("p",{style:{margin:0,color:"var(--text-muted)",fontSize:"0.9rem"},children:n?"Your Results":u.studentName})]})]}),l.jsx("button",{onClick:e,className:"modal-close",children:l.jsx(xi,{size:20})})]}),l.jsx("div",{className:"modal-body",style:{flex:1,overflowY:"auto"},children:r?l.jsxs("div",{style:{textAlign:"center",padding:"3rem"},children:[l.jsx("div",{className:"loading-spinner"}),l.jsx("p",{style:{color:"var(--text-muted)",marginTop:"1rem"},children:"Loading report details..."})]}):o?l.jsxs("div",{style:{textAlign:"center",padding:"3rem"},children:[l.jsx(Qn,{size:48,color:"#ef4444",style:{marginBottom:"1rem"}}),l.jsx("p",{style:{color:"#ef4444"},children:o})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{textAlign:"center",marginBottom:"1.5rem"},children:[l.jsx("h3",{style:{margin:0,color:"var(--primary)"},children:u.testTitle}),l.jsxs("p",{style:{color:"var(--text-muted)",margin:"0.5rem 0 0"},children:["Submitted: ",new Date(u.submittedAt).toLocaleString()]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"3rem",marginBottom:"2rem",padding:"2rem",background:u.status==="passed"?"rgba(16, 185, 129, 0.05)":"rgba(239, 68, 68, 0.05)",borderRadius:"16px",border:`1px solid ${u.status==="passed"?"rgba(16, 185, 129, 0.2)":"rgba(239, 68, 68, 0.2)"}`},children:[l.jsxs("div",{style:{textAlign:"center"},children:[l.jsxs("div",{style:{fontSize:"4rem",fontWeight:800,color:u.status==="passed"?"#10b981":"#ef4444",lineHeight:1},children:[u.score,"%"]}),l.jsx("div",{style:{color:"var(--text-muted)",marginTop:"0.5rem"},children:"Overall Score"})]}),l.jsxs("div",{style:{padding:"1rem 2rem",borderRadius:"12px",background:u.status==="passed"?"rgba(16, 185, 129, 0.15)":"rgba(239, 68, 68, 0.15)",border:`1px solid ${u.status==="passed"?"rgba(16, 185, 129, 0.3)":"rgba(239, 68, 68, 0.3)"}`,display:"flex",alignItems:"center",gap:"0.75rem"},children:[u.status==="passed"?l.jsx($n,{size:28,color:"#10b981"}):l.jsx(Jr,{size:28,color:"#ef4444"}),l.jsx("span",{style:{fontSize:"1.5rem",fontWeight:700,color:u.status==="passed"?"#10b981":"#ef4444"},children:u.status==="passed"?"PASSED":"FAILED"})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"1rem",marginBottom:"2rem"},children:[l.jsxs("div",{style:{background:"rgba(59, 130, 246, 0.1)",borderRadius:"12px",padding:"1.25rem",border:"1px solid rgba(59, 130, 246, 0.2)",textAlign:"center"},children:[l.jsx("div",{style:{fontSize:"1.75rem",fontWeight:800,color:"#3b82f6"},children:u.totalQuestions||0}),l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:"Total Questions"})]}),l.jsxs("div",{style:{background:"rgba(16, 185, 129, 0.1)",borderRadius:"12px",padding:"1.25rem",border:"1px solid rgba(16, 185, 129, 0.2)",textAlign:"center"},children:[l.jsx("div",{style:{fontSize:"1.75rem",fontWeight:800,color:"#10b981"},children:u.correctCount||0}),l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:"Correct"})]}),l.jsxs("div",{style:{background:"rgba(239, 68, 68, 0.1)",borderRadius:"12px",padding:"1.25rem",border:"1px solid rgba(239, 68, 68, 0.2)",textAlign:"center"},children:[l.jsx("div",{style:{fontSize:"1.75rem",fontWeight:800,color:"#ef4444"},children:(u.totalQuestions||0)-(u.correctCount||0)}),l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:"Incorrect"})]}),l.jsxs("div",{style:{background:"rgba(245, 158, 11, 0.1)",borderRadius:"12px",padding:"1.25rem",border:"1px solid rgba(245, 158, 11, 0.2)",textAlign:"center"},children:[l.jsx("div",{style:{fontSize:"1.75rem",fontWeight:800,color:(u.tabSwitches||0)>0?"#f59e0b":"#10b981"},children:u.tabSwitches||0}),l.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:[l.jsx(Qn,{size:12,style:{marginRight:"4px",verticalAlign:"middle"}}),"Violations"]})]}),l.jsxs("div",{style:{background:"rgba(139, 92, 246, 0.1)",borderRadius:"12px",padding:"1.25rem",border:"1px solid rgba(139, 92, 246, 0.2)",textAlign:"center"},children:[l.jsx("div",{style:{fontSize:"1.75rem",fontWeight:800,color:"#8b5cf6"},children:u.timeSpent?`${Math.floor(u.timeSpent/60)}m ${u.timeSpent%60}s`:"N/A"}),l.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:[l.jsx(vs,{size:12,style:{marginRight:"4px",verticalAlign:"middle"}}),"Time Spent"]})]})]}),(u.tabSwitches||0)>0&&l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",padding:"1rem 1.5rem",background:"rgba(245, 158, 11, 0.1)",borderRadius:"12px",border:"1px solid rgba(245, 158, 11, 0.3)",marginBottom:"2rem"},children:[l.jsx(Qn,{size:24,color:"#f59e0b"}),l.jsxs("div",{children:[l.jsx("strong",{style:{color:"#f59e0b"},children:"Tab Switch Violations Detected"}),l.jsxs("p",{style:{margin:"0.25rem 0 0",color:"var(--text-muted)",fontSize:"0.9rem"},children:["The student switched tabs/windows ",u.tabSwitches," time(s) during the test."]})]})]}),l.jsxs("div",{children:[l.jsxs("h4",{style:{margin:"0 0 1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(kr,{size:18,color:"#8b5cf6"}),"Detailed Question Breakdown"]}),u.questionResults&&u.questionResults.length>0?l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:u.questionResults.map((d,f)=>l.jsxs("div",{style:{padding:"1.25rem",background:d.isCorrect?"rgba(16, 185, 129, 0.05)":"rgba(239, 68, 68, 0.05)",border:`1px solid ${d.isCorrect?"rgba(16, 185, 129, 0.25)":"rgba(239, 68, 68, 0.25)"}`,borderRadius:"12px"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"0.75rem",marginBottom:"1rem"},children:[l.jsx("span",{style:{minWidth:"28px",height:"28px",borderRadius:"50%",background:d.isCorrect?"linear-gradient(135deg, #10b981, #06b6d4)":"linear-gradient(135deg, #ef4444, #f97316)",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.8rem",fontWeight:700,flexShrink:0},children:d.isCorrect?"":""}),l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.5rem"},children:[l.jsxs("span",{style:{fontSize:"0.75rem",fontWeight:600,color:"#8b5cf6",textTransform:"uppercase",letterSpacing:"0.05em"},children:["Question ",f+1]}),d.category&&l.jsx("span",{style:{fontSize:"0.7rem",padding:"0.2rem 0.6rem",background:"rgba(139, 92, 246, 0.2)",borderRadius:"20px",color:"#a78bfa"},children:d.category})]}),l.jsx("p",{style:{margin:0,fontSize:"1rem",fontWeight:500,lineHeight:1.5},children:d.question})]})]}),l.jsxs("div",{style:{marginLeft:"2.5rem",display:"flex",flexDirection:"column",gap:"0.75rem"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"0.75rem",padding:"0.75rem 1rem",background:d.isCorrect?"rgba(16, 185, 129, 0.1)":"rgba(239, 68, 68, 0.1)",borderRadius:"8px",border:`1px solid ${d.isCorrect?"rgba(16, 185, 129, 0.2)":"rgba(239, 68, 68, 0.2)"}`},children:[l.jsx("span",{style:{fontSize:"0.8rem",fontWeight:600,color:"var(--text-muted)",minWidth:"120px"},children:n?"Your Answer:":"Student Answer:"}),l.jsx("span",{style:{fontSize:"0.9rem",fontWeight:600,color:d.isCorrect?"#10b981":"#ef4444"},children:d.userAnswer||"(Not answered)"})]}),!d.isCorrect&&l.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"0.75rem",padding:"0.75rem 1rem",background:"rgba(16, 185, 129, 0.1)",borderRadius:"8px",border:"1px solid rgba(16, 185, 129, 0.2)"},children:[l.jsx("span",{style:{fontSize:"0.8rem",fontWeight:600,color:"var(--text-muted)",minWidth:"120px"},children:"Correct Answer:"}),l.jsx("span",{style:{fontSize:"0.9rem",fontWeight:600,color:"#10b981"},children:d.correctAnswer})]}),d.explanation&&l.jsxs("div",{style:{padding:"0.75rem 1rem",background:"rgba(139, 92, 246, 0.05)",borderRadius:"8px",border:"1px solid rgba(139, 92, 246, 0.15)"},children:[l.jsx("span",{style:{fontSize:"0.75rem",fontWeight:600,color:"#a78bfa",display:"block",marginBottom:"0.25rem"},children:" Explanation"}),l.jsx("p",{style:{margin:0,fontSize:"0.85rem",color:"var(--text-muted)",lineHeight:1.5},children:d.explanation})]})]})]},f))}):l.jsxs("div",{style:{textAlign:"center",padding:"2rem",background:"rgba(71, 85, 105, 0.1)",borderRadius:"12px",color:"var(--text-muted)"},children:[l.jsx(kr,{size:32,style:{opacity:.5,marginBottom:"0.5rem"}}),l.jsx("p",{style:{margin:0},children:"No question details available"})]})]})]})})]})})}function Ly(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((r=r.apply(t,[])).next())})}function $y(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(u){return function(d){return c([u,d])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,s=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(d){u=[6,d],s=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var KWe=function(t){t.startEndTensor.dispose(),t.startPoint.dispose(),t.endPoint.dispose()},tF=function(t){return{startEndTensor:t,startPoint:Gn(t,[0,0],[-1,2]),endPoint:Gn(t,[0,2],[-1,2])}},XWe=function(t,e){var n=je(t.startPoint,e),r=je(t.endPoint,e),s=S5([n,r],1);return tF(s)};var YWe={strides:[8,16],anchors:[2,6]},kH=6;function JWe(t,e,n){for(var r=[],s=0;s<n.strides.length;s++)for(var i=n.strides[s],a=Math.floor((e+i-1)/i),o=Math.floor((t+i-1)/i),c=n.anchors[s],u=0;u<a;u++)for(var d=i*(u+.5),f=0;f<o;f++)for(var h=i*(f+.5),m=0;m<c;m++)r.push([h,d]);return r}function ZWe(t,e,n){var r=Gn(t,[0,1],[-1,2]),s=jt(r,e),i=Gn(t,[0,3],[-1,2]),a=un(i,n),o=un(s,n),c=un(a,2),u=Kt(o,c),d=jt(o,c),f=je(u,n),h=je(d,n),m=1;return S5([f,h],m)}function eVe(t){return t instanceof Fr?[t.shape[0],t.shape[1]]:[t.height,t.width]}function BH(t,e){var n,r,s;if(t.topLeft instanceof Fr&&t.bottomRight instanceof Fr){var i=He(function(){return[Wi([Gn(Kt(e-1,t.topLeft),0,1),Gn(t.topLeft,1,1)]),Wi([Kt(e-1,Gn(t.bottomRight,0,1)),Gn(t.bottomRight,1,1)])]}),a=i[0],o=i[1];n=a,r=o,t.landmarks!=null&&(s=He(function(){var y=Kt(Qa([e-1,0]),t.landmarks),x=Qa([1,-1]),v=je(y,x);return v}))}else{var c=t.topLeft,u=c[0],d=c[1],f=t.bottomRight,h=f[0],m=f[1];n=[e-1-u,d],r=[e-1-h,m],t.landmarks!=null&&(s=t.landmarks.map(function(y){return[e-1-y[0],y[1]]}))}var g={topLeft:n,bottomRight:r};return s!=null&&(g.landmarks=s),t.probability!=null&&(g.probability=t.probability instanceof Fr?t.probability.clone():t.probability),g}function EH(t,e){return He(function(){var n;return t.hasOwnProperty("box")?n=t.box:n=t,td(XWe(n,e).startEndTensor)})}var tVe=(function(){function t(e,n,r,s,i,a){this.blazeFaceModel=e,this.width=n,this.height=r,this.maxFaces=s,this.anchorsData=JWe(n,r,YWe),this.anchors=qp(this.anchorsData),this.inputSizeData=[n,r],this.inputSize=Qa([n,r]),this.iouThreshold=i,this.scoreThreshold=a}return t.prototype.getBoundingBoxes=function(e,n,r){return r===void 0&&(r=!0),Ly(this,void 0,void 0,function(){var s,i,a,o,c,u,d,f,h,m,g,y,x,v,w=this;return $y(this,function(B){switch(B.label){case 0:return s=He(function(){var k=ou.resizeBilinear(e,[w.width,w.height]),E=je(Kt(un(k,255),.5),2),N=w.blazeFaceModel.predict(E),O=td(N),F=ZWe(O,w.anchors,w.inputSize),D=Gn(O,[0,0],[-1,1]),T=td(ed(D));return[O,F,T]}),i=s[0],a=s[1],o=s[2],c=console.warn,console.warn=function(){},u=ou.nonMaxSuppression(a,o,this.maxFaces,this.iouThreshold,this.scoreThreshold),console.warn=c,[4,u.array()];case 1:return d=B.sent(),u.dispose(),f=d.map(function(k){return Gn(a,[k,0],[1,-1])}),n?[3,3]:[4,Promise.all(f.map(function(k){return Ly(w,void 0,void 0,function(){var E;return $y(this,function(N){switch(N.label){case 0:return[4,k.array()];case 1:return E=N.sent(),k.dispose(),[2,E]}})})}))];case 2:f=B.sent(),B.label=3;case 3:for(h=e.shape[1],m=e.shape[2],n?g=un([m,h],this.inputSize):g=[m/this.inputSizeData[0],h/this.inputSizeData[1]],y=[],x=function(k){var E=f[k],N=He(function(){var O=E instanceof Fr?tF(E):tF(qp(E));if(!r)return O;var F=d[k],D;n?D=Gn(w.anchors,[F,0],[1,2]):D=w.anchorsData[F];var T=Fe(td(Gn(i,[F,kH-1],[1,-1])),[kH,-1]),j=Gn(o,[F],[1]);return{box:O,landmarks:T,probability:j,anchor:D}});y.push(N)},v=0;v<f.length;v++)x(v);return a.dispose(),o.dispose(),i.dispose(),[2,{boxes:y,scaleFactor:g}]}})})},t.prototype.estimateFaces=function(e,n,r,s){return n===void 0&&(n=!1),r===void 0&&(r=!1),s===void 0&&(s=!0),Ly(this,void 0,void 0,function(){var i,a,o,c,u,d,f=this;return $y(this,function(h){switch(h.label){case 0:return i=eVe(e),a=i[1],o=He(function(){return e instanceof Fr||(e=vte(e)),Oo(Mt(e,"float32"),0)}),[4,this.getBoundingBoxes(o,n,s)];case 1:return c=h.sent(),u=c.boxes,d=c.scaleFactor,o.dispose(),n?[2,u.map(function(m){var g=EH(m,d),y={topLeft:Gn(g,[0],[2]),bottomRight:Gn(g,[2],[2])};if(s){var x=m,v=x.landmarks,w=x.probability,B=x.anchor,k=je(jt(v,B),d);y.landmarks=k,y.probability=w}return r&&(y=BH(y,a)),y})]:[2,Promise.all(u.map(function(m){return Ly(f,void 0,void 0,function(){var g,y,w,x,v,w,B,k,E,N,O,F,D=this;return $y(this,function(T){switch(T.label){case 0:return g=EH(m,d),s?[3,2]:[4,g.array()];case 1:return w=T.sent(),y={topLeft:w.slice(0,2),bottomRight:w.slice(2)},[3,4];case 2:return[4,Promise.all([m.landmarks,g,m.probability].map(function(j){return Ly(D,void 0,void 0,function(){return $y(this,function(P){return[2,j.array()]})})}))];case 3:x=T.sent(),v=x[0],w=x[1],B=x[2],k=m.anchor,E=d,N=E[0],O=E[1],F=v.map(function(j){return[(j[0]+k[0])*N,(j[1]+k[1])*O]}),y={topLeft:w.slice(0,2),bottomRight:w.slice(2),landmarks:F,probability:B},KWe(m.box),m.landmarks.dispose(),m.probability.dispose(),T.label=4;case 4:return g.dispose(),r&&(y=BH(y,a)),[2,y]}})})}))]}})})},t.prototype.dispose=function(){this.blazeFaceModel.dispose(),this.anchors.dispose(),this.inputSize.dispose()},t})();var nVe="https://tfhub.dev/tensorflow/tfjs-model/blazeface/1/default/1";function rVe(t){var e={},n=e.maxFaces,r=n===void 0?10:n,s=e.inputWidth,i=s===void 0?128:s,a=e.inputHeight,o=a===void 0?128:a,c=e.iouThreshold,u=c===void 0?.3:c,d=e.scoreThreshold,f=d===void 0?.75:d,h=e.modelUrl;return Ly(this,void 0,void 0,function(){var m,g;return $y(this,function(y){switch(y.label){case 0:return h==null?[3,2]:[4,MO(h)];case 1:return m=y.sent(),[3,4];case 2:return[4,MO(nVe,{fromTFHub:!0})];case 3:m=y.sent(),y.label=4;case 4:return g=new tVe(m,i,o,r,u,f),[2,g]}})})}const zC="http://localhost:8000/api",MC={Python:{monacoLang:"python",ext:".py",defaultCode:`# Write your Python code here

def solution():
    pass

# Call your solution
solution()`},JavaScript:{monacoLang:"javascript",ext:".js",defaultCode:`// Write your JavaScript code here

function solution() {
    
}

// Call your solution
solution();`},Java:{monacoLang:"java",ext:".java",defaultCode:`// Write your Java code here

public class Solution {
    public static void main(String[] args) {
        // Your code here
    }
}`},C:{monacoLang:"c",ext:".c",defaultCode:`// Write your C code here
#include <stdio.h>

int main() {
    // Your code here
    return 0;
}`},"C++":{monacoLang:"cpp",ext:".cpp",defaultCode:`// Write your C++ code here
#include <iostream>
using namespace std;

int main() {
    // Your code here
    return 0;
}`},SQL:{monacoLang:"sql",ext:".sql",defaultCode:`-- Write your SQL query here
SELECT * FROM table_name;`}};function sVe({problem:t,user:e,onClose:n,onSubmitSuccess:r}){const[s,i]=C.useState(t.language),[a,o]=C.useState(MC[t.language]?.defaultCode||""),[c,u]=C.useState(!1),[d,f]=C.useState(!1),[h,m]=C.useState(""),[g,y]=C.useState(""),[x,v]=C.useState(!1),[w,B]=C.useState(!1),[k,E]=C.useState(""),[N,O]=C.useState("output"),[F,D]=C.useState([]),[T,j]=C.useState([]),[P,U]=C.useState(!1),z=C.useRef(null),[ee,q]=C.useState(0),[Z,G]=C.useState(0),[ne,K]=C.useState(!1),[H,Q]=C.useState(""),[X,re]=C.useState(!1),[le]=C.useState(Date.now()),[he,xe]=C.useState(!1),[Be,me]=C.useState(!1),[ve,Ee]=C.useState(null),[ye,Ue]=C.useState(!1),[at,ie]=C.useState(0),[Le,tt]=C.useState(!1),[It,_e]=C.useState(0),[At,ot]=C.useState(!1),[$t,kt]=C.useState(!0),[Ht,Sn]=C.useState(!1),[zt,en]=C.useState(0),[fn,Qt]=C.useState(0),[rn,Yt]=C.useState(0),sn=C.useRef(null),On=C.useRef(null),Ot=C.useRef(null),xn=C.useRef(!1),ke=C.useRef(!1),$e=C.useRef(null),yt=C.useRef(null),Ct=C.useRef(null),_t=C.useRef(null);C.useRef(!0);const Lt=t.proctoring||{},Ut=Lt.maxTabSwitches||3;C.useEffect(()=>{setTimeout(()=>{z.current&&!document.fullscreenElement&&z.current.requestFullscreen().then(()=>{B(!0)}).catch(Wn=>{console.log("Fullscreen request failed:",Wn.message)})},100);const Cn=()=>{B(!!document.fullscreenElement)};if(document.addEventListener("fullscreenchange",Cn),t.testCases){const Wn=typeof t.testCases=="string"?JSON.parse(t.testCases):t.testCases;D(Array.isArray(Wn)?Wn:[])}return()=>{document.removeEventListener("fullscreenchange",Cn),document.fullscreenElement&&document.exitFullscreen().catch(()=>{})}},[]),C.useEffect(()=>(Lt.enabled&&Lt.videoAudio&&Jt(),()=>{Hn(),ve&&ve.getTracks().forEach(ft=>ft.stop())}),[]);const Jt=async()=>{try{const ft=await navigator.mediaDevices.getUserMedia({video:{width:640,height:480,facingMode:"user"},audio:!0});Ee(ft),xe(!0),me(!0),sn.current&&(sn.current.srcObject=ft),Gr(),cn(),(Lt.enableFaceDetection||Lt.detectMultipleFaces||Lt.trackFaceLookaway)&&wr()}catch(ft){console.error("Failed to access camera/microphone:",ft),Q(" Camera/Microphone access required for proctoring"),K(!0)}},dt=()=>{Hn(),Cs(),Si(),ve&&(ve.getTracks().forEach(ft=>{ft.stop(),console.log(` Stopped ${ft.kind} track`)}),Ee(null)),sn.current&&(sn.current.srcObject=null),xe(!1),me(!1)},pr=()=>{dt(),n()},Gr=()=>{const ft=document.createElement("canvas");ft.width=64,ft.height=48,On.current=ft,Ot.current=setInterval(()=>{Fs()},3e3)},Hn=()=>{Ot.current&&(clearInterval(Ot.current),Ot.current=null)},Fs=()=>{if(!sn.current||!On.current)return;const ft=sn.current,Cn=On.current,Wn=Cn.getContext("2d");Wn.drawImage(ft,0,0,Cn.width,Cn.height);const sr=Wn.getImageData(0,0,Cn.width,Cn.height).data;let oa=0,Qr=0,os={r:0,g:0,b:0};const Pr=sr.length/4;for(let gt=0;gt<sr.length;gt+=4){const Pt=sr[gt],Gt=sr[gt+1],jn=sr[gt+2],mr=(Pt+Gt+jn)/3;oa+=mr,os.r+=Pt,os.g+=Gt,os.b+=jn,mr<30&&Qr++}const Xi=oa/Pr,Ir=Qr/Pr,ti={r:os.r/Pr,g:os.g/Pr,b:os.b/Pr};let rs=0;for(let gt=0;gt<sr.length;gt+=4){const Pt=sr[gt],Gt=sr[gt+1],jn=sr[gt+2];rs+=Math.abs(Pt-ti.r)+Math.abs(Gt-ti.g)+Math.abs(jn-ti.b)}rs=rs/Pr/3;const st=Ir>.9||Xi<15||rs<8;console.log(`Camera check - Brightness: ${Xi.toFixed(1)}, Variance: ${rs.toFixed(1)}, Dark%: ${(Ir*100).toFixed(1)}%, Blocked: ${st}`),st&&!xn.current?(xn.current=!0,Ue(!0),ie(gt=>{const Pt=gt+1;return as.emitProctoringViolation(e.id,e.name||e.email,"camera_blocked","critical",t.mentorId),Q(` Camera obstruction detected! (${Pt} times) Please uncover your camera.`),K(!0),Pt})):!st&&xn.current&&(xn.current=!1,Ue(!1),K(!1))},cn=async()=>{try{console.log(" Loading object detection model..."),await hD();const ft=await Cae.load({base:"lite_mobilenet_v2"});$e.current=ft,ot(!0),console.log(" Object detection model loaded"),Ki()}catch(ft){console.error("Failed to load object detection model:",ft)}},Ki=()=>{yt.current=setInterval(()=>{Ds()},2e3)},Cs=()=>{yt.current&&(clearInterval(yt.current),yt.current=null)},Ds=async()=>{if(!sn.current||!$e.current){console.log(" Phone detection skipped - video or model not ready");return}if(sn.current.readyState<2){console.log(" Video not ready yet, readyState:",sn.current.readyState);return}try{const ft=await $e.current.detect(sn.current);console.log(" Detection ran, found:",ft.length,"objects:",ft.map(Xn=>`${Xn.class}(${(Xn.score*100).toFixed(0)}%)`).join(", "));const Cn=ft.filter(Xn=>["cell phone","laptop","book","remote"].includes(Xn.class)&&Xn.score>.4),Wn=Cn.some(Xn=>Xn.class==="cell phone"&&Xn.score>.4);Cn.length>0&&console.log(" Suspicious objects detected:",Cn.map(Xn=>`${Xn.class} (${(Xn.score*100).toFixed(0)}%)`)),Wn&&!ke.current?(ke.current=!0,tt(!0),_e(Xn=>{const sr=Xn+1;return as.emitProctoringViolation(e.id,e.name||e.email,"phone_detected",sr>2?"critical":"warning",t.mentorId),Q(` Mobile phone detected! (${sr} times) Remove all electronic devices from view.`),K(!0),sr})):!Wn&&ke.current&&(ke.current=!1,tt(!1),setTimeout(()=>{!ke.current&&!xn.current&&K(!1)},3e3))}catch(ft){console.error("Phone detection error:",ft)}},wr=async()=>{try{console.log(" Loading BlazeFace model...");const ft=await rVe();Ct.current=ft,console.log(" BlazeFace model loaded successfully"),Bt()}catch(ft){console.error(" Failed to load BlazeFace model:",ft)}},ts=ft=>{if(!ft||!ft.start||!ft.end)return!1;const[Cn,Wn]=ft.start,[Xn,sr]=ft.end,oa=(Cn+Xn)/2,Qr=(Wn+sr)/2,os=sn.current.videoWidth/2,Pr=sn.current.videoHeight/2,Xi=Math.abs(oa-os),Ir=Math.abs(Qr-Pr),ti=150;return Xi>ti||Ir>ti},Er=async()=>{if(!(!sn.current||!Ct.current))try{const ft=await Ct.current.estimateFaces(sn.current,!1);console.log(` Face detection result: ${ft.length} face(s)`),ft.length===0?Lt.enableFaceDetection&&(kt(!1),Qt(Cn=>(as.emitProctoringViolation(e.id,e.name||e.email,"face_not_detected","warning",t.mentorId),Cn+1)),console.log(" Face not detected")):ft.length===1?(kt(!0),Sn(!1),console.log(" Single face detected"),Lt.trackFaceLookaway&&ts(ft[0])&&(en(Cn=>(as.emitProctoringViolation(e.id,e.name||e.email,"face_lookaway","warning",t.mentorId),Cn+1)),console.log(" Face is off-center (looking away)"))):ft.length>=2&&Lt.detectMultipleFaces&&(kt(!0),Sn(!0),Yt(Cn=>(as.emitProctoringViolation(e.id,e.name||e.email,"multiple_faces","critical",t.mentorId),Cn+1)),Q(` Multiple people detected! (${ft.length} faces) - Automatic violation!`),K(!0),console.log(" Multiple faces detected - CHEATING"))}catch(ft){console.error(" Face detection inference failed:",ft),kt(!1)}},Bt=()=>{if(!Ct.current){console.error(" Face detector not loaded yet");return}_t.current=setInterval(()=>{Er()},1e3),console.log(" Face detection started (1s intervals)")},Si=()=>{_t.current&&(clearInterval(_t.current),_t.current=null,console.log(" Face detection stopped"))};C.useEffect(()=>{if(!Lt.enabled||!Lt.trackTabSwitches)return;const ft=()=>{document.hidden&&!X?q(Cn=>{const Wn=Cn+1;return as.emitProctoringViolation(e.id,e.name||e.email,"window_switch",Wn>=Ut?"critical":"warning",t.mentorId),Wn>=Ut?(Q(` Maximum tab switches reached (${Wn}/${Ut}). This will be reported.`),K(!0),re(!0)):(Q(` Tab switch detected! (${Wn}/${Ut}) ${Ut-Wn} more will be flagged!`),K(!0),setTimeout(()=>K(!1),4e3)),Wn}):document.hidden||z.current&&!document.fullscreenElement&&setTimeout(()=>{z.current?.requestFullscreen().catch(()=>{})},100)};return document.addEventListener("visibilitychange",ft),()=>document.removeEventListener("visibilitychange",ft)},[Lt,X,Ut]),C.useEffect(()=>{if(!Lt.enabled||!Lt.disableCopyPaste)return;const ft=Wn=>{(Wn.type==="paste"||Wn.ctrlKey&&(Wn.key==="v"||Wn.key==="c"))&&(Wn.preventDefault(),G(Xn=>(as.emitProctoringViolation(e.id,e.name||e.email,"copy_attempt","warning",t.mentorId),Xn+1)),Q(" Copy/Paste is disabled for this problem!"),K(!0),setTimeout(()=>K(!1),3e3))},Cn=Wn=>{Wn.preventDefault()};return document.addEventListener("paste",ft),document.addEventListener("keydown",ft),document.addEventListener("contextmenu",Cn),()=>{document.removeEventListener("paste",ft),document.removeEventListener("keydown",ft),document.removeEventListener("contextmenu",Cn)}},[Lt]);const ms=async()=>{f(!0),m("");try{const ft=await rt.post(`${zC}/run`,{code:a,language:t.language,problemId:t.id,sqlSchema:t.sqlSchema,stdin:k});m(ft.data.output||ft.data.error||"No output"),O("output"),(ft.data.error||ft.data.output?.includes("FAILED")||ft.data.output?.includes("Error"))&&as.emitTestFailed(e.id,e.name||e.email,t.id,`Run Test - ${t.title}`,t.mentorId)}catch(ft){const Cn="Error running code: "+(ft.response?.data?.error||ft.message);m(Cn),O("output"),as.emitTestFailed(e.id,e.name||e.email,t.id,`Run Error - ${t.title}`,t.mentorId)}finally{f(!1)}},Jn=async()=>{v(!0);try{const ft=await rt.post(`${zC}/hints`,{problemDescription:t.description,currentCode:a,language:s});y(ft.data.hint)}catch{y("Unable to generate hint at this time.")}finally{v(!1)}},ns=async()=>{if(!F||F.length===0){alert("No test cases available for this problem");return}U(!0),j([]);try{const ft=[];for(let Wn=0;Wn<F.length;Wn++){const Xn=F[Wn];try{const sr=await rt.post(`${zC}/run`,{code:a,language:t.language,problemId:t.id,sqlSchema:t.sqlSchema,stdin:Xn.input||Xn.stdin||""}),oa=(Xn.expectedOutput||Xn.expected_output||"").trim(),Qr=(sr.data.output||"").trim(),os=Qr===oa&&!sr.data.error;ft.push({testNumber:Wn+1,input:Xn.input||Xn.stdin||"N/A",expected:oa,actual:Qr,passed:os,error:sr.data.error||null})}catch(sr){ft.push({testNumber:Wn+1,input:Xn.input||Xn.stdin||"N/A",expected:Xn.expectedOutput||Xn.expected_output||"N/A",actual:"ERROR",passed:!1,error:sr.response?.data?.error||sr.message})}}j(ft),O("tests"),ft.every(Wn=>Wn.passed)&&as.emitTestSuccess(e.id,e.name||e.email,t.id,`All ${ft.length} tests passed - ${t.title}`,t.mentorId)}catch(ft){alert("Error running tests: "+ft.message)}finally{U(!1)}},Ci=async()=>{if(!a.trim()){alert("Please write some code before submitting");return}u(!0);const ft=Math.round((Date.now()-le)/1e3);as.emitSubmissionStarted(e.id,e.name||e.email,t.id,t.title,t.mentorId,Lt.enabled||!1);try{const Cn=await rt.post(`${zC}/submissions/proctored`,{studentId:e.id,problemId:t.id,code:a,language:s,submissionType:"editor",tabSwitches:ee,copyPasteAttempts:Z,cameraBlockedCount:at,phoneDetectionCount:It,faceNotDetectedCount:fn,multipleFacesDetectionCount:rn,faceLookawayCount:zt,timeSpent:ft,proctored:Lt.enabled});as.emitSubmissionCompleted(e.id,e.name||e.email,t.id,t.title,t.mentorId,Cn.data?.status||"success",Cn.data?.score||100),dt(),r&&r(Cn.data),n()}catch(Cn){as.emitSubmissionCompleted(e.id,e.name||e.email,t.id,t.title,t.mentorId,"error",0),console.error("Submission error:",{status:Cn.response?.status,data:Cn.response?.data,message:Cn.message});const Xn=`Submission failed: ${Cn.response?.data?.details||Cn.response?.data?.error||Cn.message}. Please check your code and try again.`;alert(Xn)}finally{u(!1)}};return l.jsxs("div",{ref:z,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"#0f172a",zIndex:1e4,display:"flex",flexDirection:"column"},children:[ne&&l.jsxs("div",{style:{position:"fixed",top:"1rem",left:"50%",transform:"translateX(-50%)",background:X?"linear-gradient(135deg, #ef4444, #dc2626)":"linear-gradient(135deg, #f59e0b, #d97706)",color:"white",padding:"1rem 2rem",borderRadius:"0.75rem",zIndex:10001,boxShadow:"0 10px 40px rgba(239, 68, 68, 0.5)",display:"flex",alignItems:"center",gap:"0.75rem"},children:[l.jsx(Qn,{size:24}),l.jsx("span",{style:{fontWeight:600},children:H})]}),l.jsxs("div",{style:{borderBottom:"1px solid #334155",background:"#1e293b",padding:"1rem 2rem",flexShrink:0,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("div",{style:{display:"flex",alignItems:"center",gap:"1.5rem"},children:l.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[l.jsxs("h2",{style:{color:"#f8fafc",fontSize:"1.25rem",marginBottom:"0.25rem",display:"flex",alignItems:"center",gap:"1rem"},children:[t.title,l.jsxs("span",{style:{fontSize:"0.75rem",padding:"0.25rem 0.75rem",borderRadius:"2rem",background:"rgba(239, 68, 68, 0.2)",color:"#ef4444",border:"1px solid rgba(239, 68, 68, 0.3)",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"#ef4444",animation:"pulse 2s infinite"}})," PROCTORED MODE"]})]}),l.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[l.jsx("span",{style:{fontSize:"0.7rem",padding:"2px 8px",borderRadius:"4px",background:"rgba(59, 130, 246, 0.2)",color:"#60a5fa"},children:t.type||"Coding"}),l.jsx("span",{className:`difficulty-badge ${t.difficulty?.toLowerCase()}`,children:t.difficulty?.toUpperCase()}),ee>0&&l.jsxs("span",{style:{fontSize:"0.7rem",padding:"2px 8px",borderRadius:"4px",background:"rgba(239, 68, 68, 0.2)",color:"#ef4444",fontWeight:600},children:[" ",ee," violations"]}),Z>0&&l.jsxs("span",{style:{fontSize:"0.7rem",padding:"2px 8px",borderRadius:"4px",background:"rgba(239, 68, 68, 0.2)",color:"#ef4444",fontWeight:600},children:[" ",Z," copy attempts"]}),at>0&&l.jsxs("span",{style:{fontSize:"0.7rem",padding:"2px 8px",borderRadius:"4px",background:"rgba(239, 68, 68, 0.2)",color:"#ef4444",fontWeight:600},children:[" ",at," cam blocks"]}),It>0&&l.jsxs("span",{style:{fontSize:"0.7rem",padding:"2px 8px",borderRadius:"4px",background:"rgba(239, 68, 68, 0.2)",color:"#ef4444",fontWeight:600},children:[" ",It," phone detected"]}),fn>0&&l.jsxs("span",{style:{fontSize:"0.7rem",padding:"2px 8px",borderRadius:"4px",background:"rgba(239, 68, 68, 0.2)",color:"#ef4444",fontWeight:600},children:[" ",fn," face missing"]}),rn>0&&l.jsxs("span",{style:{fontSize:"0.7rem",padding:"2px 8px",borderRadius:"4px",background:"rgba(239, 68, 68, 0.2)",color:"#ef4444",fontWeight:600},children:[" ",rn," multi-face"]}),zt>0&&l.jsxs("span",{style:{fontSize:"0.7rem",padding:"2px 8px",borderRadius:"4px",background:"rgba(239, 68, 68, 0.2)",color:"#ef4444",fontWeight:600},children:[" ",zt," lookaway"]})]})]})}),Lt.videoAudio&&l.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginRight:"1rem"},children:[l.jsx("div",{style:{padding:"0.4rem",borderRadius:"6px",background:ye?"rgba(239, 68, 68, 0.2)":he?"rgba(16, 185, 129, 0.2)":"rgba(239, 68, 68, 0.2)",border:`1px solid ${ye?"#ef4444":he?"#10b981":"#ef4444"}`},children:ye?l.jsx(qk,{size:16,color:"#ef4444"}):he?l.jsx(Zv,{size:16,color:"#10b981"}):l.jsx(qk,{size:16,color:"#ef4444"})}),l.jsx("div",{style:{padding:"0.4rem",borderRadius:"6px",background:Be?"rgba(16, 185, 129, 0.2)":"rgba(239, 68, 68, 0.2)",border:`1px solid ${Be?"#10b981":"#ef4444"}`},children:Be?l.jsx(IE,{size:16,color:"#10b981"}):l.jsx(MJ,{size:16,color:"#ef4444"})})]}),l.jsx("button",{onClick:pr,style:{background:"#334155",border:"none",color:"white",padding:"0.5rem 1rem",borderRadius:"0.5rem",cursor:"pointer"},children:"Exit Session"})]}),l.jsxs("div",{style:{padding:0,display:"flex",flexDirection:"row",flex:1,minHeight:0,overflow:"hidden",background:"#0f172a"},children:[l.jsxs("div",{style:{width:"400px",borderRight:"1px solid #334155",padding:"2rem",overflowY:"auto",background:"#0f172a",display:"flex",flexDirection:"column"},children:[l.jsx("h3",{style:{marginTop:0,marginBottom:"1.5rem",color:"#f8fafc"},children:"Problem Description"}),l.jsxs("div",{style:{color:"#cbd5e1",fontSize:"0.95rem",lineHeight:"1.7"},children:[t.description,t.type==="SQL"||t.language==="SQL"?l.jsxs("div",{style:{background:"#1e293b",padding:"1.5rem",borderRadius:"0.5rem",border:"1px solid #334155",marginTop:"1.5rem"},children:[t.sqlSchema&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{marginBottom:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx("span",{style:{color:"#06b6d4"},children:""}),l.jsx("strong",{style:{color:"#e2e8f0"},children:"Database Schema:"})]}),l.jsx("pre",{style:{color:"#93c5fd",background:"#0f172a",padding:"1rem",borderRadius:"6px",marginBottom:"1rem",fontSize:"0.8rem",overflowX:"auto",whiteSpace:"pre-wrap",border:"1px solid #334155"},children:t.sqlSchema})]}),t.expectedQueryResult&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{marginBottom:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx("span",{style:{color:"#10b981"},children:""}),l.jsx("strong",{style:{color:"#e2e8f0"},children:"Expected Query Result:"})]}),l.jsx("pre",{style:{color:"#4ade80",background:"#0f172a",padding:"1rem",borderRadius:"6px",fontSize:"0.8rem",overflowX:"auto",whiteSpace:"pre-wrap",border:"1px solid #334155"},children:t.expectedQueryResult})]}),!t.sqlSchema&&!t.expectedQueryResult&&l.jsx("p",{style:{color:"#94a3b8",fontStyle:"italic",margin:0},children:"Write a SQL query to solve this problem. Your query will be executed against the database."})]}):l.jsxs("div",{style:{background:"#1e293b",padding:"1.5rem",borderRadius:"0.5rem",border:"1px solid #334155",marginTop:"1.5rem"},children:[l.jsx("div",{style:{marginBottom:"0.5rem"},children:l.jsx("strong",{style:{color:"#e2e8f0"},children:"Sample Input:"})}),l.jsx("code",{style:{color:"#93c5fd",background:"#0f172a",padding:"0.4rem 0.8rem",borderRadius:"4px",display:"block",marginBottom:"1rem"},children:t.sampleInput||"N/A"}),l.jsx("div",{style:{marginBottom:"0.5rem"},children:l.jsx("strong",{style:{color:"#e2e8f0"},children:"Expected Output:"})}),l.jsx("code",{style:{color:"#4ade80",background:"#0f172a",padding:"0.4rem 0.8rem",borderRadius:"4px",display:"block"},children:t.expectedOutput||"N/A"})]})]}),l.jsxs("div",{style:{marginTop:"2rem",background:"linear-gradient(135deg, rgba(251, 191, 36, 0.1), rgba(245, 158, 11, 0.05))",border:"1px solid rgba(251, 191, 36, 0.3)",borderRadius:"0.75rem",padding:"1.25rem"},children:[l.jsxs("h4",{style:{margin:"0 0 0.75rem",color:"#fbbf24",fontSize:"0.9rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(xh,{size:16})," Need Help?"]}),l.jsx("p",{style:{color:"#94a3b8",fontSize:"0.8rem",margin:"0 0 1rem",lineHeight:1.6},children:"Stuck on this problem? Get AI-powered hints to guide you without revealing the full solution."}),l.jsxs("button",{onClick:Jn,disabled:x,style:{background:"linear-gradient(135deg, #fbbf24, #f59e0b)",border:"none",color:"#1e293b",padding:"0.6rem 1.2rem",borderRadius:"6px",cursor:x?"not-allowed":"pointer",fontWeight:600,fontSize:"0.85rem",display:"flex",alignItems:"center",gap:"0.5rem",width:"100%",justifyContent:"center"},children:[l.jsx(xh,{size:16})," ",x?"Getting Hints...":"Get AI Hints"]}),g&&l.jsxs("div",{style:{marginTop:"0.75rem",padding:"0.75rem",background:"rgba(34, 197, 94, 0.1)",borderRadius:"8px",border:"1px solid rgba(34, 197, 94, 0.2)",fontSize:"0.85rem",color:"#4ade80"},children:[" ",g]})]}),l.jsxs("div",{style:{marginTop:"2rem",background:"rgba(239, 68, 68, 0.05)",border:"1px solid rgba(239, 68, 68, 0.2)",borderRadius:"0.75rem",padding:"1.25rem"},children:[l.jsxs("h4",{style:{margin:"0 0 0.75rem",color:"#ef4444",fontSize:"0.9rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(Qn,{size:16})," Proctoring Rules"]}),l.jsxs("ul",{style:{margin:0,paddingLeft:"1.25rem",color:"#94a3b8",fontSize:"0.8rem",lineHeight:1.8},children:[l.jsx("li",{children:"Do not switch tabs or windows"}),l.jsx("li",{children:"Do not exit fullscreen mode"}),l.jsx("li",{children:"All violations are recorded"}),l.jsx("li",{children:"3+ violations may result in disqualification"})]})]}),Lt.videoAudio&&l.jsxs("div",{style:{marginTop:"2rem",padding:"0.75rem",background:"rgba(0,0,0,0.3)",borderRadius:"0.75rem",border:"1px solid #334155",position:"relative"},children:[l.jsx("video",{ref:sn,autoPlay:!0,muted:!0,playsInline:!0,style:{width:"100%",height:"150px",objectFit:"cover",borderRadius:"8px",background:"#000",border:ye?"3px solid #ef4444":"2px solid #10b981",opacity:ye?.5:1}}),ye&&l.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"rgba(239, 68, 68, 0.9)",padding:"0.5rem 1rem",borderRadius:"8px",color:"white",fontWeight:600,fontSize:"0.75rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(qk,{size:14})," CAMERA BLOCKED"]}),l.jsxs("p",{style:{margin:"0.5rem 0 0",fontSize:"0.7rem",color:ye?"#ef4444":"#10b981",textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[!ye&&l.jsx("span",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"#10b981",animation:"pulse 1s infinite"}}),ye?" Uncover your camera!":At?" AI Monitoring Active":" Loading AI..."]})]})]}),l.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",background:"#1e293b",minHeight:0},children:[l.jsxs("div",{style:{padding:"0.75rem 1rem",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid #334155",background:"#1e293b"},children:[l.jsxs("div",{style:{display:"flex",gap:"0.75rem",alignItems:"center"},children:[l.jsx("label",{style:{color:"#94a3b8",fontSize:"0.85rem"},children:"Language:"}),l.jsx("select",{value:s,onChange:ft=>{const Cn=ft.target.value;i(Cn),o(MC[Cn]?.defaultCode||"")},disabled:t.type==="SQL"||t.language==="SQL",style:{background:"#0f172a",color:"#f8fafc",border:"1px solid #334155",borderRadius:"6px",padding:"0.4rem 0.75rem",fontSize:"0.85rem",cursor:t.type==="SQL"||t.language==="SQL"?"not-allowed":"pointer",opacity:t.type==="SQL"||t.language==="SQL"?.7:1},children:Object.keys(MC).map(ft=>l.jsx("option",{value:ft,children:ft},ft))})]}),l.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[l.jsxs("button",{onClick:ms,disabled:d||c,style:{background:"linear-gradient(135deg, #3b82f6, #2563eb)",border:"none",color:"white",padding:"0.5rem 1.25rem",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:600,fontSize:"0.85rem"},children:[l.jsx(ef,{size:16})," ",d?"Running...":"Run Code"]}),l.jsxs("button",{onClick:Ci,disabled:d||c,style:{background:"linear-gradient(135deg, #10b981, #059669)",border:"none",color:"white",padding:"0.5rem 1.25rem",borderRadius:"6px",cursor:c?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:600,fontSize:"0.85rem"},children:[l.jsx(_c,{size:16})," ",c?"Submitting...":"Submit"]})]})]}),l.jsx("div",{style:{flex:1,position:"relative",minHeight:0},children:l.jsx(hw,{height:"100%",language:MC[s]?.monacoLang||"python",theme:"vs-dark",value:a,onChange:ft=>o(ft||""),options:{minimap:{enabled:!1},fontSize:14,scrollBeyondLastLine:!1,automaticLayout:!0,padding:{top:20}}})}),l.jsxs("div",{style:{flex:"0 0 280px",background:"#020617",borderTop:"1px solid #334155",display:"flex",flexDirection:"column",minHeight:0},children:[l.jsx("div",{style:{display:"flex",borderBottom:"1px solid #334155",background:"#0f172a"},children:["input","output","tests"].map(ft=>l.jsxs("button",{onClick:()=>O(ft),style:{padding:"0.75rem 1.25rem",background:N===ft?"#1e293b":"transparent",border:"none",borderBottom:N===ft?`2px solid ${ft==="input"?"#f59e0b":ft==="output"?"#3b82f6":"#06b6d4"}`:"2px solid transparent",color:N===ft?ft==="input"?"#fbbf24":ft==="output"?"#60a5fa":"#06b6d4":"#64748b",cursor:"pointer",fontSize:"0.85rem",fontWeight:500,display:"flex",alignItems:"center",gap:"0.5rem"},children:[ft==="input"&&l.jsx(l.Fragment,{children:" Custom Input"}),ft==="output"&&l.jsxs(l.Fragment,{children:[" Output ",h&&l.jsx("span",{style:{width:6,height:6,borderRadius:"50%",background:h.includes("Error")?"#ef4444":"#10b981"}})]}),ft==="tests"&&l.jsx(l.Fragment,{children:" Test Cases"})]},ft))}),N==="input"&&l.jsxs("div",{style:{padding:"0.75rem",flex:1},children:[l.jsx("textarea",{value:k,onChange:ft=>E(ft.target.value),placeholder:`Enter your input here (stdin)...
Example:
5
1 2 3 4 5`,style:{width:"100%",height:"calc(100% - 30px)",background:"#0f172a",color:"#e2e8f0",border:"1px solid #334155",borderRadius:"8px",padding:"0.75rem",fontFamily:"monospace",fontSize:"0.85rem",resize:"none",outline:"none"}}),l.jsx("div",{style:{marginTop:"0.5rem",fontSize:"0.7rem",color:"#64748b"},children:' This input will be passed as stdin when you click "Run Code"'})]}),N==="output"&&l.jsx("div",{style:{padding:"0.75rem",flex:1,overflowY:"auto"},children:l.jsx("div",{style:{fontFamily:"monospace",color:h.includes("Error")?"#ef4444":"#e2e8f0",fontSize:"0.9rem",whiteSpace:"pre-wrap"},children:h||" Run your code to see output here"})}),N==="tests"&&l.jsx("div",{style:{padding:"0.75rem",flex:1,overflowY:"auto",display:"flex",flexDirection:"column"},children:T.length===0?l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:ns,disabled:P||d,style:{background:"linear-gradient(135deg, #06b6d4, #0891b2)",border:"none",color:"white",padding:"0.6rem 1.2rem",borderRadius:"6px",marginBottom:"1rem",cursor:P?"not-allowed":"pointer",fontWeight:600,fontSize:"0.9rem"},children:P?" Running All Tests...":" Run All Tests"}),l.jsx("div",{style:{color:"#cbd5e1",fontSize:"0.85rem"},children:t.type==="SQL"||t.language==="SQL"?l.jsxs("div",{children:[l.jsxs("div",{style:{marginBottom:"1rem"},children:[l.jsx("strong",{style:{color:"#06b6d4"},children:" Database Schema:"}),l.jsx("pre",{style:{color:"#93c5fd",background:"#0f172a",padding:"0.75rem",borderRadius:"6px",marginTop:"0.5rem",fontSize:"0.75rem",overflowX:"auto",whiteSpace:"pre-wrap",border:"1px solid #334155"},children:t.sqlSchema||"Schema not provided"})]}),l.jsxs("div",{children:[l.jsx("strong",{style:{color:"#10b981"},children:" Expected Result:"}),l.jsx("pre",{style:{color:"#4ade80",background:"#0f172a",padding:"0.75rem",borderRadius:"6px",marginTop:"0.5rem",fontSize:"0.75rem",overflowX:"auto",whiteSpace:"pre-wrap",border:"1px solid #334155"},children:t.expectedQueryResult||"Expected result not provided"})]})]}):l.jsxs("div",{children:[l.jsxs("div",{style:{marginBottom:"1rem"},children:[l.jsx("strong",{style:{color:"#f59e0b"},children:" Sample Input:"}),l.jsx("pre",{style:{color:"#93c5fd",background:"#0f172a",padding:"0.75rem",borderRadius:"6px",marginTop:"0.5rem",fontSize:"0.75rem",overflowX:"auto",whiteSpace:"pre-wrap",border:"1px solid #334155"},children:t.sampleInput||"N/A"})]}),l.jsxs("div",{children:[l.jsx("strong",{style:{color:"#10b981"},children:" Expected Output:"}),l.jsx("pre",{style:{color:"#4ade80",background:"#0f172a",padding:"0.75rem",borderRadius:"6px",marginTop:"0.5rem",fontSize:"0.75rem",overflowX:"auto",whiteSpace:"pre-wrap",border:"1px solid #334155"},children:t.expectedOutput||"N/A"})]})]})})]}):l.jsxs("div",{style:{color:"#cbd5e1",fontSize:"0.85rem"},children:[l.jsx("button",{onClick:ns,disabled:P||d,style:{background:"linear-gradient(135deg, #06b6d4, #0891b2)",border:"none",color:"white",padding:"0.5rem 1rem",borderRadius:"6px",marginBottom:"1rem",cursor:P?"not-allowed":"pointer",fontWeight:600,fontSize:"0.85rem"},children:P?" Running...":" Run Tests Again"}),l.jsxs("div",{style:{marginBottom:"1rem",padding:"0.75rem",background:"#1e293b",borderRadius:"6px"},children:[l.jsx("strong",{style:{color:"#06b6d4"},children:"Test Results: "}),l.jsxs("span",{style:{color:T.every(ft=>ft.passed)?"#10b981":"#ef4444"},children:[T.filter(ft=>ft.passed).length,"/",T.length," passed"]})]}),T.map((ft,Cn)=>l.jsxs("div",{style:{marginBottom:"1rem",padding:"0.75rem",background:ft.passed?"rgba(16, 185, 129, 0.1)":"rgba(239, 68, 68, 0.1)",border:`1px solid ${ft.passed?"#10b981":"#ef4444"}`,borderRadius:"6px"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[l.jsx("span",{style:{fontSize:"1.2rem"},children:ft.passed?"":""}),l.jsxs("strong",{style:{color:ft.passed?"#10b981":"#ef4444"},children:["Test ",ft.testNumber]})]}),l.jsxs("div",{style:{fontSize:"0.75rem",marginBottom:"0.5rem"},children:[l.jsx("strong",{style:{color:"#94a3b8"},children:"Input:"}),l.jsx("code",{style:{color:"#cbd5e1",display:"block",background:"#0f172a",padding:"0.5rem",borderRadius:"4px",marginTop:"0.25rem",whiteSpace:"pre-wrap"},children:ft.input})]}),l.jsxs("div",{style:{fontSize:"0.75rem",marginBottom:"0.5rem"},children:[l.jsx("strong",{style:{color:"#10b981"},children:"Expected:"}),l.jsx("code",{style:{color:"#4ade80",display:"block",background:"#0f172a",padding:"0.5rem",borderRadius:"4px",marginTop:"0.25rem",whiteSpace:"pre-wrap"},children:ft.expected})]}),l.jsxs("div",{style:{fontSize:"0.75rem"},children:[l.jsx("strong",{style:{color:ft.passed?"#10b981":"#ef4444"},children:"Actual:"}),l.jsx("code",{style:{color:ft.passed?"#4ade80":"#ef4444",display:"block",background:"#0f172a",padding:"0.5rem",borderRadius:"4px",marginTop:"0.25rem",whiteSpace:"pre-wrap"},children:ft.error?`ERROR: ${ft.error}`:ft.actual})]})]},Cn))]})})]})]})]}),l.jsx("style",{children:`
                @keyframes pulse {
                    0% { opacity: 1; transform: scale(1); }
                    50% { opacity: 0.5; transform: scale(1.2); }
                    100% { opacity: 1; transform: scale(1); }
                }
            `})]})}const l_="http://localhost:8000";function iVe({attemptId:t,attemptData:e,onComplete:n,onFailed:r}){const[s,i]=C.useState([]),[a,o]=C.useState({}),[c,u]=C.useState(0),[d,f]=C.useState(0),[h,m]=C.useState(null),[g,y]=C.useState(!0),[x,v]=C.useState(!1),[w,B]=C.useState(null),[k,E]=C.useState(""),[N,O]=C.useState(0),[F,D]=C.useState(!1),T=C.useRef(null);C.useEffect(()=>(P(),()=>{T.current&&clearInterval(T.current)}),[]),C.useEffect(()=>{const ne=()=>{document.hidden&&O(K=>{const H=K+1;return j("tab_switch",`Tab switch detected (count: ${H})`,H>3?"high":"medium"),H})};return document.addEventListener("visibilitychange",ne),()=>document.removeEventListener("visibilitychange",ne)},[]);const j=async(ne,K,H="low")=>{try{await rt.post(`${l_}/api/skill-tests/proctoring/log`,{attemptId:t,testStage:"mcq",eventType:ne,details:K,severity:H})}catch{}},P=async()=>{try{const{data:ne}=await rt.post(`${l_}/api/skill-tests/mcq/start/${t}`);i(ne.questions||[]),o(ne.existing_answers||{});let K;ne.end_time&&(K=new Date(ne.end_time)),(!K||isNaN(K.getTime()))&&(K=new Date(Date.now()+1800*1e3)),m(K),T.current=setInterval(()=>{const Q=Math.max(0,Math.floor((K-new Date)/1e3));f(Q),Q<=0&&(clearInterval(T.current),ee(!0))},1e3),y(!1)}catch(ne){E(ne.response?.data?.error||ne.message),y(!1)}},U=(ne,K)=>{o(H=>({...H,[String(ne)]:K}))},z=()=>{if(s.length-Object.keys(a).length>0){D(!0);return}ee(!1)},ee=async(ne=!1)=>{if(!x){D(!1),v(!0),T.current&&clearInterval(T.current);try{const{data:K}=await rt.post(`${l_}/api/skill-tests/mcq/submit`,{attemptId:t,answers:a});B(K),K.passed?setTimeout(()=>n(K),2e3):setTimeout(()=>r(),3e3)}catch(K){E(K.response?.data?.error||K.message),v(!1)}}},q=ne=>{const K=Math.floor(ne/60),H=ne%60;return`${K.toString().padStart(2,"0")}:${H.toString().padStart(2,"0")}`};if(g)return l.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#94a3b8"},children:"Loading MCQ questions..."});if(w)return l.jsxs("div",{style:{textAlign:"center",padding:"60px"},children:[l.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",margin:"0 auto 20px",display:"flex",alignItems:"center",justifyContent:"center",background:w.passed?"rgba(34,197,94,0.15)":"rgba(239,68,68,0.15)"},children:w.passed?l.jsx($n,{size:40,color:"#22c55e"}):l.jsx(Jr,{size:40,color:"#ef4444"})}),l.jsx("h2",{style:{fontSize:"24px",fontWeight:700,margin:"0 0 8px",color:"#f1f5f9"},children:w.passed?"MCQ Passed!":"MCQ Failed"}),l.jsxs("p",{style:{fontSize:"18px",color:"#94a3b8"},children:["Score: ",w.correct,"/",w.total," (",Math.round(w.score),"%)"]}),l.jsx("p",{style:{fontSize:"14px",color:w.passed?"#22c55e":"#ef4444",marginTop:"12px"},children:w.passed?"Proceeding to Coding section...":"Assessment ended. Generating report..."})]});const Z=s[c],G=Object.keys(a).length;return l.jsxs("div",{style:{paddingBottom:"80px"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 20px",background:"#1e293b",borderRadius:"10px",marginBottom:"20px",border:"1px solid #334155"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx("span",{style:{fontWeight:700,fontSize:"15px",color:"#f1f5f9"},children:"MCQ Test"}),l.jsxs("span",{style:{fontSize:"13px",color:"#94a3b8"},children:[G,"/",s.length," answered"]})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 14px",background:d<60?"rgba(239,68,68,0.15)":d<300?"rgba(245,158,11,0.15)":"rgba(16,185,129,0.15)",borderRadius:"20px",fontWeight:700,fontSize:"16px",color:d<60?"#f87171":d<300?"#fbbf24":"#34d399"},children:[l.jsx(vs,{size:16})," ",q(d)]}),l.jsxs("button",{onClick:z,disabled:x,style:{padding:"8px 20px",background:"#8b5cf6",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:600,fontSize:"13px",display:"flex",alignItems:"center",gap:"6px",opacity:x?.6:1},children:[l.jsx(_c,{size:14})," Submit All"]})]}),N>0&&l.jsxs("div",{style:{background:"rgba(245,158,11,0.1)",border:"1px solid rgba(245,158,11,0.3)",borderRadius:"8px",padding:"8px 16px",marginBottom:"16px",fontSize:"12px",color:"#fbbf24",display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx(Ui,{size:14})," Warning: ",N," tab switch(es) detected. This is being monitored."]}),k&&l.jsx("div",{style:{background:"rgba(239,68,68,0.1)",border:"1px solid rgba(239,68,68,0.3)",borderRadius:"8px",padding:"12px",marginBottom:"16px",color:"#fca5a5",fontSize:"13px"},children:k}),l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px",marginBottom:"20px"},children:s.map((ne,K)=>{const H=a[String(ne.id)]!==void 0,Q=K===c;return l.jsx("button",{onClick:()=>u(K),style:{width:"34px",height:"34px",borderRadius:"8px",border:"none",cursor:"pointer",fontWeight:600,fontSize:"12px",background:Q?"#8b5cf6":H?"#22c55e":"#334155",color:Q||H?"white":"#94a3b8"},children:K+1},K)})}),Z&&l.jsxs("div",{style:{background:"#1e293b",border:"1px solid #334155",borderRadius:"12px",padding:"24px"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"16px"},children:[l.jsxs("span",{style:{fontSize:"13px",color:"#8b5cf6",fontWeight:600},children:["Question ",c+1," of ",s.length]}),Z.difficulty&&l.jsx("span",{style:{padding:"2px 8px",borderRadius:"12px",fontSize:"11px",fontWeight:600,background:Z.difficulty==="hard"?"#fee2e2":Z.difficulty==="medium"?"#fef3c7":"#dcfce7",color:Z.difficulty==="hard"?"#dc2626":Z.difficulty==="medium"?"#d97706":"#16a34a"},children:Z.difficulty})]}),l.jsx("p",{style:{fontSize:"16px",fontWeight:600,marginBottom:"20px",lineHeight:1.5,color:"#f1f5f9"},children:Z.question}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:(Z.options||[]).map((ne,K)=>{const H=String.fromCharCode(65+K),Q=a[String(Z.id)]===H;return l.jsxs("button",{onClick:()=>U(Z.id,H),style:{display:"flex",alignItems:"center",gap:"12px",padding:"14px 16px",borderRadius:"10px",cursor:"pointer",background:Q?"rgba(139,92,246,0.15)":"#0f172a",border:Q?"2px solid #8b5cf6":"1px solid #475569",textAlign:"left",fontSize:"14px",transition:"all 0.15s",color:"#e2e8f0"},children:[l.jsx("span",{style:{width:"28px",height:"28px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"13px",fontWeight:700,background:Q?"#8b5cf6":"#1e293b",color:Q?"white":"#94a3b8",flexShrink:0},children:H}),l.jsx("span",{children:ne})]},K)})}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"24px"},children:[l.jsxs("button",{onClick:()=>u(Math.max(0,c-1)),disabled:c===0,style:{padding:"8px 16px",background:"#334155",border:"1px solid #475569",borderRadius:"8px",cursor:"pointer",fontSize:"13px",color:"#94a3b8",display:"flex",alignItems:"center",gap:"6px",opacity:c===0?.4:1},children:[l.jsx(h2,{size:14})," Previous"]}),l.jsxs("button",{onClick:()=>u(Math.min(s.length-1,c+1)),disabled:c===s.length-1,style:{padding:"8px 16px",background:"#8b5cf6",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"13px",display:"flex",alignItems:"center",gap:"6px",opacity:c===s.length-1?.4:1},children:["Next ",l.jsx(Ug,{size:14})]})]})]}),F&&l.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.7)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsxs("div",{style:{background:"#1e293b",borderRadius:"16px",padding:"28px",maxWidth:"400px",width:"90%",border:"1px solid #334155",textAlign:"center"},children:[l.jsx(Qn,{size:36,color:"#fbbf24",style:{marginBottom:"12px"}}),l.jsx("h3",{style:{margin:"0 0 8px",color:"#f1f5f9",fontSize:"18px"},children:"Unanswered Questions"}),l.jsxs("p",{style:{color:"#94a3b8",fontSize:"14px",margin:"0 0 20px"},children:["You have ",s.length-Object.keys(a).length," unanswered question(s). Submit anyway?"]}),l.jsxs("div",{style:{display:"flex",gap:"10px"},children:[l.jsx("button",{onClick:()=>D(!1),style:{flex:1,padding:"10px",background:"#334155",color:"#94a3b8",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:600},children:"Cancel"}),l.jsx("button",{onClick:()=>ee(!1),style:{flex:1,padding:"10px",background:"#8b5cf6",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:600},children:"Submit Anyway"})]})]})})]})}const dv="http://localhost:8000",IH=[{value:"python",label:"Python",monacoId:"python"},{value:"javascript",label:"JavaScript",monacoId:"javascript"},{value:"java",label:"Java",monacoId:"java"},{value:"c",label:"C",monacoId:"c"},{value:"cpp",label:"C++",monacoId:"cpp"}];function aVe({attemptId:t,attemptData:e,onComplete:n,onFailed:r}){const[s,i]=C.useState([]),[a,o]=C.useState(0),[c,u]=C.useState({}),[d,f]=C.useState({}),[h,m]=C.useState(""),[g,y]=C.useState(""),[x,v]=C.useState(!1),[w,B]=C.useState(null),[k,E]=C.useState(!1),[N,O]=C.useState(!1),[F,D]=C.useState(!1),[T,j]=C.useState(!1),[P,U]=C.useState({}),[z,ee]=C.useState(null),[q,Z]=C.useState(!0),[G,ne]=C.useState(""),[K,H]=C.useState(null),Q=C.useRef(null);C.useEffect(()=>{if(K!==null){if(K<=0){X();return}return Q.current=setInterval(()=>{H(ie=>ie<=1?(clearInterval(Q.current),X(),0):ie-1)},1e3),()=>clearInterval(Q.current)}},[K]);const X=()=>{alert("Time is up! Submitting your test automatically."),me()},re=ie=>{const Le=Math.floor(ie/60),tt=ie%60;return`${Le}:${tt<10?"0":""}${tt}`};C.useEffect(()=>{le()},[]);const le=async()=>{try{const{data:ie}=await rt.post(`${dv}/api/skill-tests/coding/start/${t}`);i(ie.problems||[]),U(ie.existing_submissions||{});const Le={},tt={};(ie.problems||[]).forEach(It=>{const _e="python";let At="";It.starter_code&&typeof It.starter_code=="object"?At=It.starter_code[_e]||he(It,_e):typeof It.starter_code=="string"?At=It.starter_code:At=he(It,_e),Le[It.id]=At,tt[It.id]=_e}),u(Le),f(tt),ie.duration_minutes&&H(ie.duration_minutes*60),Z(!1)}catch(ie){ne(ie.response?.data?.error||ie.message),Z(!1)}},he=(ie,Le)=>{const tt=ie.title||"Solution";return Le==="python"?`import sys

# ${tt}
def solution():
    # Write your code here
    pass

# !!! DO NOT EDIT BELOW THIS LINE !!!
if __name__ == '__main__':
    # Default driver code (fallback)
    lines = sys.stdin.read().split('\\n')
    # ... print(solution(...))
`:Le==="javascript"?`const fs = require('fs');

// ${tt}
function solution() {
    // Write your code here
}

// !!! DO NOT EDIT BELOW THIS LINE !!!
try {
    const input = fs.readFileSync(0, 'utf-8');
    // ... console.log(solution(...))
} catch (e) {}
`:Le==="java"?`import java.util.*;

public class Main {
    public static void solution() {
        // Write your code here
    }

    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);
        // ...
    }
}
`:Le==="c"?`#include <stdio.h>
#include <stdlib.h>

void solution() {
    // Write your code here
}

int main() {
    // Driver code
    return 0;
}
`:Le==="cpp"?`#include <iostream>
#include <vector>
#include <string>
using namespace std;

void solution() {
    // Write your code here
}

int main() {
    // Driver code
    return 0;
}
`:`// ${tt}
`},xe=async()=>{const ie=s[a];if(ie){E(!0),m(""),B(null);try{const{data:Le}=await rt.post(`${dv}/api/skill-tests/coding/run`,{code:c[ie.id]||"",language:d[ie.id]||"python",input_data:g||" "});m(Le.success?Le.output||"No output":`Error:
${Le.error||Le.output||"Unknown error"}`)}catch(Le){m("Error: "+(Le.response?.data?.error||Le.message))}finally{E(!1)}}},Be=async()=>{const ie=s[a];if(ie){O(!0),B(null);try{const{data:Le}=await rt.post(`${dv}/api/skill-tests/coding/submit`,{attemptId:t,problemId:ie.id,code:c[ie.id]||"",language:d[ie.id]||"python"});B(Le.test_results||[]),Le.all_passed&&U(tt=>({...tt,[String(ie.id)]:!0}))}catch(Le){ne(Le.response?.data?.error||Le.message)}finally{O(!1)}}},me=async()=>{j(!1),D(!0);try{const{data:ie}=await rt.post(`${dv}/api/skill-tests/coding/finish/${t}`);ee(ie),ie.passed?setTimeout(()=>n(ie),2e3):setTimeout(()=>r(),3e3)}catch(ie){ne(ie.response?.data?.error||ie.message),D(!1)}},[ve,Ee]=C.useState(!1),ye=async()=>{Ee(!0),ne("");try{await rt.post(`${dv}/api/skill-tests/coding/regenerate/${t}`),await le()}catch(ie){ne(ie.response?.data?.error||"Failed to regenerate. Please try again."),Ee(!1)}};if(q)return l.jsxs("div",{style:{textAlign:"center",padding:"40px",color:"#94a3b8"},children:[l.jsx(lh,{size:24,style:{animation:"spin 1s linear infinite",marginBottom:"8px"}})," Loading coding problems..."]});if(!q&&s.length===0&&!z)return l.jsxs("div",{style:{textAlign:"center",padding:"60px"},children:[l.jsx(Cg,{size:48,color:"#64748b",style:{marginBottom:"16px"}}),l.jsx("h3",{style:{color:"#f1f5f9",margin:"0 0 8px"},children:"No Coding Problems Available"}),l.jsx("p",{style:{color:"#94a3b8",fontSize:"14px",marginBottom:"20px"},children:"Problems couldn't be generated. Click below to regenerate them."}),G&&l.jsx("p",{style:{color:"#fca5a5",fontSize:"13px",marginBottom:"16px"},children:G}),l.jsx("button",{onClick:ye,disabled:ve,style:{padding:"10px 24px",background:ve?"#6d28d9":"#8b5cf6",color:"white",border:"none",borderRadius:"8px",cursor:ve?"not-allowed":"pointer",fontWeight:600,fontSize:"14px",display:"inline-flex",alignItems:"center",gap:"8px",opacity:ve?.7:1},children:ve?l.jsxs(l.Fragment,{children:[l.jsx(lh,{size:16,style:{animation:"spin 1s linear infinite"}})," Generating Problems..."]}):" Regenerate Problems"}),l.jsx("style",{children:"@keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }"})]});if(z)return l.jsxs("div",{style:{textAlign:"center",padding:"60px"},children:[l.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",margin:"0 auto 20px",display:"flex",alignItems:"center",justifyContent:"center",background:z.passed?"rgba(34,197,94,0.15)":"rgba(239,68,68,0.15)"},children:z.passed?l.jsx($n,{size:40,color:"#22c55e"}):l.jsx(Jr,{size:40,color:"#ef4444"})}),l.jsx("h2",{style:{fontSize:"24px",fontWeight:700,margin:"0 0 8px",color:"#f1f5f9"},children:z.passed?"Coding Passed!":"Coding Failed"}),l.jsxs("p",{style:{fontSize:"18px",color:"#94a3b8"},children:["Solved: ",z.solved,"/",z.total," (",Math.round(z.score),"%)"]}),l.jsx("p",{style:{fontSize:"14px",color:z.passed?"#22c55e":"#ef4444",marginTop:"12px"},children:z.passed?"Proceeding to SQL section...":"Assessment ended. Generating report..."})]});const Ue=s[a],at=Object.keys(P).length;return l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 20px",background:"#1e293b",borderRadius:"10px",marginBottom:"16px",border:"1px solid #334155"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx(Cg,{size:20,color:"#8b5cf6"}),l.jsx("span",{style:{fontWeight:700,fontSize:"15px",color:"#f1f5f9"},children:"Coding Test"}),l.jsxs("span",{style:{fontSize:"13px",color:"#94a3b8"},children:[at,"/",s.length," solved"]}),K!==null&&l.jsxs("span",{style:{padding:"4px 10px",borderRadius:"12px",fontSize:"13px",fontWeight:600,background:K<300?"rgba(239,68,68,0.2)":"rgba(59,130,246,0.15)",color:K<300?"#fca5a5":"#60a5fa",border:"1px solid "+(K<300?"rgba(239,68,68,0.4)":"rgba(59,130,246,0.3)")},children:["Time Left: ",re(K)]})]}),l.jsx("button",{onClick:()=>j(!0),disabled:F,style:{padding:"8px 20px",background:"#8b5cf6",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:600,fontSize:"13px",opacity:F?.6:1},children:F?"Submitting...":"Finish Coding "})]}),G&&l.jsx("div",{style:{background:"rgba(239,68,68,0.1)",border:"1px solid rgba(239,68,68,0.3)",borderRadius:"8px",padding:"10px",marginBottom:"12px",color:"#fca5a5",fontSize:"13px"},children:G}),l.jsx("div",{style:{display:"flex",gap:"6px",marginBottom:"12px"},children:s.map((ie,Le)=>{const tt=P[String(ie.id)];return l.jsxs("button",{onClick:()=>{o(Le),m(""),B(null)},style:{padding:"6px 14px",borderRadius:"8px",border:"none",cursor:"pointer",fontWeight:600,fontSize:"12px",background:Le===a?"#8b5cf6":tt?"#22c55e":"#334155",color:Le===a||tt?"white":"#94a3b8"},children:["P",Le+1," ",tt?"":""]},Le)})}),Ue&&l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[l.jsxs("div",{style:{background:"#1e293b",border:"1px solid #334155",borderRadius:"10px",padding:"16px",overflowY:"auto",maxHeight:"600px"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"},children:[l.jsx("h3",{style:{margin:0,fontSize:"16px",fontWeight:700,color:"#f1f5f9"},children:Ue.title}),Ue.difficulty&&l.jsx("span",{style:{padding:"2px 8px",borderRadius:"12px",fontSize:"11px",fontWeight:600,background:Ue.difficulty==="hard"?"rgba(239,68,68,0.15)":Ue.difficulty==="medium"?"rgba(245,158,11,0.15)":"rgba(34,197,94,0.15)",color:Ue.difficulty==="hard"?"#f87171":Ue.difficulty==="medium"?"#fbbf24":"#34d399"},children:Ue.difficulty})]}),l.jsx("p",{style:{fontSize:"14px",lineHeight:1.6,color:"#cbd5e1"},children:Ue.description}),Ue.examples&&Ue.examples.length>0&&l.jsxs("div",{style:{marginTop:"16px",background:"#0f172a",padding:"12px",borderRadius:"8px",border:"1px solid #334155"},children:[l.jsx("h4",{style:{fontSize:"13px",fontWeight:700,marginBottom:"10px",color:"#10b981",display:"flex",alignItems:"center",gap:"6px"},children:" Sample Input/Output"}),Ue.examples.map((ie,Le)=>l.jsxs("div",{style:{background:"#1e293b",padding:"10px",borderRadius:"6px",marginBottom:"8px",fontSize:"12px",color:"#cbd5e1",fontFamily:"monospace"},children:[l.jsxs("div",{style:{marginBottom:"6px"},children:[l.jsx("strong",{style:{color:"#10b981"},children:"Input:"}),l.jsx("pre",{style:{margin:"4px 0 0",background:"#0f172a",padding:"6px",borderRadius:"4px",whiteSpace:"pre-wrap"},children:ie.input})]}),l.jsxs("div",{children:[l.jsx("strong",{style:{color:"#10b981"},children:"Expected Output:"}),l.jsx("pre",{style:{margin:"4px 0 0",background:"#0f172a",padding:"6px",borderRadius:"4px",whiteSpace:"pre-wrap"},children:ie.output})]}),ie.explanation&&l.jsx("div",{style:{color:"#94a3b8",marginTop:"6px",fontSize:"11px"},children:l.jsxs("em",{children:[" ",ie.explanation]})})]},Le))]}),Ue.constraints&&l.jsxs("div",{style:{marginTop:"16px"},children:[l.jsx("h4",{style:{fontSize:"13px",fontWeight:600,marginBottom:"6px",color:"#94a3b8"},children:"Constraints:"}),l.jsx("p",{style:{fontSize:"13px",color:"#64748b"},children:Ue.constraints})]}),w&&l.jsxs("div",{style:{marginTop:"16px",background:"#0f172a",border:"2px solid #334155",borderRadius:"8px",padding:"12px"},children:[l.jsx("h4",{style:{fontSize:"13px",fontWeight:700,marginBottom:"10px",color:"#10b981",display:"flex",alignItems:"center",gap:"6px"},children:" Test Results"}),l.jsx("div",{style:{display:"grid",gap:"8px"},children:w.map((ie,Le)=>l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px",background:ie.passed?"rgba(34,197,94,0.1)":"rgba(239,68,68,0.1)",border:`1px solid ${ie.passed?"#22c55e":"#ef4444"}`,borderRadius:"6px",fontSize:"12px",color:"#cbd5e1"},children:[ie.passed?l.jsx($n,{size:16,color:"#22c55e"}):l.jsx(Jr,{size:16,color:"#ef4444"}),l.jsxs("span",{style:{flex:1},children:[l.jsxs("strong",{children:["Test Case ",Le+1,":"]})," ",ie.passed?" Passed":" Failed"]})]},Le))})]})]}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[l.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",flexWrap:"wrap"},children:[l.jsx("select",{value:d[Ue.id]||"python",onChange:ie=>{const Le=ie.target.value;f(It=>({...It,[Ue.id]:Le})),c[Ue.id];let tt="";Ue.starter_code&&typeof Ue.starter_code=="object"&&Ue.starter_code[Le]?tt=Ue.starter_code[Le]:tt=he(Ue,Le),u(It=>({...It,[Ue.id]:tt}))},style:{padding:"8px 12px",borderRadius:"6px",border:"1px solid #475569",fontSize:"13px",background:"#0f172a",color:"#f1f5f9",fontWeight:600},children:IH.map(ie=>l.jsx("option",{value:ie.value,children:ie.label},ie.value))}),l.jsxs("button",{onClick:xe,disabled:k,style:{padding:"8px 16px",background:"#10b981",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:700,display:"flex",alignItems:"center",gap:"6px",opacity:k?.6:1,transition:"all 0.2s"},children:[k?l.jsx(lh,{size:16,className:"animate-spin"}):l.jsx(ef,{size:16}),l.jsx("strong",{children:" Check Your Code"})]}),l.jsxs("button",{onClick:Be,disabled:N,style:{padding:"8px 16px",background:"#8b5cf6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:700,display:"flex",alignItems:"center",gap:"6px",opacity:N?.6:1,transition:"all 0.2s"},children:[N?l.jsx(lh,{size:16}):l.jsx(_c,{size:16}),l.jsx("strong",{children:"Submit Solution"})]})]}),l.jsx("div",{style:{border:"1px solid #334155",borderRadius:"8px",overflow:"hidden",flex:1,minHeight:"400px"},children:l.jsx(hw,{height:"400px",language:IH.find(ie=>ie.value===(d[Ue.id]||"python"))?.monacoId||"python",value:c[Ue.id]||"",onChange:ie=>u(Le=>({...Le,[Ue.id]:ie||""})),theme:"vs-dark",options:{minimap:{enabled:!1},fontSize:14,scrollBeyondLastLine:!1,padding:{top:10}}})}),l.jsxs("div",{style:{background:"#1e293b",border:"1px solid #334155",borderRadius:"8px",overflow:"hidden"},children:[l.jsxs("button",{onClick:()=>v(!x),style:{width:"100%",padding:"8px 12px",background:"transparent",border:"none",color:"#94a3b8",fontSize:"12px",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",borderBottom:x?"1px solid #334155":"none"},children:[l.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[" Custom Input ",g?"(has input)":""]}),l.jsx("span",{children:x?"":""})]}),x&&l.jsx("textarea",{value:g,onChange:ie=>y(ie.target.value),placeholder:"Enter custom input here (stdin)...",style:{width:"100%",minHeight:"70px",padding:"8px 12px",background:"#0f172a",color:"#f1f5f9",border:"none",fontSize:"13px",fontFamily:"monospace",resize:"vertical",boxSizing:"border-box",outline:"none"}})]}),l.jsxs("div",{style:{background:"#0f172a",color:"#d4d4d4",padding:"12px",borderRadius:"8px",fontSize:"13px",fontFamily:"monospace",minHeight:"100px",maxHeight:"180px",overflowY:"auto",border:"2px solid #334155"},children:[l.jsxs("div",{style:{fontSize:"11px",color:"#64748b",fontWeight:600,marginBottom:"8px",display:"flex",alignItems:"center",gap:"6px"},children:[l.jsx("span",{style:{display:"inline-block",width:"8px",height:"8px",borderRadius:"50%",background:h?"#10b981":"#475569"}}),"OUTPUT TERMINAL"]}),l.jsx("pre",{style:{margin:0,whiteSpace:"pre-wrap",wordWrap:"break-word",color:h?"#10b981":"#64748b"},children:h||"(Run your code to see output here...)"})]})]})]}),T&&l.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.7)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsxs("div",{style:{background:"#1e293b",borderRadius:"16px",padding:"28px",maxWidth:"400px",width:"90%",border:"1px solid #334155",textAlign:"center"},children:[l.jsx(_c,{size:36,color:"#8b5cf6",style:{marginBottom:"12px"}}),l.jsx("h3",{style:{margin:"0 0 8px",color:"#f1f5f9",fontSize:"18px"},children:"Submit Coding?"}),l.jsx("p",{style:{color:"#94a3b8",fontSize:"14px",margin:"0 0 20px"},children:"Submit your coding solutions? This will move to the SQL section."}),l.jsxs("div",{style:{display:"flex",gap:"10px"},children:[l.jsx("button",{onClick:()=>j(!1),style:{flex:1,padding:"10px",background:"#334155",color:"#94a3b8",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:600},children:"Cancel"}),l.jsx("button",{onClick:me,style:{flex:1,padding:"10px",background:"#8b5cf6",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:600},children:"Submit"})]})]})})]})}const QC="http://localhost:8000";function oVe({attemptId:t,attemptData:e,onComplete:n,onFailed:r}){const[s,i]=C.useState([]),[a,o]=C.useState(0),[c,u]=C.useState({}),[d,f]=C.useState(null),[h,m]=C.useState(null),[g,y]=C.useState({}),[x,v]=C.useState(!1),[w,B]=C.useState(!1),[k,E]=C.useState(!1),[N,O]=C.useState(null),[F,D]=C.useState(!0),[T,j]=C.useState(null),[P,U]=C.useState(""),[z,ee]=C.useState(!1),[q,Z]=C.useState(!1),[G,ne]=C.useState(null),K=C.useRef(null);C.useEffect(()=>{if(G!==null){if(G<=0){H();return}return K.current=setInterval(()=>{ne(Ee=>Ee<=1?(clearInterval(K.current),H(),0):Ee-1)},1e3),()=>clearInterval(K.current)}},[G]);const H=()=>{alert("Time is up! Submitting your test automatically."),he()},Q=Ee=>{const ye=Math.floor(Ee/60),Ue=Ee%60;return`${ye}:${Ue<10?"0":""}${Ue}`};C.useEffect(()=>{X()},[]);const X=async()=>{try{const{data:Ee}=await rt.post(`${QC}/api/skill-tests/sql/start/${t}`);i(Ee.problems||[]),y(Ee.existing_submissions||{});const ye={};(Ee.problems||[]).forEach(Ue=>{ye[Ue.id]=""}),u(ye),Ee.duration_minutes&&ne(Ee.duration_minutes*60),D(!1)}catch(Ee){U(Ee.response?.data?.error||Ee.message),D(!1)}},re=async()=>{const Ee=s[a];if(Ee){v(!0),f(null),m(null);try{const{data:ye}=await rt.post(`${QC}/api/skill-tests/sql/run`,{query:c[Ee.id]||"",attemptId:t});f(ye)}catch(ye){f({success:!1,error:ye.message})}finally{v(!1)}}},le=async()=>{const Ee=s[a];if(Ee){B(!0),m(null);try{const{data:ye}=await rt.post(`${QC}/api/skill-tests/sql/evaluate`,{attemptId:t,problemId:Ee.id,query:c[Ee.id]||""});m(ye),ye.passed&&y(Ue=>({...Ue,[String(Ee.id)]:{passed:!0}}))}catch(ye){U(ye.response?.data?.error||ye.message)}finally{B(!1)}}},he=async()=>{Z(!1),E(!0);try{const{data:Ee}=await rt.post(`${QC}/api/skill-tests/sql/finish/${t}`);O(Ee),ee(!0)}catch(Ee){U(Ee.response?.data?.error||Ee.message),E(!1)}},xe=()=>{N?.passed?n(N):r()};if(F)return l.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#94a3b8"},children:"Loading SQL problems..."});if(N)return l.jsxs("div",{style:{textAlign:"center",padding:"60px"},children:[l.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",margin:"0 auto 20px",display:"flex",alignItems:"center",justifyContent:"center",background:N.passed?"rgba(34,197,94,0.15)":"rgba(239,68,68,0.15)"},children:N.passed?l.jsx($n,{size:40,color:"#22c55e"}):l.jsx(Jr,{size:40,color:"#ef4444"})}),l.jsx("h2",{style:{fontSize:"24px",fontWeight:700,margin:"0 0 8px",color:"#f1f5f9"},children:N.passed?"SQL Passed!":"SQL Failed"}),l.jsxs("p",{style:{fontSize:"18px",color:"#94a3b8"},children:["Solved: ",N.solved,"/",N.total," (",Math.round(N.score),"%)"]}),l.jsxs("div",{style:{marginTop:"32px"},children:[l.jsxs("button",{onClick:xe,style:{padding:"12px 24px",background:"#8b5cf6",color:"white",border:"none",borderRadius:"10px",cursor:"pointer",fontWeight:700,fontSize:"16px",display:"inline-flex",alignItems:"center",gap:"8px",boxShadow:"0 4px 12px rgba(139,92,246,0.3)"},children:[N.passed?"Continue to Interview":"View Report"," ",l.jsx(Sg,{size:18})]}),l.jsx("p",{style:{fontSize:"14px",color:"#64748b",marginTop:"12px"},children:"Click to proceed to the next stage"})]})]});const Be=s[a],me=Object.values(g).filter(Ee=>Ee.passed).length,ve=`
 Available Tables:

employees (id, name, department, salary, hire_date, manager_id)
departments (id, name, budget, location)
projects (id, name, department_id, start_date, end_date, status)
orders (id, customer_name, product, quantity, price, order_date)
    `.trim();return l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 20px",background:"#1e293b",borderRadius:"10px",marginBottom:"16px",border:"1px solid #334155"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx(Ka,{size:20,color:"#8b5cf6"}),l.jsx("span",{style:{fontWeight:700,fontSize:"15px",color:"#f1f5f9"},children:"SQL Test"}),l.jsxs("span",{style:{fontSize:"13px",color:"#94a3b8"},children:[me,"/",s.length," solved"]}),G!==null&&l.jsxs("span",{style:{padding:"4px 10px",borderRadius:"12px",fontSize:"13px",fontWeight:600,background:G<300?"rgba(239,68,68,0.2)":"rgba(59,130,246,0.15)",color:G<300?"#fca5a5":"#60a5fa",border:"1px solid "+(G<300?"rgba(239,68,68,0.4)":"rgba(59,130,246,0.3)")},children:["Time Left: ",Q(G)]})]}),l.jsxs("div",{style:{display:"flex",gap:"8px"},children:[l.jsxs("button",{onClick:()=>j(T==="schema"?null:"schema"),style:{padding:"8px 14px",background:T==="schema"?"rgba(139,92,246,0.15)":"#334155",border:"1px solid "+(T==="schema"?"#8b5cf6":"#475569"),borderRadius:"8px",cursor:"pointer",fontSize:"12px",fontWeight:600,display:"flex",alignItems:"center",gap:"4px",color:"#f1f5f9"},children:[l.jsx(K8,{size:14})," Schema"]}),l.jsxs("button",{onClick:()=>j(T==="expected"?null:"expected"),style:{padding:"8px 14px",background:T==="expected"?"rgba(16, 185, 129, 0.15)":"#334155",border:"1px solid "+(T==="expected"?"#10b981":"#475569"),borderRadius:"8px",cursor:"pointer",fontSize:"12px",fontWeight:600,display:"flex",alignItems:"center",gap:"4px",color:"#f1f5f9"},children:[l.jsx(kr,{size:14})," Expected Output"]}),l.jsx("button",{onClick:()=>Z(!0),disabled:k,style:{padding:"8px 20px",background:"#8b5cf6",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:600,fontSize:"13px",opacity:k?.6:1},children:k?"Submitting...":"Finish SQL "})]})]}),P&&l.jsx("div",{style:{background:"rgba(239,68,68,0.1)",border:"1px solid rgba(239,68,68,0.3)",borderRadius:"8px",padding:"10px",marginBottom:"12px",color:"#fca5a5",fontSize:"13px"},children:P}),T&&l.jsx("div",{style:{background:"#1e1e1e",color:"#d4d4d4",padding:"16px",borderRadius:"8px",marginBottom:"16px",fontSize:"13px",fontFamily:"monospace",whiteSpace:"pre-line",border:"1px solid #334155",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:T==="schema"?ve:l.jsxs("div",{children:[l.jsxs("div",{style:{marginBottom:"8px",color:"#10b981",fontWeight:700,fontSize:"14px",display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx(kr,{size:16})," Expected Result Structure"]}),s[a]?.expected_output_description&&l.jsxs("div",{style:{marginBottom:"12px"},children:[l.jsx("div",{style:{color:"#94a3b8",fontSize:"12px",marginBottom:"4px"},children:"Description:"}),l.jsx("div",{style:{color:"#e2e8f0"},children:s[a].expected_output_description})]}),s[a]?.expected_columns&&l.jsxs("div",{style:{marginBottom:"12px"},children:[l.jsx("div",{style:{color:"#94a3b8",fontSize:"12px",marginBottom:"4px"},children:"Required Columns:"}),l.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:s[a].expected_columns.map(Ee=>l.jsx("span",{style:{padding:"2px 8px",background:"rgba(96, 165, 250, 0.1)",border:"1px solid rgba(96, 165, 250, 0.2)",borderRadius:"4px",color:"#60a5fa"},children:Ee},Ee))})]}),s[a]?.expected_output&&l.jsxs("div",{children:[l.jsx("div",{style:{color:"#94a3b8",fontSize:"12px",marginBottom:"4px"},children:"Sample Data:"}),l.jsx("pre",{style:{background:"rgba(0,0,0,0.2)",padding:"10px",borderRadius:"6px",border:"1px solid rgba(255,255,255,0.05)",color:"#a7f3d0"},children:s[a].expected_output})]}),!s[a]?.expected_output_description&&!s[a]?.expected_columns&&!s[a]?.expected_output&&l.jsx("span",{style:{color:"#64748b",fontStyle:"italic"},children:"No expected output details available for this problem."})]})}),l.jsx("div",{style:{display:"flex",gap:"6px",marginBottom:"12px"},children:s.map((Ee,ye)=>{const Ue=g[String(Ee.id)]?.passed;return l.jsxs("button",{onClick:()=>{o(ye),f(null),m(null)},style:{padding:"6px 14px",borderRadius:"8px",border:"none",cursor:"pointer",fontWeight:600,fontSize:"12px",background:ye===a?"#8b5cf6":Ue?"#22c55e":"#334155",color:ye===a||Ue?"white":"#94a3b8"},children:["Q",ye+1," ",Ue?"":""]},ye)})}),Be&&l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[l.jsxs("div",{style:{background:"#1e293b",border:"1px solid #334155",borderRadius:"10px",padding:"16px"},children:[l.jsx("h3",{style:{margin:"0 0 8px",fontSize:"16px",fontWeight:700,color:"#f1f5f9"},children:Be.title}),Be.difficulty&&l.jsx("span",{style:{padding:"2px 8px",borderRadius:"12px",fontSize:"11px",fontWeight:600,display:"inline-block",marginBottom:"12px",background:Be.difficulty==="hard"?"rgba(239,68,68,0.15)":Be.difficulty==="medium"?"rgba(245,158,11,0.15)":"rgba(34,197,94,0.15)",color:Be.difficulty==="hard"?"#f87171":Be.difficulty==="medium"?"#fbbf24":"#34d399"},children:Be.difficulty}),l.jsx("p",{style:{fontSize:"14px",lineHeight:1.6,color:"#cbd5e1"},children:Be.description}),Be.expected_output_description&&l.jsxs("div",{style:{marginTop:"12px",padding:"10px",background:"rgba(34,197,94,0.1)",borderRadius:"6px",fontSize:"13px",color:"#34d399"},children:[l.jsx("strong",{children:"Expected:"})," ",Be.expected_output_description]}),Be.expected_columns&&l.jsxs("div",{style:{marginTop:"12px",padding:"10px",background:"rgba(59,130,246,0.1)",borderRadius:"6px",fontSize:"13px",color:"#60a5fa"},children:[l.jsx("strong",{children:"Expected Columns:"})," ",Be.expected_columns.join(", ")]}),Be.hints&&l.jsxs("div",{style:{marginTop:"12px",padding:"10px",background:"rgba(245,158,11,0.1)",borderRadius:"6px",fontSize:"13px",color:"#fbbf24"},children:[l.jsx("strong",{children:"Hint:"})," ",Be.hints]}),h&&l.jsxs("div",{style:{marginTop:"16px",padding:"12px",borderRadius:"8px",background:h.passed?"rgba(34,197,94,0.1)":"rgba(239,68,68,0.1)",border:"1px solid "+(h.passed?"rgba(34,197,94,0.3)":"rgba(239,68,68,0.3)")},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontWeight:600,color:h.passed?"#34d399":"#f87171"},children:[h.passed?l.jsx($n,{size:16,color:"#22c55e"}):l.jsx(Jr,{size:16,color:"#ef4444"}),h.passed?"Query Correct!":"Query Incorrect"]}),h.feedback&&l.jsx("p",{style:{margin:"8px 0 0",fontSize:"13px",color:"#cbd5e1",lineHeight:1.5},children:h.feedback})]})]}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[l.jsxs("div",{style:{display:"flex",gap:"8px"},children:[l.jsxs("button",{onClick:re,disabled:x,style:{padding:"6px 14px",background:"#10b981",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"12px",fontWeight:600,display:"flex",alignItems:"center",gap:"4px",opacity:x?.6:1},children:[x?l.jsx(lh,{size:14}):l.jsx(ef,{size:14})," Run"]}),l.jsxs("button",{onClick:le,disabled:w,style:{padding:"6px 14px",background:"#8b5cf6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"12px",fontWeight:600,display:"flex",alignItems:"center",gap:"4px",opacity:w?.6:1},children:[w?l.jsx(lh,{size:14}):l.jsx(_c,{size:14})," Submit"]})]}),l.jsx("div",{style:{border:"1px solid #334155",borderRadius:"8px",overflow:"hidden",minHeight:"220px"},children:l.jsx(hw,{height:"220px",language:"sql",value:c[Be.id]||"",onChange:Ee=>u(ye=>({...ye,[Be.id]:Ee||""})),theme:"vs-dark",options:{minimap:{enabled:!1},fontSize:14,scrollBeyondLastLine:!1,padding:{top:10}}})}),l.jsx("div",{style:{background:"#1e1e1e",color:"#d4d4d4",padding:"12px",borderRadius:"8px",fontSize:"12px",fontFamily:"monospace",minHeight:"160px",maxHeight:"300px",overflowY:"auto"},children:d?d.success?d.rows&&d.rows.length>0?l.jsxs("div",{style:{overflowX:"auto"},children:[l.jsxs("table",{style:{borderCollapse:"collapse",width:"100%"},children:[l.jsx("thead",{children:l.jsx("tr",{children:d.columns.map(Ee=>l.jsx("th",{style:{padding:"4px 8px",borderBottom:"1px solid #444",textAlign:"left",color:"#93c5fd"},children:Ee},Ee))})}),l.jsx("tbody",{children:d.rows.slice(0,50).map((Ee,ye)=>l.jsx("tr",{children:d.columns.map(Ue=>l.jsx("td",{style:{padding:"4px 8px",borderBottom:"1px solid #333"},children:Ee[Ue]??"NULL"},Ue))},ye))})]}),l.jsxs("div",{style:{marginTop:"8px",color:"#6b7280"},children:[d.rows.length," row(s) returned",d.rows.length>50&&" (showing first 50)"]})]}):l.jsx("span",{style:{color:"#22c55e"},children:d.message||"Query executed (no results)"}):l.jsxs("span",{style:{color:"#ef4444"},children:["Error: ",d.error]}):l.jsx("span",{style:{color:"#6b7280"},children:"Run your query to see results..."})})]})]}),q&&l.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.7)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsxs("div",{style:{background:"#1e293b",borderRadius:"16px",padding:"28px",maxWidth:"400px",width:"90%",border:"1px solid #334155",textAlign:"center"},children:[l.jsx(Ka,{size:36,color:"#8b5cf6",style:{marginBottom:"12px"}}),l.jsx("h3",{style:{margin:"0 0 8px",color:"#f1f5f9",fontSize:"18px"},children:"Submit SQL?"}),l.jsx("p",{style:{color:"#94a3b8",fontSize:"14px",margin:"0 0 20px"},children:"Submit your SQL solutions? This will move to the Interview section."}),l.jsxs("div",{style:{display:"flex",gap:"10px"},children:[l.jsx("button",{onClick:()=>Z(!1),style:{flex:1,padding:"10px",background:"#334155",color:"#94a3b8",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:600},children:"Cancel"}),l.jsx("button",{onClick:he,style:{flex:1,padding:"10px",background:"#8b5cf6",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:600},children:"Submit"})]})]})})]})}function NH({state:t="idle",size:e=300}){const n={white:"#F8FAFC",silver:"#CBD5E1",dark:"#1E293B",blueWait:"#0EA5E9",blueActive:"#38BDF8",green:"#4ADE80",pink:"#F472B6"},s=t==="listening"?n.green:t==="thinking"?n.pink:t==="speaking"?n.blueActive:n.blueWait;return l.jsxs("div",{className:"avatar-container",style:{display:"flex",flexDirection:"column",alignItems:"center",filter:"drop-shadow(0 8px 24px rgba(14, 165, 233, 0.15))"},children:[l.jsxs("svg",{width:e,height:e*1.2,viewBox:"0 0 400 500",style:{overflow:"visible"},children:[l.jsxs("defs",{children:[l.jsxs("linearGradient",{id:"bodyGrad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[l.jsx("stop",{offset:"0%",stopColor:"#FFFFFF"}),l.jsx("stop",{offset:"100%",stopColor:"#E2E8F0"})]}),l.jsxs("radialGradient",{id:"screenGrad",cx:"50%",cy:"40%",r:"80%",children:[l.jsx("stop",{offset:"0%",stopColor:"#334155"}),l.jsx("stop",{offset:"100%",stopColor:"#020617"})]}),l.jsxs("filter",{id:"blueGlow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[l.jsx("feGaussianBlur",{stdDeviation:"4",result:"coloredBlur"}),l.jsxs("feMerge",{children:[l.jsx("feMergeNode",{in:"coloredBlur"}),l.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),l.jsx("g",{transform:"translate(200, 360)",children:l.jsxs("g",{children:[l.jsx("path",{d:"M-60 -20 Q-70 100 0 110 Q70 100 60 -20 L40 -40 Q0 -30 -40 -40 Z",fill:"url(#bodyGrad)",stroke:n.silver,strokeWidth:"2"}),l.jsx("path",{d:"M-20 0 L-20 60 M0 10 L0 70 M20 0 L20 60",stroke:s,strokeWidth:"4",strokeLinecap:"round",opacity:"0.8",filter:"url(#blueGlow)",children:t==="speaking"&&l.jsx("animate",{attributeName:"opacity",values:"0.5;1;0.5",dur:"0.5s",repeatCount:"indefinite"})}),l.jsxs("g",{transform:"translate(0, -35)",children:[l.jsx("rect",{x:"-15",y:"-15",width:"30",height:"30",rx:"4",fill:n.dark}),l.jsx("rect",{x:"-15",y:"-10",width:"30",height:"4",fill:n.silver}),l.jsx("rect",{x:"-15",y:"0",width:"30",height:"4",fill:n.silver})]})]})}),l.jsxs("g",{transform:"translate(280.5, 340)",children:[l.jsx("circle",{cx:"0",cy:"0",r:"22",fill:"#E2E8F0",stroke:n.silver}),l.jsx("circle",{cx:"0",cy:"0",r:"10",fill:n.dark}),l.jsxs("g",{children:[t==="idle"&&l.jsx("animateTransform",{attributeName:"transform",type:"rotate",values:"-5; 5; -5",dur:"3s",repeatCount:"indefinite"}),t==="speaking"&&l.jsx("animateTransform",{attributeName:"transform",type:"rotate",values:"0; -15; 0; -10; 0",dur:"2s",repeatCount:"indefinite"}),l.jsx("rect",{x:"-12",y:"0",width:"24",height:"60",rx:"10",fill:"url(#bodyGrad)"}),l.jsx("rect",{x:"-12",y:"25",width:"24",height:"5",fill:n.dark,opacity:"0.5"}),l.jsxs("g",{transform:"translate(0, 60)",children:[l.jsx("circle",{cx:"0",cy:"0",r:"14",fill:n.silver}),l.jsxs("g",{transform:"rotate(-30)",children:[l.jsx("rect",{x:"-10",y:"0",width:"20",height:"50",rx:"8",fill:"url(#bodyGrad)"}),l.jsxs("g",{transform:"translate(0, 55)",children:[l.jsx("path",{d:"M-12 -5 Q0 15 12 -5 Z",fill:"#E2E8F0"}),l.jsx("rect",{x:"-14",y:"0",width:"6",height:"15",rx:"3",fill:"#E2E8F0",transform:"rotate(-15)"}),l.jsx("rect",{x:"-5",y:"5",width:"6",height:"16",rx:"3",fill:"#E2E8F0"}),l.jsx("rect",{x:"5",y:"5",width:"6",height:"16",rx:"3",fill:"#E2E8F0"}),l.jsx("rect",{x:"14",y:"0",width:"6",height:"15",rx:"3",fill:"#E2E8F0",transform:"rotate(15)"})]})]})]})]})]}),l.jsxs("g",{transform:"translate(119.5, 340) scale(-1, 1)",children:[l.jsx("circle",{cx:"0",cy:"0",r:"22",fill:"#E2E8F0",stroke:n.silver}),l.jsx("circle",{cx:"0",cy:"0",r:"10",fill:n.dark}),l.jsxs("g",{children:[t==="idle"&&l.jsx("animateTransform",{attributeName:"transform",type:"rotate",values:"5; -5; 5",dur:"3s",repeatCount:"indefinite"}),t==="speaking"&&l.jsx("animateTransform",{attributeName:"transform",type:"rotate",values:"0; 10; 0; 5; 0",dur:"2.5s",repeatCount:"indefinite",delay:"0.5s"}),l.jsx("rect",{x:"-12",y:"0",width:"24",height:"60",rx:"10",fill:"url(#bodyGrad)"}),l.jsx("rect",{x:"-12",y:"25",width:"24",height:"5",fill:n.dark,opacity:"0.5"}),l.jsxs("g",{transform:"translate(0, 60)",children:[l.jsx("circle",{cx:"0",cy:"0",r:"14",fill:n.silver}),l.jsxs("g",{transform:"rotate(-30)",children:[l.jsx("rect",{x:"-10",y:"0",width:"20",height:"50",rx:"8",fill:"url(#bodyGrad)"}),l.jsxs("g",{transform:"translate(0, 55)",children:[l.jsx("path",{d:"M-12 -5 Q0 15 12 -5 Z",fill:"#E2E8F0"}),l.jsx("rect",{x:"-5",y:"5",width:"10",height:"12",rx:"3",fill:"#E2E8F0"})]})]})]})]})]}),l.jsx("g",{transform:"translate(200, 240)",children:l.jsxs("g",{children:[t==="listening"&&l.jsx("animateTransform",{attributeName:"transform",type:"rotate",values:"0; 5; 0; -2; 0",dur:"4s",repeatCount:"indefinite"}),t==="thinking"&&l.jsx("animateTransform",{attributeName:"transform",type:"rotate",values:"0; -15; -15",dur:"1s",fill:"freeze"}),t==="speaking"&&l.jsx("animateTransform",{attributeName:"transform",type:"translate",values:"0 0; 0 2; 0 0",dur:"0.2s",repeatCount:"indefinite",additive:"sum"}),l.jsx("path",{d:"M-80 0 C-80 -70 -50 -90 0 -90 C50 -90 80 -70 80 0 C80 60 50 80 0 80 C-50 80 -80 60 -80 0 Z",fill:"url(#bodyGrad)",stroke:"#CBD5E1",strokeWidth:"2"}),l.jsx("rect",{x:"-60",y:"-40",width:"120",height:"90",rx:"25",fill:"url(#screenGrad)",stroke:"#334155",strokeWidth:"2"}),l.jsx("line",{x1:"50",y1:"-75",x2:"70",y2:"-100",stroke:n.silver,strokeWidth:"4",strokeLinecap:"round"}),l.jsx("circle",{cx:"70",cy:"-100",r:"6",fill:s,filter:"url(#blueGlow)",children:l.jsx("animate",{attributeName:"opacity",values:"0.6;1;0.6",dur:"2s",repeatCount:"indefinite"})}),l.jsxs("g",{children:[l.jsx("path",{d:"M-82 -10 L-88 -10 L-88 30 L-82 30 Z",fill:n.silver}),l.jsx("rect",{x:"-92",y:"-15",width:"14",height:"50",rx:"4",fill:n.white,stroke:n.silver}),l.jsx("circle",{cx:"-85",cy:"10",r:"12",fill:n.dark}),l.jsx("circle",{cx:"-85",cy:"10",r:"6",fill:s,opacity:"0.7"})]}),l.jsxs("g",{children:[l.jsx("path",{d:"M82 -10 L88 -10 L88 30 L82 30 Z",fill:n.silver}),l.jsx("rect",{x:"78",y:"-15",width:"14",height:"50",rx:"4",fill:n.white,stroke:n.silver}),l.jsx("circle",{cx:"85",cy:"10",r:"12",fill:n.dark}),l.jsx("circle",{cx:"85",cy:"10",r:"6",fill:s,opacity:"0.7"})]}),l.jsxs("g",{transform:"translate(0, 5)",children:[l.jsxs("g",{transform:"translate(-25, -5)",children:[l.jsx("ellipse",{cx:"0",cy:"0",rx:"16",ry:"18",fill:"url(#screenGrad)",stroke:s,strokeWidth:"3",filter:"url(#blueGlow)"}),l.jsx("circle",{cx:"4",cy:"-4",r:"5",fill:"white",opacity:"0.8"}),t==="idle"&&l.jsx("animateTransform",{attributeName:"transform",type:"scale",values:"1 1; 1 0.1; 1 1",keyTimes:"0; 0.45; 0.5; 1",dur:"4s",repeatCount:"indefinite"})]}),l.jsxs("g",{transform:"translate(25, -5)",children:[l.jsx("ellipse",{cx:"0",cy:"0",rx:"16",ry:"18",fill:"url(#screenGrad)",stroke:s,strokeWidth:"3",filter:"url(#blueGlow)"}),l.jsx("circle",{cx:"4",cy:"-4",r:"5",fill:"white",opacity:"0.8"}),t==="idle"&&l.jsx("animateTransform",{attributeName:"transform",type:"scale",values:"1 1; 1 0.1; 1 1",keyTimes:"0; 0.45; 0.5; 1",dur:"4s",repeatCount:"indefinite"})]}),l.jsx("g",{transform:"translate(0, 30)",children:t==="speaking"?l.jsx("path",{d:"M-10 0 Q0 10 10 0",fill:"none",stroke:s,strokeWidth:"3",strokeLinecap:"round",children:l.jsx("animate",{attributeName:"d",values:"M-10 0 Q0 15 10 0; M-10 0 Q0 5 10 0; M-10 0 Q0 15 10 0",dur:"0.3s",repeatCount:"indefinite"})}):l.jsx("path",{d:"M-8 0 Q0 5 8 0",fill:"none",stroke:s,strokeWidth:"3",strokeLinecap:"round",opacity:"0.8"})})]})]})})]}),l.jsxs("div",{style:{marginTop:"-30px",padding:"8px 20px",background:t==="speaking"?"rgba(56, 189, 248, 0.1)":"rgba(30, 41, 59, 0.8)",backdropFilter:"blur(4px)",borderRadius:"24px",border:`1px solid ${s}40`,display:"flex",alignItems:"center",gap:"8px",zIndex:10},children:[l.jsx("span",{style:{display:"block",width:"8px",height:"8px",borderRadius:"50%",backgroundColor:s,boxShadow:`0 0 10px ${s}`,animation:t==="speaking"?"pulse 1s infinite":"none"}}),l.jsx("span",{style:{color:"white",fontSize:"13px",fontWeight:600,letterSpacing:"0.5px",textTransform:"uppercase"},children:t==="speaking"?"AI Interviewer":t==="listening"?"Listening...":t==="thinking"?"Thinking...":"Ready"})]}),l.jsx("style",{children:`
                    @keyframes pulse { 0% { opacity: 0.5; transform: scale(0.8); } 50% { opacity: 1; transform: scale(1.2); } 100% { opacity: 0.5; transform: scale(0.8); } }
                `})]})}const jH="http://localhost:8000";function lVe({attemptId:t,attemptData:e,onComplete:n,onFailed:r}){const[s,i]=C.useState(""),[a,o]=C.useState(""),[c,u]=C.useState("medium"),[d,f]=C.useState(1),[h,m]=C.useState(5),[g,y]=C.useState(""),[x,v]=C.useState(null),[w,B]=C.useState("idle"),[k,E]=C.useState(!1),[N,O]=C.useState(!1),[F,D]=C.useState(!0),[T,j]=C.useState(!1),[P,U]=C.useState(null),[z,ee]=C.useState(!0),[q,Z]=C.useState([]),[G,ne]=C.useState(""),[K,H]=C.useState(null),Q=C.useRef(null),X=C.useRef(null),re=C.useRef(null);C.useEffect(()=>{if(K!==null){if(K<=0){le();return}return re.current=setInterval(()=>{H(ye=>ye<=1?(clearInterval(re.current),le(),0):ye-1)},1e3),()=>clearInterval(re.current)}},[K]);const le=()=>{alert("Time is up! Submitting your test automatically."),r()},he=ye=>{const Ue=Math.floor(ye/60),at=ye%60;return`${Ue}:${at<10?"0":""}${at}`};C.useEffect(()=>(X.current=window.speechSynthesis,xe(),()=>{ve(),X.current&&X.current.cancel()}),[]);const xe=async()=>{try{const{data:ye}=await rt.post(`${jH}/api/skill-tests/interview/start/${t}`);i(ye.question),o(ye.category||""),u(ye.difficulty||"medium"),f(ye.question_number),m(ye.total_questions),ye.duration_minutes&&H(ye.duration_minutes*60),ee(!1),F&&Be(ye.question)}catch(ye){ne(ye.response?.data?.error||ye.message),ee(!1)}},Be=ye=>{if(!X.current||!F)return;X.current.cancel();const Ue=new SpeechSynthesisUtterance(ye);Ue.rate=.95,Ue.pitch=1,Ue.volume=.8,Ue.onstart=()=>{O(!0),B("speaking")},Ue.onend=()=>{O(!1),B("idle")},Ue.onerror=()=>{O(!1),B("idle")},X.current.speak(Ue)},me=()=>{if(!("webkitSpeechRecognition"in window)&&!("SpeechRecognition"in window)){ne("Speech recognition not supported in this browser. Please type your answer.");return}const ye=window.SpeechRecognition||window.webkitSpeechRecognition,Ue=new ye;Ue.continuous=!0,Ue.interimResults=!0,Ue.lang="en-US";let at=g;Ue.onresult=ie=>{let Le="";for(let tt=ie.resultIndex;tt<ie.results.length;tt++)ie.results[tt].isFinal?at+=ie.results[tt][0].transcript+" ":Le+=ie.results[tt][0].transcript;y(at+Le)},Ue.onend=()=>{E(!1),B("idle")},Ue.onerror=ie=>{ie.error!=="no-speech"&&console.error("Speech error:",ie.error),E(!1),B("idle")},Q.current=Ue,Ue.start(),E(!0),B("listening"),X.current&&X.current.cancel()},ve=()=>{Q.current&&(Q.current.stop(),Q.current=null),E(!1),B("idle")},Ee=async()=>{if(!g.trim())return ne("Please provide an answer");j(!0),ne(""),v(null),B("thinking"),ve();try{const{data:ye}=await rt.post(`${jH}/api/skill-tests/interview/answer`,{attemptId:t,answer:g.trim()});Z(Ue=>[...Ue,{question:s,answer:g.trim(),score:ye.score,feedback:ye.feedback}]),v({score:ye.score,feedback:ye.feedback}),ye.is_complete?(U({passed:ye.passed,overall_score:ye.overall_score,status:ye.status}),B("idle"),ye.passed?setTimeout(()=>n(ye),3e3):setTimeout(()=>r(),3e3)):setTimeout(()=>{i(ye.next_question),o(ye.next_category||""),u(ye.next_difficulty||"medium"),f(ye.question_number),y(""),v(null),B("idle"),F&&Be(ye.next_question)},3e3)}catch(ye){ne(ye.response?.data?.error||ye.message),B("idle")}finally{j(!1)}};return z?l.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#94a3b8"},children:"Starting AI Interview..."}):P?l.jsxs("div",{style:{textAlign:"center",padding:"60px"},children:[l.jsx(NH,{state:"idle",size:160}),l.jsxs("div",{style:{marginTop:"20px"},children:[l.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",margin:"0 auto 20px",display:"flex",alignItems:"center",justifyContent:"center",background:P.passed?"rgba(34,197,94,0.15)":"rgba(239,68,68,0.15)"},children:P.passed?l.jsx($n,{size:40,color:"#22c55e"}):l.jsx(Jr,{size:40,color:"#ef4444"})}),l.jsx("h2",{style:{fontSize:"24px",fontWeight:700,margin:"0 0 8px",color:"#f1f5f9"},children:P.passed?"Interview Passed!":"Interview Not Passed"}),l.jsxs("p",{style:{fontSize:"18px",color:"#94a3b8"},children:["Average Score: ",(P.overall_score||0).toFixed(1),"/10"]}),l.jsx("p",{style:{fontSize:"14px",color:P.passed?"#22c55e":"#ef4444",marginTop:"12px"},children:P.passed?"Assessment complete! Generating report...":"Assessment ended. Generating report..."})]})]}):l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"280px 1fr",gap:"24px"},children:[l.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"16px"},children:[l.jsx(NH,{state:w,size:220}),K!==null&&l.jsxs("div",{style:{padding:"6px 16px",borderRadius:"12px",fontSize:"14px",fontWeight:600,background:K<300?"rgba(239,68,68,0.2)":"rgba(139,92,246,0.15)",color:K<300?"#fca5a5":"#a78bfa",border:"1px solid "+(K<300?"rgba(239,68,68,0.4)":"rgba(139,92,246,0.3)"),marginBottom:"8px"},children:["Time Left: ",he(K)]}),l.jsxs("div",{style:{textAlign:"center"},children:[l.jsxs("span",{style:{fontSize:"13px",fontWeight:700,color:"#8b5cf6"},children:["Question ",d,"/",h]}),a&&l.jsx("div",{style:{marginTop:"4px",padding:"2px 10px",borderRadius:"12px",background:"rgba(139,92,246,0.15)",color:"#a78bfa",fontSize:"11px",fontWeight:600,display:"inline-block"},children:a})]}),l.jsxs("button",{onClick:()=>{const ye=!F;D(ye),!ye&&X.current&&X.current.cancel()},style:{padding:"8px 14px",background:F?"rgba(34,197,94,0.1)":"#334155",border:"1px solid "+(F?"rgba(34,197,94,0.3)":"#475569"),borderRadius:"8px",cursor:"pointer",fontSize:"12px",color:"#f1f5f9",display:"flex",alignItems:"center",gap:"6px"},children:[F?l.jsx(iQ,{size:14}):l.jsx(wye,{size:14}),"Voice ",F?"On":"Off"]}),q.length>0&&l.jsxs("div",{style:{width:"100%",maxHeight:"200px",overflowY:"auto",background:"#0f172a",borderRadius:"8px",padding:"10px",fontSize:"11px"},children:[l.jsx("div",{style:{fontWeight:600,marginBottom:"6px",color:"#94a3b8"},children:"Previous Answers"}),q.map((ye,Ue)=>l.jsxs("div",{style:{marginBottom:"8px",padding:"6px",background:"#1e293b",borderRadius:"4px"},children:[l.jsxs("div",{style:{fontWeight:600,color:"#cbd5e1"},children:["Q",Ue+1,": ",ye.question.slice(0,50),"..."]}),l.jsxs("div",{style:{color:ye.score>=7?"#22c55e":ye.score>=5?"#f59e0b":"#ef4444"},children:["Score: ",ye.score,"/10"]})]},Ue))]})]}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[G&&l.jsx("div",{style:{background:"rgba(239,68,68,0.1)",border:"1px solid rgba(239,68,68,0.3)",borderRadius:"8px",padding:"10px",color:"#fca5a5",fontSize:"13px"},children:G}),l.jsxs("div",{style:{background:"#1e293b",border:"1px solid #334155",borderRadius:"12px",padding:"20px"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px"},children:[l.jsx(Fp,{size:18,color:"#8b5cf6"}),l.jsx("span",{style:{fontWeight:700,fontSize:"14px",color:"#8b5cf6"},children:"Interviewer"}),c&&l.jsx("span",{style:{padding:"2px 8px",borderRadius:"12px",fontSize:"11px",background:c==="hard"?"rgba(239,68,68,0.15)":c==="medium"?"rgba(245,158,11,0.15)":"rgba(34,197,94,0.15)",color:c==="hard"?"#f87171":c==="medium"?"#fbbf24":"#34d399"},children:c})]}),l.jsx("p",{style:{fontSize:"16px",lineHeight:1.6,color:"#f1f5f9",margin:0},children:s}),!N&&F&&l.jsxs("button",{onClick:()=>Be(s),style:{marginTop:"8px",background:"none",border:"none",cursor:"pointer",color:"#8b5cf6",fontSize:"12px",display:"flex",alignItems:"center",gap:"4px"},children:[l.jsx(iQ,{size:14})," Replay"]})]}),x&&l.jsxs("div",{style:{background:x.score>=7?"rgba(34,197,94,0.1)":x.score>=5?"rgba(245,158,11,0.1)":"rgba(239,68,68,0.1)",border:"1px solid "+(x.score>=7?"rgba(34,197,94,0.3)":x.score>=5?"rgba(245,158,11,0.3)":"rgba(239,68,68,0.3)"),borderRadius:"10px",padding:"16px"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[l.jsx("span",{style:{fontWeight:700,fontSize:"14px",color:"#f1f5f9"},children:"Feedback"}),l.jsxs("span",{style:{fontWeight:700,fontSize:"16px",color:x.score>=7?"#22c55e":x.score>=5?"#d97706":"#ef4444"},children:[x.score,"/10"]})]}),l.jsx("p",{style:{fontSize:"13px",color:"#94a3b8",margin:0,lineHeight:1.5},children:x.feedback}),!P&&l.jsx("p",{style:{fontSize:"12px",color:"#64748b",marginTop:"8px"},children:"Next question coming up..."})]}),!x&&!P&&l.jsxs("div",{style:{background:"#1e293b",border:"1px solid #334155",borderRadius:"12px",padding:"20px"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"},children:[l.jsx("span",{style:{fontWeight:600,fontSize:"14px",color:"#f1f5f9"},children:"Your Answer"}),l.jsxs("span",{style:{fontSize:"12px",color:"#64748b"},children:[g.split(/\s+/).filter(Boolean).length," words"]})]}),l.jsx("textarea",{value:g,onChange:ye=>y(ye.target.value),placeholder:"Type your answer or use the microphone...",rows:6,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid #475569",fontSize:"14px",lineHeight:1.6,resize:"vertical",boxSizing:"border-box",background:k?"rgba(34,197,94,0.1)":"#0f172a",color:"#f1f5f9"}}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"12px"},children:[l.jsx("button",{onClick:k?ve:me,style:{padding:"10px 20px",borderRadius:"8px",border:"none",cursor:"pointer",fontWeight:600,fontSize:"13px",display:"flex",alignItems:"center",gap:"8px",background:k?"#ef4444":"#22c55e",color:"white"},children:k?l.jsxs(l.Fragment,{children:[l.jsx(MJ,{size:16})," Stop Recording"]}):l.jsxs(l.Fragment,{children:[l.jsx(IE,{size:16})," Start Speaking"]})}),l.jsx("button",{onClick:Ee,disabled:T||!g.trim(),style:{padding:"10px 24px",background:"#8b5cf6",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:700,fontSize:"14px",display:"flex",alignItems:"center",gap:"8px",opacity:T||!g.trim()?.5:1},children:T?l.jsxs(l.Fragment,{children:[l.jsx(lh,{size:16})," Evaluating..."]}):l.jsxs(l.Fragment,{children:[l.jsx(_c,{size:16})," Submit Answer"]})})]})]})]})]})}function Qae(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Qae(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function yr(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Qae(t))&&(r&&(r+=" "),r+=e);return r}var cVe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Z$(t){if(typeof t!="string")return!1;var e=cVe;return e.includes(t)}var uVe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],dVe=new Set(uVe);function Hae(t){return typeof t!="string"?!1:dVe.has(t)}function Wae(t){return typeof t=="string"&&t.startsWith("data-")}function vi(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(Hae(n)||Wae(n))&&(e[n]=t[n]);return e}function kh(t){if(t==null)return null;if(C.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return vi(e)}return typeof t=="object"&&!Array.isArray(t)?vi(t):null}function qa(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(Hae(n)||Wae(n)||Z$(n))&&(e[n]=t[n]);return e}function fVe(t){return t==null?null:C.isValidElement(t)?qa(t.props):typeof t=="object"&&!Array.isArray(t)?qa(t):null}var AVe=["children","width","height","viewBox","className","style","title","desc"];function nF(){return nF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nF.apply(null,arguments)}function hVe(t,e){if(t==null)return{};var n,r,s=pVe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function pVe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var eP=C.forwardRef((t,e)=>{var{children:n,width:r,height:s,viewBox:i,className:a,style:o,title:c,desc:u}=t,d=hVe(t,AVe),f=i||{width:r,height:s,x:0,y:0},h=yr("recharts-surface",a);return C.createElement("svg",nF({},qa(d),{className:h,width:r,height:s,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:e}),C.createElement("title",null,c),C.createElement("desc",null,u),n)}),mVe=["children","className"];function rF(){return rF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rF.apply(null,arguments)}function gVe(t,e){if(t==null)return{};var n,r,s=yVe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function yVe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Os=C.forwardRef((t,e)=>{var{children:n,className:r}=t,s=gVe(t,mVe),i=yr("recharts-layer",r);return C.createElement("g",rF({className:i},qa(s),{ref:e}),n)}),Vae=C.createContext(null),xVe=()=>C.useContext(Vae);function ri(t){return function(){return t}}const qae=Math.cos,c4=Math.sin,hf=Math.sqrt,u4=Math.PI,ZN=2*u4,sF=Math.PI,iF=2*sF,sg=1e-6,bVe=iF-sg;function Gae(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function vVe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Gae;const n=10**e;return function(r){this._+=r[0];for(let s=1,i=r.length;s<i;++s)this._+=Math.round(arguments[s]*n)/n+r[s]}}class wVe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Gae:vVe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,s){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+s}`}bezierCurveTo(e,n,r,s,i,a){this._append`C${+e},${+n},${+r},${+s},${this._x1=+i},${this._y1=+a}`}arcTo(e,n,r,s,i){if(e=+e,n=+n,r=+r,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let a=this._x1,o=this._y1,c=r-e,u=s-n,d=a-e,f=o-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>sg)if(!(Math.abs(f*c-u*d)>sg)||!i)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-a,g=s-o,y=c*c+u*u,x=m*m+g*g,v=Math.sqrt(y),w=Math.sqrt(h),B=i*Math.tan((sF-Math.acos((y+h-x)/(2*v*w)))/2),k=B/w,E=B/v;Math.abs(k-1)>sg&&this._append`L${e+k*d},${n+k*f}`,this._append`A${i},${i},0,0,${+(f*m>d*g)},${this._x1=e+E*c},${this._y1=n+E*u}`}}arc(e,n,r,s,i,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(s),c=r*Math.sin(s),u=e+o,d=n+c,f=1^a,h=a?s-i:i-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>sg||Math.abs(this._y1-d)>sg)&&this._append`L${u},${d}`,r&&(h<0&&(h=h%iF+iF),h>bVe?this._append`A${r},${r},0,1,${f},${e-o},${n-c}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:h>sg&&this._append`A${r},${r},0,${+(h>=sF)},${f},${this._x1=e+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(e,n,r,s){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+s}h${-r}Z`}toString(){return this._}}function tP(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new wVe(e)}function nP(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Kae(t){this._context=t}Kae.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function e3(t){return new Kae(t)}function Xae(t){return t[0]}function Yae(t){return t[1]}function Jae(t,e){var n=ri(!0),r=null,s=e3,i=null,a=tP(o);t=typeof t=="function"?t:t===void 0?Xae:ri(t),e=typeof e=="function"?e:e===void 0?Yae:ri(e);function o(c){var u,d=(c=nP(c)).length,f,h=!1,m;for(r==null&&(i=s(m=a())),u=0;u<=d;++u)!(u<d&&n(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+t(f,u,c),+e(f,u,c));if(m)return i=null,m+""||null}return o.x=function(c){return arguments.length?(t=typeof c=="function"?c:ri(+c),o):t},o.y=function(c){return arguments.length?(e=typeof c=="function"?c:ri(+c),o):e},o.defined=function(c){return arguments.length?(n=typeof c=="function"?c:ri(!!c),o):n},o.curve=function(c){return arguments.length?(s=c,r!=null&&(i=s(r)),o):s},o.context=function(c){return arguments.length?(c==null?r=i=null:i=s(r=c),o):r},o}function HC(t,e,n){var r=null,s=ri(!0),i=null,a=e3,o=null,c=tP(u);t=typeof t=="function"?t:t===void 0?Xae:ri(+t),e=typeof e=="function"?e:ri(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?Yae:ri(+n);function u(f){var h,m,g,y=(f=nP(f)).length,x,v=!1,w,B=new Array(y),k=new Array(y);for(i==null&&(o=a(w=c())),h=0;h<=y;++h){if(!(h<y&&s(x=f[h],h,f))===v)if(v=!v)m=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=h-1;g>=m;--g)o.point(B[g],k[g]);o.lineEnd(),o.areaEnd()}v&&(B[h]=+t(x,h,f),k[h]=+e(x,h,f),o.point(r?+r(x,h,f):B[h],n?+n(x,h,f):k[h]))}if(w)return o=null,w+""||null}function d(){return Jae().defined(s).curve(a).context(i)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:ri(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:ri(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:ri(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:ri(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:ri(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:ri(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(n)},u.lineX1=function(){return d().x(r).y(e)},u.defined=function(f){return arguments.length?(s=typeof f=="function"?f:ri(!!f),u):s},u.curve=function(f){return arguments.length?(a=f,i!=null&&(o=a(i)),u):a},u.context=function(f){return arguments.length?(f==null?i=o=null:o=a(i=f),u):i},u}class Zae{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function SVe(t){return new Zae(t,!0)}function CVe(t){return new Zae(t,!1)}const rP={draw(t,e){const n=hf(e/u4);t.moveTo(n,0),t.arc(0,0,n,0,ZN)}},kVe={draw(t,e){const n=hf(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},eoe=hf(1/3),BVe=eoe*2,EVe={draw(t,e){const n=hf(e/BVe),r=n*eoe;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},IVe={draw(t,e){const n=hf(e),r=-n/2;t.rect(r,r,n,n)}},NVe=.8908130915292852,toe=c4(u4/10)/c4(7*u4/10),jVe=c4(ZN/10)*toe,TVe=-qae(ZN/10)*toe,_Ve={draw(t,e){const n=hf(e*NVe),r=jVe*n,s=TVe*n;t.moveTo(0,-n),t.lineTo(r,s);for(let i=1;i<5;++i){const a=ZN*i/5,o=qae(a),c=c4(a);t.lineTo(c*n,-o*n),t.lineTo(o*r-c*s,c*r+o*s)}t.closePath()}},c_=hf(3),RVe={draw(t,e){const n=-hf(e/(c_*3));t.moveTo(0,n*2),t.lineTo(-c_*n,-n),t.lineTo(c_*n,-n),t.closePath()}},Lu=-.5,$u=hf(3)/2,aF=1/hf(12),OVe=(aF/2+1)*3,FVe={draw(t,e){const n=hf(e/OVe),r=n/2,s=n*aF,i=r,a=n*aF+n,o=-i,c=a;t.moveTo(r,s),t.lineTo(i,a),t.lineTo(o,c),t.lineTo(Lu*r-$u*s,$u*r+Lu*s),t.lineTo(Lu*i-$u*a,$u*i+Lu*a),t.lineTo(Lu*o-$u*c,$u*o+Lu*c),t.lineTo(Lu*r+$u*s,Lu*s-$u*r),t.lineTo(Lu*i+$u*a,Lu*a-$u*i),t.lineTo(Lu*o+$u*c,Lu*c-$u*o),t.closePath()}};function DVe(t,e){let n=null,r=tP(s);t=typeof t=="function"?t:ri(t||rP),e=typeof e=="function"?e:ri(e===void 0?64:+e);function s(){let i;if(n||(n=i=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),i)return n=null,i+""||null}return s.type=function(i){return arguments.length?(t=typeof i=="function"?i:ri(i),s):t},s.size=function(i){return arguments.length?(e=typeof i=="function"?i:ri(+i),s):e},s.context=function(i){return arguments.length?(n=i??null,s):n},s}function d4(){}function f4(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function noe(t){this._context=t}noe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:f4(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:f4(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function LVe(t){return new noe(t)}function roe(t){this._context=t}roe.prototype={areaStart:d4,areaEnd:d4,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:f4(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function $Ve(t){return new roe(t)}function soe(t){this._context=t}soe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:f4(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function PVe(t){return new soe(t)}function ioe(t){this._context=t}ioe.prototype={areaStart:d4,areaEnd:d4,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function UVe(t){return new ioe(t)}function TH(t){return t<0?-1:1}function _H(t,e,n){var r=t._x1-t._x0,s=e-t._x1,i=(t._y1-t._y0)/(r||s<0&&-0),a=(n-t._y1)/(s||r<0&&-0),o=(i*s+a*r)/(r+s);return(TH(i)+TH(a))*Math.min(Math.abs(i),Math.abs(a),.5*Math.abs(o))||0}function RH(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function u_(t,e,n){var r=t._x0,s=t._y0,i=t._x1,a=t._y1,o=(i-r)/3;t._context.bezierCurveTo(r+o,s+o*e,i-o,a-o*n,i,a)}function A4(t){this._context=t}A4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:u_(this,this._t0,RH(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,u_(this,RH(this,n=_H(this,t,e)),n);break;default:u_(this,this._t0,n=_H(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function aoe(t){this._context=new ooe(t)}(aoe.prototype=Object.create(A4.prototype)).point=function(t,e){A4.prototype.point.call(this,e,t)};function ooe(t){this._context=t}ooe.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,s,i){this._context.bezierCurveTo(e,t,r,n,i,s)}};function zVe(t){return new A4(t)}function MVe(t){return new aoe(t)}function loe(t){this._context=t}loe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=OH(t),s=OH(e),i=0,a=1;a<n;++i,++a)this._context.bezierCurveTo(r[0][i],s[0][i],r[1][i],s[1][i],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function OH(t){var e,n=t.length-1,r,s=new Array(n),i=new Array(n),a=new Array(n);for(s[0]=0,i[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)s[e]=1,i[e]=4,a[e]=4*t[e]+2*t[e+1];for(s[n-1]=2,i[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=s[e]/i[e-1],i[e]-=r,a[e]-=r*a[e-1];for(s[n-1]=a[n-1]/i[n-1],e=n-2;e>=0;--e)s[e]=(a[e]-s[e+1])/i[e];for(i[n-1]=(t[n]+s[n-1])/2,e=0;e<n-1;++e)i[e]=2*t[e+1]-s[e+1];return[s,i]}function QVe(t){return new loe(t)}function t3(t,e){this._context=t,this._t=e}t3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function HVe(t){return new t3(t,.5)}function WVe(t){return new t3(t,0)}function VVe(t){return new t3(t,1)}function i0(t,e){if((a=t.length)>1)for(var n=1,r,s,i=t[e[0]],a,o=i.length;n<a;++n)for(s=i,i=t[e[n]],r=0;r<o;++r)i[r][1]+=i[r][0]=isNaN(s[r][1])?s[r][0]:s[r][1]}function oF(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function qVe(t,e){return t[e]}function GVe(t){const e=[];return e.key=t,e}function KVe(){var t=ri([]),e=oF,n=i0,r=qVe;function s(i){var a=Array.from(t.apply(this,arguments),GVe),o,c=a.length,u=-1,d;for(const f of i)for(o=0,++u;o<c;++o)(a[o][u]=[0,+r(f,a[o].key,u,i)]).data=f;for(o=0,d=nP(e(a));o<c;++o)a[d[o]].index=o;return n(a,d),a}return s.keys=function(i){return arguments.length?(t=typeof i=="function"?i:ri(Array.from(i)),s):t},s.value=function(i){return arguments.length?(r=typeof i=="function"?i:ri(+i),s):r},s.order=function(i){return arguments.length?(e=i==null?oF:typeof i=="function"?i:ri(Array.from(i)),s):e},s.offset=function(i){return arguments.length?(n=i??i0,s):n},s}function XVe(t,e){if((r=t.length)>0){for(var n,r,s=0,i=t[0].length,a;s<i;++s){for(a=n=0;n<r;++n)a+=t[n][s][1]||0;if(a)for(n=0;n<r;++n)t[n][s][1]/=a}i0(t,e)}}function YVe(t,e){if((s=t.length)>0){for(var n=0,r=t[e[0]],s,i=r.length;n<i;++n){for(var a=0,o=0;a<s;++a)o+=t[a][n][1]||0;r[n][1]+=r[n][0]=-o/2}i0(t,e)}}function JVe(t,e){if(!(!((a=t.length)>0)||!((i=(s=t[e[0]]).length)>0))){for(var n=0,r=1,s,i,a;r<i;++r){for(var o=0,c=0,u=0;o<a;++o){for(var d=t[e[o]],f=d[r][1]||0,h=d[r-1][1]||0,m=(f-h)/2,g=0;g<o;++g){var y=t[e[g]],x=y[r][1]||0,v=y[r-1][1]||0;m+=x-v}c+=f,u+=m*f}s[r-1][1]+=s[r-1][0]=n,c&&(n-=u/c)}s[r-1][1]+=s[r-1][0]=n,i0(t,e)}}var d_={},f_={},FH;function ZVe(){return FH||(FH=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(f_)),f_}var A_={},DH;function coe(){return DH||(DH=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(A_)),A_}var h_={},LH;function sP(){return LH||(LH=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(h_)),h_}var p_={},m_={},$H;function eqe(){return $H||($H=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(m_)),m_}var PH;function iP(){return PH||(PH=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eqe(),n=sP();function r(s){if(Array.isArray(s))return s.map(n.toKey);if(typeof s=="symbol")return[s];s=e.toString(s);const i=[],a=s.length;if(a===0)return i;let o=0,c="",u="",d=!1;for(s.charCodeAt(0)===46&&(i.push(""),o++);o<a;){const f=s[o];u?f==="\\"&&o+1<a?(o++,c+=s[o]):f===u?u="":c+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,i.push(c),c=""):c+=f:f==="["?(d=!0,c&&(i.push(c),c="")):f==="."?c&&(i.push(c),c=""):c+=f,o++}return c&&i.push(c),i}t.toPath=r})(p_)),p_}var UH;function aP(){return UH||(UH=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ZVe(),n=coe(),r=sP(),s=iP();function i(o,c,u){if(o==null)return u;switch(typeof c){case"string":{if(e.isUnsafeProperty(c))return u;const d=o[c];return d===void 0?n.isDeepKey(c)?i(o,s.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const d=o[c];return d===void 0?u:d}default:{if(Array.isArray(c))return a(o,c,u);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),e.isUnsafeProperty(c))return u;const d=o[c];return d===void 0?u:d}}}function a(o,c,u){if(c.length===0)return u;let d=o;for(let f=0;f<c.length;f++){if(d==null||e.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}t.get=i})(d_)),d_}var g_,zH;function tqe(){return zH||(zH=1,g_=aP().get),g_}var nqe=tqe();const a0=nc(nqe);var rqe=4;function Pp(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rqe,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function ia(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((s,i,a)=>{var o=n[a-1];return typeof o=="string"?s+o+i:o!==void 0?s+Pp(o)+i:s+i},"")}var Lo=t=>t===0?0:t>0?1:-1,af=t=>typeof t=="number"&&t!=+t,o0=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,nn=t=>(typeof t=="number"||t instanceof Number)&&!af(t),fA=t=>nn(t)||typeof t=="string",sqe=0,L2=t=>{var e=++sqe;return"".concat(t||"").concat(e)},Tl=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!nn(e)&&typeof e!="string")return r;var i;if(o0(e)){if(n==null)return r;var a=e.indexOf("%");i=n*parseFloat(e.slice(0,a))/100}else i=+e;return af(i)&&(i=r),s&&n!=null&&i>n&&(i=n),i},uoe=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function Ns(t,e,n){return nn(t)&&nn(e)?Pp(t+n*(e-t)):e}function doe(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):a0(r,e))===n)}var qi=t=>t===null||typeof t>"u",nS=t=>qi(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function Ec(t){return t!=null}function xA(){}var iqe=["type","size","sizeType"];function lF(){return lF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lF.apply(null,arguments)}function MH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function QH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MH(Object(n),!0).forEach(function(r){aqe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MH(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aqe(t,e,n){return(e=oqe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oqe(t){var e=lqe(t,"string");return typeof e=="symbol"?e:e+""}function lqe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cqe(t,e){if(t==null)return{};var n,r,s=uqe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function uqe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var foe={symbolCircle:rP,symbolCross:kVe,symbolDiamond:EVe,symbolSquare:IVe,symbolStar:_Ve,symbolTriangle:RVe,symbolWye:FVe},dqe=Math.PI/180,fqe=t=>{var e="symbol".concat(nS(t));return foe[e]||rP},Aqe=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*dqe;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},hqe=(t,e)=>{foe["symbol".concat(nS(t))]=e},oP=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,s=cqe(t,iqe),i=QH(QH({},s),{},{type:e,size:n,sizeType:r}),a="circle";typeof e=="string"&&(a=e);var o=()=>{var h=fqe(a),m=DVe().type(h).size(Aqe(n,r,a)),g=m();if(g!==null)return g},{className:c,cx:u,cy:d}=i,f=qa(i);return nn(u)&&nn(d)&&nn(n)?C.createElement("path",lF({},f,{className:yr("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:o()})):null};oP.registerSymbol=hqe;var Aoe=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,lP=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(C.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(s=>{Z$(s)&&(r[s]=(i=>n[s](n,i)))}),r},pqe=(t,e,n)=>r=>(t(e,n,r),null),T0=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(s=>{var i=t[s];Z$(s)&&typeof i=="function"&&(r||(r={}),r[s]=pqe(i,e,n))}),r};function HH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function mqe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HH(Object(n),!0).forEach(function(r){gqe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HH(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gqe(t,e,n){return(e=yqe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yqe(t){var e=xqe(t,"string");return typeof e=="symbol"?e:e+""}function xqe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wi(t,e){var n=mqe({},t),r=e,s=Object.keys(e),i=s.reduce((a,o)=>(a[o]===void 0&&r[o]!==void 0&&(a[o]=r[o]),a),n);return i}function h4(){return h4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h4.apply(null,arguments)}function WH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function bqe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WH(Object(n),!0).forEach(function(r){vqe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WH(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vqe(t,e,n){return(e=wqe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wqe(t){var e=Sqe(t,"string");return typeof e=="symbol"?e:e+""}function Sqe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uu=32,Cqe={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function kqe(t){var{data:e,iconType:n,inactiveColor:r}=t,s=Uu/2,i=Uu/6,a=Uu/3,o=e.inactive?r:e.color,c=n??e.type;if(c==="none")return null;if(c==="plainline"){var u;return C.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(u=e.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:s,x2:Uu,y2:s,className:"recharts-legend-icon"})}if(c==="line")return C.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(s,"h").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*a,",").concat(s,`
            H`).concat(Uu,"M").concat(2*a,",").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(a,",").concat(s),className:"recharts-legend-icon"});if(c==="rect")return C.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Uu/8,"h").concat(Uu,"v").concat(Uu*3/4,"h").concat(-Uu,"z"),className:"recharts-legend-icon"});if(C.isValidElement(e.legendIcon)){var d=bqe({},e);return delete d.legendIcon,C.cloneElement(e.legendIcon,d)}return C.createElement(oP,{fill:o,cx:s,cy:s,size:Uu,sizeType:"diameter",type:c})}function Bqe(t){var{payload:e,iconSize:n,layout:r,formatter:s,inactiveColor:i,iconType:a}=t,o={x:0,y:0,width:Uu,height:Uu},c={display:r==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((d,f)=>{var h=d.formatter||s,m=yr({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var g=d.inactive?i:d.color,y=h?h(d.value,d,f):d.value;return C.createElement("li",h4({className:m,style:c,key:"legend-item-".concat(f)},T0(t,d,f)),C.createElement(eP,{width:n,height:n,viewBox:o,style:u,"aria-label":"".concat(y," legend icon")},C.createElement(kqe,{data:d,iconType:a,inactiveColor:i})),C.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},y))})}var Eqe=t=>{var e=wi(t,Cqe),{payload:n,layout:r,align:s}=e;if(!n||!n.length)return null;var i={padding:0,margin:0,textAlign:r==="horizontal"?s:"left"};return C.createElement("ul",{className:"recharts-default-legend",style:i},C.createElement(Bqe,h4({},e,{payload:n})))},y_={},x_={},VH;function Iqe(){return VH||(VH=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const s=new Map;for(let i=0;i<n.length;i++){const a=n[i],o=r(a,i,n);s.has(o)||s.set(o,a)}return Array.from(s.values())}t.uniqBy=e})(x_)),x_}var b_={},qH;function Nqe(){return qH||(qH=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return function(...s){return n.apply(this,s.slice(0,r))}}t.ary=e})(b_)),b_}var v_={},GH;function n3(){return GH||(GH=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(v_)),v_}var w_={},S_={},C_={},KH;function jqe(){return KH||(KH=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(C_)),C_}var XH;function cP(){return XH||(XH=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jqe();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(S_)),S_}var k_={},YH;function Tqe(){return YH||(YH=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(k_)),k_}var JH;function _qe(){return JH||(JH=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cP(),n=Tqe();function r(s){return n.isObjectLike(s)&&e.isArrayLike(s)}t.isArrayLikeObject=r})(w_)),w_}var B_={},E_={},ZH;function Rqe(){return ZH||(ZH=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aP();function n(r){return function(s){return e.get(s,r)}}t.property=n})(E_)),E_}var I_={},N_={},j_={},T_={},eW;function hoe(){return eW||(eW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(T_)),T_}var __={},tW;function poe(){return tW||(tW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(__)),__}var R_={},nW;function moe(){return nW||(nW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.isEqualsSameValueZero=e})(R_)),R_}var rW;function Oqe(){return rW||(rW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hoe(),n=poe(),r=moe();function s(d,f,h){return typeof h!="function"?s(d,f,()=>{}):i(d,f,function m(g,y,x,v,w,B){const k=h(g,y,x,v,w,B);return k!==void 0?!!k:i(g,y,m,B)},new Map)}function i(d,f,h,m){if(f===d)return!0;switch(typeof f){case"object":return a(d,f,h,m);case"function":return Object.keys(f).length>0?i(d,{...f},h,m):r.isEqualsSameValueZero(d,f);default:return e.isObject(d)?typeof f=="string"?f==="":!0:r.isEqualsSameValueZero(d,f)}}function a(d,f,h,m){if(f==null)return!0;if(Array.isArray(f))return c(d,f,h,m);if(f instanceof Map)return o(d,f,h,m);if(f instanceof Set)return u(d,f,h,m);const g=Object.keys(f);if(d==null||n.isPrimitive(d))return g.length===0;if(g.length===0)return!0;if(m?.has(f))return m.get(f)===d;m?.set(f,d);try{for(let y=0;y<g.length;y++){const x=g[y];if(!n.isPrimitive(d)&&!(x in d)||f[x]===void 0&&d[x]!==void 0||f[x]===null&&d[x]!==null||!h(d[x],f[x],x,d,f,m))return!1}return!0}finally{m?.delete(f)}}function o(d,f,h,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[g,y]of f.entries()){const x=d.get(g);if(h(x,y,g,d,f,m)===!1)return!1}return!0}function c(d,f,h,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const g=new Set;for(let y=0;y<f.length;y++){const x=f[y];let v=!1;for(let w=0;w<d.length;w++){if(g.has(w))continue;const B=d[w];let k=!1;if(h(B,x,y,d,f,m)&&(k=!0),k){g.add(w),v=!0;break}}if(!v)return!1}return!0}function u(d,f,h,m){return f.size===0?!0:d instanceof Set?c([...d],[...f],h,m):!1}t.isMatchWith=s,t.isSetMatch=u})(j_)),j_}var sW;function goe(){return sW||(sW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Oqe();function n(r,s){return e.isMatchWith(r,s,()=>{})}t.isMatch=n})(N_)),N_}var O_={},F_={},D_={},iW;function Fqe(){return iW||(iW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(D_)),D_}var L_={},aW;function uP(){return aW||(aW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(L_)),L_}var $_={},oW;function yoe(){return oW||(oW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",s="[object Boolean]",i="[object Arguments]",a="[object Symbol]",o="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",g="[object Error]",y="[object DataView]",x="[object Uint8Array]",v="[object Uint8ClampedArray]",w="[object Uint16Array]",B="[object Uint32Array]",k="[object BigUint64Array]",E="[object Int8Array]",N="[object Int16Array]",O="[object Int32Array]",F="[object BigInt64Array]",D="[object Float32Array]",T="[object Float64Array]";t.argumentsTag=i,t.arrayBufferTag=h,t.arrayTag=d,t.bigInt64ArrayTag=F,t.bigUint64ArrayTag=k,t.booleanTag=s,t.dataViewTag=y,t.dateTag=o,t.errorTag=g,t.float32ArrayTag=D,t.float64ArrayTag=T,t.functionTag=f,t.int16ArrayTag=N,t.int32ArrayTag=O,t.int8ArrayTag=E,t.mapTag=c,t.numberTag=r,t.objectTag=m,t.regexpTag=e,t.setTag=u,t.stringTag=n,t.symbolTag=a,t.uint16ArrayTag=w,t.uint32ArrayTag=B,t.uint8ArrayTag=x,t.uint8ClampedArrayTag=v})($_)),$_}var P_={},lW;function Dqe(){return lW||(lW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(P_)),P_}var cW;function xoe(){return cW||(cW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Fqe(),n=uP(),r=yoe(),s=poe(),i=Dqe();function a(d,f){return o(d,void 0,d,new Map,f)}function o(d,f,h,m=new Map,g=void 0){const y=g?.(d,f,h,m);if(y!==void 0)return y;if(s.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const x=new Array(d.length);m.set(d,x);for(let v=0;v<d.length;v++)x[v]=o(d[v],v,h,m,g);return Object.hasOwn(d,"index")&&(x.index=d.index),Object.hasOwn(d,"input")&&(x.input=d.input),x}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const x=new RegExp(d.source,d.flags);return x.lastIndex=d.lastIndex,x}if(d instanceof Map){const x=new Map;m.set(d,x);for(const[v,w]of d)x.set(v,o(w,v,h,m,g));return x}if(d instanceof Set){const x=new Set;m.set(d,x);for(const v of d)x.add(o(v,void 0,h,m,g));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const x=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,x);for(let v=0;v<d.length;v++)x[v]=o(d[v],v,h,m,g);return x}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const x=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,x),c(x,d,h,m,g),x}if(typeof File<"u"&&d instanceof File){const x=new File([d],d.name,{type:d.type});return m.set(d,x),c(x,d,h,m,g),x}if(typeof Blob<"u"&&d instanceof Blob){const x=new Blob([d],{type:d.type});return m.set(d,x),c(x,d,h,m,g),x}if(d instanceof Error){const x=new d.constructor;return m.set(d,x),x.message=d.message,x.name=d.name,x.stack=d.stack,x.cause=d.cause,c(x,d,h,m,g),x}if(d instanceof Boolean){const x=new Boolean(d.valueOf());return m.set(d,x),c(x,d,h,m,g),x}if(d instanceof Number){const x=new Number(d.valueOf());return m.set(d,x),c(x,d,h,m,g),x}if(d instanceof String){const x=new String(d.valueOf());return m.set(d,x),c(x,d,h,m,g),x}if(typeof d=="object"&&u(d)){const x=Object.create(Object.getPrototypeOf(d));return m.set(d,x),c(x,d,h,m,g),x}return d}function c(d,f,h=d,m,g){const y=[...Object.keys(f),...e.getSymbols(f)];for(let x=0;x<y.length;x++){const v=y[x],w=Object.getOwnPropertyDescriptor(d,v);(w==null||w.writable)&&(d[v]=o(f[v],v,h,m,g))}}function u(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=a,t.cloneDeepWithImpl=o,t.copyProperties=c})(F_)),F_}var uW;function Lqe(){return uW||(uW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xoe();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(O_)),O_}var dW;function $qe(){return dW||(dW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=goe(),n=Lqe();function r(s){return s=n.cloneDeep(s),i=>e.isMatch(i,s)}t.matches=r})(I_)),I_}var U_={},z_={},M_={},fW;function Pqe(){return fW||(fW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xoe(),n=uP(),r=yoe();function s(i,a){return e.cloneDeepWith(i,(o,c,u,d)=>{const f=a?.(o,c,u,d);if(f!==void 0)return f;if(typeof i=="object"){if(n.getTag(i)===r.objectTag&&typeof i.constructor!="function"){const h={};return d.set(i,h),e.copyProperties(h,i,u,d),h}switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const h=new i.constructor(i?.valueOf());return e.copyProperties(h,i),h}case r.argumentsTag:{const h={};return e.copyProperties(h,i),h.length=i.length,h[Symbol.iterator]=i[Symbol.iterator],h}default:return}}})}t.cloneDeepWith=s})(M_)),M_}var AW;function Uqe(){return AW||(AW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Pqe();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(z_)),z_}var Q_={},H_={},hW;function boe(){return hW||(hW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,s=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<s;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(H_)),H_}var W_={},pW;function zqe(){return pW||(pW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uP();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(W_)),W_}var mW;function Mqe(){return mW||(mW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=coe(),n=boe(),r=zqe(),s=iP();function i(a,o){let c;if(Array.isArray(o)?c=o:typeof o=="string"&&e.isDeepKey(o)&&a?.[o]==null?c=s.toPath(o):c=[o],c.length===0)return!1;let u=a;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||r.isArguments(u))&&n.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}t.has=i})(Q_)),Q_}var gW;function Qqe(){return gW||(gW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=goe(),n=sP(),r=Uqe(),s=aP(),i=Mqe();function a(o,c){switch(typeof o){case"object":{Object.is(o?.valueOf(),-0)&&(o="-0");break}case"number":{o=n.toKey(o);break}}return c=r.cloneDeep(c),function(u){const d=s.get(u,o);return d===void 0?i.has(u,o):c===void 0?d===void 0:e.isMatch(d,c)}}t.matchesProperty=a})(U_)),U_}var yW;function dP(){return yW||(yW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=n3(),n=Rqe(),r=$qe(),s=Qqe();function i(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?s.matchesProperty(a[0],a[1]):r.matches(a);case"string":case"symbol":case"number":return n.property(a)}}t.iteratee=i})(B_)),B_}var xW;function Hqe(){return xW||(xW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Iqe(),n=Nqe(),r=n3(),s=_qe(),i=dP();function a(o,c=r.identity){return s.isArrayLikeObject(o)?e.uniqBy(Array.from(o),n.ary(i.iteratee(c),1)):[]}t.uniqBy=a})(y_)),y_}var V_,bW;function Wqe(){return bW||(bW=1,V_=Hqe().uniqBy),V_}var Vqe=Wqe();const vW=nc(Vqe);function voe(t,e,n){return e===!0?vW(t,n):typeof e=="function"?vW(t,e):t}var q_={exports:{}},G_={},K_={exports:{}},X_={};var wW;function qqe(){if(wW)return X_;wW=1;var t=F1();function e(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,i=t.useLayoutEffect,a=t.useDebugValue;function o(f,h){var m=h(),g=r({inst:{value:m,getSnapshot:h}}),y=g[0].inst,x=g[1];return i(function(){y.value=m,y.getSnapshot=h,c(y)&&x({inst:y})},[f,m,h]),s(function(){return c(y)&&x({inst:y}),f(function(){c(y)&&x({inst:y})})},[f]),a(m),m}function c(f){var h=f.getSnapshot;f=f.value;try{var m=h();return!n(f,m)}catch{return!0}}function u(f,h){return h()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:o;return X_.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,X_}var SW;function Gqe(){return SW||(SW=1,K_.exports=qqe()),K_.exports}var CW;function Kqe(){if(CW)return G_;CW=1;var t=F1(),e=Gqe();function n(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var r=typeof Object.is=="function"?Object.is:n,s=e.useSyncExternalStore,i=t.useRef,a=t.useEffect,o=t.useMemo,c=t.useDebugValue;return G_.useSyncExternalStoreWithSelector=function(u,d,f,h,m){var g=i(null);if(g.current===null){var y={hasValue:!1,value:null};g.current=y}else y=g.current;g=o(function(){function v(N){if(!w){if(w=!0,B=N,N=h(N),m!==void 0&&y.hasValue){var O=y.value;if(m(O,N))return k=O}return k=N}if(O=k,r(B,N))return O;var F=h(N);return m!==void 0&&m(O,F)?(B=N,O):(B=N,k=F)}var w=!1,B,k,E=f===void 0?null:f;return[function(){return v(d())},E===null?void 0:function(){return v(E())}]},[d,f,h,m]);var x=s(u,g[0],g[1]);return a(function(){y.hasValue=!0,y.value=x},[x]),c(x),x},G_}var kW;function Xqe(){return kW||(kW=1,q_.exports=Kqe()),q_.exports}var Yqe=Xqe(),fP=C.createContext(null),Jqe=t=>t,Ws=()=>{var t=C.useContext(fP);return t?t.store.dispatch:Jqe},fB=()=>{},Zqe=()=>fB,eGe=(t,e)=>t===e;function Xt(t){var e=C.useContext(fP),n=C.useMemo(()=>e?r=>{if(r!=null)return t(r)}:fB,[e,t]);return Yqe.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:Zqe,e?e.store.getState:fB,e?e.store.getState:fB,n,eGe)}function tGe(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function nGe(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function rGe(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var BW=t=>Array.isArray(t)?t:[t];function sGe(t){const e=Array.isArray(t[0])?t[0]:t;return rGe(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function iGe(t,e){const n=[],{length:r}=t;for(let s=0;s<r;s++)n.push(t[s].apply(null,e));return n}var aGe=class{constructor(t){this.value=t}deref(){return this.value}},oGe=typeof WeakRef<"u"?WeakRef:aGe,lGe=0,EW=1;function WC(){return{s:lGe,v:void 0,o:null,p:null}}function woe(t,e={}){let n=WC();const{resultEqualityCheck:r}=e;let s,i=0;function a(){let o=n;const{length:c}=arguments;for(let f=0,h=c;f<h;f++){const m=arguments[f];if(typeof m=="function"||typeof m=="object"&&m!==null){let g=o.o;g===null&&(o.o=g=new WeakMap);const y=g.get(m);y===void 0?(o=WC(),g.set(m,o)):o=y}else{let g=o.p;g===null&&(o.p=g=new Map);const y=g.get(m);y===void 0?(o=WC(),g.set(m,o)):o=y}}const u=o;let d;if(o.s===EW)d=o.v;else if(d=t.apply(null,arguments),i++,r){const f=s?.deref?.()??s;f!=null&&r(f,d)&&(d=f,i!==0&&i--),s=typeof d=="object"&&d!==null||typeof d=="function"?new oGe(d):d}return u.s=EW,u.v=d,d}return a.clearCache=()=>{n=WC(),a.resetResultsCount()},a.resultsCount=()=>i,a.resetResultsCount=()=>{i=0},a}function cGe(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...s)=>{let i=0,a=0,o,c={},u=s.pop();typeof u=="object"&&(c=u,u=s.pop()),tGe(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...n,...c},{memoize:f,memoizeOptions:h=[],argsMemoize:m=woe,argsMemoizeOptions:g=[]}=d,y=BW(h),x=BW(g),v=sGe(s),w=f(function(){return i++,u.apply(null,arguments)},...y),B=m(function(){a++;const E=iGe(v,arguments);return o=w.apply(null,E),o},...x);return Object.assign(B,{resultFunc:u,memoizedResultFunc:w,dependencies:v,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>o,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var Ve=cGe(woe),uGe=Object.assign((t,e=Ve)=>{nGe(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(i=>t[i]);return e(r,(...i)=>i.reduce((a,o,c)=>(a[n[c]]=o,a),{}))},{withTypes:()=>uGe}),Y_={},J_={},Z_={},IW;function dGe(){return IW||(IW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,s,i)=>{if(r!==s){const a=e(r),o=e(s);if(a===o&&a===0){if(r<s)return i==="desc"?1:-1;if(r>s)return i==="desc"?-1:1}return i==="desc"?o-a:a-o}return 0};t.compareValues=n})(Z_)),Z_}var eR={},tR={},NW;function Soe(){return NW||(NW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(tR)),tR}var jW;function fGe(){return jW||(jW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Soe(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function s(i,a){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||e.isSymbol(i)?!0:typeof i=="string"&&(r.test(i)||!n.test(i))||a!=null&&Object.hasOwn(a,i)}t.isKey=s})(eR)),eR}var TW;function AGe(){return TW||(TW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dGe(),n=fGe(),r=iP();function s(i,a,o,c){if(i==null)return[];o=c?void 0:o,Array.isArray(i)||(i=Object.values(i)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(m=>String(m));const u=(m,g)=>{let y=m;for(let x=0;x<g.length&&y!=null;++x)y=y[g[x]];return y},d=(m,g)=>g==null||m==null?g:typeof m=="object"&&"key"in m?Object.hasOwn(g,m.key)?g[m.key]:u(g,m.path):typeof m=="function"?m(g):Array.isArray(m)?u(g,m):typeof g=="object"?g[m]:g,f=a.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||n.isKey(m)?m:{key:m,path:r.toPath(m)}));return i.map(m=>({original:m,criteria:f.map(g=>d(g,m))})).slice().sort((m,g)=>{for(let y=0;y<f.length;y++){const x=e.compareValues(m.criteria[y],g.criteria[y],o[y]);if(x!==0)return x}return 0}).map(m=>m.original)}t.orderBy=s})(J_)),J_}var nR={},_W;function hGe(){return _W||(_W=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const s=[],i=Math.floor(r),a=(o,c)=>{for(let u=0;u<o.length;u++){const d=o[u];Array.isArray(d)&&c<i?a(d,c+1):s.push(d)}};return a(n,0),s}t.flatten=e})(nR)),nR}var rR={},RW;function Coe(){return RW||(RW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=boe(),n=cP(),r=hoe(),s=moe();function i(a,o,c){return r.isObject(c)&&(typeof o=="number"&&n.isArrayLike(c)&&e.isIndex(o)&&o<c.length||typeof o=="string"&&o in c)?s.isEqualsSameValueZero(c[o],a):!1}t.isIterateeCall=i})(rR)),rR}var OW;function pGe(){return OW||(OW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=AGe(),n=hGe(),r=Coe();function s(i,...a){const o=a.length;return o>1&&r.isIterateeCall(i,a[0],a[1])?a=[]:o>2&&r.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(i,n.flatten(a),["asc"])}t.sortBy=s})(Y_)),Y_}var sR,FW;function mGe(){return FW||(FW=1,sR=pGe().sortBy),sR}var gGe=mGe();const r3=nc(gGe);var koe=t=>t.legend.settings,yGe=t=>t.legend.size,xGe=t=>t.legend.payload,bGe=Ve([xGe,koe],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?r3(r,n):r});function vGe(){return Xt(bGe)}var VC=1;function Boe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=C.useState({height:0,left:0,top:0,width:0}),r=C.useCallback(s=>{if(s!=null){var i=s.getBoundingClientRect(),a={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(a.height-e.height)>VC||Math.abs(a.left-e.left)>VC||Math.abs(a.top-e.top)>VC||Math.abs(a.width-e.width)>VC)&&n({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function nl(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var wGe=typeof Symbol=="function"&&Symbol.observable||"@@observable",DW=wGe,iR=()=>Math.random().toString(36).substring(7).split("").join("."),SGe={INIT:`@@redux/INIT${iR()}`,REPLACE:`@@redux/REPLACE${iR()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${iR()}`},p4=SGe;function AP(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function Eoe(t,e,n){if(typeof t!="function")throw new Error(nl(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(nl(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(nl(1));return n(Eoe)(t,e)}let r=t,s=e,i=new Map,a=i,o=0,c=!1;function u(){a===i&&(a=new Map,i.forEach((x,v)=>{a.set(v,x)}))}function d(){if(c)throw new Error(nl(3));return s}function f(x){if(typeof x!="function")throw new Error(nl(4));if(c)throw new Error(nl(5));let v=!0;u();const w=o++;return a.set(w,x),function(){if(v){if(c)throw new Error(nl(6));v=!1,u(),a.delete(w),i=null}}}function h(x){if(!AP(x))throw new Error(nl(7));if(typeof x.type>"u")throw new Error(nl(8));if(typeof x.type!="string")throw new Error(nl(17));if(c)throw new Error(nl(9));try{c=!0,s=r(s,x)}finally{c=!1}return(i=a).forEach(w=>{w()}),x}function m(x){if(typeof x!="function")throw new Error(nl(10));r=x,h({type:p4.REPLACE})}function g(){const x=f;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(nl(11));function w(){const k=v;k.next&&k.next(d())}return w(),{unsubscribe:x(w)}},[DW](){return this}}}return h({type:p4.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[DW]:g}}function CGe(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:p4.INIT})>"u")throw new Error(nl(12));if(typeof n(void 0,{type:p4.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(nl(13))})}function Ioe(t){const e=Object.keys(t),n={};for(let i=0;i<e.length;i++){const a=e[i];typeof t[a]=="function"&&(n[a]=t[a])}const r=Object.keys(n);let s;try{CGe(n)}catch(i){s=i}return function(a={},o){if(s)throw s;let c=!1;const u={};for(let d=0;d<r.length;d++){const f=r[d],h=n[f],m=a[f],g=h(m,o);if(typeof g>"u")throw o&&o.type,new Error(nl(14));u[f]=g,c=c||g!==m}return c=c||r.length!==Object.keys(a).length,c?u:a}}function m4(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function kGe(...t){return e=>(n,r)=>{const s=e(n,r);let i=()=>{throw new Error(nl(15))};const a={getState:s.getState,dispatch:(c,...u)=>i(c,...u)},o=t.map(c=>c(a));return i=m4(...o)(s.dispatch),{...s,dispatch:i}}}function Noe(t){return AP(t)&&"type"in t&&typeof t.type=="string"}var joe=Symbol.for("immer-nothing"),LW=Symbol.for("immer-draftable"),tc=Symbol.for("immer-state");function Wd(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var cu=Object,I1=cu.getPrototypeOf,g4="constructor",s3="prototype",cF="configurable",y4="enumerable",AB="writable",$2="value",Bh=t=>!!t&&!!t[tc];function of(t){return t?Toe(t)||a3(t)||!!t[LW]||!!t[g4]?.[LW]||o3(t)||l3(t):!1}var BGe=cu[s3][g4].toString(),$W=new WeakMap;function Toe(t){if(!t||!hP(t))return!1;const e=I1(t);if(e===null||e===cu[s3])return!0;const n=cu.hasOwnProperty.call(e,g4)&&e[g4];if(n===Object)return!0;if(!Py(n))return!1;let r=$W.get(n);return r===void 0&&(r=Function.toString.call(n),$W.set(n,r)),r===BGe}function i3(t,e,n=!0){rS(t)===0?(n?Reflect.ownKeys(t):cu.keys(t)).forEach(s=>{e(s,t[s],t)}):t.forEach((r,s)=>e(s,r,t))}function rS(t){const e=t[tc];return e?e.type_:a3(t)?1:o3(t)?2:l3(t)?3:0}var PW=(t,e,n=rS(t))=>n===2?t.has(e):cu[s3].hasOwnProperty.call(t,e),uF=(t,e,n=rS(t))=>n===2?t.get(e):t[e],x4=(t,e,n,r=rS(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function EGe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var a3=Array.isArray,o3=t=>t instanceof Map,l3=t=>t instanceof Set,hP=t=>typeof t=="object",Py=t=>typeof t=="function",aR=t=>typeof t=="boolean";function IGe(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var rh=t=>t.copy_||t.base_,pP=t=>t.modified_?t.copy_:t.base_;function dF(t,e){if(o3(t))return new Map(t);if(l3(t))return new Set(t);if(a3(t))return Array[s3].slice.call(t);const n=Toe(t);if(e===!0||e==="class_only"&&!n){const r=cu.getOwnPropertyDescriptors(t);delete r[tc];let s=Reflect.ownKeys(r);for(let i=0;i<s.length;i++){const a=s[i],o=r[a];o[AB]===!1&&(o[AB]=!0,o[cF]=!0),(o.get||o.set)&&(r[a]={[cF]:!0,[AB]:!0,[y4]:o[y4],[$2]:t[a]})}return cu.create(I1(t),r)}else{const r=I1(t);if(r!==null&&n)return{...t};const s=cu.create(r);return cu.assign(s,t)}}function mP(t,e=!1){return c3(t)||Bh(t)||!of(t)||(rS(t)>1&&cu.defineProperties(t,{set:qC,add:qC,clear:qC,delete:qC}),cu.freeze(t),e&&i3(t,(n,r)=>{mP(r,!0)},!1)),t}function NGe(){Wd(2)}var qC={[$2]:NGe};function c3(t){return t===null||!hP(t)?!0:cu.isFrozen(t)}var b4="MapSet",fF="Patches",UW="ArrayMethods",_oe={};function l0(t){const e=_oe[t];return e||Wd(0,t),e}var zW=t=>!!_oe[t],P2,Roe=()=>P2,jGe=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:zW(b4)?l0(b4):void 0,arrayMethodsPlugin_:zW(UW)?l0(UW):void 0});function MW(t,e){e&&(t.patchPlugin_=l0(fF),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function AF(t){hF(t),t.drafts_.forEach(TGe),t.drafts_=null}function hF(t){t===P2&&(P2=t.parent_)}var QW=t=>P2=jGe(P2,t);function TGe(t){const e=t[tc];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function HW(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[tc].modified_&&(AF(e),Wd(4)),of(t)&&(t=WW(e,t));const{patchPlugin_:s}=e;s&&s.generateReplacementPatches_(n[tc].base_,t,e)}else t=WW(e,n);return _Ge(e,t,!0),AF(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==joe?t:void 0}function WW(t,e){if(c3(e))return e;const n=e[tc];if(!n)return v4(e,t.handledSet_,t);if(!u3(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);Doe(n,t)}return n.copy_}function _Ge(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&mP(e,n)}function Ooe(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var u3=(t,e)=>t.scope_===e,RGe=[];function Foe(t,e,n,r){const s=rh(t),i=t.type_;if(r!==void 0&&uF(s,r,i)===e){x4(s,r,n,i);return}if(!t.draftLocations_){const o=t.draftLocations_=new Map;i3(s,(c,u)=>{if(Bh(u)){const d=o.get(u)||[];d.push(c),o.set(u,d)}})}const a=t.draftLocations_.get(e)??RGe;for(const o of a)x4(s,o,n,i)}function OGe(t,e,n){t.callbacks_.push(function(s){const i=e;if(!i||!u3(i,s))return;s.mapSetPlugin_?.fixSetContents(i);const a=pP(i);Foe(t,i.draft_??i,a,n),Doe(i,s)})}function Doe(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(t.assigned_?.size??0)>0)){const{patchPlugin_:r}=e;if(r){const s=r.getPath(t);s&&r.generatePatches_(t,s,e)}Ooe(t)}}function FGe(t,e,n){const{scope_:r}=t;if(Bh(n)){const s=n[tc];u3(s,r)&&s.callbacks_.push(function(){hB(t);const a=pP(s);Foe(t,n,a,e)})}else of(n)&&t.callbacks_.push(function(){const i=rh(t);t.type_===3?i.has(n)&&v4(n,r.handledSet_,r):uF(i,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&v4(uF(t.copy_,e,t.type_),r.handledSet_,r)})}function v4(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Bh(t)||e.has(t)||!of(t)||c3(t)||(e.add(t),i3(t,(r,s)=>{if(Bh(s)){const i=s[tc];if(u3(i,n)){const a=pP(i);x4(t,r,a,t.type_),Ooe(i)}}else of(s)&&v4(s,e,n)})),t}function DGe(t,e){const n=a3(t),r={type_:n?1:0,scope_:e?e.scope_:Roe(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let s=r,i=w4;n&&(s=[r],i=U2);const{revoke:a,proxy:o}=Proxy.revocable(s,i);return r.draft_=o,r.revoke_=a,[o,r]}var w4={get(t,e){if(e===tc)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n?.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const s=rh(t);if(!PW(s,e,t.type_))return LGe(t,s,e);const i=s[e];if(t.finalized_||!of(i)||r&&t.operationMethod&&n?.isMutatingArrayMethod(t.operationMethod)&&IGe(e))return i;if(i===oR(t.base_,e)){hB(t);const a=t.type_===1?+e:e,o=mF(t.scope_,i,t,a);return t.copy_[a]=o}return i},has(t,e){return e in rh(t)},ownKeys(t){return Reflect.ownKeys(rh(t))},set(t,e,n){const r=Loe(rh(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const s=oR(rh(t),e),i=s?.[tc];if(i&&i.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(EGe(n,s)&&(n!==void 0||PW(t.base_,e,t.type_)))return!0;hB(t),pF(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),FGe(t,e,n)),!0},deleteProperty(t,e){return hB(t),oR(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),pF(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=rh(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[AB]:!0,[cF]:t.type_!==1||e!=="length",[y4]:r[y4],[$2]:n[e]}},defineProperty(){Wd(11)},getPrototypeOf(t){return I1(t.base_)},setPrototypeOf(){Wd(12)}},U2={};for(let t in w4){let e=w4[t];U2[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}U2.deleteProperty=function(t,e){return U2.set.call(this,t,e,void 0)};U2.set=function(t,e,n){return w4.set.call(this,t[0],e,n,t[0])};function oR(t,e){const n=t[tc];return(n?rh(n):t)[e]}function LGe(t,e,n){const r=Loe(e,n);return r?$2 in r?r[$2]:r.get?.call(t.draft_):void 0}function Loe(t,e){if(!(e in t))return;let n=I1(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=I1(n)}}function pF(t){t.modified_||(t.modified_=!0,t.parent_&&pF(t.parent_))}function hB(t){t.copy_||(t.assigned_=new Map,t.copy_=dF(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var $Ge=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,s)=>{if(Py(n)&&!Py(r)){const a=r;r=n;const o=this;return function(u=a,...d){return o.produce(u,f=>r.call(this,f,...d))}}Py(r)||Wd(6),s!==void 0&&!Py(s)&&Wd(7);let i;if(of(n)){const a=QW(this),o=mF(a,n,void 0);let c=!0;try{i=r(o),c=!1}finally{c?AF(a):hF(a)}return MW(a,s),HW(i,a)}else if(!n||!hP(n)){if(i=r(n),i===void 0&&(i=n),i===joe&&(i=void 0),this.autoFreeze_&&mP(i,!0),s){const a=[],o=[];l0(fF).generateReplacementPatches_(n,i,{patches_:a,inversePatches_:o}),s(a,o)}return i}else Wd(1,n)},this.produceWithPatches=(n,r)=>{if(Py(n))return(o,...c)=>this.produceWithPatches(o,u=>n(u,...c));let s,i;return[this.produce(n,r,(o,c)=>{s=o,i=c}),s,i]},aR(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),aR(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),aR(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){of(e)||Wd(8),Bh(e)&&(e=Jd(e));const n=QW(this),r=mF(n,e,void 0);return r[tc].isManual_=!0,hF(n),r}finishDraft(e,n){const r=e&&e[tc];(!r||!r.isManual_)&&Wd(9);const{scope_:s}=r;return MW(s,n),HW(void 0,s)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const i=n[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(n=n.slice(r+1));const s=l0(fF).applyPatches_;return Bh(e)?s(e,n):this.produce(e,i=>s(i,n))}};function mF(t,e,n,r){const[s,i]=o3(e)?l0(b4).proxyMap_(e,n):l3(e)?l0(b4).proxySet_(e,n):DGe(e,n);return(n?.scope_??Roe()).drafts_.push(s),i.callbacks_=n?.callbacks_??[],i.key_=r,n&&r!==void 0?OGe(n,i,r):i.callbacks_.push(function(c){c.mapSetPlugin_?.fixSetContents(i);const{patchPlugin_:u}=c;i.modified_&&u&&u.generatePatches_(i,[],c)}),s}function Jd(t){return Bh(t)||Wd(10,t),$oe(t)}function $oe(t){if(!of(t)||c3(t))return t;const e=t[tc];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=dF(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=dF(t,!0);return i3(n,(s,i)=>{x4(n,s,$oe(i))},r),e&&(e.finalized_=!1),n}var PGe=new $Ge,Poe=PGe.produce;function Uoe(t){return({dispatch:n,getState:r})=>s=>i=>typeof i=="function"?i(n,r,t):s(i)}var UGe=Uoe(),zGe=Uoe,MGe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?m4:m4.apply(null,arguments)};function sd(t,e){function n(...r){if(e){let s=e(...r);if(!s)throw new Error(Au(0));return{type:t,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>Noe(r)&&r.type===t,n}var zoe=class Qv extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Qv.prototype)}static get[Symbol.species](){return Qv}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Qv(...e[0].concat(this)):new Qv(...e.concat(this))}};function VW(t){return of(t)?Poe(t,()=>{}):t}function GC(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function QGe(t){return typeof t=="boolean"}var HGe=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=e??{};let a=new zoe;return n&&(QGe(n)?a.push(UGe):a.push(zGe(n.extraArgument))),a},Moe="RTK_autoBatch",Li=()=>t=>({payload:t,meta:{[Moe]:!0}}),qW=t=>e=>{setTimeout(e,t)},Qoe=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let s=!0,i=!1,a=!1;const o=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:qW(10):t.type==="callback"?t.queueNotification:qW(t.timeout),u=()=>{a=!1,i&&(i=!1,o.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const f=()=>s&&d(),h=r.subscribe(f);return o.add(d),()=>{h(),o.delete(d)}},dispatch(d){try{return s=!d?.meta?.[Moe],i=!s,i&&(a||(a=!0,c(u))),r.dispatch(d)}finally{s=!0}}})},WGe=t=>function(n){const{autoBatch:r=!0}=n??{};let s=new zoe(t);return r&&s.push(Qoe(typeof r=="object"?r:void 0)),s};function VGe(t){const e=HGe(),{reducer:n=void 0,middleware:r,devTools:s=!0,preloadedState:i=void 0,enhancers:a=void 0}=t||{};let o;if(typeof n=="function")o=n;else if(AP(n))o=Ioe(n);else throw new Error(Au(1));let c;typeof r=="function"?c=r(e):c=e();let u=m4;s&&(u=MGe({trace:!1,...typeof s=="object"&&s}));const d=kGe(...c),f=WGe(d);let h=typeof a=="function"?a(f):f();const m=u(...h);return Eoe(o,i,m)}function Hoe(t){const e={},n=[];let r;const s={addCase(i,a){const o=typeof i=="string"?i:i.type;if(!o)throw new Error(Au(28));if(o in e)throw new Error(Au(29));return e[o]=a,s},addAsyncThunk(i,a){return a.pending&&(e[i.pending.type]=a.pending),a.rejected&&(e[i.rejected.type]=a.rejected),a.fulfilled&&(e[i.fulfilled.type]=a.fulfilled),a.settled&&n.push({matcher:i.settled,reducer:a.settled}),s},addMatcher(i,a){return n.push({matcher:i,reducer:a}),s},addDefaultCase(i){return r=i,s}};return t(s),[e,n,r]}function qGe(t){return typeof t=="function"}function GGe(t,e){let[n,r,s]=Hoe(e),i;if(qGe(t))i=()=>VW(t());else{const o=VW(t);i=()=>o}function a(o=i(),c){let u=[n[c.type],...r.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[s]),u.reduce((d,f)=>{if(f)if(Bh(d)){const m=f(d,c);return m===void 0?d:m}else{if(of(d))return Poe(d,h=>f(h,c));{const h=f(d,c);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},o)}return a.getInitialState=i,a}var KGe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",XGe=(t=21)=>{let e="",n=t;for(;n--;)e+=KGe[Math.random()*64|0];return e},YGe=Symbol.for("rtk-slice-createasyncthunk");function JGe(t,e){return`${t}/${e}`}function ZGe({creators:t}={}){const e=t?.asyncThunk?.[YGe];return function(r){const{name:s,reducerPath:i=s}=r;if(!s)throw new Error(Au(11));const a=(typeof r.reducers=="function"?r.reducers(tKe()):r.reducers)||{},o=Object.keys(a),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(B,k){const E=typeof B=="string"?B:B.type;if(!E)throw new Error(Au(12));if(E in c.sliceCaseReducersByType)throw new Error(Au(13));return c.sliceCaseReducersByType[E]=k,u},addMatcher(B,k){return c.sliceMatchers.push({matcher:B,reducer:k}),u},exposeAction(B,k){return c.actionCreators[B]=k,u},exposeCaseReducer(B,k){return c.sliceCaseReducersByName[B]=k,u}};o.forEach(B=>{const k=a[B],E={reducerName:B,type:JGe(s,B),createNotation:typeof r.reducers=="function"};rKe(k)?iKe(E,k,u,e):nKe(E,k,u)});function d(){const[B={},k=[],E=void 0]=typeof r.extraReducers=="function"?Hoe(r.extraReducers):[r.extraReducers],N={...B,...c.sliceCaseReducersByType};return GGe(r.initialState,O=>{for(let F in N)O.addCase(F,N[F]);for(let F of c.sliceMatchers)O.addMatcher(F.matcher,F.reducer);for(let F of k)O.addMatcher(F.matcher,F.reducer);E&&O.addDefaultCase(E)})}const f=B=>B,h=new Map,m=new WeakMap;let g;function y(B,k){return g||(g=d()),g(B,k)}function x(){return g||(g=d()),g.getInitialState()}function v(B,k=!1){function E(O){let F=O[B];return typeof F>"u"&&k&&(F=GC(m,E,x)),F}function N(O=f){const F=GC(h,k,()=>new WeakMap);return GC(F,O,()=>{const D={};for(const[T,j]of Object.entries(r.selectors??{}))D[T]=eKe(j,O,()=>GC(m,O,x),k);return D})}return{reducerPath:B,getSelectors:N,get selectors(){return N(E)},selectSlice:E}}const w={name:s,reducer:y,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:x,...v(i),injectInto(B,{reducerPath:k,...E}={}){const N=k??i;return B.inject({reducerPath:N,reducer:y},E),{...w,...v(N,!0)}}};return w}}function eKe(t,e,n,r){function s(i,...a){let o=e(i);return typeof o>"u"&&r&&(o=n()),t(o,...a)}return s.unwrapped=t,s}var $c=ZGe();function tKe(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function nKe({type:t,reducerName:e,createNotation:n},r,s){let i,a;if("reducer"in r){if(n&&!sKe(r))throw new Error(Au(17));i=r.reducer,a=r.prepare}else i=r;s.addCase(t,i).exposeCaseReducer(e,i).exposeAction(e,a?sd(t,a):sd(t))}function rKe(t){return t._reducerDefinitionType==="asyncThunk"}function sKe(t){return t._reducerDefinitionType==="reducerWithPrepare"}function iKe({type:t,reducerName:e},n,r,s){if(!s)throw new Error(Au(18));const{payloadCreator:i,fulfilled:a,pending:o,rejected:c,settled:u,options:d}=n,f=s(t,i,d);r.exposeAction(e,f),a&&r.addCase(f.fulfilled,a),o&&r.addCase(f.pending,o),c&&r.addCase(f.rejected,c),u&&r.addMatcher(f.settled,u),r.exposeCaseReducer(e,{fulfilled:a||KC,pending:o||KC,rejected:c||KC,settled:u||KC})}function KC(){}var aKe="task",Woe="listener",Voe="completed",gP="cancelled",oKe=`task-${gP}`,lKe=`task-${Voe}`,gF=`${Woe}-${gP}`,cKe=`${Woe}-${Voe}`,d3=class{constructor(t){this.code=t,this.message=`${aKe} ${gP} (reason: ${t})`}name="TaskAbortError";message},yP=(t,e)=>{if(typeof t!="function")throw new TypeError(Au(32))},S4=()=>{},qoe=(t,e=S4)=>(t.catch(e),t),Goe=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Tg=t=>{if(t.aborted)throw new d3(t.reason)};function Koe(t,e){let n=S4;return new Promise((r,s)=>{const i=()=>s(new d3(t.reason));if(t.aborted){i();return}n=Goe(t,i),e.finally(()=>n()).then(r,s)}).finally(()=>{n=S4})}var uKe=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof d3?"cancelled":"rejected",error:n}}finally{e?.()}},C4=t=>e=>qoe(Koe(t,e).then(n=>(Tg(t),n))),Xoe=t=>{const e=C4(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:r1}=Object,GW={},f3="listenerMiddleware",dKe=(t,e)=>{const n=r=>Goe(t,()=>r.abort(t.reason));return(r,s)=>{yP(r);const i=new AbortController;n(i);const a=uKe(async()=>{Tg(t),Tg(i.signal);const o=await r({pause:C4(i.signal),delay:Xoe(i.signal),signal:i.signal});return Tg(i.signal),o},()=>i.abort(lKe));return s?.autoJoin&&e.push(a.catch(S4)),{result:C4(t)(a),cancel(){i.abort(oKe)}}}},fKe=(t,e)=>{const n=async(r,s)=>{Tg(e);let i=()=>{};const o=[new Promise((c,u)=>{let d=t({predicate:r,effect:(f,h)=>{h.unsubscribe(),c([f,h.getState(),h.getOriginalState()])}});i=()=>{d(),u()}})];s!=null&&o.push(new Promise(c=>setTimeout(c,s,null)));try{const c=await Koe(e,Promise.race(o));return Tg(e),c}finally{i()}};return(r,s)=>qoe(n(r,s))},Yoe=t=>{let{type:e,actionCreator:n,matcher:r,predicate:s,effect:i}=t;if(e)s=sd(e).match;else if(n)e=n.type,s=n.match;else if(r)s=r;else if(!s)throw new Error(Au(21));return yP(i),{predicate:s,type:e,effect:i}},Joe=r1(t=>{const{type:e,predicate:n,effect:r}=Yoe(t);return{id:XGe(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Au(22))}}},{withTypes:()=>Joe}),KW=(t,e)=>{const{type:n,effect:r,predicate:s}=Yoe(e);return Array.from(t.values()).find(i=>(typeof n=="string"?i.type===n:i.predicate===s)&&i.effect===r)},yF=t=>{t.pending.forEach(e=>{e.abort(gF)})},AKe=(t,e)=>()=>{for(const n of e.keys())yF(n);t.clear()},XW=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},Zoe=r1(sd(`${f3}/add`),{withTypes:()=>Zoe}),hKe=sd(`${f3}/removeAll`),ele=r1(sd(`${f3}/remove`),{withTypes:()=>ele}),pKe=(...t)=>{console.error(`${f3}/error`,...t)},sS=(t={})=>{const e=new Map,n=new Map,r=m=>{const g=n.get(m)??0;n.set(m,g+1)},s=m=>{const g=n.get(m)??1;g===1?n.delete(m):n.set(m,g-1)},{extra:i,onError:a=pKe}=t;yP(a);const o=m=>(m.unsubscribe=()=>e.delete(m.id),e.set(m.id,m),g=>{m.unsubscribe(),g?.cancelActive&&yF(m)}),c=m=>{const g=KW(e,m)??Joe(m);return o(g)};r1(c,{withTypes:()=>c});const u=m=>{const g=KW(e,m);return g&&(g.unsubscribe(),m.cancelActive&&yF(g)),!!g};r1(u,{withTypes:()=>u});const d=async(m,g,y,x)=>{const v=new AbortController,w=fKe(c,v.signal),B=[];try{m.pending.add(v),r(m),await Promise.resolve(m.effect(g,r1({},y,{getOriginalState:x,condition:(k,E)=>w(k,E).then(Boolean),take:w,delay:Xoe(v.signal),pause:C4(v.signal),extra:i,signal:v.signal,fork:dKe(v.signal,B),unsubscribe:m.unsubscribe,subscribe:()=>{e.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((k,E,N)=>{k!==v&&(k.abort(gF),N.delete(k))})},cancel:()=>{v.abort(gF),m.pending.delete(v)},throwIfCancelled:()=>{Tg(v.signal)}})))}catch(k){k instanceof d3||XW(a,k,{raisedBy:"effect"})}finally{await Promise.all(B),v.abort(cKe),s(m),m.pending.delete(v)}},f=AKe(e,n);return{middleware:m=>g=>y=>{if(!Noe(y))return g(y);if(Zoe.match(y))return c(y.payload);if(hKe.match(y)){f();return}if(ele.match(y))return u(y.payload);let x=m.getState();const v=()=>{if(x===GW)throw new Error(Au(23));return x};let w;try{if(w=g(y),e.size>0){const B=m.getState(),k=Array.from(e.values());for(const E of k){let N=!1;try{N=E.predicate(y,B,x)}catch(O){N=!1,XW(a,O,{raisedBy:"predicate"})}N&&d(E,y,m,v)}}}finally{x=GW}return w},startListening:c,stopListening:u,clearListeners:f}};function Au(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var mKe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},tle=$c({name:"chartLayout",initialState:mKe,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,s,i;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(s=e.payload.bottom)!==null&&s!==void 0?s:0,t.margin.left=(i=e.payload.left)!==null&&i!==void 0?i:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:gKe,setLayout:yKe,setChartSize:xKe,setScale:bKe}=tle.actions,vKe=tle.reducer;function nle(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function br(t){return Number.isFinite(t)}function AA(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function YW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Vy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YW(Object(n),!0).forEach(function(r){wKe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wKe(t,e,n){return(e=SKe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SKe(t){var e=CKe(t,"string");return typeof e=="symbol"?e:e+""}function CKe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ws(t,e,n){return qi(t)||qi(e)?n:fA(e)?a0(t,e,n):typeof e=="function"?e(t):n}var kKe=(t,e,n)=>{if(e&&n){var{width:r,height:s}=n,{align:i,verticalAlign:a,layout:o}=e;if((o==="vertical"||o==="horizontal"&&a==="middle")&&i!=="center"&&nn(t[i]))return Vy(Vy({},t),{},{[i]:t[i]+(r||0)});if((o==="horizontal"||o==="vertical"&&i==="center")&&a!=="middle"&&nn(t[a]))return Vy(Vy({},t),{},{[a]:t[a]+(s||0)})}return t},pf=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",rle=(t,e,n,r)=>{if(r)return t.map(o=>o.coordinate);var s,i,a=t.map(o=>(o.coordinate===e&&(s=!0),o.coordinate===n&&(i=!0),o.coordinate));return s||a.push(e),i||a.push(n),a},sle=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:s,range:i,scale:a,realScaleType:o,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:m}=t;if(!a)return null;var g=o==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,y=s==="category"&&a.bandwidth?a.bandwidth()/g:0;if(y=m==="angleAxis"&&i&&i.length>=2?Lo(i[0]-i[1])*2*y:y,f||h){var x=(f||h||[]).map((v,w)=>{var B=r?r.indexOf(v):v,k=a.map(B);return br(k)?{coordinate:k+y,value:v,offset:y,index:w}:null}).filter(Ec);return x}return c&&u?u.map((v,w)=>{var B=a.map(v);return br(B)?{coordinate:B+y,value:v,index:w,offset:y}:null}).filter(Ec):a.ticks&&d!=null?a.ticks(d).map((v,w)=>{var B=a.map(v);return br(B)?{coordinate:B+y,value:v,index:w,offset:y}:null}).filter(Ec):a.domain().map((v,w)=>{var B=a.map(v);return br(B)?{coordinate:B+y,value:r?r[v]:v,index:w,offset:y}:null}).filter(Ec)},BKe=(t,e)=>{if(!e||e.length!==2||!nn(e[0])||!nn(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),s=[t[0],t[1]];return(!nn(t[0])||t[0]<n)&&(s[0]=n),(!nn(t[1])||t[1]>r)&&(s[1]=r),s[0]>r&&(s[0]=r),s[1]<n&&(s[1]=n),s},EKe=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var s=0;s<r;++s)for(var i=0,a=0,o=0;o<n;++o){var c=t[o],u=c?.[s];if(u!=null){var d=u[1],f=u[0],h=af(d)?f:d;h>=0?(u[0]=i,i+=h,u[1]=i):(u[0]=a,a+=h,u[1]=a)}}}},IKe=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var s=0;s<r;++s)for(var i=0,a=0;a<n;++a){var o=t[a],c=o?.[s];if(c!=null){var u=af(c[1])?c[0]:c[1];u>=0?(c[0]=i,i+=u,c[1]=i):(c[0]=0,c[1]=0)}}}},NKe={sign:EKe,expand:XVe,none:i0,silhouette:YVe,wiggle:JVe,positive:IKe},jKe=(t,e,n)=>{var r,s=(r=NKe[n])!==null&&r!==void 0?r:i0,i=KVe().keys(e).value((o,c)=>Number(ws(o,c,0))).order(oF).offset(s),a=i(t);return a.forEach((o,c)=>{o.forEach((u,d)=>{var f=ws(t[d],e[c],0);Array.isArray(f)&&f.length===2&&nn(f[0])&&nn(f[1])&&(u[0]=f[0],u[1]=f[1])})}),a};function ile(t){return t==null?void 0:String(t)}function JW(t){var{axis:e,ticks:n,bandSize:r,entry:s,index:i,dataKey:a}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!qi(s[e.dataKey])){var o=doe(n,"value",s[e.dataKey]);if(o)return o.coordinate+r/2}return n!=null&&n[i]?n[i].coordinate+r/2:null}var c=ws(s,qi(a)?e.dataKey:a),u=e.scale.map(c);return nn(u)?u:null}var ZW=t=>{var{axis:e,ticks:n,offset:r,bandSize:s,entry:i,index:a}=t;if(e.type==="category")return n[a]?n[a].coordinate+r:null;var o=ws(i,e.dataKey,e.scale.domain()[a]);if(qi(o))return null;var c=e.scale.map(o);return nn(c)?c-s/2+r:null},TKe=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return r<=0&&s>=0?0:s<0?s:r}return n[0]},_Ke=t=>{var e=t.flat(2).filter(nn);return[Math.min(...e),Math.max(...e)]},RKe=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],OKe=(t,e,n)=>{if(t!=null)return RKe(Object.keys(t).reduce((r,s)=>{var i=t[s];if(!i)return r;var{stackedData:a}=i,o=a.reduce((c,u)=>{var d=nle(u,e,n),f=_Ke(d);return!br(f[0])||!br(f[1])?c:[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},eV=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,tV=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,hm=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var s=r3(e,d=>d.coordinate),i=1/0,a=1,o=s.length;a<o;a++){var c=s[a],u=s[a-1];i=Math.min((c?.coordinate||0)-(u?.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0};function nV(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:s,name:i}=t;return Vy(Vy({},e),{},{dataKey:n,payload:r,value:s,name:i})}function Tm(t,e){if(t)return String(t);if(typeof e=="string")return e}var FKe=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},DKe=(t,e)=>e==="centric"?t.angle:t.radius,Qh=t=>t.layout.width,Hh=t=>t.layout.height,LKe=t=>t.layout.scale,ale=t=>t.layout.margin,A3=Ve(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),h3=Ve(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),ole="data-recharts-item-index",lle="data-recharts-item-id",iS=60;function rV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function XC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rV(Object(n),!0).forEach(function(r){$Ke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $Ke(t,e,n){return(e=PKe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PKe(t){var e=UKe(t,"string");return typeof e=="symbol"?e:e+""}function UKe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zKe=t=>t.brush.height;function MKe(t){var e=h3(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var s=typeof r.width=="number"?r.width:iS;return n+s}return n},0)}function QKe(t){var e=h3(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var s=typeof r.width=="number"?r.width:iS;return n+s}return n},0)}function HKe(t){var e=A3(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function WKe(t){var e=A3(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var yo=Ve([Qh,Hh,ale,zKe,MKe,QKe,HKe,WKe,koe,yGe],(t,e,n,r,s,i,a,o,c,u)=>{var d={left:(n.left||0)+s,right:(n.right||0)+i},f={top:(n.top||0)+a,bottom:(n.bottom||0)+o},h=XC(XC({},f),d),m=h.bottom;h.bottom+=r,h=kKe(h,c,u);var g=t-h.left-h.right,y=e-h.top-h.bottom;return XC(XC({brushBottom:m},h),{},{width:Math.max(g,0),height:Math.max(y,0)})}),VKe=Ve(yo,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),xP=Ve(Qh,Hh,(t,e)=>({x:0,y:0,width:t,height:e})),qKe=C.createContext(null),Vo=()=>C.useContext(qKe)!=null,p3=t=>t.brush,m3=Ve([p3,yo,ale],(t,e,n)=>({height:t.height,x:nn(t.x)?t.x:e.left,y:nn(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:nn(t.width)?t.width:e.width})),lR={},cR={},uR={},sV;function GKe(){return sV||(sV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:s,edges:i}={}){let a,o=null;const c=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),d=()=>{o!==null&&(n.apply(a,o),a=void 0,o=null)},f=()=>{u&&d(),y()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},r)},g=()=>{h!==null&&(clearTimeout(h),h=null)},y=()=>{g(),a=void 0,o=null},x=()=>{d()},v=function(...w){if(s?.aborted)return;a=this,o=w;const B=h==null;m(),c&&B&&d()};return v.schedule=m,v.cancel=y,v.flush=x,s?.addEventListener("abort",y,{once:!0}),v}t.debounce=e})(uR)),uR}var iV;function KKe(){return iV||(iV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=GKe();function n(r,s=0,i={}){typeof i!="object"&&(i={});const{leading:a=!1,trailing:o=!0,maxWait:c}=i,u=Array(2);a&&(u[0]="leading"),o&&(u[1]="trailing");let d,f=null;const h=e.debounce(function(...y){d=r.apply(this,y),f=null},s,{edges:u}),m=function(...y){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=r.apply(this,y),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,y),d)},g=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=g,m}t.debounce=n})(cR)),cR}var aV;function XKe(){return aV||(aV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=KKe();function n(r,s=0,i={}){const{leading:a=!0,trailing:o=!0}=i;return e.debounce(r,s,{leading:a,maxWait:s,trailing:o})}t.throttle=n})(lR)),lR}var dR,oV;function YKe(){return oV||(oV=1,dR=XKe().throttle),dR}var JKe=YKe();const ZKe=nc(JKe);var k4=function(e,n){for(var r=arguments.length,s=new Array(r>2?r-2:0),i=2;i<r;i++)s[i-2]=arguments[i];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;console.warn(n.replace(/%s/g,()=>s[a++]))}},Vf={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},cle=(t,e,n)=>{var{width:r=Vf.width,height:s=Vf.height,aspect:i,maxHeight:a}=n,o=o0(r)?t:Number(r),c=o0(s)?e:Number(s);return i&&i>0&&(o?c=o/i:c&&(o=c*i),a&&c!=null&&c>a&&(c=a)),{calculatedWidth:o,calculatedHeight:c}},eXe={width:0,height:0,overflow:"visible"},tXe={width:0,overflowX:"visible"},nXe={height:0,overflowY:"visible"},rXe={},sXe=t=>{var{width:e,height:n}=t,r=o0(e),s=o0(n);return r&&s?eXe:r?tXe:s?nXe:rXe};function iXe(t){var{width:e,height:n,aspect:r}=t,s=e,i=n;return s===void 0&&i===void 0?(s=Vf.width,i=Vf.height):s===void 0?s=r&&r>0?void 0:Vf.width:i===void 0&&(i=r&&r>0?void 0:Vf.height),{width:s,height:i}}function xF(){return xF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xF.apply(null,arguments)}function lV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function cV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lV(Object(n),!0).forEach(function(r){aXe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aXe(t,e,n){return(e=oXe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oXe(t){var e=lXe(t,"string");return typeof e=="symbol"?e:e+""}function lXe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ule=C.createContext(Vf.initialDimension);function cXe(t){return AA(t.width)&&AA(t.height)}function dle(t){var{children:e,width:n,height:r}=t,s=C.useMemo(()=>({width:n,height:r}),[n,r]);return cXe(s)?C.createElement(ule.Provider,{value:s},e):null}var bP=()=>C.useContext(ule),uXe=C.forwardRef((t,e)=>{var{aspect:n,initialDimension:r=Vf.initialDimension,width:s,height:i,minWidth:a=Vf.minWidth,minHeight:o,maxHeight:c,children:u,debounce:d=Vf.debounce,id:f,className:h,onResize:m,style:g={}}=t,y=C.useRef(null),x=C.useRef();x.current=m,C.useImperativeHandle(e,()=>y.current);var[v,w]=C.useState({containerWidth:r.width,containerHeight:r.height}),B=C.useCallback((F,D)=>{w(T=>{var j=Math.round(F),P=Math.round(D);return T.containerWidth===j&&T.containerHeight===P?T:{containerWidth:j,containerHeight:P}})},[]);C.useEffect(()=>{if(y.current==null||typeof ResizeObserver>"u")return xA;var F=P=>{var U,z=P[0];if(z!=null){var{width:ee,height:q}=z.contentRect;B(ee,q),(U=x.current)===null||U===void 0||U.call(x,ee,q)}};d>0&&(F=ZKe(F,d,{trailing:!0,leading:!1}));var D=new ResizeObserver(F),{width:T,height:j}=y.current.getBoundingClientRect();return B(T,j),D.observe(y.current),()=>{D.disconnect()}},[B,d]);var{containerWidth:k,containerHeight:E}=v;k4(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:N,calculatedHeight:O}=cle(k,E,{width:s,height:i,aspect:n,maxHeight:c});return k4(N!=null&&N>0||O!=null&&O>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,N,O,s,i,a,o,n),C.createElement("div",{id:f?"".concat(f):void 0,className:yr("recharts-responsive-container",h),style:cV(cV({},g),{},{width:s,height:i,minWidth:a,minHeight:o,maxHeight:c}),ref:y},C.createElement("div",{style:sXe({width:s,height:i})},C.createElement(dle,{width:N,height:O},u)))}),tA=C.forwardRef((t,e)=>{var n=bP();if(AA(n.width)&&AA(n.height))return t.children;var{width:r,height:s}=iXe({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:i,calculatedHeight:a}=cle(void 0,void 0,{width:r,height:s,aspect:t.aspect,maxHeight:t.maxHeight});return nn(i)&&nn(a)?C.createElement(dle,{width:i,height:a},t.children):C.createElement(uXe,xF({},t,{width:r,height:s,ref:e}))});function vP(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var g3=()=>{var t,e=Vo(),n=Xt(VKe),r=Xt(m3),s=(t=Xt(p3))===null||t===void 0?void 0:t.padding;return!e||!r||!s?n:{width:r.width-s.left-s.right,height:r.height-s.top-s.bottom,x:s.left,y:s.top}},dXe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},fle=()=>{var t;return(t=Xt(yo))!==null&&t!==void 0?t:dXe},wP=()=>Xt(Qh),SP=()=>Xt(Hh),fXe=()=>Xt(t=>t.layout.margin),$r=t=>t.layout.layoutType,_0=()=>Xt($r),CP=()=>{var t=_0();if(t==="horizontal"||t==="vertical")return t},kP=t=>{var e=t.layout.layoutType;if(e==="centric"||e==="radial")return e},Ale=()=>Xt(kP),AXe=()=>{var t=_0();return t!==void 0},aS=t=>{var e=Ws(),n=Vo(),{width:r,height:s}=t,i=bP(),a=r,o=s;return i&&(a=i.width>0?i.width:r,o=i.height>0?i.height:s),C.useEffect(()=>{!n&&AA(a)&&AA(o)&&e(xKe({width:a,height:o}))},[e,n,a,o]),null},hle=Symbol.for("immer-nothing"),uV=Symbol.for("immer-draftable"),mu=Symbol.for("immer-state");function Vd(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var z2=Object.getPrototypeOf;function N1(t){return!!t&&!!t[mu]}function c0(t){return t?ple(t)||Array.isArray(t)||!!t[uV]||!!t.constructor?.[uV]||oS(t)||x3(t):!1}var hXe=Object.prototype.constructor.toString(),dV=new WeakMap;function ple(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=dV.get(n);return r===void 0&&(r=Function.toString.call(n),dV.set(n,r)),r===hXe}function B4(t,e,n=!0){y3(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(s=>{e(s,t[s],t)}):t.forEach((r,s)=>e(s,r,t))}function y3(t){const e=t[mu];return e?e.type_:Array.isArray(t)?1:oS(t)?2:x3(t)?3:0}function bF(t,e){return y3(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function mle(t,e,n){const r=y3(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function pXe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function oS(t){return t instanceof Map}function x3(t){return t instanceof Set}function ig(t){return t.copy_||t.base_}function vF(t,e){if(oS(t))return new Map(t);if(x3(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=ple(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[mu];let s=Reflect.ownKeys(r);for(let i=0;i<s.length;i++){const a=s[i],o=r[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[a]})}return Object.create(z2(t),r)}else{const r=z2(t);if(r!==null&&n)return{...t};const s=Object.create(r);return Object.assign(s,t)}}function BP(t,e=!1){return b3(t)||N1(t)||!c0(t)||(y3(t)>1&&Object.defineProperties(t,{set:YC,add:YC,clear:YC,delete:YC}),Object.freeze(t),e&&Object.values(t).forEach(n=>BP(n,!0))),t}function mXe(){Vd(2)}var YC={value:mXe};function b3(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var gXe={};function u0(t){const e=gXe[t];return e||Vd(0,t),e}var M2;function gle(){return M2}function yXe(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function fV(t,e){e&&(u0("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function wF(t){SF(t),t.drafts_.forEach(xXe),t.drafts_=null}function SF(t){t===M2&&(M2=t.parent_)}function AV(t){return M2=yXe(M2,t)}function xXe(t){const e=t[mu];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function hV(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[mu].modified_&&(wF(e),Vd(4)),c0(t)&&(t=E4(e,t),e.parent_||I4(e,t)),e.patches_&&u0("Patches").generateReplacementPatches_(n[mu].base_,t,e.patches_,e.inversePatches_)):t=E4(e,n,[]),wF(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==hle?t:void 0}function E4(t,e,n){if(b3(e))return e;const r=t.immer_.shouldUseStrictIteration(),s=e[mu];if(!s)return B4(e,(i,a)=>pV(t,s,e,i,a,n),r),e;if(s.scope_!==t)return e;if(!s.modified_)return I4(t,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const i=s.copy_;let a=i,o=!1;s.type_===3&&(a=new Set(i),i.clear(),o=!0),B4(a,(c,u)=>pV(t,s,i,c,u,n,o),r),I4(t,i,!1),n&&t.patches_&&u0("Patches").generatePatches_(s,n,t.patches_,t.inversePatches_)}return s.copy_}function pV(t,e,n,r,s,i,a){if(s==null||typeof s!="object"&&!a)return;const o=b3(s);if(!(o&&!a)){if(N1(s)){const c=i&&e&&e.type_!==3&&!bF(e.assigned_,r)?i.concat(r):void 0,u=E4(t,s,c);if(mle(n,r,u),N1(u))t.canAutoFreeze_=!1;else return}else a&&n.add(s);if(c0(s)&&!o){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===s&&o)return;E4(t,s),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(oS(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&I4(t,s)}}}function I4(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&BP(e,n)}function bXe(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:gle(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,i=EP;n&&(s=[r],i=Q2);const{revoke:a,proxy:o}=Proxy.revocable(s,i);return r.draft_=o,r.revoke_=a,o}var EP={get(t,e){if(e===mu)return t;const n=ig(t);if(!bF(n,e))return vXe(t,n,e);const r=n[e];return t.finalized_||!c0(r)?r:r===fR(t.base_,e)?(AR(t),t.copy_[e]=kF(r,t)):r},has(t,e){return e in ig(t)},ownKeys(t){return Reflect.ownKeys(ig(t))},set(t,e,n){const r=yle(ig(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const s=fR(ig(t),e),i=s?.[mu];if(i&&i.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(pXe(n,s)&&(n!==void 0||bF(t.base_,e)))return!0;AR(t),CF(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return fR(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,AR(t),CF(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ig(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Vd(11)},getPrototypeOf(t){return z2(t.base_)},setPrototypeOf(){Vd(12)}},Q2={};B4(EP,(t,e)=>{Q2[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Q2.deleteProperty=function(t,e){return Q2.set.call(this,t,e,void 0)};Q2.set=function(t,e,n){return EP.set.call(this,t[0],e,n,t[0])};function fR(t,e){const n=t[mu];return(n?ig(n):t)[e]}function vXe(t,e,n){const r=yle(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function yle(t,e){if(!(e in t))return;let n=z2(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=z2(n)}}function CF(t){t.modified_||(t.modified_=!0,t.parent_&&CF(t.parent_))}function AR(t){t.copy_||(t.copy_=vF(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var wXe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const i=n;n=e;const a=this;return function(c=i,...u){return a.produce(c,d=>n.call(this,d,...u))}}typeof n!="function"&&Vd(6),r!==void 0&&typeof r!="function"&&Vd(7);let s;if(c0(e)){const i=AV(this),a=kF(e,void 0);let o=!0;try{s=n(a),o=!1}finally{o?wF(i):SF(i)}return fV(i,r),hV(s,i)}else if(!e||typeof e!="object"){if(s=n(e),s===void 0&&(s=e),s===hle&&(s=void 0),this.autoFreeze_&&BP(s,!0),r){const i=[],a=[];u0("Patches").generateReplacementPatches_(e,s,i,a),r(i,a)}return s}else Vd(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(a,...o)=>this.produceWithPatches(a,c=>e(c,...o));let r,s;return[this.produce(e,n,(a,o)=>{r=a,s=o}),r,s]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){c0(t)||Vd(8),N1(t)&&(t=SXe(t));const e=AV(this),n=kF(t,void 0);return n[mu].isManual_=!0,SF(e),n}finishDraft(t,e){const n=t&&t[mu];(!n||!n.isManual_)&&Vd(9);const{scope_:r}=n;return fV(r,e),hV(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const s=e[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(e=e.slice(n+1));const r=u0("Patches").applyPatches_;return N1(t)?r(t,e):this.produce(t,s=>r(s,e))}};function kF(t,e){const n=oS(t)?u0("MapSet").proxyMap_(t,e):x3(t)?u0("MapSet").proxySet_(t,e):bXe(t,e);return(e?e.scope_:gle()).drafts_.push(n),n}function SXe(t){return N1(t)||Vd(10,t),xle(t)}function xle(t){if(!c0(t)||b3(t))return t;const e=t[mu];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=vF(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=vF(t,!0);return B4(n,(s,i)=>{mle(n,s,xle(i))},r),e&&(e.finalized_=!1),n}var CXe=new wXe;CXe.produce;var kXe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},ble=$c({name:"legend",initialState:kXe,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Li()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,s=Jd(t).payload.indexOf(n);s>-1&&(t.payload[s]=r)},prepare:Li()},removeLegendPayload:{reducer(t,e){var n=Jd(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Li()}}}),{setLegendSize:mV,setLegendSettings:BXe,addLegendPayload:vle,replaceLegendPayload:wle,removeLegendPayload:Sle}=ble.actions,EXe=ble.reducer,IXe=["contextPayload"];function BF(){return BF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BF.apply(null,arguments)}function gV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function j1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gV(Object(n),!0).forEach(function(r){NXe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NXe(t,e,n){return(e=jXe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jXe(t){var e=TXe(t,"string");return typeof e=="symbol"?e:e+""}function TXe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _Xe(t,e){if(t==null)return{};var n,r,s=RXe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function RXe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function OXe(t){return t.value}function FXe(t){var{contextPayload:e}=t,n=_Xe(t,IXe),r=voe(e,t.payloadUniqBy,OXe),s=j1(j1({},n),{},{payload:r});return C.isValidElement(t.content)?C.cloneElement(t.content,s):typeof t.content=="function"?C.createElement(t.content,s):C.createElement(Eqe,s)}function DXe(t,e,n,r,s,i){var{layout:a,align:o,verticalAlign:c}=e,u,d;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(o==="center"&&a==="vertical"?u={left:((r||0)-i.width)/2}:u=o==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(c==="middle"?d={top:((s||0)-i.height)/2}:d=c==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),j1(j1({},u),d)}function LXe(t){var e=Ws();return C.useEffect(()=>{e(BXe(t))},[e,t]),null}function $Xe(t){var e=Ws();return C.useEffect(()=>(e(mV(t)),()=>{e(mV({width:0,height:0}))}),[e,t]),null}function PXe(t,e,n,r){return t==="vertical"&&e!=null?{height:e}:t==="horizontal"?{width:n||r}:null}var UXe={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function Cle(t){var e=wi(t,UXe),n=vGe(),r=xVe(),s=fXe(),{width:i,height:a,wrapperStyle:o,portal:c}=e,[u,d]=Boe([n]),f=wP(),h=SP();if(f==null||h==null)return null;var m=f-(s?.left||0)-(s?.right||0),g=PXe(e.layout,a,i,m),y=c?o:j1(j1({position:"absolute",width:g?.width||i||"auto",height:g?.height||a||"auto"},DXe(o,e,s,f,h,u)),o),x=c??r;if(x==null||n==null)return null;var v=C.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:d},C.createElement(LXe,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),!c&&C.createElement($Xe,{width:u.width,height:u.height}),C.createElement(FXe,BF({},e,g,{margin:s,chartWidth:f,chartHeight:h,contextPayload:n})));return BE.createPortal(v,x)}Cle.displayName="Legend";function EF(){return EF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},EF.apply(null,arguments)}function yV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function fv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yV(Object(n),!0).forEach(function(r){zXe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zXe(t,e,n){return(e=MXe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MXe(t){var e=QXe(t,"string");return typeof e=="symbol"?e:e+""}function QXe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HXe(t){return Array.isArray(t)&&fA(t[0])&&fA(t[1])?t.join(" ~ "):t}var by={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},WXe=t=>{var{separator:e=by.separator,contentStyle:n,itemStyle:r,labelStyle:s=by.labelStyle,payload:i,formatter:a,itemSorter:o,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=by.accessibilityLayer}=t,m=()=>{if(i&&i.length){var E={padding:0,margin:0},N=(o?r3(i,o):i).map((O,F)=>{if(O.type==="none")return null;var D=O.formatter||a||HXe,{value:T,name:j}=O,P=T,U=j;if(D){var z=D(T,j,O,F,i);if(Array.isArray(z))[P,U]=z;else if(z!=null)P=z;else return null}var ee=fv(fv({},by.itemStyle),{},{color:O.color||by.itemStyle.color},r);return C.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:ee},fA(U)?C.createElement("span",{className:"recharts-tooltip-item-name"},U):null,fA(U)?C.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,C.createElement("span",{className:"recharts-tooltip-item-value"},P),C.createElement("span",{className:"recharts-tooltip-item-unit"},O.unit||""))});return C.createElement("ul",{className:"recharts-tooltip-item-list",style:E},N)}return null},g=fv(fv({},by.contentStyle),n),y=fv({margin:0},s),x=!qi(d),v=x?d:"",w=yr("recharts-default-tooltip",c),B=yr("recharts-tooltip-label",u);x&&f&&i!==void 0&&i!==null&&(v=f(d,i));var k=h?{role:"status","aria-live":"assertive"}:{};return C.createElement("div",EF({className:w,style:g},k),C.createElement("p",{className:B,style:y},C.isValidElement(v)?v:"".concat(v)),m())},Av="recharts-tooltip-wrapper",VXe={visibility:"hidden"};function qXe(t){var{coordinate:e,translateX:n,translateY:r}=t;return yr(Av,{["".concat(Av,"-right")]:nn(n)&&e&&nn(e.x)&&n>=e.x,["".concat(Av,"-left")]:nn(n)&&e&&nn(e.x)&&n<e.x,["".concat(Av,"-bottom")]:nn(r)&&e&&nn(e.y)&&r>=e.y,["".concat(Av,"-top")]:nn(r)&&e&&nn(e.y)&&r<e.y})}function xV(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offset:s,position:i,reverseDirection:a,tooltipDimension:o,viewBox:c,viewBoxDimension:u}=t;if(i&&nn(i[r]))return i[r];var d=n[r]-o-(s>0?s:0),f=n[r]+s;if(e[r])return a[r]?d:f;var h=c[r];if(h==null)return 0;if(a[r]){var m=d,g=h;return m<g?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var y=f+o,x=h+u;return y>x?Math.max(d,h):Math.max(f,h)}function GXe(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function KXe(t){var{allowEscapeViewBox:e,coordinate:n,offsetTop:r,offsetLeft:s,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:c,viewBox:u}=t,d,f,h;return o.height>0&&o.width>0&&n?(f=xV({allowEscapeViewBox:e,coordinate:n,key:"x",offset:s,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),h=xV({allowEscapeViewBox:e,coordinate:n,key:"y",offset:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),d=GXe({translateX:f,translateY:h,useTranslate3d:c})):d=VXe,{cssProperties:d,cssClasses:qXe({translateX:f,translateY:h,coordinate:n})}}function bV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function JC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bV(Object(n),!0).forEach(function(r){IF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IF(t,e,n){return(e=XXe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XXe(t){var e=YXe(t,"string");return typeof e=="symbol"?e:e+""}function YXe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class JXe extends C.PureComponent{constructor(){super(...arguments),IF(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),IF(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,s,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(s=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:s,children:i,coordinate:a,hasPayload:o,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:g,lastBoundingBox:y,innerRef:x,hasPortalFromProps:v}=this.props,w=typeof u=="number"?u:u.x,B=typeof u=="number"?u:u.y,{cssClasses:k,cssProperties:E}=KXe({allowEscapeViewBox:n,coordinate:a,offsetLeft:w,offsetTop:B,position:d,reverseDirection:f,tooltipBox:{height:y.height,width:y.width},useTranslate3d:h,viewBox:m}),N=v?{}:JC(JC({transition:c&&e?"transform ".concat(r,"ms ").concat(s):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),O=JC(JC({},N),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},g);return C.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:k,style:O,ref:x},i)}}var kle=()=>{var t;return(t=Xt(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function NF(){return NF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NF.apply(null,arguments)}function vV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function wV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vV(Object(n),!0).forEach(function(r){ZXe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZXe(t,e,n){return(e=eYe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eYe(t){var e=tYe(t,"string");return typeof e=="symbol"?e:e+""}function tYe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var SV={curveBasisClosed:$Ve,curveBasisOpen:PVe,curveBasis:LVe,curveBumpX:SVe,curveBumpY:CVe,curveLinearClosed:UVe,curveLinear:e3,curveMonotoneX:zVe,curveMonotoneY:MVe,curveNatural:QVe,curveStep:HVe,curveStepAfter:VVe,curveStepBefore:WVe},N4=t=>br(t.x)&&br(t.y),CV=t=>t.base!=null&&N4(t.base)&&N4(t),hv=t=>t.x,pv=t=>t.y,nYe=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(nS(t));if((n==="curveMonotone"||n==="curveBump")&&e){var r=SV["".concat(n).concat(e==="vertical"?"Y":"X")];if(r)return r}return SV[n]||e3},kV={connectNulls:!1,type:"linear"},rYe=t=>{var{type:e=kV.type,points:n=[],baseLine:r,layout:s,connectNulls:i=kV.connectNulls}=t,a=nYe(e,s),o=i?n.filter(N4):n;if(Array.isArray(r)){var c,u=n.map((g,y)=>wV(wV({},g),{},{base:r[y]}));s==="vertical"?c=HC().y(pv).x1(hv).x0(g=>g.base.x):c=HC().x(hv).y1(pv).y0(g=>g.base.y);var d=c.defined(CV).curve(a),f=i?u.filter(CV):u;return d(f)}var h;s==="vertical"&&nn(r)?h=HC().y(pv).x1(hv).x0(r):nn(r)?h=HC().x(hv).y1(pv).y0(r):h=Jae().x(hv).y(pv);var m=h.defined(N4).curve(a);return m(o)},s1=t=>{var{className:e,points:n,path:r,pathRef:s}=t,i=_0();if((!n||!n.length)&&!r)return null;var a={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||i,connectNulls:t.connectNulls},o=n&&n.length?rYe(a):r;return C.createElement("path",NF({},vi(t),lP(t),{className:yr("recharts-curve",e),d:o===null?void 0:o,ref:s}))},sYe=["x","y","top","left","width","height","className"];function jF(){return jF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jF.apply(null,arguments)}function BV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function iYe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BV(Object(n),!0).forEach(function(r){aYe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aYe(t,e,n){return(e=oYe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oYe(t){var e=lYe(t,"string");return typeof e=="symbol"?e:e+""}function lYe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cYe(t,e){if(t==null)return{};var n,r,s=uYe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function uYe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var dYe=(t,e,n,r,s,i)=>"M".concat(t,",").concat(s,"v").concat(r,"M").concat(i,",").concat(e,"h").concat(n),fYe=t=>{var{x:e=0,y:n=0,top:r=0,left:s=0,width:i=0,height:a=0,className:o}=t,c=cYe(t,sYe),u=iYe({x:e,y:n,top:r,left:s,width:i,height:a},c);return!nn(e)||!nn(n)||!nn(i)||!nn(a)||!nn(r)||!nn(s)?null:C.createElement("path",jF({},qa(u),{className:yr("recharts-cross",o),d:dYe(e,n,i,a,r,s)}))};function AYe(t,e,n,r){var s=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-s:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-s,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function EV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function IV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EV(Object(n),!0).forEach(function(r){hYe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hYe(t,e,n){return(e=pYe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pYe(t){var e=mYe(t,"string");return typeof e=="symbol"?e:e+""}function mYe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gYe=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),Ble=(t,e,n)=>t.map(r=>"".concat(gYe(r)," ").concat(e,"ms ").concat(n)).join(","),yYe=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(s=>r.includes(s))),H2=(t,e)=>Object.keys(e).reduce((n,r)=>IV(IV({},n),{},{[r]:t(r,e[r])}),{});function NV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function lo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NV(Object(n),!0).forEach(function(r){xYe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xYe(t,e,n){return(e=bYe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bYe(t){var e=vYe(t,"string");return typeof e=="symbol"?e:e+""}function vYe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var j4=(t,e,n)=>t+(e-t)*n,TF=t=>{var{from:e,to:n}=t;return e!==n},Ele=(t,e,n)=>{var r=H2((s,i)=>{if(TF(i)){var[a,o]=t(i.from,i.to,i.velocity);return lo(lo({},i),{},{from:a,velocity:o})}return i},e);return n<1?H2((s,i)=>TF(i)&&r[s]!=null?lo(lo({},i),{},{velocity:j4(i.velocity,r[s].velocity,n),from:j4(i.from,r[s].from,n)}):i,e):Ele(t,r,n-1)};function wYe(t,e,n,r,s,i){var a,o=r.reduce((h,m)=>lo(lo({},h),{},{[m]:{from:t[m],velocity:0,to:e[m]}}),{}),c=()=>H2((h,m)=>m.from,o),u=()=>!Object.values(o).filter(TF).length,d=null,f=h=>{a||(a=h);var m=h-a,g=m/n.dt;o=Ele(n,o,g),s(lo(lo(lo({},t),e),c())),a=h,u()||(d=i.setTimeout(f))};return()=>(d=i.setTimeout(f),()=>{var h;(h=d)===null||h===void 0||h()})}function SYe(t,e,n,r,s,i,a){var o=null,c=s.reduce((f,h)=>{var m=t[h],g=e[h];return m==null||g==null?f:lo(lo({},f),{},{[h]:[m,g]})},{}),u,d=f=>{u||(u=f);var h=(f-u)/r,m=H2((y,x)=>j4(...x,n(h)),c);if(i(lo(lo(lo({},t),e),m)),h<1)o=a.setTimeout(d);else{var g=H2((y,x)=>j4(...x,n(1)),c);i(lo(lo(lo({},t),e),g))}};return()=>(o=a.setTimeout(d),()=>{var f;(f=o)===null||f===void 0||f()})}const CYe=(t,e,n,r,s,i)=>{var a=yYe(t,e);return n==null?()=>(s(lo(lo({},t),e)),()=>{}):n.isStepper===!0?wYe(t,e,n,a,s,i):SYe(t,e,n,r,a,s,i)};var T4=1e-4,Ile=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],Nle=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),jV=(t,e)=>n=>{var r=Ile(t,e);return Nle(r,n)},kYe=(t,e)=>n=>{var r=Ile(t,e),s=[...r.map((i,a)=>i*a).slice(1),0];return Nle(s,n)},BYe=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var s=r.map(i=>parseFloat(i));return[s[0],s[1],s[2],s[3]]},EYe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var s=BYe(n[0]);if(s)return s}}return n.length===4?n:[0,0,1,1]},IYe=(t,e,n,r)=>{var s=jV(t,n),i=jV(e,r),a=kYe(t,n),o=u=>u>1?1:u<0?0:u,c=u=>{for(var d=u>1?1:u,f=d,h=0;h<8;++h){var m=s(f)-d,g=a(f);if(Math.abs(m-d)<T4||g<T4)return i(f);f=o(f-m/g)}return i(f)};return c.isStepper=!1,c},TV=function(){return IYe(...EYe(...arguments))},NYe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:s=17}=e,i=(a,o,c)=>{var u=-(a-o)*n,d=c*r,f=c+(u-d)*s/1e3,h=c*s/1e3+a;return Math.abs(h-o)<T4&&Math.abs(f)<T4?[o,0]:[h,f]};return i.isStepper=!0,i.dt=s,i},jYe=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return TV(t);case"spring":return NYe();default:if(t.split("(")[0]==="cubic-bezier")return TV(t)}return typeof t=="function"?t:null};function TYe(t){var e,n=()=>null,r=!1,s=null,i=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,[c,...u]=o;if(typeof c=="number"){s=t.setTimeout(i.bind(null,u),c);return}i(c),s=t.setTimeout(i.bind(null,u));return}typeof a=="string"&&(e=a,n(e)),typeof a=="object"&&(e=a,n(e)),typeof a=="function"&&a()}};return{stop:()=>{r=!0},start:a=>{r=!1,s&&(s(),s=null),i(a)},subscribe:a=>(n=a,()=>{n=()=>null}),getTimeoutController:()=>t}}class _Ye{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),s=null,i=a=>{a-r>=n?e(a):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(i))};return s=requestAnimationFrame(i),()=>{s!=null&&cancelAnimationFrame(s)}}}function RYe(){return TYe(new _Ye)}var OYe=C.createContext(RYe);function FYe(t,e){var n=C.useContext(OYe);return C.useMemo(()=>e??n(t),[t,e,n])}var DYe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),lS={isSsr:DYe()},LYe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},_V={t:0},hR={t:1};function Zx(t){var e=wi(t,LYe),{isActive:n,canBegin:r,duration:s,easing:i,begin:a,onAnimationEnd:o,onAnimationStart:c,children:u}=e,d=n==="auto"?!lS.isSsr:n,f=FYe(e.animationId,e.animationManager),[h,m]=C.useState(d?_V:hR),g=C.useRef(null);return C.useEffect(()=>{d||m(hR)},[d]),C.useEffect(()=>{if(!d||!r)return xA;var y=CYe(_V,hR,jYe(i),s,m,f.getTimeoutController()),x=()=>{g.current=y()};return f.start([c,a,x,s,o]),()=>{f.stop(),g.current&&g.current(),o()}},[d,r,s,i,a,c,o,f]),u(h.t)}function eb(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=C.useRef(L2(e)),r=C.useRef(t);return r.current!==t&&(n.current=L2(e),r.current=t),n.current}var $Ye=["radius"],PYe=["radius"],RV,OV,FV,DV,LV,$V,PV,UV,zV,MV;function QV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function HV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QV(Object(n),!0).forEach(function(r){UYe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UYe(t,e,n){return(e=zYe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zYe(t){var e=MYe(t,"string");return typeof e=="symbol"?e:e+""}function MYe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _4(){return _4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_4.apply(null,arguments)}function WV(t,e){if(t==null)return{};var n,r,s=QYe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function QYe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ff(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var VV=(t,e,n,r,s)=>{var i=Pp(n),a=Pp(r),o=Math.min(Math.abs(i)/2,Math.abs(a)/2),c=a>=0?1:-1,u=i>=0?1:-1,d=a>=0&&i>=0||a<0&&i<0?1:0,f;if(o>0&&Array.isArray(s)){for(var h=[0,0,0,0],m=0,g=4;m<g;m++){var y,x=(y=s[m])!==null&&y!==void 0?y:0;h[m]=x>o?o:x}f=ia(RV||(RV=Ff(["M",",",""])),t,e+c*h[0]),h[0]>0&&(f+=ia(OV||(OV=Ff(["A ",",",",0,0,",",",",",""])),h[0],h[0],d,t+u*h[0],e)),f+=ia(FV||(FV=Ff(["L ",",",""])),t+n-u*h[1],e),h[1]>0&&(f+=ia(DV||(DV=Ff(["A ",",",",0,0,",`,
        `,",",""])),h[1],h[1],d,t+n,e+c*h[1])),f+=ia(LV||(LV=Ff(["L ",",",""])),t+n,e+r-c*h[2]),h[2]>0&&(f+=ia($V||($V=Ff(["A ",",",",0,0,",`,
        `,",",""])),h[2],h[2],d,t+n-u*h[2],e+r)),f+=ia(PV||(PV=Ff(["L ",",",""])),t+u*h[3],e+r),h[3]>0&&(f+=ia(UV||(UV=Ff(["A ",",",",0,0,",`,
        `,",",""])),h[3],h[3],d,t,e+r-c*h[3])),f+="Z"}else if(o>0&&s===+s&&s>0){var v=Math.min(o,s);f=ia(zV||(zV=Ff(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+c*v,v,v,d,t+u*v,e,t+n-u*v,e,v,v,d,t+n,e+c*v,t+n,e+r-c*v,v,v,d,t+n-u*v,e+r,t+u*v,e+r,v,v,d,t,e+r-c*v)}else f=ia(MV||(MV=Ff(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return f},qV={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},jle=t=>{var e=wi(t,qV),n=C.useRef(null),[r,s]=C.useState(-1);C.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var Z=n.current.getTotalLength();Z&&s(Z)}catch{}},[]);var{x:i,y:a,width:o,height:c,radius:u,className:d}=e,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:g,isUpdateAnimationActive:y}=e,x=C.useRef(o),v=C.useRef(c),w=C.useRef(i),B=C.useRef(a),k=C.useMemo(()=>({x:i,y:a,width:o,height:c,radius:u}),[i,a,o,c,u]),E=eb(k,"rectangle-");if(i!==+i||a!==+a||o!==+o||c!==+c||o===0||c===0)return null;var N=yr("recharts-rectangle",d);if(!y){var O=qa(e),{radius:F}=O,D=WV(O,$Ye);return C.createElement("path",_4({},D,{x:Pp(i),y:Pp(a),width:Pp(o),height:Pp(c),radius:typeof u=="number"?u:void 0,className:N,d:VV(i,a,o,c,u)}))}var T=x.current,j=v.current,P=w.current,U=B.current,z="0px ".concat(r===-1?1:r,"px"),ee="".concat(r,"px 0px"),q=Ble(["strokeDasharray"],h,typeof f=="string"?f:qV.animationEasing);return C.createElement(Zx,{animationId:E,key:E,canBegin:r>0,duration:h,easing:f,isActive:y,begin:m},Z=>{var G=Ns(T,o,Z),ne=Ns(j,c,Z),K=Ns(P,i,Z),H=Ns(U,a,Z);n.current&&(x.current=G,v.current=ne,w.current=K,B.current=H);var Q;g?Z>0?Q={transition:q,strokeDasharray:ee}:Q={strokeDasharray:z}:Q={strokeDasharray:ee};var X=qa(e),{radius:re}=X,le=WV(X,PYe);return C.createElement("path",_4({},le,{radius:typeof u=="number"?u:void 0,className:N,d:VV(K,H,G,ne,u),ref:n,style:HV(HV({},Q),e.style)}))})};function GV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function KV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GV(Object(n),!0).forEach(function(r){HYe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HYe(t,e,n){return(e=WYe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WYe(t){var e=VYe(t,"string");return typeof e=="symbol"?e:e+""}function VYe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var R4=Math.PI/180,O4=t=>t*Math.PI/180,qYe=t=>t*180/Math.PI,ps=(t,e,n,r)=>({x:t+Math.cos(-R4*r)*n,y:e+Math.sin(-R4*r)*n}),Tle=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},GYe=(t,e)=>{var{x:n,y:r}=t,{x:s,y:i}=e;return Math.sqrt((n-s)**2+(r-i)**2)},KYe=(t,e)=>{var{x:n,y:r}=t,{cx:s,cy:i}=e,a=GYe({x:n,y:r},{x:s,y:i});if(a<=0)return{radius:a,angle:0};var o=(n-s)/a,c=Math.acos(o);return r>i&&(c=2*Math.PI-c),{radius:a,angle:qYe(c),angleInRadian:c}},XYe=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),s=Math.floor(n/360),i=Math.min(r,s);return{startAngle:e-i*360,endAngle:n-i*360}},YYe=(t,e)=>{var{startAngle:n,endAngle:r}=e,s=Math.floor(n/360),i=Math.floor(r/360),a=Math.min(s,i);return t+a*360},JYe=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:s,angle:i}=KYe({x:n,y:r},e),{innerRadius:a,outerRadius:o}=e;if(s<a||s>o||s===0)return null;var{startAngle:c,endAngle:u}=XYe(e),d=i,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?KV(KV({},e),{},{radius:s,angle:YYe(d,e)}):null};function _le(t){var{cx:e,cy:n,radius:r,startAngle:s,endAngle:i}=t,a=ps(e,n,r,s),o=ps(e,n,r,i);return{points:[a,o],cx:e,cy:n,radius:r,startAngle:s,endAngle:i}}var XV,YV,JV,ZV,eq,tq,nq;function _F(){return _F=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_F.apply(null,arguments)}function yg(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var ZYe=(t,e)=>{var n=Lo(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},ZC=t=>{var{cx:e,cy:n,radius:r,angle:s,sign:i,isExternal:a,cornerRadius:o,cornerIsExternal:c}=t,u=o*(a?1:-1)+r,d=Math.asin(o/u)/R4,f=c?s:s+i*d,h=ps(e,n,u,f),m=ps(e,n,r,f),g=c?s-i*d:s,y=ps(e,n,u*Math.cos(d*R4),g);return{center:h,circleTangency:m,lineTangency:y,theta:d}},Rle=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:s,startAngle:i,endAngle:a}=t,o=ZYe(i,a),c=i+o,u=ps(e,n,s,i),d=ps(e,n,s,c),f=ia(XV||(XV=yg(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,s,s,+(Math.abs(o)>180),+(i>c),d.x,d.y);if(r>0){var h=ps(e,n,r,i),m=ps(e,n,r,c);f+=ia(YV||(YV=yg(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,r,r,+(Math.abs(o)>180),+(i<=c),h.x,h.y)}else f+=ia(JV||(JV=yg(["L ",","," Z"])),e,n);return f},eJe=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:s,cornerRadius:i,forceCornerRadius:a,cornerIsExternal:o,startAngle:c,endAngle:u}=t,d=Lo(u-c),{circleTangency:f,lineTangency:h,theta:m}=ZC({cx:e,cy:n,radius:s,angle:c,sign:d,cornerRadius:i,cornerIsExternal:o}),{circleTangency:g,lineTangency:y,theta:x}=ZC({cx:e,cy:n,radius:s,angle:u,sign:-d,cornerRadius:i,cornerIsExternal:o}),v=o?Math.abs(c-u):Math.abs(c-u)-m-x;if(v<0)return a?ia(ZV||(ZV=yg(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),h.x,h.y,i,i,i*2,i,i,-i*2):Rle({cx:e,cy:n,innerRadius:r,outerRadius:s,startAngle:c,endAngle:u});var w=ia(eq||(eq=yg(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),h.x,h.y,i,i,+(d<0),f.x,f.y,s,s,+(v>180),+(d<0),g.x,g.y,i,i,+(d<0),y.x,y.y);if(r>0){var{circleTangency:B,lineTangency:k,theta:E}=ZC({cx:e,cy:n,radius:r,angle:c,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),{circleTangency:N,lineTangency:O,theta:F}=ZC({cx:e,cy:n,radius:r,angle:u,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),D=o?Math.abs(c-u):Math.abs(c-u)-E-F;if(D<0&&i===0)return"".concat(w,"L").concat(e,",").concat(n,"Z");w+=ia(tq||(tq=yg(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),O.x,O.y,i,i,+(d<0),N.x,N.y,r,r,+(D>180),+(d>0),B.x,B.y,i,i,+(d<0),k.x,k.y)}else w+=ia(nq||(nq=yg(["L",",","Z"])),e,n);return w},tJe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Ole=t=>{var e=wi(t,tJe),{cx:n,cy:r,innerRadius:s,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=e;if(i<s||u===d)return null;var h=yr("recharts-sector",f),m=i-s,g=Tl(a,m,0,!0),y;return g>0&&Math.abs(u-d)<360?y=eJe({cx:n,cy:r,innerRadius:s,outerRadius:i,cornerRadius:Math.min(g,m/2),forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:d}):y=Rle({cx:n,cy:r,innerRadius:s,outerRadius:i,startAngle:u,endAngle:d}),C.createElement("path",_F({},qa(e),{className:h,d:y}))};function nJe(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(Aoe(e)){if(t==="centric"){var{cx:r,cy:s,innerRadius:i,outerRadius:a,angle:o}=e,c=ps(r,s,i,o),u=ps(r,s,a,o);return[{x:c.x,y:c.y},{x:u.x,y:u.y}]}return _le(e)}}var pR={},mR={},gR={},rq;function rJe(){return rq||(rq=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Soe();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(gR)),gR}var sq;function sJe(){return sq||(sq=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rJe();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(mR)),mR}var iq;function iJe(){return iq||(iq=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Coe(),n=sJe();function r(s,i,a){a&&typeof a!="number"&&e.isIterateeCall(s,i,a)&&(i=a=void 0),s=n.toFinite(s),i===void 0?(i=s,s=0):i=n.toFinite(i),a=a===void 0?s<i?1:-1:n.toFinite(a);const o=Math.max(Math.ceil((i-s)/(a||1)),0),c=new Array(o);for(let u=0;u<o;u++)c[u]=s,s+=a;return c}t.range=r})(pR)),pR}var yR,aq;function aJe(){return aq||(aq=1,yR=iJe().range),yR}var oJe=aJe();const Fle=nc(oJe);function Yp(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function lJe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function IP(t){let e,n,r;t.length!==2?(e=Yp,n=(o,c)=>Yp(t(o),c),r=(o,c)=>t(o)-c):(e=t===Yp||t===lJe?t:cJe,n=t,r=t);function s(o,c,u=0,d=o.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;n(o[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(o,c,u=0,d=o.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;n(o[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function a(o,c,u=0,d=o.length){const f=s(o,c,u,d-1);return f>u&&r(o[f-1],c)>-r(o[f],c)?f-1:f}return{left:s,center:a,right:i}}function cJe(){return 0}function Dle(t){return t===null?NaN:+t}function*uJe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const dJe=IP(Yp),cS=dJe.right;IP(Dle).center;class oq extends Map{constructor(e,n=hJe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,s]of e)this.set(r,s)}get(e){return super.get(lq(this,e))}has(e){return super.has(lq(this,e))}set(e,n){return super.set(fJe(this,e),n)}delete(e){return super.delete(AJe(this,e))}}function lq({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function fJe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function AJe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function hJe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function pJe(t=Yp){if(t===Yp)return Lle;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function Lle(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const mJe=Math.sqrt(50),gJe=Math.sqrt(10),yJe=Math.sqrt(2);function F4(t,e,n){const r=(e-t)/Math.max(0,n),s=Math.floor(Math.log10(r)),i=r/Math.pow(10,s),a=i>=mJe?10:i>=gJe?5:i>=yJe?2:1;let o,c,u;return s<0?(u=Math.pow(10,-s)/a,o=Math.round(t*u),c=Math.round(e*u),o/u<t&&++o,c/u>e&&--c,u=-u):(u=Math.pow(10,s)*a,o=Math.round(t/u),c=Math.round(e/u),o*u<t&&++o,c*u>e&&--c),c<o&&.5<=n&&n<2?F4(t,e,n*2):[o,c,u]}function RF(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[s,i,a]=r?F4(e,t,n):F4(t,e,n);if(!(i>=s))return[];const o=i-s+1,c=new Array(o);if(r)if(a<0)for(let u=0;u<o;++u)c[u]=(i-u)/-a;else for(let u=0;u<o;++u)c[u]=(i-u)*a;else if(a<0)for(let u=0;u<o;++u)c[u]=(s+u)/-a;else for(let u=0;u<o;++u)c[u]=(s+u)*a;return c}function OF(t,e,n){return e=+e,t=+t,n=+n,F4(t,e,n)[2]}function FF(t,e,n){e=+e,t=+t,n=+n;const r=e<t,s=r?OF(e,t,n):OF(t,e,n);return(r?-1:1)*(s<0?1/-s:s)}function cq(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function uq(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function $le(t,e,n=0,r=1/0,s){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(s=s===void 0?Lle:pJe(s);r>n;){if(r-n>600){const c=r-n+1,u=e-n+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(n,Math.floor(e-u*f/c+h)),g=Math.min(r,Math.floor(e+(c-u)*f/c+h));$le(t,e,m,g,s)}const i=t[e];let a=n,o=r;for(mv(t,n,e),s(t[r],i)>0&&mv(t,n,r);a<o;){for(mv(t,a,o),++a,--o;s(t[a],i)<0;)++a;for(;s(t[o],i)>0;)--o}s(t[n],i)===0?mv(t,n,o):(++o,mv(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function mv(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function xJe(t,e,n){if(t=Float64Array.from(uJe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return uq(t);if(e>=1)return cq(t);var r,s=(r-1)*e,i=Math.floor(s),a=cq($le(t,i).subarray(0,i+1)),o=uq(t.subarray(i+1));return a+(o-a)*(s-i)}}function bJe(t,e,n=Dle){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,s=(r-1)*e,i=Math.floor(s),a=+n(t[i],i,t),o=+n(t[i+1],i+1,t);return a+(o-a)*(s-i)}}function vJe(t,e,n){t=+t,e=+e,n=(s=arguments.length)<2?(e=t,t=0,1):s<3?1:+n;for(var r=-1,s=Math.max(0,Math.ceil((e-t)/n))|0,i=new Array(s);++r<s;)i[r]=t+r*n;return i}function ud(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Wh(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const DF=Symbol("implicit");function NP(){var t=new oq,e=[],n=[],r=DF;function s(i){let a=t.get(i);if(a===void 0){if(r!==DF)return r;t.set(i,a=e.push(i)-1)}return n[a%n.length]}return s.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new oq;for(const a of i)t.has(a)||t.set(a,e.push(a)-1);return s},s.range=function(i){return arguments.length?(n=Array.from(i),s):n.slice()},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return NP(e,n).unknown(r)},ud.apply(s,arguments),s}function jP(){var t=NP().unknown(void 0),e=t.domain,n=t.range,r=0,s=1,i,a,o=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var h=e().length,m=s<r,g=m?s:r,y=m?r:s;i=(y-g)/Math.max(1,h-c+u*2),o&&(i=Math.floor(i)),g+=(y-g-i*(h-c))*d,a=i*(1-c),o&&(g=Math.round(g),a=Math.round(a));var x=vJe(h).map(function(v){return g+i*v});return n(m?x.reverse():x)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,s]=h,r=+r,s=+s,f()):[r,s]},t.rangeRound=function(h){return[r,s]=h,r=+r,s=+s,o=!0,f()},t.bandwidth=function(){return a},t.step=function(){return i},t.round=function(h){return arguments.length?(o=!!h,f()):o},t.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},t.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return jP(e(),[r,s]).round(o).paddingInner(c).paddingOuter(u).align(d)},ud.apply(f(),arguments)}function Ple(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Ple(e())},t}function wJe(){return Ple(jP.apply(null,arguments).paddingInner(1))}function TP(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ule(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function uS(){}var W2=.7,D4=1/W2,i1="\\s*([+-]?\\d+)\\s*",V2="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",nA="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",SJe=/^#([0-9a-f]{3,8})$/,CJe=new RegExp(`^rgb\\(${i1},${i1},${i1}\\)$`),kJe=new RegExp(`^rgb\\(${nA},${nA},${nA}\\)$`),BJe=new RegExp(`^rgba\\(${i1},${i1},${i1},${V2}\\)$`),EJe=new RegExp(`^rgba\\(${nA},${nA},${nA},${V2}\\)$`),IJe=new RegExp(`^hsl\\(${V2},${nA},${nA}\\)$`),NJe=new RegExp(`^hsla\\(${V2},${nA},${nA},${V2}\\)$`),dq={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};TP(uS,q2,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:fq,formatHex:fq,formatHex8:jJe,formatHsl:TJe,formatRgb:Aq,toString:Aq});function fq(){return this.rgb().formatHex()}function jJe(){return this.rgb().formatHex8()}function TJe(){return zle(this).formatHsl()}function Aq(){return this.rgb().formatRgb()}function q2(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=SJe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?hq(e):n===3?new Ic(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ek(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ek(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=CJe.exec(t))?new Ic(e[1],e[2],e[3],1):(e=kJe.exec(t))?new Ic(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=BJe.exec(t))?ek(e[1],e[2],e[3],e[4]):(e=EJe.exec(t))?ek(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=IJe.exec(t))?gq(e[1],e[2]/100,e[3]/100,1):(e=NJe.exec(t))?gq(e[1],e[2]/100,e[3]/100,e[4]):dq.hasOwnProperty(t)?hq(dq[t]):t==="transparent"?new Ic(NaN,NaN,NaN,0):null}function hq(t){return new Ic(t>>16&255,t>>8&255,t&255,1)}function ek(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ic(t,e,n,r)}function _Je(t){return t instanceof uS||(t=q2(t)),t?(t=t.rgb(),new Ic(t.r,t.g,t.b,t.opacity)):new Ic}function LF(t,e,n,r){return arguments.length===1?_Je(t):new Ic(t,e,n,r??1)}function Ic(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}TP(Ic,LF,Ule(uS,{brighter(t){return t=t==null?D4:Math.pow(D4,t),new Ic(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?W2:Math.pow(W2,t),new Ic(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ic(_g(this.r),_g(this.g),_g(this.b),L4(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:pq,formatHex:pq,formatHex8:RJe,formatRgb:mq,toString:mq}));function pq(){return`#${xg(this.r)}${xg(this.g)}${xg(this.b)}`}function RJe(){return`#${xg(this.r)}${xg(this.g)}${xg(this.b)}${xg((isNaN(this.opacity)?1:this.opacity)*255)}`}function mq(){const t=L4(this.opacity);return`${t===1?"rgb(":"rgba("}${_g(this.r)}, ${_g(this.g)}, ${_g(this.b)}${t===1?")":`, ${t})`}`}function L4(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function _g(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function xg(t){return t=_g(t),(t<16?"0":"")+t.toString(16)}function gq(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new qd(t,e,n,r)}function zle(t){if(t instanceof qd)return new qd(t.h,t.s,t.l,t.opacity);if(t instanceof uS||(t=q2(t)),!t)return new qd;if(t instanceof qd)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,s=Math.min(e,n,r),i=Math.max(e,n,r),a=NaN,o=i-s,c=(i+s)/2;return o?(e===i?a=(n-r)/o+(n<r)*6:n===i?a=(r-e)/o+2:a=(e-n)/o+4,o/=c<.5?i+s:2-i-s,a*=60):o=c>0&&c<1?0:a,new qd(a,o,c,t.opacity)}function OJe(t,e,n,r){return arguments.length===1?zle(t):new qd(t,e,n,r??1)}function qd(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}TP(qd,OJe,Ule(uS,{brighter(t){return t=t==null?D4:Math.pow(D4,t),new qd(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?W2:Math.pow(W2,t),new qd(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,s=2*n-r;return new Ic(xR(t>=240?t-240:t+120,s,r),xR(t,s,r),xR(t<120?t+240:t-120,s,r),this.opacity)},clamp(){return new qd(yq(this.h),tk(this.s),tk(this.l),L4(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=L4(this.opacity);return`${t===1?"hsl(":"hsla("}${yq(this.h)}, ${tk(this.s)*100}%, ${tk(this.l)*100}%${t===1?")":`, ${t})`}`}}));function yq(t){return t=(t||0)%360,t<0?t+360:t}function tk(t){return Math.max(0,Math.min(1,t||0))}function xR(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const _P=t=>()=>t;function FJe(t,e){return function(n){return t+n*e}}function DJe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function LJe(t){return(t=+t)==1?Mle:function(e,n){return n-e?DJe(e,n,t):_P(isNaN(e)?n:e)}}function Mle(t,e){var n=e-t;return n?FJe(t,n):_P(isNaN(t)?e:t)}const xq=(function t(e){var n=LJe(e);function r(s,i){var a=n((s=LF(s)).r,(i=LF(i)).r),o=n(s.g,i.g),c=n(s.b,i.b),u=Mle(s.opacity,i.opacity);return function(d){return s.r=a(d),s.g=o(d),s.b=c(d),s.opacity=u(d),s+""}}return r.gamma=t,r})(1);function $Je(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),s;return function(i){for(s=0;s<n;++s)r[s]=t[s]*(1-i)+e[s]*i;return r}}function PJe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function UJe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,s=new Array(r),i=new Array(n),a;for(a=0;a<r;++a)s[a]=tb(t[a],e[a]);for(;a<n;++a)i[a]=e[a];return function(o){for(a=0;a<r;++a)i[a]=s[a](o);return i}}function zJe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function $4(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function MJe(t,e){var n={},r={},s;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(s in e)s in t?n[s]=tb(t[s],e[s]):r[s]=e[s];return function(i){for(s in n)r[s]=n[s](i);return r}}var $F=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bR=new RegExp($F.source,"g");function QJe(t){return function(){return t}}function HJe(t){return function(e){return t(e)+""}}function WJe(t,e){var n=$F.lastIndex=bR.lastIndex=0,r,s,i,a=-1,o=[],c=[];for(t=t+"",e=e+"";(r=$F.exec(t))&&(s=bR.exec(e));)(i=s.index)>n&&(i=e.slice(n,i),o[a]?o[a]+=i:o[++a]=i),(r=r[0])===(s=s[0])?o[a]?o[a]+=s:o[++a]=s:(o[++a]=null,c.push({i:a,x:$4(r,s)})),n=bR.lastIndex;return n<e.length&&(i=e.slice(n),o[a]?o[a]+=i:o[++a]=i),o.length<2?c[0]?HJe(c[0].x):QJe(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)o[(f=c[d]).i]=f.x(u);return o.join("")})}function tb(t,e){var n=typeof e,r;return e==null||n==="boolean"?_P(e):(n==="number"?$4:n==="string"?(r=q2(e))?(e=r,xq):WJe:e instanceof q2?xq:e instanceof Date?zJe:PJe(e)?$Je:Array.isArray(e)?UJe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?MJe:$4)(t,e)}function RP(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function VJe(t,e){e===void 0&&(e=t,t=tb);for(var n=0,r=e.length-1,s=e[0],i=new Array(r<0?0:r);n<r;)i[n]=t(s,s=e[++n]);return function(a){var o=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return i[o](a-o)}}function qJe(t){return function(){return t}}function P4(t){return+t}var bq=[0,1];function ql(t){return t}function PF(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:qJe(isNaN(e)?NaN:.5)}function GJe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function KJe(t,e,n){var r=t[0],s=t[1],i=e[0],a=e[1];return s<r?(r=PF(s,r),i=n(a,i)):(r=PF(r,s),i=n(i,a)),function(o){return i(r(o))}}function XJe(t,e,n){var r=Math.min(t.length,e.length)-1,s=new Array(r),i=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)s[a]=PF(t[a],t[a+1]),i[a]=n(e[a],e[a+1]);return function(o){var c=cS(t,o,1,r)-1;return i[c](s[c](o))}}function dS(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function v3(){var t=bq,e=bq,n=tb,r,s,i,a=ql,o,c,u;function d(){var h=Math.min(t.length,e.length);return a!==ql&&(a=GJe(t[0],t[h-1])),o=h>2?XJe:KJe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=o(t.map(r),e,n)))(r(a(h)))}return f.invert=function(h){return a(s((u||(u=o(e,t.map(r),$4)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,P4),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=RP,d()},f.clamp=function(h){return arguments.length?(a=h?!0:ql,d()):a!==ql},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return r=h,s=m,d()}}function OP(){return v3()(ql,ql)}function YJe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function U4(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function T1(t){return t=U4(Math.abs(t)),t?t[1]:NaN}function JJe(t,e){return function(n,r){for(var s=n.length,i=[],a=0,o=t[0],c=0;s>0&&o>0&&(c+o+1>r&&(o=Math.max(1,r-c)),i.push(n.substring(s-=o,s+o)),!((c+=o+1)>r));)o=t[a=(a+1)%t.length];return i.reverse().join(e)}}function ZJe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var eZe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function G2(t){if(!(e=eZe.exec(t)))throw new Error("invalid format: "+t);var e;return new FP({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}G2.prototype=FP.prototype;function FP(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}FP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function tZe(t){e:for(var e=t.length,n=1,r=-1,s;n<e;++n)switch(t[n]){case".":r=s=n;break;case"0":r===0&&(r=n),s=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(s+1):t}var z4;function nZe(t,e){var n=U4(t,e);if(!n)return z4=void 0,t.toPrecision(e);var r=n[0],s=n[1],i=s-(z4=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,a=r.length;return i===a?r:i>a?r+new Array(i-a+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+U4(t,Math.max(0,e+i-1))[0]}function vq(t,e){var n=U4(t,e);if(!n)return t+"";var r=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+r:r.length>s+1?r.slice(0,s+1)+"."+r.slice(s+1):r+new Array(s-r.length+2).join("0")}const wq={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:YJe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>vq(t*100,e),r:vq,s:nZe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Sq(t){return t}var Cq=Array.prototype.map,kq=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function rZe(t){var e=t.grouping===void 0||t.thousands===void 0?Sq:JJe(Cq.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",s=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?Sq:ZJe(Cq.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f,h){f=G2(f);var m=f.fill,g=f.align,y=f.sign,x=f.symbol,v=f.zero,w=f.width,B=f.comma,k=f.precision,E=f.trim,N=f.type;N==="n"?(B=!0,N="g"):wq[N]||(k===void 0&&(k=12),E=!0,N="g"),(v||m==="0"&&g==="=")&&(v=!0,m="0",g="=");var O=(h&&h.prefix!==void 0?h.prefix:"")+(x==="$"?n:x==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():""),F=(x==="$"?r:/[%p]/.test(N)?a:"")+(h&&h.suffix!==void 0?h.suffix:""),D=wq[N],T=/[defgprs%]/.test(N);k=k===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function j(P){var U=O,z=F,ee,q,Z;if(N==="c")z=D(P)+z,P="";else{P=+P;var G=P<0||1/P<0;if(P=isNaN(P)?c:D(Math.abs(P),k),E&&(P=tZe(P)),G&&+P==0&&y!=="+"&&(G=!1),U=(G?y==="("?y:o:y==="-"||y==="("?"":y)+U,z=(N==="s"&&!isNaN(P)&&z4!==void 0?kq[8+z4/3]:"")+z+(G&&y==="("?")":""),T){for(ee=-1,q=P.length;++ee<q;)if(Z=P.charCodeAt(ee),48>Z||Z>57){z=(Z===46?s+P.slice(ee+1):P.slice(ee))+z,P=P.slice(0,ee);break}}}B&&!v&&(P=e(P,1/0));var ne=U.length+P.length+z.length,K=ne<w?new Array(w-ne+1).join(m):"";switch(B&&v&&(P=e(K+P,K.length?w-z.length:1/0),K=""),g){case"<":P=U+P+z+K;break;case"=":P=U+K+P+z;break;case"^":P=K.slice(0,ne=K.length>>1)+U+P+z+K.slice(ne);break;default:P=K+U+P+z;break}return i(P)}return j.toString=function(){return f+""},j}function d(f,h){var m=Math.max(-8,Math.min(8,Math.floor(T1(h)/3)))*3,g=Math.pow(10,-m),y=u((f=G2(f),f.type="f",f),{suffix:kq[8+m/3]});return function(x){return y(g*x)}}return{format:u,formatPrefix:d}}var nk,DP,Qle;sZe({thousands:",",grouping:[3],currency:["$",""]});function sZe(t){return nk=rZe(t),DP=nk.format,Qle=nk.formatPrefix,nk}function iZe(t){return Math.max(0,-T1(Math.abs(t)))}function aZe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(T1(e)/3)))*3-T1(Math.abs(t)))}function oZe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,T1(e)-T1(t))+1}function Hle(t,e,n,r){var s=FF(t,e,n),i;switch(r=G2(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(i=aZe(s,a))&&(r.precision=i),Qle(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=oZe(s,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=iZe(s))&&(r.precision=i-(r.type==="%")*2);break}}return DP(r)}function _m(t){var e=t.domain;return t.ticks=function(n){var r=e();return RF(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var s=e();return Hle(s[0],s[s.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),s=0,i=r.length-1,a=r[s],o=r[i],c,u,d=10;for(o<a&&(u=a,a=o,o=u,u=s,s=i,i=u);d-- >0;){if(u=OF(a,o,n),u===c)return r[s]=a,r[i]=o,e(r);if(u>0)a=Math.floor(a/u)*u,o=Math.ceil(o/u)*u;else if(u<0)a=Math.ceil(a*u)/u,o=Math.floor(o*u)/u;else break;c=u}return t},t}function Wle(){var t=OP();return t.copy=function(){return dS(t,Wle())},ud.apply(t,arguments),_m(t)}function Vle(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,P4),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Vle(t).unknown(e)},t=arguments.length?Array.from(t,P4):[0,1],_m(n)}function qle(t,e){t=t.slice();var n=0,r=t.length-1,s=t[n],i=t[r],a;return i<s&&(a=n,n=r,r=a,a=s,s=i,i=a),t[n]=e.floor(s),t[r]=e.ceil(i),t}function Bq(t){return Math.log(t)}function Eq(t){return Math.exp(t)}function lZe(t){return-Math.log(-t)}function cZe(t){return-Math.exp(-t)}function uZe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function dZe(t){return t===10?uZe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function fZe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Iq(t){return(e,n)=>-t(-e,n)}function LP(t){const e=t(Bq,Eq),n=e.domain;let r=10,s,i;function a(){return s=fZe(r),i=dZe(r),n()[0]<0?(s=Iq(s),i=Iq(i),t(lZe,cZe)):t(Bq,Eq),e}return e.base=function(o){return arguments.length?(r=+o,a()):r},e.domain=function(o){return arguments.length?(n(o),a()):n()},e.ticks=o=>{const c=n();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=s(u),m=s(d),g,y;const x=o==null?10:+o;let v=[];if(!(r%1)&&m-h<x){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(g=1;g<r;++g)if(y=h<0?g/i(-h):g*i(h),!(y<u)){if(y>d)break;v.push(y)}}else for(;h<=m;++h)for(g=r-1;g>=1;--g)if(y=h>0?g/i(-h):g*i(h),!(y<u)){if(y>d)break;v.push(y)}v.length*2<x&&(v=RF(u,d,x))}else v=RF(h,m,Math.min(m-h,x)).map(i);return f?v.reverse():v},e.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=G2(c)).precision==null&&(c.trim=!0),c=DP(c)),o===1/0)return c;const u=Math.max(1,r*o/e.ticks().length);return d=>{let f=d/i(Math.round(s(d)));return f*r<r-.5&&(f*=r),f<=u?c(d):""}},e.nice=()=>n(qle(n(),{floor:o=>i(Math.floor(s(o))),ceil:o=>i(Math.ceil(s(o)))})),e}function Gle(){const t=LP(v3()).domain([1,10]);return t.copy=()=>dS(t,Gle()).base(t.base()),ud.apply(t,arguments),t}function Nq(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function jq(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function $P(t){var e=1,n=t(Nq(e),jq(e));return n.constant=function(r){return arguments.length?t(Nq(e=+r),jq(e)):e},_m(n)}function Kle(){var t=$P(v3());return t.copy=function(){return dS(t,Kle()).constant(t.constant())},ud.apply(t,arguments)}function Tq(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function AZe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function hZe(t){return t<0?-t*t:t*t}function PP(t){var e=t(ql,ql),n=1;function r(){return n===1?t(ql,ql):n===.5?t(AZe,hZe):t(Tq(n),Tq(1/n))}return e.exponent=function(s){return arguments.length?(n=+s,r()):n},_m(e)}function UP(){var t=PP(v3());return t.copy=function(){return dS(t,UP()).exponent(t.exponent())},ud.apply(t,arguments),t}function pZe(){return UP.apply(null,arguments).exponent(.5)}function _q(t){return Math.sign(t)*t*t}function mZe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Xle(){var t=OP(),e=[0,1],n=!1,r;function s(i){var a=mZe(t(i));return isNaN(a)?r:n?Math.round(a):a}return s.invert=function(i){return t.invert(_q(i))},s.domain=function(i){return arguments.length?(t.domain(i),s):t.domain()},s.range=function(i){return arguments.length?(t.range((e=Array.from(i,P4)).map(_q)),s):e.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(n=!!i,s):n},s.clamp=function(i){return arguments.length?(t.clamp(i),s):t.clamp()},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return Xle(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ud.apply(s,arguments),_m(s)}function Yle(){var t=[],e=[],n=[],r;function s(){var a=0,o=Math.max(1,e.length);for(n=new Array(o-1);++a<o;)n[a-1]=bJe(t,a/o);return i}function i(a){return a==null||isNaN(a=+a)?r:e[cS(n,a)]}return i.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},i.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let o of a)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Yp),s()},i.range=function(a){return arguments.length?(e=Array.from(a),s()):e.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return Yle().domain(t).range(e).unknown(r)},ud.apply(i,arguments)}function Jle(){var t=0,e=1,n=1,r=[.5],s=[0,1],i;function a(c){return c!=null&&c<=c?s[cS(r,c,0,n)]:i}function o(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return a}return a.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,o()):[t,e]},a.range=function(c){return arguments.length?(n=(s=Array.from(c)).length-1,o()):s.slice()},a.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(c){return arguments.length&&(i=c),a},a.thresholds=function(){return r.slice()},a.copy=function(){return Jle().domain([t,e]).range(s).unknown(i)},ud.apply(_m(a),arguments)}function Zle(){var t=[.5],e=[0,1],n,r=1;function s(i){return i!=null&&i<=i?e[cS(t,i,0,r)]:n}return s.domain=function(i){return arguments.length?(t=Array.from(i),r=Math.min(t.length,e.length-1),s):t.slice()},s.range=function(i){return arguments.length?(e=Array.from(i),r=Math.min(t.length,e.length-1),s):e.slice()},s.invertExtent=function(i){var a=e.indexOf(i);return[t[a-1],t[a]]},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return Zle().domain(t).range(e).unknown(n)},ud.apply(s,arguments)}const vR=new Date,wR=new Date;function xo(t,e,n,r){function s(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(t(i=new Date(+i)),i),s.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),s.round=i=>{const a=s(i),o=s.ceil(i);return i-a<o-i?a:o},s.offset=(i,a)=>(e(i=new Date(+i),a==null?1:Math.floor(a)),i),s.range=(i,a,o)=>{const c=[];if(i=s.ceil(i),o=o==null?1:Math.floor(o),!(i<a)||!(o>0))return c;let u;do c.push(u=new Date(+i)),e(i,o),t(i);while(u<i&&i<a);return c},s.filter=i=>xo(a=>{if(a>=a)for(;t(a),!i(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!i(a););else for(;--o>=0;)for(;e(a,1),!i(a););}),n&&(s.count=(i,a)=>(vR.setTime(+i),wR.setTime(+a),t(vR),t(wR),Math.floor(n(vR,wR))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(r?a=>r(a)%i===0:a=>s.count(0,a)%i===0):s)),s}const M4=xo(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);M4.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?xo(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):M4);M4.range;const ch=1e3,Xu=ch*60,uh=Xu*60,Eh=uh*24,zP=Eh*7,Rq=Eh*30,SR=Eh*365,bg=xo(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ch)},(t,e)=>(e-t)/ch,t=>t.getUTCSeconds());bg.range;const MP=xo(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ch)},(t,e)=>{t.setTime(+t+e*Xu)},(t,e)=>(e-t)/Xu,t=>t.getMinutes());MP.range;const QP=xo(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Xu)},(t,e)=>(e-t)/Xu,t=>t.getUTCMinutes());QP.range;const HP=xo(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ch-t.getMinutes()*Xu)},(t,e)=>{t.setTime(+t+e*uh)},(t,e)=>(e-t)/uh,t=>t.getHours());HP.range;const WP=xo(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*uh)},(t,e)=>(e-t)/uh,t=>t.getUTCHours());WP.range;const fS=xo(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Xu)/Eh,t=>t.getDate()-1);fS.range;const w3=xo(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Eh,t=>t.getUTCDate()-1);w3.range;const ece=xo(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Eh,t=>Math.floor(t/Eh));ece.range;function R0(t){return xo(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Xu)/zP)}const S3=R0(0),Q4=R0(1),gZe=R0(2),yZe=R0(3),_1=R0(4),xZe=R0(5),bZe=R0(6);S3.range;Q4.range;gZe.range;yZe.range;_1.range;xZe.range;bZe.range;function O0(t){return xo(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/zP)}const C3=O0(0),H4=O0(1),vZe=O0(2),wZe=O0(3),R1=O0(4),SZe=O0(5),CZe=O0(6);C3.range;H4.range;vZe.range;wZe.range;R1.range;SZe.range;CZe.range;const VP=xo(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());VP.range;const qP=xo(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());qP.range;const Ih=xo(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ih.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:xo(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ih.range;const Nh=xo(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Nh.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:xo(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Nh.range;function tce(t,e,n,r,s,i){const a=[[bg,1,ch],[bg,5,5*ch],[bg,15,15*ch],[bg,30,30*ch],[i,1,Xu],[i,5,5*Xu],[i,15,15*Xu],[i,30,30*Xu],[s,1,uh],[s,3,3*uh],[s,6,6*uh],[s,12,12*uh],[r,1,Eh],[r,2,2*Eh],[n,1,zP],[e,1,Rq],[e,3,3*Rq],[t,1,SR]];function o(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),g=m?m.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,m=IP(([,,x])=>x).right(a,h);if(m===a.length)return t.every(FF(u/SR,d/SR,f));if(m===0)return M4.every(Math.max(FF(u,d,f),1));const[g,y]=a[h/a[m-1][2]<a[m][2]/h?m-1:m];return g.every(y)}return[o,c]}const[kZe,BZe]=tce(Nh,qP,C3,ece,WP,QP),[EZe,IZe]=tce(Ih,VP,S3,fS,HP,MP);function CR(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function kR(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function gv(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function NZe(t){var e=t.dateTime,n=t.date,r=t.time,s=t.periods,i=t.days,a=t.shortDays,o=t.months,c=t.shortMonths,u=yv(s),d=xv(s),f=yv(i),h=xv(i),m=yv(a),g=xv(a),y=yv(o),x=xv(o),v=yv(c),w=xv(c),B={a:Z,A:G,b:ne,B:K,c:null,d:Pq,e:Pq,f:JZe,g:cet,G:det,H:KZe,I:XZe,j:YZe,L:nce,m:ZZe,M:eet,p:H,q:Q,Q:Mq,s:Qq,S:tet,u:net,U:ret,V:set,w:iet,W:aet,x:null,X:null,y:oet,Y:uet,Z:fet,"%":zq},k={a:X,A:re,b:le,B:he,c:null,d:Uq,e:Uq,f:met,g:Eet,G:Net,H:Aet,I:het,j:pet,L:sce,m:get,M:yet,p:xe,q:Be,Q:Mq,s:Qq,S:xet,u:bet,U:vet,V:wet,w:Cet,W:ket,x:null,X:null,y:Bet,Y:Iet,Z:jet,"%":zq},E={a:T,A:j,b:P,B:U,c:z,d:Lq,e:Lq,f:WZe,g:Dq,G:Fq,H:$q,I:$q,j:zZe,L:HZe,m:UZe,M:MZe,p:D,q:PZe,Q:qZe,s:GZe,S:QZe,u:OZe,U:FZe,V:DZe,w:RZe,W:LZe,x:ee,X:q,y:Dq,Y:Fq,Z:$Ze,"%":VZe};B.x=N(n,B),B.X=N(r,B),B.c=N(e,B),k.x=N(n,k),k.X=N(r,k),k.c=N(e,k);function N(me,ve){return function(Ee){var ye=[],Ue=-1,at=0,ie=me.length,Le,tt,It;for(Ee instanceof Date||(Ee=new Date(+Ee));++Ue<ie;)me.charCodeAt(Ue)===37&&(ye.push(me.slice(at,Ue)),(tt=Oq[Le=me.charAt(++Ue)])!=null?Le=me.charAt(++Ue):tt=Le==="e"?" ":"0",(It=ve[Le])&&(Le=It(Ee,tt)),ye.push(Le),at=Ue+1);return ye.push(me.slice(at,Ue)),ye.join("")}}function O(me,ve){return function(Ee){var ye=gv(1900,void 0,1),Ue=F(ye,me,Ee+="",0),at,ie;if(Ue!=Ee.length)return null;if("Q"in ye)return new Date(ye.Q);if("s"in ye)return new Date(ye.s*1e3+("L"in ye?ye.L:0));if(ve&&!("Z"in ye)&&(ye.Z=0),"p"in ye&&(ye.H=ye.H%12+ye.p*12),ye.m===void 0&&(ye.m="q"in ye?ye.q:0),"V"in ye){if(ye.V<1||ye.V>53)return null;"w"in ye||(ye.w=1),"Z"in ye?(at=kR(gv(ye.y,0,1)),ie=at.getUTCDay(),at=ie>4||ie===0?H4.ceil(at):H4(at),at=w3.offset(at,(ye.V-1)*7),ye.y=at.getUTCFullYear(),ye.m=at.getUTCMonth(),ye.d=at.getUTCDate()+(ye.w+6)%7):(at=CR(gv(ye.y,0,1)),ie=at.getDay(),at=ie>4||ie===0?Q4.ceil(at):Q4(at),at=fS.offset(at,(ye.V-1)*7),ye.y=at.getFullYear(),ye.m=at.getMonth(),ye.d=at.getDate()+(ye.w+6)%7)}else("W"in ye||"U"in ye)&&("w"in ye||(ye.w="u"in ye?ye.u%7:"W"in ye?1:0),ie="Z"in ye?kR(gv(ye.y,0,1)).getUTCDay():CR(gv(ye.y,0,1)).getDay(),ye.m=0,ye.d="W"in ye?(ye.w+6)%7+ye.W*7-(ie+5)%7:ye.w+ye.U*7-(ie+6)%7);return"Z"in ye?(ye.H+=ye.Z/100|0,ye.M+=ye.Z%100,kR(ye)):CR(ye)}}function F(me,ve,Ee,ye){for(var Ue=0,at=ve.length,ie=Ee.length,Le,tt;Ue<at;){if(ye>=ie)return-1;if(Le=ve.charCodeAt(Ue++),Le===37){if(Le=ve.charAt(Ue++),tt=E[Le in Oq?ve.charAt(Ue++):Le],!tt||(ye=tt(me,Ee,ye))<0)return-1}else if(Le!=Ee.charCodeAt(ye++))return-1}return ye}function D(me,ve,Ee){var ye=u.exec(ve.slice(Ee));return ye?(me.p=d.get(ye[0].toLowerCase()),Ee+ye[0].length):-1}function T(me,ve,Ee){var ye=m.exec(ve.slice(Ee));return ye?(me.w=g.get(ye[0].toLowerCase()),Ee+ye[0].length):-1}function j(me,ve,Ee){var ye=f.exec(ve.slice(Ee));return ye?(me.w=h.get(ye[0].toLowerCase()),Ee+ye[0].length):-1}function P(me,ve,Ee){var ye=v.exec(ve.slice(Ee));return ye?(me.m=w.get(ye[0].toLowerCase()),Ee+ye[0].length):-1}function U(me,ve,Ee){var ye=y.exec(ve.slice(Ee));return ye?(me.m=x.get(ye[0].toLowerCase()),Ee+ye[0].length):-1}function z(me,ve,Ee){return F(me,e,ve,Ee)}function ee(me,ve,Ee){return F(me,n,ve,Ee)}function q(me,ve,Ee){return F(me,r,ve,Ee)}function Z(me){return a[me.getDay()]}function G(me){return i[me.getDay()]}function ne(me){return c[me.getMonth()]}function K(me){return o[me.getMonth()]}function H(me){return s[+(me.getHours()>=12)]}function Q(me){return 1+~~(me.getMonth()/3)}function X(me){return a[me.getUTCDay()]}function re(me){return i[me.getUTCDay()]}function le(me){return c[me.getUTCMonth()]}function he(me){return o[me.getUTCMonth()]}function xe(me){return s[+(me.getUTCHours()>=12)]}function Be(me){return 1+~~(me.getUTCMonth()/3)}return{format:function(me){var ve=N(me+="",B);return ve.toString=function(){return me},ve},parse:function(me){var ve=O(me+="",!1);return ve.toString=function(){return me},ve},utcFormat:function(me){var ve=N(me+="",k);return ve.toString=function(){return me},ve},utcParse:function(me){var ve=O(me+="",!0);return ve.toString=function(){return me},ve}}}var Oq={"-":"",_:" ",0:"0"},qo=/^\s*\d+/,jZe=/^%/,TZe=/[\\^$*+?|[\]().{}]/g;function ds(t,e,n){var r=t<0?"-":"",s=(r?-t:t)+"",i=s.length;return r+(i<n?new Array(n-i+1).join(e)+s:s)}function _Ze(t){return t.replace(TZe,"\\$&")}function yv(t){return new RegExp("^(?:"+t.map(_Ze).join("|")+")","i")}function xv(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function RZe(t,e,n){var r=qo.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function OZe(t,e,n){var r=qo.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function FZe(t,e,n){var r=qo.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function DZe(t,e,n){var r=qo.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function LZe(t,e,n){var r=qo.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Fq(t,e,n){var r=qo.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Dq(t,e,n){var r=qo.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function $Ze(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function PZe(t,e,n){var r=qo.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function UZe(t,e,n){var r=qo.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Lq(t,e,n){var r=qo.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function zZe(t,e,n){var r=qo.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function $q(t,e,n){var r=qo.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function MZe(t,e,n){var r=qo.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function QZe(t,e,n){var r=qo.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function HZe(t,e,n){var r=qo.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function WZe(t,e,n){var r=qo.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function VZe(t,e,n){var r=jZe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function qZe(t,e,n){var r=qo.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function GZe(t,e,n){var r=qo.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Pq(t,e){return ds(t.getDate(),e,2)}function KZe(t,e){return ds(t.getHours(),e,2)}function XZe(t,e){return ds(t.getHours()%12||12,e,2)}function YZe(t,e){return ds(1+fS.count(Ih(t),t),e,3)}function nce(t,e){return ds(t.getMilliseconds(),e,3)}function JZe(t,e){return nce(t,e)+"000"}function ZZe(t,e){return ds(t.getMonth()+1,e,2)}function eet(t,e){return ds(t.getMinutes(),e,2)}function tet(t,e){return ds(t.getSeconds(),e,2)}function net(t){var e=t.getDay();return e===0?7:e}function ret(t,e){return ds(S3.count(Ih(t)-1,t),e,2)}function rce(t){var e=t.getDay();return e>=4||e===0?_1(t):_1.ceil(t)}function set(t,e){return t=rce(t),ds(_1.count(Ih(t),t)+(Ih(t).getDay()===4),e,2)}function iet(t){return t.getDay()}function aet(t,e){return ds(Q4.count(Ih(t)-1,t),e,2)}function oet(t,e){return ds(t.getFullYear()%100,e,2)}function cet(t,e){return t=rce(t),ds(t.getFullYear()%100,e,2)}function uet(t,e){return ds(t.getFullYear()%1e4,e,4)}function det(t,e){var n=t.getDay();return t=n>=4||n===0?_1(t):_1.ceil(t),ds(t.getFullYear()%1e4,e,4)}function fet(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ds(e/60|0,"0",2)+ds(e%60,"0",2)}function Uq(t,e){return ds(t.getUTCDate(),e,2)}function Aet(t,e){return ds(t.getUTCHours(),e,2)}function het(t,e){return ds(t.getUTCHours()%12||12,e,2)}function pet(t,e){return ds(1+w3.count(Nh(t),t),e,3)}function sce(t,e){return ds(t.getUTCMilliseconds(),e,3)}function met(t,e){return sce(t,e)+"000"}function get(t,e){return ds(t.getUTCMonth()+1,e,2)}function yet(t,e){return ds(t.getUTCMinutes(),e,2)}function xet(t,e){return ds(t.getUTCSeconds(),e,2)}function bet(t){var e=t.getUTCDay();return e===0?7:e}function vet(t,e){return ds(C3.count(Nh(t)-1,t),e,2)}function ice(t){var e=t.getUTCDay();return e>=4||e===0?R1(t):R1.ceil(t)}function wet(t,e){return t=ice(t),ds(R1.count(Nh(t),t)+(Nh(t).getUTCDay()===4),e,2)}function Cet(t){return t.getUTCDay()}function ket(t,e){return ds(H4.count(Nh(t)-1,t),e,2)}function Bet(t,e){return ds(t.getUTCFullYear()%100,e,2)}function Eet(t,e){return t=ice(t),ds(t.getUTCFullYear()%100,e,2)}function Iet(t,e){return ds(t.getUTCFullYear()%1e4,e,4)}function Net(t,e){var n=t.getUTCDay();return t=n>=4||n===0?R1(t):R1.ceil(t),ds(t.getUTCFullYear()%1e4,e,4)}function jet(){return"+0000"}function zq(){return"%"}function Mq(t){return+t}function Qq(t){return Math.floor(+t/1e3)}var vy,ace,oce;Tet({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Tet(t){return vy=NZe(t),ace=vy.format,vy.parse,oce=vy.utcFormat,vy.utcParse,vy}function _et(t){return new Date(t)}function Ret(t){return t instanceof Date?+t:+new Date(+t)}function GP(t,e,n,r,s,i,a,o,c,u){var d=OP(),f=d.invert,h=d.domain,m=u(".%L"),g=u(":%S"),y=u("%I:%M"),x=u("%I %p"),v=u("%a %d"),w=u("%b %d"),B=u("%B"),k=u("%Y");function E(N){return(c(N)<N?m:o(N)<N?g:a(N)<N?y:i(N)<N?x:r(N)<N?s(N)<N?v:w:n(N)<N?B:k)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,Ret)):h().map(_et)},d.ticks=function(N){var O=h();return t(O[0],O[O.length-1],N??10)},d.tickFormat=function(N,O){return O==null?E:u(O)},d.nice=function(N){var O=h();return(!N||typeof N.range!="function")&&(N=e(O[0],O[O.length-1],N??10)),N?h(qle(O,N)):d},d.copy=function(){return dS(d,GP(t,e,n,r,s,i,a,o,c,u))},d}function Oet(){return ud.apply(GP(EZe,IZe,Ih,VP,S3,fS,HP,MP,bg,ace).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Fet(){return ud.apply(GP(kZe,BZe,Nh,qP,C3,w3,WP,QP,bg,oce).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function k3(){var t=0,e=1,n,r,s,i,a=ql,o=!1,c;function u(f){return f==null||isNaN(f=+f)?c:a(s===0?.5:(f=(i(f)-n)*s,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=i(t=+t),r=i(e=+e),s=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(a=f,u):a};function d(f){return function(h){var m,g;return arguments.length?([m,g]=h,a=f(m,g),u):[a(0),a(1)]}}return u.range=d(tb),u.rangeRound=d(RP),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,n=f(t),r=f(e),s=n===r?0:1/(r-n),u}}function Rm(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function lce(){var t=_m(k3()(ql));return t.copy=function(){return Rm(t,lce())},Wh.apply(t,arguments)}function cce(){var t=LP(k3()).domain([1,10]);return t.copy=function(){return Rm(t,cce()).base(t.base())},Wh.apply(t,arguments)}function uce(){var t=$P(k3());return t.copy=function(){return Rm(t,uce()).constant(t.constant())},Wh.apply(t,arguments)}function KP(){var t=PP(k3());return t.copy=function(){return Rm(t,KP()).exponent(t.exponent())},Wh.apply(t,arguments)}function Det(){return KP.apply(null,arguments).exponent(.5)}function dce(){var t=[],e=ql;function n(r){if(r!=null&&!isNaN(r=+r))return e((cS(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let s of r)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Yp),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,s)=>e(s/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(s,i)=>xJe(t,i/r))},n.copy=function(){return dce(e).domain(t)},Wh.apply(n,arguments)}function B3(){var t=0,e=.5,n=1,r=1,s,i,a,o,c,u=ql,d,f=!1,h;function m(y){return isNaN(y=+y)?h:(y=.5+((y=+d(y))-i)*(r*y<r*i?o:c),u(f?Math.max(0,Math.min(1,y)):y))}m.domain=function(y){return arguments.length?([t,e,n]=y,s=d(t=+t),i=d(e=+e),a=d(n=+n),o=s===i?0:.5/(i-s),c=i===a?0:.5/(a-i),r=i<s?-1:1,m):[t,e,n]},m.clamp=function(y){return arguments.length?(f=!!y,m):f},m.interpolator=function(y){return arguments.length?(u=y,m):u};function g(y){return function(x){var v,w,B;return arguments.length?([v,w,B]=x,u=VJe(y,[v,w,B]),m):[u(0),u(.5),u(1)]}}return m.range=g(tb),m.rangeRound=g(RP),m.unknown=function(y){return arguments.length?(h=y,m):h},function(y){return d=y,s=y(t),i=y(e),a=y(n),o=s===i?0:.5/(i-s),c=i===a?0:.5/(a-i),r=i<s?-1:1,m}}function fce(){var t=_m(B3()(ql));return t.copy=function(){return Rm(t,fce())},Wh.apply(t,arguments)}function Ace(){var t=LP(B3()).domain([.1,1,10]);return t.copy=function(){return Rm(t,Ace()).base(t.base())},Wh.apply(t,arguments)}function hce(){var t=$P(B3());return t.copy=function(){return Rm(t,hce()).constant(t.constant())},Wh.apply(t,arguments)}function XP(){var t=PP(B3());return t.copy=function(){return Rm(t,XP()).exponent(t.exponent())},Wh.apply(t,arguments)}function Let(){return XP.apply(null,arguments).exponent(.5)}const Hv=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:jP,scaleDiverging:fce,scaleDivergingLog:Ace,scaleDivergingPow:XP,scaleDivergingSqrt:Let,scaleDivergingSymlog:hce,scaleIdentity:Vle,scaleImplicit:DF,scaleLinear:Wle,scaleLog:Gle,scaleOrdinal:NP,scalePoint:wJe,scalePow:UP,scaleQuantile:Yle,scaleQuantize:Jle,scaleRadial:Xle,scaleSequential:lce,scaleSequentialLog:cce,scaleSequentialPow:KP,scaleSequentialQuantile:dce,scaleSequentialSqrt:Det,scaleSequentialSymlog:uce,scaleSqrt:pZe,scaleSymlog:Kle,scaleThreshold:Zle,scaleTime:Oet,scaleUtc:Fet,tickFormat:Hle},Symbol.toStringTag,{value:"Module"}));var Vh=t=>t.chartData,AS=Ve([Vh],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),pce=(t,e,n,r)=>r?AS(t):Vh(t),mce=(t,e,n)=>n?AS(t):Vh(t);function jh(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(br(e)&&br(n))return!0}return!1}function Hq(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function gce(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,s,i;if(br(n))s=n;else if(typeof n=="function")return;if(br(r))i=r;else if(typeof r=="function")return;var a=[s,i];if(jh(a))return a}}function $et(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(jh(r))return Hq(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[s,i]=t,a,o;if(s==="auto")e!=null&&(a=Math.min(...e));else if(nn(s))a=s;else if(typeof s=="function")try{e!=null&&(a=s(e?.[0]))}catch{}else if(typeof s=="string"&&eV.test(s)){var c=eV.exec(s);if(c==null||c[1]==null||e==null)a=void 0;else{var u=+c[1];a=e[0]-u}}else a=e?.[0];if(i==="auto")e!=null&&(o=Math.max(...e));else if(nn(i))o=i;else if(typeof i=="function")try{e!=null&&(o=i(e?.[1]))}catch{}else if(typeof i=="string"&&tV.test(i)){var d=tV.exec(i);if(d==null||d[1]==null||e==null)o=void 0;else{var f=+d[1];o=e[1]+f}}else o=e?.[1];var h=[a,o];if(jh(h))return e==null?h:Hq(h,e,n)}}}var nb=1e9,Pet={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},JP,Mi=!0,id="[DecimalError] ",Rg=id+"Invalid argument: ",YP=id+"Exponent out of range: ",rb=Math.floor,ag=Math.pow,Uet=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,iu,_o=1e7,mi=7,yce=9007199254740991,W4=rb(yce/mi),pn={};pn.absoluteValue=pn.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};pn.comparedTo=pn.cmp=function(t){var e,n,r,s,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(r=i.d.length,s=t.d.length,e=0,n=r<s?r:s;e<n;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return r===s?0:r>s^i.s<0?1:-1};pn.decimalPlaces=pn.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*mi;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};pn.dividedBy=pn.div=function(t){return Ah(this,new this.constructor(t))};pn.dividedToIntegerBy=pn.idiv=function(t){var e=this,n=e.constructor;return Js(Ah(e,new n(t),0,1),n.precision)};pn.equals=pn.eq=function(t){return!this.cmp(t)};pn.exponent=function(){return Ja(this)};pn.greaterThan=pn.gt=function(t){return this.cmp(t)>0};pn.greaterThanOrEqualTo=pn.gte=function(t){return this.cmp(t)>=0};pn.isInteger=pn.isint=function(){return this.e>this.d.length-2};pn.isNegative=pn.isneg=function(){return this.s<0};pn.isPositive=pn.ispos=function(){return this.s>0};pn.isZero=function(){return this.s===0};pn.lessThan=pn.lt=function(t){return this.cmp(t)<0};pn.lessThanOrEqualTo=pn.lte=function(t){return this.cmp(t)<1};pn.logarithm=pn.log=function(t){var e,n=this,r=n.constructor,s=r.precision,i=s+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(iu))throw Error(id+"NaN");if(n.s<1)throw Error(id+(n.s?"NaN":"-Infinity"));return n.eq(iu)?new r(0):(Mi=!1,e=Ah(K2(n,i),K2(t,i),i),Mi=!0,Js(e,s))};pn.minus=pn.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?vce(e,t):xce(e,(t.s=-t.s,t))};pn.modulo=pn.mod=function(t){var e,n=this,r=n.constructor,s=r.precision;if(t=new r(t),!t.s)throw Error(id+"NaN");return n.s?(Mi=!1,e=Ah(n,t,0,1).times(t),Mi=!0,n.minus(e)):Js(new r(n),s)};pn.naturalExponential=pn.exp=function(){return bce(this)};pn.naturalLogarithm=pn.ln=function(){return K2(this)};pn.negated=pn.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};pn.plus=pn.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?xce(e,t):vce(e,(t.s=-t.s,t))};pn.precision=pn.sd=function(t){var e,n,r,s=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Rg+t);if(e=Ja(s)+1,r=s.d.length-1,n=r*mi+1,r=s.d[r],r){for(;r%10==0;r/=10)n--;for(r=s.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};pn.squareRoot=pn.sqrt=function(){var t,e,n,r,s,i,a,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(id+"NaN")}for(t=Ja(o),Mi=!1,s=Math.sqrt(+o),s==0||s==1/0?(e=qf(o.d),(e.length+t)%2==0&&(e+="0"),s=Math.sqrt(e),t=rb((t+1)/2)-(t<0||t%2),s==1/0?e="5e"+t:(e=s.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(s.toString()),n=c.precision,s=a=n+3;;)if(i=r,r=i.plus(Ah(o,i,a+2)).times(.5),qf(i.d).slice(0,a)===(e=qf(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),s==a&&e=="4999"){if(Js(i,n+1,0),i.times(i).eq(o)){r=i;break}}else if(e!="9999")break;a+=4}return Mi=!0,Js(r,n)};pn.times=pn.mul=function(t){var e,n,r,s,i,a,o,c,u,d=this,f=d.constructor,h=d.d,m=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,n=d.e+t.e,c=h.length,u=m.length,c<u&&(i=h,h=m,m=i,a=c,c=u,u=a),i=[],a=c+u,r=a;r--;)i.push(0);for(r=u;--r>=0;){for(e=0,s=c+r;s>r;)o=i[s]+m[r]*h[s-r-1]+e,i[s--]=o%_o|0,e=o/_o|0;i[s]=(i[s]+e)%_o|0}for(;!i[--a];)i.pop();return e?++n:i.shift(),t.d=i,t.e=n,Mi?Js(t,f.precision):t};pn.toDecimalPlaces=pn.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(hA(t,0,nb),e===void 0?e=r.rounding:hA(e,0,8),Js(n,t+Ja(n)+1,e))};pn.toExponential=function(t,e){var n,r=this,s=r.constructor;return t===void 0?n=d0(r,!0):(hA(t,0,nb),e===void 0?e=s.rounding:hA(e,0,8),r=Js(new s(r),t+1,e),n=d0(r,!0,t+1)),n};pn.toFixed=function(t,e){var n,r,s=this,i=s.constructor;return t===void 0?d0(s):(hA(t,0,nb),e===void 0?e=i.rounding:hA(e,0,8),r=Js(new i(s),t+Ja(s)+1,e),n=d0(r.abs(),!1,t+Ja(r)+1),s.isneg()&&!s.isZero()?"-"+n:n)};pn.toInteger=pn.toint=function(){var t=this,e=t.constructor;return Js(new e(t),Ja(t)+1,e.rounding)};pn.toNumber=function(){return+this};pn.toPower=pn.pow=function(t){var e,n,r,s,i,a,o=this,c=o.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(iu);if(o=new c(o),!o.s){if(t.s<1)throw Error(id+"Infinity");return o}if(o.eq(iu))return o;if(r=c.precision,t.eq(iu))return Js(o,r);if(e=t.e,n=t.d.length-1,a=e>=n,i=o.s,a){if((n=d<0?-d:d)<=yce){for(s=new c(iu),e=Math.ceil(r/mi+4),Mi=!1;n%2&&(s=s.times(o),Vq(s.d,e)),n=rb(n/2),n!==0;)o=o.times(o),Vq(o.d,e);return Mi=!0,t.s<0?new c(iu).div(s):Js(s,r)}}else if(i<0)throw Error(id+"NaN");return i=i<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,Mi=!1,s=t.times(K2(o,r+u)),Mi=!0,s=bce(s),s.s=i,s};pn.toPrecision=function(t,e){var n,r,s=this,i=s.constructor;return t===void 0?(n=Ja(s),r=d0(s,n<=i.toExpNeg||n>=i.toExpPos)):(hA(t,1,nb),e===void 0?e=i.rounding:hA(e,0,8),s=Js(new i(s),t,e),n=Ja(s),r=d0(s,t<=n||n<=i.toExpNeg,t)),r};pn.toSignificantDigits=pn.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(hA(t,1,nb),e===void 0?e=r.rounding:hA(e,0,8)),Js(new r(n),t,e)};pn.toString=pn.valueOf=pn.val=pn.toJSON=pn[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ja(t),n=t.constructor;return d0(t,e<=n.toExpNeg||e>=n.toExpPos)};function xce(t,e){var n,r,s,i,a,o,c,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Mi?Js(e,f):e;if(c=t.d,u=e.d,a=t.e,s=e.e,c=c.slice(),i=a-s,i){for(i<0?(r=c,i=-i,o=u.length):(r=u,s=a,o=c.length),a=Math.ceil(f/mi),o=a>o?a+1:o+1,i>o&&(i=o,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(o=c.length,i=u.length,o-i<0&&(i=o,r=u,u=c,c=r),n=0;i;)n=(c[--i]=c[i]+u[i]+n)/_o|0,c[i]%=_o;for(n&&(c.unshift(n),++s),o=c.length;c[--o]==0;)c.pop();return e.d=c,e.e=s,Mi?Js(e,f):e}function hA(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Rg+t)}function qf(t){var e,n,r,s=t.length-1,i="",a=t[0];if(s>0){for(i+=a,e=1;e<s;e++)r=t[e]+"",n=mi-r.length,n&&(i+=Tp(n)),i+=r;a=t[e],r=a+"",n=mi-r.length,n&&(i+=Tp(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return i+a}var Ah=(function(){function t(r,s){var i,a=0,o=r.length;for(r=r.slice();o--;)i=r[o]*s+a,r[o]=i%_o|0,a=i/_o|0;return a&&r.unshift(a),r}function e(r,s,i,a){var o,c;if(i!=a)c=i>a?1:-1;else for(o=c=0;o<i;o++)if(r[o]!=s[o]){c=r[o]>s[o]?1:-1;break}return c}function n(r,s,i){for(var a=0;i--;)r[i]-=a,a=r[i]<s[i]?1:0,r[i]=a*_o+r[i]-s[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,s,i,a){var o,c,u,d,f,h,m,g,y,x,v,w,B,k,E,N,O,F,D=r.constructor,T=r.s==s.s?1:-1,j=r.d,P=s.d;if(!r.s)return new D(r);if(!s.s)throw Error(id+"Division by zero");for(c=r.e-s.e,O=P.length,E=j.length,m=new D(T),g=m.d=[],u=0;P[u]==(j[u]||0);)++u;if(P[u]>(j[u]||0)&&--c,i==null?w=i=D.precision:a?w=i+(Ja(r)-Ja(s))+1:w=i,w<0)return new D(0);if(w=w/mi+2|0,u=0,O==1)for(d=0,P=P[0],w++;(u<E||d)&&w--;u++)B=d*_o+(j[u]||0),g[u]=B/P|0,d=B%P|0;else{for(d=_o/(P[0]+1)|0,d>1&&(P=t(P,d),j=t(j,d),O=P.length,E=j.length),k=O,y=j.slice(0,O),x=y.length;x<O;)y[x++]=0;F=P.slice(),F.unshift(0),N=P[0],P[1]>=_o/2&&++N;do d=0,o=e(P,y,O,x),o<0?(v=y[0],O!=x&&(v=v*_o+(y[1]||0)),d=v/N|0,d>1?(d>=_o&&(d=_o-1),f=t(P,d),h=f.length,x=y.length,o=e(f,y,h,x),o==1&&(d--,n(f,O<h?F:P,h))):(d==0&&(o=d=1),f=P.slice()),h=f.length,h<x&&f.unshift(0),n(y,f,x),o==-1&&(x=y.length,o=e(P,y,O,x),o<1&&(d++,n(y,O<x?F:P,x))),x=y.length):o===0&&(d++,y=[0]),g[u++]=d,o&&y[0]?y[x++]=j[k]||0:(y=[j[k]],x=1);while((k++<E||y[0]!==void 0)&&w--)}return g[0]||g.shift(),m.e=c,Js(m,a?i+Ja(m)+1:i)}})();function bce(t,e){var n,r,s,i,a,o,c=0,u=0,d=t.constructor,f=d.precision;if(Ja(t)>16)throw Error(YP+Ja(t));if(!t.s)return new d(iu);for(Mi=!1,o=f,a=new d(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(ag(2,u))/Math.LN10*2+5|0,o+=r,n=s=i=new d(iu),d.precision=o;;){if(s=Js(s.times(t),o),n=n.times(++c),a=i.plus(Ah(s,n,o)),qf(a.d).slice(0,o)===qf(i.d).slice(0,o)){for(;u--;)i=Js(i.times(i),o);return d.precision=f,e==null?(Mi=!0,Js(i,f)):i}i=a}}function Ja(t){for(var e=t.e*mi,n=t.d[0];n>=10;n/=10)e++;return e}function BR(t,e,n){if(e>t.LN10.sd())throw Mi=!0,n&&(t.precision=n),Error(id+"LN10 precision limit exceeded");return Js(new t(t.LN10),e)}function Tp(t){for(var e="";t--;)e+="0";return e}function K2(t,e){var n,r,s,i,a,o,c,u,d,f=1,h=10,m=t,g=m.d,y=m.constructor,x=y.precision;if(m.s<1)throw Error(id+(m.s?"NaN":"-Infinity"));if(m.eq(iu))return new y(0);if(e==null?(Mi=!1,u=x):u=e,m.eq(10))return e==null&&(Mi=!0),BR(y,u);if(u+=h,y.precision=u,n=qf(g),r=n.charAt(0),i=Ja(m),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=qf(m.d),r=n.charAt(0),f++;i=Ja(m),r>1?(m=new y("0."+n),i++):m=new y(r+"."+n.slice(1))}else return c=BR(y,u+2,x).times(i+""),m=K2(new y(r+"."+n.slice(1)),u-h).plus(c),y.precision=x,e==null?(Mi=!0,Js(m,x)):m;for(o=a=m=Ah(m.minus(iu),m.plus(iu),u),d=Js(m.times(m),u),s=3;;){if(a=Js(a.times(d),u),c=o.plus(Ah(a,new y(s),u)),qf(c.d).slice(0,u)===qf(o.d).slice(0,u))return o=o.times(2),i!==0&&(o=o.plus(BR(y,u+2,x).times(i+""))),o=Ah(o,new y(f),u),y.precision=x,e==null?(Mi=!0,Js(o,x)):o;o=c,s+=2}}function Wq(t,e){var n,r,s;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(s=e.length;e.charCodeAt(s-1)===48;)--s;if(e=e.slice(r,s),e){if(s-=r,n=n-r-1,t.e=rb(n/mi),t.d=[],r=(n+1)%mi,n<0&&(r+=mi),r<s){for(r&&t.d.push(+e.slice(0,r)),s-=mi;r<s;)t.d.push(+e.slice(r,r+=mi));e=e.slice(r),r=mi-e.length}else r-=s;for(;r--;)e+="0";if(t.d.push(+e),Mi&&(t.e>W4||t.e<-W4))throw Error(YP+n)}else t.s=0,t.e=0,t.d=[0];return t}function Js(t,e,n){var r,s,i,a,o,c,u,d,f=t.d;for(a=1,i=f[0];i>=10;i/=10)a++;if(r=e-a,r<0)r+=mi,s=e,u=f[d=0];else{if(d=Math.ceil((r+1)/mi),i=f.length,d>=i)return t;for(u=i=f[d],a=1;i>=10;i/=10)a++;r%=mi,s=r-mi+a}if(n!==void 0&&(i=ag(10,a-s-1),o=u/i%10|0,c=e<0||f[d+1]!==void 0||u%i,c=n<4?(o||c)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||c||n==6&&(r>0?s>0?u/ag(10,a-s):0:f[d-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return c?(i=Ja(t),f.length=1,e=e-i-1,f[0]=ag(10,(mi-e%mi)%mi),t.e=rb(-e/mi)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=d,i=1,d--):(f.length=d+1,i=ag(10,mi-r),f[d]=s>0?(u/ag(10,a-s)%ag(10,s)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==_o&&(f[0]=1,++t.e);break}else{if(f[d]+=i,f[d]!=_o)break;f[d--]=0,i=1}for(r=f.length;f[--r]===0;)f.pop();if(Mi&&(t.e>W4||t.e<-W4))throw Error(YP+Ja(t));return t}function vce(t,e){var n,r,s,i,a,o,c,u,d,f,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Mi?Js(e,m):e;if(c=t.d,f=e.d,r=e.e,u=t.e,c=c.slice(),a=u-r,a){for(d=a<0,d?(n=c,a=-a,o=f.length):(n=f,r=u,o=c.length),s=Math.max(Math.ceil(m/mi),o)+2,a>s&&(a=s,n.length=1),n.reverse(),s=a;s--;)n.push(0);n.reverse()}else{for(s=c.length,o=f.length,d=s<o,d&&(o=s),s=0;s<o;s++)if(c[s]!=f[s]){d=c[s]<f[s];break}a=0}for(d&&(n=c,c=f,f=n,e.s=-e.s),o=c.length,s=f.length-o;s>0;--s)c[o++]=0;for(s=f.length;s>a;){if(c[--s]<f[s]){for(i=s;i&&c[--i]===0;)c[i]=_o-1;--c[i],c[s]+=_o}c[s]-=f[s]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,Mi?Js(e,m):e):new h(0)}function d0(t,e,n){var r,s=Ja(t),i=qf(t.d),a=i.length;return e?(n&&(r=n-a)>0?i=i.charAt(0)+"."+i.slice(1)+Tp(r):a>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+Tp(-s-1)+i,n&&(r=n-a)>0&&(i+=Tp(r))):s>=a?(i+=Tp(s+1-a),n&&(r=n-s-1)>0&&(i=i+"."+Tp(r))):((r=s+1)<a&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-a)>0&&(s+1===a&&(i+="."),i+=Tp(r))),t.s<0?"-"+i:i}function Vq(t,e){if(t.length>e)return t.length=e,!0}function wce(t){var e,n,r;function s(i){var a=this;if(!(a instanceof s))return new s(i);if(a.constructor=s,i instanceof s){a.s=i.s,a.e=i.e,a.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Rg+i);if(i>0)a.s=1;else if(i<0)i=-i,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(i===~~i&&i<1e7){a.e=0,a.d=[i];return}return Wq(a,i.toString())}else if(typeof i!="string")throw Error(Rg+i);if(i.charCodeAt(0)===45?(i=i.slice(1),a.s=-1):a.s=1,Uet.test(i))Wq(a,i);else throw Error(Rg+i)}if(s.prototype=pn,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=wce,s.config=s.set=zet,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return s.config(t),s}function zet(t){if(!t||typeof t!="object")throw Error(id+"Object expected");var e,n,r,s=["precision",1,nb,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<s.length;e+=3)if((r=t[n=s[e]])!==void 0)if(rb(r)===r&&r>=s[e+1]&&r<=s[e+2])this[n]=r;else throw Error(Rg+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Rg+n+": "+r);return this}var JP=wce(Pet);iu=new JP(1);const Is=JP;function Sce(t){var e;return t===0?e=1:e=Math.floor(new Is(t).abs().log(10).toNumber())+1,e}function Cce(t,e,n){for(var r=new Is(t),s=0,i=[];r.lt(e)&&s<1e5;)i.push(r.toNumber()),r=r.add(n),s++;return i}var kce=t=>{var[e,n]=t,[r,s]=[e,n];return e>n&&([r,s]=[n,e]),[r,s]},Bce=(t,e,n)=>{if(t.lte(0))return new Is(0);var r=Sce(t.toNumber()),s=new Is(10).pow(r),i=t.div(s),a=r!==1?.05:.1,o=new Is(Math.ceil(i.div(a).toNumber())).add(n).mul(a),c=o.mul(s);return e?new Is(c.toNumber()):new Is(Math.ceil(c.toNumber()))},Met=(t,e,n)=>{var r=new Is(1),s=new Is(t);if(!s.isint()&&n){var i=Math.abs(t);i<1?(r=new Is(10).pow(Sce(t)-1),s=new Is(Math.floor(s.div(r).toNumber())).mul(r)):i>1&&(s=new Is(Math.floor(t)))}else t===0?s=new Is(Math.floor((e-1)/2)):n||(s=new Is(Math.floor(t)));for(var a=Math.floor((e-1)/2),o=[],c=0;c<e;c++)o.push(s.add(new Is(c-a).mul(r)).toNumber());return o},Ece=function(e,n,r,s){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Is(0),tickMin:new Is(0),tickMax:new Is(0)};var a=Bce(new Is(n).sub(e).div(r-1),s,i),o;e<=0&&n>=0?o=new Is(0):(o=new Is(e).add(n).div(2),o=o.sub(new Is(o).mod(a)));var c=Math.ceil(o.sub(e).div(a).toNumber()),u=Math.ceil(new Is(n).sub(o).div(a).toNumber()),d=c+u+1;return d>r?Ece(e,n,r,s,i+1):(d<r&&(u=n>0?u+(r-d):u,c=n>0?c:c+(r-d)),{step:a,tickMin:o.sub(new Is(c).mul(a)),tickMax:o.add(new Is(u).mul(a))})},Qet=function(e){var[n,r]=e,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(s,2),[o,c]=kce([n,r]);if(o===-1/0||c===1/0){var u=c===1/0?[o,...Array(s-1).fill(1/0)]:[...Array(s-1).fill(-1/0),c];return n>r?u.reverse():u}if(o===c)return Met(o,s,i);var{step:d,tickMin:f,tickMax:h}=Ece(o,c,a,i,0),m=Cce(f,h.add(new Is(.1).mul(d)),d);return n>r?m.reverse():m},Het=function(e,n){var[r,s]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=kce([r,s]);if(a===-1/0||o===1/0)return[r,s];if(a===o)return[a];var c=Math.max(n,2),u=Bce(new Is(o).sub(a).div(c-1),i,0),d=[...Cce(new Is(a),new Is(o),u),o];return i===!1&&(d=d.map(f=>Math.round(f))),r>s?d.reverse():d},Ice=t=>t.rootProps.maxBarSize,Wet=t=>t.rootProps.barGap,Nce=t=>t.rootProps.barCategoryGap,Vet=t=>t.rootProps.barSize,hS=t=>t.rootProps.stackOffset,jce=t=>t.rootProps.reverseStackOrder,ZP=t=>t.options.chartName,eU=t=>t.rootProps.syncId,Tce=t=>t.rootProps.syncMethod,tU=t=>t.options.eventEmitter,qet=t=>t.rootProps.baseValue,Qi={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Ep={allowDecimals:!1,allowDuplicatedCategory:!0,allowDataOverflow:!1,angle:0,angleAxisId:0,axisLine:!0,axisLineType:"polygon",cx:0,cy:0,hide:!1,includeHidden:!1,label:!1,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"auto",zIndex:Qi.axis},Ld={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,includeHidden:!1,hide:!1,label:!1,orientation:"right",radiusAxisId:0,reversed:!1,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,tickLine:!0,type:"auto",zIndex:Qi.axis},E3=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e};function sb(t,e,n){if(n!=="auto")return n;if(t!=null)return pf(t,e)?"category":"number"}function qq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function V4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qq(Object(n),!0).forEach(function(r){Get(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Get(t,e,n){return(e=Ket(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ket(t){var e=Xet(t,"string");return typeof e=="symbol"?e:e+""}function Xet(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gq={allowDataOverflow:Ep.allowDataOverflow,allowDecimals:Ep.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ep.angleAxisId,includeHidden:!1,name:void 0,reversed:Ep.reversed,scale:Ep.scale,tick:Ep.tick,tickCount:void 0,ticks:void 0,type:Ep.type,unit:void 0},Kq={allowDataOverflow:Ld.allowDataOverflow,allowDecimals:Ld.allowDecimals,allowDuplicatedCategory:Ld.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ld.radiusAxisId,includeHidden:Ld.includeHidden,name:void 0,reversed:Ld.reversed,scale:Ld.scale,tick:Ld.tick,tickCount:Ld.tickCount,ticks:void 0,type:Ld.type,unit:void 0},Yet=(t,e)=>{if(e!=null)return t.polarAxis.angleAxis[e]},ib=Ve([Yet,kP],(t,e)=>{var n;if(t!=null)return t;var r=(n=sb(e,"angleAxis",Gq.type))!==null&&n!==void 0?n:"category";return V4(V4({},Gq),{},{type:r})}),Jet=(t,e)=>t.polarAxis.radiusAxis[e],pS=Ve([Jet,kP],(t,e)=>{var n;if(t!=null)return t;var r=(n=sb(e,"radiusAxis",Kq.type))!==null&&n!==void 0?n:"category";return V4(V4({},Kq),{},{type:r})}),I3=t=>t.polarOptions,nU=Ve([Qh,Hh,yo],Tle),_ce=Ve([I3,nU],(t,e)=>{if(t!=null)return Tl(t.innerRadius,e,0)}),Rce=Ve([I3,nU],(t,e)=>{if(t!=null)return Tl(t.outerRadius,e,e*.8)}),Zet=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},Oce=Ve([I3],Zet),ett=Ve([ib,Oce],E3),Fce=Ve([nU,_ce,Rce],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]}),ttt=Ve([pS,Fce],E3),ab=Ve([$r,I3,_ce,Rce,Qh,Hh],(t,e,n,r,s,i)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:a,cy:o,startAngle:c,endAngle:u}=e;return{cx:Tl(a,s,s/2),cy:Tl(o,i,i/2),innerRadius:n,outerRadius:r,startAngle:c,endAngle:u,clockWise:!1}}}),ii=(t,e)=>e,mS=(t,e,n)=>n;function N3(t){return t?.id}function Dce(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:s,dataKey:i}=n,a=new Map;return t.forEach(o=>{var c,u=(c=o.data)!==null&&c!==void 0?c:r;if(!(u==null||u.length===0)){var d=N3(o);u.forEach((f,h)=>{var m=i==null||s?h:String(ws(f,i,null)),g=ws(f,o.dataKey,0),y;a.has(m)?y=a.get(m):y={},Object.assign(y,{[d]:g}),a.set(m,y)})}}),Array.from(a.values())}function j3(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var T3=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function _3(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function ntt(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Go=t=>{var e=$r(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},ob=t=>t.tooltip.settings.axisId;function rtt(t){if(t in Hv)return Hv[t]();var e="scale".concat(nS(t));if(e in Hv)return Hv[e]()}function Xq(t){var e=t.ticks,n=t.bandwidth,r=t.range(),s=[Math.min(...r),Math.max(...r)];return{domain:()=>t.domain(),range:(function(i){function a(){return i.apply(this,arguments)}return a.toString=function(){return i.toString()},a})(()=>s),rangeMin:()=>s[0],rangeMax:()=>s[1],isInRange(i){var a=s[0],o=s[1];return a<=o?i>=a&&i<=o:i>=o&&i<=a},bandwidth:n?()=>n.call(t):void 0,ticks:e?i=>e.call(t,i):void 0,map:(i,a)=>{var o=t(i);if(o!=null){if(t.bandwidth&&a!==null&&a!==void 0&&a.position){var c=t.bandwidth();switch(a.position){case"middle":o+=c/2;break;case"end":o+=c;break}}return o}}}}function Yq(t,e,n){if(typeof t=="function")return Xq(t.copy().domain(e).range(n));if(t!=null){var r=rtt(t);if(r!=null)return r.domain(e).range(n),Xq(r)}}var Lce=(t,e)=>{if(e!=null)switch(t){case"linear":{if(!jh(e)){for(var n,r,s=0;s<e.length;s++){var i=e[s];br(i)&&((n===void 0||i<n)&&(n=i),(r===void 0||i>r)&&(r=i))}return n!==void 0&&r!==void 0?[n,r]:void 0}return e}default:return e}};function Jq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function q4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jq(Object(n),!0).forEach(function(r){stt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function stt(t,e,n){return(e=itt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function itt(t){var e=att(t,"string");return typeof e=="symbol"?e:e+""}function att(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var UF=[0,"auto"],jo={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},$ce=(t,e)=>t.cartesianAxis.xAxis[e],qh=(t,e)=>{var n=$ce(t,e);return n??jo},To={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:UF,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:iS},Pce=(t,e)=>t.cartesianAxis.yAxis[e],Gh=(t,e)=>{var n=Pce(t,e);return n??To},ott={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},rU=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??ott},wa=(t,e,n)=>{switch(e){case"xAxis":return qh(t,n);case"yAxis":return Gh(t,n);case"zAxis":return rU(t,n);case"angleAxis":return ib(t,n);case"radiusAxis":return pS(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},ltt=(t,e,n)=>{switch(e){case"xAxis":return qh(t,n);case"yAxis":return Gh(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},F0=(t,e,n)=>{switch(e){case"xAxis":return qh(t,n);case"yAxis":return Gh(t,n);case"angleAxis":return ib(t,n);case"radiusAxis":return pS(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Uce=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function sU(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var R3=t=>t.graphicalItems.cartesianItems,ctt=Ve([ii,mS],sU),iU=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),gS=Ve([R3,wa,ctt],iU,{memoizeOptions:{resultEqualityCheck:_3}}),zce=Ve([gS],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(j3)),Mce=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),utt=Ve([gS],Mce),aU=t=>t.map(e=>e.data).filter(Boolean).flat(1),dtt=Ve([gS],aU,{memoizeOptions:{resultEqualityCheck:_3}}),oU=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:s}=e;return t.length>0?t:n.slice(r,s+1)},lU=Ve([dtt,pce],oU),cU=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:ws(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(s=>({value:ws(s,r)}))):t.map(r=>({value:r})),O3=Ve([lU,wa,gS],cU);function Qce(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function pB(t){if(fA(t)||t instanceof Date){var e=Number(t);if(br(e))return e}}function Zq(t){if(Array.isArray(t)){var e=[pB(t[0]),pB(t[1])];return jh(e)?e:void 0}var n=pB(t);if(n!=null)return[n,n]}function Th(t){return t.map(pB).filter(Ec)}function ftt(t,e,n){return!n||typeof e!="number"||af(e)?[]:n.length?Th(n.flatMap(r=>{var s=ws(t,r.dataKey),i,a;if(Array.isArray(s)?[i,a]=s:i=a=s,!(!br(i)||!br(a)))return[e-i,e+a]})):[]}var bo=t=>{var e=Go(t),n=ob(t);return F0(t,e,n)},yS=Ve([bo],t=>t?.dataKey),Att=Ve([zce,pce,bo],Dce),Hce=(t,e,n,r)=>{var s={},i=e.reduce((a,o)=>{if(o.stackId==null)return a;var c=a[o.stackId];return c==null&&(c=[]),c.push(o),a[o.stackId]=c,a},s);return Object.fromEntries(Object.entries(i).map(a=>{var[o,c]=a,u=r?[...c].reverse():c,d=u.map(N3);return[o,{stackedData:jKe(t,d,n),graphicalItems:u}]}))},G4=Ve([Att,zce,hS,jce],Hce),Wce=(t,e,n,r)=>{var{dataStartIndex:s,dataEndIndex:i}=e;if(r==null&&n!=="zAxis"){var a=OKe(t,s,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},htt=Ve([wa],t=>t.allowDataOverflow),uU=t=>{var e;if(t==null||!("domain"in t))return UF;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=Th(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:UF},dU=Ve([wa],uU),fU=Ve([dU,htt],gce),ptt=Ve([G4,Vh,ii,fU],Wce,{memoizeOptions:{resultEqualityCheck:T3}}),F3=t=>t.errorBars,mtt=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>Qce(n,r)),K4=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var s=n.filter(Boolean);if(s.length!==0){var i=s.flat(),a=Math.min(...i),o=Math.max(...i);return[a,o]}},AU=(t,e,n,r,s)=>{var i,a;if(n.length>0&&t.forEach(o=>{n.forEach(c=>{var u,d,f=(u=r[c.id])===null||u===void 0?void 0:u.filter(v=>Qce(s,v)),h=ws(o,(d=e.dataKey)!==null&&d!==void 0?d:c.dataKey),m=ftt(o,h,f);if(m.length>=2){var g=Math.min(...m),y=Math.max(...m);(i==null||g<i)&&(i=g),(a==null||y>a)&&(a=y)}var x=Zq(h);x!=null&&(i=i==null?x[0]:Math.min(i,x[0]),a=a==null?x[1]:Math.max(a,x[1]))})}),e?.dataKey!=null&&t.forEach(o=>{var c=Zq(ws(o,e.dataKey));c!=null&&(i=i==null?c[0]:Math.min(i,c[0]),a=a==null?c[1]:Math.max(a,c[1]))}),br(i)&&br(a))return[i,a]},gtt=Ve([lU,wa,utt,F3,ii],AU,{memoizeOptions:{resultEqualityCheck:T3}});function ytt(t){var{value:e}=t;if(fA(e)||e instanceof Date)return e}var xtt=(t,e,n)=>{var r=t.map(ytt).filter(s=>s!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&uoe(r))?Fle(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},Vce=t=>t.referenceElements.dots,lb=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),btt=Ve([Vce,ii,mS],lb),qce=t=>t.referenceElements.areas,vtt=Ve([qce,ii,mS],lb),Gce=t=>t.referenceElements.lines,wtt=Ve([Gce,ii,mS],lb),Kce=(t,e)=>{if(t!=null){var n=Th(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Stt=Ve(btt,ii,Kce),Xce=(t,e)=>{if(t!=null){var n=Th(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Ctt=Ve([vtt,ii],Xce);function ktt(t){var e;if(t.x!=null)return Th([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Th(n)}function Btt(t){var e;if(t.y!=null)return Th([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Th(n)}var Yce=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?ktt(r):Btt(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Ett=Ve([wtt,ii],Yce),Itt=Ve(Stt,Ett,Ctt,(t,e,n)=>K4(t,n,e)),hU=(t,e,n,r,s,i,a,o)=>{if(n!=null)return n;var c=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",u=c?K4(r,i,s):K4(i,s);return $et(e,u,t.allowDataOverflow)},Ntt=Ve([wa,dU,fU,ptt,gtt,Itt,$r,ii],hU,{memoizeOptions:{resultEqualityCheck:T3}}),jtt=[0,1],pU=(t,e,n,r,s,i,a)=>{if(!((t==null||n==null||n.length===0)&&a===void 0)){var{dataKey:o,type:c}=t,u=pf(e,i);if(u&&o==null){var d;return Fle(0,(d=n?.length)!==null&&d!==void 0?d:0)}return c==="category"?xtt(r,t,u):s==="expand"?jtt:a}},mU=Ve([wa,$r,lU,O3,hS,ii,Ntt],pU);function Ttt(t){return t in Hv}var Jce=(t,e,n)=>{if(t!=null){var{scale:r,type:s}=t;if(r==="auto")return s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!e)?"point":s==="category"?"band":"linear";if(typeof r=="string"){var i="scale".concat(nS(r));return Ttt(i)?i:"point"}}},bA=Ve([wa,Uce,ZP],Jce);function D3(t,e,n,r){if(!(n==null||r==null))return typeof t.scale=="function"?Yq(t.scale,n,r):Yq(e,n,r)}var gU=(t,e,n)=>{var r=uU(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&jh(t))return Qet(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&jh(t))return Het(t,e.tickCount,e.allowDecimals)}},yU=Ve([mU,F0,bA],gU),xU=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&jh(e)&&Array.isArray(n)&&n.length>0){var s,i,a=e[0],o=(s=n[0])!==null&&s!==void 0?s:0,c=e[1],u=(i=n[n.length-1])!==null&&i!==void 0?i:0;return[Math.min(a,o),Math.max(c,u)]}return e},_tt=Ve([wa,mU,yU,ii],xU),Rtt=Ve(O3,wa,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Th(t.map(f=>f.value))).sort((f,h)=>f-h),s=r[0],i=r[r.length-1];if(s==null||i==null)return 1/0;var a=i-s;if(a===0)return 1/0;for(var o=0;o<r.length-1;o++){var c=r[o],u=r[o+1];if(!(c==null||u==null)){var d=u-c;n=Math.min(n,d)}}return n/a}}),Zce=Ve(Rtt,$r,Nce,yo,(t,e,n,r,s)=>s,(t,e,n,r,s)=>{if(!br(t))return 0;var i=e==="vertical"?r.height:r.width;if(s==="gap")return t*i/2;if(s==="no-gap"){var a=Tl(n,t*i),o=t*i/2;return o-a-(o-a)/i*a}return 0}),Ott=(t,e,n)=>{var r=qh(t,e);return r==null||typeof r.padding!="string"?0:Zce(t,"xAxis",e,n,r.padding)},Ftt=(t,e,n)=>{var r=Gh(t,e);return r==null||typeof r.padding!="string"?0:Zce(t,"yAxis",e,n,r.padding)},Dtt=Ve(qh,Ott,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:s}=t;return typeof s=="string"?{left:e,right:e}:{left:((n=s.left)!==null&&n!==void 0?n:0)+e,right:((r=s.right)!==null&&r!==void 0?r:0)+e}}),Ltt=Ve(Gh,Ftt,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:s}=t;return typeof s=="string"?{top:e,bottom:e}:{top:((n=s.top)!==null&&n!==void 0?n:0)+e,bottom:((r=s.bottom)!==null&&r!==void 0?r:0)+e}}),$tt=Ve([yo,Dtt,m3,p3,(t,e,n)=>n],(t,e,n,r,s)=>{var{padding:i}=r;return s?[i.left,n.width-i.right]:[t.left+e.left,t.left+t.width-e.right]}),Ptt=Ve([yo,$r,Ltt,m3,p3,(t,e,n)=>n],(t,e,n,r,s,i)=>{var{padding:a}=s;return i?[r.height-a.bottom,a.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),xS=(t,e,n,r)=>{var s;switch(e){case"xAxis":return $tt(t,n,r);case"yAxis":return Ptt(t,n,r);case"zAxis":return(s=rU(t,n))===null||s===void 0?void 0:s.range;case"angleAxis":return Oce(t);case"radiusAxis":return Fce(t,n);default:return}},eue=Ve([wa,xS],E3),Utt=Ve([bA,_tt],Lce),L3=Ve([wa,bA,Utt,eue],D3);Ve([gS,F3,ii],mtt);function tue(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var $3=(t,e)=>e,P3=(t,e,n)=>n,ztt=Ve(A3,$3,P3,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(tue)),Mtt=Ve(h3,$3,P3,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(tue)),nue=(t,e)=>({width:t.width,height:e.height}),Qtt=(t,e)=>{var n=typeof e.width=="number"?e.width:iS;return{width:n,height:t.height}},rue=Ve(yo,qh,nue),Htt=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},Wtt=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},Vtt=Ve(Hh,yo,ztt,$3,P3,(t,e,n,r,s)=>{var i={},a;return n.forEach(o=>{var c=nue(e,o);a==null&&(a=Htt(e,r,t));var u=r==="top"&&!s||r==="bottom"&&s;i[o.id]=a-Number(u)*c.height,a+=(u?-1:1)*c.height}),i}),qtt=Ve(Qh,yo,Mtt,$3,P3,(t,e,n,r,s)=>{var i={},a;return n.forEach(o=>{var c=Qtt(e,o);a==null&&(a=Wtt(e,r,t));var u=r==="left"&&!s||r==="right"&&s;i[o.id]=a-Number(u)*c.width,a+=(u?-1:1)*c.width}),i}),Gtt=(t,e)=>{var n=qh(t,e);if(n!=null)return Vtt(t,n.orientation,n.mirror)},Ktt=Ve([yo,qh,Gtt,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var s=n?.[r];return s==null?{x:t.left,y:0}:{x:t.left,y:s}}}),Xtt=(t,e)=>{var n=Gh(t,e);if(n!=null)return qtt(t,n.orientation,n.mirror)},Ytt=Ve([yo,Gh,Xtt,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var s=n?.[r];return s==null?{x:0,y:t.top}:{x:s,y:t.top}}}),sue=Ve(yo,Gh,(t,e)=>{var n=typeof e.width=="number"?e.width:iS;return{width:n,height:t.height}}),eG=(t,e,n)=>{switch(e){case"xAxis":return rue(t,n).width;case"yAxis":return sue(t,n).height;default:return}},iue=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:s,type:i,dataKey:a}=n,o=pf(t,r),c=e.map(u=>u.value);if(a&&o&&i==="category"&&s&&uoe(c))return c}},bS=Ve([$r,O3,wa,ii],iue),bU=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:s,scale:i}=n,a=pf(t,r);if(a&&(s==="number"||i!=="auto"))return e.map(o=>o.value)}},vU=Ve([$r,O3,F0,ii],bU),tG=Ve([$r,ltt,bA,L3,bS,vU,xS,yU,ii],(t,e,n,r,s,i,a,o,c)=>{if(e!=null){var u=pf(t,c);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:c,categoricalDomain:i,duplicateDomain:s,isCategorical:u,niceTicks:o,range:a,realScaleType:n,scale:r}}}),aue=(t,e,n,r,s,i,a,o,c)=>{if(!(e==null||r==null)){var u=pf(t,c),{type:d,ticks:f,tickCount:h}=e,m=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,g=d==="category"&&r.bandwidth?r.bandwidth()/m:0;g=c==="angleAxis"&&i!=null&&i.length>=2?Lo(i[0]-i[1])*2*g:g;var y=f||s;return y?y.map((x,v)=>{var w=a?a.indexOf(x):x,B=r.map(w);return br(B)?{index:v,coordinate:B+g,value:x,offset:g}:null}).filter(Ec):u&&o?o.map((x,v)=>{var w=r.map(x);return br(w)?{coordinate:w+g,value:x,index:v,offset:g}:null}).filter(Ec):r.ticks?r.ticks(h).map((x,v)=>{var w=r.map(x);return br(w)?{coordinate:w+g,value:x,index:v,offset:g}:null}).filter(Ec):r.domain().map((x,v)=>{var w=r.map(x);return br(w)?{coordinate:w+g,value:a?a[x]:x,index:v,offset:g}:null}).filter(Ec)}},oue=Ve([$r,F0,bA,L3,yU,xS,bS,vU,ii],aue),lue=(t,e,n,r,s,i,a)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var o=pf(t,a),{tickCount:c}=e,u=0;return u=a==="angleAxis"&&r?.length>=2?Lo(r[0]-r[1])*2*u:u,o&&i?i.map((d,f)=>{var h=n.map(d);return br(h)?{coordinate:h+u,value:d,index:f,offset:u}:null}).filter(Ec):n.ticks?n.ticks(c).map((d,f)=>{var h=n.map(d);return br(h)?{coordinate:h+u,value:d,index:f,offset:u}:null}).filter(Ec):n.domain().map((d,f)=>{var h=n.map(d);return br(h)?{coordinate:h+u,value:s?s[d]:d,index:f,offset:u}:null}).filter(Ec)}},pm=Ve([$r,F0,L3,xS,bS,vU,ii],lue),mm=Ve(wa,L3,(t,e)=>{if(!(t==null||e==null))return q4(q4({},t),{},{scale:e})}),Jtt=Ve([wa,bA,mU,eue],D3);Ve((t,e,n)=>rU(t,n),Jtt,(t,e)=>{if(!(t==null||e==null))return q4(q4({},t),{},{scale:e})});var Ztt=Ve([$r,A3,h3],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),cue=t=>t.options.defaultTooltipEventType,uue=t=>t.options.validateTooltipEventTypes;function due(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function wU(t,e){var n=cue(t),r=uue(t);return due(e,n,r)}function ent(t){return Xt(e=>wU(e,t))}var fue=(t,e)=>{var n,r=Number(e);if(!(af(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},tnt=t=>t.tooltip.settings,Op={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},nnt={itemInteraction:{click:Op,hover:Op},axisInteraction:{click:Op,hover:Op},keyboardInteraction:Op,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Aue=$c({name:"tooltip",initialState:nnt,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Li()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,s=Jd(t).tooltipItemPayloads.indexOf(n);s>-1&&(t.tooltipItemPayloads[s]=r)},prepare:Li()},removeTooltipEntrySettings:{reducer(t,e){var n=Jd(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Li()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:rnt,replaceTooltipEntrySettings:snt,removeTooltipEntrySettings:int,setTooltipSettingsState:ant,setActiveMouseOverItemIndex:hue,mouseLeaveItem:ont,mouseLeaveChart:pue,setActiveClickItemIndex:lnt,setMouseOverAxisIndex:mue,setMouseClickAxisIndex:cnt,setSyncInteraction:zF,setKeyboardInteraction:MF}=Aue.actions,unt=Aue.reducer;function nG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function rk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nG(Object(n),!0).forEach(function(r){dnt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dnt(t,e,n){return(e=fnt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fnt(t){var e=Ant(t,"string");return typeof e=="symbol"?e:e+""}function Ant(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hnt(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function pnt(t){return t.index!=null}var gue=(t,e,n,r)=>{if(e==null)return Op;var s=hnt(t,e,n);if(s==null)return Op;if(s.active)return s;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var i=t.settings.active===!0;if(pnt(s)){if(i)return rk(rk({},s),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return rk(rk({},Op),{},{coordinate:s.coordinate})};function mnt(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function gnt(t,e){var n=mnt(t),r=e[0],s=e[1];if(n===void 0)return!1;var i=Math.min(r,s),a=Math.max(r,s);return n>=i&&n<=a}function ynt(t,e,n){if(n==null||e==null)return!0;var r=ws(t,e);return r==null||!jh(n)?!0:gnt(r,n)}var SU=(t,e,n,r)=>{var s=t?.index;if(s==null)return null;var i=Number(s);if(!br(i))return s;var a=0,o=1/0;e.length>0&&(o=e.length-1);var c=Math.max(a,Math.min(i,o)),u=e[c];return u==null||ynt(u,n,r)?String(c):null},yue=(t,e,n,r,s,i,a)=>{if(i!=null){var o=a[0],c=o?.getPosition(i);if(c!=null)return c;var u=s?.[Number(i)];if(u)return n==="horizontal"?{x:u.coordinate,y:(r.top+e)/2}:{x:(r.left+t)/2,y:u.coordinate}}},xue=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var s;if(n==="hover"?s=t.itemInteraction.hover.graphicalItemId:s=t.itemInteraction.click.graphicalItemId,s==null&&r!=null){var i=t.tooltipItemPayloads[0];return i!=null?[i]:[]}return t.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.graphicalItemId)===s})},bue=t=>t.options.tooltipPayloadSearcher,cb=t=>t.tooltip;function rG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function sG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rG(Object(n),!0).forEach(function(r){xnt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xnt(t,e,n){return(e=bnt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bnt(t){var e=vnt(t,"string");return typeof e=="symbol"?e:e+""}function vnt(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wnt(t,e){return t??e}var vue=(t,e,n,r,s,i,a)=>{if(!(e==null||i==null)){var{chartData:o,computedData:c,dataStartIndex:u,dataEndIndex:d}=n,f=[];return t.reduce((h,m)=>{var g,{dataDefinedOnItem:y,settings:x}=m,v=wnt(y,o),w=Array.isArray(v)?nle(v,u,d):v,B=(g=x?.dataKey)!==null&&g!==void 0?g:r,k=x?.nameKey,E;if(r&&Array.isArray(w)&&!Array.isArray(w[0])&&a==="axis"?E=doe(w,r,s):E=i(w,e,c,k),Array.isArray(E))E.forEach(O=>{var F=sG(sG({},x),{},{name:O.name,unit:O.unit,color:void 0,fill:void 0});h.push(nV({tooltipEntrySettings:F,dataKey:O.dataKey,payload:O.payload,value:ws(O.payload,O.dataKey),name:O.name}))});else{var N;h.push(nV({tooltipEntrySettings:x,dataKey:B,payload:E,value:ws(E,B),name:(N=ws(E,k))!==null&&N!==void 0?N:x?.name}))}return h},f)}},CU=Ve([bo,Uce,ZP],Jce),Snt=Ve([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Cnt=Ve([Go,ob],sU),ub=Ve([Snt,bo,Cnt],iU,{memoizeOptions:{resultEqualityCheck:_3}}),knt=Ve([ub],t=>t.filter(j3)),Bnt=Ve([ub],aU,{memoizeOptions:{resultEqualityCheck:_3}}),db=Ve([Bnt,Vh],oU),Ent=Ve([knt,Vh,bo],Dce),kU=Ve([db,bo,ub],cU),wue=Ve([bo],uU),Int=Ve([bo],t=>t.allowDataOverflow),Sue=Ve([wue,Int],gce),Nnt=Ve([ub],t=>t.filter(j3)),jnt=Ve([Ent,Nnt,hS,jce],Hce),Tnt=Ve([jnt,Vh,Go,Sue],Wce),_nt=Ve([ub],Mce),Rnt=Ve([db,bo,_nt,F3,Go],AU,{memoizeOptions:{resultEqualityCheck:T3}}),Ont=Ve([Vce,Go,ob],lb),Fnt=Ve([Ont,Go],Kce),Dnt=Ve([qce,Go,ob],lb),Lnt=Ve([Dnt,Go],Xce),$nt=Ve([Gce,Go,ob],lb),Pnt=Ve([$nt,Go],Yce),Unt=Ve([Fnt,Pnt,Lnt],K4),znt=Ve([bo,wue,Sue,Tnt,Rnt,Unt,$r,Go],hU),vS=Ve([bo,$r,db,kU,hS,Go,znt],pU),Mnt=Ve([vS,bo,CU],gU),Qnt=Ve([bo,vS,Mnt,Go],xU),Cue=t=>{var e=Go(t),n=ob(t),r=!1;return xS(t,e,n,r)},kue=Ve([bo,Cue],E3),Bue=Ve([bo,CU,Qnt,kue],D3),Hnt=Ve([$r,kU,bo,Go],iue),Wnt=Ve([$r,kU,bo,Go],bU),Vnt=(t,e,n,r,s,i,a,o)=>{if(e){var{type:c}=e,u=pf(t,o);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=c==="category"&&r.bandwidth?r.bandwidth()/d:0;return f=o==="angleAxis"&&s!=null&&s?.length>=2?Lo(s[0]-s[1])*2*f:f,u&&a?a.map((h,m)=>{var g=r.map(h);return br(g)?{coordinate:g+f,value:h,index:m,offset:f}:null}).filter(Ec):r.domain().map((h,m)=>{var g=r.map(h);return br(g)?{coordinate:g+f,value:i?i[h]:h,index:m,offset:f}:null}).filter(Ec)}}},Kh=Ve([$r,bo,CU,Bue,Cue,Hnt,Wnt,Go],Vnt),BU=Ve([cue,uue,tnt],(t,e,n)=>due(n.shared,t,e)),Eue=t=>t.tooltip.settings.trigger,EU=t=>t.tooltip.settings.defaultIndex,wS=Ve([cb,BU,Eue,EU],gue),gm=Ve([wS,db,yS,vS],SU),Iue=Ve([Kh,gm],fue),IU=Ve([wS],t=>{if(t)return t.dataKey}),qnt=Ve([wS],t=>{if(t)return t.graphicalItemId}),Nue=Ve([cb,BU,Eue,EU],xue),Gnt=Ve([Qh,Hh,$r,yo,Kh,EU,Nue],yue),Knt=Ve([wS,Gnt],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Xnt=Ve([wS],t=>{var e;return(e=t?.active)!==null&&e!==void 0?e:!1}),Ynt=Ve([Nue,gm,Vh,yS,Iue,bue,BU],vue),Jnt=Ve([Ynt],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function iG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function aG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iG(Object(n),!0).forEach(function(r){Znt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Znt(t,e,n){return(e=ert(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ert(t){var e=trt(t,"string");return typeof e=="symbol"?e:e+""}function trt(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nrt=()=>Xt(bo),rrt=()=>{var t=nrt(),e=Xt(Kh),n=Xt(Bue);return hm(!t||!n?void 0:aG(aG({},t),{},{scale:n}),e)};function oG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function wy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oG(Object(n),!0).forEach(function(r){srt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function srt(t,e,n){return(e=irt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function irt(t){var e=art(t,"string");return typeof e=="symbol"?e:e+""}function art(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ort=(t,e,n,r)=>{var s=e.find(i=>i&&i.index===n);if(s){if(t==="horizontal")return{x:s.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:s.coordinate}}return{x:0,y:0}},lrt=(t,e,n,r)=>{var s=e.find(u=>u&&u.index===n);if(s){if(t==="centric"){var i=s.coordinate,{radius:a}=r;return wy(wy(wy({},r),ps(r.cx,r.cy,a,i)),{},{angle:i,radius:a})}var o=s.coordinate,{angle:c}=r;return wy(wy(wy({},r),ps(r.cx,r.cy,o,c)),{},{angle:c,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function crt(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var jue=(t,e,n,r,s)=>{var i,a=(i=e?.length)!==null&&i!==void 0?i:0;if(a<=1||t==null)return 0;if(r==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var o=0;o<a;o++){var c,u,d,f,h,m=o>0?(c=n[o-1])===null||c===void 0?void 0:c.coordinate:(u=n[a-1])===null||u===void 0?void 0:u.coordinate,g=(d=n[o])===null||d===void 0?void 0:d.coordinate,y=o>=a-1?(f=n[0])===null||f===void 0?void 0:f.coordinate:(h=n[o+1])===null||h===void 0?void 0:h.coordinate,x=void 0;if(!(m==null||g==null||y==null))if(Lo(g-m)!==Lo(y-g)){var v=[];if(Lo(y-g)===Lo(s[1]-s[0])){x=y;var w=g+s[1]-s[0];v[0]=Math.min(w,(w+m)/2),v[1]=Math.max(w,(w+m)/2)}else{x=m;var B=y+s[1]-s[0];v[0]=Math.min(g,(B+g)/2),v[1]=Math.max(g,(B+g)/2)}var k=[Math.min(g,(x+g)/2),Math.max(g,(x+g)/2)];if(t>k[0]&&t<=k[1]||t>=v[0]&&t<=v[1]){var E;return(E=n[o])===null||E===void 0?void 0:E.index}}else{var N=Math.min(m,y),O=Math.max(m,y);if(t>(N+g)/2&&t<=(O+g)/2){var F;return(F=n[o])===null||F===void 0?void 0:F.index}}}else if(e)for(var D=0;D<a;D++){var T=e[D];if(T!=null){var j=e[D+1],P=e[D-1];if(D===0&&j!=null&&t<=(T.coordinate+j.coordinate)/2||D===a-1&&P!=null&&t>(T.coordinate+P.coordinate)/2||D>0&&D<a-1&&P!=null&&j!=null&&t>(T.coordinate+P.coordinate)/2&&t<=(T.coordinate+j.coordinate)/2)return T.index}}return-1},Tue=()=>Xt(ZP),NU=(t,e)=>e,_ue=(t,e,n)=>n,jU=(t,e,n,r)=>r,urt=Ve(Kh,t=>r3(t,e=>e.coordinate)),TU=Ve([cb,NU,_ue,jU],gue),_U=Ve([TU,db,yS,vS],SU),drt=(t,e,n)=>{if(e!=null){var r=cb(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},Rue=Ve([cb,NU,_ue,jU],xue),X4=Ve([Qh,Hh,$r,yo,Kh,jU,Rue],yue),frt=Ve([TU,X4],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),Oue=Ve([Kh,_U],fue),Art=Ve([Rue,_U,Vh,yS,Oue,bue,NU],vue),hrt=Ve([TU,_U],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),prt=(t,e,n,r,s,i,a)=>{if(!(!t||!n||!r||!s)&&crt(t,a)){var o=FKe(t,e),c=jue(o,i,s,n,r),u=ort(e,s,c,t);return{activeIndex:String(c),activeCoordinate:u}}},mrt=(t,e,n,r,s,i,a)=>{if(!(!t||!r||!s||!i||!n)){var o=JYe(t,n);if(o){var c=DKe(o,e),u=jue(c,a,i,r,s),d=lrt(e,i,u,o);return{activeIndex:String(u),activeCoordinate:d}}}},grt=(t,e,n,r,s,i,a,o)=>{if(!(!t||!e||!r||!s||!i))return e==="horizontal"||e==="vertical"?prt(t,e,r,s,i,a,o):mrt(t,e,n,r,s,i,a)},yrt=Ve(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),xrt=Ve(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(Qi)),n=Array.from(new Set(e));return n.sort((r,s)=>r-s)},{memoizeOptions:{resultEqualityCheck:ntt}});function lG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function cG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lG(Object(n),!0).forEach(function(r){brt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function brt(t,e,n){return(e=vrt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vrt(t){var e=wrt(t,"string");return typeof e=="symbol"?e:e+""}function wrt(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Srt={},Crt={zIndexMap:Object.values(Qi).reduce((t,e)=>cG(cG({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),Srt)},krt=new Set(Object.values(Qi));function Brt(t){return krt.has(t)}var Fue=$c({name:"zIndex",initialState:Crt,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Li()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!Brt(n)&&delete t.zIndexMap[n])},prepare:Li()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:s}=e.payload;t.zIndexMap[n]?s?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:s?void 0:r,panoramaElement:s?r:void 0}},prepare:Li()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:Li()}}}),{registerZIndexPortal:Ert,unregisterZIndexPortal:Irt,registerZIndexPortalElement:Nrt,unregisterZIndexPortalElement:jrt}=Fue.actions,Trt=Fue.reducer;function Ko(t){var{zIndex:e,children:n}=t,r=AXe(),s=r&&e!==void 0&&e!==0,i=Vo(),a=Ws();C.useLayoutEffect(()=>s?(a(Ert({zIndex:e})),()=>{a(Irt({zIndex:e}))}):xA,[a,e,s]);var o=Xt(c=>yrt(c,e,i));return s?o?BE.createPortal(n,o):null:n}function QF(){return QF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QF.apply(null,arguments)}function uG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function sk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uG(Object(n),!0).forEach(function(r){_rt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _rt(t,e,n){return(e=Rrt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rrt(t){var e=Ort(t,"string");return typeof e=="symbol"?e:e+""}function Ort(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Frt(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return C.isValidElement(e)?C.cloneElement(e,r):C.createElement(n,r)}function Drt(t){var e,{coordinate:n,payload:r,index:s,offset:i,tooltipAxisBandSize:a,layout:o,cursor:c,tooltipEventType:u,chartName:d}=t,f=n,h=r,m=s;if(!c||!f||d!=="ScatterChart"&&u!=="axis")return null;var g,y,x;if(d==="ScatterChart")g=f,y=fYe,x=Qi.cursorLine;else if(d==="BarChart")g=AYe(o,f,i,a),y=jle,x=Qi.cursorRectangle;else if(o==="radial"&&Aoe(f)){var{cx:v,cy:w,radius:B,startAngle:k,endAngle:E}=_le(f);g={cx:v,cy:w,startAngle:k,endAngle:E,innerRadius:B,outerRadius:B},y=Ole,x=Qi.cursorLine}else g={points:nJe(o,f,i)},y=s1,x=Qi.cursorLine;var N=typeof c=="object"&&"className"in c?c.className:void 0,O=sk(sk(sk(sk({stroke:"#ccc",pointerEvents:"none"},i),g),kh(c)),{},{payload:h,payloadIndex:m,className:yr("recharts-tooltip-cursor",N)});return C.createElement(Ko,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:x},C.createElement(Frt,{cursor:c,cursorComp:y,cursorProps:O}))}function Lrt(t){var e=rrt(),n=fle(),r=_0(),s=Tue();return e==null||n==null||r==null||s==null?null:C.createElement(Drt,QF({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:s}))}var Due=C.createContext(null),$rt=()=>C.useContext(Due),ER={exports:{}},dG;function Prt(){return dG||(dG=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new s(d,f||c,h),g=n?n+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function a(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,g=new Array(m);h<m;h++)g[h]=f[h].fn;return g},o.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,d,f,h,m,g){var y=n?n+u:u;if(!this._events[y])return!1;var x=this._events[y],v=arguments.length,w,B;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),v){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,h),!0;case 5:return x.fn.call(x.context,d,f,h,m),!0;case 6:return x.fn.call(x.context,d,f,h,m,g),!0}for(B=1,w=new Array(v-1);B<v;B++)w[B-1]=arguments[B];x.fn.apply(x.context,w)}else{var k=x.length,E;for(B=0;B<k;B++)switch(x[B].once&&this.removeListener(u,x[B].fn,void 0,!0),v){case 1:x[B].fn.call(x[B].context);break;case 2:x[B].fn.call(x[B].context,d);break;case 3:x[B].fn.call(x[B].context,d,f);break;case 4:x[B].fn.call(x[B].context,d,f,h);break;default:if(!w)for(E=1,w=new Array(v-1);E<v;E++)w[E-1]=arguments[E];x[B].fn.apply(x[B].context,w)}}return!0},o.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},o.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},o.prototype.removeListener=function(u,d,f,h){var m=n?n+u:u;if(!this._events[m])return this;if(!d)return a(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&a(this,m);else{for(var y=0,x=[],v=g.length;y<v;y++)(g[y].fn!==d||h&&!g[y].once||f&&g[y].context!==f)&&x.push(g[y]);x.length?this._events[m]=x.length===1?x[0]:x:a(this,m)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&a(this,d)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(ER)),ER.exports}var Urt=Prt();const zrt=nc(Urt);var X2=new zrt,HF="recharts.syncEvent.tooltip",fG="recharts.syncEvent.brush",U3=(t,e)=>{if(e&&Array.isArray(t)){var n=Number.parseInt(e,10);if(!af(n))return t[n]}},Mrt={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},Lue=$c({name:"options",initialState:Mrt,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Qrt=Lue.reducer,{createEventEmitter:Hrt}=Lue.actions;function Wrt(t){return t.tooltip.syncInteraction}var Vrt={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},$ue=$c({name:"chartData",initialState:Vrt,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:AG,setDataStartEndIndexes:qrt,setComputedData:svt}=$ue.actions,Grt=$ue.reducer,Krt=["x","y"];function hG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Sy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hG(Object(n),!0).forEach(function(r){Xrt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xrt(t,e,n){return(e=Yrt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yrt(t){var e=Jrt(t,"string");return typeof e=="symbol"?e:e+""}function Jrt(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zrt(t,e){if(t==null)return{};var n,r,s=est(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function est(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function tst(){var t=Xt(eU),e=Xt(tU),n=Ws(),r=Xt(Tce),s=Xt(Kh),i=_0(),a=g3(),o=Xt(c=>c.rootProps.className);C.useEffect(()=>{if(t==null)return xA;var c=(u,d,f)=>{if(e!==f&&t===u){if(r==="index"){var h;if(a&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:g,y}=m,x=Zrt(m,Krt),{x:v,y:w,width:B,height:k}=d.payload.sourceViewBox,E=Sy(Sy({},x),{},{x:a.x+(B?(g-v)/B:0)*a.width,y:a.y+(k?(y-w)/k:0)*a.height});n(Sy(Sy({},d),{},{payload:Sy(Sy({},d.payload),{},{coordinate:E})}))}else n(d);return}if(s!=null){var N;if(typeof r=="function"){var O={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},F=r(s,O);N=s[F]}else r==="value"&&(N=s.find(q=>String(q.value)===d.payload.label));var{coordinate:D}=d.payload;if(N==null||d.payload.active===!1||D==null||a==null){n(zF({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:T,y:j}=D,P=Math.min(T,a.x+a.width),U=Math.min(j,a.y+a.height),z={x:i==="horizontal"?N.coordinate:P,y:i==="horizontal"?U:N.coordinate},ee=zF({active:d.payload.active,coordinate:z,dataKey:d.payload.dataKey,index:String(N.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});n(ee)}}};return X2.on(HF,c),()=>{X2.off(HF,c)}},[o,n,e,t,r,s,i,a])}function nst(){var t=Xt(eU),e=Xt(tU),n=Ws();C.useEffect(()=>{if(t==null)return xA;var r=(s,i,a)=>{e!==a&&t===s&&n(qrt(i))};return X2.on(fG,r),()=>{X2.off(fG,r)}},[n,e,t])}function rst(){var t=Ws();C.useEffect(()=>{t(Hrt())},[t]),tst(),nst()}function sst(t,e,n,r,s,i){var a=Xt(m=>drt(m,t,e)),o=Xt(tU),c=Xt(eU),u=Xt(Tce),d=Xt(Wrt),f=d?.active,h=g3();C.useEffect(()=>{if(!f&&c!=null&&o!=null){var m=zF({active:i,coordinate:n,dataKey:a,index:s,label:typeof r=="number"?String(r):r,sourceViewBox:h,graphicalItemId:void 0});X2.emit(HF,c,m,o)}},[f,n,a,s,r,o,c,u,i,h])}function pG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function mG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pG(Object(n),!0).forEach(function(r){ist(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ist(t,e,n){return(e=ast(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ast(t){var e=ost(t,"string");return typeof e=="symbol"?e:e+""}function ost(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lst(t){return t.dataKey}function cst(t,e){return C.isValidElement(t)?C.cloneElement(t,e):typeof t=="function"?C.createElement(t,e):C.createElement(WXe,e)}var gG=[],ust={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function rA(t){var e,n,r=wi(t,ust),{active:s,allowEscapeViewBox:i,animationDuration:a,animationEasing:o,content:c,filterNull:u,isAnimationActive:d,offset:f,payloadUniqBy:h,position:m,reverseDirection:g,useTranslate3d:y,wrapperStyle:x,cursor:v,shared:w,trigger:B,defaultIndex:k,portal:E,axisId:N}=r,O=Ws(),F=typeof k=="number"?String(k):k;C.useEffect(()=>{O(ant({shared:w,trigger:B,axisId:N,active:s,defaultIndex:F}))},[O,w,B,N,s,F]);var D=g3(),T=kle(),j=ent(w),{activeIndex:P,isActive:U}=(e=Xt(xe=>hrt(xe,j,B,F)))!==null&&e!==void 0?e:{},z=Xt(xe=>Art(xe,j,B,F)),ee=Xt(xe=>Oue(xe,j,B,F)),q=Xt(xe=>frt(xe,j,B,F)),Z=z,G=$rt(),ne=(n=s??U)!==null&&n!==void 0?n:!1,[K,H]=Boe([Z,ne]),Q=j==="axis"?ee:void 0;sst(j,B,q,Q,P,ne);var X=E??G;if(X==null||D==null||j==null)return null;var re=Z??gG;ne||(re=gG),u&&re.length&&(re=voe(re.filter(xe=>xe.value!=null&&(xe.hide!==!0||r.includeHidden)),h,lst));var le=re.length>0,he=C.createElement(JXe,{allowEscapeViewBox:i,animationDuration:a,animationEasing:o,isAnimationActive:d,active:ne,coordinate:q,hasPayload:le,offset:f,position:m,reverseDirection:g,useTranslate3d:y,viewBox:D,wrapperStyle:x,lastBoundingBox:K,innerRef:H,hasPortalFromProps:!!E},cst(c,mG(mG({},r),{},{payload:re,label:Q,active:ne,activeIndex:P,coordinate:q,accessibilityLayer:T})));return C.createElement(C.Fragment,null,BE.createPortal(he,X),ne&&C.createElement(Lrt,{cursor:v,tooltipEventType:j,coordinate:q,payload:re,index:P}))}var pA=t=>null;pA.displayName="Cell";function dst(t,e,n){return(e=fst(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fst(t){var e=Ast(t,"string");return typeof e=="symbol"?e:e+""}function Ast(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class hst{constructor(e){dst(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function yG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function pst(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yG(Object(n),!0).forEach(function(r){mst(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mst(t,e,n){return(e=gst(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gst(t){var e=yst(t,"string");return typeof e=="symbol"?e:e+""}function yst(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xst={cacheSize:2e3,enableCache:!0},Pue=pst({},xst),xG=new hst(Pue.cacheSize),bst={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},bG="recharts_measurement_span";function vst(t,e){var n=e.fontSize||"",r=e.fontFamily||"",s=e.fontWeight||"",i=e.fontStyle||"",a=e.letterSpacing||"",o=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(s,"|").concat(i,"|").concat(a,"|").concat(o)}var vG=(t,e)=>{try{var n=document.getElementById(bG);n||(n=document.createElement("span"),n.setAttribute("id",bG),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,bst,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},n2=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||lS.isSsr)return{width:0,height:0};if(!Pue.enableCache)return vG(e,n);var r=vst(e,n),s=xG.get(r);if(s)return s;var i=vG(e,n);return xG.set(r,i),i},Uue;function wst(t,e,n){return(e=Sst(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sst(t){var e=Cst(t,"string");return typeof e=="symbol"?e:e+""}function Cst(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wG=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,SG=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,kst=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Bst=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Est={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Ist=["cm","mm","pt","pc","in","Q","px"];function Nst(t){return Ist.includes(t)}var qy="NaN";function jst(t,e){return t*Est[e]}class rl{static parse(e){var n,[,r,s]=(n=Bst.exec(e))!==null&&n!==void 0?n:[];return r==null?rl.NaN:new rl(parseFloat(r),s??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,af(e)&&(this.unit=""),n!==""&&!kst.test(n)&&(this.num=NaN,this.unit=""),Nst(n)&&(this.num=jst(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new rl(NaN,""):new rl(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new rl(NaN,""):new rl(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new rl(NaN,""):new rl(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new rl(NaN,""):new rl(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return af(this.num)}}Uue=rl;wst(rl,"NaN",new Uue(NaN,""));function zue(t){if(t==null||t.includes(qy))return qy;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,s,i]=(n=wG.exec(e))!==null&&n!==void 0?n:[],a=rl.parse(r??""),o=rl.parse(i??""),c=s==="*"?a.multiply(o):a.divide(o);if(c.isNaN())return qy;e=e.replace(wG,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var u,[,d,f,h]=(u=SG.exec(e))!==null&&u!==void 0?u:[],m=rl.parse(d??""),g=rl.parse(h??""),y=f==="+"?m.add(g):m.subtract(g);if(y.isNaN())return qy;e=e.replace(SG,y.toString())}return e}var CG=/\(([^()]*)\)/;function Tst(t){for(var e=t,n;(n=CG.exec(e))!=null;){var[,r]=n;e=e.replace(CG,zue(r))}return e}function _st(t){var e=t.replace(/\s+/g,"");return e=Tst(e),e=zue(e),e}function Rst(t){try{return _st(t)}catch{return qy}}function IR(t){var e=Rst(t.slice(5,-1));return e===qy?"":e}var Ost=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Fst=["dx","dy","angle","className","breakAll"];function WF(){return WF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WF.apply(null,arguments)}function kG(t,e){if(t==null)return{};var n,r,s=Dst(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function Dst(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Mue=/[ \f\n\r\t\v\u2028\u2029]+/,Que=t=>{var{children:e,breakAll:n,style:r}=t;try{var s=[];qi(e)||(n?s=e.toString().split(""):s=e.toString().split(Mue));var i=s.map(o=>({word:o,width:n2(o,r).width})),a=n?0:n2("",r).width;return{wordsWithComputedWidth:i,spaceWidth:a}}catch{return null}};function Lst(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var Hue=(t,e,n,r)=>t.reduce((s,i)=>{var{word:a,width:o}=i,c=s[s.length-1];if(c&&o!=null&&(e==null||r||c.width+o+n<Number(e)))c.words.push(a),c.width+=o+n;else{var u={words:[a],width:o};s.push(u)}return s},[]),Wue=t=>t.reduce((e,n)=>e.width>n.width?e:n),$st="",BG=(t,e,n,r,s,i,a,o)=>{var c=t.slice(0,e),u=Que({breakAll:n,style:r,children:c+$st});if(!u)return[!1,[]];var d=Hue(u.wordsWithComputedWidth,i,a,o),f=d.length>s||Wue(d).width>Number(i);return[f,d]},Pst=(t,e,n,r,s)=>{var{maxLines:i,children:a,style:o,breakAll:c}=t,u=nn(i),d=String(a),f=Hue(e,r,n,s);if(!u||s)return f;var h=f.length>i||Wue(f).width>Number(r);if(!h)return f;for(var m=0,g=d.length-1,y=0,x;m<=g&&y<=d.length-1;){var v=Math.floor((m+g)/2),w=v-1,[B,k]=BG(d,w,c,o,i,r,n,s),[E]=BG(d,v,c,o,i,r,n,s);if(!B&&!E&&(m=v+1),B&&E&&(g=v-1),!B&&E){x=k;break}y++}return x||f},EG=t=>{var e=qi(t)?[]:t.toString().split(Mue);return[{words:e,width:void 0}]},Ust=t=>{var{width:e,scaleToFit:n,children:r,style:s,breakAll:i,maxLines:a}=t;if((e||n)&&!lS.isSsr){var o,c,u=Que({breakAll:i,children:r,style:s});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;o=d,c=f}else return EG(r);return Pst({breakAll:i,children:r,maxLines:a,style:s},o,c,e,!!n)}return EG(r)},Vue="#808080",zst={angle:0,breakAll:!1,capHeight:"0.71em",fill:Vue,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},fb=C.forwardRef((t,e)=>{var n=wi(t,zst),{x:r,y:s,lineHeight:i,capHeight:a,fill:o,scaleToFit:c,textAnchor:u,verticalAnchor:d}=n,f=kG(n,Ost),h=C.useMemo(()=>Ust({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:c,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,c,f.style,f.width]),{dx:m,dy:g,angle:y,className:x,breakAll:v}=f,w=kG(f,Fst);if(!fA(r)||!fA(s)||h.length===0)return null;var B=Number(r)+(nn(m)?m:0),k=Number(s)+(nn(g)?g:0);if(!br(B)||!br(k))return null;var E;switch(d){case"start":E=IR("calc(".concat(a,")"));break;case"middle":E=IR("calc(".concat((h.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:E=IR("calc(".concat(h.length-1," * -").concat(i,")"));break}var N=[],O=h[0];if(c&&O!=null){var F=O.width,{width:D}=f;N.push("scale(".concat(nn(D)&&nn(F)?D/F:1,")"))}return y&&N.push("rotate(".concat(y,", ").concat(B,", ").concat(k,")")),N.length&&(w.transform=N.join(" ")),C.createElement("text",WF({},qa(w),{ref:e,x:B,y:k,className:yr("recharts-text",x),textAnchor:u,fill:o.includes("url")?Vue:o}),h.map((T,j)=>{var P=T.words.join(v?"":" ");return C.createElement("tspan",{x:B,dy:j===0?E:i,key:"".concat(P,"-").concat(j)},P)}))});fb.displayName="Text";function IG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Df(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IG(Object(n),!0).forEach(function(r){Mst(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mst(t,e,n){return(e=Qst(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qst(t){var e=Hst(t,"string");return typeof e=="symbol"?e:e+""}function Hst(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wst=t=>{var{viewBox:e,position:n,offset:r=0,parentViewBox:s}=t,{x:i,y:a,height:o,upperWidth:c,lowerWidth:u}=vP(e),d=i,f=i+(c-u)/2,h=(d+f)/2,m=(c+u)/2,g=d+c/2,y=o>=0?1:-1,x=y*r,v=y>0?"end":"start",w=y>0?"start":"end",B=c>=0?1:-1,k=B*r,E=B>0?"end":"start",N=B>0?"start":"end",O=s;if(n==="top"){var F={x:d+c/2,y:a-x,horizontalAnchor:"middle",verticalAnchor:v};return O&&(F.height=Math.max(a-O.y,0),F.width=c),F}if(n==="bottom"){var D={x:f+u/2,y:a+o+x,horizontalAnchor:"middle",verticalAnchor:w};return O&&(D.height=Math.max(O.y+O.height-(a+o),0),D.width=u),D}if(n==="left"){var T={x:h-k,y:a+o/2,horizontalAnchor:E,verticalAnchor:"middle"};return O&&(T.width=Math.max(T.x-O.x,0),T.height=o),T}if(n==="right"){var j={x:h+m+k,y:a+o/2,horizontalAnchor:N,verticalAnchor:"middle"};return O&&(j.width=Math.max(O.x+O.width-j.x,0),j.height=o),j}var P=O?{width:m,height:o}:{};return n==="insideLeft"?Df({x:h+k,y:a+o/2,horizontalAnchor:N,verticalAnchor:"middle"},P):n==="insideRight"?Df({x:h+m-k,y:a+o/2,horizontalAnchor:E,verticalAnchor:"middle"},P):n==="insideTop"?Df({x:d+c/2,y:a+x,horizontalAnchor:"middle",verticalAnchor:w},P):n==="insideBottom"?Df({x:f+u/2,y:a+o-x,horizontalAnchor:"middle",verticalAnchor:v},P):n==="insideTopLeft"?Df({x:d+k,y:a+x,horizontalAnchor:N,verticalAnchor:w},P):n==="insideTopRight"?Df({x:d+c-k,y:a+x,horizontalAnchor:E,verticalAnchor:w},P):n==="insideBottomLeft"?Df({x:f+k,y:a+o-x,horizontalAnchor:N,verticalAnchor:v},P):n==="insideBottomRight"?Df({x:f+u-k,y:a+o-x,horizontalAnchor:E,verticalAnchor:v},P):n&&typeof n=="object"&&(nn(n.x)||o0(n.x))&&(nn(n.y)||o0(n.y))?Df({x:i+Tl(n.x,m),y:a+Tl(n.y,o),horizontalAnchor:"end",verticalAnchor:"end"},P):Df({x:g,y:a+o/2,horizontalAnchor:"middle",verticalAnchor:"middle"},P)},Vst=["labelRef"],qst=["content"];function NG(t,e){if(t==null)return{};var n,r,s=Gst(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function Gst(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function jG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Wv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jG(Object(n),!0).forEach(function(r){Kst(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kst(t,e,n){return(e=Xst(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xst(t){var e=Yst(t,"string");return typeof e=="symbol"?e:e+""}function Yst(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oh(){return oh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oh.apply(null,arguments)}var que=C.createContext(null),Jst=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:s,width:i,height:a,children:o}=t,c=C.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:s,width:i,height:a}),[e,n,r,s,i,a]);return C.createElement(que.Provider,{value:c},o)},Gue=()=>{var t=C.useContext(que),e=g3();return t||(e?vP(e):void 0)},Kue=C.createContext(null),Zst=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:s,startAngle:i,endAngle:a,clockWise:o,children:c}=t,u=C.useMemo(()=>({cx:e,cy:n,innerRadius:r,outerRadius:s,startAngle:i,endAngle:a,clockWise:o}),[e,n,r,s,i,a,o]);return C.createElement(Kue.Provider,{value:u},c)},Xue=()=>{var t=C.useContext(Kue),e=Xt(ab);return t||e},eit=t=>{var{value:e,formatter:n}=t,r=qi(t.children)?e:t.children;return typeof n=="function"?n(r):r},RU=t=>t!=null&&typeof t=="function",tit=(t,e)=>{var n=Lo(e-t),r=Math.min(Math.abs(e-t),360);return n*r},nit=(t,e,n,r,s)=>{var{offset:i,className:a}=t,{cx:o,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=s,g=(u+d)/2,y=tit(f,h),x=y>=0?1:-1,v,w;switch(e){case"insideStart":v=f+x*i,w=m;break;case"insideEnd":v=h-x*i,w=!m;break;case"end":v=h+x*i,w=m;break;default:throw new Error("Unsupported position ".concat(e))}w=y<=0?w:!w;var B=ps(o,c,g,v),k=ps(o,c,g,v+(w?1:-1)*359),E="M".concat(B.x,",").concat(B.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(w?0:1,`,
    `).concat(k.x,",").concat(k.y),N=qi(t.id)?L2("recharts-radial-line-"):t.id;return C.createElement("text",oh({},r,{dominantBaseline:"central",className:yr("recharts-radial-bar-label",a)}),C.createElement("defs",null,C.createElement("path",{id:N,d:E})),C.createElement("textPath",{xlinkHref:"#".concat(N)},n))},rit=(t,e,n)=>{var{cx:r,cy:s,innerRadius:i,outerRadius:a,startAngle:o,endAngle:c}=t,u=(o+c)/2;if(n==="outside"){var{x:d,y:f}=ps(r,s,a+e,u);return{x:d,y:f,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:s,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:s,textAnchor:"middle",verticalAnchor:"end"};var h=(i+a)/2,{x:m,y:g}=ps(r,s,h,u);return{x:m,y:g,textAnchor:"middle",verticalAnchor:"middle"}},mB=t=>t!=null&&"cx"in t&&nn(t.cx),sit={angle:0,offset:5,zIndex:Qi.label,position:"middle",textBreakAll:!1};function iit(t){if(!mB(t))return t;var{cx:e,cy:n,outerRadius:r}=t,s=r*2;return{x:e-r,y:n-r,width:s,upperWidth:s,lowerWidth:s,height:s}}function _p(t){var e=wi(t,sit),{viewBox:n,parentViewBox:r,position:s,value:i,children:a,content:o,className:c="",textBreakAll:u,labelRef:d}=e,f=Xue(),h=Gue(),m=s==="center"?h:f??h,g,y,x;n==null?g=m:mB(n)?g=n:g=vP(n);var v=iit(g);if(!g||qi(i)&&qi(a)&&!C.isValidElement(o)&&typeof o!="function")return null;var w=Wv(Wv({},e),{},{viewBox:g});if(C.isValidElement(o)){var{labelRef:B}=w,k=NG(w,Vst);return C.cloneElement(o,k)}if(typeof o=="function"){var{content:E}=w,N=NG(w,qst);if(y=C.createElement(o,N),C.isValidElement(y))return y}else y=eit(e);var O=qa(e);if(mB(g)){if(s==="insideStart"||s==="insideEnd"||s==="end")return nit(e,s,y,O,g);x=rit(g,e.offset,e.position)}else{if(!v)return null;var F=Wst({viewBox:v,position:s,offset:e.offset,parentViewBox:mB(r)?void 0:r});x=Wv(Wv({x:F.x,y:F.y,textAnchor:F.horizontalAnchor,verticalAnchor:F.verticalAnchor},F.width!==void 0?{width:F.width}:{}),F.height!==void 0?{height:F.height}:{})}return C.createElement(Ko,{zIndex:e.zIndex},C.createElement(fb,oh({ref:d,className:yr("recharts-label",c)},O,x,{textAnchor:Lst(O.textAnchor)?O.textAnchor:x.textAnchor,breakAll:u}),y))}_p.displayName="Label";var Yue=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?C.createElement(_p,oh({key:"label-implicit"},r)):fA(t)?C.createElement(_p,oh({key:"label-implicit",value:t},r)):C.isValidElement(t)?t.type===_p?C.cloneElement(t,Wv({key:"label-implicit"},r)):C.createElement(_p,oh({key:"label-implicit",content:t},r)):RU(t)?C.createElement(_p,oh({key:"label-implicit",content:t},r)):t&&typeof t=="object"?C.createElement(_p,oh({},t,{key:"label-implicit"},r)):null};function ait(t){var{label:e,labelRef:n}=t,r=Gue();return Yue(e,r,n)||null}function oit(t){var{label:e}=t,n=Xue();return Yue(e,n)||null}var NR={},jR={},TG;function lit(){return TG||(TG=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(jR)),jR}var TR={},_G;function cit(){return _G||(_G=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(TR)),TR}var RG;function uit(){return RG||(RG=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lit(),n=cit(),r=cP();function s(i){if(r.isArrayLike(i))return e.last(n.toArray(i))}t.last=s})(NR)),NR}var _R,OG;function dit(){return OG||(OG=1,_R=uit().last),_R}var fit=dit();const Jue=nc(fit);var Ait=["valueAccessor"],hit=["dataKey","clockWise","id","textBreakAll","zIndex"];function Y4(){return Y4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y4.apply(null,arguments)}function FG(t,e){if(t==null)return{};var n,r,s=pit(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function pit(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var mit=t=>Array.isArray(t.value)?Jue(t.value):t.value,Zue=C.createContext(void 0),OU=Zue.Provider,ede=C.createContext(void 0),git=ede.Provider;function yit(){return C.useContext(Zue)}function xit(){return C.useContext(ede)}function gB(t){var{valueAccessor:e=mit}=t,n=FG(t,Ait),{dataKey:r,clockWise:s,id:i,textBreakAll:a,zIndex:o}=n,c=FG(n,hit),u=yit(),d=xit(),f=u||d;return!f||!f.length?null:C.createElement(Ko,{zIndex:o??Qi.label},C.createElement(Os,{className:"recharts-label-list"},f.map((h,m)=>{var g,y=qi(r)?e(h,m):ws(h.payload,r),x=qi(i)?{}:{id:"".concat(i,"-").concat(m)};return C.createElement(_p,Y4({key:"label-".concat(m)},qa(h),c,x,{fill:(g=n.fill)!==null&&g!==void 0?g:h.fill,parentViewBox:h.parentViewBox,value:y,textBreakAll:a,viewBox:h.viewBox,index:m,zIndex:0}))})))}gB.displayName="LabelList";function z3(t){var{label:e}=t;return e?e===!0?C.createElement(gB,{key:"labelList-implicit"}):C.isValidElement(e)||RU(e)?C.createElement(gB,{key:"labelList-implicit",content:e}):typeof e=="object"?C.createElement(gB,Y4({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var bit=["points","className","baseLinePoints","connectNulls"],DG;function Gy(){return Gy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gy.apply(null,arguments)}function vit(t,e){if(t==null)return{};var n,r,s=wit(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function wit(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Sit(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var LG=t=>t!=null&&t.x===+t.x&&t.y===+t.y,Cit=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];e.forEach(a=>{var o=n[n.length-1];LG(a)?o&&o.push(a):o&&o.length>0&&n.push([])});var r=e[0],s=n[n.length-1];LG(r)&&s&&s.push(r);var i=n[n.length-1];return i&&i.length<=0&&(n=n.slice(0,-1)),n},r2=(t,e)=>{var n=Cit(t);e&&(n=[n.reduce((s,i)=>[...s,...i],[])]);var r=n.map(s=>s.reduce((i,a,o)=>ia(DG||(DG=Sit(["","","",",",""])),i,o===0?"M":"L",a.x,a.y),"")).join("");return n.length===1?"".concat(r,"Z"):r},kit=(t,e,n)=>{var r=r2(t,n);return"".concat(r.slice(-1)==="Z"?r.slice(0,-1):r,"L").concat(r2(Array.from(e).reverse(),n).slice(1))},tde=t=>{var{points:e,className:n,baseLinePoints:r,connectNulls:s}=t,i=vit(t,bit);if(!e||!e.length)return null;var a=yr("recharts-polygon",n);if(r&&r.length){var o=i.stroke&&i.stroke!=="none",c=kit(e,r,s);return C.createElement("g",{className:a},C.createElement("path",Gy({},qa(i),{fill:c.slice(-1)==="Z"?i.fill:"none",stroke:"none",d:c})),o?C.createElement("path",Gy({},qa(i),{fill:"none",d:r2(e,s)})):null,o?C.createElement("path",Gy({},qa(i),{fill:"none",d:r2(r,s)})):null)}var u=r2(e,s);return C.createElement("path",Gy({},qa(i),{fill:u.slice(-1)==="Z"?i.fill:"none",className:a,d:u}))};function VF(){return VF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VF.apply(null,arguments)}var FU=t=>{var{cx:e,cy:n,r,className:s}=t,i=yr("recharts-dot",s);return nn(e)&&nn(n)&&nn(r)?C.createElement("circle",VF({},vi(t),lP(t),{className:i,cx:e,cy:n,r})):null},DU=t=>t.graphicalItems.polarItems,Bit=Ve([ii,mS],sU),M3=Ve([DU,wa,Bit],iU),Eit=Ve([M3],aU),Q3=Ve([Eit,AS],oU),nde=Ve([Q3,wa,M3],cU);Ve([Q3,wa,M3],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(s=>{var i,a=ws(r,(i=e.dataKey)!==null&&i!==void 0?i:s.dataKey);return{value:a,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?t.map(r=>({value:ws(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var $G=()=>{},Iit=Ve([Q3,wa,M3,F3,ii],AU),Nit=Ve([wa,dU,fU,$G,Iit,$G,$r,ii],hU),rde=Ve([wa,$r,Q3,nde,hS,ii,Nit],pU),sde=Ve([rde,F0,bA],gU),jit=Ve([wa,rde,sde,ii],xU),Tit=Ve([bA,jit],Lce),LU=(t,e,n)=>{switch(e){case"angleAxis":return ib(t,n);case"radiusAxis":return pS(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},$U=(t,e,n)=>{switch(e){case"angleAxis":return ett(t,n);case"radiusAxis":return ttt(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Ab=Ve([LU,bA,Tit,$U],D3),ide=Ve([$r,nde,F0,ii],bU),hb=Ve([$r,LU,bA,Ab,sde,$U,bS,ide,ii],aue),_it=Ve([hb],t=>{if(t){var e=new Map;return t.forEach(n=>{var r=(n.coordinate+360)%360;e.has(r)||e.set(r,n)}),Array.from(e.values())}});Ve([$r,LU,Ab,$U,bS,ide,ii],lue);var Rit=(t,e)=>hb(t,"angleAxis",e,!1),Oit=Ve([Rit],t=>{if(t)return t.map(e=>e.coordinate)}),Fit=(t,e)=>hb(t,"radiusAxis",e,!1),Dit=Ve([Fit],t=>{if(t)return t.map(e=>e.coordinate)}),Lit=["gridType","radialLines","angleAxisId","radiusAxisId","cx","cy","innerRadius","outerRadius","polarAngles","polarRadius","zIndex"];function $it(t,e){if(t==null)return{};var n,r,s=Pit(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function Pit(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Gd(){return Gd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gd.apply(null,arguments)}function PG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function H3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PG(Object(n),!0).forEach(function(r){Uit(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uit(t,e,n){return(e=zit(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zit(t){var e=Mit(t,"string");return typeof e=="symbol"?e:e+""}function Mit(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qit=(t,e,n,r)=>{var s="";return r.forEach((i,a)=>{var o=ps(e,n,t,i);a?s+="L ".concat(o.x,",").concat(o.y):s+="M ".concat(o.x,",").concat(o.y)}),s+="Z",s},Hit=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:s,polarAngles:i,radialLines:a}=t;if(!i||!i.length||!a)return null;var o=H3({stroke:"#ccc"},vi(t));return C.createElement("g",{className:"recharts-polar-grid-angle"},i.map(c=>{var u=ps(e,n,r,c),d=ps(e,n,s,c);return C.createElement("line",Gd({key:"line-".concat(c)},o,{x1:u.x,y1:u.y,x2:d.x,y2:d.y}))}))},UG=t=>{var{cx:e,cy:n,radius:r}=t,s=H3({stroke:"#ccc",fill:"none"},vi(t));return C.createElement("circle",Gd({},s,{className:yr("recharts-polar-grid-concentric-circle",t.className),cx:e,cy:n,r}))},zG=t=>{var{radius:e}=t,n=H3({stroke:"#ccc",fill:"none"},vi(t));return C.createElement("path",Gd({},n,{className:yr("recharts-polar-grid-concentric-polygon",t.className),d:Qit(e,t.cx,t.cy,t.polarAngles)}))},Wit=t=>{var{polarRadius:e,gridType:n}=t;if(!e||!e.length)return null;var r=Math.max(...e),s=t.fill&&t.fill!=="none";return C.createElement("g",{className:"recharts-polar-grid-concentric"},s&&n==="circle"&&C.createElement(UG,Gd({},t,{radius:r})),s&&n!=="circle"&&C.createElement(zG,Gd({},t,{radius:r})),e.map((i,a)=>{var o=a;return n==="circle"?C.createElement(UG,Gd({key:o},t,{fill:"none",radius:i})):C.createElement(zG,Gd({key:o},t,{fill:"none",radius:i}))}))},Vit={angleAxisId:0,radiusAxisId:0,gridType:"polygon",radialLines:!0,zIndex:Qi.grid},PU=t=>{var e,n,r,s,i,a,o,c,u=wi(t,Vit),{gridType:d,radialLines:f,angleAxisId:h,radiusAxisId:m,cx:g,cy:y,innerRadius:x,outerRadius:v,polarAngles:w,polarRadius:B,zIndex:k}=u,E=$it(u,Lit),N=Xt(ab),O=Xt(U=>Oit(U,h)),F=Xt(U=>Dit(U,m)),D=Array.isArray(w)?w:O,T=Array.isArray(B)?B:F;if(D==null||T==null)return null;var j=H3({cx:(e=(n=N?.cx)!==null&&n!==void 0?n:g)!==null&&e!==void 0?e:0,cy:(r=(s=N?.cy)!==null&&s!==void 0?s:y)!==null&&r!==void 0?r:0,innerRadius:(i=(a=N?.innerRadius)!==null&&a!==void 0?a:x)!==null&&i!==void 0?i:0,outerRadius:(o=(c=N?.outerRadius)!==null&&c!==void 0?c:v)!==null&&o!==void 0?o:0,polarAngles:D,polarRadius:T,zIndex:k},E),{outerRadius:P}=j;return P<=0?null:C.createElement(Ko,{zIndex:j.zIndex},C.createElement("g",{className:"recharts-polar-grid"},C.createElement(Wit,Gd({gridType:d,radialLines:f},j,{polarAngles:D,polarRadius:T})),C.createElement(Hit,Gd({gridType:d,radialLines:f},j,{polarAngles:D,polarRadius:T}))))};PU.displayName="PolarGrid";var RR={},OR={},MG;function qit(){return MG||(MG=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){if(n.length===0)return;let s=n[0],i=r(s,0,n);for(let a=1;a<n.length;a++){const o=n[a],c=r(o,a,n);c>i&&(i=c,s=o)}return s}t.maxBy=e})(OR)),OR}var QG;function Git(){return QG||(QG=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qit(),n=n3(),r=dP();function s(i,a){if(i!=null)return e.maxBy(Array.from(i),r.iteratee(a??n.identity))}t.maxBy=s})(RR)),RR}var FR,HG;function Kit(){return HG||(HG=1,FR=Git().maxBy),FR}var Xit=Kit();const Yit=nc(Xit);var DR={},LR={},WG;function Jit(){return WG||(WG=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){if(n.length===0)return;let s=n[0],i=r(s,0,n);for(let a=1;a<n.length;a++){const o=n[a],c=r(o,a,n);c<i&&(i=c,s=o)}return s}t.minBy=e})(LR)),LR}var VG;function Zit(){return VG||(VG=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Jit(),n=n3(),r=dP();function s(i,a){if(i!=null)return e.minBy(Array.from(i),r.iteratee(a??n.identity))}t.minBy=s})(DR)),DR}var $R,qG;function eat(){return qG||(qG=1,$R=Zit().minBy),$R}var tat=eat();const nat=nc(tat);var rat={radiusAxis:{},angleAxis:{}},ade=$c({name:"polarAxis",initialState:rat,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:sat,removeRadiusAxis:iat,addAngleAxis:aat,removeAngleAxis:oat}=ade.actions,lat=ade.reducer;function W3(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var cat=["type"],uat=["cx","cy","angle","axisLine"],dat=["angle","tickFormatter","stroke","tick"];function Y2(){return Y2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y2.apply(null,arguments)}function GG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Kd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GG(Object(n),!0).forEach(function(r){fat(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fat(t,e,n){return(e=Aat(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aat(t){var e=hat(t,"string");return typeof e=="symbol"?e:e+""}function hat(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UU(t,e){if(t==null)return{};var n,r,s=pat(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function pat(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var mat="radiusAxis";function gat(t){var e=Ws(),n=Ale(),r=C.useMemo(()=>{var{type:s}=t,i=UU(t,cat),a=sb(n,"radiusAxis",s);if(a!=null)return Kd(Kd({},i),{},{type:a})},[t,n]);return C.useEffect(()=>r==null?xA:(e(sat(r)),()=>{e(iat(r))}),[e,r]),null}var yat=(t,e,n,r)=>{var{coordinate:s}=t;return ps(n,r,s,e)},xat=t=>{var e;switch(t){case"left":e="end";break;case"right":e="start";break;default:e="middle";break}return e},bat=(t,e,n,r)=>{var s=Yit(r,a=>a.coordinate||0),i=nat(r,a=>a.coordinate||0);return{cx:e,cy:n,startAngle:t,endAngle:t,innerRadius:i?.coordinate||0,outerRadius:s?.coordinate||0,clockWise:!1}},vat=(t,e)=>{var{cx:n,cy:r,angle:s,axisLine:i}=t,a=UU(t,uat),o=e.reduce((f,h)=>[Math.min(f[0],h.coordinate),Math.max(f[1],h.coordinate)],[1/0,-1/0]),c=ps(n,r,o[0],s),u=ps(n,r,o[1],s),d=Kd(Kd(Kd({},vi(a)),{},{fill:"none"},vi(i)),{},{x1:c.x,y1:c.y,x2:u.x,y2:u.y});return C.createElement("line",Y2({className:"recharts-polar-radius-axis-line"},d))},wat=(t,e,n)=>{var r;return C.isValidElement(t)?r=C.cloneElement(t,e):typeof t=="function"?r=t(e):r=C.createElement(fb,Y2({},e,{className:"recharts-polar-radius-axis-tick-value"}),n),r},Sat=(t,e)=>{var{angle:n,tickFormatter:r,stroke:s,tick:i}=t,a=UU(t,dat),o=xat(t.orientation),c=vi(a),u=kh(i),d=e.map((f,h)=>{var m=yat(f,t.angle,t.cx,t.cy),g=Kd(Kd(Kd(Kd({textAnchor:o,transform:"rotate(".concat(90-n,", ").concat(m.x,", ").concat(m.y,")")},c),{},{stroke:"none",fill:s},u),{},{index:h},m),{},{payload:f});return C.createElement(Os,Y2({className:yr("recharts-polar-radius-axis-tick",W3(i)),key:"tick-".concat(f.coordinate)},T0(t,f,h)),wat(i,g,r?r(f.value,h):f.value))});return C.createElement(Os,{className:"recharts-polar-radius-axis-ticks"},d)},Cat=t=>{var{radiusAxisId:e}=t,n=Xt(ab),r=Xt(c=>Ab(c,"radiusAxis",e)),s=Xt(c=>hb(c,"radiusAxis",e,!1));if(n==null||!s||!s.length||r==null)return null;var i=Kd(Kd({},t),{},{scale:r},n),{tick:a,axisLine:o}=i;return C.createElement(Ko,{zIndex:i.zIndex},C.createElement(Os,{className:yr("recharts-polar-radius-axis",mat,i.className)},o&&vat(i,s),a&&Sat(i,s),C.createElement(Zst,bat(i.angle,i.cx,i.cy,s),C.createElement(oit,{label:i.label}),i.children)))};function zU(t){var e=wi(t,Ld);return C.createElement(C.Fragment,null,C.createElement(gat,{domain:e.domain,id:e.radiusAxisId,scale:e.scale,type:e.type,dataKey:e.dataKey,unit:void 0,name:e.name,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDataOverflow:e.allowDataOverflow,reversed:e.reversed,includeHidden:e.includeHidden,allowDecimals:e.allowDecimals,ticks:e.ticks,tickCount:e.tickCount,tick:e.tick}),C.createElement(Cat,e))}zU.displayName="PolarRadiusAxis";var kat=["children","type"];function f0(){return f0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f0.apply(null,arguments)}function KG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Vu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KG(Object(n),!0).forEach(function(r){Bat(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bat(t,e,n){return(e=Eat(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eat(t){var e=Iat(t,"string");return typeof e=="symbol"?e:e+""}function Iat(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nat(t,e){if(t==null)return{};var n,r,s=jat(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function jat(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var XG=1e-5,Tat=Math.cos(O4(45)),_at="angleAxis";function Rat(t){var e=Ws(),n=Ale(),r=C.useMemo(()=>{var{children:a,type:o}=t,c=Nat(t,kat),u=sb(n,"angleAxis",o);if(u!=null)return Vu(Vu({},c),{},{type:u})},[t,n]),s=Xt(a=>ib(a,r?.id)),i=r===s;return C.useEffect(()=>r==null?xA:(e(aat(r)),()=>{e(oat(r))}),[e,r]),i?t.children:null}var Oat=(t,e)=>{var{cx:n,cy:r,radius:s,orientation:i,tickSize:a}=e,o=a||8,c=ps(n,r,s,t.coordinate),u=ps(n,r,s+(i==="inner"?-1:1)*o,t.coordinate);return{x1:c.x,y1:c.y,x2:u.x,y2:u.y}},Fat=(t,e)=>{var n=Math.cos(O4(-t.coordinate));return n>XG?e==="outer"?"start":"end":n<-XG?e==="outer"?"end":"start":"middle"},Dat=t=>{var e=Math.cos(O4(-t.coordinate)),n=Math.sin(O4(-t.coordinate));return Math.abs(e)<=Tat?n>0?"start":"end":"middle"},Lat=t=>{var{cx:e,cy:n,radius:r,axisLineType:s,axisLine:i,ticks:a}=t;if(!i)return null;var o=Vu(Vu({},vi(t)),{},{fill:"none"},vi(i));if(s==="circle")return C.createElement(FU,f0({className:"recharts-polar-angle-axis-line"},o,{cx:e,cy:n,r}));var c=a.map(u=>ps(e,n,r,u.coordinate));return C.createElement(tde,f0({className:"recharts-polar-angle-axis-line"},o,{points:c}))},$at=t=>{var{tick:e,tickProps:n,value:r}=t;return e?C.isValidElement(e)?C.cloneElement(e,n):typeof e=="function"?e(n):C.createElement(fb,f0({},n,{className:"recharts-polar-angle-axis-tick-value"}),r):null},Pat=t=>{var{tick:e,tickLine:n,tickFormatter:r,stroke:s,ticks:i}=t,a=vi(t),o=kh(e),c=Vu(Vu({},a),{},{fill:"none"},vi(n)),u=i.map((d,f)=>{var h=Oat(d,t),m=Fat(d,t.orientation),g=Dat(d),y=Vu(Vu(Vu({},a),{},{textAnchor:m,verticalAnchor:g,stroke:"none",fill:s},o),{},{index:f,payload:d,x:h.x2,y:h.y2});return C.createElement(Os,f0({className:yr("recharts-polar-angle-axis-tick",W3(e)),key:"tick-".concat(d.coordinate)},T0(t,d,f)),n&&C.createElement("line",f0({className:"recharts-polar-angle-axis-tick-line"},c,h)),C.createElement($at,{tick:e,tickProps:y,value:r?r(d.value,f):d.value}))});return C.createElement(Os,{className:"recharts-polar-angle-axis-ticks"},u)},Uat=t=>{var{angleAxisId:e}=t,n=Xt(ab),r=Xt(o=>Ab(o,"angleAxis",e)),s=Vo(),i=Xt(o=>_it(o,"angleAxis",e,s));if(n==null||!i||!i.length||r==null)return null;var a=Vu(Vu(Vu({},t),{},{scale:r},n),{},{radius:n.outerRadius,ticks:i});return C.createElement(Ko,{zIndex:a.zIndex},C.createElement(Os,{className:yr("recharts-polar-angle-axis",_at,a.className)},C.createElement(Lat,a),C.createElement(Pat,a)))};function MU(t){var e=wi(t,Ep);return C.createElement(Rat,{id:e.angleAxisId,scale:e.scale,type:e.type,dataKey:e.dataKey,unit:void 0,name:e.name,allowDuplicatedCategory:!1,allowDataOverflow:!1,reversed:e.reversed,includeHidden:!1,allowDecimals:e.allowDecimals,tickCount:e.tickCount,ticks:e.ticks,tick:e.tick,domain:e.domain},C.createElement(Uat,e))}MU.displayName="PolarAngleAxis";function YG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function JG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YG(Object(n),!0).forEach(function(r){zat(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zat(t,e,n){return(e=Mat(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mat(t){var e=Qat(t,"string");return typeof e=="symbol"?e:e+""}function Qat(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hat=(t,e)=>e,QU=Ve([DU,Hat],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),Wat=[],HU=(t,e,n)=>n?.length===0?Wat:n,ode=Ve([AS,QU,HU],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var s;if(e?.data!=null&&e.data.length>0?s=e.data:s=r,(!s||!s.length)&&n!=null&&(s=n.map(i=>JG(JG({},e.presentationProps),i.props))),s!=null)return s}}),Vat=Ve([ode,QU,HU],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,s)=>{var i,a=ws(r,e.nameKey,e.name),o;return n!=null&&(i=n[s])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?o=n[s].props.fill:typeof r=="object"&&r!=null&&"fill"in r?o=r.fill:o=e.fill,{value:Tm(a,e.dataKey),color:o,payload:r,type:e.legendType}})}),qat=Ve([ode,QU,HU,yo],(t,e,n,r)=>{if(!(e==null||t==null))return Vot({offset:r,pieSettings:e,displayedData:t,cells:n})}),PR={exports:{}},Ms={};var ZG;function Gat(){if(ZG)return Ms;ZG=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function g(y){if(typeof y=="object"&&y!==null){var x=y.$$typeof;switch(x){case t:switch(y=y.type,y){case n:case s:case r:case c:case u:case h:return y;default:switch(y=y&&y.$$typeof,y){case a:case o:case f:case d:return y;case i:return y;default:return x}}case e:return x}}}return Ms.ContextConsumer=i,Ms.ContextProvider=a,Ms.Element=t,Ms.ForwardRef=o,Ms.Fragment=n,Ms.Lazy=f,Ms.Memo=d,Ms.Portal=e,Ms.Profiler=s,Ms.StrictMode=r,Ms.Suspense=c,Ms.SuspenseList=u,Ms.isContextConsumer=function(y){return g(y)===i},Ms.isContextProvider=function(y){return g(y)===a},Ms.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===t},Ms.isForwardRef=function(y){return g(y)===o},Ms.isFragment=function(y){return g(y)===n},Ms.isLazy=function(y){return g(y)===f},Ms.isMemo=function(y){return g(y)===d},Ms.isPortal=function(y){return g(y)===e},Ms.isProfiler=function(y){return g(y)===s},Ms.isStrictMode=function(y){return g(y)===r},Ms.isSuspense=function(y){return g(y)===c},Ms.isSuspenseList=function(y){return g(y)===u},Ms.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===n||y===s||y===r||y===c||y===u||typeof y=="object"&&y!==null&&(y.$$typeof===f||y.$$typeof===d||y.$$typeof===a||y.$$typeof===i||y.$$typeof===o||y.$$typeof===m||y.getModuleId!==void 0)},Ms.typeOf=g,Ms}var eK;function Kat(){return eK||(eK=1,PR.exports=Gat()),PR.exports}var Xat=Kat(),tK=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",nK=null,UR=null,lde=t=>{if(t===nK&&Array.isArray(UR))return UR;var e=[];return C.Children.forEach(t,n=>{qi(n)||(Xat.isFragment(n)?e=e.concat(lde(n.props.children)):e.push(n))}),UR=e,nK=t,e};function WU(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(s=>tK(s)):r=[tK(e)],lde(t).forEach(s=>{var i=a0(s,"type.displayName")||a0(s,"type.name");i&&r.indexOf(i)!==-1&&n.push(s)}),n}var cde=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,zR={},rK;function Yat(){return rK||(rK=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const s=n[Symbol.toStringTag];return s==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${s}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(zR)),zR}var MR,sK;function Jat(){return sK||(sK=1,MR=Yat().isPlainObject),MR}var Zat=Jat();const eot=nc(Zat);var iK,aK,oK,lK,cK;function uK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function dK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uK(Object(n),!0).forEach(function(r){tot(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tot(t,e,n){return(e=not(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function not(t){var e=rot(t,"string");return typeof e=="symbol"?e:e+""}function rot(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function J4(){return J4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J4.apply(null,arguments)}function bv(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var fK=(t,e,n,r,s)=>{var i=n-r,a;return a=ia(iK||(iK=bv(["M ",",",""])),t,e),a+=ia(aK||(aK=bv(["L ",",",""])),t+n,e),a+=ia(oK||(oK=bv(["L ",",",""])),t+n-i/2,e+s),a+=ia(lK||(lK=bv(["L ",",",""])),t+n-i/2-r,e+s),a+=ia(cK||(cK=bv(["L ",","," Z"])),t,e),a},sot={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},iot=t=>{var e=wi(t,sot),{x:n,y:r,upperWidth:s,lowerWidth:i,height:a,className:o}=e,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=e,h=C.useRef(null),[m,g]=C.useState(-1),y=C.useRef(s),x=C.useRef(i),v=C.useRef(a),w=C.useRef(n),B=C.useRef(r),k=eb(t,"trapezoid-");if(C.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var z=h.current.getTotalLength();z&&g(z)}catch{}},[]),n!==+n||r!==+r||s!==+s||i!==+i||a!==+a||s===0&&i===0||a===0)return null;var E=yr("recharts-trapezoid",o);if(!f)return C.createElement("g",null,C.createElement("path",J4({},qa(e),{className:E,d:fK(n,r,s,i,a)})));var N=y.current,O=x.current,F=v.current,D=w.current,T=B.current,j="0px ".concat(m===-1?1:m,"px"),P="".concat(m,"px 0px"),U=Ble(["strokeDasharray"],u,c);return C.createElement(Zx,{animationId:k,key:k,canBegin:m>0,duration:u,easing:c,isActive:f,begin:d},z=>{var ee=Ns(N,s,z),q=Ns(O,i,z),Z=Ns(F,a,z),G=Ns(D,n,z),ne=Ns(T,r,z);h.current&&(y.current=ee,x.current=q,v.current=Z,w.current=G,B.current=ne);var K=z>0?{transition:U,strokeDasharray:P}:{strokeDasharray:j};return C.createElement("path",J4({},qa(e),{className:E,d:fK(G,ne,ee,q,Z),ref:h,style:dK(dK({},K),e.style)}))})},aot=["option","shapeType","activeClassName"];function oot(t,e){if(t==null)return{};var n,r,s=lot(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function lot(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function AK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Z4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AK(Object(n),!0).forEach(function(r){cot(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cot(t,e,n){return(e=uot(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uot(t){var e=dot(t,"string");return typeof e=="symbol"?e:e+""}function dot(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fot(t,e){return Z4(Z4({},e),t)}function Aot(t,e){return t==="symbols"}function hK(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return C.createElement(jle,n);case"trapezoid":return C.createElement(iot,n);case"sector":return C.createElement(Ole,n);case"symbols":if(Aot(e))return C.createElement(oP,n);break;case"curve":return C.createElement(s1,n);default:return null}}function hot(t){return C.isValidElement(t)?t.props:t}function ude(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,s=oot(t,aot),i;if(C.isValidElement(e))i=C.cloneElement(e,Z4(Z4({},s),hot(e)));else if(typeof e=="function")i=e(s,s.index);else if(eot(e)&&typeof e!="boolean"){var a=fot(e,s);i=C.createElement(hK,{shapeType:n,elementProps:a})}else{var o=s;i=C.createElement(hK,{shapeType:n,elementProps:o})}return s.isActive?C.createElement(Os,{className:r},i):i}var VU=(t,e,n)=>{var r=Ws();return(s,i)=>a=>{t?.(s,i,a),r(hue({activeIndex:String(i),activeDataKey:e,activeCoordinate:s.tooltipPosition,activeGraphicalItemId:n}))}},qU=t=>{var e=Ws();return(n,r)=>s=>{t?.(n,r,s),e(ont())}},GU=(t,e,n)=>{var r=Ws();return(s,i)=>a=>{t?.(s,i,a),r(lnt({activeIndex:String(i),activeDataKey:e,activeCoordinate:s.tooltipPosition,activeGraphicalItemId:n}))}};function V3(t){var{tooltipEntrySettings:e}=t,n=Ws(),r=Vo(),s=C.useRef(null);return C.useLayoutEffect(()=>{r||(s.current===null?n(rnt(e)):s.current!==e&&n(snt({prev:s.current,next:e})),s.current=e)},[e,n,r]),C.useLayoutEffect(()=>()=>{s.current&&(n(int(s.current)),s.current=null)},[n]),null}function dde(t){var{legendPayload:e}=t,n=Ws(),r=Vo(),s=C.useRef(null);return C.useLayoutEffect(()=>{r||(s.current===null?n(vle(e)):s.current!==e&&n(wle({prev:s.current,next:e})),s.current=e)},[n,r,e]),C.useLayoutEffect(()=>()=>{s.current&&(n(Sle(s.current)),s.current=null)},[n]),null}function fde(t){var{legendPayload:e}=t,n=Ws(),r=Xt($r),s=C.useRef(null);return C.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(s.current===null?n(vle(e)):s.current!==e&&n(wle({prev:s.current,next:e})),s.current=e)},[n,r,e]),C.useLayoutEffect(()=>()=>{s.current&&(n(Sle(s.current)),s.current=null)},[n]),null}var QR,pot=()=>{var[t]=C.useState(()=>L2("uid-"));return t},mot=(QR=gpe.useId)!==null&&QR!==void 0?QR:pot;function got(t,e){var n=mot();return e||(t?"".concat(t,"-").concat(n):n)}var yot=C.createContext(void 0),q3=t=>{var{id:e,type:n,children:r}=t,s=got("recharts-".concat(n),e);return C.createElement(yot.Provider,{value:s},r(s))},xot={cartesianItems:[],polarItems:[]},Ade=$c({name:"graphicalItems",initialState:xot,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Li()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,s=Jd(t).cartesianItems.indexOf(n);s>-1&&(t.cartesianItems[s]=r)},prepare:Li()},removeCartesianGraphicalItem:{reducer(t,e){var n=Jd(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Li()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Li()},removePolarGraphicalItem:{reducer(t,e){var n=Jd(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Li()}}}),{addCartesianGraphicalItem:bot,replaceCartesianGraphicalItem:vot,removeCartesianGraphicalItem:wot,addPolarGraphicalItem:Sot,removePolarGraphicalItem:Cot}=Ade.actions,kot=Ade.reducer,Bot=t=>{var e=Ws(),n=C.useRef(null);return C.useLayoutEffect(()=>{n.current===null?e(bot(t)):n.current!==t&&e(vot({prev:n.current,next:t})),n.current=t},[e,t]),C.useLayoutEffect(()=>()=>{n.current&&(e(wot(n.current)),n.current=null)},[e]),null},hde=C.memo(Bot);function pde(t){var e=Ws();return C.useLayoutEffect(()=>(e(Sot(t)),()=>{e(Cot(t))}),[e,t]),null}var Eot=["key"],Iot=["onMouseEnter","onClick","onMouseLeave"],Not=["id"],jot=["id"];function pK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ga(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pK(Object(n),!0).forEach(function(r){Tot(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tot(t,e,n){return(e=_ot(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ot(t){var e=Rot(t,"string");return typeof e=="symbol"?e:e+""}function Rot(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ym(){return ym=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ym.apply(null,arguments)}function G3(t,e){if(t==null)return{};var n,r,s=Oot(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function Oot(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Fot(t){var e=C.useMemo(()=>WU(t.children,pA),[t.children]),n=Xt(r=>Vat(r,t.id,e));return n==null?null:C.createElement(fde,{legendPayload:n})}var Dot=C.memo(t=>{var{dataKey:e,nameKey:n,sectors:r,stroke:s,strokeWidth:i,fill:a,name:o,hide:c,tooltipType:u,id:d}=t,f={dataDefinedOnItem:r.map(h=>h.tooltipPayload),getPosition:h=>{var m;return(m=r[Number(h)])===null||m===void 0?void 0:m.tooltipPosition},settings:{stroke:s,strokeWidth:i,fill:a,dataKey:e,nameKey:n,name:Tm(o,e),hide:c,type:u,color:a,unit:"",graphicalItemId:d}};return C.createElement(V3,{tooltipEntrySettings:f})}),Lot=(t,e)=>t>e?"start":t<e?"end":"middle",$ot=(t,e,n)=>Tl(typeof e=="function"?e(t):e,n,n*.8),Pot=(t,e,n)=>{var{top:r,left:s,width:i,height:a}=e,o=Tle(i,a),c=s+Tl(t.cx,i,i/2),u=r+Tl(t.cy,a,a/2),d=Tl(t.innerRadius,o,0),f=$ot(n,t.outerRadius,o),h=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:c,cy:u,innerRadius:d,outerRadius:f,maxRadius:h}},Uot=(t,e)=>{var n=Lo(e-t),r=Math.min(Math.abs(e-t),360);return n*r},zot=(t,e)=>{if(C.isValidElement(t))return C.cloneElement(t,e);if(typeof t=="function")return t(e);var n=yr("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:r}=e,s=G3(e,Eot);return C.createElement(s1,ym({},s,{type:"linear",className:n}))},Mot=(t,e,n)=>{if(C.isValidElement(t))return C.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),C.isValidElement(r)))return r;var s=yr("recharts-pie-label-text",W3(t));return C.createElement(fb,ym({},e,{alignmentBaseline:"middle",className:s}),r)};function Qot(t){var{sectors:e,props:n,showLabels:r}=t,{label:s,labelLine:i,dataKey:a}=n;if(!r||!s||!e)return null;var o=vi(n),c=kh(s),u=kh(i),d=typeof s=="object"&&"offsetRadius"in s&&typeof s.offsetRadius=="number"&&s.offsetRadius||20,f=e.map((h,m)=>{var g=(h.startAngle+h.endAngle)/2,y=ps(h.cx,h.cy,h.outerRadius+d,g),x=ga(ga(ga(ga({},o),h),{},{stroke:"none"},c),{},{index:m,textAnchor:Lot(y.x,h.cx)},y),v=ga(ga(ga(ga({},o),h),{},{fill:"none",stroke:h.fill},u),{},{index:m,points:[ps(h.cx,h.cy,h.outerRadius,g),y],key:"line"});return C.createElement(Ko,{zIndex:Qi.label,key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(m)},C.createElement(Os,null,i&&zot(i,v),Mot(s,x,ws(h,a))))});return C.createElement(Os,{className:"recharts-pie-labels"},f)}function Hot(t){var{sectors:e,props:n,showLabels:r}=t,{label:s}=n;return typeof s=="object"&&s!=null&&"position"in s?C.createElement(z3,{label:s}):C.createElement(Qot,{sectors:e,props:n,showLabels:r})}function Wot(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:s,shape:i,id:a}=t,o=Xt(gm),c=Xt(IU),u=Xt(qnt),{onMouseEnter:d,onClick:f,onMouseLeave:h}=s,m=G3(s,Iot),g=VU(d,s.dataKey,a),y=qU(h),x=GU(f,s.dataKey,a);return e==null||e.length===0?null:C.createElement(C.Fragment,null,e.map((v,w)=>{if(v?.startAngle===0&&v?.endAngle===0&&e.length!==1)return null;var B=u==null||u===a,k=String(w)===o&&(c==null||s.dataKey===c)&&B,E=o?r:null,N=n&&k?n:E,O=ga(ga({},v),{},{stroke:v.stroke,tabIndex:-1,[ole]:w,[lle]:a});return C.createElement(Os,ym({key:"sector-".concat(v?.startAngle,"-").concat(v?.endAngle,"-").concat(v.midAngle,"-").concat(w),tabIndex:-1,className:"recharts-pie-sector"},T0(m,v,w),{onMouseEnter:g(v,w),onMouseLeave:y(v,w),onClick:x(v,w)}),C.createElement(ude,ym({option:i??N,index:w,shapeType:"sector",isActive:k},O)))}))}function Vot(t){var e,{pieSettings:n,displayedData:r,cells:s,offset:i}=t,{cornerRadius:a,startAngle:o,endAngle:c,dataKey:u,nameKey:d,tooltipType:f}=n,h=Math.abs(n.minAngle),m=Uot(o,c),g=Math.abs(m),y=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,x=r.filter(N=>ws(N,u,0)!==0).length,v=(g>=360?x:x-1)*y,w=g-x*h-v,B=r.reduce((N,O)=>{var F=ws(O,u,0);return N+(nn(F)?F:0)},0),k;if(B>0){var E;k=r.map((N,O)=>{var F=ws(N,u,0),D=ws(N,d,O),T=Pot(n,i,N),j=(nn(F)?F:0)/B,P,U=ga(ga({},N),s&&s[O]&&s[O].props);O?P=E.endAngle+Lo(m)*y*(F!==0?1:0):P=o;var z=P+Lo(m)*((F!==0?h:0)+j*w),ee=(P+z)/2,q=(T.innerRadius+T.outerRadius)/2,Z=[{name:D,value:F,payload:U,dataKey:u,type:f,graphicalItemId:n.id}],G=ps(T.cx,T.cy,q,ee);return E=ga(ga(ga(ga({},n.presentationProps),{},{percent:j,cornerRadius:typeof a=="string"?parseFloat(a):a,name:D,tooltipPayload:Z,midAngle:ee,middleRadius:q,tooltipPosition:G},U),T),{},{value:F,dataKey:u,startAngle:P,endAngle:z,payload:U,paddingAngle:Lo(m)*y}),E})}return k}function qot(t){var{showLabels:e,sectors:n,children:r}=t,s=C.useMemo(()=>!e||!n?[]:n.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[n,e]);return C.createElement(git,{value:e?s:void 0},r)}function Got(t){var{props:e,previousSectorsRef:n,id:r}=t,{sectors:s,isAnimationActive:i,animationBegin:a,animationDuration:o,animationEasing:c,activeShape:u,inactiveShape:d,onAnimationStart:f,onAnimationEnd:h}=e,m=eb(e,"recharts-pie-"),g=n.current,[y,x]=C.useState(!1),v=C.useCallback(()=>{typeof h=="function"&&h(),x(!1)},[h]),w=C.useCallback(()=>{typeof f=="function"&&f(),x(!0)},[f]);return C.createElement(qot,{showLabels:!y,sectors:s},C.createElement(Zx,{animationId:m,begin:a,duration:o,isActive:i,easing:c,onAnimationStart:w,onAnimationEnd:v,key:m},B=>{var k,E=[],N=s&&s[0],O=(k=N?.startAngle)!==null&&k!==void 0?k:0;return s?.forEach((F,D)=>{var T=g&&g[D],j=D>0?a0(F,"paddingAngle",0):0;if(T){var P=Ns(T.endAngle-T.startAngle,F.endAngle-F.startAngle,B),U=ga(ga({},F),{},{startAngle:O+j,endAngle:O+P+j});E.push(U),O=U.endAngle}else{var{endAngle:z,startAngle:ee}=F,q=Ns(0,z-ee,B),Z=ga(ga({},F),{},{startAngle:O+j,endAngle:O+q+j});E.push(Z),O=Z.endAngle}}),n.current=E,C.createElement(Os,null,C.createElement(Wot,{sectors:E,activeShape:u,inactiveShape:d,allOtherPieProps:e,shape:e.shape,id:r}))}),C.createElement(Hot,{showLabels:!y,sectors:s,props:e}),e.children)}var Kot={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Qi.area};function Xot(t){var{id:e}=t,n=G3(t,Not),{hide:r,className:s,rootTabIndex:i}=t,a=C.useMemo(()=>WU(t.children,pA),[t.children]),o=Xt(d=>qat(d,e,a)),c=C.useRef(null),u=yr("recharts-pie",s);return r||o==null?(c.current=null,C.createElement(Os,{tabIndex:i,className:u})):C.createElement(Ko,{zIndex:t.zIndex},C.createElement(Dot,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:o,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,id:e}),C.createElement(Os,{tabIndex:i,className:u},C.createElement(Got,{props:ga(ga({},n),{},{sectors:o}),previousSectorsRef:c,id:e})))}function K3(t){var e=wi(t,Kot),{id:n}=e,r=G3(e,jot),s=vi(r);return C.createElement(q3,{id:n,type:"pie"},i=>C.createElement(C.Fragment,null,C.createElement(pde,{type:"pie",id:i,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:s,maxRadius:e.maxRadius}),C.createElement(Fot,ym({},r,{id:i})),C.createElement(Xot,ym({},r,{id:i}))))}K3.displayName="Pie";var Yot=["points"];function mK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function HR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mK(Object(n),!0).forEach(function(r){Jot(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jot(t,e,n){return(e=Zot(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zot(t){var e=elt(t,"string");return typeof e=="symbol"?e:e+""}function elt(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eE(){return eE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eE.apply(null,arguments)}function tlt(t,e){if(t==null)return{};var n,r,s=nlt(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function nlt(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function rlt(t){var{option:e,dotProps:n,className:r}=t;if(C.isValidElement(e))return C.cloneElement(e,n);if(typeof e=="function")return e(n);var s=yr(r,typeof e!="boolean"?e.className:""),i=n??{},{points:a}=i,o=tlt(i,Yot);return C.createElement(FU,eE({},o,{className:s}))}function slt(t,e){return t==null?!1:e?!0:t.length===1}function mde(t){var{points:e,dot:n,className:r,dotClassName:s,dataKey:i,baseProps:a,needClip:o,clipPathId:c,zIndex:u=Qi.scatter}=t;if(!slt(e,n))return null;var d=cde(n),f=fVe(n),h=e.map((g,y)=>{var x,v,w=HR(HR(HR({r:3},a),f),{},{index:y,cx:(x=g.x)!==null&&x!==void 0?x:void 0,cy:(v=g.y)!==null&&v!==void 0?v:void 0,dataKey:i,value:g.value,payload:g.payload,points:e});return C.createElement(rlt,{key:"dot-".concat(y),option:n,dotProps:w,className:s})}),m={};return o&&c!=null&&(m.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(c,")")),C.createElement(Ko,{zIndex:u},C.createElement(Os,eE({className:r},m),h))}function gK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function yK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gK(Object(n),!0).forEach(function(r){ilt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ilt(t,e,n){return(e=alt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function alt(t){var e=olt(t,"string");return typeof e=="symbol"?e:e+""}function olt(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gde=0,llt={xAxis:{},yAxis:{},zAxis:{}},yde=$c({name:"cartesianAxis",initialState:llt,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Li()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:Li()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Li()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Li()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:Li()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Li()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Li()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:Li()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Li()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,s=t.yAxis[n];if(s){var i,a=s.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==s.width&&Math.abs(r-((i=a[0])!==null&&i!==void 0?i:0))<=1)return;var o=[...a,r].slice(-3);t.yAxis[n]=yK(yK({},s),{},{width:r,widthHistory:o})}}}}),{addXAxis:clt,replaceXAxis:ult,removeXAxis:dlt,addYAxis:flt,replaceYAxis:Alt,removeYAxis:hlt,addZAxis:ivt,replaceZAxis:avt,removeZAxis:ovt,updateYAxisWidth:plt}=yde.actions,mlt=yde.reducer,glt=Ve([yo],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),ylt=Ve([glt,Qh,Hh],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),KU=()=>Xt(ylt),xlt=()=>Xt(Jnt);function xK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function WR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xK(Object(n),!0).forEach(function(r){blt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function blt(t,e,n){return(e=vlt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vlt(t){var e=wlt(t,"string");return typeof e=="symbol"?e:e+""}function wlt(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Slt=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:s,dataKey:i,clipPath:a}=t;if(s===!1||e.x==null||e.y==null)return null;var o={index:n,dataKey:i,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},c=WR(WR(WR({},o),kh(s)),lP(s)),u;return C.isValidElement(s)?u=C.cloneElement(s,c):typeof s=="function"?u=s(c):u=C.createElement(FU,c),C.createElement(Os,{className:"recharts-active-dot",clipPath:a},u)};function qF(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:s,clipPath:i,zIndex:a=Qi.activeDot}=t,o=Xt(gm),c=xlt();if(e==null||c==null)return null;var u=e.find(d=>c.includes(d.payload));return qi(u)?null:C.createElement(Ko,{zIndex:a},C.createElement(Slt,{point:u,childIndex:Number(o),mainColor:n,dataKey:s,activeDot:r,clipPath:i}))}function bK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function tE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bK(Object(n),!0).forEach(function(r){Clt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Clt(t,e,n){return(e=klt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function klt(t){var e=Blt(t,"string");return typeof e=="symbol"?e:e+""}function Blt(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xde=(t,e)=>Ab(t,"radiusAxis",e),Elt=Ve([xde],t=>{if(t!=null)return{scale:t}}),Ilt=Ve([pS,xde],(t,e)=>{if(!(t==null||e==null))return tE(tE({},t),{},{scale:e})}),Nlt=(t,e,n,r)=>hb(t,"radiusAxis",e,r),bde=(t,e,n)=>ib(t,n),vde=(t,e,n)=>Ab(t,"angleAxis",n),jlt=Ve([bde,vde],(t,e)=>{if(!(t==null||e==null))return tE(tE({},t),{},{scale:e})}),Tlt=(t,e,n,r)=>hb(t,"angleAxis",n,r),_lt=Ve([bde,vde,ab],(t,e,n)=>{if(!(n==null||e==null))return{scale:e,type:t.type,dataKey:t.dataKey,cx:n.cx,cy:n.cy}}),Rlt=(t,e,n,r,s)=>s,Olt=Ve([$r,Ilt,Nlt,jlt,Tlt],(t,e,n,r,s)=>pf(t,"radiusAxis")?hm(e,n,!1):hm(r,s,!1)),Flt=Ve([DU,Rlt],(t,e)=>{if(t!=null){var n=t.find(r=>r.type==="radar"&&e===r.id);return n?.dataKey}}),Dlt=Ve([Elt,_lt,AS,Flt,Olt],(t,e,n,r,s)=>{var{chartData:i,dataStartIndex:a,dataEndIndex:o}=n;if(!(t==null||e==null||i==null||s==null||r==null)){var c=i.slice(a,o+1);return Vlt({radiusAxis:t,angleAxis:e,displayedData:c,dataKey:r,bandSize:s})}}),Llt=["id"];function J2(){return J2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J2.apply(null,arguments)}function vK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Nc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vK(Object(n),!0).forEach(function(r){$lt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $lt(t,e,n){return(e=Plt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Plt(t){var e=Ult(t,"string");return typeof e=="symbol"?e:e+""}function Ult(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zlt(t,e){if(t==null)return{};var n,r,s=Mlt(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function Mlt(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function XU(t,e){return t&&t!=="none"?t:e}var Qlt=t=>{var{dataKey:e,name:n,stroke:r,fill:s,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:XU(r,s),value:Tm(n,e),payload:t}]},Hlt=C.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:s,name:i,hide:a,tooltipType:o,id:c}=t,u={dataDefinedOnItem:void 0,getPosition:xA,settings:{stroke:n,strokeWidth:r,fill:s,nameKey:void 0,dataKey:e,name:Tm(i,e),hide:a,type:o,color:XU(n,s),unit:"",graphicalItemId:c}};return C.createElement(V3,{tooltipEntrySettings:u})});function Wlt(t){var{points:e,props:n}=t,{dot:r,dataKey:s}=n,{id:i}=n,a=zlt(n,Llt),o=vi(a);return C.createElement(mde,{points:e,dot:r,className:"recharts-radar-dots",dotClassName:"recharts-radar-dot",dataKey:s,baseProps:o})}function Vlt(t){var{radiusAxis:e,angleAxis:n,displayedData:r,dataKey:s,bandSize:i}=t,{cx:a,cy:o}=n,c=!1,u=[],d=n.type!=="number"?i??0:0;r.forEach((h,m)=>{var g,y,x=ws(h,n.dataKey,m),v=ws(h,s),w=((g=n.scale.map(x))!==null&&g!==void 0?g:0)+d,B=Array.isArray(v)?Jue(v):v,k=qi(B)?0:(y=e.scale.map(B))!==null&&y!==void 0?y:0;Array.isArray(v)&&v.length>=2&&(c=!0),u.push(Nc(Nc({},ps(a,o,k,w)),{},{name:x,value:v,cx:a,cy:o,radius:k,angle:w,payload:h}))});var f=[];return c&&u.forEach(h=>{if(Array.isArray(h.value)){var m,g=h.value[0],y=qi(g)?0:(m=e.scale.map(g))!==null&&m!==void 0?m:0;f.push(Nc(Nc({},h),{},{radius:y},ps(a,o,y,h.angle)))}else f.push(h)}),{points:u,isRange:c,baseLinePoints:f}}function qlt(t){var{showLabels:e,points:n,children:r}=t,s=n.map(i=>{var a,o={x:i.x,y:i.y,width:0,lowerWidth:0,upperWidth:0,height:0};return Nc(Nc({},o),{},{value:(a=i.value)!==null&&a!==void 0?a:"",payload:i.payload,parentViewBox:void 0,viewBox:o,fill:void 0})});return C.createElement(OU,{value:e?s:void 0},r)}function Glt(t){var{points:e,baseLinePoints:n,props:r}=t;if(e==null)return null;var{shape:s,isRange:i,connectNulls:a}=r,o=d=>{var{onMouseEnter:f}=r;f&&f(r,d)},c=d=>{var{onMouseLeave:f}=r;f&&f(r,d)},u;return C.isValidElement(s)?u=C.cloneElement(s,Nc(Nc({},r),{},{points:e})):typeof s=="function"?u=s(Nc(Nc({},r),{},{points:e})):u=C.createElement(tde,J2({},qa(r),{onMouseEnter:o,onMouseLeave:c,points:e,baseLinePoints:i?n:void 0,connectNulls:a})),C.createElement(Os,{className:"recharts-radar-polygon"},u,C.createElement(Wlt,{props:r,points:e}))}var wK=(t,e,n)=>(r,s)=>{var i=t&&t[Math.floor(s*e)];return i?Nc(Nc({},r),{},{x:Ns(i.x,r.x,n),y:Ns(i.y,r.y,n)}):Nc(Nc({},r),{},{x:Ns(r.cx,r.x,n),y:Ns(r.cy,r.y,n)})};function Klt(t){var{props:e,previousPointsRef:n,previousBaseLinePointsRef:r}=t,{points:s,baseLinePoints:i,isAnimationActive:a,animationBegin:o,animationDuration:c,animationEasing:u,onAnimationEnd:d,onAnimationStart:f}=e,h=n.current,m=r.current,g=h?h.length/s.length:1,y=m?m.length/i.length:1,x=eb(e,"recharts-radar-"),[v,w]=C.useState(!1),B=!v,k=C.useCallback(()=>{typeof d=="function"&&d(),w(!1)},[d]),E=C.useCallback(()=>{typeof f=="function"&&f(),w(!0)},[f]);return C.createElement(qlt,{showLabels:B,points:s},C.createElement(Zx,{animationId:x,begin:o,duration:c,isActive:a,easing:u,key:"radar-".concat(x),onAnimationEnd:k,onAnimationStart:E},N=>{var O=N===1?s:s.map(wK(h,g,N)),F=N===1?i:i?.map(wK(m,y,N));return N>0&&(n.current=O,r.current=F),C.createElement(Glt,{points:O,baseLinePoints:F,props:e})}),C.createElement(z3,{label:e.label}),e.children)}function Xlt(t){var e=C.useRef(void 0),n=C.useRef(void 0);return C.createElement(Klt,{props:t,previousPointsRef:e,previousBaseLinePointsRef:n})}var Ylt={activeDot:!0,angleAxisId:0,animationBegin:0,animationDuration:1500,animationEasing:"ease",dot:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",radiusAxisId:0,zIndex:Qi.area};function Jlt(t){var{hide:e,className:n,points:r}=t;if(e)return null;var s=yr("recharts-radar",n);return C.createElement(Ko,{zIndex:t.zIndex},C.createElement(Os,{className:s},C.createElement(Xlt,t)),C.createElement(qF,{points:r,mainColor:XU(t.stroke,t.fill),itemDataKey:t.dataKey,activeDot:t.activeDot}))}function Zlt(t){var e=Vo(),n=Xt(r=>Dlt(r,t.radiusAxisId,t.angleAxisId,e,t.id));return n?.points==null?null:C.createElement(Jlt,J2({},t,{points:n?.points,baseLinePoints:n?.baseLinePoints,isRange:n?.isRange}))}function YU(t){var e=wi(t,Ylt);return C.createElement(q3,{id:e.id,type:"radar"},n=>C.createElement(C.Fragment,null,C.createElement(pde,{type:"radar",id:n,data:void 0,dataKey:e.dataKey,hide:e.hide,angleAxisId:e.angleAxisId,radiusAxisId:e.radiusAxisId}),C.createElement(fde,{legendPayload:Qlt(e)}),C.createElement(Hlt,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:n}),C.createElement(Zlt,J2({},e,{id:n}))))}YU.displayName="Radar";var SK=(t,e,n)=>{var r=n??t;if(!qi(r))return Tl(r,e,0)},ect=(t,e,n)=>{var r={},s=t.filter(j3),i=t.filter(u=>u.stackId==null),a=s.reduce((u,d)=>{var f=u[d.stackId];return f==null&&(f=[]),f.push(d),u[d.stackId]=f,u},r),o=Object.entries(a).map(u=>{var d,[f,h]=u,m=h.map(y=>y.dataKey),g=SK(e,n,(d=h[0])===null||d===void 0?void 0:d.barSize);return{stackId:f,dataKeys:m,barSize:g}}),c=i.map(u=>{var d=[u.dataKey].filter(h=>h!=null),f=SK(e,n,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...o,...c]};function CK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ik(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CK(Object(n),!0).forEach(function(r){tct(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tct(t,e,n){return(e=nct(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nct(t){var e=rct(t,"string");return typeof e=="symbol"?e:e+""}function rct(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sct(t,e,n,r,s){var i,a=r.length;if(!(a<1)){var o=Tl(t,n,0,!0),c,u=[];if(br((i=r[0])===null||i===void 0?void 0:i.barSize)){var d=!1,f=n/a,h=r.reduce((w,B)=>w+(B.barSize||0),0);h+=(a-1)*o,h>=n&&(h-=(a-1)*o,o=0),h>=n&&f>0&&(d=!0,f*=.9,h=a*f);var m=(n-h)/2>>0,g={offset:m-o,size:0};c=r.reduce((w,B)=>{var k,E={stackId:B.stackId,dataKeys:B.dataKeys,position:{offset:g.offset+g.size+o,size:d?f:(k=B.barSize)!==null&&k!==void 0?k:0}},N=[...w,E];return g=E.position,N},u)}else{var y=Tl(e,n,0,!0);n-2*y-(a-1)*o<=0&&(o=0);var x=(n-2*y-(a-1)*o)/a;x>1&&(x>>=0);var v=br(s)?Math.min(x,s):x;c=r.reduce((w,B,k)=>[...w,{stackId:B.stackId,dataKeys:B.dataKeys,position:{offset:y+(x+o)*k+(x-v)/2,size:v}}],u)}return c}}var ict=(t,e,n,r,s,i,a)=>{var o=qi(a)?e:a,c=sct(n,r,s!==i?s:i,t,o);return s!==i&&c!=null&&(c=c.map(u=>ik(ik({},u),{},{position:ik(ik({},u.position),{},{offset:u.position.offset-s/2})}))),c},act=(t,e)=>{var n=N3(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var s=t[r];if(s){var{stackedData:i}=s;if(i)return i.find(a=>a.key===n)}}}},oct=(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}};function lct(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&br(t.zIndex)?t.zIndex:e}var wde=t=>{var{chartData:e}=t,n=Ws(),r=Vo();return C.useEffect(()=>r?()=>{}:(n(AG(e)),()=>{n(AG(void 0))}),[e,n,r]),null},kK={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Sde=$c({name:"brush",initialState:kK,reducers:{setBrushSettings(t,e){return e.payload==null?kK:e.payload}}}),{setBrushSettings:lvt}=Sde.actions,cct=Sde.reducer;function uct(t){return(t%180+180)%180}var dct=function(e){var{width:n,height:r}=e,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=uct(s),a=i*Math.PI/180,o=Math.atan(r/n),c=a>o&&a<Math.PI-o?r/Math.sin(a):n/Math.cos(a);return Math.abs(c)},fct={dots:[],areas:[],lines:[]},Cde=$c({name:"referenceElements",initialState:fct,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Jd(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Jd(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Jd(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:cvt,removeDot:uvt,addArea:dvt,removeArea:fvt,addLine:Avt,removeLine:hvt}=Cde.actions,Act=Cde.reducer,hct=C.createContext(void 0),pct=t=>{var{children:e}=t,[n]=C.useState("".concat(L2("recharts"),"-clip")),r=KU();if(r==null)return null;var{x:s,y:i,width:a,height:o}=r;return C.createElement(hct.Provider,{value:n},C.createElement("defs",null,C.createElement("clipPath",{id:n},C.createElement("rect",{x:s,y:i,height:o,width:a}))),e)};function kde(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var s=t[r];s!==void 0&&n.push(s)}return n}function mct(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return dct(r,n)}function gct(t,e,n){var r=n==="width",{x:s,y:i,width:a,height:o}=t;return e===1?{start:r?s:i,end:r?s+a:i+o}:{start:r?s+a:i+o,end:r?s:i}}function Z2(t,e,n,r,s){if(t*e<t*r||t*e>t*s)return!1;var i=n();return t*(e-t*i/2-r)>=0&&t*(e+t*i/2-s)<=0}function yct(t,e){return kde(t,e+1)}function xct(t,e,n,r,s){for(var i=(r||[]).slice(),{start:a,end:o}=e,c=0,u=1,d=a,f=function(){var g=r?.[c];if(g===void 0)return{v:kde(r,u)};var y=c,x,v=()=>(x===void 0&&(x=n(g,y)),x),w=g.coordinate,B=c===0||Z2(t,w,v,d,o);B||(c=0,d=a,u+=1),B&&(d=w+t*(v()/2+s),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function bct(t,e,n,r,s){var i=(r||[]).slice(),a=i.length;if(a===0)return[];for(var{start:o,end:c}=e,u=1;u<=a;u++){for(var d=(a-1)%u,f=o,h=!0,m=function(){var k=r[y];if(k==null)return 0;var E=y,N,O=()=>(N===void 0&&(N=n(k,E)),N),F=k.coordinate,D=y===d||Z2(t,F,O,f,c);if(!D)return h=!1,1;D&&(f=F+t*(O()/2+s))},g,y=d;y<a&&(g=m(),!(g!==0&&g===1));y+=u);if(h){for(var x=[],v=d;v<a;v+=u){var w=r[v];w!=null&&x.push(w)}return x}}return[]}function BK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function bl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BK(Object(n),!0).forEach(function(r){vct(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vct(t,e,n){return(e=wct(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wct(t){var e=Sct(t,"string");return typeof e=="symbol"?e:e+""}function Sct(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cct(t,e,n,r,s){for(var i=(r||[]).slice(),a=i.length,{start:o}=e,{end:c}=e,u=function(h){var m=i[h];if(m==null)return 1;var g=m,y,x=()=>(y===void 0&&(y=n(m,h)),y);if(h===a-1){var v=t*(g.coordinate+t*x()/2-c);i[h]=g=bl(bl({},g),{},{tickCoord:v>0?g.coordinate-v*t:g.coordinate})}else i[h]=g=bl(bl({},g),{},{tickCoord:g.coordinate});if(g.tickCoord!=null){var w=Z2(t,g.tickCoord,x,o,c);w&&(c=g.tickCoord-t*(x()/2+s),i[h]=bl(bl({},g),{},{isShow:!0}))}},d=a-1;d>=0;d--)u(d);return i}function kct(t,e,n,r,s,i){var a=(r||[]).slice(),o=a.length,{start:c,end:u}=e;if(i){var d=r[o-1];if(d!=null){var f=n(d,o-1),h=t*(d.coordinate+t*f/2-u);if(a[o-1]=d=bl(bl({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate}),d.tickCoord!=null){var m=Z2(t,d.tickCoord,()=>f,c,u);m&&(u=d.tickCoord-t*(f/2+s),a[o-1]=bl(bl({},d),{},{isShow:!0}))}}}for(var g=i?o-1:o,y=function(w){var B=a[w];if(B==null)return 1;var k=B,E,N=()=>(E===void 0&&(E=n(B,w)),E);if(w===0){var O=t*(k.coordinate-t*N()/2-c);a[w]=k=bl(bl({},k),{},{tickCoord:O<0?k.coordinate-O*t:k.coordinate})}else a[w]=k=bl(bl({},k),{},{tickCoord:k.coordinate});if(k.tickCoord!=null){var F=Z2(t,k.tickCoord,N,c,u);F&&(c=k.tickCoord+t*(N()/2+s),a[w]=bl(bl({},k),{},{isShow:!0}))}},x=0;x<g;x++)y(x);return a}function JU(t,e,n){var{tick:r,ticks:s,viewBox:i,minTickGap:a,orientation:o,interval:c,tickFormatter:u,unit:d,angle:f}=t;if(!s||!s.length||!r)return[];if(nn(c)||lS.isSsr){var h;return(h=yct(s,nn(c)?c:0))!==null&&h!==void 0?h:[]}var m=[],g=o==="top"||o==="bottom"?"width":"height",y=d&&g==="width"?n2(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},x=(E,N)=>{var O=typeof u=="function"?u(E.value,N):E.value;return g==="width"?mct(n2(O,{fontSize:e,letterSpacing:n}),y,f):n2(O,{fontSize:e,letterSpacing:n})[g]},v=s[0],w=s[1],B=s.length>=2&&v!=null&&w!=null?Lo(w.coordinate-v.coordinate):1,k=gct(i,B,g);return c==="equidistantPreserveStart"?xct(B,k,x,s,a):c==="equidistantPreserveEnd"?bct(B,k,x,s,a):(c==="preserveStart"||c==="preserveStartEnd"?m=kct(B,k,x,s,a,c==="preserveStartEnd"):m=Cct(B,k,x,s,a),m.filter(E=>E.isShow))}var Bct=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:s=0,tickMargin:i=0}=t,a=0;if(e){Array.from(e).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>a&&(a=f.width)}});var o=n?n.getBoundingClientRect().width:0,c=s+i,u=a+c+o+(n?r:0);return Math.round(u)}return 0},Ect=["axisLine","width","height","className","hide","ticks","axisType"];function Ict(t,e){if(t==null)return{};var n,r,s=Nct(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function Nct(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function A0(){return A0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},A0.apply(null,arguments)}function EK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ma(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EK(Object(n),!0).forEach(function(r){jct(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jct(t,e,n){return(e=Tct(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tct(t){var e=_ct(t,"string");return typeof e=="symbol"?e:e+""}function _ct(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hh={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Qi.axis};function Rct(t){var{x:e,y:n,width:r,height:s,orientation:i,mirror:a,axisLine:o,otherSvgProps:c}=t;if(!o)return null;var u=ma(ma(ma({},c),vi(o)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!a||i==="bottom"&&a);u=ma(ma({},u),{},{x1:e,y1:n+d*s,x2:e+r,y2:n+d*s})}else{var f=+(i==="left"&&!a||i==="right"&&a);u=ma(ma({},u),{},{x1:e+f*r,y1:n,x2:e+f*r,y2:n+s})}return C.createElement("line",A0({},u,{className:yr("recharts-cartesian-axis-line",a0(o,"className"))}))}function Oct(t,e,n,r,s,i,a,o,c){var u,d,f,h,m,g,y=o?-1:1,x=t.tickSize||a,v=nn(t.tickCoord)?t.tickCoord:t.coordinate;switch(i){case"top":u=d=t.coordinate,h=n+ +!o*s,f=h-y*x,g=f-y*c,m=v;break;case"left":f=h=t.coordinate,d=e+ +!o*r,u=d-y*x,m=u-y*c,g=v;break;case"right":f=h=t.coordinate,d=e+ +o*r,u=d+y*x,m=u+y*c,g=v;break;default:u=d=t.coordinate,h=n+ +o*s,f=h+y*x,g=f+y*c,m=v;break}return{line:{x1:u,y1:f,x2:d,y2:h},tick:{x:m,y:g}}}function Fct(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function Dct(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Lct(t){var{option:e,tickProps:n,value:r}=t,s,i=yr(n.className,"recharts-cartesian-axis-tick-value");if(C.isValidElement(e))s=C.cloneElement(e,ma(ma({},n),{},{className:i}));else if(typeof e=="function")s=e(ma(ma({},n),{},{className:i}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=yr(a,W3(e))),s=C.createElement(fb,A0({},n,{className:a}),r)}return s}var $ct=C.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:s,stroke:i,tickFormatter:a,unit:o,padding:c,tickTextProps:u,orientation:d,mirror:f,x:h,y:m,width:g,height:y,tickSize:x,tickMargin:v,fontSize:w,letterSpacing:B,getTicksConfig:k,events:E,axisType:N}=t,O=JU(ma(ma({},k),{},{ticks:n}),w,B),F=Fct(d,f),D=Dct(d,f),T=vi(k),j=kh(r),P={};typeof s=="object"&&(P=s);var U=ma(ma({},T),{},{fill:"none"},P),z=O.map(Z=>ma({entry:Z},Oct(Z,h,m,g,y,d,x,f,v))),ee=z.map(Z=>{var{entry:G,line:ne}=Z;return C.createElement(Os,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(G.value,"-").concat(G.coordinate,"-").concat(G.tickCoord)},s&&C.createElement("line",A0({},U,ne,{className:yr("recharts-cartesian-axis-tick-line",a0(s,"className"))})))}),q=z.map((Z,G)=>{var ne,K,{entry:H,tick:Q}=Z,X=ma(ma(ma(ma({verticalAnchor:D},T),{},{textAnchor:F,stroke:"none",fill:i},Q),{},{index:G,payload:H,visibleTicksCount:O.length,tickFormatter:a,padding:c},u),{},{angle:(ne=(K=u?.angle)!==null&&K!==void 0?K:T.angle)!==null&&ne!==void 0?ne:0}),re=ma(ma({},X),j);return C.createElement(Os,A0({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(H.value,"-").concat(H.coordinate,"-").concat(H.tickCoord)},T0(E,H,G)),r&&C.createElement(Lct,{option:r,tickProps:re,value:"".concat(typeof a=="function"?a(H.value,G):H.value).concat(o||"")}))});return C.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(N,"-ticks")},q.length>0&&C.createElement(Ko,{zIndex:Qi.label},C.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(N,"-tick-labels"),ref:e},q)),ee.length>0&&C.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(N,"-tick-lines")},ee))}),Pct=C.forwardRef((t,e)=>{var{axisLine:n,width:r,height:s,className:i,hide:a,ticks:o,axisType:c}=t,u=Ict(t,Ect),[d,f]=C.useState(""),[h,m]=C.useState(""),g=C.useRef(null);C.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var x;return Bct({ticks:g.current,label:(x=t.labelRef)===null||x===void 0?void 0:x.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var y=C.useCallback(x=>{if(x){var v=x.getElementsByClassName("recharts-cartesian-axis-tick-value");g.current=v;var w=v[0];if(w){var B=window.getComputedStyle(w),k=B.fontSize,E=B.letterSpacing;(k!==d||E!==h)&&(f(k),m(E))}}},[d,h]);return a||r!=null&&r<=0||s!=null&&s<=0?null:C.createElement(Ko,{zIndex:t.zIndex},C.createElement(Os,{className:yr("recharts-cartesian-axis",i)},C.createElement(Rct,{x:t.x,y:t.y,width:r,height:s,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:vi(t)}),C.createElement($ct,{ref:y,axisType:c,events:u,fontSize:d,getTicksConfig:t,height:t.height,letterSpacing:h,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:o,unit:t.unit,width:t.width,x:t.x,y:t.y}),C.createElement(Jst,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},C.createElement(ait,{label:t.label,labelRef:t.labelRef}),t.children)))}),ZU=C.forwardRef((t,e)=>{var n=wi(t,hh);return C.createElement(Pct,A0({},n,{ref:e}))});ZU.displayName="CartesianAxis";var Uct=["x1","y1","x2","y2","key"],zct=["offset"],Mct=["xAxisId","yAxisId"],Qct=["xAxisId","yAxisId"];function IK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function kl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IK(Object(n),!0).forEach(function(r){Hct(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hct(t,e,n){return(e=Wct(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wct(t){var e=Vct(t,"string");return typeof e=="symbol"?e:e+""}function Vct(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vg(){return vg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vg.apply(null,arguments)}function nE(t,e){if(t==null)return{};var n,r,s=qct(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function qct(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Gct=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:s,width:i,height:a,ry:o}=t;return C.createElement("rect",{x:r,y:s,ry:o,width:i,height:a,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Bde(t){var{option:e,lineItemProps:n}=t,r;if(C.isValidElement(e))r=C.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var s,{x1:i,y1:a,x2:o,y2:c,key:u}=n,d=nE(n,Uct),f=(s=vi(d))!==null&&s!==void 0?s:{},{offset:h}=f,m=nE(f,zct);r=C.createElement("line",vg({},m,{x1:i,y1:a,x2:o,y2:c,fill:"none",key:u}))}return r}function Kct(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:s}=t;if(!r||!s||!s.length)return null;var{xAxisId:i,yAxisId:a}=t,o=nE(t,Mct),c=s.map((u,d)=>{var f=kl(kl({},o),{},{x1:e,y1:u,x2:e+n,y2:u,key:"line-".concat(d),index:d});return C.createElement(Bde,{key:"line-".concat(d),option:r,lineItemProps:f})});return C.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function Xct(t){var{y:e,height:n,vertical:r=!0,verticalPoints:s}=t;if(!r||!s||!s.length)return null;var{xAxisId:i,yAxisId:a}=t,o=nE(t,Qct),c=s.map((u,d)=>{var f=kl(kl({},o),{},{x1:u,y1:e,x2:u,y2:e+n,key:"line-".concat(d),index:d});return C.createElement(Bde,{option:r,lineItemProps:f,key:"line-".concat(d)})});return C.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function Yct(t){var{horizontalFill:e,fillOpacity:n,x:r,y:s,width:i,height:a,horizontalPoints:o,horizontal:c=!0}=t;if(!c||!e||!e.length||o==null)return null;var u=o.map(f=>Math.round(f+s-s)).sort((f,h)=>f-h);s!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=u[h+1],g=m==null,y=g?s+a-f:m-f;if(y<=0)return null;var x=h%e.length;return C.createElement("rect",{key:"react-".concat(h),y:f,x:r,height:y,width:i,stroke:"none",fill:e[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Jct(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:s,y:i,width:a,height:o,verticalPoints:c}=t;if(!e||!n||!n.length)return null;var u=c.map(f=>Math.round(f+s-s)).sort((f,h)=>f-h);s!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=u[h+1],g=m==null,y=g?s+a-f:m-f;if(y<=0)return null;var x=h%n.length;return C.createElement("rect",{key:"react-".concat(h),x:f,y:i,width:y,height:o,stroke:"none",fill:n[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Zct=(t,e)=>{var{xAxis:n,width:r,height:s,offset:i}=t;return rle(JU(kl(kl(kl({},hh),n),{},{ticks:sle(n),viewBox:{x:0,y:0,width:r,height:s}})),i.left,i.left+i.width,e)},eut=(t,e)=>{var{yAxis:n,width:r,height:s,offset:i}=t;return rle(JU(kl(kl(kl({},hh),n),{},{ticks:sle(n),viewBox:{x:0,y:0,width:r,height:s}})),i.top,i.top+i.height,e)},tut={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Qi.grid};function SS(t){var e=wP(),n=SP(),r=fle(),s=kl(kl({},wi(t,tut)),{},{x:nn(t.x)?t.x:r.left,y:nn(t.y)?t.y:r.top,width:nn(t.width)?t.width:r.width,height:nn(t.height)?t.height:r.height}),{xAxisId:i,yAxisId:a,x:o,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=s,g=Vo(),y=Xt(D=>tG(D,"xAxis",i,g)),x=Xt(D=>tG(D,"yAxis",a,g));if(!AA(u)||!AA(d)||!nn(o)||!nn(c))return null;var v=s.verticalCoordinatesGenerator||Zct,w=s.horizontalCoordinatesGenerator||eut,{horizontalPoints:B,verticalPoints:k}=s;if((!B||!B.length)&&typeof w=="function"){var E=h&&h.length,N=w({yAxis:x?kl(kl({},x),{},{ticks:E?h:x.ticks}):void 0,width:e??u,height:n??d,offset:r},E?!0:f);k4(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(B=N)}if((!k||!k.length)&&typeof v=="function"){var O=m&&m.length,F=v({xAxis:y?kl(kl({},y),{},{ticks:O?m:y.ticks}):void 0,width:e??u,height:n??d,offset:r},O?!0:f);k4(Array.isArray(F),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof F,"]")),Array.isArray(F)&&(k=F)}return C.createElement(Ko,{zIndex:s.zIndex},C.createElement("g",{className:"recharts-cartesian-grid"},C.createElement(Gct,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),C.createElement(Yct,vg({},s,{horizontalPoints:B})),C.createElement(Jct,vg({},s,{verticalPoints:k})),C.createElement(Kct,vg({},s,{offset:r,horizontalPoints:B,xAxis:y,yAxis:x})),C.createElement(Xct,vg({},s,{offset:r,verticalPoints:k,xAxis:y,yAxis:x}))))}SS.displayName="CartesianGrid";var nut={},Ede=$c({name:"errorBars",initialState:nut,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:s}=e.payload;t[n]&&(t[n]=t[n].map(i=>i.dataKey===r.dataKey&&i.direction===r.direction?s:i))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(s=>s.dataKey!==r.dataKey||s.direction!==r.direction))}}}),{addErrorBar:pvt,replaceErrorBar:mvt,removeErrorBar:gvt}=Ede.actions,rut=Ede.reducer,sut=["children"];function iut(t,e){if(t==null)return{};var n,r,s=aut(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function aut(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var out={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},lut=C.createContext(out);function cut(t){var{children:e}=t,n=iut(t,sut);return C.createElement(lut.Provider,{value:n},e)}function ez(t,e){var n,r,s=Xt(u=>qh(u,t)),i=Xt(u=>Gh(u,e)),a=(n=s?.allowDataOverflow)!==null&&n!==void 0?n:jo.allowDataOverflow,o=(r=i?.allowDataOverflow)!==null&&r!==void 0?r:To.allowDataOverflow,c=a||o;return{needClip:c,needClipX:a,needClipY:o}}function Ide(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,s=KU(),{needClipX:i,needClipY:a,needClip:o}=ez(e,n);if(!o||!s)return null;var{x:c,y:u,width:d,height:f}=s;return C.createElement("clipPath",{id:"clipPath-".concat(r)},C.createElement("rect",{x:i?c:c-d/2,y:a?u:u-f/2,width:i?d:d*2,height:a?f:f*2}))}function uut(t){var e=kh(t),n=3,r=2;if(e!=null){var{r:s,strokeWidth:i}=e,a=Number(s),o=Number(i);return(Number.isNaN(a)||a<0)&&(a=n),(Number.isNaN(o)||o<0)&&(o=r),{r:a,strokeWidth:o}}return{r:n,strokeWidth:r}}var VR={exports:{}},qR={};var NK;function dut(){if(NK)return qR;NK=1;var t=F1();function e(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,s=t.useRef,i=t.useEffect,a=t.useMemo,o=t.useDebugValue;return qR.useSyncExternalStoreWithSelector=function(c,u,d,f,h){var m=s(null);if(m.current===null){var g={hasValue:!1,value:null};m.current=g}else g=m.current;m=a(function(){function x(E){if(!v){if(v=!0,w=E,E=f(E),h!==void 0&&g.hasValue){var N=g.value;if(h(N,E))return B=N}return B=E}if(N=B,n(w,E))return N;var O=f(E);return h!==void 0&&h(N,O)?(w=E,N):(w=E,B=O)}var v=!1,w,B,k=d===void 0?null:d;return[function(){return x(u())},k===null?void 0:function(){return x(k())}]},[u,d,f,h]);var y=r(c,m[0],m[1]);return i(function(){g.hasValue=!0,g.value=y},[y]),o(y),y},qR}var jK;function fut(){return jK||(jK=1,VR.exports=dut()),VR.exports}fut();function Aut(t){t()}function hut(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Aut(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const s=e={callback:n,next:null,prev:e};return s.prev?s.prev.next=s:t=s,function(){!r||t===null||(r=!1,s.next?s.next.prev=s.prev:e=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}var TK={notify(){},get:()=>[]};function put(t,e){let n,r=TK,s=0,i=!1;function a(y){d();const x=r.subscribe(y);let v=!1;return()=>{v||(v=!0,x(),f())}}function o(){r.notify()}function c(){g.onStateChange&&g.onStateChange()}function u(){return i}function d(){s++,n||(n=t.subscribe(c),r=hut())}function f(){s--,n&&s===0&&(n(),n=void 0,r.clear(),r=TK)}function h(){i||(i=!0,d())}function m(){i&&(i=!1,f())}const g={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>r};return g}var mut=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gut=mut(),yut=()=>typeof navigator<"u"&&navigator.product==="ReactNative",xut=yut(),but=()=>gut||xut?C.useLayoutEffect:C.useEffect,vut=but();function _K(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function wut(t,e){if(_K(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(!Object.prototype.hasOwnProperty.call(e,n[s])||!_K(t[n[s]],e[n[s]]))return!1;return!0}var Sut=Symbol.for("react-redux-context"),Cut=typeof globalThis<"u"?globalThis:{};function kut(){if(!C.createContext)return{};const t=Cut[Sut]??=new Map;let e=t.get(C.createContext);return e||(e=C.createContext(null),t.set(C.createContext,e)),e}var But=kut();function Eut(t){const{children:e,context:n,serverState:r,store:s}=t,i=C.useMemo(()=>{const c=put(s);return{store:s,subscription:c,getServerState:r?()=>r:void 0}},[s,r]),a=C.useMemo(()=>s.getState(),[s]);vut(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==s.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,a]);const o=n||But;return C.createElement(o.Provider,{value:i},e)}var Iut=Eut,Nut=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function jut(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function X3(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(Nut.has(r)){if(t[r]==null&&e[r]==null)continue;if(!wut(t[r],e[r]))return!1}else if(!jut(t[r],e[r]))return!1;return!0}function vA(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(s=>s.id===e))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:gde}function wA(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(s=>s.id===e))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:gde}var Nde=(t,e,n)=>mm(t,"xAxis",vA(t,e),n),jde=(t,e,n)=>pm(t,"xAxis",vA(t,e),n),Tde=(t,e,n)=>mm(t,"yAxis",wA(t,e),n),_de=(t,e,n)=>pm(t,"yAxis",wA(t,e),n),Tut=Ve([$r,Nde,Tde,jde,_de],(t,e,n,r,s)=>pf(t,"xAxis")?hm(e,r,!1):hm(n,s,!1)),_ut=(t,e)=>e,Rde=Ve([R3,_ut],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),Ode=t=>{var e=$r(t),n=pf(e,"xAxis");return n?"yAxis":"xAxis"},Rut=(t,e)=>{var n=Ode(t);return n==="yAxis"?wA(t,e):vA(t,e)},Out=(t,e,n)=>G4(t,Ode(t),Rut(t,e),n),Fut=Ve([Rde,Out],(t,e)=>{var n;if(!(t==null||e==null)){var{stackId:r}=t,s=N3(t);if(!(r==null||s==null)){var i=(n=e[r])===null||n===void 0?void 0:n.stackedData,a=i?.find(o=>o.key===s);if(a!=null)return a.map(o=>[o[0],o[1]])}}}),Dut=Ve([$r,Nde,Tde,jde,_de,Fut,mce,Tut,Rde,qet],(t,e,n,r,s,i,a,o,c,u)=>{var{chartData:d,dataStartIndex:f,dataEndIndex:h}=a;if(!(c==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||s==null||r.length===0||s.length===0||o==null)){var{data:m}=c,g;if(m&&m.length>0?g=m:g=d?.slice(f,h+1),g!=null)return tdt({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:s,dataStartIndex:f,areaSettings:c,stackedData:i,displayedData:g,chartBaseValue:u,bandSize:o})}}),Lut=["id"],$ut=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Og(){return Og=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Og.apply(null,arguments)}function Fde(t,e){if(t==null)return{};var n,r,s=Put(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function Put(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function RK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ky(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RK(Object(n),!0).forEach(function(r){Uut(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uut(t,e,n){return(e=zut(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zut(t){var e=Mut(t,"string");return typeof e=="symbol"?e:e+""}function Mut(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rE(t,e){return t&&t!=="none"?t:e}var Qut=t=>{var{dataKey:e,name:n,stroke:r,fill:s,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:rE(r,s),value:Tm(n,e),payload:t}]},Hut=C.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:s,fill:i,name:a,hide:o,unit:c,tooltipType:u,id:d}=t,f={dataDefinedOnItem:n,getPosition:xA,settings:{stroke:r,strokeWidth:s,fill:i,dataKey:e,nameKey:void 0,name:Tm(a,e),hide:o,type:u,color:rE(r,i),unit:c,graphicalItemId:d}};return C.createElement(V3,{tooltipEntrySettings:f})});function Wut(t){var{clipPathId:e,points:n,props:r}=t,{needClip:s,dot:i,dataKey:a}=r,o=vi(r);return C.createElement(mde,{points:n,dot:i,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:a,baseProps:o,needClip:s,clipPathId:e})}function Vut(t){var{showLabels:e,children:n,points:r}=t,s=r.map(i=>{var a,o,c={x:(a=i.x)!==null&&a!==void 0?a:0,y:(o=i.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Ky(Ky({},c),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:c,fill:void 0})});return C.createElement(OU,{value:e?s:void 0},n)}function OK(t){var{points:e,baseLine:n,needClip:r,clipPathId:s,props:i}=t,{layout:a,type:o,stroke:c,connectNulls:u,isRange:d}=i,{id:f}=i,h=Fde(i,Lut),m=vi(h),g=qa(h);return C.createElement(C.Fragment,null,e?.length>1&&C.createElement(Os,{clipPath:r?"url(#clipPath-".concat(s,")"):void 0},C.createElement(s1,Og({},g,{id:f,points:e,connectNulls:u,type:o,baseLine:n,layout:a,stroke:"none",className:"recharts-area-area"})),c!=="none"&&C.createElement(s1,Og({},m,{className:"recharts-area-curve",layout:a,type:o,connectNulls:u,fill:"none",points:e})),c!=="none"&&d&&C.createElement(s1,Og({},m,{className:"recharts-area-curve",layout:a,type:o,connectNulls:u,fill:"none",points:n}))),C.createElement(Wut,{points:e,props:h,clipPathId:s}))}function qut(t){var e,n,{alpha:r,baseLine:s,points:i,strokeWidth:a}=t,o=(e=i[0])===null||e===void 0?void 0:e.y,c=(n=i[i.length-1])===null||n===void 0?void 0:n.y;if(!br(o)||!br(c))return null;var u=r*Math.abs(o-c),d=Math.max(...i.map(f=>f.x||0));return nn(s)?d=Math.max(s,d):s&&Array.isArray(s)&&s.length&&(d=Math.max(...s.map(f=>f.x||0),d)),nn(d)?C.createElement("rect",{x:0,y:o<c?o:o-u,width:d+(a?parseInt("".concat(a),10):1),height:Math.floor(u)}):null}function Gut(t){var e,n,{alpha:r,baseLine:s,points:i,strokeWidth:a}=t,o=(e=i[0])===null||e===void 0?void 0:e.x,c=(n=i[i.length-1])===null||n===void 0?void 0:n.x;if(!br(o)||!br(c))return null;var u=r*Math.abs(o-c),d=Math.max(...i.map(f=>f.y||0));return nn(s)?d=Math.max(s,d):s&&Array.isArray(s)&&s.length&&(d=Math.max(...s.map(f=>f.y||0),d)),nn(d)?C.createElement("rect",{x:o<c?o:o-u,y:0,width:u,height:Math.floor(d+(a?parseInt("".concat(a),10):1))}):null}function Kut(t){var{alpha:e,layout:n,points:r,baseLine:s,strokeWidth:i}=t;return n==="vertical"?C.createElement(qut,{alpha:e,points:r,baseLine:s,strokeWidth:i}):C.createElement(Gut,{alpha:e,points:r,baseLine:s,strokeWidth:i})}function Xut(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:s,previousBaselineRef:i}=t,{points:a,baseLine:o,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:f,onAnimationStart:h,onAnimationEnd:m}=r,g=C.useMemo(()=>({points:a,baseLine:o}),[a,o]),y=eb(g,"recharts-area-"),x=CP(),[v,w]=C.useState(!1),B=!v,k=C.useCallback(()=>{typeof m=="function"&&m(),w(!1)},[m]),E=C.useCallback(()=>{typeof h=="function"&&h(),w(!0)},[h]);if(x==null)return null;var N=s.current,O=i.current;return C.createElement(Vut,{showLabels:B,points:a},r.children,C.createElement(Zx,{animationId:y,begin:u,duration:d,isActive:c,easing:f,onAnimationEnd:k,onAnimationStart:E,key:y},F=>{if(N){var D=N.length/a.length,T=F===1?a:a.map((P,U)=>{var z=Math.floor(U*D);if(N[z]){var ee=N[z];return Ky(Ky({},P),{},{x:Ns(ee.x,P.x,F),y:Ns(ee.y,P.y,F)})}return P}),j;return nn(o)?j=Ns(O,o,F):qi(o)||af(o)?j=Ns(O,0,F):j=o.map((P,U)=>{var z=Math.floor(U*D);if(Array.isArray(O)&&O[z]){var ee=O[z];return Ky(Ky({},P),{},{x:Ns(ee.x,P.x,F),y:Ns(ee.y,P.y,F)})}return P}),F>0&&(s.current=T,i.current=j),C.createElement(OK,{points:T,baseLine:j,needClip:e,clipPathId:n,props:r})}return F>0&&(s.current=a,i.current=o),C.createElement(Os,null,c&&C.createElement("defs",null,C.createElement("clipPath",{id:"animationClipPath-".concat(n)},C.createElement(Kut,{alpha:F,points:a,baseLine:o,layout:x,strokeWidth:r.strokeWidth}))),C.createElement(Os,{clipPath:"url(#animationClipPath-".concat(n,")")},C.createElement(OK,{points:a,baseLine:o,needClip:e,clipPathId:n,props:r})))}),C.createElement(z3,{label:r.label}))}function Yut(t){var{needClip:e,clipPathId:n,props:r}=t,s=C.useRef(null),i=C.useRef();return C.createElement(Xut,{needClip:e,clipPathId:n,props:r,previousPointsRef:s,previousBaselineRef:i})}class Jut extends C.PureComponent{render(){var{hide:e,dot:n,points:r,className:s,top:i,left:a,needClip:o,xAxisId:c,yAxisId:u,width:d,height:f,id:h,baseLine:m,zIndex:g}=this.props;if(e)return null;var y=yr("recharts-area",s),x=h,{r:v,strokeWidth:w}=uut(n),B=cde(n),k=v*2+w,E=o?"url(#clipPath-".concat(B?"":"dots-").concat(x,")"):void 0;return C.createElement(Ko,{zIndex:g},C.createElement(Os,{className:y},o&&C.createElement("defs",null,C.createElement(Ide,{clipPathId:x,xAxisId:c,yAxisId:u}),!B&&C.createElement("clipPath",{id:"clipPath-dots-".concat(x)},C.createElement("rect",{x:a-k/2,y:i-k/2,width:d+k,height:f+k}))),C.createElement(Yut,{needClip:o,clipPathId:x,props:this.props})),C.createElement(qF,{points:r,mainColor:rE(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:E}),this.props.isRange&&Array.isArray(m)&&C.createElement(qF,{points:m,mainColor:rE(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:E}))}}var Dde={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Qi.area};function Zut(t){var e,n=wi(t,Dde),{activeDot:r,animationBegin:s,animationDuration:i,animationEasing:a,connectNulls:o,dot:c,fill:u,fillOpacity:d,hide:f,isAnimationActive:h,legendType:m,stroke:g,xAxisId:y,yAxisId:x}=n,v=Fde(n,$ut),w=_0(),B=Tue(),{needClip:k}=ez(y,x),E=Vo(),{points:N,isRange:O,baseLine:F}=(e=Xt(z=>Dut(z,t.id,E)))!==null&&e!==void 0?e:{},D=KU();if(w!=="horizontal"&&w!=="vertical"||D==null||B!=="AreaChart"&&B!=="ComposedChart")return null;var{height:T,width:j,x:P,y:U}=D;return!N||!N.length?null:C.createElement(Jut,Og({},v,{activeDot:r,animationBegin:s,animationDuration:i,animationEasing:a,baseLine:F,connectNulls:o,dot:c,fill:u,fillOpacity:d,height:T,hide:f,layout:w,isAnimationActive:h==="auto"?!lS.isSsr:h,isRange:O,legendType:m,needClip:k,points:N,stroke:g,width:j,left:P,top:U,xAxisId:y,yAxisId:x}))}var edt=(t,e,n,r,s)=>{var i=n??e;if(nn(i))return i;var a=t==="horizontal"?s:r,o=a.scale.domain();if(a.type==="number"){var c=Math.max(o[0],o[1]),u=Math.min(o[0],o[1]);return i==="dataMin"?u:i==="dataMax"||c<0?c:Math.max(Math.min(o[0],o[1]),0)}return i==="dataMin"?o[0]:i==="dataMax"?o[1]:o[0]};function tdt(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:s,layout:i,chartBaseValue:a,xAxis:o,yAxis:c,displayedData:u,dataStartIndex:d,xAxisTicks:f,yAxisTicks:h,bandSize:m}=t,g=s&&s.length,y=edt(i,a,n,o,c),x=i==="horizontal",v=!1,w=u.map((k,E)=>{var N,O,F,D;if(g)D=s[d+E];else{var T=ws(k,r);Array.isArray(T)?(D=T,v=!0):D=[y,T]}var j=(N=(O=D)===null||O===void 0?void 0:O[1])!==null&&N!==void 0?N:null,P=j==null||g&&!e&&ws(k,r)==null;if(x){var U;return{x:JW({axis:o,ticks:f,bandSize:m,entry:k,index:E}),y:P?null:(U=c.scale.map(j))!==null&&U!==void 0?U:null,value:D,payload:k}}return{x:P?null:(F=o.scale.map(j))!==null&&F!==void 0?F:null,y:JW({axis:c,ticks:h,bandSize:m,entry:k,index:E}),value:D,payload:k}}),B;return g||v?B=w.map(k=>{var E,N=Array.isArray(k.value)?k.value[0]:null;if(x){var O;return{x:k.x,y:N!=null&&k.y!=null&&(O=c.scale.map(N))!==null&&O!==void 0?O:null,payload:k.payload}}return{x:N!=null&&(E=o.scale.map(N))!==null&&E!==void 0?E:null,y:k.y,payload:k.payload}}):B=x?c.scale.map(y):o.scale.map(y),{points:w,baseLine:B??0,isRange:v}}function ndt(t){var e=wi(t,Dde),n=Vo();return C.createElement(q3,{id:e.id,type:"area"},r=>C.createElement(C.Fragment,null,C.createElement(dde,{legendPayload:Qut(e)}),C.createElement(Hut,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),C.createElement(hde,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:ile(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),C.createElement(Zut,Og({},e,{id:r}))))}var tz=C.memo(ndt,X3);tz.displayName="Area";var rdt="Invariant failed";function sdt(t,e){throw new Error(rdt)}function GF(){return GF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GF.apply(null,arguments)}function sE(t){return C.createElement(ude,GF({shapeType:"rectangle",activeClassName:"recharts-active-bar"},t))}var idt=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,s)=>{if(nn(e))return e;var i=nn(r)||qi(r);return i?e(r,s):(i||sdt(),n)}},adt=(t,e,n)=>n,odt=(t,e)=>e,CS=Ve([R3,odt],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),ldt=Ve([CS],t=>t?.maxBarSize),cdt=(t,e,n,r)=>r,udt=Ve([$r,R3,vA,wA,adt],(t,e,n,r,s)=>e.filter(i=>t==="horizontal"?i.xAxisId===n:i.yAxisId===r).filter(i=>i.isPanorama===s).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),ddt=(t,e,n)=>{var r=$r(t),s=vA(t,e),i=wA(t,e);if(!(s==null||i==null))return r==="horizontal"?G4(t,"yAxis",i,n):G4(t,"xAxis",s,n)},fdt=(t,e)=>{var n=$r(t),r=vA(t,e),s=wA(t,e);if(!(r==null||s==null))return n==="horizontal"?eG(t,"xAxis",r):eG(t,"yAxis",s)},Adt=Ve([udt,Vet,fdt],ect),hdt=(t,e,n)=>{var r,s,i=CS(t,e);if(i==null)return 0;var a=vA(t,e),o=wA(t,e);if(a==null||o==null)return 0;var c=$r(t),u=Ice(t),{maxBarSize:d}=i,f=qi(d)?u:d,h,m;return c==="horizontal"?(h=mm(t,"xAxis",a,n),m=pm(t,"xAxis",a,n)):(h=mm(t,"yAxis",o,n),m=pm(t,"yAxis",o,n)),(r=(s=hm(h,m,!0))!==null&&s!==void 0?s:f)!==null&&r!==void 0?r:0},Lde=(t,e,n)=>{var r=$r(t),s=vA(t,e),i=wA(t,e);if(!(s==null||i==null)){var a,o;return r==="horizontal"?(a=mm(t,"xAxis",s,n),o=pm(t,"xAxis",s,n)):(a=mm(t,"yAxis",i,n),o=pm(t,"yAxis",i,n)),hm(a,o)}},pdt=Ve([Adt,Ice,Wet,Nce,hdt,Lde,ldt],ict),mdt=(t,e,n)=>{var r=vA(t,e);if(r!=null)return mm(t,"xAxis",r,n)},gdt=(t,e,n)=>{var r=wA(t,e);if(r!=null)return mm(t,"yAxis",r,n)},ydt=(t,e,n)=>{var r=vA(t,e);if(r!=null)return pm(t,"xAxis",r,n)},xdt=(t,e,n)=>{var r=wA(t,e);if(r!=null)return pm(t,"yAxis",r,n)},bdt=Ve([pdt,CS],oct),vdt=Ve([ddt,CS],act),wdt=Ve([yo,xP,mdt,gdt,ydt,xdt,bdt,$r,mce,Lde,vdt,CS,cdt],(t,e,n,r,s,i,a,o,c,u,d,f,h)=>{var{chartData:m,dataStartIndex:g,dataEndIndex:y}=c;if(!(f==null||a==null||e==null||o!=="horizontal"&&o!=="vertical"||n==null||r==null||s==null||i==null||u==null)){var{data:x}=f,v;if(x!=null&&x.length>0?v=x:v=m?.slice(g,y+1),v!=null)return Xdt({layout:o,barSettings:f,pos:a,parentViewBox:e,bandSize:u,xAxis:n,yAxis:r,xAxisTicks:s,yAxisTicks:i,stackedData:d,displayedData:v,offset:t,cells:h,dataStartIndex:g})}}),Sdt=["index"];function KF(){return KF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},KF.apply(null,arguments)}function Cdt(t,e){if(t==null)return{};var n,r,s=kdt(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function kdt(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var $de=C.createContext(void 0),Bdt=t=>{var e=C.useContext($de);if(e!=null)return e.stackId;if(t!=null)return ile(t)},Edt=(t,e)=>"recharts-bar-stack-clip-path-".concat(t,"-").concat(e),Idt=t=>{var e=C.useContext($de);if(e!=null){var{stackId:n}=e;return"url(#".concat(Edt(n,t),")")}},Pde=t=>{var{index:e}=t,n=Cdt(t,Sdt),r=Idt(e);return C.createElement(Os,KF({className:"recharts-bar-stack-layer",clipPath:r},n))},Ndt=["onMouseEnter","onMouseLeave","onClick"],jdt=["value","background","tooltipPosition"],Tdt=["id"],_dt=["onMouseEnter","onClick","onMouseLeave"];function _h(){return _h=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_h.apply(null,arguments)}function FK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Hl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FK(Object(n),!0).forEach(function(r){Rdt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rdt(t,e,n){return(e=Odt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Odt(t){var e=Fdt(t,"string");return typeof e=="symbol"?e:e+""}function Fdt(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iE(t,e){if(t==null)return{};var n,r,s=Ddt(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function Ddt(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ldt=t=>{var{dataKey:e,name:n,fill:r,legendType:s,hide:i}=t;return[{inactive:i,dataKey:e,type:s,color:r,value:Tm(n,e),payload:t}]},$dt=C.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:s,name:i,hide:a,unit:o,tooltipType:c,id:u}=t,d={dataDefinedOnItem:void 0,getPosition:xA,settings:{stroke:n,strokeWidth:r,fill:s,dataKey:e,nameKey:void 0,name:Tm(i,e),hide:a,type:c,color:s,unit:o,graphicalItemId:u}};return C.createElement(V3,{tooltipEntrySettings:d})});function Pdt(t){var e=Xt(gm),{data:n,dataKey:r,background:s,allOtherBarProps:i}=t,{onMouseEnter:a,onMouseLeave:o,onClick:c}=i,u=iE(i,Ndt),d=VU(a,r,i.id),f=qU(o),h=GU(c,r,i.id);if(!s||n==null)return null;var m=kh(s);return C.createElement(Ko,{zIndex:lct(s,Qi.barBackground)},n.map((g,y)=>{var{value:x,background:v,tooltipPosition:w}=g,B=iE(g,jdt);if(!v)return null;var k=d(g,y),E=f(g,y),N=h(g,y),O=Hl(Hl(Hl(Hl(Hl({option:s,isActive:String(y)===e},B),{},{fill:"#eee"},v),m),T0(u,g,y)),{},{onMouseEnter:k,onMouseLeave:E,onClick:N,dataKey:r,index:y,className:"recharts-bar-background-rectangle"});return C.createElement(sE,_h({key:"background-bar-".concat(y)},O))}))}function Udt(t){var{showLabels:e,children:n,rects:r}=t,s=r?.map(i=>{var a={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return Hl(Hl({},a),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:a,fill:i.fill})});return C.createElement(OU,{value:e?s:void 0},n)}function zdt(t){var{shape:e,activeBar:n,baseProps:r,entry:s,index:i,dataKey:a}=t,o=Xt(gm),c=Xt(IU),u=n&&String(i)===o&&(c==null||a===c),d=u?n:e;return u?C.createElement(Ko,{zIndex:Qi.activeBar},C.createElement(Pde,{index:i},C.createElement(sE,_h({},r,{name:String(r.name)},s,{isActive:u,option:d,index:i,dataKey:a})))):C.createElement(sE,_h({},r,{name:String(r.name)},s,{isActive:u,option:d,index:i,dataKey:a}))}function Mdt(t){var{shape:e,baseProps:n,entry:r,index:s,dataKey:i}=t;return C.createElement(sE,_h({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:s,dataKey:i}))}function Qdt(t){var e,{data:n,props:r}=t,s=(e=vi(r))!==null&&e!==void 0?e:{},{id:i}=s,a=iE(s,Tdt),{shape:o,dataKey:c,activeBar:u}=r,{onMouseEnter:d,onClick:f,onMouseLeave:h}=r,m=iE(r,_dt),g=VU(d,c,i),y=qU(h),x=GU(f,c,i);return n?C.createElement(C.Fragment,null,n.map((v,w)=>C.createElement(Pde,_h({index:w,key:"rectangle-".concat(v?.x,"-").concat(v?.y,"-").concat(v?.value,"-").concat(w),className:"recharts-bar-rectangle"},T0(m,v,w),{onMouseEnter:g(v,w),onMouseLeave:y(v,w),onClick:x(v,w)}),u?C.createElement(zdt,{shape:o,activeBar:u,baseProps:a,entry:v,index:w,dataKey:c}):C.createElement(Mdt,{shape:o,baseProps:a,entry:v,index:w,dataKey:c})))):null}function Hdt(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:s,isAnimationActive:i,animationBegin:a,animationDuration:o,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=e,f=n.current,h=eb(e,"recharts-bar-"),[m,g]=C.useState(!1),y=!m,x=C.useCallback(()=>{typeof u=="function"&&u(),g(!1)},[u]),v=C.useCallback(()=>{typeof d=="function"&&d(),g(!0)},[d]);return C.createElement(Udt,{showLabels:y,rects:r},C.createElement(Zx,{animationId:h,begin:a,duration:o,isActive:i,easing:c,onAnimationEnd:x,onAnimationStart:v,key:h},w=>{var B=w===1?r:r?.map((k,E)=>{var N=f&&f[E];if(N)return Hl(Hl({},k),{},{x:Ns(N.x,k.x,w),y:Ns(N.y,k.y,w),width:Ns(N.width,k.width,w),height:Ns(N.height,k.height,w)});if(s==="horizontal"){var O=Ns(0,k.height,w),F=Ns(k.stackedBarStart,k.y,w);return Hl(Hl({},k),{},{y:F,height:O})}var D=Ns(0,k.width,w),T=Ns(k.stackedBarStart,k.x,w);return Hl(Hl({},k),{},{width:D,x:T})});return w>0&&(n.current=B??null),B==null?null:C.createElement(Os,null,C.createElement(Qdt,{props:e,data:B}))}),C.createElement(z3,{label:e.label}),e.children)}function Wdt(t){var e=C.useRef(null);return C.createElement(Hdt,{previousRectanglesRef:e,props:t})}var Ude=0,Vdt=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:ws(t,e)}};class qdt extends C.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:s,xAxisId:i,yAxisId:a,needClip:o,background:c,id:u}=this.props;if(e||n==null)return null;var d=yr("recharts-bar",s),f=u;return C.createElement(Os,{className:d,id:u},o&&C.createElement("defs",null,C.createElement(Ide,{clipPathId:f,xAxisId:i,yAxisId:a})),C.createElement(Os,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(f,")"):void 0},C.createElement(Pdt,{data:n,dataKey:r,background:c,allOtherBarProps:this.props}),C.createElement(Wdt,this.props)))}}var Gdt={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:Ude,xAxisId:0,yAxisId:0,zIndex:Qi.bar};function Kdt(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:s,minPointSize:i,activeBar:a,animationBegin:o,animationDuration:c,animationEasing:u,isAnimationActive:d}=t,{needClip:f}=ez(e,n),h=_0(),m=Vo(),g=WU(t.children,pA),y=Xt(w=>wdt(w,t.id,m,g));if(h!=="vertical"&&h!=="horizontal")return null;var x,v=y?.[0];return v==null||v.height==null||v.width==null?x=0:x=h==="vertical"?v.height/2:v.width/2,C.createElement(cut,{xAxisId:e,yAxisId:n,data:y,dataPointFormatter:Vdt,errorBarOffset:x},C.createElement(qdt,_h({},t,{layout:h,needClip:f,data:y,xAxisId:e,yAxisId:n,hide:r,legendType:s,minPointSize:i,activeBar:a,animationBegin:o,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function Xdt(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:s,bandSize:i,xAxis:a,yAxis:o,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:f,offset:h,cells:m,parentViewBox:g,dataStartIndex:y}=t,x=e==="horizontal"?o:a,v=d?x.scale.domain():null,w=TKe({numericAxis:x}),B=x.scale.map(w);return f.map((k,E)=>{var N,O,F,D,T,j;if(d){var P=d[E+y];if(P==null)return null;N=BKe(P,v)}else N=ws(k,n),Array.isArray(N)||(N=[w,N]);var U=idt(r,Ude)(N[1],E);if(e==="horizontal"){var z,ee=o.scale.map(N[0]),q=o.scale.map(N[1]);if(ee==null||q==null)return null;O=ZW({axis:a,ticks:c,bandSize:i,offset:s.offset,entry:k,index:E}),F=(z=q??ee)!==null&&z!==void 0?z:void 0,D=s.size;var Z=ee-q;if(T=af(Z)?0:Z,j={x:O,y:h.top,width:D,height:h.height},Math.abs(U)>0&&Math.abs(T)<Math.abs(U)){var G=Lo(T||U)*(Math.abs(U)-Math.abs(T));F-=G,T+=G}}else{var ne=a.scale.map(N[0]),K=a.scale.map(N[1]);if(ne==null||K==null)return null;if(O=ne,F=ZW({axis:o,ticks:u,bandSize:i,offset:s.offset,entry:k,index:E}),D=K-ne,T=s.size,j={x:h.left,y:F,width:h.width,height:T},Math.abs(U)>0&&Math.abs(D)<Math.abs(U)){var H=Lo(D||U)*(Math.abs(U)-Math.abs(D));D+=H}}if(O==null||F==null||D==null||T==null)return null;var Q=Hl(Hl({},k),{},{stackedBarStart:B,x:O,y:F,width:D,height:T,value:d?N:N[1],payload:k,background:j,tooltipPosition:{x:O+D/2,y:F+T/2},parentViewBox:g},m&&m[E]&&m[E].props);return Q}).filter(Boolean)}function Ydt(t){var e=wi(t,Gdt),n=Bdt(e.stackId),r=Vo();return C.createElement(q3,{id:e.id,type:"bar"},s=>C.createElement(C.Fragment,null,C.createElement(dde,{legendPayload:Ldt(e)}),C.createElement($dt,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:s}),C.createElement(hde,{type:"bar",id:s,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:n,hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),C.createElement(Ko,{zIndex:e.zIndex},C.createElement(Kdt,_h({},e,{id:s})))))}var Y3=C.memo(Ydt,X3);Y3.displayName="Bar";var Jdt=["domain","range"],Zdt=["domain","range"];function DK(t,e){if(t==null)return{};var n,r,s=eft(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function eft(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function LK(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function zde(t,e){if(t===e)return!0;var{domain:n,range:r}=t,s=DK(t,Jdt),{domain:i,range:a}=e,o=DK(e,Zdt);return!LK(n,i)||!LK(r,a)?!1:X3(s,o)}var tft=["type"],nft=["dangerouslySetInnerHTML","ticks","scale"],rft=["id","scale"];function XF(){return XF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XF.apply(null,arguments)}function $K(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function PK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$K(Object(n),!0).forEach(function(r){sft(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$K(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sft(t,e,n){return(e=ift(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ift(t){var e=aft(t,"string");return typeof e=="symbol"?e:e+""}function aft(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YF(t,e){if(t==null)return{};var n,r,s=oft(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function oft(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function lft(t){var e=Ws(),n=C.useRef(null),r=CP(),{type:s}=t,i=YF(t,tft),a=sb(r,"xAxis",s),o=C.useMemo(()=>{if(a!=null)return PK(PK({},i),{},{type:a})},[i,a]);return C.useLayoutEffect(()=>{o!=null&&(n.current===null?e(clt(o)):n.current!==o&&e(ult({prev:n.current,next:o})),n.current=o)},[o,e]),C.useLayoutEffect(()=>()=>{n.current&&(e(dlt(n.current)),n.current=null)},[e]),null}var cft=t=>{var{xAxisId:e,className:n}=t,r=Xt(xP),s=Vo(),i="xAxis",a=Xt(v=>oue(v,i,e,s)),o=Xt(v=>rue(v,e)),c=Xt(v=>Ktt(v,e)),u=Xt(v=>$ce(v,e));if(o==null||c==null||u==null)return null;var{dangerouslySetInnerHTML:d,ticks:f,scale:h}=t,m=YF(t,nft),{id:g,scale:y}=u,x=YF(u,rft);return C.createElement(ZU,XF({},m,x,{x:c.x,y:c.y,width:o.width,height:o.height,className:yr("recharts-".concat(i," ").concat(i),n),viewBox:r,ticks:a,axisType:i}))},uft={allowDataOverflow:jo.allowDataOverflow,allowDecimals:jo.allowDecimals,allowDuplicatedCategory:jo.allowDuplicatedCategory,angle:jo.angle,axisLine:hh.axisLine,height:jo.height,hide:!1,includeHidden:jo.includeHidden,interval:jo.interval,label:!1,minTickGap:jo.minTickGap,mirror:jo.mirror,orientation:jo.orientation,padding:jo.padding,reversed:jo.reversed,scale:jo.scale,tick:jo.tick,tickCount:jo.tickCount,tickLine:hh.tickLine,tickSize:hh.tickSize,type:jo.type,xAxisId:0},dft=t=>{var e=wi(t,uft);return C.createElement(C.Fragment,null,C.createElement(lft,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),C.createElement(cft,e))},pb=C.memo(dft,zde);pb.displayName="XAxis";var fft=["type"],Aft=["dangerouslySetInnerHTML","ticks","scale"],hft=["id","scale"];function JF(){return JF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JF.apply(null,arguments)}function UK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function zK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UK(Object(n),!0).forEach(function(r){pft(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pft(t,e,n){return(e=mft(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mft(t){var e=gft(t,"string");return typeof e=="symbol"?e:e+""}function gft(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZF(t,e){if(t==null)return{};var n,r,s=yft(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function yft(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function xft(t){var e=Ws(),n=C.useRef(null),r=CP(),{type:s}=t,i=ZF(t,fft),a=sb(r,"yAxis",s),o=C.useMemo(()=>{if(a!=null)return zK(zK({},i),{},{type:a})},[a,i]);return C.useLayoutEffect(()=>{o!=null&&(n.current===null?e(flt(o)):n.current!==o&&e(Alt({prev:n.current,next:o})),n.current=o)},[o,e]),C.useLayoutEffect(()=>()=>{n.current&&(e(hlt(n.current)),n.current=null)},[e]),null}function bft(t){var{yAxisId:e,className:n,width:r,label:s}=t,i=C.useRef(null),a=C.useRef(null),o=Xt(xP),c=Vo(),u=Ws(),d="yAxis",f=Xt(N=>sue(N,e)),h=Xt(N=>Ytt(N,e)),m=Xt(N=>oue(N,d,e,c)),g=Xt(N=>Pce(N,e));if(C.useLayoutEffect(()=>{if(!(r!=="auto"||!f||RU(s)||C.isValidElement(s)||g==null)){var N=i.current;if(N){var O=N.getCalculatedWidth();Math.round(f.width)!==Math.round(O)&&u(plt({id:e,width:O}))}}},[m,f,u,s,e,r,g]),f==null||h==null||g==null)return null;var{dangerouslySetInnerHTML:y,ticks:x,scale:v}=t,w=ZF(t,Aft),{id:B,scale:k}=g,E=ZF(g,hft);return C.createElement(ZU,JF({},w,E,{ref:i,labelRef:a,x:h.x,y:h.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:f.width,height:f.height,className:yr("recharts-".concat(d," ").concat(d),n),viewBox:o,ticks:m,axisType:d}))}var vft={allowDataOverflow:To.allowDataOverflow,allowDecimals:To.allowDecimals,allowDuplicatedCategory:To.allowDuplicatedCategory,angle:To.angle,axisLine:hh.axisLine,hide:!1,includeHidden:To.includeHidden,interval:To.interval,label:!1,minTickGap:To.minTickGap,mirror:To.mirror,orientation:To.orientation,padding:To.padding,reversed:To.reversed,scale:To.scale,tick:To.tick,tickCount:To.tickCount,tickLine:hh.tickLine,tickSize:hh.tickSize,type:To.type,width:To.width,yAxisId:0},wft=t=>{var e=wi(t,vft);return C.createElement(C.Fragment,null,C.createElement(xft,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),C.createElement(bft,e))},mb=C.memo(wft,zde);mb.displayName="YAxis";var Sft=(t,e)=>e,nz=Ve([Sft,$r,ab,Go,kue,Kh,urt,yo],grt),rz=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},Mde=sd("mouseClick"),Qde=sS();Qde.startListening({actionCreator:Mde,effect:(t,e)=>{var n=t.payload,r=nz(e.getState(),rz(n));r?.activeIndex!=null&&e.dispatch(cnt({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var e8=sd("mouseMove"),Hde=sS(),ak=null;Hde.startListening({actionCreator:e8,effect:(t,e)=>{var n=t.payload;ak!==null&&cancelAnimationFrame(ak);var r=rz(n);ak=requestAnimationFrame(()=>{var s=e.getState(),i=wU(s,s.tooltip.settings.shared);if(i==="axis"){var a=nz(s,r);a?.activeIndex!=null?e.dispatch(mue({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(pue())}ak=null})}});function Cft(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var MK={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},Wde=$c({name:"rootProps",initialState:MK,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:MK.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),kft=Wde.reducer,{updateOptions:Bft}=Wde.actions,Eft=null,Ift={updatePolarOptions:(t,e)=>e.payload},Vde=$c({name:"polarOptions",initialState:Eft,reducers:Ift}),{updatePolarOptions:Nft}=Vde.actions,jft=Vde.reducer,qde=sd("keyDown"),Gde=sd("focus"),sz=sS();sz.startListening({actionCreator:qde,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:s}=n.tooltip,i=t.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var a=SU(s,db(n),yS(n),vS(n)),o=a==null?-1:Number(a);if(!(!Number.isFinite(o)||o<0)){var c=Kh(n);if(i==="Enter"){var u=X4(n,"axis","hover",String(s.index));e.dispatch(MF({active:!s.active,activeIndex:s.index,activeCoordinate:u}));return}var d=Ztt(n),f=d==="left-to-right"?1:-1,h=i==="ArrowRight"?1:-1,m=o+h*f;if(!(c==null||m>=c.length||m<0)){var g=X4(n,"axis","hover",String(m));e.dispatch(MF({active:!0,activeIndex:m.toString(),activeCoordinate:g}))}}}}}});sz.startListening({actionCreator:Gde,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:s}=n.tooltip;if(!s.active&&s.index==null){var i="0",a=X4(n,"axis","hover",String(i));e.dispatch(MF({active:!0,activeIndex:i,activeCoordinate:a}))}}}});var Pu=sd("externalEvent"),Kde=sS(),GR=new Map;Kde.startListening({actionCreator:Pu,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var s=r.type,i=GR.get(s);i!==void 0&&cancelAnimationFrame(i);var a=requestAnimationFrame(()=>{try{var o=e.getState(),c={activeCoordinate:Knt(o),activeDataKey:IU(o),activeIndex:gm(o),activeLabel:Iue(o),activeTooltipIndex:gm(o),isTooltipActive:Xnt(o)};n(c,r)}finally{GR.delete(s)}});GR.set(s,a)}}});var Tft=Ve([cb],t=>t.tooltipItemPayloads),_ft=Ve([Tft,(t,e)=>e,(t,e,n)=>n],(t,e,n)=>{if(e!=null){var r=t.find(i=>i.settings.graphicalItemId===n);if(r!=null){var{getPosition:s}=r;if(s!=null)return s(e)}}}),Xde=sd("touchMove"),Yde=sS();Yde.startListening({actionCreator:Xde,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),s=wU(r,r.tooltip.settings.shared);if(s==="axis"){var i=n.touches[0];if(i==null)return;var a=nz(r,rz({clientX:i.clientX,clientY:i.clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&e.dispatch(mue({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(s==="item"){var o,c=n.touches[0];if(document.elementFromPoint==null||c==null)return;var u=document.elementFromPoint(c.clientX,c.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(ole),f=(o=u.getAttribute(lle))!==null&&o!==void 0?o:void 0,h=ub(r).find(y=>y.id===f);if(d==null||h==null||f==null)return;var{dataKey:m}=h,g=_ft(r,d,f);e.dispatch(hue({activeDataKey:m,activeIndex:d,activeCoordinate:g,activeGraphicalItemId:f}))}}}});var Rft=Ioe({brush:cct,cartesianAxis:mlt,chartData:Grt,errorBars:rut,graphicalItems:kot,layout:vKe,legend:EXe,options:Qrt,polarAxis:lat,polarOptions:jft,referenceElements:Act,rootProps:kft,tooltip:unt,zIndex:Trt}),Oft=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return VGe({reducer:Rft,preloadedState:e,middleware:r=>{var s;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((s="es6")!==null&&s!==void 0?s:"")}).concat([Qde.middleware,Hde.middleware,sz.middleware,Kde.middleware,Yde.middleware])},enhancers:r=>{var s=r;return typeof r=="function"&&(s=r()),s.concat(Qoe({type:"raf"}))},devTools:{serialize:{replacer:Cft},name:"recharts-".concat(n)}})};function Jde(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,s=Vo(),i=C.useRef(null);if(s)return n;i.current==null&&(i.current=Oft(e,r));var a=fP;return C.createElement(Iut,{context:a,store:i.current},n)}function Fft(t){var{layout:e,margin:n}=t,r=Ws(),s=Vo();return C.useEffect(()=>{s||(r(yKe(e)),r(gKe(n)))},[r,s,e,n]),null}var Zde=C.memo(Fft,X3);function efe(t){var e=Ws();return C.useEffect(()=>{e(Bft(t))},[e,t]),null}function QK(t){var{zIndex:e,isPanorama:n}=t,r=C.useRef(null),s=Ws();return C.useLayoutEffect(()=>(r.current&&s(Nrt({zIndex:e,element:r.current,isPanorama:n})),()=>{s(jrt({zIndex:e,isPanorama:n}))}),[s,e,n]),C.createElement("g",{tabIndex:-1,ref:r})}function HK(t){var{children:e,isPanorama:n}=t,r=Xt(xrt);if(!r||r.length===0)return e;var s=r.filter(a=>a<0),i=r.filter(a=>a>0);return C.createElement(C.Fragment,null,s.map(a=>C.createElement(QK,{key:a,zIndex:a,isPanorama:n})),e,i.map(a=>C.createElement(QK,{key:a,zIndex:a,isPanorama:n})))}var Dft=["children"];function Lft(t,e){if(t==null)return{};var n,r,s=$ft(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function $ft(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function aE(){return aE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aE.apply(null,arguments)}var Pft={width:"100%",height:"100%",display:"block"},Uft=C.forwardRef((t,e)=>{var n=wP(),r=SP(),s=kle();if(!AA(n)||!AA(r))return null;var{children:i,otherAttributes:a,title:o,desc:c}=t,u,d;return a!=null&&(typeof a.tabIndex=="number"?u=a.tabIndex:u=s?0:void 0,typeof a.role=="string"?d=a.role:d=s?"application":void 0),C.createElement(eP,aE({},a,{title:o,desc:c,role:d,tabIndex:u,width:n,height:r,style:Pft,ref:e}),i)}),zft=t=>{var{children:e}=t,n=Xt(m3);if(!n)return null;var{width:r,height:s,y:i,x:a}=n;return C.createElement(eP,{width:r,height:s,x:a,y:i},e)},WK=C.forwardRef((t,e)=>{var{children:n}=t,r=Lft(t,Dft),s=Vo();return s?C.createElement(zft,null,C.createElement(HK,{isPanorama:!0},n)):C.createElement(Uft,aE({ref:e},r),C.createElement(HK,{isPanorama:!1},n))});function Mft(){var t=Ws(),[e,n]=C.useState(null),r=Xt(LKe);return C.useEffect(()=>{if(e!=null){var s=e.getBoundingClientRect(),i=s.width/e.offsetWidth;br(i)&&i!==r&&t(bKe(i))}},[e,t,r]),n}function VK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Qft(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VK(Object(n),!0).forEach(function(r){Hft(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hft(t,e,n){return(e=Wft(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wft(t){var e=Vft(t,"string");return typeof e=="symbol"?e:e+""}function Vft(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jp(){return Jp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jp.apply(null,arguments)}var qft=()=>(rst(),null);function oE(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var Gft=C.forwardRef((t,e)=>{var n,r,s=C.useRef(null),[i,a]=C.useState({containerWidth:oE((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:oE((r=t.style)===null||r===void 0?void 0:r.height)}),o=C.useCallback((u,d)=>{a(f=>{var h=Math.round(u),m=Math.round(d);return f.containerWidth===h&&f.containerHeight===m?f:{containerWidth:h,containerHeight:m}})},[]),c=C.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=u.getBoundingClientRect();o(d,f);var h=g=>{var y=g[0];if(y!=null){var{width:x,height:v}=y.contentRect;o(x,v)}},m=new ResizeObserver(h);m.observe(u),s.current=m}},[e,o]);return C.useEffect(()=>()=>{var u=s.current;u?.disconnect()},[o]),C.createElement(C.Fragment,null,C.createElement(aS,{width:i.containerWidth,height:i.containerHeight}),C.createElement("div",Jp({ref:c},t)))}),Kft=C.forwardRef((t,e)=>{var{width:n,height:r}=t,[s,i]=C.useState({containerWidth:oE(n),containerHeight:oE(r)}),a=C.useCallback((c,u)=>{i(d=>{var f=Math.round(c),h=Math.round(u);return d.containerWidth===f&&d.containerHeight===h?d:{containerWidth:f,containerHeight:h}})},[]),o=C.useCallback(c=>{if(typeof e=="function"&&e(c),c!=null){var{width:u,height:d}=c.getBoundingClientRect();a(u,d)}},[e,a]);return C.createElement(C.Fragment,null,C.createElement(aS,{width:s.containerWidth,height:s.containerHeight}),C.createElement("div",Jp({ref:o},t)))}),Xft=C.forwardRef((t,e)=>{var{width:n,height:r}=t;return C.createElement(C.Fragment,null,C.createElement(aS,{width:n,height:r}),C.createElement("div",Jp({ref:e},t)))}),Yft=C.forwardRef((t,e)=>{var{width:n,height:r}=t;return typeof n=="string"||typeof r=="string"?C.createElement(Kft,Jp({},t,{ref:e})):typeof n=="number"&&typeof r=="number"?C.createElement(Xft,Jp({},t,{width:n,height:r,ref:e})):C.createElement(C.Fragment,null,C.createElement(aS,{width:n,height:r}),C.createElement("div",Jp({ref:e},t)))});function Jft(t){return t?Gft:Yft}var Zft=C.forwardRef((t,e)=>{var{children:n,className:r,height:s,onClick:i,onContextMenu:a,onDoubleClick:o,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:g,onTouchStart:y,style:x,width:v,responsive:w,dispatchTouchEvents:B=!0}=t,k=C.useRef(null),E=Ws(),[N,O]=C.useState(null),[F,D]=C.useState(null),T=Mft(),j=bP(),P=j?.width>0?j.width:v,U=j?.height>0?j.height:s,z=C.useCallback(me=>{T(me),typeof e=="function"&&e(me),O(me),D(me),me!=null&&(k.current=me)},[T,e,O,D]),ee=C.useCallback(me=>{E(Mde(me)),E(Pu({handler:i,reactEvent:me}))},[E,i]),q=C.useCallback(me=>{E(e8(me)),E(Pu({handler:u,reactEvent:me}))},[E,u]),Z=C.useCallback(me=>{E(pue()),E(Pu({handler:d,reactEvent:me}))},[E,d]),G=C.useCallback(me=>{E(e8(me)),E(Pu({handler:f,reactEvent:me}))},[E,f]),ne=C.useCallback(()=>{E(Gde())},[E]),K=C.useCallback(me=>{E(qde(me.key))},[E]),H=C.useCallback(me=>{E(Pu({handler:a,reactEvent:me}))},[E,a]),Q=C.useCallback(me=>{E(Pu({handler:o,reactEvent:me}))},[E,o]),X=C.useCallback(me=>{E(Pu({handler:c,reactEvent:me}))},[E,c]),re=C.useCallback(me=>{E(Pu({handler:h,reactEvent:me}))},[E,h]),le=C.useCallback(me=>{E(Pu({handler:y,reactEvent:me}))},[E,y]),he=C.useCallback(me=>{B&&E(Xde(me)),E(Pu({handler:g,reactEvent:me}))},[E,B,g]),xe=C.useCallback(me=>{E(Pu({handler:m,reactEvent:me}))},[E,m]),Be=Jft(w);return C.createElement(Due.Provider,{value:N},C.createElement(Vae.Provider,{value:F},C.createElement(Be,{width:P??x?.width,height:U??x?.height,className:yr("recharts-wrapper",r),style:Qft({position:"relative",cursor:"default",width:P,height:U},x),onClick:ee,onContextMenu:H,onDoubleClick:Q,onFocus:ne,onKeyDown:K,onMouseDown:X,onMouseEnter:q,onMouseLeave:Z,onMouseMove:G,onMouseUp:re,onTouchEnd:xe,onTouchMove:he,onTouchStart:le,ref:z},C.createElement(qft,null),n)))}),eAt=["width","height","responsive","children","className","style","compact","title","desc"];function tAt(t,e){if(t==null)return{};var n,r,s=nAt(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function nAt(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var tfe=C.forwardRef((t,e)=>{var{width:n,height:r,responsive:s,children:i,className:a,style:o,compact:c,title:u,desc:d}=t,f=tAt(t,eAt),h=vi(f);return c?C.createElement(C.Fragment,null,C.createElement(aS,{width:n,height:r}),C.createElement(WK,{otherAttributes:h,title:u,desc:d},i)):C.createElement(Zft,{className:a,style:o,width:n,height:r,responsive:s??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},C.createElement(WK,{otherAttributes:h,title:u,desc:d,ref:e},C.createElement(pct,null,i)))});function t8(){return t8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},t8.apply(null,arguments)}var rAt={top:5,right:5,bottom:5,left:5},sAt={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:rAt,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},nfe=C.forwardRef(function(e,n){var r,s=wi(e.categoricalChartProps,sAt),{chartName:i,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,categoricalChartProps:u}=e,d={chartName:i,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,eventEmitter:void 0};return C.createElement(Jde,{preloadedState:{options:d},reduxStoreName:(r=u.id)!==null&&r!==void 0?r:i},C.createElement(wde,{chartData:u.data}),C.createElement(Zde,{layout:s.layout,margin:s.margin}),C.createElement(efe,{baseValue:s.baseValue,accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className,reverseStackOrder:s.reverseStackOrder}),C.createElement(tfe,t8({},s,{ref:n})))}),iAt=["axis","item"],iz=C.forwardRef((t,e)=>C.createElement(nfe,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:iAt,tooltipPayloadSearcher:U3,categoricalChartProps:t,ref:e}));function aAt(t){var e=Ws();return C.useEffect(()=>{e(Nft(t))},[e,t]),null}var oAt=["layout"];function n8(){return n8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n8.apply(null,arguments)}function lAt(t,e){if(t==null)return{};var n,r,s=cAt(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function cAt(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var uAt={top:5,right:5,bottom:5,left:5},az={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:uAt,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},rfe=C.forwardRef(function(e,n){var r,s=wi(e.categoricalChartProps,az),{layout:i}=s,a=lAt(s,oAt),{chartName:o,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d}=e,f={chartName:o,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return C.createElement(Jde,{preloadedState:{options:f},reduxStoreName:(r=s.id)!==null&&r!==void 0?r:o},C.createElement(wde,{chartData:s.data}),C.createElement(Zde,{layout:i,margin:s.margin}),C.createElement(efe,{baseValue:void 0,accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className,reverseStackOrder:s.reverseStackOrder}),C.createElement(aAt,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),C.createElement(tfe,n8({},a,{ref:n})))});function qK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function GK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qK(Object(n),!0).forEach(function(r){dAt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dAt(t,e,n){return(e=fAt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fAt(t){var e=AAt(t,"string");return typeof e=="symbol"?e:e+""}function AAt(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hAt=["item"],pAt=GK(GK({},az),{},{layout:"centric",startAngle:0,endAngle:360}),oz=C.forwardRef((t,e)=>{var n=wi(t,pAt);return C.createElement(rfe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:hAt,tooltipPayloadSearcher:U3,categoricalChartProps:n,ref:e})});function KK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function XK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KK(Object(n),!0).forEach(function(r){mAt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mAt(t,e,n){return(e=gAt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gAt(t){var e=yAt(t,"string");return typeof e=="symbol"?e:e+""}function yAt(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xAt=["axis"],bAt=XK(XK({},az),{},{layout:"centric",startAngle:90,endAngle:-270}),sfe=C.forwardRef((t,e)=>{var n=wi(t,bAt);return C.createElement(rfe,{chartName:"RadarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:xAt,tooltipPayloadSearcher:U3,categoricalChartProps:n,ref:e})}),vAt=["axis"],ife=C.forwardRef((t,e)=>C.createElement(nfe,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:vAt,tooltipPayloadSearcher:U3,categoricalChartProps:t,ref:e}));const wAt="http://localhost:8000";function afe({attemptId:t,onBack:e,initialData:n=null,isEmbedded:r=!1}){const[s,i]=C.useState(n),[a,o]=C.useState(!n),[c,u]=C.useState("");C.useEffect(()=>{!n&&t&&d()},[t,n]);const d=async()=>{try{o(!0);const{data:w}=await rt.get(`${wAt}/api/skill-tests/report/${t}`);i(w)}catch(w){u(w.response?.data?.error||w.message)}finally{o(!1)}};if(a)return l.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"400px",color:"#94a3b8",gap:"10px"},children:[l.jsx(Ga,{className:"animate-spin"})," Generating comprehensive report..."]});if(c)return l.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#ef4444"},children:c});const f=s?.attempt||s,h=s?.violations||s?.proctoring_logs||[];if(!f||!f.id)return l.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#94a3b8"},children:"Report data unavailable"});const m=f.overall_status==="completed",g=f.report&&typeof f.report=="object"?f.report:{},y=g.performance_metrics?[{subject:"Accuracy",A:g.performance_metrics.accuracy||0,fullMark:100},{subject:"Speed",A:g.performance_metrics.speed||0,fullMark:100},{subject:"Completeness",A:g.performance_metrics.completeness||0,fullMark:100},{subject:"Code Quality",A:g.performance_metrics.code_quality||0,fullMark:100},{subject:"Best Practices",A:g.performance_metrics.best_practices||(g.performance_metrics.code_quality?g.performance_metrics.code_quality-5:0),fullMark:100}]:[];let x=[];g.concept_mastery?x=Object.entries(g.concept_mastery).map(([w,B])=>({name:w,score:B})).sort((w,B)=>B.score-w.score).slice(0,8):g.skill_ratings&&(x=Object.entries(g.skill_ratings).map(([w,B])=>({name:w,score:B*10})));const v=[{key:"mcq",label:"MCQ Test",icon:l.jsx(Zr,{size:18}),score:Number(f.mcq_score||0),status:f.mcq_status,color:"#8b5cf6"},{key:"coding",label:"Coding Test",icon:l.jsx(Cg,{size:18}),score:Number(f.coding_score||0),status:f.coding_status,color:"#3b82f6"},{key:"sql",label:"SQL Test",icon:l.jsx(Ka,{size:18}),score:Number(f.sql_score||0),status:f.sql_status,color:"#10b981"},{key:"interview",label:"AI Interview",icon:l.jsx(Fp,{size:18}),score:Number(f.interview_score||0),status:f.interview_status,isOutOf10:!0,color:"#f59e0b"}];return l.jsxs("div",{style:{padding:"24px",maxWidth:"1200px",margin:"0 auto",fontFamily:"Inter, sans-serif"},children:[!r&&l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"32px"},children:[l.jsxs("button",{onClick:e,style:{padding:"8px 16px",background:"#334155",border:"1px solid #475569",borderRadius:"8px",cursor:"pointer",fontSize:"13px",color:"#94a3b8",display:"flex",alignItems:"center",gap:"6px",transition:"all 0.2s"},children:[l.jsx(uge,{size:16})," Back"]}),l.jsxs("div",{style:{textAlign:"right"},children:[l.jsx("h1",{style:{margin:0,fontSize:"24px",fontWeight:800,color:"#f1f5f9"},children:"Detailed Skill Report"}),l.jsxs("p",{style:{margin:0,fontSize:"13px",color:"#94a3b8"},children:["Generated on ",new Date(f.created_at).toLocaleDateString()]})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 2fr",gap:"24px",marginBottom:"32px"},children:[l.jsxs("div",{style:{background:m?"linear-gradient(135deg, rgba(34,197,94,0.15), rgba(6,95,70,0.2))":"linear-gradient(135deg, rgba(239,68,68,0.15), rgba(153,27,27,0.2))",border:"1px solid "+(m?"rgba(34,197,94,0.3)":"rgba(239,68,68,0.3)"),borderRadius:"16px",padding:"32px",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[l.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",marginBottom:"16px",display:"flex",alignItems:"center",justifyContent:"center",background:"#0f172a",boxShadow:"0 4px 12px rgba(0,0,0,0.3)",border:`2px solid ${m?"#22c55e":"#ef4444"}`},children:m?l.jsx(jl,{size:40,color:"#22c55e"}):l.jsx(Ga,{size:40,color:"#ef4444"})}),l.jsx("h2",{style:{margin:"0 0 4px",fontSize:"24px",fontWeight:800,color:"#f1f5f9"},children:m?"Excellent Work!":"Needs Improvement"}),l.jsx("span",{style:{padding:"4px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:700,background:m?"#22c55e":"#ef4444",color:"white",marginTop:"8px"},children:f.overall_status==="completed"?"PASSED":f.mcq_status==="failed"?"MCQ FAILED":f.coding_status==="failed"?"CODING FAILED":f.sql_status==="failed"?"SQL FAILED":f.interview_status==="failed"?"INTERVIEW FAILED":"NOT PASSED"})]}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"12px"},children:v.map(w=>{w.status==="completed"||w.status,!w.status||w.status;const B=w.isOutOf10?(w.score||0)*10:w.score||0;return l.jsxs("div",{style:{background:"#1e293b",border:"1px solid #334155",borderRadius:"16px",padding:"20px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",position:"relative",overflow:"hidden"},children:[l.jsx("div",{style:{position:"absolute",bottom:0,left:0,width:"100%",height:"4px",background:"#334155"},children:l.jsx("div",{style:{width:`${B}%`,height:"100%",background:w.color,transition:"width 1s ease-out"}})}),l.jsx("div",{style:{marginBottom:"12px",color:w.color,background:`${w.color}15`,padding:"8px",borderRadius:"10px"},children:w.icon}),l.jsx("div",{style:{fontSize:"13px",color:"#cbd5e1",fontWeight:600},children:w.label}),l.jsxs("div",{style:{fontSize:"20px",fontWeight:800,color:"#f1f5f9",marginTop:"4px"},children:[w.isOutOf10?(w.score||0).toFixed(1):Math.round(w.score||0),l.jsx("span",{style:{fontSize:"12px",color:"#64748b",fontWeight:500},children:w.isOutOf10?"/10":"%"})]})]},w.key)})})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px",marginBottom:"32px"},children:[l.jsxs("div",{style:{background:"#1e293b",border:"1px solid #334155",borderRadius:"16px",padding:"24px"},children:[l.jsxs("h3",{style:{margin:"0 0 16px",fontSize:"18px",fontWeight:700,color:"#f1f5f9",display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx(Zr,{color:"#8b5cf6",size:20})," AI Assessment Summary"]}),l.jsx("div",{style:{fontSize:"14px",lineHeight:"1.7",color:"#cbd5e1"},children:g.summary||g.overall_assessment||"No summary available."}),g.behavioral_analysis&&l.jsxs("div",{style:{marginTop:"20px",padding:"16px",background:"rgba(59,130,246,0.1)",borderRadius:"12px",border:"1px solid rgba(59,130,246,0.2)"},children:[l.jsx("h4",{style:{margin:"0 0 8px",fontSize:"14px",fontWeight:700,color:"#60a5fa"},children:"Behavioral Analysis"}),l.jsx("p",{style:{margin:0,fontSize:"13px",color:"#cbd5e1"},children:g.behavioral_analysis})]})]}),l.jsxs("div",{style:{background:"#1e293b",border:"1px solid #334155",borderRadius:"16px",padding:"24px",display:"flex",flexDirection:"column",alignItems:"center"},children:[l.jsx("h3",{style:{margin:"0 0 8px",fontSize:"18px",fontWeight:700,color:"#f1f5f9",alignSelf:"flex-start"},children:"Performance Metrics"}),y.length>0?l.jsx(tA,{width:"100%",height:250,children:l.jsxs(sfe,{cx:"50%",cy:"50%",outerRadius:"75%",data:y,children:[l.jsx(PU,{stroke:"#475569"}),l.jsx(MU,{dataKey:"subject",tick:{fill:"#94a3b8",fontSize:11}}),l.jsx(zU,{angle:30,domain:[0,100],tick:!1,axisLine:!1}),l.jsx(YU,{name:"Performance",dataKey:"A",stroke:"#8b5cf6",fill:"#8b5cf6",fillOpacity:.4}),l.jsx(rA,{contentStyle:{backgroundColor:"#0f172a",borderColor:"#334155",color:"#f1f5f9"}}),l.jsx(Cle,{})]})}):l.jsx("div",{style:{color:"#64748b",fontStyle:"italic",marginTop:"40px"},children:"Not enough data for metrics"})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px",marginBottom:"32px"},children:[l.jsxs("div",{style:{background:"#1e293b",border:"1px solid #334155",borderRadius:"16px",padding:"24px"},children:[l.jsx("h3",{style:{margin:"0 0 20px",fontSize:"18px",fontWeight:700,color:"#f1f5f9"},children:"Concept Mastery"}),x.length>0?l.jsx(tA,{width:"100%",height:300,children:l.jsxs(iz,{data:x,layout:"vertical",margin:{top:5,right:30,left:20,bottom:5},children:[l.jsx(SS,{strokeDasharray:"3 3",stroke:"#334155",horizontal:!1}),l.jsx(pb,{type:"number",domain:[0,100],stroke:"#64748b",ticCount:5}),l.jsx(mb,{dataKey:"name",type:"category",width:100,stroke:"#94a3b8",fontSize:11}),l.jsx(rA,{cursor:{fill:"#334155",opacity:.4},contentStyle:{backgroundColor:"#0f172a",borderColor:"#334155",color:"#f1f5f9"}}),l.jsx(Y3,{dataKey:"score",fill:"#10b981",radius:[0,4,4,0],children:x.map((w,B)=>l.jsx(pA,{fill:w.score>=80?"#10b981":w.score>=60?"#f59e0b":"#ef4444"},`cell-${B}`))})]})}):l.jsx("div",{style:{color:"#64748b"},children:"No concept data available"})]}),l.jsxs("div",{style:{background:"#1e293b",border:"1px solid #334155",borderRadius:"16px",padding:"24px",overflowY:"auto",maxHeight:"400px"},children:[l.jsxs("h3",{style:{margin:"0 0 20px",fontSize:"18px",fontWeight:700,color:"#f1f5f9",display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx(kr,{color:"#ef4444",size:20})," Skill Gap Analysis"]}),g.skill_gap_analysis?l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:g.skill_gap_analysis.map((w,B)=>l.jsxs("div",{style:{padding:"16px",background:"#0f172a",borderRadius:"12px",border:"1px solid #334155"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[l.jsx("span",{style:{fontWeight:700,color:"#f1f5f9"},children:w.skill}),l.jsxs("div",{style:{fontSize:"11px",display:"flex",alignItems:"center",gap:"6px"},children:[l.jsx("span",{style:{color:"#94a3b8"},children:w.current_level}),l.jsx(Ug,{size:12,color:"#64748b"}),l.jsx("span",{style:{color:"#22c55e",fontWeight:700},children:w.target_level})]})]}),l.jsx("p",{style:{margin:0,fontSize:"13px",color:"#cbd5e1",lineHeight:"1.5"},children:w.gap_description})]},B))}):l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[g.weaknesses&&g.weaknesses.map((w,B)=>l.jsxs("div",{style:{padding:"12px",background:"rgba(239,68,68,0.1)",borderRadius:"8px",color:"#fca5a5",fontSize:"13px"},children:[" ",w]},B)),!g.weaknesses&&l.jsx("div",{style:{color:"#94a3b8"},children:"No specific gap analysis available."})]})]})]}),g.section_feedback&&l.jsxs("div",{style:{marginBottom:"32px"},children:[l.jsxs("h3",{style:{margin:"0 0 20px",fontSize:"20px",fontWeight:700,color:"#f1f5f9",display:"flex",alignItems:"center",gap:"10px"},children:[l.jsx(A2,{color:"#8b5cf6",size:24})," Section-wise Detailed Feedback"]}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[{key:"mcq",label:"MCQ Analysis",icon:l.jsx(Zr,{size:18}),color:"#8b5cf6"},{key:"coding",label:"Coding Analysis",icon:l.jsx(Cg,{size:18}),color:"#3b82f6"},{key:"sql",label:"SQL Analysis",icon:l.jsx(Ka,{size:18}),color:"#10b981"},{key:"interview",label:"Interview Analysis",icon:l.jsx(Fp,{size:18}),color:"#f59e0b"}].map(w=>g.section_feedback[w.key]&&l.jsxs("div",{style:{background:"#1e293b",border:"1px solid #334155",borderRadius:"16px",padding:"20px"},children:[l.jsxs("h4",{style:{margin:"0 0 12px",fontSize:"15px",fontWeight:700,color:w.color,display:"flex",alignItems:"center",gap:"8px"},children:[w.icon," ",w.label]}),l.jsx("p",{style:{margin:0,fontSize:"13px",lineHeight:"1.7",color:"#cbd5e1"},children:g.section_feedback[w.key]})]},w.key))})]}),g.skill_wise_scores&&Object.keys(g.skill_wise_scores).length>0&&l.jsxs("div",{style:{background:"#1e293b",border:"1px solid #334155",borderRadius:"16px",padding:"24px",marginBottom:"32px"},children:[l.jsxs("h3",{style:{margin:"0 0 20px",fontSize:"18px",fontWeight:700,color:"#f1f5f9",display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx(nd,{color:"#f59e0b",size:20})," Skill-wise Assessment"]}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"12px"},children:Object.entries(g.skill_wise_scores).sort((w,B)=>B[1]-w[1]).map(([w,B],k)=>l.jsxs("div",{style:{padding:"14px 16px",background:"#0f172a",borderRadius:"12px",border:"1px solid #334155"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[l.jsx("span",{style:{fontSize:"13px",fontWeight:700,color:"#f1f5f9",textTransform:"capitalize"},children:w}),l.jsxs("span",{style:{fontSize:"13px",fontWeight:800,color:B>=80?"#22c55e":B>=60?"#f59e0b":"#ef4444"},children:[B,"%"]})]}),l.jsx("div",{style:{width:"100%",height:"6px",background:"#334155",borderRadius:"3px",overflow:"hidden"},children:l.jsx("div",{style:{width:`${B}%`,height:"100%",borderRadius:"3px",background:B>=80?"linear-gradient(90deg, #22c55e, #10b981)":B>=60?"linear-gradient(90deg, #f59e0b, #eab308)":"linear-gradient(90deg, #ef4444, #dc2626)",transition:"width 1s ease-out"}})})]},k))})]}),g.mcq_question_analysis&&g.mcq_question_analysis.length>0&&l.jsxs("div",{style:{background:"#1e293b",border:"1px solid #334155",borderRadius:"16px",padding:"24px",marginBottom:"32px"},children:[l.jsxs("h3",{style:{margin:"0 0 20px",fontSize:"18px",fontWeight:700,color:"#f1f5f9",display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx(Zr,{color:"#8b5cf6",size:20})," MCQ Question-wise Analysis"]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:g.mcq_question_analysis.map((w,B)=>l.jsxs("div",{style:{padding:"14px 16px",background:"#0f172a",borderRadius:"12px",border:`1px solid ${w.correct?"rgba(34,197,94,0.3)":"rgba(239,68,68,0.3)"}`,display:"flex",gap:"12px",alignItems:"flex-start"},children:[l.jsx("div",{style:{minWidth:"28px",height:"28px",borderRadius:"50%",background:w.correct?"rgba(34,197,94,0.15)":"rgba(239,68,68,0.15)",display:"flex",alignItems:"center",justifyContent:"center",marginTop:"2px"},children:w.correct?l.jsx($n,{size:16,color:"#22c55e"}):l.jsx(Jr,{size:16,color:"#ef4444"})}),l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"4px"},children:[l.jsxs("span",{style:{fontSize:"13px",fontWeight:700,color:"#f1f5f9"},children:["Q",B+1,": ",w.question_summary]}),w.skill&&l.jsx("span",{style:{fontSize:"10px",padding:"2px 8px",borderRadius:"10px",background:"rgba(139,92,246,0.15)",color:"#a78bfa"},children:w.skill})]}),l.jsx("p",{style:{margin:0,fontSize:"12px",color:"#94a3b8",lineHeight:"1.5"},children:w.feedback})]})]},B))})]}),g.coding_problem_analysis&&g.coding_problem_analysis.length>0&&l.jsxs("div",{style:{background:"#1e293b",border:"1px solid #334155",borderRadius:"16px",padding:"24px",marginBottom:"32px"},children:[l.jsxs("h3",{style:{margin:"0 0 20px",fontSize:"18px",fontWeight:700,color:"#f1f5f9",display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx(Cg,{color:"#3b82f6",size:20})," Coding Problem-wise Feedback"]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:g.coding_problem_analysis.map((w,B)=>l.jsxs("div",{style:{padding:"16px",background:"#0f172a",borderRadius:"12px",border:`1px solid ${w.solved?"rgba(59,130,246,0.3)":"rgba(245,158,11,0.3)"}`},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[l.jsx("span",{style:{fontSize:"14px",fontWeight:700,color:"#f1f5f9"},children:w.problem_title||`Problem ${B+1}`}),l.jsx("span",{style:{fontSize:"10px",fontWeight:700,padding:"3px 10px",borderRadius:"10px",background:w.solved?"rgba(34,197,94,0.15)":"rgba(239,68,68,0.15)",color:w.solved?"#22c55e":"#ef4444"},children:w.solved?" Solved":" Not Solved"})]}),l.jsx("p",{style:{margin:"0 0 8px",fontSize:"13px",color:"#cbd5e1",lineHeight:"1.6"},children:w.feedback}),w.improvement_tip&&l.jsxs("div",{style:{padding:"8px 12px",borderRadius:"8px",background:"rgba(59,130,246,0.08)",border:"1px solid rgba(59,130,246,0.15)",fontSize:"12px",color:"#93c5fd"},children:[" ",l.jsx("strong",{children:"Tip:"})," ",w.improvement_tip]})]},B))})]}),g.sql_problem_analysis&&g.sql_problem_analysis.length>0&&l.jsxs("div",{style:{background:"#1e293b",border:"1px solid #334155",borderRadius:"16px",padding:"24px",marginBottom:"32px"},children:[l.jsxs("h3",{style:{margin:"0 0 20px",fontSize:"18px",fontWeight:700,color:"#f1f5f9",display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx(Ka,{color:"#10b981",size:20})," SQL Problem-wise Feedback"]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:g.sql_problem_analysis.map((w,B)=>l.jsxs("div",{style:{padding:"16px",background:"#0f172a",borderRadius:"12px",border:`1px solid ${w.solved?"rgba(16,185,129,0.3)":"rgba(245,158,11,0.3)"}`},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[l.jsx("span",{style:{fontSize:"14px",fontWeight:700,color:"#f1f5f9"},children:w.problem_title||`SQL Problem ${B+1}`}),l.jsx("span",{style:{fontSize:"10px",fontWeight:700,padding:"3px 10px",borderRadius:"10px",background:w.solved?"rgba(34,197,94,0.15)":"rgba(239,68,68,0.15)",color:w.solved?"#22c55e":"#ef4444"},children:w.solved?" Correct":" Incorrect"})]}),l.jsx("p",{style:{margin:"0 0 8px",fontSize:"13px",color:"#cbd5e1",lineHeight:"1.6"},children:w.feedback}),w.improvement_tip&&l.jsxs("div",{style:{padding:"8px 12px",borderRadius:"8px",background:"rgba(16,185,129,0.08)",border:"1px solid rgba(16,185,129,0.15)",fontSize:"12px",color:"#6ee7b7"},children:[" ",l.jsx("strong",{children:"Tip:"})," ",w.improvement_tip]})]},B))})]}),g.interview_feedback&&g.interview_feedback.length>0&&l.jsxs("div",{style:{background:"#1e293b",border:"1px solid #334155",borderRadius:"16px",padding:"24px",marginBottom:"32px"},children:[l.jsxs("h3",{style:{margin:"0 0 20px",fontSize:"18px",fontWeight:700,color:"#f1f5f9",display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx(Fp,{color:"#f59e0b",size:20})," Interview Question-wise Feedback"]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:g.interview_feedback.map((w,B)=>{const k=(w.score||0)>=7?"#22c55e":(w.score||0)>=5?"#f59e0b":"#ef4444";return l.jsxs("div",{style:{padding:"16px",background:"#0f172a",borderRadius:"12px",border:"1px solid #334155"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[l.jsxs("span",{style:{fontSize:"14px",fontWeight:700,color:"#f1f5f9",flex:1},children:["Q",B+1,": ",w.question_summary]}),l.jsxs("span",{style:{fontSize:"14px",fontWeight:800,color:k,minWidth:"50px",textAlign:"right"},children:[w.score||0,"/10"]})]}),l.jsx("div",{style:{width:"100%",height:"4px",background:"#334155",borderRadius:"2px",marginBottom:"10px"},children:l.jsx("div",{style:{width:`${(w.score||0)/10*100}%`,height:"100%",borderRadius:"2px",background:k,transition:"width 1s ease-out"}})}),l.jsx("p",{style:{margin:"0 0 8px",fontSize:"13px",color:"#cbd5e1",lineHeight:"1.6"},children:w.feedback}),w.improvement_tip&&l.jsxs("div",{style:{padding:"8px 12px",borderRadius:"8px",background:"rgba(245,158,11,0.08)",border:"1px solid rgba(245,158,11,0.15)",fontSize:"12px",color:"#fbbf24"},children:[" ",l.jsx("strong",{children:"Improve:"})," ",w.improvement_tip]})]},B)})})]}),g.roadmap&&l.jsxs("div",{style:{marginBottom:"32px"},children:[l.jsxs("h3",{style:{margin:"0 0 20px",fontSize:"20px",fontWeight:700,color:"#f1f5f9",display:"flex",alignItems:"center",gap:"10px"},children:[l.jsx(d1,{color:"#3b82f6",size:24})," Personalized Improvement Roadmap"]}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px"},children:g.roadmap.map((w,B)=>l.jsxs("div",{style:{background:"#1e293b",border:"1px solid #334155",borderRadius:"16px",padding:"20px",position:"relative"},children:[l.jsxs("div",{style:{position:"absolute",top:"-10px",left:"20px",background:"#3b82f6",color:"white",fontSize:"11px",fontWeight:700,padding:"4px 10px",borderRadius:"10px"},children:["Week ",w.week]}),l.jsx("h4",{style:{marginTop:"12px",marginBottom:"12px",fontSize:"16px",fontWeight:700,color:"#93c5fd"},children:w.focus_area}),l.jsx("ul",{style:{margin:0,paddingLeft:"16px",color:"#cbd5e1",fontSize:"13px"},children:w.action_items.map((k,E)=>l.jsx("li",{style:{marginBottom:"6px"},children:k},E))})]},B))})]}),h&&h.length>0&&l.jsxs("div",{style:{background:"#1e293b",border:"1px solid rgba(239,68,68,0.3)",borderRadius:"16px",padding:"24px",marginBottom:"32px"},children:[l.jsxs("h3",{style:{margin:"0 0 16px",fontSize:"18px",fontWeight:700,display:"flex",alignItems:"center",gap:"8px",color:"#f87171"},children:[l.jsx(Ui,{size:20})," Proctoring Violations (",h.length,")"]}),l.jsx("div",{style:{maxHeight:"200px",overflowY:"auto"},children:h.map((w,B)=>l.jsxs("div",{style:{padding:"10px 14px",borderRadius:"8px",marginBottom:"6px",background:w.severity==="high"?"rgba(239,68,68,0.1)":"rgba(245,158,11,0.1)",fontSize:"13px",display:"flex",justifyContent:"space-between",color:"#cbd5e1"},children:[l.jsxs("span",{children:[l.jsx("strong",{children:w.event_type})," during ",w.test_stage]}),l.jsx("span",{style:{opacity:.7},children:new Date(w.created_at).toLocaleTimeString()})]},B))})]})]})}const ok="http://localhost:8000";function SAt({user:t}){const[e,n]=C.useState([]),[r,s]=C.useState(!0),[i,a]=C.useState(null),[o,c]=C.useState(null),[u,d]=C.useState("list"),[f,h]=C.useState(""),[m,g]=C.useState(!1),[y,x]=C.useState(null),[v,w]=C.useState(""),[B,k]=C.useState(!1),[E,N]=C.useState(null),[O,F]=C.useState(null),D=C.useRef(null),T=C.useRef(null),[j,P]=C.useState({violationCount:0,tabSwitchCount:0,cameraBlocks:0,phoneDetections:0,fullscreenExits:0,cameraActive:!1}),[U,z]=C.useState(null),ee=C.useRef(null),q=C.useRef(null),Z=C.useRef(null),G=C.useRef(null),[ne,K]=C.useState(!1),H=C.useRef(0),[Q,X]=C.useState(null);C.useEffect(()=>{xe(),re()},[]);const re=async()=>{try{const _e=()=>new Promise(ot=>{if(window.cocoSsd)return ot();let $t=0;const kt=setInterval(()=>{$t+=200,(window.cocoSsd||$t>3e4)&&(clearInterval(kt),ot())},200)});if(console.log(" Waiting for TensorFlow.js & COCO-SSD scripts..."),await _e(),!window.cocoSsd){console.error(" COCO-SSD scripts failed to load from CDN");return}console.log(" Scripts ready. Loading COCO-SSD model weights...");const At=await window.cocoSsd.load({base:"mobilenet_v2"});X(At),K(!0),console.log(" AI Proctoring Model loaded successfully!");try{const ot=document.createElement("canvas");ot.width=64,ot.height=64,await At.detect(ot),console.log(" Model warmed up and ready for real-time detection")}catch{}}catch(_e){console.error("Model load error:",_e)}};C.useEffect(()=>()=>{y&&y.getTracks().forEach(_e=>_e.stop())},[y]),C.useEffect(()=>{const _e=()=>{const At=!!document.fullscreenElement;g(At),!At&&i&&u!=="list"&&u!=="report"&&G.current?.("fullscreen_exit","Student exited fullscreen mode","high")};return document.addEventListener("fullscreenchange",_e),()=>document.removeEventListener("fullscreenchange",_e)},[i,u]);const le=C.useCallback((_e,At,ot)=>{z({title:_e,message:At,severity:ot}),ee.current&&clearTimeout(ee.current),ee.current=setTimeout(()=>z(null),4e3)},[]),he=C.useCallback(async(_e,At,ot="medium")=>{if(!(!i||o?.proctoring_enabled===!1))try{await rt.post(`${ok}/api/skill-tests/proctoring/log`,{attemptId:i,testStage:u,eventType:_e,details:At,severity:ot}),P(Ht=>({...Ht,violationCount:Ht.violationCount+1,tabSwitchCount:_e==="tab_switch"?Ht.tabSwitchCount+1:Ht.tabSwitchCount,fullscreenExits:_e==="fullscreen_exit"?Ht.fullscreenExits+1:Ht.fullscreenExits,phoneDetections:_e==="phone_detected"?Ht.phoneDetections+1:Ht.phoneDetections,cameraBlocks:_e==="camera_blocked"?Ht.cameraBlocks+1:Ht.cameraBlocks}));const kt={tab_switch:{title:" Tab Switch Detected!",msg:"Switching tabs is monitored. Return to your test immediately."},fullscreen_exit:{title:" Fullscreen Exited!",msg:"You must stay in fullscreen mode. Please re-enter fullscreen."},camera_blocked:{title:" Camera Blocked!",msg:"Your camera appears to be covered or blocked. Please uncover it."},phone_detected:{title:" Suspicious Activity!",msg:"Device or object detected near camera. Keep your area clear."}}[_e]||{title:" Violation!",msg:At};le(kt.title,kt.msg,ot)}catch{}},[i,u,o,le]);C.useEffect(()=>{G.current=he},[he]),C.useEffect(()=>{if(!i||u==="list"||u==="report"||o?.proctoring_enabled===!1)return;const _e=At=>{At.preventDefault()};return window.addEventListener("copy",_e),window.addEventListener("paste",_e),window.addEventListener("cut",_e),window.addEventListener("contextmenu",_e),()=>{window.removeEventListener("copy",_e),window.removeEventListener("paste",_e),window.removeEventListener("cut",_e),window.removeEventListener("contextmenu",_e)}},[i,u,o]),C.useEffect(()=>{const _e=()=>{document.hidden&&i&&u!=="list"&&u!=="report"&&G.current?.("tab_switch","Student switched tabs or minimized window","high")};return document.addEventListener("visibilitychange",_e),()=>document.removeEventListener("visibilitychange",_e)},[i,u]),C.useEffect(()=>{P(_e=>({..._e,cameraActive:!!y}))},[y]),C.useEffect(()=>{if(!y||!i||u==="list"||u==="report"){Z.current&&(clearInterval(Z.current),Z.current=null);return}const _e=document.createElement("canvas");_e.width=640,_e.height=480;const At=_e.getContext("2d");q.current=_e;const ot=document.createElement("video");ot.srcObject=y,ot.muted=!0,ot.playsInline=!0,ot.width=640,ot.height=480,ot.play().catch(zt=>console.warn("Video play error:",zt));let $t=0;const kt=20,Ht=3,Sn=8e3;return Z.current=setInterval(async()=>{try{if(!ot||ot.paused||ot.ended||ot.readyState<2||!At)return;try{At.drawImage(ot,0,0,640,480);const en=At.getImageData(0,0,640,480).data;let fn=0;for(let rn=0;rn<en.length;rn+=16)fn+=en[rn]*.299+en[rn+1]*.587+en[rn+2]*.114;fn/(en.length/16)<kt?($t++,$t===Ht&&(G.current?.("camera_blocked","Camera appears to be covered","high"),$t=0)):$t=0}catch{return}if(Q&&ot.readyState>=2)try{const zt=await Q.detect(ot),en=zt.filter(sn=>sn.class!=="person");en.length>0&&console.log(" AI:",en.map(sn=>`${sn.class}(${(sn.score*100).toFixed(0)}%)`).join(", "));const fn=["cell phone","remote","laptop","mouse","tablet"],Qt=zt.find(sn=>fn.includes(sn.class)&&sn.score>=.4);if(Qt){const sn=Date.now();sn-H.current>Sn&&(H.current=sn,console.warn(` SUSPICIOUS DEVICE: ${Qt.class} (${(Qt.score*100).toFixed(0)}%)`),G.current?.("phone_detected",`Suspicious activity: ${Qt.class} detected (${(Qt.score*100).toFixed(0)}% confidence)`,"high"))}const rn=zt.filter(sn=>["book","keyboard"].includes(sn.class)&&sn.score>.45);if(rn.length>0){console.warn(" Suspicious:",rn.map(On=>`${On.class}(${(On.score*100).toFixed(0)}%)`).join(", "));const sn=Date.now();sn-H.current>Sn&&(H.current=sn,G.current?.("phone_detected",`${rn[0].class} detected`,"medium"))}const Yt=zt.filter(sn=>sn.class==="person"&&sn.score>.35);Yt.length>1&&G.current?.("phone_detected",`Multiple people detected (${Yt.length} persons)`,"high")}catch(zt){console.warn("Detection error:",zt.message)}}catch(zt){console.error(zt)}},500),()=>{Z.current&&(clearInterval(Z.current),Z.current=null),ot.pause(),ot.srcObject=null}},[y,i,u,Q]),C.useEffect(()=>()=>{ee.current&&clearTimeout(ee.current),Z.current&&clearInterval(Z.current)},[]);const xe=async()=>{try{s(!0);const{data:_e}=await rt.get(`${ok}/api/skill-tests/student/available`,{params:{studentId:t?.id||t?.email||"student"}});n(_e)}catch(_e){h(_e.response?.data?.error||_e.message)}finally{s(!1)}},Be=_e=>{const At=e.find(ot=>ot.id===_e);if(At&&At.proctoring_enabled===!1){Ue(_e);return}N(_e),F(null),k(!0),w("")},me=_e=>{let At=!0;for(const ot of e)if(ot.my_attempts?.find(kt=>kt.id===_e)){ot.proctoring_enabled===!1&&(At=!1);break}if(!At){at(_e);return}F(_e),N(null),k(!0),w("")},ve=async()=>{try{const _e=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:"user"},audio:!1});return x(_e),w(""),T.current&&(T.current.srcObject=_e),!0}catch{return w("Camera access denied. Please allow camera access and try again."),!1}},Ee=async()=>{try{return D.current&&!document.fullscreenElement&&await D.current.requestFullscreen(),g(!0),!0}catch{return!1}},ye=async()=>{await Ee(),k(!1),E?await Ue(E):O&&await at(O),N(null),F(null)},Ue=async _e=>{try{h("");const{data:At}=await rt.post(`${ok}/api/skill-tests/${_e}/start`,{studentId:t?.id||t?.email||"student",studentName:t?.name||t?.username||"Student"});a(At.attemptId),await ie(At.attemptId)}catch(At){h(At.response?.data?.error||At.message)}},at=async _e=>{try{h(""),a(_e),await ie(_e)}catch(At){h(At.response?.data?.error||At.message)}},ie=async _e=>{try{const{data:At}=await rt.get(`${ok}/api/skill-tests/attempt/${_e}`);c(At),At.overall_status==="completed"||At.overall_status==="failed"?d("report"):d(At.current_stage||"mcq")}catch(At){h(At.message)}},Le=async _e=>{a(_e),await ie(_e),d("report")},tt=async(_e,At)=>{await ie(i),setTimeout(()=>{document.fullscreenElement||(D.current||document.documentElement).requestFullscreen().catch(()=>{console.warn("Could not re-enter fullscreen after stage change")})},200)},It=()=>{document.fullscreenElement&&document.exitFullscreen().catch(()=>{}),y&&(y.getTracks().forEach(_e=>_e.stop()),x(null)),a(null),c(null),d("list"),xe()};if(B)return l.jsx("div",{ref:D,style:{minHeight:"100vh",background:"#0f172a",color:"#f1f5f9",display:"flex",alignItems:"center",justifyContent:"center",padding:"40px"},children:l.jsxs("div",{style:{maxWidth:"500px",width:"100%",background:"#1e293b",borderRadius:"20px",padding:"40px",border:"1px solid #334155",textAlign:"center"},children:[l.jsx("div",{style:{width:"64px",height:"64px",borderRadius:"16px",margin:"0 auto 20px",background:"rgba(139,92,246,0.15)",display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx(Ui,{size:32,color:"#8b5cf6"})}),l.jsx("h2",{style:{fontSize:"22px",fontWeight:800,margin:"0 0 8px",color:"#f1f5f9"},children:"Proctoring Setup"}),l.jsx("p",{style:{fontSize:"14px",color:"#94a3b8",margin:"0 0 28px"},children:"This test requires camera access and fullscreen mode for proctoring."}),l.jsx("div",{style:{width:"240px",height:"180px",margin:"0 auto 20px",borderRadius:"12px",overflow:"hidden",border:"2px solid "+(y?"#22c55e":"#475569"),background:"#0f172a",display:"flex",alignItems:"center",justifyContent:"center"},children:y?l.jsx("video",{ref:T,autoPlay:!0,muted:!0,playsInline:!0,style:{width:"100%",height:"100%",objectFit:"cover",transform:"scaleX(-1)"}}):l.jsx(Vk,{size:40,color:"#475569"})}),v&&l.jsx("div",{style:{fontSize:"12px",color:"#fca5a5",margin:"0 0 16px",padding:"8px 12px",background:"rgba(239,68,68,0.1)",borderRadius:"8px"},children:v}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px",marginBottom:"24px"},children:[l.jsx("button",{onClick:ve,style:{padding:"12px 24px",borderRadius:"10px",cursor:"pointer",fontWeight:700,fontSize:"14px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",width:"100%",background:y?"rgba(16,185,129,0.15)":"rgba(59,130,246,0.15)",color:y?"#34d399":"#60a5fa",border:"1px solid "+(y?"rgba(16,185,129,0.3)":"rgba(59,130,246,0.3)")},children:y?l.jsxs(l.Fragment,{children:[l.jsx($n,{size:16})," Camera Enabled"]}):l.jsxs(l.Fragment,{children:[l.jsx(Vk,{size:16})," Enable Camera"]})}),l.jsxs("div",{style:{textAlign:"left",fontSize:"13px",padding:"12px 16px",background:"#0f172a",borderRadius:"10px"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px",color:y?"#34d399":"#94a3b8"},children:[y?l.jsx($n,{size:14}):l.jsx(Jr,{size:14})," Camera access"]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px",color:"#94a3b8"},children:[l.jsx(Rv,{size:14})," Fullscreen will activate on start"]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",color:"#94a3b8"},children:[l.jsx(N0e,{size:14})," Tab switches are monitored"]})]})]}),l.jsxs("div",{style:{display:"flex",gap:"10px"},children:[l.jsx("button",{onClick:()=>{k(!1),N(null),F(null)},style:{flex:1,padding:"12px",background:"#334155",color:"#94a3b8",border:"none",borderRadius:"10px",cursor:"pointer",fontWeight:600,fontSize:"14px"},children:"Cancel"}),l.jsxs("button",{onClick:ye,disabled:!y,style:{flex:2,padding:"12px",background:y?"linear-gradient(135deg, #8b5cf6, #7c3aed)":"#334155",color:y?"white":"#64748b",border:"none",borderRadius:"10px",cursor:y?"pointer":"not-allowed",fontWeight:700,fontSize:"14px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",boxShadow:y?"0 2px 10px rgba(139,92,246,0.3)":"none"},children:[l.jsx(ef,{size:16})," Start Assessment"]})]})]})});if(i&&o){const _e=["mcq","coding","sql","interview"],At=_e.indexOf(o.current_stage);return u==="report"?l.jsx(afe,{attemptId:i,onBack:It}):l.jsxs("div",{ref:D,style:{minHeight:"100vh",background:"#0f172a",color:"#f1f5f9",display:"flex",overflow:"hidden"},children:[l.jsx("style",{children:"@keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0.3; } }"}),y&&l.jsxs("div",{style:{width:"260px",minWidth:"260px",background:"#0b1120",borderRight:"1px solid #1e293b",display:"flex",flexDirection:"column",padding:"12px",gap:"10px",height:"100vh",position:"sticky",top:0},children:[l.jsxs("div",{style:{width:"100%",aspectRatio:"3/4",borderRadius:"12px",overflow:"hidden",border:"2px solid #8b5cf6",boxShadow:"0 4px 20px rgba(139,92,246,0.2)",background:"#000",position:"relative"},children:[l.jsx("video",{ref:ot=>{ot&&y&&(ot.srcObject=y)},autoPlay:!0,muted:!0,playsInline:!0,style:{width:"100%",height:"100%",objectFit:"cover",transform:"scaleX(-1)"}}),l.jsxs("div",{style:{position:"absolute",top:"6px",left:"6px",background:"rgba(239,68,68,0.9)",borderRadius:"4px",padding:"2px 8px",fontSize:"10px",color:"white",fontWeight:700,display:"flex",alignItems:"center",gap:"4px"},children:[l.jsx("div",{style:{width:"6px",height:"6px",borderRadius:"50%",background:"white",animation:"blink 1s infinite"}}),"REC"]})]}),l.jsxs("div",{style:{background:"#1e293b",borderRadius:"10px",padding:"10px",border:"1px solid #334155"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",fontSize:"11px",fontWeight:700,color:"#94a3b8",marginBottom:"8px"},children:[l.jsx(Ui,{size:13,color:"#8b5cf6"})," Proctoring"]}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"5px"},children:[l.jsxs("div",{style:{padding:"4px 8px",borderRadius:"6px",fontSize:"10px",fontWeight:600,background:ne?"rgba(34,197,94,0.1)":"rgba(234,179,8,0.1)",color:ne?"#22c55e":"#eab308",border:`1px solid ${ne?"rgba(34,197,94,0.2)":"rgba(234,179,8,0.2)"}`,display:"flex",alignItems:"center",gap:"5px"},children:[l.jsx("div",{style:{width:"5px",height:"5px",borderRadius:"50%",background:ne?"#22c55e":"#eab308",boxShadow:`0 0 6px ${ne?"#22c55e":"#eab308"}`,animation:ne?"none":"blink 1s infinite"}}),ne?" AI Active":" AI Loading..."]}),l.jsxs("div",{style:{padding:"4px 8px",borderRadius:"6px",fontSize:"10px",fontWeight:600,background:"rgba(16,185,129,0.1)",color:"#10b981",border:"1px solid rgba(16,185,129,0.2)",display:"flex",alignItems:"center",gap:"5px"},children:[l.jsx(Vk,{size:10})," Camera ON"]})]})]}),l.jsxs("div",{style:{background:"#1e293b",borderRadius:"10px",padding:"10px",border:"1px solid #334155"},children:[l.jsx("div",{style:{fontSize:"10px",fontWeight:700,color:"#64748b",marginBottom:"8px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Monitoring"}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"3px 0"},children:[l.jsxs("span",{style:{fontSize:"11px",color:"#94a3b8",display:"flex",alignItems:"center",gap:"4px"},children:[l.jsx(eQ,{size:10})," Tab Switches"]}),l.jsx("span",{style:{fontSize:"12px",fontWeight:700,color:j.tabSwitchCount>0?"#fbbf24":"#64748b"},children:j.tabSwitchCount})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"3px 0"},children:[l.jsxs("span",{style:{fontSize:"11px",color:"#94a3b8",display:"flex",alignItems:"center",gap:"4px"},children:[l.jsx(V6,{size:10})," Phone"]}),l.jsx("span",{style:{fontSize:"12px",fontWeight:700,color:j.phoneDetections>0?"#fbbf24":"#64748b"},children:j.phoneDetections})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"3px 0"},children:[l.jsxs("span",{style:{fontSize:"11px",color:"#94a3b8",display:"flex",alignItems:"center",gap:"4px"},children:[l.jsx(Rv,{size:10})," FS Exits"]}),l.jsx("span",{style:{fontSize:"12px",fontWeight:700,color:j.fullscreenExits>0?"#fbbf24":"#64748b"},children:j.fullscreenExits})]}),j.violationCount>0&&l.jsxs("div",{style:{marginTop:"4px",padding:"4px 8px",borderRadius:"6px",fontSize:"10px",fontWeight:700,background:"rgba(239,68,68,0.1)",color:"#fca5a5",border:"1px solid rgba(239,68,68,0.2)",display:"flex",alignItems:"center",gap:"4px",justifyContent:"center"},children:[l.jsx(Qn,{size:10})," ",j.violationCount," Violations"]})]})]})]}),l.jsx("div",{style:{flex:1,overflow:"auto",height:"100vh"},children:l.jsxs("div",{style:{padding:"12px 20px",paddingBottom:"80px"},children:[l.jsxs("div",{style:{marginBottom:"12px"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[l.jsx("h2",{style:{margin:0,fontSize:"18px",fontWeight:700,color:"#f1f5f9"},children:o.test_title||o.title||"Skill Test"}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[!m&&l.jsxs("button",{onClick:Ee,style:{padding:"6px 12px",background:"rgba(245,158,11,0.15)",border:"1px solid rgba(245,158,11,0.3)",borderRadius:"8px",cursor:"pointer",fontSize:"11px",color:"#fbbf24",fontWeight:600,display:"flex",alignItems:"center",gap:"4px"},children:[l.jsx(Rv,{size:13})," Re-enter Fullscreen"]}),l.jsx("button",{onClick:It,style:{padding:"6px 14px",background:"#334155",border:"1px solid #475569",borderRadius:"8px",cursor:"pointer",fontSize:"12px",color:"#94a3b8"},children:" Exit Test"})]})]}),l.jsx("div",{style:{display:"flex",gap:"4px",marginBottom:"8px"},children:_e.map((ot,$t)=>{const kt=o[`${ot}_status`]||(ot==="interview"?o.interview_status:"pending");let Ht="#334155";return kt==="completed"||kt==="passed"?Ht="#22c55e":kt==="failed"?Ht="#ef4444":kt==="in_progress"?Ht="#f59e0b":$t===At&&(Ht="#3b82f6"),l.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",gap:"3px"},children:[l.jsx("div",{style:{width:"100%",height:"5px",borderRadius:"3px",background:Ht}}),l.jsx("span",{style:{fontSize:"10px",fontWeight:600,textTransform:"uppercase",color:$t===At?"#60a5fa":"#64748b"},children:ot==="mcq"?"MCQ":ot.charAt(0).toUpperCase()+ot.slice(1)})]},ot)})}),o.proctoring_enabled!==!1&&!y&&l.jsxs("div",{style:{display:"flex",gap:"10px",padding:"8px 14px",background:"#1e293b",borderRadius:"8px",border:"1px solid #334155",flexWrap:"wrap",alignItems:"center"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",fontSize:"11px",fontWeight:600},children:[l.jsx(Ui,{size:13,color:"#8b5cf6"}),l.jsx("span",{style:{color:"#94a3b8"},children:"Proctoring:"})]}),l.jsxs("div",{style:{display:"flex",gap:"6px",marginLeft:"auto"},children:[l.jsxs("div",{style:{fontSize:"10px",color:"#64748b",display:"flex",alignItems:"center",gap:"3px",background:"#0f172a",padding:"3px 7px",borderRadius:"6px",border:"1px solid #334155"},children:[l.jsx(eQ,{size:9})," Tabs: ",l.jsx("span",{style:{color:j.tabSwitchCount>0?"#fbbf24":"#94a3b8"},children:j.tabSwitchCount})]}),l.jsxs("div",{style:{fontSize:"10px",color:"#64748b",display:"flex",alignItems:"center",gap:"3px",background:"#0f172a",padding:"3px 7px",borderRadius:"6px",border:"1px solid #334155"},children:[l.jsx(V6,{size:9})," Phone: ",l.jsx("span",{style:{color:j.phoneDetections>0?"#fbbf24":"#94a3b8"},children:j.phoneDetections})]}),l.jsxs("div",{style:{fontSize:"10px",color:"#64748b",display:"flex",alignItems:"center",gap:"3px",background:"#0f172a",padding:"3px 7px",borderRadius:"6px",border:"1px solid #334155"},children:[l.jsx(Rv,{size:9})," FS: ",l.jsx("span",{style:{color:j.fullscreenExits>0?"#fbbf24":"#94a3b8"},children:j.fullscreenExits})]})]})]})]}),u==="mcq"&&l.jsx(iVe,{attemptId:i,attemptData:o,onComplete:ot=>tt(),onFailed:()=>{ie(i),d("report")}}),u==="coding"&&l.jsx(aVe,{attemptId:i,attemptData:o,onComplete:ot=>tt(),onFailed:()=>{ie(i),d("report")}}),u==="sql"&&l.jsx(oVe,{attemptId:i,attemptData:o,onComplete:ot=>tt(),onFailed:()=>{ie(i),d("report")}}),u==="interview"&&l.jsx(lVe,{attemptId:i,attemptData:o,onComplete:ot=>tt(),onFailed:()=>{ie(i),d("report")}})]})}),U&&l.jsxs("div",{style:{position:"fixed",top:"24px",left:"50%",transform:"translateX(-50%)",zIndex:1e4,minWidth:"320px",maxWidth:"400px",background:U.severity==="high"?"#ef4444":"#f59e0b",color:"white",padding:"20px",borderRadius:"16px",boxShadow:"0 10px 30px rgba(0,0,0,0.5)",animation:"slideIn 0.3s ease-out",display:"flex",gap:"16px",alignItems:"flex-start"},children:[l.jsx("style",{children:`
                            @keyframes slideIn { from { transform: translate(-50%, -40px); opacity: 0; } to { transform: translate(-50%, 0); opacity: 1; } }
                        `}),l.jsx(Qn,{size:24,style:{marginTop:"2px"}}),l.jsxs("div",{children:[l.jsx("div",{style:{fontWeight:800,fontSize:"18px",marginBottom:"4px"},children:U.title}),l.jsx("div",{style:{fontSize:"14px",opacity:.9,lineHeight:"1.4"},children:U.message})]})]})]})}return l.jsxs("div",{style:{padding:"24px",maxWidth:"1000px",margin:"0 auto"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"24px"},children:[l.jsx("div",{style:{width:"42px",height:"42px",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #8b5cf6, #6d28d9)"},children:l.jsx(Zr,{size:22,color:"white"})}),l.jsx("h2",{style:{margin:0,fontSize:"24px",fontWeight:800,color:"#f1f5f9"},children:"Skill Assessments"})]}),f&&l.jsxs("div",{style:{background:"rgba(239,68,68,0.1)",border:"1px solid rgba(239,68,68,0.3)",borderRadius:"8px",padding:"12px",marginBottom:"16px",color:"#fca5a5",fontSize:"13px"},children:[l.jsx(Qn,{size:16,style:{verticalAlign:"middle",marginRight:"6px"}}),f]}),r?l.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#94a3b8"},children:"Loading available tests..."}):e.length===0?l.jsxs("div",{style:{textAlign:"center",padding:"60px",color:"#94a3b8"},children:[l.jsx(Zr,{size:48,style:{marginBottom:"12px",opacity:.5}}),l.jsx("p",{style:{fontSize:"16px",color:"#e2e8f0"},children:"No skill tests available yet"}),l.jsx("p",{style:{fontSize:"13px"},children:"Tests will appear here when your admin creates them"})]}):l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:e.map(_e=>{_e.my_attempts?.[0];const At=_e.my_attempts?.some(kt=>kt.overall_status==="completed"),ot=_e.my_attempts?.some(kt=>kt.overall_status==="in_progress"),$t=_e.my_attempts?.find(kt=>kt.overall_status==="in_progress");return l.jsx("div",{style:{background:"#1e293b",border:"1px solid #334155",borderRadius:"12px",padding:"20px",boxShadow:"0 2px 8px rgba(0,0,0,0.2)",transition:"box-shadow 0.2s"},children:l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[l.jsxs("div",{style:{flex:1},children:[l.jsx("h3",{style:{margin:"0 0 6px",fontSize:"17px",fontWeight:700,color:"#f1f5f9"},children:_e.title}),_e.description&&l.jsx("p",{style:{margin:"0 0 10px",color:"#94a3b8",fontSize:"13px"},children:_e.description}),l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"4px",marginBottom:"10px"},children:(_e.skills&&Array.isArray(_e.skills)?_e.skills:[]).map(kt=>l.jsx("span",{style:{padding:"2px 8px",background:"rgba(139,92,246,0.15)",color:"#a78bfa",borderRadius:"12px",fontSize:"11px",border:"1px solid rgba(139,92,246,0.25)"},children:kt},kt))}),l.jsxs("div",{style:{display:"flex",gap:"16px",fontSize:"12px",color:"#94a3b8",flexWrap:"wrap"},children:[l.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[l.jsx(kr,{size:13})," MCQ: ",_e.mcq_count," | Coding: ",_e.coding_count," | SQL: ",_e.sql_count," | Interview: ",_e.interview_count]}),l.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[l.jsx(vs,{size:13})," ",_e.mcq_duration_minutes,"min MCQ"]}),l.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[l.jsx(QJ,{size:13})," ",_e.attempts_used||0,"/",_e.attempt_limit," attempts"]})]}),_e.my_attempts&&_e.my_attempts.length>0&&l.jsxs("div",{style:{marginTop:"10px",padding:"8px 12px",background:"#0f172a",borderRadius:"8px"},children:[l.jsx("span",{style:{fontSize:"12px",fontWeight:600,color:"#e2e8f0"},children:"Previous Attempts:"}),l.jsx("div",{style:{display:"flex",gap:"8px",marginTop:"4px",flexWrap:"wrap"},children:_e.my_attempts.map(kt=>l.jsxs("button",{onClick:()=>{kt.overall_status==="in_progress"?me(kt.id):Le(kt.id)},style:{padding:"4px 10px",borderRadius:"16px",fontSize:"11px",cursor:"pointer",border:"none",fontWeight:600,background:kt.overall_status==="completed"?"rgba(16,185,129,0.15)":kt.overall_status==="failed"?"rgba(239,68,68,0.15)":"rgba(245,158,11,0.15)",color:kt.overall_status==="completed"?"#34d399":kt.overall_status==="failed"?"#fca5a5":"#fbbf24"},children:["#",kt.attempt_number,": ",kt.overall_status==="in_progress"?`In Progress (${kt.current_stage})`:kt.overall_status,kt.overall_status!=="in_progress"&&` - MCQ: ${Math.round(kt.mcq_score)}%`]},kt.id))})]})]}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",marginLeft:"16px"},children:[ot&&l.jsxs("button",{onClick:()=>me($t.id),style:{padding:"10px 20px",background:"#f59e0b",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:700,fontSize:"13px",display:"flex",alignItems:"center",gap:"6px",whiteSpace:"nowrap"},children:[l.jsx(ef,{size:16})," Resume"]}),_e.can_attempt&&l.jsxs("button",{onClick:()=>Be(_e.id),style:{padding:"10px 20px",background:"#8b5cf6",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:700,fontSize:"13px",display:"flex",alignItems:"center",gap:"6px",whiteSpace:"nowrap"},children:[l.jsx(Sg,{size:16})," ",_e.attempts_used>0?"Retry":"Start Test"]}),!_e.can_attempt&&!ot&&l.jsx("span",{style:{fontSize:"12px",color:"#9ca3af",fontStyle:"italic"},children:At?" Completed":"No attempts left"})]})]})},_e.id)})})]})}const vv="http://localhost:8000";function ofe({user:t,isAdmin:e=!1}){const[n,r]=C.useState([]),[s,i]=C.useState(!0),[a,o]=C.useState(""),[c,u]=C.useState(null),[d,f]=C.useState("all"),[h,m]=C.useState({}),[g,y]=C.useState(!1),[x,v]=C.useState(!1);C.useEffect(()=>{w()},[]);const w=async()=>{try{i(!0);const F=e?`${vv}/api/skill-tests/admin/all-submissions`:`${vv}/api/skill-tests/student/submissions?studentId=${encodeURIComponent(t?.id||t?.userId||t?.email||"")}`,{data:D}=await rt.get(F);r(D)}catch(F){o(F.response?.data?.error||F.message)}finally{i(!1)}},B=async F=>{if(c===F){u(null);return}if(u(F),!h[F])try{y(!0);const{data:D}=await rt.get(`${vv}/api/skill-tests/report/${F}`);m(T=>({...T,[F]:D}))}catch(D){console.error("Failed to fetch report details",D)}finally{y(!1)}},k=async()=>{if(window.confirm(` Are you sure you want to DELETE ALL skill test submissions?

This will permanently remove all student attempts, reports, and proctoring logs.

This action CANNOT be undone!`))try{v(!0);const{data:F}=await rt.delete(`${vv}/api/skill-tests/admin/reset-all-submissions`);alert(` ${F.message}`),r([]),m({}),u(null)}catch(F){alert(" Reset failed: "+(F.response?.data?.error||F.message))}finally{v(!1)}},E=async(F,D)=>{if(F.stopPropagation(),!!window.confirm("Delete this submission? This action cannot be undone."))try{await rt.delete(`${vv}/api/skill-tests/admin/submission/${D}`),r(T=>T.filter(j=>j.id!==D)),c===D&&u(null),delete h[D]}catch(T){alert(" Delete failed: "+(T.response?.data?.error||T.message))}},N=d==="all"?n:d==="passed"?n.filter(F=>F.overall_status==="completed"):d==="failed"?n.filter(F=>F.overall_status==="failed"):n.filter(F=>F.overall_status==="in_progress"),O={total:n.length,passed:n.filter(F=>F.overall_status==="completed").length,failed:n.filter(F=>F.overall_status==="failed").length,inProgress:n.filter(F=>F.overall_status==="in_progress").length};return s?l.jsxs("div",{style:{textAlign:"center",padding:"60px",color:"#94a3b8"},children:[l.jsx(lh,{size:32,style:{animation:"spin 1s linear infinite"}}),l.jsx("style",{children:"@keyframes spin { to { transform: rotate(360deg); } }"}),l.jsx("p",{style:{marginTop:"12px",fontSize:"14px"},children:"Loading submissions..."})]}):l.jsxs("div",{style:{padding:"24px",maxWidth:"1200px",margin:"0 auto"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx("div",{style:{width:"42px",height:"42px",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #8b5cf6, #6d28d9)"},children:l.jsx(Oa,{size:22,color:"white"})}),l.jsxs("div",{children:[l.jsx("h2",{style:{margin:0,fontSize:"22px",fontWeight:800,color:"#f1f5f9"},children:e?"All Skill Test Submissions":"My Skill Test Submissions"}),l.jsx("p",{style:{margin:0,fontSize:"13px",color:"#9ca3af"},children:e?"View all student assessment results":"View your assessment results & reports"})]})]}),l.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[l.jsxs("div",{style:{padding:"8px 16px",borderRadius:"10px",background:"#1e293b",border:"1px solid #334155",textAlign:"center"},children:[l.jsx("div",{style:{fontSize:"11px",color:"#94a3b8",fontWeight:600},children:"PASSED"}),l.jsx("div",{style:{fontSize:"18px",fontWeight:800,color:"#22c55e"},children:O.passed})]}),l.jsxs("div",{style:{padding:"8px 16px",borderRadius:"10px",background:"#1e293b",border:"1px solid #334155",textAlign:"center"},children:[l.jsx("div",{style:{fontSize:"11px",color:"#94a3b8",fontWeight:600},children:"FAILED"}),l.jsx("div",{style:{fontSize:"18px",fontWeight:800,color:"#ef4444"},children:O.failed})]}),e&&n.length>0&&l.jsxs("button",{onClick:k,disabled:x,style:{padding:"10px 18px",borderRadius:"10px",border:"1px solid rgba(239,68,68,0.3)",background:"rgba(239,68,68,0.1)",color:"#f87171",cursor:x?"not-allowed":"pointer",fontSize:"13px",fontWeight:700,display:"flex",alignItems:"center",gap:"6px",transition:"all 0.2s",opacity:x?.5:1},onMouseEnter:F=>{F.target.style.background="rgba(239,68,68,0.2)"},onMouseLeave:F=>{F.target.style.background="rgba(239,68,68,0.1)"},children:[l.jsx(QJ,{size:15,style:x?{animation:"spin 1s linear infinite"}:{}}),x?"Resetting...":"Reset All"]})]})]}),l.jsx("div",{style:{display:"flex",gap:"8px",marginBottom:"24px",padding:"4px",background:"#1e293b",borderRadius:"12px",width:"fit-content",border:"1px solid #334155"},children:["all","passed","failed","in_progress"].map(F=>l.jsx("button",{onClick:()=>f(F),style:{padding:"8px 16px",borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"13px",fontWeight:600,textTransform:"capitalize",background:d===F?"#334155":"transparent",color:d===F?"white":"#94a3b8",transition:"all 0.2s"},children:F.replace("_"," ")},F))}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:N.length===0?l.jsxs("div",{style:{textAlign:"center",padding:"60px",color:"#64748b",background:"#1e293b",borderRadius:"16px",border:"1px solid #334155"},children:[l.jsx(Oa,{size:48,style:{opacity:.2,marginBottom:"16px"}}),l.jsx("p",{children:"No submissions found for this filter."})]}):N.map(F=>{const D=c===F.id,T=F.overall_status==="completed"?"#22c55e":F.overall_status==="failed"?"#ef4444":"#f59e0b",j=F.overall_status==="completed"?"rgba(34,197,94,0.1)":F.overall_status==="failed"?"rgba(239,68,68,0.1)":"rgba(245,158,11,0.1)";return l.jsxs("div",{style:{background:"#1e293b",border:`1px solid ${D?"#64748b":"#334155"}`,borderRadius:"16px",padding:"20px",transition:"all 0.2s",boxShadow:D?"0 4px 20px rgba(0,0,0,0.2)":"none"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer"},onClick:()=>B(F.id),children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[l.jsx("div",{style:{width:"50px",height:"50px",borderRadius:"50%",background:j,display:"flex",alignItems:"center",justifyContent:"center",border:`1px solid ${T}`},children:F.overall_status==="completed"?l.jsx($n,{size:24,color:T}):F.overall_status==="failed"?l.jsx(Jr,{size:24,color:T}):l.jsx(vs,{size:24,color:T})}),l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx("h3",{style:{margin:0,fontSize:"18px",fontWeight:700,color:"#f1f5f9"},children:F.title}),l.jsxs("span",{style:{fontSize:"11px",padding:"2px 8px",borderRadius:"10px",background:"#334155",color:"#94a3b8"},children:["#",F.attempt_number]})]}),l.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"6px",fontSize:"13px",color:"#94a3b8"},children:[l.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[l.jsx(d1,{size:13})," ",new Date(F.created_at).toLocaleDateString()]}),F.student_name&&e&&l.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px",color:"#e2e8f0",fontWeight:600},children:[l.jsx(Ga,{size:13})," ",F.student_name]})]})]})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"24px"},children:[l.jsxs("div",{style:{textAlign:"right"},children:[l.jsx("div",{style:{fontSize:"12px",color:"#94a3b8",marginBottom:"2px"},children:"Total Score"}),l.jsxs("div",{style:{fontSize:"20px",fontWeight:800,color:"#f1f5f9"},children:[Math.round((Number(F.mcq_score||0)+Number(F.coding_score||0)+Number(F.sql_score||0)+Number(F.interview_score||0)*10)/4),"%"]})]}),e&&l.jsx("div",{onClick:P=>E(P,F.id),style:{width:"32px",height:"32px",borderRadius:"8px",background:"rgba(239,68,68,0.1)",display:"flex",alignItems:"center",justifyContent:"center",color:"#f87171",cursor:"pointer",transition:"all 0.2s",border:"1px solid rgba(239,68,68,0.2)"},onMouseEnter:P=>{P.currentTarget.style.background="rgba(239,68,68,0.25)"},onMouseLeave:P=>{P.currentTarget.style.background="rgba(239,68,68,0.1)"},title:"Delete this submission",children:l.jsx(Nl,{size:15})}),l.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:"#334155",display:"flex",alignItems:"center",justifyContent:"center",color:"#94a3b8"},children:D?l.jsx(tm,{size:20}):l.jsx(gh,{size:20})})]})]}),D&&l.jsx("div",{style:{marginTop:"24px",paddingTop:"24px",borderTop:"1px solid #334155"},children:g&&!h[F.id]?l.jsxs("div",{style:{textAlign:"center",padding:"40px",color:"#94a3b8",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px"},children:[l.jsx(lh,{size:24,style:{animation:"spin 1s linear infinite"}})," Loading detailed report..."]}):l.jsx(afe,{attemptId:F.id,initialData:h[F.id],isEmbedded:!0})})]},F.id)})})]})}const CAt="modulepreload",kAt=function(t){return"/"+t},YK={},KR=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=a?.nonce||a?.getAttribute("nonce");s=c(n.map(u=>{if(u=kAt(u),u in YK)return;YK[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":CAt,d||(h.as="script"),h.crossOrigin="",h.href=u,o&&h.setAttribute("nonce",o),document.head.appendChild(h),d)return new Promise((m,g)=>{h.addEventListener("load",m),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})};function js(t){"@babel/helpers - typeof";return js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},js(t)}var lf=Uint8Array,uu=Uint16Array,lz=Int32Array,cz=new lf([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),uz=new lf([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),JK=new lf([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),lfe=function(t,e){for(var n=new uu(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var s=new lz(n[30]),r=1;r<30;++r)for(var i=n[r];i<n[r+1];++i)s[i]=i-n[r]<<5|r;return{b:n,r:s}},cfe=lfe(cz,2),BAt=cfe.b,r8=cfe.r;BAt[28]=258,r8[258]=28;var EAt=lfe(uz,0),ZK=EAt.r,s8=new uu(32768);for(var gi=0;gi<32768;++gi){var kp=(gi&43690)>>1|(gi&21845)<<1;kp=(kp&52428)>>2|(kp&13107)<<2,kp=(kp&61680)>>4|(kp&3855)<<4,s8[gi]=((kp&65280)>>8|(kp&255)<<8)>>1}var s2=(function(t,e,n){for(var r=t.length,s=0,i=new uu(e);s<r;++s)t[s]&&++i[t[s]-1];var a=new uu(e);for(s=1;s<e;++s)a[s]=a[s-1]+i[s-1]<<1;var o;if(n){o=new uu(1<<e);var c=15-e;for(s=0;s<r;++s)if(t[s])for(var u=s<<4|t[s],d=e-t[s],f=a[t[s]-1]++<<d,h=f|(1<<d)-1;f<=h;++f)o[s8[f]>>c]=u}else for(o=new uu(r),s=0;s<r;++s)t[s]&&(o[s]=s8[a[t[s]-1]++]>>15-t[s]);return o}),h0=new lf(288);for(var gi=0;gi<144;++gi)h0[gi]=8;for(var gi=144;gi<256;++gi)h0[gi]=9;for(var gi=256;gi<280;++gi)h0[gi]=7;for(var gi=280;gi<288;++gi)h0[gi]=8;var lE=new lf(32);for(var gi=0;gi<32;++gi)lE[gi]=5;var IAt=s2(h0,9,0),NAt=s2(lE,5,0),ufe=function(t){return(t+7)/8|0},jAt=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new lf(t.subarray(e,n))},KA=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},wv=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},XR=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var s=n.length,i=n.slice();if(!s)return{t:ffe,l:0};if(s==1){var a=new lf(n[0].s+1);return a[n[0].s]=1,{t:a,l:1}}n.sort(function(E,N){return E.f-N.f}),n.push({s:-1,f:25001});var o=n[0],c=n[1],u=0,d=1,f=2;for(n[0]={s:-1,f:o.f+c.f,l:o,r:c};d!=s-1;)o=n[n[u].f<n[f].f?u++:f++],c=n[u!=d&&n[u].f<n[f].f?u++:f++],n[d++]={s:-1,f:o.f+c.f,l:o,r:c};for(var h=i[0].s,r=1;r<s;++r)i[r].s>h&&(h=i[r].s);var m=new uu(h+1),g=i8(n[d-1],m,0);if(g>e){var r=0,y=0,x=g-e,v=1<<x;for(i.sort(function(N,O){return m[O.s]-m[N.s]||N.f-O.f});r<s;++r){var w=i[r].s;if(m[w]>e)y+=v-(1<<g-m[w]),m[w]=e;else break}for(y>>=x;y>0;){var B=i[r].s;m[B]<e?y-=1<<e-m[B]++-1:++r}for(;r>=0&&y;--r){var k=i[r].s;m[k]==e&&(--m[k],++y)}g=e}return{t:new lf(m),l:g}},i8=function(t,e,n){return t.s==-1?Math.max(i8(t.l,e,n+1),i8(t.r,e,n+1)):e[t.s]=n},eX=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new uu(++e),r=0,s=t[0],i=1,a=function(c){n[r++]=c},o=1;o<=e;++o)if(t[o]==s&&o!=e)++i;else{if(!s&&i>2){for(;i>138;i-=138)a(32754);i>2&&(a(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(a(s),--i;i>6;i-=6)a(8304);i>2&&(a(i-3<<5|8208),i=0)}for(;i--;)a(s);i=1,s=t[o]}return{c:n.subarray(0,r),n:e}},Sv=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},dfe=function(t,e,n){var r=n.length,s=ufe(e+2);t[s]=r&255,t[s+1]=r>>8,t[s+2]=t[s]^255,t[s+3]=t[s+1]^255;for(var i=0;i<r;++i)t[s+i+4]=n[i];return(s+4+r)*8},tX=function(t,e,n,r,s,i,a,o,c,u,d){KA(e,d++,n),++s[256];for(var f=XR(s,15),h=f.t,m=f.l,g=XR(i,15),y=g.t,x=g.l,v=eX(h),w=v.c,B=v.n,k=eX(y),E=k.c,N=k.n,O=new uu(19),F=0;F<w.length;++F)++O[w[F]&31];for(var F=0;F<E.length;++F)++O[E[F]&31];for(var D=XR(O,7),T=D.t,j=D.l,P=19;P>4&&!T[JK[P-1]];--P);var U=u+5<<3,z=Sv(s,h0)+Sv(i,lE)+a,ee=Sv(s,h)+Sv(i,y)+a+14+3*P+Sv(O,T)+2*O[16]+3*O[17]+7*O[18];if(c>=0&&U<=z&&U<=ee)return dfe(e,d,t.subarray(c,c+u));var q,Z,G,ne;if(KA(e,d,1+(ee<z)),d+=2,ee<z){q=s2(h,m,0),Z=h,G=s2(y,x,0),ne=y;var K=s2(T,j,0);KA(e,d,B-257),KA(e,d+5,N-1),KA(e,d+10,P-4),d+=14;for(var F=0;F<P;++F)KA(e,d+3*F,T[JK[F]]);d+=3*P;for(var H=[w,E],Q=0;Q<2;++Q)for(var X=H[Q],F=0;F<X.length;++F){var re=X[F]&31;KA(e,d,K[re]),d+=T[re],re>15&&(KA(e,d,X[F]>>5&127),d+=X[F]>>12)}}else q=IAt,Z=h0,G=NAt,ne=lE;for(var F=0;F<o;++F){var le=r[F];if(le>255){var re=le>>18&31;wv(e,d,q[re+257]),d+=Z[re+257],re>7&&(KA(e,d,le>>23&31),d+=cz[re]);var he=le&31;wv(e,d,G[he]),d+=ne[he],he>3&&(wv(e,d,le>>5&8191),d+=uz[he])}else wv(e,d,q[le]),d+=Z[le]}return wv(e,d,q[256]),d+Z[256]},TAt=new lz([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),ffe=new lf(0),_At=function(t,e,n,r,s,i){var a=i.z||t.length,o=new lf(r+a+5*(1+Math.ceil(a/7e3))+s),c=o.subarray(r,o.length-s),u=i.l,d=(i.r||0)&7;if(e){d&&(c[0]=i.r>>3);for(var f=TAt[e-1],h=f>>13,m=f&8191,g=(1<<n)-1,y=i.p||new uu(32768),x=i.h||new uu(g+1),v=Math.ceil(n/3),w=2*v,B=function(at){return(t[at]^t[at+1]<<v^t[at+2]<<w)&g},k=new lz(25e3),E=new uu(288),N=new uu(32),O=0,F=0,D=i.i||0,T=0,j=i.w||0,P=0;D+2<a;++D){var U=B(D),z=D&32767,ee=x[U];if(y[z]=ee,x[U]=z,j<=D){var q=a-D;if((O>7e3||T>24576)&&(q>423||!u)){d=tX(t,c,0,k,E,N,F,T,P,D-P,d),T=O=F=0,P=D;for(var Z=0;Z<286;++Z)E[Z]=0;for(var Z=0;Z<30;++Z)N[Z]=0}var G=2,ne=0,K=m,H=z-ee&32767;if(q>2&&U==B(D-H))for(var Q=Math.min(h,q)-1,X=Math.min(32767,D),re=Math.min(258,q);H<=X&&--K&&z!=ee;){if(t[D+G]==t[D+G-H]){for(var le=0;le<re&&t[D+le]==t[D+le-H];++le);if(le>G){if(G=le,ne=H,le>Q)break;for(var he=Math.min(H,le-2),xe=0,Z=0;Z<he;++Z){var Be=D-H+Z&32767,me=y[Be],ve=Be-me&32767;ve>xe&&(xe=ve,ee=Be)}}}z=ee,ee=y[z],H+=z-ee&32767}if(ne){k[T++]=268435456|r8[G]<<18|ZK[ne];var Ee=r8[G]&31,ye=ZK[ne]&31;F+=cz[Ee]+uz[ye],++E[257+Ee],++N[ye],j=D+G,++O}else k[T++]=t[D],++E[t[D]]}}for(D=Math.max(D,j);D<a;++D)k[T++]=t[D],++E[t[D]];d=tX(t,c,u,k,E,N,F,T,P,D-P,d),u||(i.r=d&7|c[d/8|0]<<3,d-=7,i.h=x,i.p=y,i.i=D,i.w=j)}else{for(var D=i.w||0;D<a+u;D+=65535){var Ue=D+65535;Ue>=a&&(c[d/8|0]=u,Ue=a),d=dfe(c,d+1,t.subarray(D,Ue))}i.i=a}return jAt(o,0,r+ufe(d)+s)},Afe=function(){var t=1,e=0;return{p:function(n){for(var r=t,s=e,i=n.length|0,a=0;a!=i;){for(var o=Math.min(a+2655,i);a<o;++a)s+=r+=n[a];r=(r&65535)+15*(r>>16),s=(s&65535)+15*(s>>16)}t=r,e=s},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},RAt=function(t,e,n,r,s){if(!s&&(s={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),a=new lf(i.length+t.length);a.set(i),a.set(t,i.length),t=a,s.w=i.length}return _At(t,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,s)},hfe=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},OAt=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var s=Afe();s.p(e.dictionary),hfe(t,2,s.d())}};function a8(t,e){e||(e={});var n=Afe();n.p(t);var r=RAt(t,e,e.dictionary?6:2,4);return OAt(r,e),hfe(r,r.length-4,n.d()),r}var FAt=typeof TextDecoder<"u"&&new TextDecoder,DAt=0;try{FAt.decode(ffe,{stream:!0}),DAt=1}catch{}function LAt(t){if(Array.isArray(t))return t}function $At(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,a,o=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw s}}return o}}function nX(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function PAt(t,e){if(t){if(typeof t=="string")return nX(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nX(t,e):void 0}}function UAt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rX(t,e){return LAt(t)||$At(t,e)||PAt(t,e)||UAt()}function sX(t,e="utf8"){return new TextDecoder(e).decode(t)}const zAt=new TextEncoder;function MAt(t){return zAt.encode(t)}const QAt=1024*8,HAt=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),YR={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class dz{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=QAt,n={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const s=n.offset?n.offset>>>0:0,i=e.byteLength-s;let a=s;(ArrayBuffer.isView(e)||e instanceof dz)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+s),e=e.buffer),r?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=e,this.length=i,this.byteLength=i,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,i),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,s=new Uint8Array(r);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=YR[n].BYTES_PER_ELEMENT*e,s=this.byteOffset+this.offset,i=this.buffer.slice(s,s+r);if(this.littleEndian===HAt&&n!=="uint8"&&n!=="int8"){const o=new Uint8Array(this.buffer.slice(s,s+r));o.reverse();const c=new YR[n](o.buffer);return this.offset+=r,c.reverse(),c}const a=new YR[n](i);return this.offset+=r,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return sX(this.readBytes(e))}decodeText(e=1,n="utf8"){return sX(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(MAt(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function gb(t){let e=t.length;for(;--e>=0;)t[e]=0}const WAt=3,VAt=258,pfe=29,qAt=256,GAt=qAt+1+pfe,mfe=30,KAt=512,XAt=new Array((GAt+2)*2);gb(XAt);const YAt=new Array(mfe*2);gb(YAt);const JAt=new Array(KAt);gb(JAt);const ZAt=new Array(VAt-WAt+1);gb(ZAt);const eht=new Array(pfe);gb(eht);const tht=new Array(mfe);gb(tht);const nht=(t,e,n,r)=>{let s=t&65535|0,i=t>>>16&65535|0,a=0;for(;n!==0;){a=n>2e3?2e3:n,n-=a;do s=s+e[r++]|0,i=i+s|0;while(--a);s%=65521,i%=65521}return s|i<<16|0};var o8=nht;const rht=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},sht=new Uint32Array(rht()),iht=(t,e,n,r)=>{const s=sht,i=r+n;t^=-1;for(let a=r;a<i;a++)t=t>>>8^s[(t^e[a])&255];return t^-1};var Lf=iht,l8={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},gfe={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const aht=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var oht=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)aht(n,r)&&(t[r]=n[r])}}return t},lht=t=>{let e=0;for(let r=0,s=t.length;r<s;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,s=0,i=t.length;r<i;r++){let a=t[r];n.set(a,s),s+=a.length}return n},yfe={assign:oht,flattenChunks:lht};let xfe=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{xfe=!1}const ew=new Uint8Array(256);for(let t=0;t<256;t++)ew[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;ew[254]=ew[254]=1;var cht=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,s,i,a=t.length,o=0;for(s=0;s<a;s++)n=t.charCodeAt(s),(n&64512)===55296&&s+1<a&&(r=t.charCodeAt(s+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),s++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(o),i=0,s=0;i<o;s++)n=t.charCodeAt(s),(n&64512)===55296&&s+1<a&&(r=t.charCodeAt(s+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),s++)),n<128?e[i++]=n:n<2048?(e[i++]=192|n>>>6,e[i++]=128|n&63):n<65536?(e[i++]=224|n>>>12,e[i++]=128|n>>>6&63,e[i++]=128|n&63):(e[i++]=240|n>>>18,e[i++]=128|n>>>12&63,e[i++]=128|n>>>6&63,e[i++]=128|n&63);return e};const uht=(t,e)=>{if(e<65534&&t.subarray&&xfe)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var dht=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,s;const i=new Array(n*2);for(s=0,r=0;r<n;){let a=t[r++];if(a<128){i[s++]=a;continue}let o=ew[a];if(o>4){i[s++]=65533,r+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&r<n;)a=a<<6|t[r++]&63,o--;if(o>1){i[s++]=65533;continue}a<65536?i[s++]=a:(a-=65536,i[s++]=55296|a>>10&1023,i[s++]=56320|a&1023)}return uht(i,s)},fht=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+ew[t[n]]>e?n:e},c8={string2buf:cht,buf2string:dht,utf8border:fht};function Aht(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var hht=Aht;const lk=16209,pht=16191;var mht=function(e,n){let r,s,i,a,o,c,u,d,f,h,m,g,y,x,v,w,B,k,E,N,O,F,D,T;const j=e.state;r=e.next_in,D=e.input,s=r+(e.avail_in-5),i=e.next_out,T=e.output,a=i-(n-e.avail_out),o=i+(e.avail_out-257),c=j.dmax,u=j.wsize,d=j.whave,f=j.wnext,h=j.window,m=j.hold,g=j.bits,y=j.lencode,x=j.distcode,v=(1<<j.lenbits)-1,w=(1<<j.distbits)-1;e:do{g<15&&(m+=D[r++]<<g,g+=8,m+=D[r++]<<g,g+=8),B=y[m&v];t:for(;;){if(k=B>>>24,m>>>=k,g-=k,k=B>>>16&255,k===0)T[i++]=B&65535;else if(k&16){E=B&65535,k&=15,k&&(g<k&&(m+=D[r++]<<g,g+=8),E+=m&(1<<k)-1,m>>>=k,g-=k),g<15&&(m+=D[r++]<<g,g+=8,m+=D[r++]<<g,g+=8),B=x[m&w];n:for(;;){if(k=B>>>24,m>>>=k,g-=k,k=B>>>16&255,k&16){if(N=B&65535,k&=15,g<k&&(m+=D[r++]<<g,g+=8,g<k&&(m+=D[r++]<<g,g+=8)),N+=m&(1<<k)-1,N>c){e.msg="invalid distance too far back",j.mode=lk;break e}if(m>>>=k,g-=k,k=i-a,N>k){if(k=N-k,k>d&&j.sane){e.msg="invalid distance too far back",j.mode=lk;break e}if(O=0,F=h,f===0){if(O+=u-k,k<E){E-=k;do T[i++]=h[O++];while(--k);O=i-N,F=T}}else if(f<k){if(O+=u+f-k,k-=f,k<E){E-=k;do T[i++]=h[O++];while(--k);if(O=0,f<E){k=f,E-=k;do T[i++]=h[O++];while(--k);O=i-N,F=T}}}else if(O+=f-k,k<E){E-=k;do T[i++]=h[O++];while(--k);O=i-N,F=T}for(;E>2;)T[i++]=F[O++],T[i++]=F[O++],T[i++]=F[O++],E-=3;E&&(T[i++]=F[O++],E>1&&(T[i++]=F[O++]))}else{O=i-N;do T[i++]=T[O++],T[i++]=T[O++],T[i++]=T[O++],E-=3;while(E>2);E&&(T[i++]=T[O++],E>1&&(T[i++]=T[O++]))}}else if((k&64)===0){B=x[(B&65535)+(m&(1<<k)-1)];continue n}else{e.msg="invalid distance code",j.mode=lk;break e}break}}else if((k&64)===0){B=y[(B&65535)+(m&(1<<k)-1)];continue t}else if(k&32){j.mode=pht;break e}else{e.msg="invalid literal/length code",j.mode=lk;break e}break}}while(r<s&&i<o);E=g>>3,r-=E,g-=E<<3,m&=(1<<g)-1,e.next_in=r,e.next_out=i,e.avail_in=r<s?5+(s-r):5-(r-s),e.avail_out=i<o?257+(o-i):257-(i-o),j.hold=m,j.bits=g};const Cy=15,iX=852,aX=592,oX=0,JR=1,lX=2,ght=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),yht=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),xht=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),bht=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),vht=(t,e,n,r,s,i,a,o)=>{const c=o.bits;let u=0,d=0,f=0,h=0,m=0,g=0,y=0,x=0,v=0,w=0,B,k,E,N,O,F=null,D;const T=new Uint16Array(Cy+1),j=new Uint16Array(Cy+1);let P=null,U,z,ee;for(u=0;u<=Cy;u++)T[u]=0;for(d=0;d<r;d++)T[e[n+d]]++;for(m=c,h=Cy;h>=1&&T[h]===0;h--);if(m>h&&(m=h),h===0)return s[i++]=1<<24|64<<16|0,s[i++]=1<<24|64<<16|0,o.bits=1,0;for(f=1;f<h&&T[f]===0;f++);for(m<f&&(m=f),x=1,u=1;u<=Cy;u++)if(x<<=1,x-=T[u],x<0)return-1;if(x>0&&(t===oX||h!==1))return-1;for(j[1]=0,u=1;u<Cy;u++)j[u+1]=j[u]+T[u];for(d=0;d<r;d++)e[n+d]!==0&&(a[j[e[n+d]]++]=d);if(t===oX?(F=P=a,D=20):t===JR?(F=ght,P=yht,D=257):(F=xht,P=bht,D=0),w=0,d=0,u=f,O=i,g=m,y=0,E=-1,v=1<<m,N=v-1,t===JR&&v>iX||t===lX&&v>aX)return 1;for(;;){U=u-y,a[d]+1<D?(z=0,ee=a[d]):a[d]>=D?(z=P[a[d]-D],ee=F[a[d]-D]):(z=96,ee=0),B=1<<u-y,k=1<<g,f=k;do k-=B,s[O+(w>>y)+k]=U<<24|z<<16|ee|0;while(k!==0);for(B=1<<u-1;w&B;)B>>=1;if(B!==0?(w&=B-1,w+=B):w=0,d++,--T[u]===0){if(u===h)break;u=e[n+a[d]]}if(u>m&&(w&N)!==E){for(y===0&&(y=m),O+=f,g=u-y,x=1<<g;g+y<h&&(x-=T[g+y],!(x<=0));)g++,x<<=1;if(v+=1<<g,t===JR&&v>iX||t===lX&&v>aX)return 1;E=w&N,s[E]=m<<24|g<<16|O-i|0}}return w!==0&&(s[O+w]=u-y<<24|64<<16|0),o.bits=m,0};var i2=vht;const wht=0,bfe=1,vfe=2,{Z_FINISH:cX,Z_BLOCK:Sht,Z_TREES:ck,Z_OK:p0,Z_STREAM_END:Cht,Z_NEED_DICT:kht,Z_STREAM_ERROR:ad,Z_DATA_ERROR:wfe,Z_MEM_ERROR:Sfe,Z_BUF_ERROR:Bht,Z_DEFLATED:uX}=gfe,J3=16180,dX=16181,fX=16182,AX=16183,hX=16184,pX=16185,mX=16186,gX=16187,yX=16188,xX=16189,cE=16190,XA=16191,ZR=16192,bX=16193,e6=16194,vX=16195,wX=16196,SX=16197,CX=16198,uk=16199,dk=16200,kX=16201,BX=16202,EX=16203,IX=16204,NX=16205,t6=16206,jX=16207,TX=16208,Oi=16209,Cfe=16210,kfe=16211,Eht=852,Iht=592,Nht=15,jht=Nht,_X=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function Tht(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const D0=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<J3||e.mode>kfe?1:0},Bfe=t=>{if(D0(t))return ad;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=J3,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Eht),e.distcode=e.distdyn=new Int32Array(Iht),e.sane=1,e.back=-1,p0},Efe=t=>{if(D0(t))return ad;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Bfe(t)},Ife=(t,e)=>{let n;if(D0(t))return ad;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?ad:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,Efe(t))},Nfe=(t,e)=>{if(!t)return ad;const n=new Tht;t.state=n,n.strm=t,n.window=null,n.mode=J3;const r=Ife(t,e);return r!==p0&&(t.state=null),r},_ht=t=>Nfe(t,jht);let RX=!0,n6,r6;const Rht=t=>{if(RX){n6=new Int32Array(512),r6=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(i2(bfe,t.lens,0,288,n6,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;i2(vfe,t.lens,0,32,r6,0,t.work,{bits:5}),RX=!1}t.lencode=n6,t.lenbits=9,t.distcode=r6,t.distbits=5},jfe=(t,e,n,r)=>{let s;const i=t.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(e.subarray(n-i.wsize,n),0),i.wnext=0,i.whave=i.wsize):(s=i.wsize-i.wnext,s>r&&(s=r),i.window.set(e.subarray(n-r,n-r+s),i.wnext),r-=s,r?(i.window.set(e.subarray(n-r,n),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=s,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=s))),0},Oht=(t,e)=>{let n,r,s,i,a,o,c,u,d,f,h,m,g,y,x=0,v,w,B,k,E,N,O,F;const D=new Uint8Array(4);let T,j;const P=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(D0(t)||!t.output||!t.input&&t.avail_in!==0)return ad;n=t.state,n.mode===XA&&(n.mode=ZR),a=t.next_out,s=t.output,c=t.avail_out,i=t.next_in,r=t.input,o=t.avail_in,u=n.hold,d=n.bits,f=o,h=c,F=p0;e:for(;;)switch(n.mode){case J3:if(n.wrap===0){n.mode=ZR;break}for(;d<16;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,D[0]=u&255,D[1]=u>>>8&255,n.check=Lf(n.check,D,2,0),u=0,d=0,n.mode=dX;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",n.mode=Oi;break}if((u&15)!==uX){t.msg="unknown compression method",n.mode=Oi;break}if(u>>>=4,d-=4,O=(u&15)+8,n.wbits===0&&(n.wbits=O),O>15||O>n.wbits){t.msg="invalid window size",n.mode=Oi;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=u&512?xX:XA,u=0,d=0;break;case dX:for(;d<16;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if(n.flags=u,(n.flags&255)!==uX){t.msg="unknown compression method",n.mode=Oi;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=Oi;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(D[0]=u&255,D[1]=u>>>8&255,n.check=Lf(n.check,D,2,0)),u=0,d=0,n.mode=fX;case fX:for(;d<32;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(D[0]=u&255,D[1]=u>>>8&255,D[2]=u>>>16&255,D[3]=u>>>24&255,n.check=Lf(n.check,D,4,0)),u=0,d=0,n.mode=AX;case AX:for(;d<16;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(D[0]=u&255,D[1]=u>>>8&255,n.check=Lf(n.check,D,2,0)),u=0,d=0,n.mode=hX;case hX:if(n.flags&1024){for(;d<16;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(D[0]=u&255,D[1]=u>>>8&255,n.check=Lf(n.check,D,2,0)),u=0,d=0}else n.head&&(n.head.extra=null);n.mode=pX;case pX:if(n.flags&1024&&(m=n.length,m>o&&(m=o),m&&(n.head&&(O=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(i,i+m),O)),n.flags&512&&n.wrap&4&&(n.check=Lf(n.check,r,m,i)),o-=m,i+=m,n.length-=m),n.length))break e;n.length=0,n.mode=mX;case mX:if(n.flags&2048){if(o===0)break e;m=0;do O=r[i+m++],n.head&&O&&n.length<65536&&(n.head.name+=String.fromCharCode(O));while(O&&m<o);if(n.flags&512&&n.wrap&4&&(n.check=Lf(n.check,r,m,i)),o-=m,i+=m,O)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=gX;case gX:if(n.flags&4096){if(o===0)break e;m=0;do O=r[i+m++],n.head&&O&&n.length<65536&&(n.head.comment+=String.fromCharCode(O));while(O&&m<o);if(n.flags&512&&n.wrap&4&&(n.check=Lf(n.check,r,m,i)),o-=m,i+=m,O)break e}else n.head&&(n.head.comment=null);n.mode=yX;case yX:if(n.flags&512){for(;d<16;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if(n.wrap&4&&u!==(n.check&65535)){t.msg="header crc mismatch",n.mode=Oi;break}u=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=XA;break;case xX:for(;d<32;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}t.adler=n.check=_X(u),u=0,d=0,n.mode=cE;case cE:if(n.havedict===0)return t.next_out=a,t.avail_out=c,t.next_in=i,t.avail_in=o,n.hold=u,n.bits=d,kht;t.adler=n.check=1,n.mode=XA;case XA:if(e===Sht||e===ck)break e;case ZR:if(n.last){u>>>=d&7,d-=d&7,n.mode=t6;break}for(;d<3;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}switch(n.last=u&1,u>>>=1,d-=1,u&3){case 0:n.mode=bX;break;case 1:if(Rht(n),n.mode=uk,e===ck){u>>>=2,d-=2;break e}break;case 2:n.mode=wX;break;case 3:t.msg="invalid block type",n.mode=Oi}u>>>=2,d-=2;break;case bX:for(u>>>=d&7,d-=d&7;d<32;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",n.mode=Oi;break}if(n.length=u&65535,u=0,d=0,n.mode=e6,e===ck)break e;case e6:n.mode=vX;case vX:if(m=n.length,m){if(m>o&&(m=o),m>c&&(m=c),m===0)break e;s.set(r.subarray(i,i+m),a),o-=m,i+=m,c-=m,a+=m,n.length-=m;break}n.mode=XA;break;case wX:for(;d<14;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if(n.nlen=(u&31)+257,u>>>=5,d-=5,n.ndist=(u&31)+1,u>>>=5,d-=5,n.ncode=(u&15)+4,u>>>=4,d-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=Oi;break}n.have=0,n.mode=SX;case SX:for(;n.have<n.ncode;){for(;d<3;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}n.lens[P[n.have++]]=u&7,u>>>=3,d-=3}for(;n.have<19;)n.lens[P[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,T={bits:n.lenbits},F=i2(wht,n.lens,0,19,n.lencode,0,n.work,T),n.lenbits=T.bits,F){t.msg="invalid code lengths set",n.mode=Oi;break}n.have=0,n.mode=CX;case CX:for(;n.have<n.nlen+n.ndist;){for(;x=n.lencode[u&(1<<n.lenbits)-1],v=x>>>24,w=x>>>16&255,B=x&65535,!(v<=d);){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if(B<16)u>>>=v,d-=v,n.lens[n.have++]=B;else{if(B===16){for(j=v+2;d<j;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if(u>>>=v,d-=v,n.have===0){t.msg="invalid bit length repeat",n.mode=Oi;break}O=n.lens[n.have-1],m=3+(u&3),u>>>=2,d-=2}else if(B===17){for(j=v+3;d<j;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}u>>>=v,d-=v,O=0,m=3+(u&7),u>>>=3,d-=3}else{for(j=v+7;d<j;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}u>>>=v,d-=v,O=0,m=11+(u&127),u>>>=7,d-=7}if(n.have+m>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=Oi;break}for(;m--;)n.lens[n.have++]=O}}if(n.mode===Oi)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=Oi;break}if(n.lenbits=9,T={bits:n.lenbits},F=i2(bfe,n.lens,0,n.nlen,n.lencode,0,n.work,T),n.lenbits=T.bits,F){t.msg="invalid literal/lengths set",n.mode=Oi;break}if(n.distbits=6,n.distcode=n.distdyn,T={bits:n.distbits},F=i2(vfe,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,T),n.distbits=T.bits,F){t.msg="invalid distances set",n.mode=Oi;break}if(n.mode=uk,e===ck)break e;case uk:n.mode=dk;case dk:if(o>=6&&c>=258){t.next_out=a,t.avail_out=c,t.next_in=i,t.avail_in=o,n.hold=u,n.bits=d,mht(t,h),a=t.next_out,s=t.output,c=t.avail_out,i=t.next_in,r=t.input,o=t.avail_in,u=n.hold,d=n.bits,n.mode===XA&&(n.back=-1);break}for(n.back=0;x=n.lencode[u&(1<<n.lenbits)-1],v=x>>>24,w=x>>>16&255,B=x&65535,!(v<=d);){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if(w&&(w&240)===0){for(k=v,E=w,N=B;x=n.lencode[N+((u&(1<<k+E)-1)>>k)],v=x>>>24,w=x>>>16&255,B=x&65535,!(k+v<=d);){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}u>>>=k,d-=k,n.back+=k}if(u>>>=v,d-=v,n.back+=v,n.length=B,w===0){n.mode=NX;break}if(w&32){n.back=-1,n.mode=XA;break}if(w&64){t.msg="invalid literal/length code",n.mode=Oi;break}n.extra=w&15,n.mode=kX;case kX:if(n.extra){for(j=n.extra;d<j;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=BX;case BX:for(;x=n.distcode[u&(1<<n.distbits)-1],v=x>>>24,w=x>>>16&255,B=x&65535,!(v<=d);){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if((w&240)===0){for(k=v,E=w,N=B;x=n.distcode[N+((u&(1<<k+E)-1)>>k)],v=x>>>24,w=x>>>16&255,B=x&65535,!(k+v<=d);){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}u>>>=k,d-=k,n.back+=k}if(u>>>=v,d-=v,n.back+=v,w&64){t.msg="invalid distance code",n.mode=Oi;break}n.offset=B,n.extra=w&15,n.mode=EX;case EX:if(n.extra){for(j=n.extra;d<j;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=Oi;break}n.mode=IX;case IX:if(c===0)break e;if(m=h-c,n.offset>m){if(m=n.offset-m,m>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=Oi;break}m>n.wnext?(m-=n.wnext,g=n.wsize-m):g=n.wnext-m,m>n.length&&(m=n.length),y=n.window}else y=s,g=a-n.offset,m=n.length;m>c&&(m=c),c-=m,n.length-=m;do s[a++]=y[g++];while(--m);n.length===0&&(n.mode=dk);break;case NX:if(c===0)break e;s[a++]=n.length,c--,n.mode=dk;break;case t6:if(n.wrap){for(;d<32;){if(o===0)break e;o--,u|=r[i++]<<d,d+=8}if(h-=c,t.total_out+=h,n.total+=h,n.wrap&4&&h&&(t.adler=n.check=n.flags?Lf(n.check,s,h,a-h):o8(n.check,s,h,a-h)),h=c,n.wrap&4&&(n.flags?u:_X(u))!==n.check){t.msg="incorrect data check",n.mode=Oi;break}u=0,d=0}n.mode=jX;case jX:if(n.wrap&&n.flags){for(;d<32;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if(n.wrap&4&&u!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=Oi;break}u=0,d=0}n.mode=TX;case TX:F=Cht;break e;case Oi:F=wfe;break e;case Cfe:return Sfe;case kfe:default:return ad}return t.next_out=a,t.avail_out=c,t.next_in=i,t.avail_in=o,n.hold=u,n.bits=d,(n.wsize||h!==t.avail_out&&n.mode<Oi&&(n.mode<t6||e!==cX))&&jfe(t,t.output,t.next_out,h-t.avail_out),f-=t.avail_in,h-=t.avail_out,t.total_in+=f,t.total_out+=h,n.total+=h,n.wrap&4&&h&&(t.adler=n.check=n.flags?Lf(n.check,s,h,t.next_out-h):o8(n.check,s,h,t.next_out-h)),t.data_type=n.bits+(n.last?64:0)+(n.mode===XA?128:0)+(n.mode===uk||n.mode===e6?256:0),(f===0&&h===0||e===cX)&&F===p0&&(F=Bht),F},Fht=t=>{if(D0(t))return ad;let e=t.state;return e.window&&(e.window=null),t.state=null,p0},Dht=(t,e)=>{if(D0(t))return ad;const n=t.state;return(n.wrap&2)===0?ad:(n.head=e,e.done=!1,p0)},Lht=(t,e)=>{const n=e.length;let r,s,i;return D0(t)||(r=t.state,r.wrap!==0&&r.mode!==cE)?ad:r.mode===cE&&(s=1,s=o8(s,e,n,0),s!==r.check)?wfe:(i=jfe(t,e,n,n),i?(r.mode=Cfe,Sfe):(r.havedict=1,p0))};var $ht=Efe,Pht=Ife,Uht=Bfe,zht=_ht,Mht=Nfe,Qht=Oht,Hht=Fht,Wht=Dht,Vht=Lht,qht="pako inflate (from Nodeca project)",sh={inflateReset:$ht,inflateReset2:Pht,inflateResetKeep:Uht,inflateInit:zht,inflateInit2:Mht,inflate:Qht,inflateEnd:Hht,inflateGetHeader:Wht,inflateSetDictionary:Vht,inflateInfo:qht};function Ght(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Kht=Ght;const Tfe=Object.prototype.toString,{Z_NO_FLUSH:Xht,Z_FINISH:Yht,Z_OK:tw,Z_STREAM_END:s6,Z_NEED_DICT:i6,Z_STREAM_ERROR:Jht,Z_DATA_ERROR:OX,Z_MEM_ERROR:Zht}=gfe;function kS(t){this.options=yfe.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new hht,this.strm.avail_out=0;let n=sh.inflateInit2(this.strm,e.windowBits);if(n!==tw)throw new Error(l8[n]);if(this.header=new Kht,sh.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=c8.string2buf(e.dictionary):Tfe.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=sh.inflateSetDictionary(this.strm,e.dictionary),n!==tw)))throw new Error(l8[n])}kS.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,s=this.options.dictionary;let i,a,o;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?Yht:Xht,Tfe.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),i=sh.inflate(n,a),i===i6&&s&&(i=sh.inflateSetDictionary(n,s),i===tw?i=sh.inflate(n,a):i===OX&&(i=i6));n.avail_in>0&&i===s6&&n.state.wrap>0&&t[n.next_in]!==0;)sh.inflateReset(n),i=sh.inflate(n,a);switch(i){case Jht:case OX:case i6:case Zht:return this.onEnd(i),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(n.avail_out===0||i===s6))if(this.options.to==="string"){let c=c8.utf8border(n.output,n.next_out),u=n.next_out-c,d=c8.buf2string(n.output,c);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(c,c+u),0),this.onData(d)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(i===tw&&o===0)){if(i===s6)return i=sh.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};kS.prototype.onData=function(t){this.chunks.push(t)};kS.prototype.onEnd=function(t){t===tw&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=yfe.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function ept(t,e){const n=new kS(e);if(n.push(t),n.err)throw n.msg||l8[n.err];return n.result}var tpt=kS,npt=ept,rpt={Inflate:tpt,inflate:npt};const{Inflate:spt,inflate:ipt}=rpt;var FX=spt,apt=ipt;const _fe=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;_fe[t]=e}const DX=4294967295;function opt(t,e,n){let r=t;for(let s=0;s<n;s++)r=_fe[(r^e[s])&255]^r>>>8;return r}function lpt(t,e){return(opt(DX,t,e)^DX)>>>0}function LX(t,e,n){const r=t.readUint32(),s=lpt(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(s!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${s}`)}function Rfe(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function Ofe(t,e,n,r){let s=0;for(;s<r;s++)e[s]=t[s];for(;s<n;s++)e[s]=t[s]+e[s-r]&255}function Ffe(t,e,n,r){let s=0;if(n.length===0)for(;s<r;s++)e[s]=t[s];else for(;s<r;s++)e[s]=t[s]+n[s]&255}function Dfe(t,e,n,r,s){let i=0;if(n.length===0){for(;i<s;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+(e[i-s]>>1)&255}else{for(;i<s;i++)e[i]=t[i]+(n[i]>>1)&255;for(;i<r;i++)e[i]=t[i]+(e[i-s]+n[i]>>1)&255}}function Lfe(t,e,n,r,s){let i=0;if(n.length===0){for(;i<s;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-s]&255}else{for(;i<s;i++)e[i]=t[i]+n[i]&255;for(;i<r;i++)e[i]=t[i]+cpt(e[i-s],n[i],n[i-s])&255}}function cpt(t,e,n){const r=t+e-n,s=Math.abs(r-t),i=Math.abs(r-e),a=Math.abs(r-n);return s<=i&&s<=a?t:i<=a?e:n}function upt(t,e,n,r,s,i){switch(t){case 0:Rfe(e,n,s);break;case 1:Ofe(e,n,s,i);break;case 2:Ffe(e,n,r,s);break;case 3:Dfe(e,n,r,s,i);break;case 4:Lfe(e,n,r,s,i);break;default:throw new Error(`Unsupported filter: ${t}`)}}const dpt=new Uint16Array([255]),fpt=new Uint8Array(dpt.buffer),Apt=fpt[0]===255;function hpt(t){const{data:e,width:n,height:r,channels:s,depth:i}=t,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(i/8)*s,c=new Uint8Array(r*n*o);let u=0;for(let d=0;d<7;d++){const f=a[d],h=Math.ceil((n-f.x)/f.xStep),m=Math.ceil((r-f.y)/f.yStep);if(h<=0||m<=0)continue;const g=h*o,y=new Uint8Array(g);for(let x=0;x<m;x++){const v=e[u++],w=e.subarray(u,u+g);u+=g;const B=new Uint8Array(g);upt(v,w,B,y,g,o),y.set(B);for(let k=0;k<h;k++){const E=f.x+k*f.xStep,N=f.y+x*f.yStep;if(!(E>=n||N>=r))for(let O=0;O<o;O++)c[(N*n+E)*o+O]=B[k*o+O]}}}if(i===16){const d=new Uint16Array(c.buffer);if(Apt)for(let f=0;f<d.length;f++)d[f]=ppt(d[f]);return d}else return c}function ppt(t){return(t&255)<<8|t>>8&255}const mpt=new Uint16Array([255]),gpt=new Uint8Array(mpt.buffer),ypt=gpt[0]===255,xpt=new Uint8Array(0);function $X(t){const{data:e,width:n,height:r,channels:s,depth:i}=t,a=Math.ceil(i/8)*s,o=Math.ceil(i/8*s*n),c=new Uint8Array(r*o);let u=xpt,d=0,f,h;for(let m=0;m<r;m++){switch(f=e.subarray(d+1,d+1+o),h=c.subarray(m*o,(m+1)*o),e[d]){case 0:Rfe(f,h,o);break;case 1:Ofe(f,h,o,a);break;case 2:Ffe(f,h,u,o);break;case 3:Dfe(f,h,u,o,a);break;case 4:Lfe(f,h,u,o,a);break;default:throw new Error(`Unsupported filter: ${e[d]}`)}u=h,d+=o+1}if(i===16){const m=new Uint16Array(c.buffer);if(ypt)for(let g=0;g<m.length;g++)m[g]=bpt(m[g]);return m}else return c}function bpt(t){return(t&255)<<8|t>>8&255}const yB=Uint8Array.of(137,80,78,71,13,10,26,10);function PX(t){if(!vpt(t.readBytes(yB.length)))throw new Error("wrong PNG signature")}function vpt(t){if(t.length<yB.length)return!1;for(let e=0;e<yB.length;e++)if(t[e]!==yB[e])return!1;return!0}const wpt="tEXt",Spt=0,$fe=new TextDecoder("latin1");function Cpt(t){if(Bpt(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const kpt=/^[\u0000-\u00FF]*$/;function Bpt(t){if(!kpt.test(t))throw new Error("invalid latin1 text")}function Ept(t,e,n){const r=Pfe(e);t[r]=Ipt(e,n-r.length-1)}function Pfe(t){for(t.mark();t.readByte()!==Spt;);const e=t.offset;t.reset();const n=$fe.decode(t.readBytes(e-t.offset-1));return t.skip(1),Cpt(n),n}function Ipt(t,e){return $fe.decode(t.readBytes(e))}const Zc={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},a6={UNKNOWN:-1,DEFLATE:0},UX={UNKNOWN:-1,ADAPTIVE:0},o6={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},fk={NONE:0,BACKGROUND:1,PREVIOUS:2},l6={SOURCE:0,OVER:1};class Npt extends dz{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,n={}){super(e);const{checkCrc:r=!1}=n;this._checkCrc=r,this._inflator=new FX,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=a6.UNKNOWN,this._filterMethod=UX.UNKNOWN,this._interlaceMethod=o6.UNKNOWN,this._colorType=Zc.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(PX(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeChunk(e,n)}return this.decodeImage(),this._png}decodeApng(){for(PX(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(e,n)}return this.decodeApngImage(),this._apng}decodeChunk(e,n){const r=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case wpt:Ept(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?LX(this,e+4,n):this.skip(4)}decodeApngChunk(e,n){const r=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,n),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?LX(this,e+4,n):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=jpt(this.readUint8());const n=this.readUint8();this._colorType=n;let r;switch(n){case Zc.GREYSCALE:r=1;break;case Zc.TRUECOLOUR:r=3;break;case Zc.INDEXED_COLOUR:r=1;break;case Zc.GREYSCALE_ALPHA:r=2;break;case Zc.TRUECOLOUR_ALPHA:r=4;break;case Zc.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==a6.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const n=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let s=0;s<n;s++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const n=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let n=e,r=this.offset+this.byteOffset;if(r+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Zc.GREYSCALE:case Zc.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let n=0;n<e/2;n++)this._transparency[n]=this.readUint16();break}case Zc.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let n=0;for(;n<e;n++){const r=this.readByte();this._palette[n].push(r)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Zc.UNKNOWN:case Zc.GREYSCALE_ALPHA:case Zc.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const n=Pfe(this),r=this.readUint8();if(r!==a6.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const s=this.readBytes(e-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:apt(s)}}decodepHYs(){const e=this.readUint32(),n=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:n,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const n={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=$X({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)n.data=r.data;else{const s=this._apng.frames.at(e-1);this.disposeFrame(r,s,n),this.addFrameDataToCanvas(n,r)}this._apng.frames.push(n)}}return this._apng}disposeFrame(e,n,r){switch(e.disposeOp){case fk.NONE:break;case fk.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let i=0;i<this._png.width;i++){const a=(s*e.width+i)*this._png.channels;for(let o=0;o<this._png.channels;o++)r.data[a+o]=0}break;case fk.PREVIOUS:r.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,n){const r=1<<this._png.depth,s=(i,a)=>{const o=((i+n.yOffset)*this._png.width+n.xOffset+a)*this._png.channels,c=(i*n.width+a)*this._png.channels;return{index:o,frameIndex:c}};switch(n.blendOp){case l6.SOURCE:for(let i=0;i<n.height;i++)for(let a=0;a<n.width;a++){const{index:o,frameIndex:c}=s(i,a);for(let u=0;u<this._png.channels;u++)e.data[o+u]=n.data[c+u]}break;case l6.OVER:for(let i=0;i<n.height;i++)for(let a=0;a<n.width;a++){const{index:o,frameIndex:c}=s(i,a);for(let u=0;u<this._png.channels;u++){const d=n.data[c+this._png.channels-1]/r,f=u%(this._png.channels-1)===0?1:n.data[c+u],h=Math.floor(d*f+(1-d)*e.data[o+u]);e.data[o+u]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==UX.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===o6.NO_INTERLACE)this._png.data=$X({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===o6.ADAM7)this._png.data=hpt({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,n=this._frames.at(-1);n?n.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:fk.NONE,blendOp:l6.SOURCE,data:e}),this._inflator=new FX,this._writingDataChunks=!1}}function jpt(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var zX;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(zX||(zX={}));function Tpt(t,e){return new Npt(t,e).decode()}var nr=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function c6(){nr.console&&typeof nr.console.log=="function"&&nr.console.log.apply(nr.console,arguments)}var Xs={log:c6,warn:function(t){nr.console&&(typeof nr.console.warn=="function"?nr.console.warn.apply(nr.console,arguments):c6.call(null,arguments))},error:function(t){nr.console&&(typeof nr.console.error=="function"?nr.console.error.apply(nr.console,arguments):c6(t))}};function u6(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){og(r.response,e,n)},r.onerror=function(){Xs.error("could not download file")},r.send()}function MX(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Ak(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var og=nr.saveAs||((typeof window>"u"?"undefined":js(window))!=="object"||window!==nr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=nr.URL||nr.webkitURL,s=document.createElement("a");e=e||t.name||"download",s.download=e,s.rel="noopener",typeof t=="string"?(s.href=t,s.origin!==location.origin?MX(s.href)?u6(t,e,n):Ak(s,s.target="_blank"):Ak(s)):(s.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(s.href)},4e4),setTimeout(function(){Ak(s)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(MX(t))u6(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Ak(r)})}else navigator.msSaveOrOpenBlob((function(s,i){return i===void 0?i={autoBom:!1}:js(i)!=="object"&&(Xs.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return u6(t,e,n);var s=t.type==="application/octet-stream",i=/constructor/i.test(nr.HTMLElement)||nr.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||s&&i)&&(typeof FileReader>"u"?"undefined":js(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var d=o.result;d=a?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=d:location=d,r=null},o.readAsDataURL(t)}else{var c=nr.URL||nr.webkitURL,u=c.createObjectURL(t);r?r.location=u:location.href=u,r=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});function Ufe(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<n.length;r++){var s=n[r].re,i=n[r].process,a=s.exec(t);a&&(e=i(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+o+c+u}}var xB=nr.atob.bind(nr),QX=nr.btoa.bind(nr);function d6(t,e){var n=t[0],r=t[1],s=t[2],i=t[3];n=pl(n,r,s,i,e[0],7,-680876936),i=pl(i,n,r,s,e[1],12,-389564586),s=pl(s,i,n,r,e[2],17,606105819),r=pl(r,s,i,n,e[3],22,-1044525330),n=pl(n,r,s,i,e[4],7,-176418897),i=pl(i,n,r,s,e[5],12,1200080426),s=pl(s,i,n,r,e[6],17,-1473231341),r=pl(r,s,i,n,e[7],22,-45705983),n=pl(n,r,s,i,e[8],7,1770035416),i=pl(i,n,r,s,e[9],12,-1958414417),s=pl(s,i,n,r,e[10],17,-42063),r=pl(r,s,i,n,e[11],22,-1990404162),n=pl(n,r,s,i,e[12],7,1804603682),i=pl(i,n,r,s,e[13],12,-40341101),s=pl(s,i,n,r,e[14],17,-1502002290),n=ml(n,r=pl(r,s,i,n,e[15],22,1236535329),s,i,e[1],5,-165796510),i=ml(i,n,r,s,e[6],9,-1069501632),s=ml(s,i,n,r,e[11],14,643717713),r=ml(r,s,i,n,e[0],20,-373897302),n=ml(n,r,s,i,e[5],5,-701558691),i=ml(i,n,r,s,e[10],9,38016083),s=ml(s,i,n,r,e[15],14,-660478335),r=ml(r,s,i,n,e[4],20,-405537848),n=ml(n,r,s,i,e[9],5,568446438),i=ml(i,n,r,s,e[14],9,-1019803690),s=ml(s,i,n,r,e[3],14,-187363961),r=ml(r,s,i,n,e[8],20,1163531501),n=ml(n,r,s,i,e[13],5,-1444681467),i=ml(i,n,r,s,e[2],9,-51403784),s=ml(s,i,n,r,e[7],14,1735328473),n=gl(n,r=ml(r,s,i,n,e[12],20,-1926607734),s,i,e[5],4,-378558),i=gl(i,n,r,s,e[8],11,-2022574463),s=gl(s,i,n,r,e[11],16,1839030562),r=gl(r,s,i,n,e[14],23,-35309556),n=gl(n,r,s,i,e[1],4,-1530992060),i=gl(i,n,r,s,e[4],11,1272893353),s=gl(s,i,n,r,e[7],16,-155497632),r=gl(r,s,i,n,e[10],23,-1094730640),n=gl(n,r,s,i,e[13],4,681279174),i=gl(i,n,r,s,e[0],11,-358537222),s=gl(s,i,n,r,e[3],16,-722521979),r=gl(r,s,i,n,e[6],23,76029189),n=gl(n,r,s,i,e[9],4,-640364487),i=gl(i,n,r,s,e[12],11,-421815835),s=gl(s,i,n,r,e[15],16,530742520),n=yl(n,r=gl(r,s,i,n,e[2],23,-995338651),s,i,e[0],6,-198630844),i=yl(i,n,r,s,e[7],10,1126891415),s=yl(s,i,n,r,e[14],15,-1416354905),r=yl(r,s,i,n,e[5],21,-57434055),n=yl(n,r,s,i,e[12],6,1700485571),i=yl(i,n,r,s,e[3],10,-1894986606),s=yl(s,i,n,r,e[10],15,-1051523),r=yl(r,s,i,n,e[1],21,-2054922799),n=yl(n,r,s,i,e[8],6,1873313359),i=yl(i,n,r,s,e[15],10,-30611744),s=yl(s,i,n,r,e[6],15,-1560198380),r=yl(r,s,i,n,e[13],21,1309151649),n=yl(n,r,s,i,e[4],6,-145523070),i=yl(i,n,r,s,e[11],10,-1120210379),s=yl(s,i,n,r,e[2],15,718787259),r=yl(r,s,i,n,e[9],21,-343485551),t[0]=Up(n,t[0]),t[1]=Up(r,t[1]),t[2]=Up(s,t[2]),t[3]=Up(i,t[3])}function Z3(t,e,n,r,s,i){return e=Up(Up(e,t),Up(r,i)),Up(e<<s|e>>>32-s,n)}function pl(t,e,n,r,s,i,a){return Z3(e&n|~e&r,t,e,s,i,a)}function ml(t,e,n,r,s,i,a){return Z3(e&r|n&~r,t,e,s,i,a)}function gl(t,e,n,r,s,i,a){return Z3(e^n^r,t,e,s,i,a)}function yl(t,e,n,r,s,i,a){return Z3(n^(e|~r),t,e,s,i,a)}function zfe(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)d6(r,_pt(t.substring(e-64,e)));t=t.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)s[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(d6(r,s),e=0;e<16;e++)s[e]=0;return s[14]=8*n,d6(r,s),r}function _pt(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var HX="0123456789abcdef".split("");function Rpt(t){for(var e="",n=0;n<4;n++)e+=HX[t>>8*n+4&15]+HX[t>>8*n&15];return e}function Opt(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function u8(t){return zfe(t).map(Opt).join("")}var Fpt=(function(t){for(var e=0;e<t.length;e++)t[e]=Rpt(t[e]);return t.join("")})(zfe("hello"))!="5d41402abc4b2a76b9719d911017c592";function Up(t,e){if(Fpt){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}function d8(t,e){var n,r,s,i;if(t!==n){for(var a=(s=t,i=1+(256/t.length|0),new Array(i+1).join(s)),o=[],c=0;c<256;c++)o[c]=c;var u=0;for(c=0;c<256;c++){var d=o[c];u=(u+d+a.charCodeAt(c))%256,o[c]=o[u],o[u]=d}n=t,r=o}else o=r;var f=e.length,h=0,m=0,g="";for(c=0;c<f;c++)m=(m+(d=o[h=(h+1)%256]))%256,o[h]=o[m],o[m]=d,a=o[(o[h]+o[m])%256],g+=String.fromCharCode(e.charCodeAt(c)^a);return g}var WX={print:4,modify:8,copy:16,"annot-forms":32};function Uy(t,e,n,r){this.v=1,this.r=2;var s=192;t.forEach(function(o){if(WX.perm!==void 0)throw new Error("Invalid permission: "+o);s+=WX[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(e+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,a),this.P=-(1+(255^s)),this.encryptionKey=u8(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=d8(this.encryptionKey,this.padding)}function zy(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var s=t.charCodeAt(r);e+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):t[r]}return e}function VX(t){if(js(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,s){if(s=s||!1,typeof n!="string"||typeof r!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var i=Math.random().toString(35);return e[n][i]=[r,!!s],i},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),s=[];for(var i in e[n]){var a=e[n][i];try{a[0].apply(t,r)}catch(o){nr.console&&Xs.error("jsPDF PubSub Error",o.message,o)}a[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function uE(t){if(!(this instanceof uE))return new uE(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function Mfe(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Ag(t,e,n,r,s){if(!(this instanceof Ag))return new Ag(t,e,n,r,s);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,Mfe.call(this,r,s)}function Xy(t,e,n,r,s){if(!(this instanceof Xy))return new Xy(t,e,n,r,s);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,Mfe.call(this,r,s)}function _n(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],s=arguments[2],i=arguments[3],a=[],o=1,c=16,u="S",d=null;js(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,s=t.format||s,i=t.compress||t.compressPdf||i,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),u=t.defaultPathOperation||"S"),a=t.filters||(i===!0?["FlateEncode"]:a),r=r||"mm",n=(""+(n||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,h={},m={internal:{},__private__:{}};m.__private__.PubSub=VX;var g="1.3",y=m.__private__.getPdfVersion=function(){return g};m.__private__.setPdfVersion=function(M){g=M};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return x};var v=m.__private__.getPageFormat=function(M){return x[M]};s=s||"a4";var w="compat",B="advanced",k=w;function E(){this.saveGraphicsState(),ie(new cn(rn,0,0,-rn,0,Hc()*rn).toString()+" cm"),this.setFontSize(this.getFontSize()/rn),u="n",k=B}function N(){this.restoreGraphicsState(),u="S",k=w}var O=m.__private__.combineFontStyleAndFontWeight=function(M,ae){if(M=="bold"&&ae=="normal"||M=="bold"&&ae==400||M=="normal"&&ae=="italic"||M=="bold"&&ae=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ae&&(M=ae==400||ae==="normal"?M==="italic"?"italic":"normal":ae!=700&&ae!=="bold"||M!=="normal"?(ae==700?"bold":ae)+""+M:"bold"),M};m.advancedAPI=function(M){var ae=k===w;return ae&&E.call(this),typeof M!="function"||(M(this),ae&&N.call(this)),this},m.compatAPI=function(M){var ae=k===B;return ae&&N.call(this),typeof M!="function"||(M(this),ae&&E.call(this)),this},m.isAdvancedAPI=function(){return k===B};var F,D=function(M){if(k!==B)throw new Error(M+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},T=m.roundToPrecision=m.__private__.roundToPrecision=function(M,ae){var Se=e||ae;if(isNaN(M)||isNaN(Se))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return M.toFixed(Se).replace(/0+$/,"")};F=m.hpf=m.__private__.hpf=typeof c=="number"?function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return T(M,c)}:c==="smart"?function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return T(M,M>-1&&M<1?16:5)}:function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return T(M,16)};var j=m.f2=m.__private__.f2=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.f2");return T(M,2)},P=m.__private__.f3=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.f3");return T(M,3)},U=m.scale=m.__private__.scale=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.scale");return k===w?M*rn:k===B?M:void 0},z=function(M){return U((function(ae){return k===w?Hc()-ae:k===B?ae:void 0})(M))};m.__private__.setPrecision=m.setPrecision=function(M){typeof parseInt(M,10)=="number"&&(e=parseInt(M,10))};var ee,q="00000000000000000000000000000000",Z=m.__private__.getFileId=function(){return q},G=m.__private__.setFileId=function(M){return q=M!==void 0&&/^[a-fA-F0-9]{32}$/.test(M)?M.toUpperCase():q.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Ji=new Uy(d.userPermissions,d.userPassword,d.ownerPassword,q)),q};m.setFileId=function(M){return G(M),this},m.getFileId=function(){return Z()};var ne=m.__private__.convertDateToPDFDate=function(M){var ae=M.getTimezoneOffset(),Se=ae<0?"+":"-",Oe=Math.floor(Math.abs(ae/60)),Qe=Math.abs(ae%60),bt=[Se,re(Oe),"'",re(Qe),"'"].join("");return["D:",M.getFullYear(),re(M.getMonth()+1),re(M.getDate()),re(M.getHours()),re(M.getMinutes()),re(M.getSeconds()),bt].join("")},K=m.__private__.convertPDFDateToDate=function(M){var ae=parseInt(M.substr(2,4),10),Se=parseInt(M.substr(6,2),10)-1,Oe=parseInt(M.substr(8,2),10),Qe=parseInt(M.substr(10,2),10),bt=parseInt(M.substr(12,2),10),Tt=parseInt(M.substr(14,2),10);return new Date(ae,Se,Oe,Qe,bt,Tt,0)},H=m.__private__.setCreationDate=function(M){var ae;if(M===void 0&&(M=new Date),M instanceof Date)ae=ne(M);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(M))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ae=M}return ee=ae},Q=m.__private__.getCreationDate=function(M){var ae=ee;return M==="jsDate"&&(ae=K(ee)),ae};m.setCreationDate=function(M){return H(M),this},m.getCreationDate=function(M){return Q(M)};var X,re=m.__private__.padd2=function(M){return("0"+parseInt(M)).slice(-2)},le=m.__private__.padd2Hex=function(M){return("00"+(M=M.toString())).substr(M.length)},he=0,xe=[],Be=[],me=0,ve=[],Ee=[],ye=!1,Ue=Be;m.__private__.setCustomOutputDestination=function(M){ye=!0,Ue=M};var at=function(M){ye||(Ue=M)};m.__private__.resetCustomOutputDestination=function(){ye=!1,Ue=Be};var ie=m.__private__.out=function(M){return M=M.toString(),me+=M.length+1,Ue.push(M),Ue},Le=m.__private__.write=function(M){return ie(arguments.length===1?M.toString():Array.prototype.join.call(arguments," "))},tt=m.__private__.getArrayBuffer=function(M){for(var ae=M.length,Se=new ArrayBuffer(ae),Oe=new Uint8Array(Se);ae--;)Oe[ae]=M.charCodeAt(ae);return Se},It=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return It};var _e=t.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(M){return _e=k===B?M/rn:M,this};var At,ot=m.__private__.getFontSize=m.getFontSize=function(){return k===w?_e:_e*rn},$t=t.R2L||!1;m.__private__.setR2L=m.setR2L=function(M){return $t=M,this},m.__private__.getR2L=m.getR2L=function(){return $t};var kt,Ht=m.__private__.setZoomMode=function(M){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(M))At=M;else if(isNaN(M)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(M)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+M+'" is not recognized.');At=M}else At=parseInt(M,10)};m.__private__.getZoomMode=function(){return At};var Sn,zt=m.__private__.setPageMode=function(M){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(M)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+M+'" is not recognized.');kt=M};m.__private__.getPageMode=function(){return kt};var en=m.__private__.setLayoutMode=function(M){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(M)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+M+'" is not recognized.');Sn=M};m.__private__.getLayoutMode=function(){return Sn},m.__private__.setDisplayMode=m.setDisplayMode=function(M,ae,Se){return Ht(M),en(ae),zt(Se),this};var fn={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(M){if(Object.keys(fn).indexOf(M)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return fn[M]},m.__private__.getDocumentProperties=function(){return fn},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(M){for(var ae in fn)fn.hasOwnProperty(ae)&&M[ae]&&(fn[ae]=M[ae]);return this},m.__private__.setDocumentProperty=function(M,ae){if(Object.keys(fn).indexOf(M)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return fn[M]=ae};var Qt,rn,Yt,sn,On,Ot={},xn={},ke=[],$e={},yt={},Ct={},_t={},Lt=null,Ut=0,Jt=[],dt=new VX(m),pr=t.hotfixes||[],Gr={},Hn={},Fs=[],cn=function M(ae,Se,Oe,Qe,bt,Tt){if(!(this instanceof M))return new M(ae,Se,Oe,Qe,bt,Tt);isNaN(ae)&&(ae=1),isNaN(Se)&&(Se=0),isNaN(Oe)&&(Oe=0),isNaN(Qe)&&(Qe=1),isNaN(bt)&&(bt=0),isNaN(Tt)&&(Tt=0),this._matrix=[ae,Se,Oe,Qe,bt,Tt]};Object.defineProperty(cn.prototype,"sx",{get:function(){return this._matrix[0]},set:function(M){this._matrix[0]=M}}),Object.defineProperty(cn.prototype,"shy",{get:function(){return this._matrix[1]},set:function(M){this._matrix[1]=M}}),Object.defineProperty(cn.prototype,"shx",{get:function(){return this._matrix[2]},set:function(M){this._matrix[2]=M}}),Object.defineProperty(cn.prototype,"sy",{get:function(){return this._matrix[3]},set:function(M){this._matrix[3]=M}}),Object.defineProperty(cn.prototype,"tx",{get:function(){return this._matrix[4]},set:function(M){this._matrix[4]=M}}),Object.defineProperty(cn.prototype,"ty",{get:function(){return this._matrix[5]},set:function(M){this._matrix[5]=M}}),Object.defineProperty(cn.prototype,"a",{get:function(){return this._matrix[0]},set:function(M){this._matrix[0]=M}}),Object.defineProperty(cn.prototype,"b",{get:function(){return this._matrix[1]},set:function(M){this._matrix[1]=M}}),Object.defineProperty(cn.prototype,"c",{get:function(){return this._matrix[2]},set:function(M){this._matrix[2]=M}}),Object.defineProperty(cn.prototype,"d",{get:function(){return this._matrix[3]},set:function(M){this._matrix[3]=M}}),Object.defineProperty(cn.prototype,"e",{get:function(){return this._matrix[4]},set:function(M){this._matrix[4]=M}}),Object.defineProperty(cn.prototype,"f",{get:function(){return this._matrix[5]},set:function(M){this._matrix[5]=M}}),Object.defineProperty(cn.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(cn.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(cn.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(cn.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),cn.prototype.join=function(M){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(F).join(M)},cn.prototype.multiply=function(M){var ae=M.sx*this.sx+M.shy*this.shx,Se=M.sx*this.shy+M.shy*this.sy,Oe=M.shx*this.sx+M.sy*this.shx,Qe=M.shx*this.shy+M.sy*this.sy,bt=M.tx*this.sx+M.ty*this.shx+this.tx,Tt=M.tx*this.shy+M.ty*this.sy+this.ty;return new cn(ae,Se,Oe,Qe,bt,Tt)},cn.prototype.decompose=function(){var M=this.sx,ae=this.shy,Se=this.shx,Oe=this.sy,Qe=this.tx,bt=this.ty,Tt=Math.sqrt(M*M+ae*ae),dn=(M/=Tt)*Se+(ae/=Tt)*Oe;Se-=M*dn,Oe-=ae*dn;var Bn=Math.sqrt(Se*Se+Oe*Oe);return dn/=Bn,M*(Oe/=Bn)<ae*(Se/=Bn)&&(M=-M,ae=-ae,dn=-dn,Tt=-Tt),{scale:new cn(Tt,0,0,Bn,0,0),translate:new cn(1,0,0,1,Qe,bt),rotate:new cn(M,ae,-ae,M,0,0),skew:new cn(1,0,dn,1,0,0)}},cn.prototype.toString=function(M){return this.join(" ")},cn.prototype.inversed=function(){var M=this.sx,ae=this.shy,Se=this.shx,Oe=this.sy,Qe=this.tx,bt=this.ty,Tt=1/(M*Oe-ae*Se),dn=Oe*Tt,Bn=-ae*Tt,Vn=-Se*Tt,er=M*Tt;return new cn(dn,Bn,Vn,er,-dn*Qe-Vn*bt,-Bn*Qe-er*bt)},cn.prototype.applyToPoint=function(M){var ae=M.x*this.sx+M.y*this.shx+this.tx,Se=M.x*this.shy+M.y*this.sy+this.ty;return new Nr(ae,Se)},cn.prototype.applyToRectangle=function(M){var ae=this.applyToPoint(M),Se=this.applyToPoint(new Nr(M.x+M.w,M.y+M.h));return new ni(ae.x,ae.y,Se.x-ae.x,Se.y-ae.y)},cn.prototype.clone=function(){var M=this.sx,ae=this.shy,Se=this.shx,Oe=this.sy,Qe=this.tx,bt=this.ty;return new cn(M,ae,Se,Oe,Qe,bt)},m.Matrix=cn;var Ki=m.matrixMult=function(M,ae){return ae.multiply(M)},Cs=new cn(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=Cs;var Ds=function(M,ae){if(!yt[M]){var Se=(ae instanceof Ag?"Sh":"P")+(Object.keys($e).length+1).toString(10);ae.id=Se,yt[M]=Se,$e[Se]=ae,dt.publish("addPattern",ae)}};m.ShadingPattern=Ag,m.TilingPattern=Xy,m.addShadingPattern=function(M,ae){return D("addShadingPattern()"),Ds(M,ae),this},m.beginTilingPattern=function(M){D("beginTilingPattern()"),yd(M.boundingBox[0],M.boundingBox[1],M.boundingBox[2]-M.boundingBox[0],M.boundingBox[3]-M.boundingBox[1],M.matrix)},m.endTilingPattern=function(M,ae){D("endTilingPattern()"),ae.stream=Ee[X].join(`
`),Ds(M,ae),dt.publish("endTilingPattern",ae),Fs.pop().restore()};var wr,ts=m.__private__.newObject=function(){var M=Er();return Bt(M,!0),M},Er=m.__private__.newObjectDeferred=function(){return he++,xe[he]=function(){return me},he},Bt=function(M,ae){return ae=typeof ae=="boolean"&&ae,xe[M]=me,ae&&ie(M+" 0 obj"),M},Si=m.__private__.newAdditionalObject=function(){var M={objId:Er(),content:""};return ve.push(M),M},ms=Er(),Jn=Er(),ns=m.__private__.decodeColorString=function(M){var ae=M.split(" ");if(ae.length!==2||ae[1]!=="g"&&ae[1]!=="G")ae.length!==5||ae[4]!=="k"&&ae[4]!=="K"||(ae=[(1-ae[0])*(1-ae[3]),(1-ae[1])*(1-ae[3]),(1-ae[2])*(1-ae[3]),"r"]);else{var Se=parseFloat(ae[0]);ae=[Se,Se,Se,"r"]}for(var Oe="#",Qe=0;Qe<3;Qe++)Oe+=("0"+Math.floor(255*parseFloat(ae[Qe])).toString(16)).slice(-2);return Oe},Ci=m.__private__.encodeColorString=function(M){var ae;typeof M=="string"&&(M={ch1:M});var Se=M.ch1,Oe=M.ch2,Qe=M.ch3,bt=M.ch4,Tt=M.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Se=="string"&&Se.charAt(0)!=="#"){var dn=new Ufe(Se);if(dn.ok)Se=dn.toHex();else if(!/^\d*\.?\d*$/.test(Se))throw new Error('Invalid color "'+Se+'" passed to jsPDF.encodeColorString.')}if(typeof Se=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Se)&&(Se="#"+Se[1]+Se[1]+Se[2]+Se[2]+Se[3]+Se[3]),typeof Se=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Se)){var Bn=parseInt(Se.substr(1),16);Se=Bn>>16&255,Oe=Bn>>8&255,Qe=255&Bn}if(Oe===void 0||bt===void 0&&Se===Oe&&Oe===Qe)ae=typeof Se=="string"?Se+" "+Tt[0]:M.precision===2?j(Se/255)+" "+Tt[0]:P(Se/255)+" "+Tt[0];else if(bt===void 0||js(bt)==="object"){if(bt&&!isNaN(bt.a)&&bt.a===0)return["1.","1.","1.",Tt[1]].join(" ");ae=typeof Se=="string"?[Se,Oe,Qe,Tt[1]].join(" "):M.precision===2?[j(Se/255),j(Oe/255),j(Qe/255),Tt[1]].join(" "):[P(Se/255),P(Oe/255),P(Qe/255),Tt[1]].join(" ")}else ae=typeof Se=="string"?[Se,Oe,Qe,bt,Tt[2]].join(" "):M.precision===2?[j(Se),j(Oe),j(Qe),j(bt),Tt[2]].join(" "):[P(Se),P(Oe),P(Qe),P(bt),Tt[2]].join(" ");return ae},ft=m.__private__.getFilters=function(){return a},Cn=m.__private__.putStream=function(M){var ae=(M=M||{}).data||"",Se=M.filters||ft(),Oe=M.alreadyAppliedFilters||[],Qe=M.addLength1||!1,bt=ae.length,Tt=M.objectId,dn=function(Zi){return Zi};if(d!==null&&Tt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(dn=Ji.encryptor(Tt,0));var Bn={};Se===!0&&(Se=["FlateEncode"]);var Vn=M.additionalKeyValues||[],er=(Bn=_n.API.processDataByFilters!==void 0?_n.API.processDataByFilters(ae,Se):{data:ae,reverseChain:[]}).reverseChain+(Array.isArray(Oe)?Oe.join(" "):Oe.toString());if(Bn.data.length!==0&&(Vn.push({key:"Length",value:Bn.data.length}),Qe===!0&&Vn.push({key:"Length1",value:bt})),er.length!=0)if(er.split("/").length-1==1)Vn.push({key:"Filter",value:er});else{Vn.push({key:"Filter",value:"["+er+"]"});for(var jr=0;jr<Vn.length;jr+=1)if(Vn[jr].key==="DecodeParms"){for(var Vs=[],ui=0;ui<Bn.reverseChain.split("/").length-1;ui+=1)Vs.push("null");Vs.push(Vn[jr].value),Vn[jr].value="["+Vs.join(" ")+"]"}}ie("<<");for(var gs=0;gs<Vn.length;gs++)ie("/"+Vn[gs].key+" "+Vn[gs].value);ie(">>"),Bn.data.length!==0&&(ie("stream"),ie(dn(Bn.data)),ie("endstream"))},Wn=m.__private__.putPage=function(M){var ae=M.number,Se=M.data,Oe=M.objId,Qe=M.contentsObjId;Bt(Oe,!0),ie("<</Type /Page"),ie("/Parent "+M.rootDictionaryObjId+" 0 R"),ie("/Resources "+M.resourceDictionaryObjId+" 0 R"),ie("/MediaBox ["+parseFloat(F(M.mediaBox.bottomLeftX))+" "+parseFloat(F(M.mediaBox.bottomLeftY))+" "+F(M.mediaBox.topRightX)+" "+F(M.mediaBox.topRightY)+"]"),M.cropBox!==null&&ie("/CropBox ["+F(M.cropBox.bottomLeftX)+" "+F(M.cropBox.bottomLeftY)+" "+F(M.cropBox.topRightX)+" "+F(M.cropBox.topRightY)+"]"),M.bleedBox!==null&&ie("/BleedBox ["+F(M.bleedBox.bottomLeftX)+" "+F(M.bleedBox.bottomLeftY)+" "+F(M.bleedBox.topRightX)+" "+F(M.bleedBox.topRightY)+"]"),M.trimBox!==null&&ie("/TrimBox ["+F(M.trimBox.bottomLeftX)+" "+F(M.trimBox.bottomLeftY)+" "+F(M.trimBox.topRightX)+" "+F(M.trimBox.topRightY)+"]"),M.artBox!==null&&ie("/ArtBox ["+F(M.artBox.bottomLeftX)+" "+F(M.artBox.bottomLeftY)+" "+F(M.artBox.topRightX)+" "+F(M.artBox.topRightY)+"]"),typeof M.userUnit=="number"&&M.userUnit!==1&&ie("/UserUnit "+M.userUnit),dt.publish("putPage",{objId:Oe,pageContext:Jt[ae],pageNumber:ae,page:Se}),ie("/Contents "+Qe+" 0 R"),ie(">>"),ie("endobj");var bt=Se.join(`
`);return k===B&&(bt+=`
Q`),Bt(Qe,!0),Cn({data:bt,filters:ft(),objectId:Qe}),ie("endobj"),Oe},Xn=m.__private__.putPages=function(){var M,ae,Se=[];for(M=1;M<=Ut;M++)Jt[M].objId=Er(),Jt[M].contentsObjId=Er();for(M=1;M<=Ut;M++)Se.push(Wn({number:M,data:Ee[M],objId:Jt[M].objId,contentsObjId:Jt[M].contentsObjId,mediaBox:Jt[M].mediaBox,cropBox:Jt[M].cropBox,bleedBox:Jt[M].bleedBox,trimBox:Jt[M].trimBox,artBox:Jt[M].artBox,userUnit:Jt[M].userUnit,rootDictionaryObjId:ms,resourceDictionaryObjId:Jn}));Bt(ms,!0),ie("<</Type /Pages");var Oe="/Kids [";for(ae=0;ae<Ut;ae++)Oe+=Se[ae]+" 0 R ";ie(Oe+"]"),ie("/Count "+Ut),ie(">>"),ie("endobj"),dt.publish("postPutPages")},sr=function(M){dt.publish("putFont",{font:M,out:ie,newObject:ts,putStream:Cn}),M.isAlreadyPutted!==!0&&(M.objectNumber=ts(),ie("<<"),ie("/Type /Font"),ie("/BaseFont /"+zy(M.postScriptName)),ie("/Subtype /Type1"),typeof M.encoding=="string"&&ie("/Encoding /"+M.encoding),ie("/FirstChar 32"),ie("/LastChar 255"),ie(">>"),ie("endobj"))},oa=function(M){M.objectNumber=ts();var ae=[];ae.push({key:"Type",value:"/XObject"}),ae.push({key:"Subtype",value:"/Form"}),ae.push({key:"BBox",value:"["+[F(M.x),F(M.y),F(M.x+M.width),F(M.y+M.height)].join(" ")+"]"}),ae.push({key:"Matrix",value:"["+M.matrix.toString()+"]"});var Se=M.pages[1].join(`
`);Cn({data:Se,additionalKeyValues:ae,objectId:M.objectNumber}),ie("endobj")},Qr=function(M,ae){ae||(ae=21);var Se=ts(),Oe=(function(Tt,dn){var Bn,Vn=[],er=1/(dn-1);for(Bn=0;Bn<1;Bn+=er)Vn.push(Bn);if(Vn.push(1),Tt[0].offset!=0){var jr={offset:0,color:Tt[0].color};Tt.unshift(jr)}if(Tt[Tt.length-1].offset!=1){var Vs={offset:1,color:Tt[Tt.length-1].color};Tt.push(Vs)}for(var ui="",gs=0,Zi=0;Zi<Vn.length;Zi++){for(Bn=Vn[Zi];Bn>Tt[gs+1].offset;)gs++;var Ii=Tt[gs].offset,la=(Bn-Ii)/(Tt[gs+1].offset-Ii),Wc=Tt[gs].color,Dl=Tt[gs+1].color;ui+=le(Math.round((1-la)*Wc[0]+la*Dl[0]).toString(16))+le(Math.round((1-la)*Wc[1]+la*Dl[1]).toString(16))+le(Math.round((1-la)*Wc[2]+la*Dl[2]).toString(16))}return ui.trim()})(M.colors,ae),Qe=[];Qe.push({key:"FunctionType",value:"0"}),Qe.push({key:"Domain",value:"[0.0 1.0]"}),Qe.push({key:"Size",value:"["+ae+"]"}),Qe.push({key:"BitsPerSample",value:"8"}),Qe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Qe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Cn({data:Oe,additionalKeyValues:Qe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Se}),ie("endobj"),M.objectNumber=ts(),ie("<< /ShadingType "+M.type),ie("/ColorSpace /DeviceRGB");var bt="/Coords ["+F(parseFloat(M.coords[0]))+" "+F(parseFloat(M.coords[1]))+" ";M.type===2?bt+=F(parseFloat(M.coords[2]))+" "+F(parseFloat(M.coords[3])):bt+=F(parseFloat(M.coords[2]))+" "+F(parseFloat(M.coords[3]))+" "+F(parseFloat(M.coords[4]))+" "+F(parseFloat(M.coords[5])),ie(bt+="]"),M.matrix&&ie("/Matrix ["+M.matrix.toString()+"]"),ie("/Function "+Se+" 0 R"),ie("/Extend [true true]"),ie(">>"),ie("endobj")},os=function(M,ae){var Se=Er(),Oe=ts();ae.push({resourcesOid:Se,objectOid:Oe}),M.objectNumber=Oe;var Qe=[];Qe.push({key:"Type",value:"/Pattern"}),Qe.push({key:"PatternType",value:"1"}),Qe.push({key:"PaintType",value:"1"}),Qe.push({key:"TilingType",value:"1"}),Qe.push({key:"BBox",value:"["+M.boundingBox.map(F).join(" ")+"]"}),Qe.push({key:"XStep",value:F(M.xStep)}),Qe.push({key:"YStep",value:F(M.yStep)}),Qe.push({key:"Resources",value:Se+" 0 R"}),M.matrix&&Qe.push({key:"Matrix",value:"["+M.matrix.toString()+"]"}),Cn({data:M.stream,additionalKeyValues:Qe,objectId:M.objectNumber}),ie("endobj")},Pr=function(M){for(var ae in M.objectNumber=ts(),ie("<<"),M)switch(ae){case"opacity":ie("/ca "+j(M[ae]));break;case"stroke-opacity":ie("/CA "+j(M[ae]))}ie(">>"),ie("endobj")},Xi=function(M){Bt(M.resourcesOid,!0),ie("<<"),ie("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var ae in ie("/Font <<"),Ot)Ot.hasOwnProperty(ae)&&(f===!1||f===!0&&h.hasOwnProperty(ae))&&ie("/"+ae+" "+Ot[ae].objectNumber+" 0 R");ie(">>")})(),(function(){if(Object.keys($e).length>0){for(var ae in ie("/Shading <<"),$e)$e.hasOwnProperty(ae)&&$e[ae]instanceof Ag&&$e[ae].objectNumber>=0&&ie("/"+ae+" "+$e[ae].objectNumber+" 0 R");dt.publish("putShadingPatternDict"),ie(">>")}})(),(function(ae){if(Object.keys($e).length>0){for(var Se in ie("/Pattern <<"),$e)$e.hasOwnProperty(Se)&&$e[Se]instanceof m.TilingPattern&&$e[Se].objectNumber>=0&&$e[Se].objectNumber<ae&&ie("/"+Se+" "+$e[Se].objectNumber+" 0 R");dt.publish("putTilingPatternDict"),ie(">>")}})(M.objectOid),(function(){if(Object.keys(Ct).length>0){var ae;for(ae in ie("/ExtGState <<"),Ct)Ct.hasOwnProperty(ae)&&Ct[ae].objectNumber>=0&&ie("/"+ae+" "+Ct[ae].objectNumber+" 0 R");dt.publish("putGStateDict"),ie(">>")}})(),(function(){for(var ae in ie("/XObject <<"),Gr)Gr.hasOwnProperty(ae)&&Gr[ae].objectNumber>=0&&ie("/"+ae+" "+Gr[ae].objectNumber+" 0 R");dt.publish("putXobjectDict"),ie(">>")})(),ie(">>"),ie("endobj")},Ir=function(M){xn[M.fontName]=xn[M.fontName]||{},xn[M.fontName][M.fontStyle]=M.id},ti=function(M,ae,Se,Oe,Qe){var bt={id:"F"+(Object.keys(Ot).length+1).toString(10),postScriptName:M,fontName:ae,fontStyle:Se,encoding:Oe,isStandardFont:Qe||!1,metadata:{}};return dt.publish("addFont",{font:bt,instance:this}),Ot[bt.id]=bt,Ir(bt),bt.id},rs=m.__private__.pdfEscape=m.pdfEscape=function(M,ae){return(function(Se,Oe){var Qe,bt,Tt,dn,Bn,Vn,er,jr,Vs;if(Tt=(Oe=Oe||{}).sourceEncoding||"Unicode",Bn=Oe.outputEncoding,(Oe.autoencode||Bn)&&Ot[Qt].metadata&&Ot[Qt].metadata[Tt]&&Ot[Qt].metadata[Tt].encoding&&(dn=Ot[Qt].metadata[Tt].encoding,!Bn&&Ot[Qt].encoding&&(Bn=Ot[Qt].encoding),!Bn&&dn.codePages&&(Bn=dn.codePages[0]),typeof Bn=="string"&&(Bn=dn[Bn]),Bn)){for(er=!1,Vn=[],Qe=0,bt=Se.length;Qe<bt;Qe++)(jr=Bn[Se.charCodeAt(Qe)])?Vn.push(String.fromCharCode(jr)):Vn.push(Se[Qe]),Vn[Qe].charCodeAt(0)>>8&&(er=!0);Se=Vn.join("")}for(Qe=Se.length;er===void 0&&Qe!==0;)Se.charCodeAt(Qe-1)>>8&&(er=!0),Qe--;if(!er)return Se;for(Vn=Oe.noBOM?[]:[254,255],Qe=0,bt=Se.length;Qe<bt;Qe++){if((Vs=(jr=Se.charCodeAt(Qe))>>8)>>8)throw new Error("Character at position "+Qe+" of string '"+Se+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Vn.push(Vs),Vn.push(jr-(Vs<<8))}return String.fromCharCode.apply(void 0,Vn)})(M,ae).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},st=m.__private__.beginPage=function(M){Ee[++Ut]=[],Jt[Ut]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(M[0]),topRightY:Number(M[1])}},Gt(Ut),at(Ee[X])},gt=function(M,ae){var Se,Oe,Qe;switch(n=ae||n,typeof M=="string"&&(Se=v(M.toLowerCase()),Array.isArray(Se)&&(Oe=Se[0],Qe=Se[1])),Array.isArray(M)&&(Oe=M[0]*rn,Qe=M[1]*rn),isNaN(Oe)&&(Oe=s[0],Qe=s[1]),(Oe>14400||Qe>14400)&&(Xs.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Oe=Math.min(14400,Oe),Qe=Math.min(14400,Qe)),s=[Oe,Qe],n.substr(0,1)){case"l":Qe>Oe&&(s=[Qe,Oe]);break;case"p":Oe>Qe&&(s=[Qe,Oe])}st(s),Dn(mn),ie(V),kn!==0&&ie(kn+" J"),Tn!==0&&ie(Tn+" j"),dt.publish("addPage",{pageNumber:Ut})},Pt=function(M){M>0&&M<=Ut&&(Ee.splice(M,1),Jt.splice(M,1),Ut--,X>Ut&&(X=Ut),this.setPage(X))},Gt=function(M){M>0&&M<=Ut&&(X=M)},jn=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return Ee.length-1},mr=function(M,ae,Se){var Oe,Qe=void 0;return Se=Se||{},M=M!==void 0?M:Ot[Qt].fontName,ae=ae!==void 0?ae:Ot[Qt].fontStyle,Oe=M.toLowerCase(),xn[Oe]!==void 0&&xn[Oe][ae]!==void 0?Qe=xn[Oe][ae]:xn[M]!==void 0&&xn[M][ae]!==void 0?Qe=xn[M][ae]:Se.disableWarning===!1&&Xs.warn("Unable to look up font label for font '"+M+"', '"+ae+"'. Refer to getFontList() for available fonts."),Qe||Se.noFallback||(Qe=xn.times[ae])==null&&(Qe=xn.times.normal),Qe},ai=m.__private__.putInfo=function(){var M=ts(),ae=function(Oe){return Oe};for(var Se in d!==null&&(ae=Ji.encryptor(M,0)),ie("<<"),ie("/Producer ("+rs(ae("jsPDF "+_n.version))+")"),fn)fn.hasOwnProperty(Se)&&fn[Se]&&ie("/"+Se.substr(0,1).toUpperCase()+Se.substr(1)+" ("+rs(ae(fn[Se]))+")");ie("/CreationDate ("+rs(ae(ee))+")"),ie(">>"),ie("endobj")},vo=m.__private__.putCatalog=function(M){var ae=(M=M||{}).rootDictionaryObjId||ms;switch(ts(),ie("<<"),ie("/Type /Catalog"),ie("/Pages "+ae+" 0 R"),At||(At="fullwidth"),At){case"fullwidth":ie("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ie("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ie("/OpenAction [3 0 R /Fit]");break;case"original":ie("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Se=""+At;Se.substr(Se.length-1)==="%"&&(At=parseInt(At)/100),typeof At=="number"&&ie("/OpenAction [3 0 R /XYZ null null "+j(At)+"]")}switch(Sn||(Sn="continuous"),Sn){case"continuous":ie("/PageLayout /OneColumn");break;case"single":ie("/PageLayout /SinglePage");break;case"two":case"twoleft":ie("/PageLayout /TwoColumnLeft");break;case"tworight":ie("/PageLayout /TwoColumnRight")}kt&&ie("/PageMode /"+kt),dt.publish("putCatalog"),ie(">>"),ie("endobj")},ki=m.__private__.putTrailer=function(){ie("trailer"),ie("<<"),ie("/Size "+(he+1)),ie("/Root "+he+" 0 R"),ie("/Info "+(he-1)+" 0 R"),d!==null&&ie("/Encrypt "+Ji.oid+" 0 R"),ie("/ID [ <"+q+"> <"+q+"> ]"),ie(">>")},En=m.__private__.putHeader=function(){ie("%PDF-"+g),ie("%")},wo=m.__private__.putXRef=function(){var M="0000000000";ie("xref"),ie("0 "+(he+1)),ie("0000000000 65535 f ");for(var ae=1;ae<=he;ae++)typeof xe[ae]=="function"?ie((M+xe[ae]()).slice(-10)+" 00000 n "):xe[ae]!==void 0?ie((M+xe[ae]).slice(-10)+" 00000 n "):ie("0000000000 00000 n ")},oi=m.__private__.buildDocument=function(){var M;he=0,me=0,Be=[],xe=[],ve=[],ms=Er(),Jn=Er(),at(Be),dt.publish("buildDocument"),En(),Xn(),(function(){dt.publish("putAdditionalObjects");for(var Se=0;Se<ve.length;Se++){var Oe=ve[Se];Bt(Oe.objId,!0),ie(Oe.content),ie("endobj")}dt.publish("postPutAdditionalObjects")})(),M=[],(function(){for(var Se in Ot)Ot.hasOwnProperty(Se)&&(f===!1||f===!0&&h.hasOwnProperty(Se))&&sr(Ot[Se])})(),(function(){var Se;for(Se in Ct)Ct.hasOwnProperty(Se)&&Pr(Ct[Se])})(),(function(){for(var Se in Gr)Gr.hasOwnProperty(Se)&&oa(Gr[Se])})(),(function(Se){var Oe;for(Oe in $e)$e.hasOwnProperty(Oe)&&($e[Oe]instanceof Ag?Qr($e[Oe]):$e[Oe]instanceof Xy&&os($e[Oe],Se))})(M),dt.publish("putResources"),M.forEach(Xi),Xi({resourcesOid:Jn,objectOid:Number.MAX_SAFE_INTEGER}),dt.publish("postPutResources"),d!==null&&(Ji.oid=ts(),ie("<<"),ie("/Filter /Standard"),ie("/V "+Ji.v),ie("/R "+Ji.r),ie("/U <"+Ji.toHexString(Ji.U)+">"),ie("/O <"+Ji.toHexString(Ji.O)+">"),ie("/P "+Ji.P),ie(">>"),ie("endobj")),ai(),vo();var ae=me;return wo(),ki(),ie("startxref"),ie(""+ae),ie("%%EOF"),at(Ee[X]),Be.join(`
`)},Yi=m.__private__.getBlob=function(M){return new Blob([tt(M)],{type:"application/pdf"})},xu=m.output=m.__private__.output=(wr=function(M,ae){switch(typeof(ae=ae||{})=="string"?ae={filename:ae}:ae.filename=ae.filename||"generated.pdf",M){case void 0:return oi();case"save":m.save(ae.filename);break;case"arraybuffer":return tt(oi());case"blob":return Yi(oi());case"bloburi":case"bloburl":if(nr.URL!==void 0&&typeof nr.URL.createObjectURL=="function")return nr.URL&&nr.URL.createObjectURL(Yi(oi()))||void 0;Xs.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Se="",Oe=oi();try{Se=QX(Oe)}catch{Se=QX(unescape(encodeURIComponent(Oe)))}return"data:application/pdf;filename="+ae.filename+";base64,"+Se;case"pdfobjectnewwindow":if(Object.prototype.toString.call(nr)==="[object Window]"){var Qe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",bt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ae.pdfObjectUrl&&(Qe=ae.pdfObjectUrl,bt="");var Tt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Qe+'"'+bt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ae)+");<\/script></body></html>",dn=nr.open();return dn!==null&&dn.document.write(Tt),dn}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(nr)==="[object Window]"){var Bn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ae.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ae.filename+'" width="500px" height="400px" /></body></html>',Vn=nr.open();if(Vn!==null){Vn.document.write(Bn);var er=this;Vn.document.documentElement.querySelector("#pdfViewer").onload=function(){Vn.document.title=ae.filename,Vn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(er.output("bloburl"))}}return Vn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(nr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var jr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ae)+'"></iframe></body></html>',Vs=nr.open();if(Vs!==null&&(Vs.document.write(jr),Vs.document.title=ae.filename),Vs||typeof safari>"u")return Vs;break;case"datauri":case"dataurl":return nr.document.location.href=this.output("datauristring",ae);default:return null}},wr.foo=function(){try{return wr.apply(this,arguments)}catch(Se){var M=Se.stack||"";~M.indexOf(" at ")&&(M=M.split(" at ")[1]);var ae="Error in function "+M.split(`
`)[0].split("<")[0]+": "+Se.message;if(!nr.console)throw new Error(ae);nr.console.error(ae,Se),nr.alert&&alert(ae)}},wr.foo.bar=wr,wr.foo),Sa=function(M){return Array.isArray(pr)===!0&&pr.indexOf(M)>-1};switch(r){case"pt":rn=1;break;case"mm":rn=72/25.4;break;case"cm":rn=72/2.54;break;case"in":rn=72;break;case"px":rn=Sa("px_scaling")==1?.75:96/72;break;case"pc":case"em":rn=12;break;case"ex":rn=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);rn=r}var Ji=null;H(),G();var Bi=m.__private__.getPageInfo=m.getPageInfo=function(M){if(isNaN(M)||M%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Jt[M].objId,pageNumber:M,pageContext:Jt[M]}},sc=m.__private__.getPageInfoByObjId=function(M){if(isNaN(M)||M%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ae in Jt)if(Jt[ae].objId===M)break;return Bi(ae)},BA=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:Jt[X].objId,pageNumber:X,pageContext:Jt[X]}};m.addPage=function(){return gt.apply(this,arguments),this},m.setPage=function(){return Gt.apply(this,arguments),at.call(this,Ee[X]),this},m.insertPage=function(M){return this.addPage(),this.movePage(X,M),this},m.movePage=function(M,ae){var Se,Oe;if(M>ae){Se=Ee[M],Oe=Jt[M];for(var Qe=M;Qe>ae;Qe--)Ee[Qe]=Ee[Qe-1],Jt[Qe]=Jt[Qe-1];Ee[ae]=Se,Jt[ae]=Oe,this.setPage(ae)}else if(M<ae){Se=Ee[M],Oe=Jt[M];for(var bt=M;bt<ae;bt++)Ee[bt]=Ee[bt+1],Jt[bt]=Jt[bt+1];Ee[ae]=Se,Jt[ae]=Oe,this.setPage(ae)}return this},m.deletePage=function(){return Pt.apply(this,arguments),this},m.__private__.text=m.text=function(M,ae,Se,Oe,Qe){var bt,Tt,dn,Bn,Vn,er,jr,Vs,ui,gs=(Oe=Oe||{}).scope||this;if(typeof M=="number"&&typeof ae=="number"&&(typeof Se=="string"||Array.isArray(Se))){var Zi=Se;Se=ae,ae=M,M=Zi}if(arguments[3]instanceof cn==0?(dn=arguments[4],Bn=arguments[5],js(jr=arguments[3])==="object"&&jr!==null||(typeof dn=="string"&&(Bn=dn,dn=null),typeof jr=="string"&&(Bn=jr,jr=null),typeof jr=="number"&&(dn=jr,jr=null),Oe={flags:jr,angle:dn,align:Bn})):(D("The transform parameter of text() with a Matrix value"),ui=Qe),isNaN(ae)||isNaN(Se)||M==null)throw new Error("Invalid arguments passed to jsPDF.text");if(M.length===0)return gs;var Ii,la="",Wc=typeof Oe.lineHeightFactor=="number"?Oe.lineHeightFactor:Uc,Dl=gs.internal.scaleFactor;function Vc(ss){return ss=ss.split("	").join(Array(Oe.TabLen||9).join(" ")),rs(ss,jr)}function wu(ss){for(var Hr,Ls=ss.concat(),na=[],Iu=Ls.length;Iu--;)typeof(Hr=Ls.shift())=="string"?na.push(Hr):Array.isArray(ss)&&(Hr.length===1||Hr[1]===void 0&&Hr[2]===void 0)?na.push(Hr[0]):na.push([Hr[0],Hr[1],Hr[2]]);return na}function xd(ss,Hr){var Ls;if(typeof ss=="string")Ls=Hr(ss)[0];else if(Array.isArray(ss)){for(var na,Iu,Gc=ss.concat(),TA=[],Fm=Gc.length;Fm--;)typeof(na=Gc.shift())=="string"?TA.push(Hr(na)[0]):Array.isArray(na)&&typeof na[0]=="string"&&(Iu=Hr(na[0],na[1],na[2]),TA.push([Iu[0],Iu[1],Iu[2]]));Ls=TA}return Ls}var Ll=!1,dl=!0;if(typeof M=="string")Ll=!0;else if(Array.isArray(M)){var qe=M.concat();Tt=[];for(var St,Vt=qe.length;Vt--;)(typeof(St=qe.shift())!="string"||Array.isArray(St)&&typeof St[0]!="string")&&(dl=!1);Ll=dl}if(Ll===!1)throw new Error('Type of text must be string or Array. "'+M+'" is not recognized.');typeof M=="string"&&(M=M.match(/[\r?\n]/)?M.split(/\r\n|\r|\n/g):[M]);var In=_e/gs.internal.scaleFactor,zn=In*(Wc-1);switch(Oe.baseline){case"bottom":Se-=zn;break;case"top":Se+=In-zn;break;case"hanging":Se+=In-2*zn;break;case"middle":Se+=In/2-zn}if((er=Oe.maxWidth||0)>0&&(typeof M=="string"?M=gs.splitTextToSize(M,er):Object.prototype.toString.call(M)==="[object Array]"&&(M=M.reduce(function(ss,Hr){return ss.concat(gs.splitTextToSize(Hr,er))},[]))),bt={text:M,x:ae,y:Se,options:Oe,mutex:{pdfEscape:rs,activeFontKey:Qt,fonts:Ot,activeFontSize:_e}},dt.publish("preProcessText",bt),M=bt.text,dn=(Oe=bt.options).angle,ui instanceof cn==0&&dn&&typeof dn=="number"){dn*=Math.PI/180,Oe.rotationDirection===0&&(dn=-dn),k===B&&(dn=-dn);var Sr=Math.cos(dn),Ni=Math.sin(dn);ui=new cn(Sr,Ni,-Ni,Sr,0,0)}else dn&&dn instanceof cn&&(ui=dn);k!==B||ui||(ui=Cs),(Vn=Oe.charSpace||Ge)!==void 0&&(la+=F(U(Vn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Vs=Oe.horizontalScale)!==void 0&&(la+=F(100*Vs)+` Tz
`),Oe.lang;var ys=-1,di=Oe.renderingMode!==void 0?Oe.renderingMode:Oe.stroke,La=gs.internal.getCurrentPageInfo().pageContext;switch(di){case 0:case!1:case"fill":ys=0;break;case 1:case!0:case"stroke":ys=1;break;case 2:case"fillThenStroke":ys=2;break;case 3:case"invisible":ys=3;break;case 4:case"fillAndAddForClipping":ys=4;break;case 5:case"strokeAndAddPathForClipping":ys=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ys=6;break;case 7:case"addToPathForClipping":ys=7}var bd=La.usedRenderingMode!==void 0?La.usedRenderingMode:-1;ys!==-1?la+=ys+` Tr
`:bd!==-1&&(la+=`0 Tr
`),ys!==-1&&(La.usedRenderingMode=ys),Bn=Oe.align||"left";var ea,$l=_e*Wc,vd=gs.internal.pageSize.getWidth(),Om=Ot[Qt];Vn=Oe.charSpace||Ge,er=Oe.maxWidth||0,jr=Object.assign({autoencode:!0,noBOM:!0},Oe.flags);var qc=[],vf=function(ss){return gs.getStringUnitWidth(ss,{font:Om,charSpace:Vn,fontSize:_e,doKerning:!1})*_e/Dl};if(Object.prototype.toString.call(M)==="[object Array]"){var fl;Tt=wu(M),Bn!=="left"&&(ea=Tt.map(vf));var Yo,Su=0;if(Bn==="right"){ae-=ea[0],M=[],Vt=Tt.length;for(var Cu=0;Cu<Vt;Cu++)Cu===0?(Yo=Ei(ae),fl=ci(Se)):(Yo=U(Su-ea[Cu]),fl=-$l),M.push([Tt[Cu],Yo,fl]),Su=ea[Cu]}else if(Bn==="center"){ae-=ea[0]/2,M=[],Vt=Tt.length;for(var wd=0;wd<Vt;wd++)wd===0?(Yo=Ei(ae),fl=ci(Se)):(Yo=U((Su-ea[wd])/2),fl=-$l),M.push([Tt[wd],Yo,fl]),Su=ea[wd]}else if(Bn==="left"){M=[],Vt=Tt.length;for(var Jh=0;Jh<Vt;Jh++)M.push(Tt[Jh])}else if(Bn==="justify"&&Om.encoding==="Identity-H"){M=[],Vt=Tt.length,er=er!==0?er:vd;for(var Zh=0,ta=0;ta<Vt;ta++)if(fl=ta===0?ci(Se):-$l,Yo=ta===0?Ei(ae):Zh,ta<Vt-1){var $0=U((er-ea[ta])/(Tt[ta].split(" ").length-1)),ku=Tt[ta].split(" ");M.push([ku[0]+" ",Yo,fl]),Zh=0;for(var Bu=1;Bu<ku.length;Bu++){var to=(vf(ku[Bu-1]+" "+ku[Bu])-vf(ku[Bu]))*Dl+$0;Bu==ku.length-1?M.push([ku[Bu],to,0]):M.push([ku[Bu]+" ",to,0]),Zh-=to}}else M.push([Tt[ta],Yo,fl]);M.push(["",Zh,0])}else{if(Bn!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(M=[],Vt=Tt.length,er=er!==0?er:vd,ta=0;ta<Vt;ta++){fl=ta===0?ci(Se):-$l,Yo=ta===0?Ei(ae):0;var Sd=Tt[ta].split(" ").length-1,ep=Sd>0?(er-ea[ta])/Sd:0;ta<Vt-1?qc.push(F(U(ep))):qc.push(0),M.push([Tt[ta],Yo,fl])}}}(typeof Oe.R2L=="boolean"?Oe.R2L:$t)===!0&&(M=xd(M,function(ss,Hr,Ls){return[ss.split("").reverse().join(""),Hr,Ls]})),bt={text:M,x:ae,y:Se,options:Oe,mutex:{pdfEscape:rs,activeFontKey:Qt,fonts:Ot,activeFontSize:_e}},dt.publish("postProcessText",bt),M=bt.text,Ii=bt.mutex.isHex||!1;var tp=Ot[Qt].encoding;tp!=="WinAnsiEncoding"&&tp!=="StandardEncoding"||(M=xd(M,function(ss,Hr,Ls){return[Vc(ss),Hr,Ls]})),Tt=wu(M),M=[];for(var Cd,kd,Eu,jA=Array.isArray(Tt[0])?1:0,Pl="",Bd=function(ss,Hr,Ls){var na="";return Ls instanceof cn?(Ls=typeof Oe.angle=="number"?Ki(Ls,new cn(1,0,0,1,ss,Hr)):Ki(new cn(1,0,0,1,ss,Hr),Ls),k===B&&(Ls=Ki(new cn(1,0,0,-1,0,0),Ls)),na=Ls.join(" ")+` Tm
`):na=F(ss)+" "+F(Hr)+` Td
`,na},So=0;So<Tt.length;So++){switch(Pl="",jA){case 1:Eu=(Ii?"<":"(")+Tt[So][0]+(Ii?">":")"),Cd=parseFloat(Tt[So][1]),kd=parseFloat(Tt[So][2]);break;case 0:Eu=(Ii?"<":"(")+Tt[So]+(Ii?">":")"),Cd=Ei(ae),kd=ci(Se)}qc!==void 0&&qc[So]!==void 0&&(Pl=qc[So]+` Tw
`),So===0?M.push(Pl+Bd(Cd,kd,ui)+Eu):jA===0?M.push(Pl+Eu):jA===1&&M.push(Pl+Bd(Cd,kd,ui)+Eu)}M=jA===0?M.join(` Tj
T* `):M.join(` Tj
`),M+=` Tj
`;var oc=`BT
/`;return oc+=Qt+" "+_e+` Tf
`,oc+=F(_e*Wc)+` TL
`,oc+=pe+`
`,oc+=la,oc+=M,ie(oc+="ET"),h[Qt]=!0,gs};var EA=m.__private__.clip=m.clip=function(M){return ie(M==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return EA("evenodd")},m.__private__.discardPath=m.discardPath=function(){return ie("n"),this};var Ca=m.__private__.isValidStyle=function(M){var ae=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(M)!==-1&&(ae=!0),ae};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(M){return Ca(M)&&(u=M),this};var xf=m.__private__.getStyle=m.getStyle=function(M){var ae=u;switch(M){case"D":case"S":ae="S";break;case"F":ae="f";break;case"FD":case"DF":ae="B";break;case"f":case"f*":case"B":case"B*":ae=M}return ae},dd=m.close=function(){return ie("h"),this};m.stroke=function(){return ie("S"),this},m.fill=function(M){return Xo("f",M),this},m.fillEvenOdd=function(M){return Xo("f*",M),this},m.fillStroke=function(M){return Xo("B",M),this},m.fillStrokeEvenOdd=function(M){return Xo("B*",M),this};var Xo=function(M,ae){js(ae)==="object"?hd(ae,M):ie(M)},fd=function(M){M===null||k===B&&M===void 0||(M=xf(M),ie(M))};function Ad(M,ae,Se,Oe,Qe){var bt=new Xy(ae||this.boundingBox,Se||this.xStep,Oe||this.yStep,this.gState,Qe||this.matrix);bt.stream=this.stream;var Tt=M+"$$"+this.cloneIndex+++"$$";return Ds(Tt,bt),bt}var hd=function(M,ae){var Se=yt[M.key],Oe=$e[Se];if(Oe instanceof Ag)ie("q"),ie(Fl(ae)),Oe.gState&&m.setGState(Oe.gState),ie(M.matrix.toString()+" cm"),ie("/"+Se+" sh"),ie("Q");else if(Oe instanceof Xy){var Qe=new cn(1,0,0,-1,0,Hc());M.matrix&&(Qe=Qe.multiply(M.matrix||Cs),Se=Ad.call(Oe,M.key,M.boundingBox,M.xStep,M.yStep,Qe).id),ie("q"),ie("/Pattern cs"),ie("/"+Se+" scn"),Oe.gState&&m.setGState(Oe.gState),ie(ae),ie("Q")}},Fl=function(M){switch(M){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},pd=m.moveTo=function(M,ae){return ie(F(U(M))+" "+F(z(ae))+" m"),this},ul=m.lineTo=function(M,ae){return ie(F(U(M))+" "+F(z(ae))+" l"),this},li=m.curveTo=function(M,ae,Se,Oe,Qe,bt){return ie([F(U(M)),F(z(ae)),F(U(Se)),F(z(Oe)),F(U(Qe)),F(z(bt)),"c"].join(" ")),this};m.__private__.line=m.line=function(M,ae,Se,Oe,Qe){if(isNaN(M)||isNaN(ae)||isNaN(Se)||isNaN(Oe)||!Ca(Qe))throw new Error("Invalid arguments passed to jsPDF.line");return k===w?this.lines([[Se-M,Oe-ae]],M,ae,[1,1],Qe||"S"):this.lines([[Se-M,Oe-ae]],M,ae,[1,1]).stroke()},m.__private__.lines=m.lines=function(M,ae,Se,Oe,Qe,bt){var Tt,dn,Bn,Vn,er,jr,Vs,ui,gs,Zi,Ii,la;if(typeof M=="number"&&(la=Se,Se=ae,ae=M,M=la),Oe=Oe||[1,1],bt=bt||!1,isNaN(ae)||isNaN(Se)||!Array.isArray(M)||!Array.isArray(Oe)||!Ca(Qe)||typeof bt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(pd(ae,Se),Tt=Oe[0],dn=Oe[1],Vn=M.length,Zi=ae,Ii=Se,Bn=0;Bn<Vn;Bn++)(er=M[Bn]).length===2?(Zi=er[0]*Tt+Zi,Ii=er[1]*dn+Ii,ul(Zi,Ii)):(jr=er[0]*Tt+Zi,Vs=er[1]*dn+Ii,ui=er[2]*Tt+Zi,gs=er[3]*dn+Ii,Zi=er[4]*Tt+Zi,Ii=er[5]*dn+Ii,li(jr,Vs,ui,gs,Zi,Ii));return bt&&dd(),fd(Qe),this},m.path=function(M){for(var ae=0;ae<M.length;ae++){var Se=M[ae],Oe=Se.c;switch(Se.op){case"m":pd(Oe[0],Oe[1]);break;case"l":ul(Oe[0],Oe[1]);break;case"c":li.apply(this,Oe);break;case"h":dd()}}return this},m.__private__.rect=m.rect=function(M,ae,Se,Oe,Qe){if(isNaN(M)||isNaN(ae)||isNaN(Se)||isNaN(Oe)||!Ca(Qe))throw new Error("Invalid arguments passed to jsPDF.rect");return k===w&&(Oe=-Oe),ie([F(U(M)),F(z(ae)),F(U(Se)),F(U(Oe)),"re"].join(" ")),fd(Qe),this},m.__private__.triangle=m.triangle=function(M,ae,Se,Oe,Qe,bt,Tt){if(isNaN(M)||isNaN(ae)||isNaN(Se)||isNaN(Oe)||isNaN(Qe)||isNaN(bt)||!Ca(Tt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Se-M,Oe-ae],[Qe-Se,bt-Oe],[M-Qe,ae-bt]],M,ae,[1,1],Tt,!0),this},m.__private__.roundedRect=m.roundedRect=function(M,ae,Se,Oe,Qe,bt,Tt){if(isNaN(M)||isNaN(ae)||isNaN(Se)||isNaN(Oe)||isNaN(Qe)||isNaN(bt)||!Ca(Tt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var dn=4/3*(Math.SQRT2-1);return Qe=Math.min(Qe,.5*Se),bt=Math.min(bt,.5*Oe),this.lines([[Se-2*Qe,0],[Qe*dn,0,Qe,bt-bt*dn,Qe,bt],[0,Oe-2*bt],[0,bt*dn,-Qe*dn,bt,-Qe,bt],[2*Qe-Se,0],[-Qe*dn,0,-Qe,-bt*dn,-Qe,-bt],[0,2*bt-Oe],[0,-bt*dn,Qe*dn,-bt,Qe,-bt]],M+Qe,ae,[1,1],Tt,!0),this},m.__private__.ellipse=m.ellipse=function(M,ae,Se,Oe,Qe){if(isNaN(M)||isNaN(ae)||isNaN(Se)||isNaN(Oe)||!Ca(Qe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var bt=4/3*(Math.SQRT2-1)*Se,Tt=4/3*(Math.SQRT2-1)*Oe;return pd(M+Se,ae),li(M+Se,ae-Tt,M+bt,ae-Oe,M,ae-Oe),li(M-bt,ae-Oe,M-Se,ae-Tt,M-Se,ae),li(M-Se,ae+Tt,M-bt,ae+Oe,M,ae+Oe),li(M+bt,ae+Oe,M+Se,ae+Tt,M+Se,ae),fd(Qe),this},m.__private__.circle=m.circle=function(M,ae,Se,Oe){if(isNaN(M)||isNaN(ae)||isNaN(Se)||!Ca(Oe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(M,ae,Se,Se,Oe)},m.setFont=function(M,ae,Se){return Se&&(ae=O(ae,Se)),Qt=mr(M,ae,{disableWarning:!1}),this};var eo=m.__private__.getFont=m.getFont=function(){return Ot[mr.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var M,ae,Se={};for(M in xn)if(xn.hasOwnProperty(M))for(ae in Se[M]=[],xn[M])xn[M].hasOwnProperty(ae)&&Se[M].push(ae);return Se},m.addFont=function(M,ae,Se,Oe,Qe){var bt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&bt.indexOf(arguments[3])!==-1?Qe=arguments[3]:arguments[3]&&bt.indexOf(arguments[3])==-1&&(Se=O(Se,Oe)),ti.call(this,M,ae,Se,Qe=Qe||"Identity-H")};var Uc,mn=t.lineWidth||.200025,ic=m.__private__.getLineWidth=m.getLineWidth=function(){return mn},Dn=m.__private__.setLineWidth=m.setLineWidth=function(M){return mn=M,ie(F(U(M))+" w"),this};m.__private__.setLineDash=_n.API.setLineDash=_n.API.setLineDashPattern=function(M,ae){if(M=M||[],ae=ae||0,isNaN(ae)||!Array.isArray(M))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return M=M.map(function(Se){return F(U(Se))}).join(" "),ae=F(U(ae)),ie("["+M+"] "+ae+" d"),this};var IA=m.__private__.getLineHeight=m.getLineHeight=function(){return _e*Uc};m.__private__.getLineHeight=m.getLineHeight=function(){return _e*Uc};var bf=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(M){return typeof(M=M||1.15)=="number"&&(Uc=M),this},bu=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return Uc};bf(t.lineHeight);var Ei=m.__private__.getHorizontalCoordinate=function(M){return U(M)},ci=m.__private__.getVerticalCoordinate=function(M){return k===B?M:Jt[X].mediaBox.topRightY-Jt[X].mediaBox.bottomLeftY-U(M)},md=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(M){return F(Ei(M))},L=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(M){return F(ci(M))},V=t.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return ns(V)},m.__private__.setStrokeColor=m.setDrawColor=function(M,ae,Se,Oe){return V=Ci({ch1:M,ch2:ae,ch3:Se,ch4:Oe,pdfColorType:"draw",precision:2}),ie(V),this};var se=t.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return ns(se)},m.__private__.setFillColor=m.setFillColor=function(M,ae,Se,Oe){return se=Ci({ch1:M,ch2:ae,ch3:Se,ch4:Oe,pdfColorType:"fill",precision:2}),ie(se),this};var pe=t.textColor||"0 g",Re=m.__private__.getTextColor=m.getTextColor=function(){return ns(pe)};m.__private__.setTextColor=m.setTextColor=function(M,ae,Se,Oe){return pe=Ci({ch1:M,ch2:ae,ch3:Se,ch4:Oe,pdfColorType:"text",precision:3}),this};var Ge=t.charSpace,ht=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(Ge||0)};m.__private__.setCharSpace=m.setCharSpace=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ge=M,this};var kn=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(M){var ae=m.CapJoinStyles[M];if(ae===void 0)throw new Error("Line cap style of '"+M+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return kn=ae,ie(ae+" J"),this};var Tn=0;m.__private__.setLineJoin=m.setLineJoin=function(M){var ae=m.CapJoinStyles[M];if(ae===void 0)throw new Error("Line join style of '"+M+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Tn=ae,ie(ae+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(M){if(M=M||0,isNaN(M))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ie(F(U(M))+" M"),this},m.GState=uE,m.setGState=function(M){(M=typeof M=="string"?Ct[_t[M]]:Mn(null,M)).equals(Lt)||(ie("/"+M.id+" gs"),Lt=M)};var Mn=function(M,ae){if(!M||!_t[M]){var Se=!1;for(var Oe in Ct)if(Ct.hasOwnProperty(Oe)&&Ct[Oe].equals(ae)){Se=!0;break}if(Se)ae=Ct[Oe];else{var Qe="GS"+(Object.keys(Ct).length+1).toString(10);Ct[Qe]=ae,ae.id=Qe}return M&&(_t[M]=ae.id),dt.publish("addGState",ae),ae}};m.addGState=function(M,ae){return Mn(M,ae),this},m.saveGraphicsState=function(){return ie("q"),ke.push({key:Qt,size:_e,color:pe}),this},m.restoreGraphicsState=function(){ie("Q");var M=ke.pop();return Qt=M.key,_e=M.size,pe=M.color,Lt=null,this},m.setCurrentTransformationMatrix=function(M){return ie(M.toString()+" cm"),this},m.comment=function(M){return ie("#"+M),this};var Nr=function(M,ae){var Se=M||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Se},set:function(bt){isNaN(bt)||(Se=parseFloat(bt))}});var Oe=ae||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Oe},set:function(bt){isNaN(bt)||(Oe=parseFloat(bt))}});var Qe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Qe},set:function(bt){Qe=bt.toString()}}),this},ni=function(M,ae,Se,Oe){Nr.call(this,M,ae),this.type="rect";var Qe=Se||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Qe},set:function(Tt){isNaN(Tt)||(Qe=parseFloat(Tt))}});var bt=Oe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return bt},set:function(Tt){isNaN(Tt)||(bt=parseFloat(Tt))}}),this},gd=function(){this.page=Ut,this.currentPage=X,this.pages=Ee.slice(0),this.pagesContext=Jt.slice(0),this.x=Yt,this.y=sn,this.matrix=On,this.width=zc(X),this.height=NA(X),this.outputDestination=Ue,this.id="",this.objectNumber=-1};gd.prototype.restore=function(){Ut=this.page,X=this.currentPage,Jt=this.pagesContext,Ee=this.pages,Yt=this.x,sn=this.y,On=this.matrix,vu(X,this.width),Mc(X,this.height),Ue=this.outputDestination};var yd=function(M,ae,Se,Oe,Qe){Fs.push(new gd),Ut=X=0,Ee=[],Yt=M,sn=ae,On=Qe,st([Se,Oe])};for(var ac in m.beginFormObject=function(M,ae,Se,Oe,Qe){return yd(M,ae,Se,Oe,Qe),this},m.endFormObject=function(M){return(function(ae){if(Hn[ae])Fs.pop().restore();else{var Se=new gd,Oe="Xo"+(Object.keys(Gr).length+1).toString(10);Se.id=Oe,Hn[ae]=Oe,Gr[Oe]=Se,dt.publish("addFormObject",Se),Fs.pop().restore()}})(M),this},m.doFormObject=function(M,ae){var Se=Gr[Hn[M]];return ie("q"),ie(ae.toString()+" cm"),ie("/"+Se.id+" Do"),ie("Q"),this},m.getFormObject=function(M){var ae=Gr[Hn[M]];return{x:ae.x,y:ae.y,width:ae.width,height:ae.height,matrix:ae.matrix}},m.save=function(M,ae){return M=M||"generated.pdf",(ae=ae||{}).returnPromise=ae.returnPromise||!1,ae.returnPromise===!1?(og(Yi(oi()),M),typeof og.unload=="function"&&nr.setTimeout&&setTimeout(og.unload,911),this):new Promise(function(Se,Oe){try{var Qe=og(Yi(oi()),M);typeof og.unload=="function"&&nr.setTimeout&&setTimeout(og.unload,911),Se(Qe)}catch(bt){Oe(bt.message)}})},_n.API)_n.API.hasOwnProperty(ac)&&(ac==="events"&&_n.API.events.length?(function(M,ae){var Se,Oe,Qe;for(Qe=ae.length-1;Qe!==-1;Qe--)Se=ae[Qe][0],Oe=ae[Qe][1],M.subscribe.apply(M,[Se].concat(typeof Oe=="function"?[Oe]:Oe))})(dt,_n.API.events):m[ac]=_n.API[ac]);function zc(M){return Jt[M].mediaBox.topRightX-Jt[M].mediaBox.bottomLeftX}function vu(M,ae){Jt[M].mediaBox.topRightX=ae+Jt[M].mediaBox.bottomLeftX}function NA(M){return Jt[M].mediaBox.topRightY-Jt[M].mediaBox.bottomLeftY}function Mc(M,ae){Jt[M].mediaBox.topRightY=ae+Jt[M].mediaBox.bottomLeftY}var Qc=m.getPageWidth=function(M){return zc(M=M||X)/rn},Xh=m.setPageWidth=function(M,ae){vu(M,ae*rn)},Hc=m.getPageHeight=function(M){return NA(M=M||X)/rn},Yh=m.setPageHeight=function(M,ae){Mc(M,ae*rn)};return m.internal={pdfEscape:rs,getStyle:xf,getFont:eo,getFontSize:ot,getCharSpace:ht,getTextColor:Re,getLineHeight:IA,getLineHeightFactor:bu,getLineWidth:ic,write:Le,getHorizontalCoordinate:Ei,getVerticalCoordinate:ci,getCoordinateString:md,getVerticalCoordinateString:L,collections:{},newObject:ts,newAdditionalObject:Si,newObjectDeferred:Er,newObjectDeferredBegin:Bt,getFilters:ft,putStream:Cn,events:dt,scaleFactor:rn,pageSize:{getWidth:function(){return Qc(X)},setWidth:function(M){Xh(X,M)},getHeight:function(){return Hc(X)},setHeight:function(M){Yh(X,M)}},encryptionOptions:d,encryption:Ji,getEncryptor:function(M){return d!==null?Ji.encryptor(M,0):function(ae){return ae}},output:xu,getNumberOfPages:jn,get pages(){return Ee},out:ie,f2:j,f3:P,getPageInfo:Bi,getPageInfoByObjId:sc,getCurrentPageInfo:BA,getPDFVersion:y,Point:Nr,Rectangle:ni,Matrix:cn,hasHotfix:Sa},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Qc(X)},set:function(M){Xh(X,M)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return Hc(X)},set:function(M){Yh(X,M)},enumerable:!0,configurable:!0}),(function(M){for(var ae=0,Se=It.length;ae<Se;ae++){var Oe=ti.call(this,M[ae][0],M[ae][1],M[ae][2],It[ae][3],!0);f===!1&&(h[Oe]=!0);var Qe=M[ae][0].split("-");Ir({id:Oe,fontName:Qe[0],fontStyle:Qe[1]||""})}dt.publish("addFonts",{fonts:Ot,dictionary:xn})}).call(m,It),Qt="F1",gt(s,n),dt.publish("initialized"),m}Uy.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Uy.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Uy.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Uy.prototype.processOwnerPassword=function(t,e){return d8(u8(e).substr(0,5),t)},Uy.prototype.encryptor=function(t,e){var n=u8(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return d8(n,r)}},uE.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||js(t)!==js(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},_n.API={events:[]},_n.version="4.1.0";var pa=_n.API,fz=1,L0=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ky=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},dE=function(t){return t.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(e){var n=e.charCodeAt(0).toString(16).toUpperCase();return"#"+(n.length===1?"0"+n:n)})},or=function(t){return t.toFixed(2)},Bp=function(t){return t.toFixed(5)};pa.__acroform__={};var Pc=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},qX=function(t){return t*fz},Pf=function(t){var e=new Hfe,n=vn.internal.getHeight(t)||0,r=vn.internal.getWidth(t)||0;return e.BBox=[0,0,Number(or(r)),Number(or(n))],e},Dpt=pa.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},Lpt=pa.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},$pt=pa.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},ja=pa.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return $pt(t,e-1)},Ta=pa.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Dpt(t,e-1)},_a=pa.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Lpt(t,e-1)},Ppt=pa.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,s=t[0],i=t[1],a=t[2],o=t[3],c={};return c.lowerLeft_X=n(s)||0,c.lowerLeft_Y=r(i+o)||0,c.upperRight_X=n(s+a)||0,c.upperRight_Y=r(i)||0,[Number(or(c.lowerLeft_X)),Number(or(c.lowerLeft_Y)),Number(or(c.upperRight_X)),Number(or(c.upperRight_Y))]},Upt=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=f8(t,n),s=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+s+" "+or(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=Pf(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},f8=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=t.multiline?s.map(function(j){return j.split(`
`)}):s.map(function(j){return[j]});var i=n,a=vn.internal.getHeight(t)||0;a=a<0?-a:a;var o=vn.internal.getWidth(t)||0;o=o<0?-o:o;var c=function(j,P,U){if(j+1<s.length){var z=P+" "+s[j+1][0];return hk(z,t,U).width<=o-4}return!1};i++;e:for(;i>0;){e="",i--;var u,d,f=hk("3",t,i).height,h=t.multiline?a-i:(a-f)/2,m=h+=2,g=0,y=0,x=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+hk(e,t,i=12).width+", FieldWidth:"+o+`
`;break}for(var v="",w=0,B=0;B<s.length;B++)if(s.hasOwnProperty(B)){var k=!1;if(s[B].length!==1&&x!==s[B].length-1){if((f+2)*(w+2)+2>a)continue e;v+=s[B][x],k=!0,y=B,B--}else{v=(v+=s[B][x]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var E=parseInt(B),N=c(E,v,i),O=B>=s.length-1;if(N&&!O){v+=" ",x=0;continue}if(N||O){if(O)y=E;else if(t.multiline&&(f+2)*(w+2)+2>a)continue e}else{if(!t.multiline||(f+2)*(w+2)+2>a)continue e;y=E}}for(var F="",D=g;D<=y;D++){var T=s[D];if(t.multiline){if(D===y){F+=T[x]+" ",x=(x+1)%T.length;continue}if(D===g){F+=T[T.length-1]+" ";continue}}F+=T[0]+" "}switch(F=F.substr(F.length-1)==" "?F.substr(0,F.length-1):F,d=hk(F,t,i).width,t.textAlign){case"right":u=o-d-2;break;case"center":u=(o-d)/2;break;default:u=2}e+=or(u)+" "+or(m)+` Td
`,e+="("+L0(F)+`) Tj
`,e+=-or(u)+` 0 Td
`,m=-(i+2),d=0,g=k?y:y+1,w++,v=""}break}return r.text=e,r.fontSize=i,r},hk=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:s}},zpt={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Mpt=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},Qpt=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(mf.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(zpt)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");fz=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Wfe,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in r)if(r.hasOwnProperty(s)){var i=r[s];i.objId=void 0,i.hasAnnotation&&Mpt(i,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,s){var i=!r;for(var a in r||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var o=r[a],c=[],u=o.Rect;if(o.Rect&&(o.Rect=Ppt(o.Rect,s)),s.internal.newObjectDeferredBegin(o.objId,!0),o.DA=vn.createDefaultAppearanceStream(o),js(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(c=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var d=Upt(o);c.push({key:"AP",value:"<</N "+d+">>"}),s.internal.acroformPlugin.xForms.push(d)}if(o.appearanceStreamContent){var f="";for(var h in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(h)){var m=o.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var a in m)if(m.hasOwnProperty(a)){var g=m[a];typeof g=="function"&&(g=g.call(s,o)),f+="/"+a+" "+g+" ",s.internal.acroformPlugin.xForms.indexOf(g)>=0||s.internal.acroformPlugin.xForms.push(g)}}else typeof(g=m)=="function"&&(g=g.call(s,o)),f+="/"+a+" "+g,s.internal.acroformPlugin.xForms.indexOf(g)>=0||s.internal.acroformPlugin.xForms.push(g);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}s.internal.putStream({additionalKeyValues:c,objectId:o.objId}),s.internal.out("endobj")}i&&(function(y,x){for(var v in y)if(y.hasOwnProperty(v)){var w=v,B=y[v];x.internal.newObjectDeferredBegin(B.objId,!0),js(B)==="object"&&typeof B.putStream=="function"&&B.putStream(),delete y[w]}})(s.internal.acroformPlugin.xForms,s)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},Qfe=pa.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(a){return a};if(Array.isArray(t)){for(var s="[",i=0;i<t.length;i++)switch(i!==0&&(s+=" "),js(t[i])){case"boolean":case"number":case"object":s+=t[i].toString();break;case"string":t[i].substr(0,1)==="/"?s+="/"+dE(t[i].substr(1)):(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),s+="("+L0(r(t[i].toString()))+")")}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},f6=function(t,e,n){var r=function(s){return s};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+L0(r(t))+")"},Gf=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Gf.prototype.toString=function(){return this.objId+" 0 R"},Gf.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Gf.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],s=this[r];s&&(Array.isArray(s)?t.push({key:r,value:Qfe(s,this.objId,this.scope)}):s instanceof Gf?(s.scope=this.scope,t.push({key:r,value:s.objId+" 0 R"})):typeof s!="function"&&t.push({key:r,value:s}))}return t};var Hfe=function(){Gf.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Pc(Hfe,Gf);var Wfe=function(){Gf.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+L0(n(t))+")"}},set:function(n){t=n}})};Pc(Wfe,Gf);var mf=function t(){Gf.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');e=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ja(e,3)},set:function(v){v?this.F=Ta(e,3):this.F=_a(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');n=v}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(v){r=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(v){r[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(v){r[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(v){r[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(v){r[3]=v}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof fE)return;i="FieldObject"+t.FieldNum++}var v=function(w){return w};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+L0(v(i))+")"},set:function(v){i=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(v){i=v}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(v){a=v}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(v){o=v}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(v){c=v}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/fz:u},set:function(v){u=v}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(v){d=v}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof fE||this instanceof Fg))return f6(f,this.objId,this.scope)},set:function(v){v=v.toString(),f=v}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Ro==0?f6(h,this.objId,this.scope):h},set:function(v){v=v.toString(),h=this instanceof Ro==0?v.substr(0,1)==="("?ky(v.substr(1,v.length-2)):ky(v):v}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ro==1?ky(h.substr(1,h.length-1)):h},set:function(v){v=v.toString(),h=this instanceof Ro==1?"/"+dE(v):v}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Ro==0?f6(m,this.objId,this.scope):m},set:function(v){v=v.toString(),m=this instanceof Ro==0?v.substr(0,1)==="("?ky(v.substr(1,v.length-2)):ky(v):v}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ro==1?ky(m.substr(1,m.length-1)):m},set:function(v){v=v.toString(),m=this instanceof Ro==1?"/"+dE(v):v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(v){v=!!v,y=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(v){g=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ja(this.Ff,1)},set:function(v){v?this.Ff=Ta(this.Ff,1):this.Ff=_a(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ja(this.Ff,2)},set:function(v){v?this.Ff=Ta(this.Ff,2):this.Ff=_a(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ja(this.Ff,3)},set:function(v){v?this.Ff=Ta(this.Ff,3):this.Ff=_a(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');x=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(x){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:x=2;break;case"center":case 1:x=1;break;default:x=0}}})};Pc(mf,Gf);var a1=function(){mf.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Qfe(e,this.objId,this.scope)},set:function(n){var r,s;s=[],typeof(r=n)=="string"&&(s=(function(i,a,o){o||(o=1);for(var c,u=[];c=a.exec(i);)u.push(c[o]);return u})(r,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ja(this.Ff,18)},set:function(n){n?this.Ff=Ta(this.Ff,18):this.Ff=_a(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ja(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Ta(this.Ff,19):this.Ff=_a(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ja(this.Ff,20)},set:function(n){n?(this.Ff=Ta(this.Ff,20),e.sort()):this.Ff=_a(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ja(this.Ff,22)},set:function(n){n?this.Ff=Ta(this.Ff,22):this.Ff=_a(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ja(this.Ff,23)},set:function(n){n?this.Ff=Ta(this.Ff,23):this.Ff=_a(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ja(this.Ff,27)},set:function(n){n?this.Ff=Ta(this.Ff,27):this.Ff=_a(this.Ff,27)}}),this.hasAppearanceStream=!1};Pc(a1,mf);var o1=function(){a1.call(this),this.fontName="helvetica",this.combo=!1};Pc(o1,a1);var l1=function(){o1.call(this),this.combo=!0};Pc(l1,o1);var bB=function(){l1.call(this),this.edit=!0};Pc(bB,l1);var Ro=function(){mf.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ja(this.Ff,15)},set:function(n){n?this.Ff=Ta(this.Ff,15):this.Ff=_a(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ja(this.Ff,16)},set:function(n){n?this.Ff=Ta(this.Ff,16):this.Ff=_a(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ja(this.Ff,17)},set:function(n){n?this.Ff=Ta(this.Ff,17):this.Ff=_a(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ja(this.Ff,26)},set:function(n){n?this.Ff=Ta(this.Ff,26):this.Ff=_a(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(i){return i};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,s=[];for(r in s.push("<<"),e)s.push("/"+r+" ("+L0(n(e[r]))+")");return s.push(">>"),s.join(`
`)}},set:function(n){js(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+dE(n)}})};Pc(Ro,mf);var vB=function(){Ro.call(this),this.pushButton=!0};Pc(vB,Ro);var c1=function(){Ro.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Pc(c1,Ro);var fE=function(){var t,e;mf.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(o){return o};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,a=[];for(i in a.push("<<"),r)a.push("/"+i+" ("+L0(s(r[i]))+")");return a.push(">>"),a.join(`
`)},set:function(s){js(s)==="object"&&(r=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(s){typeof s=="string"&&(r.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(s){n="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=vn.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Pc(fE,mf),c1.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},c1.prototype.createOption=function(t){var e=new fE;return e.Parent=this,e.optionName=t,this.Kids.push(e),Hpt.call(this.scope,e),e};var wB=function(){Ro.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=vn.CheckBox.createAppearanceStream()};Pc(wB,Ro);var Fg=function(){mf.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ja(this.Ff,13)},set:function(e){e?this.Ff=Ta(this.Ff,13):this.Ff=_a(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ja(this.Ff,21)},set:function(e){e?this.Ff=Ta(this.Ff,21):this.Ff=_a(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ja(this.Ff,23)},set:function(e){e?this.Ff=Ta(this.Ff,23):this.Ff=_a(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ja(this.Ff,24)},set:function(e){e?this.Ff=Ta(this.Ff,24):this.Ff=_a(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ja(this.Ff,25)},set:function(e){e?this.Ff=Ta(this.Ff,25):this.Ff=_a(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ja(this.Ff,26)},set:function(e){e?this.Ff=Ta(this.Ff,26):this.Ff=_a(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Pc(Fg,mf);var SB=function(){Fg.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ja(this.Ff,14)},set:function(t){t?this.Ff=Ta(this.Ff,14):this.Ff=_a(this.Ff,14)}}),this.password=!0};Pc(SB,Fg);var vn={CheckBox:{createAppearanceStream:function(){return{N:{On:vn.CheckBox.YesNormal},D:{On:vn.CheckBox.YesPushDown,Off:vn.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Pf(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color),i=f8(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+or(vn.internal.getWidth(t))+" "+or(vn.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+or(i.fontSize)+" Tf "+s),n.push("BT"),n.push(i.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Pf(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),s=[],i=vn.internal.getHeight(t),a=vn.internal.getWidth(t),o=f8(t,t.caption);return s.push("1 g"),s.push("0 0 "+or(a)+" "+or(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+or(a-1)+" "+or(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+n+" "+or(o.fontSize)+" Tf "+r),s.push(o.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(t){var e=Pf(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+or(vn.internal.getWidth(t))+" "+or(vn.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:vn.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=vn.RadioButton.Circle.YesNormal,e.D[t]=vn.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Pf(t);e.scope=t.scope;var n=[],r=vn.internal.getWidth(t)<=vn.internal.getHeight(t)?vn.internal.getWidth(t)/4:vn.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var s=vn.internal.Bezier_C,i=Number((r*s).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Bp(vn.internal.getWidth(t)/2)+" "+Bp(vn.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+i+" "+i+" "+r+" 0 "+r+" c"),n.push("-"+i+" "+r+" -"+r+" "+i+" -"+r+" 0 c"),n.push("-"+r+" -"+i+" -"+i+" -"+r+" 0 -"+r+" c"),n.push(i+" -"+r+" "+r+" -"+i+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Pf(t);e.scope=t.scope;var n=[],r=vn.internal.getWidth(t)<=vn.internal.getHeight(t)?vn.internal.getWidth(t)/4:vn.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),i=Number((s*vn.internal.Bezier_C).toFixed(5)),a=Number((r*vn.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Bp(vn.internal.getWidth(t)/2)+" "+Bp(vn.internal.getHeight(t)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),n.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),n.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),n.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Bp(vn.internal.getWidth(t)/2)+" "+Bp(vn.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Pf(t);e.scope=t.scope;var n=[],r=vn.internal.getWidth(t)<=vn.internal.getHeight(t)?vn.internal.getWidth(t)/4:vn.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),i=Number((s*vn.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Bp(vn.internal.getWidth(t)/2)+" "+Bp(vn.internal.getHeight(t)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),n.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),n.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),n.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:vn.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=vn.RadioButton.Cross.YesNormal,e.D[t]=vn.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Pf(t);e.scope=t.scope;var n=[],r=vn.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+or(vn.internal.getWidth(t)-2)+" "+or(vn.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(or(r.x1.x)+" "+or(r.x1.y)+" m"),n.push(or(r.x2.x)+" "+or(r.x2.y)+" l"),n.push(or(r.x4.x)+" "+or(r.x4.y)+" m"),n.push(or(r.x3.x)+" "+or(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Pf(t);e.scope=t.scope;var n=vn.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+or(vn.internal.getWidth(t))+" "+or(vn.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+or(vn.internal.getWidth(t)-2)+" "+or(vn.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(or(n.x1.x)+" "+or(n.x1.y)+" m"),r.push(or(n.x2.x)+" "+or(n.x2.y)+" l"),r.push(or(n.x4.x)+" "+or(n.x4.y)+" m"),r.push(or(n.x3.x)+" "+or(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Pf(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+or(vn.internal.getWidth(t))+" "+or(vn.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};vn.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=vn.internal.getWidth(t),n=vn.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},vn.internal.getWidth=function(t){var e=0;return js(t)==="object"&&(e=qX(t.Rect[2])),e},vn.internal.getHeight=function(t){var e=0;return js(t)==="object"&&(e=qX(t.Rect[3])),e};var Hpt=pa.addField=function(t){if(Qpt(this,t),!(t instanceof mf))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};pa.AcroFormChoiceField=a1,pa.AcroFormListBox=o1,pa.AcroFormComboBox=l1,pa.AcroFormEditBox=bB,pa.AcroFormButton=Ro,pa.AcroFormPushButton=vB,pa.AcroFormRadioButton=c1,pa.AcroFormCheckBox=wB,pa.AcroFormTextField=Fg,pa.AcroFormPasswordField=SB,pa.AcroFormAppearance=vn,pa.AcroForm={ChoiceField:a1,ListBox:o1,ComboBox:l1,EditBox:bB,Button:Ro,PushButton:vB,RadioButton:c1,CheckBox:wB,TextField:Fg,PasswordField:SB,Appearance:vn},_n.AcroForm={ChoiceField:a1,ListBox:o1,ComboBox:l1,EditBox:bB,Button:Ro,PushButton:vB,RadioButton:c1,CheckBox:wB,TextField:Fg,PasswordField:SB,Appearance:vn};_n.AcroForm;function Vfe(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=t.__addimage__.getImageFileTypeByImageData=function(j,P){var U,z,ee,q,Z,G=n;if((P=P||n)==="RGBA"||j.data!==void 0&&j.data instanceof Uint8ClampedArray&&"height"in j&&"width"in j)return"RGBA";if(N(j))for(Z in r)for(ee=r[Z],U=0;U<ee.length;U+=1){for(q=!0,z=0;z<ee[U].length;z+=1)if(ee[U][z]!==void 0&&ee[U][z]!==j[z]){q=!1;break}if(q===!0){G=Z;break}}else for(Z in r)for(ee=r[Z],U=0;U<ee.length;U+=1){for(q=!0,z=0;z<ee[U].length;z+=1)if(ee[U][z]!==void 0&&ee[U][z]!==j.charCodeAt(z)){q=!1;break}if(q===!0){G=Z;break}}return G===n&&P!==n&&(G=P),G},i=function j(P){for(var U=this.internal.write,z=this.internal.putStream,ee=(0,this.internal.getFilters)();ee.indexOf("FlateEncode")!==-1;)ee.splice(ee.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var q=[];if(q.push({key:"Type",value:"/XObject"}),q.push({key:"Subtype",value:"/Image"}),q.push({key:"Width",value:P.width}),q.push({key:"Height",value:P.height}),P.colorSpace===v.INDEXED?q.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&P.sMask!==void 0?P.objectId+2:P.objectId+1)+" 0 R]"}):(q.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===v.DEVICE_CMYK&&q.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),q.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&P.decodeParameters!==void 0&&q.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)&&P.transparency.length>0){for(var Z="",G=0,ne=P.transparency.length;G<ne;G++)Z+=P.transparency[G]+" "+P.transparency[G]+" ";q.push({key:"Mask",value:"["+Z+"]"})}P.sMask!==void 0&&q.push({key:"SMask",value:P.objectId+1+" 0 R"});var K=P.filter!==void 0?["/"+P.filter]:void 0;if(z({data:P.data,additionalKeyValues:q,alreadyAppliedFilters:K,objectId:P.objectId}),U("endobj"),"sMask"in P&&P.sMask!==void 0){var H,Q=(H=P.sMaskBitsPerComponent)!==null&&H!==void 0?H:P.bitsPerComponent,X={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:Q,data:P.sMask};"filter"in P&&(X.decodeParameters="/Predictor ".concat(P.predictor," /Colors 1 /BitsPerComponent ").concat(Q," /Columns ").concat(P.width),X.filter=P.filter),j.call(this,X)}if(P.colorSpace===v.INDEXED){var re=this.internal.newObject();z({data:F(new Uint8Array(P.palette)),objectId:re}),U("endobj")}},a=function(){var j=this.internal.collections[e+"images"];for(var P in j)i.call(this,j[P])},o=function(){var j,P=this.internal.collections[e+"images"],U=this.internal.write;for(var z in P)U("/I"+(j=P[z]).index,j.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var j=this.internal.collections[e+"images"];return c.call(this),j},d=function(){return Object.keys(this.internal.collections[e+"images"]).length},f=function(j){return typeof t["process"+j.toUpperCase()]=="function"},h=function(j){return js(j)==="object"&&j.nodeType===1},m=function(j,P){if(j.nodeName==="IMG"&&j.hasAttribute("src")){var U=""+j.getAttribute("src");if(U.indexOf("data:image/")===0)return xB(unescape(U).split("base64,").pop());var z=t.loadFile(U,!0);if(z!==void 0)return z}if(j.nodeName==="CANVAS"){if(j.width===0||j.height===0)throw new Error("Given canvas must have data. Canvas width: "+j.width+", height: "+j.height);var ee;switch(P){case"PNG":ee="image/png";break;case"WEBP":ee="image/webp";break;default:ee="image/jpeg"}return xB(j.toDataURL(ee,1).split("base64,").pop())}},g=function(j){var P=this.internal.collections[e+"images"];if(P){for(var U in P)if(j===P[U].alias)return P[U]}},y=function(j,P,U){return j||P||(j=-96,P=-96),j<0&&(j=-1*U.width*72/j/this.internal.scaleFactor),P<0&&(P=-1*U.height*72/P/this.internal.scaleFactor),j===0&&(j=P*U.width/U.height),P===0&&(P=j*U.height/U.width),[j,P]},x=function(j,P,U,z,ee,q){var Z=y.call(this,U,z,ee),G=this.internal.getCoordinateString,ne=this.internal.getVerticalCoordinateString,K=u.call(this);if(U=Z[0],z=Z[1],K[ee.index]=ee,q){q*=Math.PI/180;var H=Math.cos(q),Q=Math.sin(q),X=function(le){return le.toFixed(4)},re=[X(H),X(Q),X(-1*Q),X(H),0,0,"cm"]}this.internal.write("q"),q?(this.internal.write([1,"0","0",1,G(j),ne(P+z),"cm"].join(" ")),this.internal.write(re.join(" ")),this.internal.write([G(U),"0","0",G(z),"0","0","cm"].join(" "))):this.internal.write([G(U),"0","0",G(z),G(j),ne(P+z),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ee.index+" Do"),this.internal.write("Q")},v=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},B=t.__addimage__.sHashCode=function(j){var P,U,z=0;if(typeof j=="string")for(U=j.length,P=0;P<U;P++)z=(z<<5)-z+j.charCodeAt(P),z|=0;else if(N(j))for(U=j.byteLength/2,P=0;P<U;P++)z=(z<<5)-z+j[P],z|=0;return z},k=t.__addimage__.validateStringAsBase64=function(j){(j=j||"").toString().trim();var P=!0;return j.length===0&&(P=!1),j.length%4!=0&&(P=!1),/^[A-Za-z0-9+/]+$/.test(j.substr(0,j.length-2))===!1&&(P=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(j.substr(-2))===!1&&(P=!1),P},E=t.__addimage__.extractImageFromDataUrl=function(j){if(j==null||!(j=j.trim()).startsWith("data:"))return null;var P=j.indexOf(",");return P<0?null:j.substring(0,P).trim().endsWith("base64")?j.substring(P+1):null};t.__addimage__.isArrayBuffer=function(j){return j instanceof ArrayBuffer};var N=t.__addimage__.isArrayBufferView=function(j){return j instanceof Int8Array||j instanceof Uint8Array||j instanceof Uint8ClampedArray||j instanceof Int16Array||j instanceof Uint16Array||j instanceof Int32Array||j instanceof Uint32Array||j instanceof Float32Array||j instanceof Float64Array},O=t.__addimage__.binaryStringToUint8Array=function(j){for(var P=j.length,U=new Uint8Array(P),z=0;z<P;z++)U[z]=j.charCodeAt(z);return U},F=t.__addimage__.arrayBufferToBinaryString=function(j){for(var P="",U=N(j)?j:new Uint8Array(j),z=0;z<U.length;z+=8192)P+=String.fromCharCode.apply(null,U.subarray(z,z+8192));return P};t.addImage=function(){var j,P,U,z,ee,q,Z,G,ne;if(typeof arguments[1]=="number"?(P=n,U=arguments[1],z=arguments[2],ee=arguments[3],q=arguments[4],Z=arguments[5],G=arguments[6],ne=arguments[7]):(P=arguments[1],U=arguments[2],z=arguments[3],ee=arguments[4],q=arguments[5],Z=arguments[6],G=arguments[7],ne=arguments[8]),js(j=arguments[0])==="object"&&!h(j)&&"imageData"in j){var K=j;j=K.imageData,P=K.format||P||n,U=K.x||U||0,z=K.y||z||0,ee=K.w||K.width||ee,q=K.h||K.height||q,Z=K.alias||Z,G=K.compression||G,ne=K.rotation||K.angle||ne}var H=this.internal.getFilters();if(G===void 0&&H.indexOf("FlateEncode")!==-1&&(G="SLOW"),isNaN(U)||isNaN(z))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var Q=D.call(this,j,P,Z,G);return x.call(this,U,z,ee,q,Q,ne),this};var D=function(j,P,U,z){var ee,q,Z;if(typeof j=="string"&&s(j)===n){j=unescape(j);var G=T(j,!1);(G!==""||(G=t.loadFile(j,!0))!==void 0)&&(j=G)}if(h(j)&&(j=m(j,P)),P=s(j,P),!f(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(((Z=U)==null||Z.length===0)&&(U=(function(ne){return typeof ne=="string"||N(ne)?B(ne):N(ne.data)?B(ne.data):null})(j)),(ee=g.call(this,U))||(j instanceof Uint8Array||P==="RGBA"||(q=j,j=O(j)),ee=this["process"+P.toUpperCase()](j,d.call(this),U,(function(ne){return ne&&typeof ne=="string"&&(ne=ne.toUpperCase()),ne in t.image_compression?ne:w.NONE})(z),q)),!ee)throw new Error("An unknown error occurred whilst processing the image.");return ee},T=t.__addimage__.convertBase64ToBinaryString=function(j,P){P=typeof P!="boolean"||P;var U,z="";if(typeof j=="string"){var ee;U=(ee=E(j))!==null&&ee!==void 0?ee:j;try{z=xB(U)}catch(q){if(P)throw k(U)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+q.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return z};t.getImageProperties=function(j){var P,U,z="";if(h(j)&&(j=m(j)),typeof j=="string"&&s(j)===n&&((z=T(j,!1))===""&&(z=t.loadFile(j)||""),j=z),U=s(j),!f(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(j instanceof Uint8Array||(j=O(j)),!(P=this["process"+U.toUpperCase()](j)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=U,P}})(_n.API),(function(t){var e=function(n){if(n!==void 0&&n!="")return!0};_n.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,s,i,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,d=!1,f=0;f<u.length&&!d;f++)switch((r=u[f]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var h=0;h<u.length;h++){r=u[h];var m=this.internal.pdfEscape,g=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(y.objId),w=r.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+m(v(r.contents))+")",i+=" /Popup "+x.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+m(v(w))+") >>",y.content=i;var B=y.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+a(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+B,r.open&&(i+=" /Open true"),i+=" >>",x.content=i,this.internal.write(y.objId,"0 R",x.objId,"0 R");break;case"freetext":s="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var k=r.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+m(g(r.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+k+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(r.options.name){var E=this.annotations._nameMap[r.options.name];r.options.pageNumber=E.page,r.options.top=E.y}else r.options.top||(r.options.top=0);if(s="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",i="",r.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+m(g(r.options.url))+") >>";else if(r.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,i+=" /FitV "+r.options.left+"]";break;default:var N=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),i+=" /XYZ "+r.options.left+" "+N+" "+r.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,s,i,a){var o=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:c(n),y:u(r),w:c(n+s),h:u(r+i)},options:a,type:"link"})},t.textWithLink=function(n,r,s,i){var a,o,c=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var d=this.splitTextToSize(n,o).length;a=Math.ceil(u*d)}else o=c,a=u;return this.text(n,r,s,i),s+=.2*u,i.align==="center"&&(r-=c/2),i.align==="right"&&(r-=c),this.link(r,s-u,o,a,i),c},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}})(_n.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(y){return e[y.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},o=t.__arabicParser__.isArabicEndLetter=function(y){return a(y)&&i(y)&&e[y.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(y){return a(y)&&s.indexOf(y.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return a(y)&&i(y)&&e[y.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(y){return a(y)&&i(y)&&e[y.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(y){return a(y)&&i(y)&&e[y.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(y){return a(y)&&i(y)&&e[y.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(y){var x=0,v=n,w="",B=0;for(x=0;x<y.length;x+=1)v[y.charCodeAt(x)]!==void 0?(B++,typeof(v=v[y.charCodeAt(x)])=="number"&&(w+=String.fromCharCode(v),v=n,B=0),x===y.length-1&&(v=n,w+=y.charAt(x-(B-1)),x-=B-1,B=0)):(v=n,w+=y.charAt(x-B),x-=B,B=0);return w};t.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&r[y.charCodeAt(0)]!==void 0};var h=t.__arabicParser__.getCorrectForm=function(y,x,v){return a(y)?i(y)===!1?-1:!u(y)||!a(x)&&!a(v)||!a(v)&&o(x)||o(y)&&!a(x)||o(y)&&c(x)||o(y)&&o(x)?0:d(y)&&a(x)&&!o(x)&&a(v)&&u(v)?3:o(y)||!a(v)?1:2:-1},m=function(y){var x=0,v=0,w=0,B="",k="",E="",N=(y=y||"").split("\\s+"),O=[];for(x=0;x<N.length;x+=1){for(O.push(""),v=0;v<N[x].length;v+=1)B=N[x][v],k=N[x][v-1],E=N[x][v+1],a(B)?(w=h(B,k,E),O[x]+=w!==-1?String.fromCharCode(e[B.charCodeAt(0)][w]):B):O[x]+=B;O[x]=f(O[x])}return O.join(" ")},g=t.__arabicParser__.processArabic=t.processArabic=function(){var y,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(x)){var w=0;for(v=[],w=0;w<x.length;w+=1)Array.isArray(x[w])?v.push([m(x[w][0]),x[w][1],x[w][2]]):v.push([m(x[w])]);y=v}else y=m(x);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};t.events.push(["preProcessText",g])})(_n.API),_n.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(o){n=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(o){s=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var s;if((n=n||"2d")!=="2d")return null;for(s in r)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=r[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(_n.API),(function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(y){c=y}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(y){u=y}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(y){d=y}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(y){f=y}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(y){h=y}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(y){m=y}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(y){g=y}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,u){r.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),h=u.scaleFactor||this.internal.scaleFactor,m=0,g=0,y=0,x=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var v=u.maxWidth;v>0?typeof c=="string"?c=this.splitTextToSize(c,v):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(B,k){return B.concat(x.splitTextToSize(k,v))},[])):c=Array.isArray(c)?c:[c];for(var w=0;w<c.length;w++)m<(y=this.getStringUnitWidth(c[w],{font:f})*d)&&(m=y);return m!==0&&(g=c.length),{w:m/=h,h:Math.max((g*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/h,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,h=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,m&&h&&(this.printHeaderRow(c.lineNumber,!0),c.y+=h[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,n===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};t.table=function(c,u,d,f,h){if(r.call(this),!d)throw new Error("No data for PDF table.");var m,g,y,x,v=[],w=[],B=[],k={},E={},N=[],O=[],F=(h=h||{}).autoSize||!1,D=h.printHeaders!==!1,T=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,j=h.margins||Object.assign({width:this.getPageWidth()},e),P=typeof h.padding=="number"?h.padding:3,U=h.headerBackgroundColor||"#c8c8c8",z=h.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=D,this.internal.__cell__.margins=j,this.internal.__cell__.table_font_size=T,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=U,this.internal.__cell__.headerTextColor=z,this.setFontSize(T),f==null)w=v=Object.keys(d[0]),B=v.map(function(){return"left"});else if(Array.isArray(f)&&js(f[0])==="object")for(v=f.map(function(K){return K.name}),w=f.map(function(K){return K.prompt||K.name||""}),B=f.map(function(K){return K.align||"left"}),m=0;m<f.length;m+=1)E[f[m].name]=.7499990551181103*f[m].width;else Array.isArray(f)&&typeof f[0]=="string"&&(w=v=f,B=v.map(function(){return"left"}));if(F||Array.isArray(f)&&typeof f[0]=="string")for(m=0;m<v.length;m+=1){for(k[x=v[m]]=d.map(function(K){return K[x]}),this.setFont(void 0,"bold"),N.push(this.getTextDimensions(w[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=k[x],this.setFont(void 0,"normal"),y=0;y<g.length;y+=1)N.push(this.getTextDimensions(g[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);E[x]=Math.max.apply(null,N)+P+P,N=[]}if(D){var ee={};for(m=0;m<v.length;m+=1)ee[v[m]]={},ee[v[m]].text=w[m],ee[v[m]].align=B[m];var q=o.call(this,ee,E);O=v.map(function(K){return new i(c,u,E[K],q,ee[K].text,void 0,ee[K].align)}),this.setTableHeaderRow(O),this.printHeaderRow(1,!1)}var Z=f.reduce(function(K,H){return K[H.name]=H.align,K},{});for(m=0;m<d.length;m+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:m,data:d[m]},this);var G=o.call(this,d[m],E);for(y=0;y<v.length;y+=1){var ne=d[m][v[y]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:m,col:y,data:ne},this),a.call(this,new i(c,u,E[v[y]],G,ne,m+2,Z[v[y]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var o=function(c,u){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(c).map(function(m){var g=c[m];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,u[m]-d-d)},this).map(function(m){return this.getLineHeightFactor()*m.length*f/h+d+d},this).reduce(function(m,g){return Math.max(m,g)},0)};t.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){d=this.internal.__cell__.tableHeaderRow[m].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,h.push(d)),d.lineNumber=c;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,d),this.setTextColor(g)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),n=!1}})(_n.API);var qfe={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Gfe=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],A8=Vfe(Gfe),Kfe=[100,200,300,400,500,600,700,800,900],Wpt=Vfe(Kfe);function A6(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=(function(i){return qfe[i=i||"normal"]?i:"normal"})(t.style),r=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(t.weight),s=(function(i){return typeof A8[i=i||"normal"]=="number"?i:"normal"})(t.stretch);return{family:e,style:n,weight:r,stretch:s,src:t.src||[],ref:t.ref||{name:e,style:[s,n,r].join(" ")}}}function GX(t,e,n,r){var s;for(s=n;s>=0&&s<e.length;s+=r)if(t[e[s]])return t[e[s]];for(s=n;s>=0&&s<e.length;s-=r)if(t[e[s]])return t[e[s]]}var Vpt={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},KX={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function XX(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function YX(t){return t.trimLeft()}function qpt(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function Gpt(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var By,pk,JX,ZX,eY,h6=["times"];function tY(t,e,n,r,s){var i=4,a=rY;switch(s){case _n.API.image_compression.FAST:i=1,a=nY;break;case _n.API.image_compression.MEDIUM:i=6,a=sY;break;case _n.API.image_compression.SLOW:i=9,a=iY}t=(function(c,u,d,f){for(var h,m=c.length/u,g=new Uint8Array(c.length+m),y=[Kpt,nY,rY,sY,iY],x=0;x<m;x+=1){var v=x*u,w=c.subarray(v,v+u);if(f)g.set(f(w,d,h),v+x);else{for(var B=y.length,k=[],E=0;E<B;E+=1)k[E]=y[E](w,d,h);var N=Ypt(k.concat());g.set(k[N],v+x)}h=w}return g})(t,e,Math.ceil(n*r/8),a);var o=a8(t,{level:i});return _n.API.__addimage__.arrayBufferToBinaryString(o)}function Kpt(t){var e=Array.apply([],t);return e.unshift(0),e}function nY(t,e){var n=t.length,r=[];r[0]=1;for(var s=0;s<n;s+=1){var i=t[s-e]||0;r[s+1]=t[s]-i+256&255}return r}function rY(t,e,n){var r=t.length,s=[];s[0]=2;for(var i=0;i<r;i+=1){var a=n&&n[i]||0;s[i+1]=t[i]-a+256&255}return s}function sY(t,e,n){var r=t.length,s=[];s[0]=3;for(var i=0;i<r;i+=1){var a=t[i-e]||0,o=n&&n[i]||0;s[i+1]=t[i]+256-(a+o>>>1)&255}return s}function iY(t,e,n){var r=t.length,s=[];s[0]=4;for(var i=0;i<r;i+=1){var a=Xpt(t[i-e]||0,n&&n[i]||0,n&&n[i-e]||0);s[i+1]=t[i]-a+256&255}return s}function Xpt(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),s=Math.abs(t-n),i=Math.abs(t+e-n-n);return r<=s&&r<=i?t:s<=i?e:n}function Ypt(t){var e=t.map(function(n){return n.reduce(function(r,s){return r+Math.abs(s)},0)});return e.indexOf(Math.min.apply(null,e))}function p6(t,e,n){var r=e*n,s=Math.floor(r/8),i=16-(r-8*s+n),a=(1<<n)-1;return Xfe(t,s)>>i&a}function aY(t,e,n,r){var s=n*r,i=Math.floor(s/8),a=16-(s-8*i+r),o=(1<<r)-1,c=(e&o)<<a;(function(u,d,f){if(d+1<u.byteLength)u.setUint16(d,f,!1);else{var h=f>>8&255;u.setUint8(d,h)}})(t,i,Xfe(t,i)&~(o<<a)&65535|c)}function Xfe(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function Jpt(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,s=t[e++],i=s>>7,a=1<<1+(7&s);t[e++],t[e++];var o=null,c=null;i&&(o=e,c=a,e+=3*a);var u=!0,d=[],f=0,h=null,m=0,g=null;for(this.width=n,this.height=r;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,g=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((j=t[e++])>=0))throw Error("Invalid block size");if(j===0)break;e+=j}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var y=t[e++];f=t[e++]|t[e++]<<8,h=t[e++],1&y||(h=null),m=y>>2&7,e++;break;case 254:for(;;){if(!((j=t[e++])>=0))throw Error("Invalid block size");if(j===0)break;e+=j}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var x=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,B=t[e++]|t[e++]<<8,k=t[e++],E=k>>6&1,N=1<<1+(7&k),O=o,F=c,D=!1;k>>7&&(D=!0,O=e,F=N,e+=3*N);var T=e;for(e++;;){var j;if(!((j=t[e++])>=0))throw Error("Invalid block size");if(j===0)break;e+=j}d.push({x,y:v,width:w,height:B,has_local_palette:D,palette_offset:O,palette_size:F,data_offset:T,data_length:e-T,transparent_index:h,interlaced:!!E,delay:f,disposal:m});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return g},this.frameInfo=function(P){if(P<0||P>=d.length)throw new Error("Frame index out of range.");return d[P]},this.decodeAndBlitFrameBGRA=function(P,U){var z=this.frameInfo(P),ee=z.width*z.height,q=new Uint8Array(ee);oY(t,z.data_offset,q,ee);var Z=z.palette_offset,G=z.transparent_index;G===null&&(G=256);var ne=z.width,K=n-ne,H=ne,Q=4*(z.y*n+z.x),X=4*((z.y+z.height)*n+z.x),re=Q,le=4*K;z.interlaced===!0&&(le+=4*n*7);for(var he=8,xe=0,Be=q.length;xe<Be;++xe){var me=q[xe];if(H===0&&(H=ne,(re+=le)>=X&&(le=4*K+4*n*(he-1),re=Q+(ne+K)*(he<<1),he>>=1)),me===G)re+=4;else{var ve=t[Z+3*me],Ee=t[Z+3*me+1],ye=t[Z+3*me+2];U[re++]=ye,U[re++]=Ee,U[re++]=ve,U[re++]=255}--H}},this.decodeAndBlitFrameRGBA=function(P,U){var z=this.frameInfo(P),ee=z.width*z.height,q=new Uint8Array(ee);oY(t,z.data_offset,q,ee);var Z=z.palette_offset,G=z.transparent_index;G===null&&(G=256);var ne=z.width,K=n-ne,H=ne,Q=4*(z.y*n+z.x),X=4*((z.y+z.height)*n+z.x),re=Q,le=4*K;z.interlaced===!0&&(le+=4*n*7);for(var he=8,xe=0,Be=q.length;xe<Be;++xe){var me=q[xe];if(H===0&&(H=ne,(re+=le)>=X&&(le=4*K+4*n*(he-1),re=Q+(ne+K)*(he<<1),he>>=1)),me===G)re+=4;else{var ve=t[Z+3*me],Ee=t[Z+3*me+1],ye=t[Z+3*me+2];U[re++]=ve,U[re++]=Ee,U[re++]=ye,U[re++]=255}--H}}}function oY(t,e,n,r){for(var s=t[e++],i=1<<s,a=i+1,o=a+1,c=s+1,u=(1<<c)-1,d=0,f=0,h=0,m=t[e++],g=new Int32Array(4096),y=null;;){for(;d<16&&m!==0;)f|=t[e++]<<d,d+=8,m===1?m=t[e++]:--m;if(d<c)break;var x=f&u;if(f>>=c,d-=c,x!==i){if(x===a)break;for(var v=x<o?x:y,w=0,B=v;B>i;)B=g[B]>>8,++w;var k=B;if(h+w+(v!==x?1:0)>r)return void Xs.log("Warning, gif stream longer than expected.");n[h++]=k;var E=h+=w;for(v!==x&&(n[h++]=k),B=v;w--;)B=g[B],n[--E]=255&B,B>>=8;y!==null&&o<4096&&(g[o++]=y<<8|k,o>=u+1&&c<12&&(++c,u=u<<1|1)),y=x}else o=a+1,u=(1<<(c=s+1))-1,y=null}return h!==r&&Xs.log("Warning, gif stream shorter than expected."),n}function m6(t){var e,n,r,s,i,a=Math.floor,o=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),f=new Array(65535),h=new Array(65535),m=new Array(64),g=new Array(64),y=[],x=0,v=7,w=new Array(64),B=new Array(64),k=new Array(64),E=new Array(256),N=new Array(2048),O=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],F=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],T=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],j=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ee=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function q(Q,X){for(var re=0,le=0,he=new Array,xe=1;xe<=16;xe++){for(var Be=1;Be<=Q[xe];Be++)he[X[le]]=[],he[X[le]][0]=re,he[X[le]][1]=xe,le++,re++;re*=2}return he}function Z(Q){for(var X=Q[0],re=Q[1]-1;re>=0;)X&1<<re&&(x|=1<<v),re--,--v<0&&(x==255?(G(255),G(0)):G(x),v=7,x=0)}function G(Q){y.push(Q)}function ne(Q){G(Q>>8&255),G(255&Q)}function K(Q,X,re,le,he){for(var xe,Be=he[0],me=he[240],ve=(function(_e,At){var ot,$t,kt,Ht,Sn,zt,en,fn,Qt,rn,Yt=0;for(Qt=0;Qt<8;++Qt){ot=_e[Yt],$t=_e[Yt+1],kt=_e[Yt+2],Ht=_e[Yt+3],Sn=_e[Yt+4],zt=_e[Yt+5],en=_e[Yt+6];var sn=ot+(fn=_e[Yt+7]),On=ot-fn,Ot=$t+en,xn=$t-en,ke=kt+zt,$e=kt-zt,yt=Ht+Sn,Ct=Ht-Sn,_t=sn+yt,Lt=sn-yt,Ut=Ot+ke,Jt=Ot-ke;_e[Yt]=_t+Ut,_e[Yt+4]=_t-Ut;var dt=.707106781*(Jt+Lt);_e[Yt+2]=Lt+dt,_e[Yt+6]=Lt-dt;var pr=.382683433*((_t=Ct+$e)-(Jt=xn+On)),Gr=.5411961*_t+pr,Hn=1.306562965*Jt+pr,Fs=.707106781*(Ut=$e+xn),cn=On+Fs,Ki=On-Fs;_e[Yt+5]=Ki+Gr,_e[Yt+3]=Ki-Gr,_e[Yt+1]=cn+Hn,_e[Yt+7]=cn-Hn,Yt+=8}for(Yt=0,Qt=0;Qt<8;++Qt){ot=_e[Yt],$t=_e[Yt+8],kt=_e[Yt+16],Ht=_e[Yt+24],Sn=_e[Yt+32],zt=_e[Yt+40],en=_e[Yt+48];var Cs=ot+(fn=_e[Yt+56]),Ds=ot-fn,wr=$t+en,ts=$t-en,Er=kt+zt,Bt=kt-zt,Si=Ht+Sn,ms=Ht-Sn,Jn=Cs+Si,ns=Cs-Si,Ci=wr+Er,ft=wr-Er;_e[Yt]=Jn+Ci,_e[Yt+32]=Jn-Ci;var Cn=.707106781*(ft+ns);_e[Yt+16]=ns+Cn,_e[Yt+48]=ns-Cn;var Wn=.382683433*((Jn=ms+Bt)-(ft=ts+Ds)),Xn=.5411961*Jn+Wn,sr=1.306562965*ft+Wn,oa=.707106781*(Ci=Bt+ts),Qr=Ds+oa,os=Ds-oa;_e[Yt+40]=os+Xn,_e[Yt+24]=os-Xn,_e[Yt+8]=Qr+sr,_e[Yt+56]=Qr-sr,Yt++}for(Qt=0;Qt<64;++Qt)rn=_e[Qt]*At[Qt],m[Qt]=rn>0?rn+.5|0:rn-.5|0;return m})(Q,X),Ee=0;Ee<64;++Ee)g[O[Ee]]=ve[Ee];var ye=g[0]-re;re=g[0],ye==0?Z(le[0]):(Z(le[h[xe=32767+ye]]),Z(f[xe]));for(var Ue=63;Ue>0&&g[Ue]==0;)Ue--;if(Ue==0)return Z(Be),re;for(var at,ie=1;ie<=Ue;){for(var Le=ie;g[ie]==0&&ie<=Ue;)++ie;var tt=ie-Le;if(tt>=16){at=tt>>4;for(var It=1;It<=at;++It)Z(me);tt&=15}xe=32767+g[ie],Z(he[(tt<<4)+h[xe]]),Z(f[xe]),ie++}return Ue!=63&&Z(Be),re}function H(Q){Q=Math.min(Math.max(Q,1),100),i!=Q&&((function(X){for(var re=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],le=0;le<64;le++){var he=a((re[le]*X+50)/100);he=Math.min(Math.max(he,1),255),o[O[le]]=he}for(var xe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Be=0;Be<64;Be++){var me=a((xe[Be]*X+50)/100);me=Math.min(Math.max(me,1),255),c[O[Be]]=me}for(var ve=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ee=0,ye=0;ye<8;ye++)for(var Ue=0;Ue<8;Ue++)u[Ee]=1/(o[O[Ee]]*ve[ye]*ve[Ue]*8),d[Ee]=1/(c[O[Ee]]*ve[ye]*ve[Ue]*8),Ee++})(Q<50?Math.floor(5e3/Q):Math.floor(200-2*Q)),i=Q)}this.encode=function(Q,X){X&&H(X),y=new Array,x=0,v=7,ne(65496),ne(65504),ne(16),G(74),G(70),G(73),G(70),G(0),G(1),G(1),G(0),ne(1),ne(1),G(0),G(0),(function(){ne(65499),ne(132),G(0);for(var $t=0;$t<64;$t++)G(o[$t]);G(1);for(var kt=0;kt<64;kt++)G(c[kt])})(),(function($t,kt){ne(65472),ne(17),G(8),ne(kt),ne($t),G(3),G(1),G(17),G(0),G(2),G(17),G(1),G(3),G(17),G(1)})(Q.width,Q.height),(function(){ne(65476),ne(418),G(0);for(var $t=0;$t<16;$t++)G(F[$t+1]);for(var kt=0;kt<=11;kt++)G(D[kt]);G(16);for(var Ht=0;Ht<16;Ht++)G(T[Ht+1]);for(var Sn=0;Sn<=161;Sn++)G(j[Sn]);G(1);for(var zt=0;zt<16;zt++)G(P[zt+1]);for(var en=0;en<=11;en++)G(U[en]);G(17);for(var fn=0;fn<16;fn++)G(z[fn+1]);for(var Qt=0;Qt<=161;Qt++)G(ee[Qt])})(),ne(65498),ne(12),G(3),G(1),G(0),G(2),G(17),G(3),G(17),G(0),G(63),G(0);var re=0,le=0,he=0;x=0,v=7,this.encode.displayName="_encode_";for(var xe,Be,me,ve,Ee,ye,Ue,at,ie,Le=Q.data,tt=Q.width,It=Q.height,_e=4*tt,At=0;At<It;){for(xe=0;xe<_e;){for(Ee=_e*At+xe,Ue=-1,at=0,ie=0;ie<64;ie++)ye=Ee+(at=ie>>3)*_e+(Ue=4*(7&ie)),At+at>=It&&(ye-=_e*(At+1+at-It)),xe+Ue>=_e&&(ye-=xe+Ue-_e+4),Be=Le[ye++],me=Le[ye++],ve=Le[ye++],w[ie]=(N[Be]+N[me+256|0]+N[ve+512|0]>>16)-128,B[ie]=(N[Be+768|0]+N[me+1024|0]+N[ve+1280|0]>>16)-128,k[ie]=(N[Be+1280|0]+N[me+1536|0]+N[ve+1792|0]>>16)-128;re=K(w,u,re,e,r),le=K(B,d,le,n,s),he=K(k,d,he,n,s),xe+=32}At+=8}if(v>=0){var ot=[];ot[1]=v+1,ot[0]=(1<<v+1)-1,Z(ot)}return ne(65497),new Uint8Array(y)},t=t||50,(function(){for(var Q=String.fromCharCode,X=0;X<256;X++)E[X]=Q(X)})(),e=q(F,D),n=q(P,U),r=q(T,j),s=q(z,ee),(function(){for(var Q=1,X=2,re=1;re<=15;re++){for(var le=Q;le<X;le++)h[32767+le]=re,f[32767+le]=[],f[32767+le][1]=re,f[32767+le][0]=le;for(var he=-(X-1);he<=-Q;he++)h[32767+he]=re,f[32767+he]=[],f[32767+he][1]=re,f[32767+he][0]=X-1+he;Q<<=1,X<<=1}})(),(function(){for(var Q=0;Q<256;Q++)N[Q]=19595*Q,N[Q+256|0]=38470*Q,N[Q+512|0]=7471*Q+32768,N[Q+768|0]=-11059*Q,N[Q+1024|0]=-21709*Q,N[Q+1280|0]=32768*Q+8421375,N[Q+1536|0]=-27439*Q,N[Q+1792|0]=-5329*Q})(),H(t)}function Dd(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function lY(t){function e(D){if(!D)throw Error("assert :P")}function n(D,T,j){for(var P=0;4>P;P++)if(D[T+P]!=j.charCodeAt(P))return!0;return!1}function r(D,T,j,P,U){for(var z=0;z<U;z++)D[T+z]=j[P+z]}function s(D,T,j,P){for(var U=0;U<P;U++)D[T+U]=j}function i(D){return new Int32Array(D)}function a(D,T){for(var j=[],P=0;P<D;P++)j.push(new T);return j}function o(D,T){var j=[];return(function P(U,z,ee){for(var q=ee[z],Z=0;Z<q&&(U.push(ee.length>z+1?[]:new T),!(ee.length<z+1));Z++)P(U[Z],z+1,ee)})(j,0,D),j}var c=function(){var D=this;function T(I,R){for(var W=1<<R-1>>>0;I&W;)W>>>=1;return W?(I&W-1)+W:I}function j(I,R,W,J,oe){e(!(J%W));do I[R+(J-=W)]=oe;while(0<J)}function P(I,R,W,J,oe){if(e(2328>=oe),512>=oe)var ue=i(512);else if((ue=i(oe))==null)return 0;return(function(de,ge,be,Ce,De,Je){var we,Me,Ke=ge,mt=1<<be,Ye=i(16),pt=i(16);for(e(De!=0),e(Ce!=null),e(de!=null),e(0<be),Me=0;Me<De;++Me){if(15<Ce[Me])return 0;++Ye[Ce[Me]]}if(Ye[0]==De)return 0;for(pt[1]=0,we=1;15>we;++we){if(Ye[we]>1<<we)return 0;pt[we+1]=pt[we]+Ye[we]}for(Me=0;Me<De;++Me)we=Ce[Me],0<Ce[Me]&&(Je[pt[we]++]=Me);if(pt[15]==1)return(Ce=new U).g=0,Ce.value=Je[0],j(de,Ke,1,mt,Ce),mt;var vt,Dt=-1,Nt=mt-1,bn=0,an=1,tr=1,An=1<<be;for(Me=0,we=1,De=2;we<=be;++we,De<<=1){if(an+=tr<<=1,0>(tr-=Ye[we]))return 0;for(;0<Ye[we];--Ye[we])(Ce=new U).g=we,Ce.value=Je[Me++],j(de,Ke+bn,De,An,Ce),bn=T(bn,we)}for(we=be+1,De=2;15>=we;++we,De<<=1){if(an+=tr<<=1,0>(tr-=Ye[we]))return 0;for(;0<Ye[we];--Ye[we]){if(Ce=new U,(bn&Nt)!=Dt){for(Ke+=An,vt=1<<(Dt=we)-be;15>Dt&&!(0>=(vt-=Ye[Dt]));)++Dt,vt<<=1;mt+=An=1<<(vt=Dt-be),de[ge+(Dt=bn&Nt)].g=vt+be,de[ge+Dt].value=Ke-ge-Dt}Ce.g=we-be,Ce.value=Je[Me++],j(de,Ke+(bn>>be),De,An,Ce),bn=T(bn,we)}}return an!=2*pt[15]-1?0:mt})(I,R,W,J,oe,ue)}function U(){this.value=this.g=0}function z(){this.value=this.g=0}function ee(){this.G=a(5,U),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(vf,z)}function q(I,R,W,J){e(I!=null),e(R!=null),e(2147483648>J),I.Ca=254,I.I=0,I.b=-8,I.Ka=0,I.oa=R,I.pa=W,I.Jd=R,I.Yc=W+J,I.Zc=4<=J?W+J-4+1:W,Be(I)}function Z(I,R){for(var W=0;0<R--;)W|=ve(I,128)<<R;return W}function G(I,R){var W=Z(I,R);return me(I)?-W:W}function ne(I,R,W,J){var oe,ue=0;for(e(I!=null),e(R!=null),e(4294967288>J),I.Sb=J,I.Ra=0,I.u=0,I.h=0,4<J&&(J=4),oe=0;oe<J;++oe)ue+=R[W+oe]<<8*oe;I.Ra=ue,I.bb=J,I.oa=R,I.pa=W}function K(I){for(;8<=I.u&&I.bb<I.Sb;)I.Ra>>>=8,I.Ra+=I.oa[I.pa+I.bb]<<Su-8>>>0,++I.bb,I.u-=8;le(I)&&(I.h=1,I.u=0)}function H(I,R){if(e(0<=R),!I.h&&R<=Yo){var W=re(I)&fl[R];return I.u+=R,K(I),W}return I.h=1,I.u=0}function Q(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function X(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function re(I){return I.Ra>>>(I.u&Su-1)>>>0}function le(I){return e(I.bb<=I.Sb),I.h||I.bb==I.Sb&&I.u>Su}function he(I,R){I.u=R,I.h=le(I)}function xe(I){I.u>=Cu&&(e(I.u>=Cu),K(I))}function Be(I){e(I!=null&&I.oa!=null),I.pa<I.Zc?(I.I=(I.oa[I.pa++]|I.I<<8)>>>0,I.b+=8):(e(I!=null&&I.oa!=null),I.pa<I.Yc?(I.b+=8,I.I=I.oa[I.pa++]|I.I<<8):I.Ka?I.b=0:(I.I<<=8,I.b+=8,I.Ka=1))}function me(I){return Z(I,1)}function ve(I,R){var W=I.Ca;0>I.b&&Be(I);var J=I.b,oe=W*R>>>8,ue=(I.I>>>J>oe)+0;for(ue?(W-=oe,I.I-=oe+1<<J>>>0):W=oe+1,J=W,oe=0;256<=J;)oe+=8,J>>=8;return J=7^oe+wd[J],I.b-=J,I.Ca=(W<<J)-1,ue}function Ee(I,R,W){I[R+0]=W>>24&255,I[R+1]=W>>16&255,I[R+2]=W>>8&255,I[R+3]=255&W}function ye(I,R){return I[R+0]|I[R+1]<<8}function Ue(I,R){return ye(I,R)|I[R+2]<<16}function at(I,R){return ye(I,R)|ye(I,R+2)<<16}function ie(I,R){var W=1<<R;return e(I!=null),e(0<R),I.X=i(W),I.X==null?0:(I.Mb=32-R,I.Xa=R,1)}function Le(I,R){e(I!=null),e(R!=null),e(I.Xa==R.Xa),r(R.X,0,I.X,0,1<<R.Xa)}function tt(){this.X=[],this.Xa=this.Mb=0}function It(I,R,W,J){e(W!=null),e(J!=null);var oe=W[0],ue=J[0];return oe==0&&(oe=(I*ue+R/2)/R),ue==0&&(ue=(R*oe+I/2)/I),0>=oe||0>=ue?0:(W[0]=oe,J[0]=ue,1)}function _e(I,R){return I+(1<<R)-1>>>R}function At(I,R){return((4278255360&I)+(4278255360&R)>>>0&4278255360)+((16711935&I)+(16711935&R)>>>0&16711935)>>>0}function ot(I,R){D[R]=function(W,J,oe,ue,de,ge,be){var Ce;for(Ce=0;Ce<de;++Ce){var De=D[I](ge[be+Ce-1],oe,ue+Ce);ge[be+Ce]=At(W[J+Ce],De)}}}function $t(){this.ud=this.hd=this.jd=0}function kt(I,R){return((4278124286&(I^R))>>>1)+(I&R)>>>0}function Ht(I){return 0<=I&&256>I?I:0>I?0:255<I?255:void 0}function Sn(I,R){return Ht(I+(I-R+.5>>1))}function zt(I,R,W){return Math.abs(R-W)-Math.abs(I-W)}function en(I,R,W,J,oe,ue,de){for(J=ue[de-1],W=0;W<oe;++W)ue[de+W]=J=At(I[R+W],J)}function fn(I,R,W,J,oe){var ue;for(ue=0;ue<W;++ue){var de=I[R+ue],ge=de>>8&255,be=16711935&(be=(be=16711935&de)+((ge<<16)+ge));J[oe+ue]=(4278255360&de)+be>>>0}}function Qt(I,R){R.jd=255&I,R.hd=I>>8&255,R.ud=I>>16&255}function rn(I,R,W,J,oe,ue){var de;for(de=0;de<J;++de){var ge=R[W+de],be=ge>>>8,Ce=ge,De=255&(De=(De=ge>>>16)+((I.jd<<24>>24)*(be<<24>>24)>>>5));Ce=255&(Ce=(Ce+=(I.hd<<24>>24)*(be<<24>>24)>>>5)+((I.ud<<24>>24)*(De<<24>>24)>>>5)),oe[ue+de]=(4278255360&ge)+(De<<16)+Ce}}function Yt(I,R,W,J,oe){D[R]=function(ue,de,ge,be,Ce,De,Je,we,Me){for(be=Je;be<we;++be)for(Je=0;Je<Me;++Je)Ce[De++]=oe(ge[J(ue[de++])])},D[I]=function(ue,de,ge,be,Ce,De,Je){var we=8>>ue.b,Me=ue.Ea,Ke=ue.K[0],mt=ue.w;if(8>we)for(ue=(1<<ue.b)-1,mt=(1<<we)-1;de<ge;++de){var Ye,pt=0;for(Ye=0;Ye<Me;++Ye)Ye&ue||(pt=J(be[Ce++])),De[Je++]=oe(Ke[pt&mt]),pt>>=we}else D["VP8LMapColor"+W](be,Ce,Ke,mt,De,Je,de,ge,Me)}}function sn(I,R,W,J,oe){for(W=R+W;R<W;){var ue=I[R++];J[oe++]=ue>>16&255,J[oe++]=ue>>8&255,J[oe++]=255&ue}}function On(I,R,W,J,oe){for(W=R+W;R<W;){var ue=I[R++];J[oe++]=ue>>16&255,J[oe++]=ue>>8&255,J[oe++]=255&ue,J[oe++]=ue>>24&255}}function Ot(I,R,W,J,oe){for(W=R+W;R<W;){var ue=(de=I[R++])>>16&240|de>>12&15,de=240&de|de>>28&15;J[oe++]=ue,J[oe++]=de}}function xn(I,R,W,J,oe){for(W=R+W;R<W;){var ue=(de=I[R++])>>16&248|de>>13&7,de=de>>5&224|de>>3&31;J[oe++]=ue,J[oe++]=de}}function ke(I,R,W,J,oe){for(W=R+W;R<W;){var ue=I[R++];J[oe++]=255&ue,J[oe++]=ue>>8&255,J[oe++]=ue>>16&255}}function $e(I,R,W,J,oe,ue){if(ue==0)for(W=R+W;R<W;)Ee(J,((ue=I[R++])[0]>>24|ue[1]>>8&65280|ue[2]<<8&16711680|ue[3]<<24)>>>0),oe+=32;else r(J,oe,I,R,W)}function yt(I,R){D[R][0]=D[I+"0"],D[R][1]=D[I+"1"],D[R][2]=D[I+"2"],D[R][3]=D[I+"3"],D[R][4]=D[I+"4"],D[R][5]=D[I+"5"],D[R][6]=D[I+"6"],D[R][7]=D[I+"7"],D[R][8]=D[I+"8"],D[R][9]=D[I+"9"],D[R][10]=D[I+"10"],D[R][11]=D[I+"11"],D[R][12]=D[I+"12"],D[R][13]=D[I+"13"],D[R][14]=D[I+"0"],D[R][15]=D[I+"0"]}function Ct(I){return I==zm||I==Q0||I==rp||I==H0}function _t(){this.eb=[],this.size=this.A=this.fb=0}function Lt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ut(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new _t,this.f.kb=new Lt,this.sd=null}function Jt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function dt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function pr(I){return alert("todo:WebPSamplerProcessPlane"),I.T}function Gr(I,R){var W=I.T,J=R.ba.f.RGBA,oe=J.eb,ue=J.fb+I.ka*J.A,de=so[R.ba.S],ge=I.y,be=I.O,Ce=I.f,De=I.N,Je=I.ea,we=I.W,Me=R.cc,Ke=R.dc,mt=R.Mc,Ye=R.Nc,pt=I.ka,vt=I.ka+I.T,Dt=I.U,Nt=Dt+1>>1;for(pt==0?de(ge,be,null,null,Ce,De,Je,we,Ce,De,Je,we,oe,ue,null,null,Dt):(de(R.ec,R.fc,ge,be,Me,Ke,mt,Ye,Ce,De,Je,we,oe,ue-J.A,oe,ue,Dt),++W);pt+2<vt;pt+=2)Me=Ce,Ke=De,mt=Je,Ye=we,De+=I.Rc,we+=I.Rc,ue+=2*J.A,de(ge,(be+=2*I.fa)-I.fa,ge,be,Me,Ke,mt,Ye,Ce,De,Je,we,oe,ue-J.A,oe,ue,Dt);return be+=I.fa,I.j+vt<I.o?(r(R.ec,R.fc,ge,be,Dt),r(R.cc,R.dc,Ce,De,Nt),r(R.Mc,R.Nc,Je,we,Nt),W--):1&vt||de(ge,be,null,null,Ce,De,Je,we,Ce,De,Je,we,oe,ue+J.A,null,null,Dt),W}function Hn(I,R,W){var J=I.F,oe=[I.J];if(J!=null){var ue=I.U,de=R.ba.S,ge=de==Um||de==rp;R=R.ba.f.RGBA;var be=[0],Ce=I.ka;be[0]=I.T,I.Kb&&(Ce==0?--be[0]:(--Ce,oe[0]-=I.width),I.j+I.ka+I.T==I.o&&(be[0]=I.o-I.j-Ce));var De=R.eb;Ce=R.fb+Ce*R.A,I=Dm(J,oe[0],I.width,ue,be,De,Ce+(ge?0:3),R.A),e(W==be),I&&Ct(de)&&_A(De,Ce,ge,ue,be,R.A)}return 0}function Fs(I){var R=I.ma,W=R.ba.S,J=11>W,oe=W==ko||W==cc||W==Um||W==np||W==12||Ct(W);if(R.memory=null,R.Ib=null,R.Jb=null,R.Nd=null,!vd(R.Oa,I,oe?11:12))return 0;if(oe&&Ct(W)&&wu(),I.da)alert("todo:use_scaling");else{if(J){if(R.Ib=pr,I.Kb){if(W=I.U+1>>1,R.memory=i(I.U+2*W),R.memory==null)return 0;R.ec=R.memory,R.fc=0,R.cc=R.ec,R.dc=R.fc+I.U,R.Mc=R.cc,R.Nc=R.dc+W,R.Ib=Gr,wu()}}else alert("todo:EmitYUV");oe&&(R.Jb=Hn,J&&Dl())}if(J&&!If){for(I=0;256>I;++I)io[I]=89858*(I-128)+ap>>pc,uj[I]=-22014*(I-128)+ap,RS[I]=-45773*(I-128),K0[I]=113618*(I-128)+ap>>pc;for(I=DA;I<Ef;++I)R=76283*(I-16)+ap>>pc,dj[I-DA]=ai(R,255),fj[I-DA]=ai(R+8>>4,15);If=1}return 1}function cn(I){var R=I.ma,W=I.U,J=I.T;return e(!(1&I.ka)),0>=W||0>=J?0:(W=R.Ib(I,R),R.Jb!=null&&R.Jb(I,R,W),R.Dc+=W,1)}function Ki(I){I.ma.memory=null}function Cs(I,R,W,J){return H(I,8)!=47?0:(R[0]=H(I,14)+1,W[0]=H(I,14)+1,J[0]=H(I,1),H(I,3)!=0?0:!I.h)}function Ds(I,R){if(4>I)return I+1;var W=I-2>>1;return(2+(1&I)<<W)+H(R,W)+1}function wr(I,R){return 120<R?R-120:1<=(W=((W=dc[R-1])>>4)*I+(8-(15&W)))?W:1;var W}function ts(I,R,W){var J=re(W),oe=I[R+=255&J].g-8;return 0<oe&&(he(W,W.u+8),J=re(W),R+=I[R].value,R+=J&(1<<oe)-1),he(W,W.u+I[R].g),I[R].value}function Er(I,R,W){return W.g+=I.g,W.value+=I.value<<R>>>0,e(8>=W.g),I.g}function Bt(I,R,W){var J=I.xc;return e((R=J==0?0:I.vc[I.md*(W>>J)+(R>>J)])<I.Wb),I.Ya[R]}function Si(I,R,W,J){var oe=I.ab,ue=I.c*R,de=I.C;R=de+R;var ge=W,be=J;for(J=I.Ta,W=I.Ua;0<oe--;){var Ce=I.gc[oe],De=de,Je=R,we=ge,Me=be,Ke=(be=J,ge=W,Ce.Ea);switch(e(De<Je),e(Je<=Ce.nc),Ce.hc){case 2:ta(we,Me,(Je-De)*Ke,be,ge);break;case 0:var mt=De,Ye=Je,pt=be,vt=ge,Dt=(An=Ce).Ea;mt==0&&(Jh(we,Me,null,null,1,pt,vt),en(we,Me+1,0,0,Dt-1,pt,vt+1),Me+=Dt,vt+=Dt,++mt);for(var Nt=1<<An.b,bn=Nt-1,an=_e(Dt,An.b),tr=An.K,An=An.w+(mt>>An.b)*an;mt<Ye;){var Cr=tr,Gs=An,ir=1;for(Zh(we,Me,pt,vt-Dt,1,pt,vt);ir<Dt;){var on=(ir&~bn)+Nt;on>Dt&&(on=Dt),(0,Sd[Cr[Gs++]>>8&15])(we,Me+ +ir,pt,vt+ir-Dt,on-ir,pt,vt+ir),ir=on}Me+=Dt,vt+=Dt,++mt&bn||(An+=an)}Je!=Ce.nc&&r(be,ge-Ke,be,ge+(Je-De-1)*Ke,Ke);break;case 1:for(Ke=we,Ye=Me,Dt=(we=Ce.Ea)-(vt=we&~(pt=(Me=1<<Ce.b)-1)),mt=_e(we,Ce.b),Nt=Ce.K,Ce=Ce.w+(De>>Ce.b)*mt;De<Je;){for(bn=Nt,an=Ce,tr=new $t,An=Ye+vt,Cr=Ye+we;Ye<An;)Qt(bn[an++],tr),ep(tr,Ke,Ye,Me,be,ge),Ye+=Me,ge+=Me;Ye<Cr&&(Qt(bn[an++],tr),ep(tr,Ke,Ye,Dt,be,ge),Ye+=Dt,ge+=Dt),++De&pt||(Ce+=mt)}break;case 3:if(we==be&&Me==ge&&0<Ce.b){for(Ye=be,we=Ke=ge+(Je-De)*Ke-(vt=(Je-De)*_e(Ce.Ea,Ce.b)),Me=be,pt=ge,mt=[],vt=(Dt=vt)-1;0<=vt;--vt)mt[vt]=Me[pt+vt];for(vt=Dt-1;0<=vt;--vt)Ye[we+vt]=mt[vt];$0(Ce,De,Je,be,Ke,be,ge)}else $0(Ce,De,Je,we,Me,be,ge)}ge=J,be=W}be!=W&&r(J,W,ge,be,ue)}function ms(I,R){var W=I.V,J=I.Ba+I.c*I.C,oe=R-I.C;if(e(R<=I.l.o),e(16>=oe),0<oe){var ue=I.l,de=I.Ta,ge=I.Ua,be=ue.width;if(Si(I,oe,W,J),oe=ge=[ge],e((W=I.C)<(J=R)),e(ue.v<ue.va),J>ue.o&&(J=ue.o),W<ue.j){var Ce=ue.j-W;W=ue.j,oe[0]+=Ce*be}if(W>=J?W=0:(oe[0]+=4*ue.v,ue.ka=W-ue.j,ue.U=ue.va-ue.v,ue.T=J-W,W=1),W){if(ge=ge[0],11>(W=I.ca).S){var De=W.f.RGBA,Je=(J=W.S,oe=ue.U,ue=ue.T,Ce=De.eb,De.A),we=ue;for(De=De.fb+I.Ma*De.A;0<we--;){var Me=de,Ke=ge,mt=oe,Ye=Ce,pt=De;switch(J){case z0:tp(Me,Ke,mt,Ye,pt);break;case ko:Cd(Me,Ke,mt,Ye,pt);break;case zm:Cd(Me,Ke,mt,Ye,pt),_A(Ye,pt,0,mt,1,0);break;case M0:jA(Me,Ke,mt,Ye,pt);break;case cc:$e(Me,Ke,mt,Ye,pt,1);break;case Q0:$e(Me,Ke,mt,Ye,pt,1),_A(Ye,pt,0,mt,1,0);break;case Um:$e(Me,Ke,mt,Ye,pt,0);break;case rp:$e(Me,Ke,mt,Ye,pt,0),_A(Ye,pt,1,mt,1,0);break;case np:kd(Me,Ke,mt,Ye,pt);break;case H0:kd(Me,Ke,mt,Ye,pt),lc(Ye,pt,mt,1,0);break;case wf:Eu(Me,Ke,mt,Ye,pt);break;default:e(0)}ge+=be,De+=Je}I.Ma+=ue}else alert("todo:EmitRescaledRowsYUVA");e(I.Ma<=W.height)}}I.C=R,e(I.C<=I.i)}function Jn(I){var R;if(0<I.ua)return 0;for(R=0;R<I.Wb;++R){var W=I.Ya[R].G,J=I.Ya[R].H;if(0<W[1][J[1]+0].g||0<W[2][J[2]+0].g||0<W[3][J[3]+0].g)return 0}return 1}function ns(I,R,W,J,oe,ue){if(I.Z!=0){var de=I.qd,ge=I.rd;for(e(Id[I.Z]!=null);R<W;++R)Id[I.Z](de,ge,J,oe,J,oe,ue),de=J,ge=oe,oe+=ue;I.qd=de,I.rd=ge}}function Ci(I,R){var W=I.l.ma,J=W.Z==0||W.Z==1?I.l.j:I.C;if(J=I.C<J?J:I.C,e(R<=I.l.o),R>J){var oe=I.l.width,ue=W.ca,de=W.tb+oe*J,ge=I.V,be=I.Ba+I.c*J,Ce=I.gc;e(I.ab==1),e(Ce[0].hc==3),Bu(Ce[0],J,R,ge,be,ue,de),ns(W,J,R,ue,de,oe)}I.C=I.Ma=R}function ft(I,R,W,J,oe,ue,de){var ge=I.$/J,be=I.$%J,Ce=I.m,De=I.s,Je=W+I.$,we=Je;oe=W+J*oe;var Me=W+J*ue,Ke=280+De.ua,mt=I.Pb?ge:16777216,Ye=0<De.ua?De.Wa:null,pt=De.wc,vt=Je<Me?Bt(De,be,ge):null;e(I.C<ue),e(Me<=oe);var Dt=!1;e:for(;;){for(;Dt||Je<Me;){var Nt=0;if(ge>=mt){var bn=Je-W;e((mt=I).Pb),mt.wd=mt.m,mt.xd=bn,0<mt.s.ua&&Le(mt.s.Wa,mt.s.vb),mt=ge+Sf}if(be&pt||(vt=Bt(De,be,ge)),e(vt!=null),vt.Qb&&(R[Je]=vt.qb,Dt=!0),!Dt)if(xe(Ce),vt.jc){Nt=Ce,bn=R;var an=Je,tr=vt.pd[re(Nt)&vf-1];e(vt.jc),256>tr.g?(he(Nt,Nt.u+tr.g),bn[an]=tr.value,Nt=0):(he(Nt,Nt.u+tr.g-256),e(256<=tr.value),Nt=tr.value),Nt==0&&(Dt=!0)}else Nt=ts(vt.G[0],vt.H[0],Ce);if(Ce.h)break;if(Dt||256>Nt){if(!Dt)if(vt.nd)R[Je]=(vt.qb|Nt<<8)>>>0;else{if(xe(Ce),Dt=ts(vt.G[1],vt.H[1],Ce),xe(Ce),bn=ts(vt.G[2],vt.H[2],Ce),an=ts(vt.G[3],vt.H[3],Ce),Ce.h)break;R[Je]=(an<<24|Dt<<16|Nt<<8|bn)>>>0}if(Dt=!1,++Je,++be>=J&&(be=0,++ge,de!=null&&ge<=ue&&!(ge%16)&&de(I,ge),Ye!=null))for(;we<Je;)Nt=R[we++],Ye.X[(506832829*Nt&4294967295)>>>Ye.Mb]=Nt}else if(280>Nt){if(Nt=Ds(Nt-256,Ce),bn=ts(vt.G[4],vt.H[4],Ce),xe(Ce),bn=wr(J,bn=Ds(bn,Ce)),Ce.h)break;if(Je-W<bn||oe-Je<Nt)break e;for(an=0;an<Nt;++an)R[Je+an]=R[Je+an-bn];for(Je+=Nt,be+=Nt;be>=J;)be-=J,++ge,de!=null&&ge<=ue&&!(ge%16)&&de(I,ge);if(e(Je<=oe),be&pt&&(vt=Bt(De,be,ge)),Ye!=null)for(;we<Je;)Nt=R[we++],Ye.X[(506832829*Nt&4294967295)>>>Ye.Mb]=Nt}else{if(!(Nt<Ke))break e;for(Dt=Nt-280,e(Ye!=null);we<Je;)Nt=R[we++],Ye.X[(506832829*Nt&4294967295)>>>Ye.Mb]=Nt;Nt=Je,e(!(Dt>>>(bn=Ye).Xa)),R[Nt]=bn.X[Dt],Dt=!0}Dt||e(Ce.h==le(Ce))}if(I.Pb&&Ce.h&&Je<oe)e(I.m.h),I.a=5,I.m=I.wd,I.$=I.xd,0<I.s.ua&&Le(I.s.vb,I.s.Wa);else{if(Ce.h)break e;de?.(I,ge>ue?ue:ge),I.a=0,I.$=Je-W}return 1}return I.a=3,0}function Cn(I){e(I!=null),I.vc=null,I.yc=null,I.Ya=null;var R=I.Wa;R!=null&&(R.X=null),I.vb=null,e(I!=null)}function Wn(){var I=new Vn;return I==null?null:(I.a=0,I.xb=Cb,yt("Predictor","VP8LPredictors"),yt("Predictor","VP8LPredictors_C"),yt("PredictorAdd","VP8LPredictorsAdd"),yt("PredictorAdd","VP8LPredictorsAdd_C"),ta=fn,ep=rn,tp=sn,Cd=On,kd=Ot,Eu=xn,jA=ke,D.VP8LMapColor32b=ku,D.VP8LMapColor8b=to,I)}function Xn(I,R,W,J,oe){var ue=1,de=[I],ge=[R],be=J.m,Ce=J.s,De=null,Je=0;e:for(;;){if(W)for(;ue&&H(be,1);){var we=de,Me=ge,Ke=J,mt=1,Ye=Ke.m,pt=Ke.gc[Ke.ab],vt=H(Ye,2);if(Ke.Oc&1<<vt)ue=0;else{switch(Ke.Oc|=1<<vt,pt.hc=vt,pt.Ea=we[0],pt.nc=Me[0],pt.K=[null],++Ke.ab,e(4>=Ke.ab),vt){case 0:case 1:pt.b=H(Ye,3)+2,mt=Xn(_e(pt.Ea,pt.b),_e(pt.nc,pt.b),0,Ke,pt.K),pt.K=pt.K[0];break;case 3:var Dt,Nt=H(Ye,8)+1,bn=16<Nt?0:4<Nt?1:2<Nt?2:3;if(we[0]=_e(pt.Ea,bn),pt.b=bn,Dt=mt=Xn(Nt,1,0,Ke,pt.K)){var an,tr=Nt,An=pt,Cr=1<<(8>>An.b),Gs=i(Cr);if(Gs==null)Dt=0;else{var ir=An.K[0],on=An.w;for(Gs[0]=An.K[0][0],an=1;an<1*tr;++an)Gs[an]=At(ir[on+an],Gs[an-1]);for(;an<4*Cr;++an)Gs[an]=0;An.K[0]=null,An.K[0]=Gs,Dt=1}}mt=Dt;break;case 2:break;default:e(0)}ue=mt}}if(de=de[0],ge=ge[0],ue&&H(be,1)&&!(ue=1<=(Je=H(be,4))&&11>=Je)){J.a=3;break e}var Wt;if(Wt=ue)t:{var fi,qn,lr,fs=J,ka=de,ao=ge,$s=Je,ca=W,Bo=fs.m,ua=fs.s,gr=[null],Kr=1,Ai=0,is=fc[$s];n:for(;;){if(ca&&H(Bo,1)){var Ba=H(Bo,3)+2,hi=_e(ka,Ba),Xr=_e(ao,Ba),sa=hi*Xr;if(!Xn(hi,Xr,0,fs,gr))break n;for(gr=gr[0],ua.xc=Ba,fi=0;fi<sa;++fi){var As=gr[fi]>>8&65535;gr[fi]=As,As>=Kr&&(Kr=As+1)}}if(Bo.h)break n;for(qn=0;5>qn;++qn){var da=OA[qn];!qn&&0<$s&&(da+=1<<$s),Ai<da&&(Ai=da)}var fa=a(Kr*is,U),ks=Kr,Wr=a(ks,ee);if(Wr==null)var Eo=null;else e(65536>=ks),Eo=Wr;var Ti=i(Ai);if(Eo==null||Ti==null||fa==null){fs.a=1;break n}var Ln=fa;for(fi=lr=0;fi<Kr;++fi){var Pn=Eo[fi],Yr=Pn.G,Al=Pn.H,mc=0,Zo=1,Aa=0;for(qn=0;5>qn;++qn){da=OA[qn],Yr[qn]=Ln,Al[qn]=lr,!qn&&0<$s&&(da+=1<<$s);s:{var Nf,jf=da,Y0=fs,Ps=Ti,Bb=Ln,Eb=lr,J0=0,Nd=Y0.m,Aj=H(Nd,1);if(s(Ps,0,0,jf),Aj){var Ib=H(Nd,1)+1,Nb=H(Nd,1),Z0=H(Nd,Nb==0?1:8);Ps[Z0]=1,Ib==2&&(Ps[Z0=H(Nd,8)]=1);var $a=1}else{var _i=i(19),Wm=H(Nd,4)+4;if(19<Wm){Y0.a=3;var Tf=0;break s}for(Nf=0;Nf<Wm;++Nf)_i[Mm[Nf]]=H(Nd,3);var lp=void 0,LA=void 0,ju=Y0,ey=_i,cp=jf,ty=Ps,ny=0,jd=ju.m,jb=8,Tb=a(128,U);r:for(;P(Tb,0,7,ey,19);){if(H(jd,1)){var OS=2+2*H(jd,3);if((lp=2+H(jd,OS))>cp)break r}else lp=cp;for(LA=0;LA<cp&&lp--;){xe(jd);var _b=Tb[0+(127&re(jd))];he(jd,jd.u+_b.g);var _f=_b.value;if(16>_f)ty[LA++]=_f,_f!=0&&(jb=_f);else{var FS=_f==16,DS=_f-16,LS=sp[DS],Rb=H(jd,uc[DS])+LS;if(LA+Rb>cp)break r;for(var $S=FS?jb:0;0<Rb--;)ty[LA++]=$S}}ny=1;break r}ny||(ju.a=3),$a=ny}($a=$a&&!Nd.h)&&(J0=P(Bb,Eb,8,Ps,jf)),$a&&J0!=0?Tf=J0:(Y0.a=3,Tf=0)}if(Tf==0)break n;if(Zo&&W0[qn]==1&&(Zo=Ln[lr].g==0),mc+=Ln[lr].g,lr+=Tf,3>=qn){var $A,ry=Ti[0];for($A=1;$A<da;++$A)Ti[$A]>ry&&(ry=Ti[$A]);Aa+=ry}}if(Pn.nd=Zo,Pn.Qb=0,Zo&&(Pn.qb=(Yr[3][Al[3]+0].value<<24|Yr[1][Al[1]+0].value<<16|Yr[2][Al[2]+0].value)>>>0,mc==0&&256>Yr[0][Al[0]+0].value&&(Pn.Qb=1,Pn.qb+=Yr[0][Al[0]+0].value<<8)),Pn.jc=!Pn.Qb&&6>Aa,Pn.jc){var Vm,Tu=Pn;for(Vm=0;Vm<vf;++Vm){var Td=Vm,_d=Tu.pd[Td],sy=Tu.G[0][Tu.H[0]+Td];256<=sy.value?(_d.g=sy.g+256,_d.value=sy.value):(_d.g=0,_d.value=0,Td>>=Er(sy,8,_d),Td>>=Er(Tu.G[1][Tu.H[1]+Td],16,_d),Td>>=Er(Tu.G[2][Tu.H[2]+Td],0,_d),Er(Tu.G[3][Tu.H[3]+Td],24,_d))}}}ua.vc=gr,ua.Wb=Kr,ua.Ya=Eo,ua.yc=fa,Wt=1;break t}Wt=0}if(!(ue=Wt)){J.a=3;break e}if(0<Je){if(Ce.ua=1<<Je,!ie(Ce.Wa,Je)){J.a=1,ue=0;break e}}else Ce.ua=0;var iy=J,PA=de,PS=ge,up=iy.s,dp=up.xc;if(iy.c=PA,iy.i=PS,up.md=_e(PA,dp),up.wc=dp==0?-1:(1<<dp)-1,W){J.xb=Cf;break e}if((De=i(de*ge))==null){J.a=1,ue=0;break e}ue=(ue=ft(J,De,0,de,ge,ge,null))&&!be.h;break e}return ue?(oe!=null?oe[0]=De:(e(De==null),e(W)),J.$=0,W||Cn(Ce)):Cn(Ce),ue}function sr(I,R){var W=I.c*I.i,J=W+R+16*R;return e(I.c<=R),I.V=i(J),I.V==null?(I.Ta=null,I.Ua=0,I.a=1,0):(I.Ta=I.V,I.Ua=I.Ba+W+R,1)}function oa(I,R){var W=I.C,J=R-W,oe=I.V,ue=I.Ba+I.c*W;for(e(R<=I.l.o);0<J;){var de=16<J?16:J,ge=I.l.ma,be=I.l.width,Ce=be*de,De=ge.ca,Je=ge.tb+be*W,we=I.Ta,Me=I.Ua;Si(I,de,oe,ue),Ul(we,Me,De,Je,Ce),ns(ge,W,W+de,De,Je,be),J-=de,oe+=de*I.c,W+=de}e(W==R),I.C=I.Ma=R}function Qr(){this.ub=this.yd=this.td=this.Rb=0}function os(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Pr(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Xi(){this.Yb=(function(){var I=[];return(function R(W,J,oe){for(var ue=oe[J],de=0;de<ue&&(W.push(oe.length>J+1?[]:0),!(oe.length<J+1));de++)R(W[de],J+1,oe)})(I,0,[3,11]),I})()}function Ir(){this.jb=i(3),this.Wc=o([4,8],Xi),this.Xc=o([4,17],Xi)}function ti(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function rs(){this.ld=this.La=this.dd=this.tc=0}function st(){this.Na=this.la=0}function gt(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Pt(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Gt(){this.uc=this.M=this.Nb=0,this.wa=Array(new rs),this.Y=0,this.ya=Array(new Pt),this.aa=0,this.l=new vo}function jn(){this.y=i(16),this.f=i(8),this.ea=i(8)}function mr(){this.cb=this.a=0,this.sc="",this.m=new Q,this.Od=new Qr,this.Kc=new os,this.ed=new ti,this.Qa=new Pr,this.Ic=this.$c=this.Aa=0,this.D=new Gt,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,Q),this.ia=0,this.pb=a(4,gt),this.Pa=new Ir,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new jn),this.Hd=0,this.rb=Array(new st),this.sb=0,this.wa=Array(new rs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Pt),this.L=this.aa=0,this.gd=o([4,2],rs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ai(I,R){return 0>I?0:I>R?R:I}function vo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ki(){var I=new mr;return I!=null&&(I.a=0,I.sc="OK",I.cb=0,I.Xb=0,zl||(zl=Yi)),I}function En(I,R,W){return I.a==0&&(I.a=R,I.sc=W,I.cb=0),0}function wo(I,R,W){return 3<=W&&I[R+0]==157&&I[R+1]==1&&I[R+2]==42}function oi(I,R){if(I==null)return 0;if(I.a=0,I.sc="OK",R==null)return En(I,2,"null VP8Io passed to VP8GetHeaders()");var W=R.data,J=R.w,oe=R.ha;if(4>oe)return En(I,7,"Truncated header.");var ue=W[J+0]|W[J+1]<<8|W[J+2]<<16,de=I.Od;if(de.Rb=!(1&ue),de.td=ue>>1&7,de.yd=ue>>4&1,de.ub=ue>>5,3<de.td)return En(I,3,"Incorrect keyframe parameters.");if(!de.yd)return En(I,4,"Frame not displayable.");J+=3,oe-=3;var ge=I.Kc;if(de.Rb){if(7>oe)return En(I,7,"cannot parse picture header");if(!wo(W,J,oe))return En(I,3,"Bad code word");ge.c=16383&(W[J+4]<<8|W[J+3]),ge.Td=W[J+4]>>6,ge.i=16383&(W[J+6]<<8|W[J+5]),ge.Ud=W[J+6]>>6,J+=7,oe-=7,I.za=ge.c+15>>4,I.Ub=ge.i+15>>4,R.width=ge.c,R.height=ge.i,R.Da=0,R.j=0,R.v=0,R.va=R.width,R.o=R.height,R.da=0,R.ib=R.width,R.hb=R.height,R.U=R.width,R.T=R.height,s((ue=I.Pa).jb,0,255,ue.jb.length),e((ue=I.Qa)!=null),ue.Cb=0,ue.Bb=0,ue.Fb=1,s(ue.Zb,0,0,ue.Zb.length),s(ue.Lb,0,0,ue.Lb)}if(de.ub>oe)return En(I,7,"bad partition length");q(ue=I.m,W,J,de.ub),J+=de.ub,oe-=de.ub,de.Rb&&(ge.Ld=me(ue),ge.Kd=me(ue)),ge=I.Qa;var be,Ce=I.Pa;if(e(ue!=null),e(ge!=null),ge.Cb=me(ue),ge.Cb){if(ge.Bb=me(ue),me(ue)){for(ge.Fb=me(ue),be=0;4>be;++be)ge.Zb[be]=me(ue)?G(ue,7):0;for(be=0;4>be;++be)ge.Lb[be]=me(ue)?G(ue,6):0}if(ge.Bb)for(be=0;3>be;++be)Ce.jb[be]=me(ue)?Z(ue,8):255}else ge.Bb=0;if(ue.Ka)return En(I,3,"cannot parse segment header");if((ge=I.ed).zd=me(ue),ge.Tb=Z(ue,6),ge.wb=Z(ue,3),ge.Pc=me(ue),ge.Pc&&me(ue)){for(Ce=0;4>Ce;++Ce)me(ue)&&(ge.vd[Ce]=G(ue,6));for(Ce=0;4>Ce;++Ce)me(ue)&&(ge.od[Ce]=G(ue,6))}if(I.L=ge.Tb==0?0:ge.zd?1:2,ue.Ka)return En(I,3,"cannot parse filter header");var De=oe;if(oe=be=J,J=be+De,ge=De,I.Xb=(1<<Z(I.m,2))-1,De<3*(Ce=I.Xb))W=7;else{for(be+=3*Ce,ge-=3*Ce,De=0;De<Ce;++De){var Je=W[oe+0]|W[oe+1]<<8|W[oe+2]<<16;Je>ge&&(Je=ge),q(I.Jc[+De],W,be,Je),be+=Je,ge-=Je,oe+=3}q(I.Jc[+Ce],W,be,ge),W=be<J?0:5}if(W!=0)return En(I,W,"cannot parse partitions");for(W=Z(be=I.m,7),oe=me(be)?G(be,4):0,J=me(be)?G(be,4):0,ge=me(be)?G(be,4):0,Ce=me(be)?G(be,4):0,be=me(be)?G(be,4):0,De=I.Qa,Je=0;4>Je;++Je){if(De.Cb){var we=De.Zb[Je];De.Fb||(we+=W)}else{if(0<Je){I.pb[Je]=I.pb[0];continue}we=W}var Me=I.pb[Je];Me.Sc[0]=Ac[ai(we+oe,127)],Me.Sc[1]=hc[ai(we+0,127)],Me.Eb[0]=2*Ac[ai(we+J,127)],Me.Eb[1]=101581*hc[ai(we+ge,127)]>>16,8>Me.Eb[1]&&(Me.Eb[1]=8),Me.Qc[0]=Ac[ai(we+Ce,117)],Me.Qc[1]=hc[ai(we+be,127)],Me.lc=we+be}if(!de.Rb)return En(I,4,"Not a key frame.");for(me(ue),de=I.Pa,W=0;4>W;++W){for(oe=0;8>oe;++oe)for(J=0;3>J;++J)for(ge=0;11>ge;++ge)Ce=ve(ue,qs[W][oe][J][ge])?Z(ue,8):_S[W][oe][J][ge],de.Wc[W][oe].Yb[J][ge]=Ce;for(oe=0;17>oe;++oe)de.Xc[W][oe]=de.Wc[W][Tr[oe]]}return I.kc=me(ue),I.kc&&(I.Bd=Z(ue,8)),I.cb=1}function Yi(I,R,W,J,oe,ue,de){var ge=R[oe].Yb[W];for(W=0;16>oe;++oe){if(!ve(I,ge[W+0]))return oe;for(;!ve(I,ge[W+1]);)if(ge=R[++oe].Yb[0],W=0,oe==16)return 16;var be=R[oe+1].Yb;if(ve(I,ge[W+2])){var Ce=I,De=0;if(ve(Ce,(we=ge)[(Je=W)+3]))if(ve(Ce,we[Je+6])){for(ge=0,Je=2*(De=ve(Ce,we[Je+8]))+(we=ve(Ce,we[Je+9+De])),De=0,we=TS[Je];we[ge];++ge)De+=De+ve(Ce,we[ge]);De+=3+(8<<Je)}else ve(Ce,we[Je+7])?(De=7+2*ve(Ce,165),De+=ve(Ce,145)):De=5+ve(Ce,159);else De=ve(Ce,we[Je+4])?3+ve(Ce,we[Je+5]):2;ge=be[2]}else De=1,ge=be[1];be=de+Sb[oe],0>(Ce=I).b&&Be(Ce);var Je,we=Ce.b,Me=(Je=Ce.Ca>>1)-(Ce.I>>we)>>31;--Ce.b,Ce.Ca+=Me,Ce.Ca|=1,Ce.I-=(Je+1&Me)<<we,ue[be]=((De^Me)-Me)*J[(0<oe)+0]}return 16}function xu(I){var R=I.rb[I.sb-1];R.la=0,R.Na=0,s(I.zc,0,0,I.zc.length),I.ja=0}function Sa(I,R,W,J,oe){oe=I[R+W+32*J]+(oe>>3),I[R+W+32*J]=-256&oe?0>oe?0:255:oe}function Ji(I,R,W,J,oe,ue){Sa(I,R,0,W,J+oe),Sa(I,R,1,W,J+ue),Sa(I,R,2,W,J-ue),Sa(I,R,3,W,J-oe)}function Bi(I){return(20091*I>>16)+I}function sc(I,R,W,J){var oe,ue=0,de=i(16);for(oe=0;4>oe;++oe){var ge=I[R+0]+I[R+8],be=I[R+0]-I[R+8],Ce=(35468*I[R+4]>>16)-Bi(I[R+12]),De=Bi(I[R+4])+(35468*I[R+12]>>16);de[ue+0]=ge+De,de[ue+1]=be+Ce,de[ue+2]=be-Ce,de[ue+3]=ge-De,ue+=4,R++}for(oe=ue=0;4>oe;++oe)ge=(I=de[ue+0]+4)+de[ue+8],be=I-de[ue+8],Ce=(35468*de[ue+4]>>16)-Bi(de[ue+12]),Sa(W,J,0,0,ge+(De=Bi(de[ue+4])+(35468*de[ue+12]>>16))),Sa(W,J,1,0,be+Ce),Sa(W,J,2,0,be-Ce),Sa(W,J,3,0,ge-De),ue++,J+=32}function BA(I,R,W,J){var oe=I[R+0]+4,ue=35468*I[R+4]>>16,de=Bi(I[R+4]),ge=35468*I[R+1]>>16;Ji(W,J,0,oe+de,I=Bi(I[R+1]),ge),Ji(W,J,1,oe+ue,I,ge),Ji(W,J,2,oe-ue,I,ge),Ji(W,J,3,oe-de,I,ge)}function EA(I,R,W,J,oe){sc(I,R,W,J),oe&&sc(I,R+16,W,J+4)}function Ca(I,R,W,J){Bd(I,R+0,W,J,1),Bd(I,R+32,W,J+128,1)}function xf(I,R,W,J){var oe;for(I=I[R+0]+4,oe=0;4>oe;++oe)for(R=0;4>R;++R)Sa(W,J,R,oe,I)}function dd(I,R,W,J){I[R+0]&&ss(I,R+0,W,J),I[R+16]&&ss(I,R+16,W,J+4),I[R+32]&&ss(I,R+32,W,J+128),I[R+48]&&ss(I,R+48,W,J+128+4)}function Xo(I,R,W,J){var oe,ue=i(16);for(oe=0;4>oe;++oe){var de=I[R+0+oe]+I[R+12+oe],ge=I[R+4+oe]+I[R+8+oe],be=I[R+4+oe]-I[R+8+oe],Ce=I[R+0+oe]-I[R+12+oe];ue[0+oe]=de+ge,ue[8+oe]=de-ge,ue[4+oe]=Ce+be,ue[12+oe]=Ce-be}for(oe=0;4>oe;++oe)de=(I=ue[0+4*oe]+3)+ue[3+4*oe],ge=ue[1+4*oe]+ue[2+4*oe],be=ue[1+4*oe]-ue[2+4*oe],Ce=I-ue[3+4*oe],W[J+0]=de+ge>>3,W[J+16]=Ce+be>>3,W[J+32]=de-ge>>3,W[J+48]=Ce-be>>3,J+=64}function fd(I,R,W){var J,oe=R-32,ue=Co,de=255-I[oe-1];for(J=0;J<W;++J){var ge,be=ue,Ce=de+I[R-1];for(ge=0;ge<W;++ge)I[R+ge]=be[Ce+I[oe+ge]];R+=32}}function Ad(I,R){fd(I,R,4)}function hd(I,R){fd(I,R,8)}function Fl(I,R){fd(I,R,16)}function pd(I,R){var W;for(W=0;16>W;++W)r(I,R+32*W,I,R-32,16)}function ul(I,R){var W;for(W=16;0<W;--W)s(I,R,I[R-1],16),R+=32}function li(I,R,W){var J;for(J=0;16>J;++J)s(R,W+32*J,I,16)}function eo(I,R){var W,J=16;for(W=0;16>W;++W)J+=I[R-1+32*W]+I[R+W-32];li(J>>5,I,R)}function Uc(I,R){var W,J=8;for(W=0;16>W;++W)J+=I[R-1+32*W];li(J>>4,I,R)}function mn(I,R){var W,J=8;for(W=0;16>W;++W)J+=I[R+W-32];li(J>>4,I,R)}function ic(I,R){li(128,I,R)}function Dn(I,R,W){return I+2*R+W+2>>2}function IA(I,R){var W,J=R-32;for(J=new Uint8Array([Dn(I[J-1],I[J+0],I[J+1]),Dn(I[J+0],I[J+1],I[J+2]),Dn(I[J+1],I[J+2],I[J+3]),Dn(I[J+2],I[J+3],I[J+4])]),W=0;4>W;++W)r(I,R+32*W,J,0,J.length)}function bf(I,R){var W=I[R-1],J=I[R-1+32],oe=I[R-1+64],ue=I[R-1+96];Ee(I,R+0,16843009*Dn(I[R-1-32],W,J)),Ee(I,R+32,16843009*Dn(W,J,oe)),Ee(I,R+64,16843009*Dn(J,oe,ue)),Ee(I,R+96,16843009*Dn(oe,ue,ue))}function bu(I,R){var W,J=4;for(W=0;4>W;++W)J+=I[R+W-32]+I[R-1+32*W];for(J>>=3,W=0;4>W;++W)s(I,R+32*W,J,4)}function Ei(I,R){var W=I[R-1+0],J=I[R-1+32],oe=I[R-1+64],ue=I[R-1-32],de=I[R+0-32],ge=I[R+1-32],be=I[R+2-32],Ce=I[R+3-32];I[R+0+96]=Dn(J,oe,I[R-1+96]),I[R+1+96]=I[R+0+64]=Dn(W,J,oe),I[R+2+96]=I[R+1+64]=I[R+0+32]=Dn(ue,W,J),I[R+3+96]=I[R+2+64]=I[R+1+32]=I[R+0+0]=Dn(de,ue,W),I[R+3+64]=I[R+2+32]=I[R+1+0]=Dn(ge,de,ue),I[R+3+32]=I[R+2+0]=Dn(be,ge,de),I[R+3+0]=Dn(Ce,be,ge)}function ci(I,R){var W=I[R+1-32],J=I[R+2-32],oe=I[R+3-32],ue=I[R+4-32],de=I[R+5-32],ge=I[R+6-32],be=I[R+7-32];I[R+0+0]=Dn(I[R+0-32],W,J),I[R+1+0]=I[R+0+32]=Dn(W,J,oe),I[R+2+0]=I[R+1+32]=I[R+0+64]=Dn(J,oe,ue),I[R+3+0]=I[R+2+32]=I[R+1+64]=I[R+0+96]=Dn(oe,ue,de),I[R+3+32]=I[R+2+64]=I[R+1+96]=Dn(ue,de,ge),I[R+3+64]=I[R+2+96]=Dn(de,ge,be),I[R+3+96]=Dn(ge,be,be)}function md(I,R){var W=I[R-1+0],J=I[R-1+32],oe=I[R-1+64],ue=I[R-1-32],de=I[R+0-32],ge=I[R+1-32],be=I[R+2-32],Ce=I[R+3-32];I[R+0+0]=I[R+1+64]=ue+de+1>>1,I[R+1+0]=I[R+2+64]=de+ge+1>>1,I[R+2+0]=I[R+3+64]=ge+be+1>>1,I[R+3+0]=be+Ce+1>>1,I[R+0+96]=Dn(oe,J,W),I[R+0+64]=Dn(J,W,ue),I[R+0+32]=I[R+1+96]=Dn(W,ue,de),I[R+1+32]=I[R+2+96]=Dn(ue,de,ge),I[R+2+32]=I[R+3+96]=Dn(de,ge,be),I[R+3+32]=Dn(ge,be,Ce)}function L(I,R){var W=I[R+0-32],J=I[R+1-32],oe=I[R+2-32],ue=I[R+3-32],de=I[R+4-32],ge=I[R+5-32],be=I[R+6-32],Ce=I[R+7-32];I[R+0+0]=W+J+1>>1,I[R+1+0]=I[R+0+64]=J+oe+1>>1,I[R+2+0]=I[R+1+64]=oe+ue+1>>1,I[R+3+0]=I[R+2+64]=ue+de+1>>1,I[R+0+32]=Dn(W,J,oe),I[R+1+32]=I[R+0+96]=Dn(J,oe,ue),I[R+2+32]=I[R+1+96]=Dn(oe,ue,de),I[R+3+32]=I[R+2+96]=Dn(ue,de,ge),I[R+3+64]=Dn(de,ge,be),I[R+3+96]=Dn(ge,be,Ce)}function V(I,R){var W=I[R-1+0],J=I[R-1+32],oe=I[R-1+64],ue=I[R-1+96];I[R+0+0]=W+J+1>>1,I[R+2+0]=I[R+0+32]=J+oe+1>>1,I[R+2+32]=I[R+0+64]=oe+ue+1>>1,I[R+1+0]=Dn(W,J,oe),I[R+3+0]=I[R+1+32]=Dn(J,oe,ue),I[R+3+32]=I[R+1+64]=Dn(oe,ue,ue),I[R+3+64]=I[R+2+64]=I[R+0+96]=I[R+1+96]=I[R+2+96]=I[R+3+96]=ue}function se(I,R){var W=I[R-1+0],J=I[R-1+32],oe=I[R-1+64],ue=I[R-1+96],de=I[R-1-32],ge=I[R+0-32],be=I[R+1-32],Ce=I[R+2-32];I[R+0+0]=I[R+2+32]=W+de+1>>1,I[R+0+32]=I[R+2+64]=J+W+1>>1,I[R+0+64]=I[R+2+96]=oe+J+1>>1,I[R+0+96]=ue+oe+1>>1,I[R+3+0]=Dn(ge,be,Ce),I[R+2+0]=Dn(de,ge,be),I[R+1+0]=I[R+3+32]=Dn(W,de,ge),I[R+1+32]=I[R+3+64]=Dn(J,W,de),I[R+1+64]=I[R+3+96]=Dn(oe,J,W),I[R+1+96]=Dn(ue,oe,J)}function pe(I,R){var W;for(W=0;8>W;++W)r(I,R+32*W,I,R-32,8)}function Re(I,R){var W;for(W=0;8>W;++W)s(I,R,I[R-1],8),R+=32}function Ge(I,R,W){var J;for(J=0;8>J;++J)s(R,W+32*J,I,8)}function ht(I,R){var W,J=8;for(W=0;8>W;++W)J+=I[R+W-32]+I[R-1+32*W];Ge(J>>4,I,R)}function kn(I,R){var W,J=4;for(W=0;8>W;++W)J+=I[R+W-32];Ge(J>>3,I,R)}function Tn(I,R){var W,J=4;for(W=0;8>W;++W)J+=I[R-1+32*W];Ge(J>>3,I,R)}function Mn(I,R){Ge(128,I,R)}function Nr(I,R,W){var J=I[R-W],oe=I[R+0],ue=3*(oe-J)+Ed[1020+I[R-2*W]-I[R+W]],de=Pm[112+(ue+4>>3)];I[R-W]=Co[255+J+Pm[112+(ue+3>>3)]],I[R+0]=Co[255+oe-de]}function ni(I,R,W,J){var oe=I[R+0],ue=I[R+W];return no[255+I[R-2*W]-I[R-W]]>J||no[255+ue-oe]>J}function gd(I,R,W,J){return 4*no[255+I[R-W]-I[R+0]]+no[255+I[R-2*W]-I[R+W]]<=J}function yd(I,R,W,J,oe){var ue=I[R-3*W],de=I[R-2*W],ge=I[R-W],be=I[R+0],Ce=I[R+W],De=I[R+2*W],Je=I[R+3*W];return 4*no[255+ge-be]+no[255+de-Ce]>J?0:no[255+I[R-4*W]-ue]<=oe&&no[255+ue-de]<=oe&&no[255+de-ge]<=oe&&no[255+Je-De]<=oe&&no[255+De-Ce]<=oe&&no[255+Ce-be]<=oe}function ac(I,R,W,J){var oe=2*J+1;for(J=0;16>J;++J)gd(I,R+J,W,oe)&&Nr(I,R+J,W)}function zc(I,R,W,J){var oe=2*J+1;for(J=0;16>J;++J)gd(I,R+J*W,1,oe)&&Nr(I,R+J*W,1)}function vu(I,R,W,J){var oe;for(oe=3;0<oe;--oe)ac(I,R+=4*W,W,J)}function NA(I,R,W,J){var oe;for(oe=3;0<oe;--oe)zc(I,R+=4,W,J)}function Mc(I,R,W,J,oe,ue,de,ge){for(ue=2*ue+1;0<oe--;){if(yd(I,R,W,ue,de))if(ni(I,R,W,ge))Nr(I,R,W);else{var be=I,Ce=R,De=W,Je=be[Ce-2*De],we=be[Ce-De],Me=be[Ce+0],Ke=be[Ce+De],mt=be[Ce+2*De],Ye=27*(vt=Ed[1020+3*(Me-we)+Ed[1020+Je-Ke]])+63>>7,pt=18*vt+63>>7,vt=9*vt+63>>7;be[Ce-3*De]=Co[255+be[Ce-3*De]+vt],be[Ce-2*De]=Co[255+Je+pt],be[Ce-De]=Co[255+we+Ye],be[Ce+0]=Co[255+Me-Ye],be[Ce+De]=Co[255+Ke-pt],be[Ce+2*De]=Co[255+mt-vt]}R+=J}}function Qc(I,R,W,J,oe,ue,de,ge){for(ue=2*ue+1;0<oe--;){if(yd(I,R,W,ue,de))if(ni(I,R,W,ge))Nr(I,R,W);else{var be=I,Ce=R,De=W,Je=be[Ce-De],we=be[Ce+0],Me=be[Ce+De],Ke=Pm[112+(4+(mt=3*(we-Je))>>3)],mt=Pm[112+(mt+3>>3)],Ye=Ke+1>>1;be[Ce-2*De]=Co[255+be[Ce-2*De]+Ye],be[Ce-De]=Co[255+Je+mt],be[Ce+0]=Co[255+we-Ke],be[Ce+De]=Co[255+Me-Ye]}R+=J}}function Xh(I,R,W,J,oe,ue){Mc(I,R,W,1,16,J,oe,ue)}function Hc(I,R,W,J,oe,ue){Mc(I,R,1,W,16,J,oe,ue)}function Yh(I,R,W,J,oe,ue){var de;for(de=3;0<de;--de)Qc(I,R+=4*W,W,1,16,J,oe,ue)}function M(I,R,W,J,oe,ue){var de;for(de=3;0<de;--de)Qc(I,R+=4,1,W,16,J,oe,ue)}function ae(I,R,W,J,oe,ue,de,ge){Mc(I,R,oe,1,8,ue,de,ge),Mc(W,J,oe,1,8,ue,de,ge)}function Se(I,R,W,J,oe,ue,de,ge){Mc(I,R,1,oe,8,ue,de,ge),Mc(W,J,1,oe,8,ue,de,ge)}function Oe(I,R,W,J,oe,ue,de,ge){Qc(I,R+4*oe,oe,1,8,ue,de,ge),Qc(W,J+4*oe,oe,1,8,ue,de,ge)}function Qe(I,R,W,J,oe,ue,de,ge){Qc(I,R+4,1,oe,8,ue,de,ge),Qc(W,J+4,1,oe,8,ue,de,ge)}function bt(){this.ba=new Ut,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new dt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Tt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function dn(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Bn(){this.ua=0,this.Wa=new tt,this.vb=new tt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ee,this.yc=new U}function Vn(){this.xb=this.a=0,this.l=new vo,this.ca=new Ut,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new X,this.Pb=0,this.wd=new X,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Bn,this.ab=0,this.gc=a(4,dn),this.Oc=0}function er(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new vo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function jr(I,R,W,J,oe,ue,de){for(I=I==null?0:I[R+0],R=0;R<de;++R)oe[ue+R]=I+W[J+R]&255,I=oe[ue+R]}function Vs(I,R,W,J,oe,ue,de){var ge;if(I==null)jr(null,null,W,J,oe,ue,de);else for(ge=0;ge<de;++ge)oe[ue+ge]=I[R+ge]+W[J+ge]&255}function ui(I,R,W,J,oe,ue,de){if(I==null)jr(null,null,W,J,oe,ue,de);else{var ge,be=I[R+0],Ce=be,De=be;for(ge=0;ge<de;++ge)Ce=De+(be=I[R+ge])-Ce,De=W[J+ge]+(-256&Ce?0>Ce?0:255:Ce)&255,Ce=be,oe[ue+ge]=De}}function gs(I,R,W,J){var oe=R.width,ue=R.o;if(e(I!=null&&R!=null),0>W||0>=J||W+J>ue)return null;if(!I.Cc){if(I.ga==null){var de;if(I.ga=new er,(de=I.ga==null)||(de=R.width*R.o,e(I.Gb.length==0),I.Gb=i(de),I.Uc=0,I.Gb==null?de=0:(I.mb=I.Gb,I.nb=I.Uc,I.rc=null,de=1),de=!de),!de){de=I.ga;var ge=I.Fa,be=I.P,Ce=I.qc,De=I.mb,Je=I.nb,we=be+1,Me=Ce-1,Ke=de.l;if(e(ge!=null&&De!=null&&R!=null),Id[0]=null,Id[1]=jr,Id[2]=Vs,Id[3]=ui,de.ca=De,de.tb=Je,de.c=R.width,de.i=R.height,e(0<de.c&&0<de.i),1>=Ce)R=0;else if(de.$a=3&ge[be+0],de.Z=ge[be+0]>>2&3,de.Lc=ge[be+0]>>4&3,be=ge[be+0]>>6&3,0>de.$a||1<de.$a||4<=de.Z||1<de.Lc||be)R=0;else if(Ke.put=cn,Ke.ac=Fs,Ke.bc=Ki,Ke.ma=de,Ke.width=R.width,Ke.height=R.height,Ke.Da=R.Da,Ke.v=R.v,Ke.va=R.va,Ke.j=R.j,Ke.o=R.o,de.$a)e:{e(de.$a==1),R=Wn();t:for(;;){if(R==null){R=0;break e}if(e(de!=null),de.mc=R,R.c=de.c,R.i=de.i,R.l=de.l,R.l.ma=de,R.l.width=de.c,R.l.height=de.i,R.a=0,ne(R.m,ge,we,Me),!Xn(de.c,de.i,1,R,null)||(R.ab==1&&R.gc[0].hc==3&&Jn(R.s)?(de.ic=1,ge=R.c*R.i,R.Ta=null,R.Ua=0,R.V=i(ge),R.Ba=0,R.V==null?(R.a=1,R=0):R=1):(de.ic=0,R=sr(R,de.c)),!R))break t;R=1;break e}de.mc=null,R=0}else R=Me>=de.c*de.i;de=!R}if(de)return null;I.ga.Lc!=1?I.Ga=0:J=ue-W}e(I.ga!=null),e(W+J<=ue);e:{if(R=(ge=I.ga).c,ue=ge.l.o,ge.$a==0){if(we=I.rc,Me=I.Vc,Ke=I.Fa,be=I.P+1+W*R,Ce=I.mb,De=I.nb+W*R,e(be<=I.P+I.qc),ge.Z!=0)for(e(Id[ge.Z]!=null),de=0;de<J;++de)Id[ge.Z](we,Me,Ke,be,Ce,De,R),we=Ce,Me=De,De+=R,be+=R;else for(de=0;de<J;++de)r(Ce,De,Ke,be,R),we=Ce,Me=De,De+=R,be+=R;I.rc=we,I.Vc=Me}else{if(e(ge.mc!=null),R=W+J,e((de=ge.mc)!=null),e(R<=de.i),de.C>=R)R=1;else if(ge.ic||Dl(),ge.ic){ge=de.V,we=de.Ba,Me=de.c;var mt=de.i,Ye=(Ke=1,be=de.$/Me,Ce=de.$%Me,De=de.m,Je=de.s,de.$),pt=Me*mt,vt=Me*R,Dt=Je.wc,Nt=Ye<vt?Bt(Je,Ce,be):null;e(Ye<=pt),e(R<=mt),e(Jn(Je));t:for(;;){for(;!De.h&&Ye<vt;){if(Ce&Dt||(Nt=Bt(Je,Ce,be)),e(Nt!=null),xe(De),256>(mt=ts(Nt.G[0],Nt.H[0],De)))ge[we+Ye]=mt,++Ye,++Ce>=Me&&(Ce=0,++be<=R&&!(be%16)&&Ci(de,be));else{if(!(280>mt)){Ke=0;break t}mt=Ds(mt-256,De);var bn,an=ts(Nt.G[4],Nt.H[4],De);if(xe(De),!(Ye>=(an=wr(Me,an=Ds(an,De)))&&pt-Ye>=mt)){Ke=0;break t}for(bn=0;bn<mt;++bn)ge[we+Ye+bn]=ge[we+Ye+bn-an];for(Ye+=mt,Ce+=mt;Ce>=Me;)Ce-=Me,++be<=R&&!(be%16)&&Ci(de,be);Ye<vt&&Ce&Dt&&(Nt=Bt(Je,Ce,be))}e(De.h==le(De))}Ci(de,be>R?R:be);break t}!Ke||De.h&&Ye<pt?(Ke=0,de.a=De.h?5:3):de.$=Ye,R=Ke}else R=ft(de,de.V,de.Ba,de.c,de.i,R,oa);if(!R){J=0;break e}}W+J>=ue&&(I.Cc=1),J=1}if(!J)return null;if(I.Cc&&((J=I.ga)!=null&&(J.mc=null),I.ga=null,0<I.Ga))return alert("todo:WebPDequantizeLevels"),null}return I.nb+W*oe}function Zi(I,R,W,J,oe,ue){for(;0<oe--;){var de,ge=I,be=R+(W?1:0),Ce=I,De=R+(W?0:3);for(de=0;de<J;++de){var Je=Ce[De+4*de];Je!=255&&(Je*=32897,ge[be+4*de+0]=ge[be+4*de+0]*Je>>23,ge[be+4*de+1]=ge[be+4*de+1]*Je>>23,ge[be+4*de+2]=ge[be+4*de+2]*Je>>23)}R+=ue}}function Ii(I,R,W,J,oe){for(;0<J--;){var ue;for(ue=0;ue<W;++ue){var de=I[R+2*ue+0],ge=15&(Ce=I[R+2*ue+1]),be=4369*ge,Ce=(240&Ce|Ce>>4)*be>>16;I[R+2*ue+0]=(240&de|de>>4)*be>>16&240|(15&de|de<<4)*be>>16>>4&15,I[R+2*ue+1]=240&Ce|ge}R+=oe}}function la(I,R,W,J,oe,ue,de,ge){var be,Ce,De=255;for(Ce=0;Ce<oe;++Ce){for(be=0;be<J;++be){var Je=I[R+be];ue[de+4*be]=Je,De&=Je}R+=W,de+=ge}return De!=255}function Wc(I,R,W,J,oe){var ue;for(ue=0;ue<oe;++ue)W[J+ue]=I[R+ue]>>8}function Dl(){_A=Zi,lc=Ii,Dm=la,Ul=Wc}function Vc(I,R,W){D[I]=function(J,oe,ue,de,ge,be,Ce,De,Je,we,Me,Ke,mt,Ye,pt,vt,Dt){var Nt,bn=Dt-1>>1,an=ge[be+0]|Ce[De+0]<<16,tr=Je[we+0]|Me[Ke+0]<<16;e(J!=null);var An=3*an+tr+131074>>2;for(R(J[oe+0],255&An,An>>16,mt,Ye),ue!=null&&(An=3*tr+an+131074>>2,R(ue[de+0],255&An,An>>16,pt,vt)),Nt=1;Nt<=bn;++Nt){var Cr=ge[be+Nt]|Ce[De+Nt]<<16,Gs=Je[we+Nt]|Me[Ke+Nt]<<16,ir=an+Cr+tr+Gs+524296,on=ir+2*(Cr+tr)>>3;An=on+an>>1,an=(ir=ir+2*(an+Gs)>>3)+Cr>>1,R(J[oe+2*Nt-1],255&An,An>>16,mt,Ye+(2*Nt-1)*W),R(J[oe+2*Nt-0],255&an,an>>16,mt,Ye+(2*Nt-0)*W),ue!=null&&(An=ir+tr>>1,an=on+Gs>>1,R(ue[de+2*Nt-1],255&An,An>>16,pt,vt+(2*Nt-1)*W),R(ue[de+2*Nt+0],255&an,an>>16,pt,vt+(2*Nt+0)*W)),an=Cr,tr=Gs}1&Dt||(An=3*an+tr+131074>>2,R(J[oe+Dt-1],255&An,An>>16,mt,Ye+(Dt-1)*W),ue!=null&&(An=3*tr+an+131074>>2,R(ue[de+Dt-1],255&An,An>>16,pt,vt+(Dt-1)*W)))}}function wu(){so[z0]=FA,so[ko]=ip,so[M0]=kb,so[cc]=q0,so[Um]=kf,so[np]=Nu,so[wf]=Bf,so[zm]=ip,so[Q0]=q0,so[rp]=kf,so[H0]=Nu}function xd(I){return I&-16384?0>I?0:255:I>>G0}function Ll(I,R){return xd((19077*I>>8)+(26149*R>>8)-14234)}function dl(I,R,W){return xd((19077*I>>8)-(6419*R>>8)-(13320*W>>8)+8708)}function qe(I,R){return xd((19077*I>>8)+(33050*R>>8)-17685)}function St(I,R,W,J,oe){J[oe+0]=Ll(I,W),J[oe+1]=dl(I,R,W),J[oe+2]=qe(I,R)}function Vt(I,R,W,J,oe){J[oe+0]=qe(I,R),J[oe+1]=dl(I,R,W),J[oe+2]=Ll(I,W)}function In(I,R,W,J,oe){var ue=dl(I,R,W);R=ue<<3&224|qe(I,R)>>3,J[oe+0]=248&Ll(I,W)|ue>>5,J[oe+1]=R}function zn(I,R,W,J,oe){var ue=240&qe(I,R)|15;J[oe+0]=240&Ll(I,W)|dl(I,R,W)>>4,J[oe+1]=ue}function Sr(I,R,W,J,oe){J[oe+0]=255,St(I,R,W,J,oe+1)}function Ni(I,R,W,J,oe){Vt(I,R,W,J,oe),J[oe+3]=255}function ys(I,R,W,J,oe){St(I,R,W,J,oe),J[oe+3]=255}function di(I,R,W){D[I]=function(J,oe,ue,de,ge,be,Ce,De,Je){for(var we=De+(-2&Je)*W;De!=we;)R(J[oe+0],ue[de+0],ge[be+0],Ce,De),R(J[oe+1],ue[de+0],ge[be+0],Ce,De+W),oe+=2,++de,++be,De+=2*W;1&Je&&R(J[oe+0],ue[de+0],ge[be+0],Ce,De)}}function La(I,R,W){return W==0?I==0?R==0?6:5:R==0?4:0:W}function bd(I,R,W,J,oe){switch(I>>>30){case 3:Bd(R,W,J,oe,0);break;case 2:So(R,W,J,oe);break;case 1:ss(R,W,J,oe)}}function ea(I,R){var W,J,oe=R.M,ue=R.Nb,de=I.oc,ge=I.pc+40,be=I.oc,Ce=I.pc+584,De=I.oc,Je=I.pc+600;for(W=0;16>W;++W)de[ge+32*W-1]=129;for(W=0;8>W;++W)be[Ce+32*W-1]=129,De[Je+32*W-1]=129;for(0<oe?de[ge-1-32]=be[Ce-1-32]=De[Je-1-32]=129:(s(de,ge-32-1,127,21),s(be,Ce-32-1,127,9),s(De,Je-32-1,127,9)),J=0;J<I.za;++J){var we=R.ya[R.aa+J];if(0<J){for(W=-1;16>W;++W)r(de,ge+32*W-4,de,ge+32*W+12,4);for(W=-1;8>W;++W)r(be,Ce+32*W-4,be,Ce+32*W+4,4),r(De,Je+32*W-4,De,Je+32*W+4,4)}var Me=I.Gd,Ke=I.Hd+J,mt=we.ad,Ye=we.Hc;if(0<oe&&(r(de,ge-32,Me[Ke].y,0,16),r(be,Ce-32,Me[Ke].f,0,8),r(De,Je-32,Me[Ke].ea,0,8)),we.Za){var pt=de,vt=ge-32+16;for(0<oe&&(J>=I.za-1?s(pt,vt,Me[Ke].y[15],4):r(pt,vt,Me[Ke+1].y,0,4)),W=0;4>W;W++)pt[vt+128+W]=pt[vt+256+W]=pt[vt+384+W]=pt[vt+0+W];for(W=0;16>W;++W,Ye<<=2)pt=de,vt=ge+ra[W],ji[we.Ob[W]](pt,vt),bd(Ye,mt,16*+W,pt,vt)}else if(pt=La(J,oe,we.Ob[0]),Jo[pt](de,ge),Ye!=0)for(W=0;16>W;++W,Ye<<=2)bd(Ye,mt,16*+W,de,ge+ra[W]);for(W=we.Gc,pt=La(J,oe,we.Dd),Kc[pt](be,Ce),Kc[pt](De,Je),Ye=mt,pt=be,vt=Ce,255&(we=0|W)&&(170&we?oc(Ye,256,pt,vt):Hr(Ye,256,pt,vt)),we=De,Ye=Je,255&(W>>=8)&&(170&W?oc(mt,320,we,Ye):Hr(mt,320,we,Ye)),oe<I.Ub-1&&(r(Me[Ke].y,0,de,ge+480,16),r(Me[Ke].f,0,be,Ce+224,8),r(Me[Ke].ea,0,De,Je+224,8)),W=8*ue*I.B,Me=I.sa,Ke=I.ta+16*J+16*ue*I.R,mt=I.qa,we=I.ra+8*J+W,Ye=I.Ha,pt=I.Ia+8*J+W,W=0;16>W;++W)r(Me,Ke+W*I.R,de,ge+32*W,16);for(W=0;8>W;++W)r(mt,we+W*I.B,be,Ce+32*W,8),r(Ye,pt+W*I.B,De,Je+32*W,8)}}function $l(I,R,W,J,oe,ue,de,ge,be){var Ce=[0],De=[0],Je=0,we=be!=null?be.kd:0,Me=be??new Tt;if(I==null||12>W)return 7;Me.data=I,Me.w=R,Me.ha=W,R=[R],W=[W],Me.gb=[Me.gb];e:{var Ke=R,mt=W,Ye=Me.gb;if(e(I!=null),e(mt!=null),e(Ye!=null),Ye[0]=0,12<=mt[0]&&!n(I,Ke[0],"RIFF")){if(n(I,Ke[0]+8,"WEBP")){Ye=3;break e}var pt=at(I,Ke[0]+4);if(12>pt||4294967286<pt){Ye=3;break e}if(we&&pt>mt[0]-8){Ye=7;break e}Ye[0]=pt,Ke[0]+=12,mt[0]-=12}Ye=0}if(Ye!=0)return Ye;for(pt=0<Me.gb[0],W=W[0];;){e:{var vt=I;mt=R,Ye=W;var Dt=Ce,Nt=De,bn=Ke=[0];if((An=Je=[Je])[0]=0,8>Ye[0])Ye=7;else{if(!n(vt,mt[0],"VP8X")){if(at(vt,mt[0]+4)!=10){Ye=3;break e}if(18>Ye[0]){Ye=7;break e}var an=at(vt,mt[0]+8),tr=1+Ue(vt,mt[0]+12);if(2147483648<=tr*(vt=1+Ue(vt,mt[0]+15))){Ye=3;break e}bn!=null&&(bn[0]=an),Dt!=null&&(Dt[0]=tr),Nt!=null&&(Nt[0]=vt),mt[0]+=18,Ye[0]-=18,An[0]=1}Ye=0}}if(Je=Je[0],Ke=Ke[0],Ye!=0)return Ye;if(mt=!!(2&Ke),!pt&&Je)return 3;if(ue!=null&&(ue[0]=!!(16&Ke)),de!=null&&(de[0]=mt),ge!=null&&(ge[0]=0),de=Ce[0],Ke=De[0],Je&&mt&&be==null){Ye=0;break}if(4>W){Ye=7;break}if(pt&&Je||!pt&&!Je&&!n(I,R[0],"ALPH")){W=[W],Me.na=[Me.na],Me.P=[Me.P],Me.Sa=[Me.Sa];e:{an=I,Ye=R,pt=W;var An=Me.gb;Dt=Me.na,Nt=Me.P,bn=Me.Sa,tr=22,e(an!=null),e(pt!=null),vt=Ye[0];var Cr=pt[0];for(e(Dt!=null),e(bn!=null),Dt[0]=null,Nt[0]=null,bn[0]=0;;){if(Ye[0]=vt,pt[0]=Cr,8>Cr){Ye=7;break e}var Gs=at(an,vt+4);if(4294967286<Gs){Ye=3;break e}var ir=8+Gs+1&-2;if(tr+=ir,0<An&&tr>An){Ye=3;break e}if(!n(an,vt,"VP8 ")||!n(an,vt,"VP8L")){Ye=0;break e}if(Cr[0]<ir){Ye=7;break e}n(an,vt,"ALPH")||(Dt[0]=an,Nt[0]=vt+8,bn[0]=Gs),vt+=ir,Cr-=ir}}if(W=W[0],Me.na=Me.na[0],Me.P=Me.P[0],Me.Sa=Me.Sa[0],Ye!=0)break}W=[W],Me.Ja=[Me.Ja],Me.xa=[Me.xa];e:if(An=I,Ye=R,pt=W,Dt=Me.gb[0],Nt=Me.Ja,bn=Me.xa,an=Ye[0],vt=!n(An,an,"VP8 "),tr=!n(An,an,"VP8L"),e(An!=null),e(pt!=null),e(Nt!=null),e(bn!=null),8>pt[0])Ye=7;else{if(vt||tr){if(An=at(An,an+4),12<=Dt&&An>Dt-12){Ye=3;break e}if(we&&An>pt[0]-8){Ye=7;break e}Nt[0]=An,Ye[0]+=8,pt[0]-=8,bn[0]=tr}else bn[0]=5<=pt[0]&&An[an+0]==47&&!(An[an+4]>>5),Nt[0]=pt[0];Ye=0}if(W=W[0],Me.Ja=Me.Ja[0],Me.xa=Me.xa[0],R=R[0],Ye!=0)break;if(4294967286<Me.Ja)return 3;if(ge==null||mt||(ge[0]=Me.xa?2:1),de=[de],Ke=[Ke],Me.xa){if(5>W){Ye=7;break}ge=de,we=Ke,mt=ue,I==null||5>W?I=0:5<=W&&I[R+0]==47&&!(I[R+4]>>5)?(pt=[0],An=[0],Dt=[0],ne(Nt=new X,I,R,W),Cs(Nt,pt,An,Dt)?(ge!=null&&(ge[0]=pt[0]),we!=null&&(we[0]=An[0]),mt!=null&&(mt[0]=Dt[0]),I=1):I=0):I=0}else{if(10>W){Ye=7;break}ge=Ke,I==null||10>W||!wo(I,R+3,W-3)?I=0:(we=I[R+0]|I[R+1]<<8|I[R+2]<<16,mt=16383&(I[R+7]<<8|I[R+6]),I=16383&(I[R+9]<<8|I[R+8]),1&we||3<(we>>1&7)||!(we>>4&1)||we>>5>=Me.Ja||!mt||!I?I=0:(de&&(de[0]=mt),ge&&(ge[0]=I),I=1))}if(!I||(de=de[0],Ke=Ke[0],Je&&(Ce[0]!=de||De[0]!=Ke)))return 3;be!=null&&(be[0]=Me,be.offset=R-be.w,e(4294967286>R-be.w),e(be.offset==be.ha-W));break}return Ye==0||Ye==7&&Je&&be==null?(ue!=null&&(ue[0]|=Me.na!=null&&0<Me.na.length),J!=null&&(J[0]=de),oe!=null&&(oe[0]=Ke),0):Ye}function vd(I,R,W){var J=R.width,oe=R.height,ue=0,de=0,ge=J,be=oe;if(R.Da=I!=null&&0<I.Da,R.Da&&(ge=I.cd,be=I.bd,ue=I.v,de=I.j,11>W||(ue&=-2,de&=-2),0>ue||0>de||0>=ge||0>=be||ue+ge>J||de+be>oe))return 0;if(R.v=ue,R.j=de,R.va=ue+ge,R.o=de+be,R.U=ge,R.T=be,R.da=I!=null&&0<I.da,R.da){if(!It(ge,be,W=[I.ib],ue=[I.hb]))return 0;R.ib=W[0],R.hb=ue[0]}return R.ob=I!=null&&I.ob,R.Kb=I==null||!I.Sd,R.da&&(R.ob=R.ib<3*J/4&&R.hb<3*oe/4,R.Kb=0),1}function Om(I){if(I==null)return 2;if(11>I.S){var R=I.f.RGBA;R.fb+=(I.height-1)*R.A,R.A=-R.A}else R=I.f.kb,I=I.height,R.O+=(I-1)*R.fa,R.fa=-R.fa,R.N+=(I-1>>1)*R.Ab,R.Ab=-R.Ab,R.W+=(I-1>>1)*R.Db,R.Db=-R.Db,R.F!=null&&(R.J+=(I-1)*R.lb,R.lb=-R.lb);return 0}function qc(I,R,W,J){if(J==null||0>=I||0>=R)return 2;if(W!=null){if(W.Da){var oe=W.cd,ue=W.bd,de=-2&W.v,ge=-2&W.j;if(0>de||0>ge||0>=oe||0>=ue||de+oe>I||ge+ue>R)return 2;I=oe,R=ue}if(W.da){if(!It(I,R,oe=[W.ib],ue=[W.hb]))return 2;I=oe[0],R=ue[0]}}J.width=I,J.height=R;e:{var be=J.width,Ce=J.height;if(I=J.S,0>=be||0>=Ce||!(I>=z0&&13>I))I=2;else{if(0>=J.Rd&&J.sd==null){de=ue=oe=R=0;var De=(ge=be*X0[I])*Ce;if(11>I||(ue=(Ce+1)/2*(R=(be+1)/2),I==12&&(de=(oe=be)*Ce)),(Ce=i(De+2*ue+de))==null){I=1;break e}J.sd=Ce,11>I?((be=J.f.RGBA).eb=Ce,be.fb=0,be.A=ge,be.size=De):((be=J.f.kb).y=Ce,be.O=0,be.fa=ge,be.Fd=De,be.f=Ce,be.N=0+De,be.Ab=R,be.Cd=ue,be.ea=Ce,be.W=0+De+ue,be.Db=R,be.Ed=ue,I==12&&(be.F=Ce,be.J=0+De+2*ue),be.Tc=de,be.lb=oe)}if(R=1,oe=J.S,ue=J.width,de=J.height,oe>=z0&&13>oe)if(11>oe)I=J.f.RGBA,R&=(ge=Math.abs(I.A))*(de-1)+ue<=I.size,R&=ge>=ue*X0[oe],R&=I.eb!=null;else{I=J.f.kb,ge=(ue+1)/2,De=(de+1)/2,be=Math.abs(I.fa),Ce=Math.abs(I.Ab);var Je=Math.abs(I.Db),we=Math.abs(I.lb),Me=we*(de-1)+ue;R&=be*(de-1)+ue<=I.Fd,R&=Ce*(De-1)+ge<=I.Cd,R=(R&=Je*(De-1)+ge<=I.Ed)&be>=ue&Ce>=ge&Je>=ge,R&=I.y!=null,R&=I.f!=null,R&=I.ea!=null,oe==12&&(R&=we>=ue,R&=Me<=I.Tc,R&=I.F!=null)}else R=0;I=R?0:2}}return I!=0||W!=null&&W.fd&&(I=Om(J)),I}var vf=64,fl=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Yo=24,Su=32,Cu=8,wd=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ot("Predictor0","PredictorAdd0"),D.Predictor0=function(){return 4278190080},D.Predictor1=function(I){return I},D.Predictor2=function(I,R,W){return R[W+0]},D.Predictor3=function(I,R,W){return R[W+1]},D.Predictor4=function(I,R,W){return R[W-1]},D.Predictor5=function(I,R,W){return kt(kt(I,R[W+1]),R[W+0])},D.Predictor6=function(I,R,W){return kt(I,R[W-1])},D.Predictor7=function(I,R,W){return kt(I,R[W+0])},D.Predictor8=function(I,R,W){return kt(R[W-1],R[W+0])},D.Predictor9=function(I,R,W){return kt(R[W+0],R[W+1])},D.Predictor10=function(I,R,W){return kt(kt(I,R[W-1]),kt(R[W+0],R[W+1]))},D.Predictor11=function(I,R,W){var J=R[W+0];return 0>=zt(J>>24&255,I>>24&255,(R=R[W-1])>>24&255)+zt(J>>16&255,I>>16&255,R>>16&255)+zt(J>>8&255,I>>8&255,R>>8&255)+zt(255&J,255&I,255&R)?J:I},D.Predictor12=function(I,R,W){var J=R[W+0];return(Ht((I>>24&255)+(J>>24&255)-((R=R[W-1])>>24&255))<<24|Ht((I>>16&255)+(J>>16&255)-(R>>16&255))<<16|Ht((I>>8&255)+(J>>8&255)-(R>>8&255))<<8|Ht((255&I)+(255&J)-(255&R)))>>>0},D.Predictor13=function(I,R,W){var J=R[W-1];return(Sn((I=kt(I,R[W+0]))>>24&255,J>>24&255)<<24|Sn(I>>16&255,J>>16&255)<<16|Sn(I>>8&255,J>>8&255)<<8|Sn(255&I,255&J))>>>0};var Jh=D.PredictorAdd0;D.PredictorAdd1=en,ot("Predictor2","PredictorAdd2"),ot("Predictor3","PredictorAdd3"),ot("Predictor4","PredictorAdd4"),ot("Predictor5","PredictorAdd5"),ot("Predictor6","PredictorAdd6"),ot("Predictor7","PredictorAdd7"),ot("Predictor8","PredictorAdd8"),ot("Predictor9","PredictorAdd9"),ot("Predictor10","PredictorAdd10"),ot("Predictor11","PredictorAdd11"),ot("Predictor12","PredictorAdd12"),ot("Predictor13","PredictorAdd13");var Zh=D.PredictorAdd2;Yt("ColorIndexInverseTransform","MapARGB","32b",function(I){return I>>8&255},function(I){return I}),Yt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(I){return I},function(I){return I>>8&255});var ta,$0=D.ColorIndexInverseTransform,ku=D.MapARGB,Bu=D.VP8LColorIndexInverseTransformAlpha,to=D.MapAlpha,Sd=D.VP8LPredictorsAdd=[];Sd.length=16,(D.VP8LPredictors=[]).length=16,(D.VP8LPredictorsAdd_C=[]).length=16,(D.VP8LPredictors_C=[]).length=16;var ep,tp,Cd,kd,Eu,jA,Pl,Bd,So,oc,ss,Hr,Ls,na,Iu,Gc,TA,Fm,bb,IS,NS,jS,vb,wb,_A,lc,Dm,Ul,RA=i(511),P0=i(2041),Lm=i(225),$m=i(767),U0=0,Ed=P0,Pm=Lm,Co=$m,no=RA,z0=0,ko=1,M0=2,cc=3,Um=4,np=5,wf=6,zm=7,Q0=8,rp=9,H0=10,uc=[2,3,7],sp=[3,3,11],OA=[280,256,256,256,40],W0=[0,1,1,1,0],Mm=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],dc=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],fc=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Sf=8,Ac=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],hc=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],zl=null,TS=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Sb=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],V0=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],_S=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ro=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],qs=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Tr=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Jo=[],ji=[],Kc=[],Cf=1,Cb=2,Id=[],so=[];Vc("UpsampleRgbLinePair",St,3),Vc("UpsampleBgrLinePair",Vt,3),Vc("UpsampleRgbaLinePair",ys,4),Vc("UpsampleBgraLinePair",Ni,4),Vc("UpsampleArgbLinePair",Sr,4),Vc("UpsampleRgba4444LinePair",zn,2),Vc("UpsampleRgb565LinePair",In,2);var FA=D.UpsampleRgbLinePair,kb=D.UpsampleBgrLinePair,ip=D.UpsampleRgbaLinePair,q0=D.UpsampleBgraLinePair,kf=D.UpsampleArgbLinePair,Nu=D.UpsampleRgba4444LinePair,Bf=D.UpsampleRgb565LinePair,pc=16,ap=1<<pc-1,DA=-227,Ef=482,G0=6,If=0,io=i(256),K0=i(256),RS=i(256),uj=i(256),dj=i(Ef-DA),fj=i(Ef-DA);di("YuvToRgbRow",St,3),di("YuvToBgrRow",Vt,3),di("YuvToRgbaRow",ys,4),di("YuvToBgraRow",Ni,4),di("YuvToArgbRow",Sr,4),di("YuvToRgba4444Row",zn,2),di("YuvToRgb565Row",In,2);var ra=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],op=[0,2,8],Qm=[8,7,6,4,4,2,2,2,1,1,1,1],Hm=1;this.WebPDecodeRGBA=function(I,R,W,J,oe){var ue=ko,de=new bt,ge=new Ut;de.ba=ge,ge.S=ue,ge.width=[ge.width],ge.height=[ge.height];var be=ge.width,Ce=ge.height,De=new Jt;if(De==null||I==null)var Je=2;else e(De!=null),Je=$l(I,R,W,De.width,De.height,De.Pd,De.Qd,De.format,null);if(Je!=0?be=0:(be!=null&&(be[0]=De.width[0]),Ce!=null&&(Ce[0]=De.height[0]),be=1),be){ge.width=ge.width[0],ge.height=ge.height[0],J!=null&&(J[0]=ge.width),oe!=null&&(oe[0]=ge.height);e:{if(J=new vo,(oe=new Tt).data=I,oe.w=R,oe.ha=W,oe.kd=1,R=[0],e(oe!=null),((I=$l(oe.data,oe.w,oe.ha,null,null,null,R,null,oe))==0||I==7)&&R[0]&&(I=4),(R=I)==0){if(e(de!=null),J.data=oe.data,J.w=oe.w+oe.offset,J.ha=oe.ha-oe.offset,J.put=cn,J.ac=Fs,J.bc=Ki,J.ma=de,oe.xa){if((I=Wn())==null){de=1;break e}if((function(we,Me){var Ke=[0],mt=[0],Ye=[0];t:for(;;){if(we==null)return 0;if(Me==null)return we.a=2,0;if(we.l=Me,we.a=0,ne(we.m,Me.data,Me.w,Me.ha),!Cs(we.m,Ke,mt,Ye)){we.a=3;break t}if(we.xb=Cb,Me.width=Ke[0],Me.height=mt[0],!Xn(Ke[0],mt[0],1,we,null))break t;return 1}return e(we.a!=0),0})(I,J)){if(J=(R=qc(J.width,J.height,de.Oa,de.ba))==0){t:{J=I;n:for(;;){if(J==null){J=0;break t}if(e(J.s.yc!=null),e(J.s.Ya!=null),e(0<J.s.Wb),e((W=J.l)!=null),e((oe=W.ma)!=null),J.xb!=0){if(J.ca=oe.ba,J.tb=oe.tb,e(J.ca!=null),!vd(oe.Oa,W,cc)){J.a=2;break n}if(!sr(J,W.width)||W.da)break n;if((W.da||Ct(J.ca.S))&&Dl(),11>J.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),J.ca.f.kb.F!=null&&Dl()),J.Pb&&0<J.s.ua&&J.s.vb.X==null&&!ie(J.s.vb,J.s.Wa.Xa)){J.a=1;break n}J.xb=0}if(!ft(J,J.V,J.Ba,J.c,J.i,W.o,ms))break n;oe.Dc=J.Ma,J=1;break t}e(J.a!=0),J=0}J=!J}J&&(R=I.a)}else R=I.a}else{if((I=new ki)==null){de=1;break e}if(I.Fa=oe.na,I.P=oe.P,I.qc=oe.Sa,oi(I,J)){if((R=qc(J.width,J.height,de.Oa,de.ba))==0){if(I.Aa=0,W=de.Oa,e((oe=I)!=null),W!=null){if(0<(be=0>(be=W.Md)?0:100<be?255:255*be/100)){for(Ce=De=0;4>Ce;++Ce)12>(Je=oe.pb[Ce]).lc&&(Je.ia=be*Qm[0>Je.lc?0:Je.lc]>>3),De|=Je.ia;De&&(alert("todo:VP8InitRandom"),oe.ia=1)}oe.Ga=W.Id,100<oe.Ga?oe.Ga=100:0>oe.Ga&&(oe.Ga=0)}(function(we,Me){if(we==null)return 0;if(Me==null)return En(we,2,"NULL VP8Io parameter in VP8Decode().");if(!we.cb&&!oi(we,Me))return 0;if(e(we.cb),Me.ac==null||Me.ac(Me)){Me.ob&&(we.L=0);var Ke=op[we.L];if(we.L==2?(we.yb=0,we.zb=0):(we.yb=Me.v-Ke>>4,we.zb=Me.j-Ke>>4,0>we.yb&&(we.yb=0),0>we.zb&&(we.zb=0)),we.Va=Me.o+15+Ke>>4,we.Hb=Me.va+15+Ke>>4,we.Hb>we.za&&(we.Hb=we.za),we.Va>we.Ub&&(we.Va=we.Ub),0<we.L){var mt=we.ed;for(Ke=0;4>Ke;++Ke){var Ye;if(we.Qa.Cb){var pt=we.Qa.Lb[Ke];we.Qa.Fb||(pt+=mt.Tb)}else pt=mt.Tb;for(Ye=0;1>=Ye;++Ye){var vt=we.gd[Ke][Ye],Dt=pt;if(mt.Pc&&(Dt+=mt.vd[0],Ye&&(Dt+=mt.od[0])),0<(Dt=0>Dt?0:63<Dt?63:Dt)){var Nt=Dt;0<mt.wb&&(Nt=4<mt.wb?Nt>>2:Nt>>1)>9-mt.wb&&(Nt=9-mt.wb),1>Nt&&(Nt=1),vt.dd=Nt,vt.tc=2*Dt+Nt,vt.ld=40<=Dt?2:15<=Dt?1:0}else vt.tc=0;vt.La=Ye}}}Ke=0}else En(we,6,"Frame setup failed"),Ke=we.a;if(Ke=Ke==0){if(Ke){we.$c=0,0<we.Aa||(we.Ic=Hm);t:{Ke=we.Ic,mt=4*(Nt=we.za);var bn=32*Nt,an=Nt+1,tr=0<we.L?Nt*(0<we.Aa?2:1):0,An=(we.Aa==2?2:1)*Nt;if((vt=mt+832+(Ye=3*(16*Ke+op[we.L])/2*bn)+(pt=we.Fa!=null&&0<we.Fa.length?we.Kc.c*we.Kc.i:0))!=vt)Ke=0;else{if(vt>we.Vb){if(we.Vb=0,we.Ec=i(vt),we.Fc=0,we.Ec==null){Ke=En(we,1,"no memory during frame initialization.");break t}we.Vb=vt}vt=we.Ec,Dt=we.Fc,we.Ac=vt,we.Bc=Dt,Dt+=mt,we.Gd=a(bn,jn),we.Hd=0,we.rb=a(an+1,st),we.sb=1,we.wa=tr?a(tr,rs):null,we.Y=0,we.D.Nb=0,we.D.wa=we.wa,we.D.Y=we.Y,0<we.Aa&&(we.D.Y+=Nt),e(!0),we.oc=vt,we.pc=Dt,Dt+=832,we.ya=a(An,Pt),we.aa=0,we.D.ya=we.ya,we.D.aa=we.aa,we.Aa==2&&(we.D.aa+=Nt),we.R=16*Nt,we.B=8*Nt,Nt=(bn=op[we.L])*we.R,bn=bn/2*we.B,we.sa=vt,we.ta=Dt+Nt,we.qa=we.sa,we.ra=we.ta+16*Ke*we.R+bn,we.Ha=we.qa,we.Ia=we.ra+8*Ke*we.B+bn,we.$c=0,Dt+=Ye,we.mb=pt?vt:null,we.nb=pt?Dt:null,e(Dt+pt<=we.Fc+we.Vb),xu(we),s(we.Ac,we.Bc,0,mt),Ke=1}}if(Ke){if(Me.ka=0,Me.y=we.sa,Me.O=we.ta,Me.f=we.qa,Me.N=we.ra,Me.ea=we.Ha,Me.Vd=we.Ia,Me.fa=we.R,Me.Rc=we.B,Me.F=null,Me.J=0,!U0){for(Ke=-255;255>=Ke;++Ke)RA[255+Ke]=0>Ke?-Ke:Ke;for(Ke=-1020;1020>=Ke;++Ke)P0[1020+Ke]=-128>Ke?-128:127<Ke?127:Ke;for(Ke=-112;112>=Ke;++Ke)Lm[112+Ke]=-16>Ke?-16:15<Ke?15:Ke;for(Ke=-255;510>=Ke;++Ke)$m[255+Ke]=0>Ke?0:255<Ke?255:Ke;U0=1}Pl=Xo,Bd=EA,oc=Ca,ss=xf,Hr=dd,So=BA,Ls=Xh,na=Hc,Iu=ae,Gc=Se,TA=Yh,Fm=M,bb=Oe,IS=Qe,NS=ac,jS=zc,vb=vu,wb=NA,ji[0]=bu,ji[1]=Ad,ji[2]=IA,ji[3]=bf,ji[4]=Ei,ji[5]=md,ji[6]=ci,ji[7]=L,ji[8]=se,ji[9]=V,Jo[0]=eo,Jo[1]=Fl,Jo[2]=pd,Jo[3]=ul,Jo[4]=Uc,Jo[5]=mn,Jo[6]=ic,Kc[0]=ht,Kc[1]=hd,Kc[2]=pe,Kc[3]=Re,Kc[4]=Tn,Kc[5]=kn,Kc[6]=Mn,Ke=1}else Ke=0}Ke&&(Ke=(function(Cr,Gs){for(Cr.M=0;Cr.M<Cr.Va;++Cr.M){var ir,on=Cr.Jc[Cr.M&Cr.Xb],Wt=Cr.m,fi=Cr;for(ir=0;ir<fi.za;++ir){var qn=Wt,lr=fi,fs=lr.Ac,ka=lr.Bc+4*ir,ao=lr.zc,$s=lr.ya[lr.aa+ir];if(lr.Qa.Bb?$s.$b=ve(qn,lr.Pa.jb[0])?2+ve(qn,lr.Pa.jb[2]):ve(qn,lr.Pa.jb[1]):$s.$b=0,lr.kc&&($s.Ad=ve(qn,lr.Bd)),$s.Za=!ve(qn,145)+0,$s.Za){var ca=$s.Ob,Bo=0;for(lr=0;4>lr;++lr){var ua,gr=ao[0+lr];for(ua=0;4>ua;++ua){gr=ro[fs[ka+ua]][gr];for(var Kr=V0[ve(qn,gr[0])];0<Kr;)Kr=V0[2*Kr+ve(qn,gr[Kr])];gr=-Kr,fs[ka+ua]=gr}r(ca,Bo,fs,ka,4),Bo+=4,ao[0+lr]=gr}}else gr=ve(qn,156)?ve(qn,128)?1:3:ve(qn,163)?2:0,$s.Ob[0]=gr,s(fs,ka,gr,4),s(ao,0,gr,4);$s.Dd=ve(qn,142)?ve(qn,114)?ve(qn,183)?1:3:2:0}if(fi.m.Ka)return En(Cr,7,"Premature end-of-partition0 encountered.");for(;Cr.ja<Cr.za;++Cr.ja){if(fi=on,qn=(Wt=Cr).rb[Wt.sb-1],fs=Wt.rb[Wt.sb+Wt.ja],ir=Wt.ya[Wt.aa+Wt.ja],ka=Wt.kc?ir.Ad:0)qn.la=fs.la=0,ir.Za||(qn.Na=fs.Na=0),ir.Hc=0,ir.Gc=0,ir.ia=0;else{var Ai,is;if(qn=fs,fs=fi,ka=Wt.Pa.Xc,ao=Wt.ya[Wt.aa+Wt.ja],$s=Wt.pb[ao.$b],lr=ao.ad,ca=0,Bo=Wt.rb[Wt.sb-1],gr=ua=0,s(lr,ca,0,384),ao.Za)var Ba=0,hi=ka[3];else{Kr=i(16);var Xr=qn.Na+Bo.Na;if(Xr=zl(fs,ka[1],Xr,$s.Eb,0,Kr,0),qn.Na=Bo.Na=(0<Xr)+0,1<Xr)Pl(Kr,0,lr,ca);else{var sa=Kr[0]+3>>3;for(Kr=0;256>Kr;Kr+=16)lr[ca+Kr]=sa}Ba=1,hi=ka[0]}var As=15&qn.la,da=15&Bo.la;for(Kr=0;4>Kr;++Kr){var fa=1&da;for(sa=is=0;4>sa;++sa)As=As>>1|(fa=(Xr=zl(fs,hi,Xr=fa+(1&As),$s.Sc,Ba,lr,ca))>Ba)<<7,is=is<<2|(3<Xr?3:1<Xr?2:lr[ca+0]!=0),ca+=16;As>>=4,da=da>>1|fa<<7,ua=(ua<<8|is)>>>0}for(hi=As,Ba=da>>4,Ai=0;4>Ai;Ai+=2){for(is=0,As=qn.la>>4+Ai,da=Bo.la>>4+Ai,Kr=0;2>Kr;++Kr){for(fa=1&da,sa=0;2>sa;++sa)Xr=fa+(1&As),As=As>>1|(fa=0<(Xr=zl(fs,ka[2],Xr,$s.Qc,0,lr,ca)))<<3,is=is<<2|(3<Xr?3:1<Xr?2:lr[ca+0]!=0),ca+=16;As>>=2,da=da>>1|fa<<5}gr|=is<<4*Ai,hi|=As<<4<<Ai,Ba|=(240&da)<<Ai}qn.la=hi,Bo.la=Ba,ao.Hc=ua,ao.Gc=gr,ao.ia=43690&gr?0:$s.ia,ka=!(ua|gr)}if(0<Wt.L&&(Wt.wa[Wt.Y+Wt.ja]=Wt.gd[ir.$b][ir.Za],Wt.wa[Wt.Y+Wt.ja].La|=!ka),fi.Ka)return En(Cr,7,"Premature end-of-file encountered.")}if(xu(Cr),Wt=Gs,fi=1,ir=(on=Cr).D,qn=0<on.L&&on.M>=on.zb&&on.M<=on.Va,on.Aa==0)t:{if(ir.M=on.M,ir.uc=qn,ea(on,ir),fi=1,ir=(is=on.D).Nb,qn=(gr=op[on.L])*on.R,fs=gr/2*on.B,Kr=16*ir*on.R,sa=8*ir*on.B,ka=on.sa,ao=on.ta-qn+Kr,$s=on.qa,lr=on.ra-fs+sa,ca=on.Ha,Bo=on.Ia-fs+sa,da=(As=is.M)==0,ua=As>=on.Va-1,on.Aa==2&&ea(on,is),is.uc)for(fa=(Xr=on).D.M,e(Xr.D.uc),is=Xr.yb;is<Xr.Hb;++is){Ba=is,hi=fa;var ks=(Wr=(Aa=Xr).D).Nb;Ai=Aa.R;var Wr=Wr.wa[Wr.Y+Ba],Eo=Aa.sa,Ti=Aa.ta+16*ks*Ai+16*Ba,Ln=Wr.dd,Pn=Wr.tc;if(Pn!=0)if(e(3<=Pn),Aa.L==1)0<Ba&&jS(Eo,Ti,Ai,Pn+4),Wr.La&&wb(Eo,Ti,Ai,Pn),0<hi&&NS(Eo,Ti,Ai,Pn+4),Wr.La&&vb(Eo,Ti,Ai,Pn);else{var Yr=Aa.B,Al=Aa.qa,mc=Aa.ra+8*ks*Yr+8*Ba,Zo=Aa.Ha,Aa=Aa.Ia+8*ks*Yr+8*Ba;ks=Wr.ld,0<Ba&&(na(Eo,Ti,Ai,Pn+4,Ln,ks),Gc(Al,mc,Zo,Aa,Yr,Pn+4,Ln,ks)),Wr.La&&(Fm(Eo,Ti,Ai,Pn,Ln,ks),IS(Al,mc,Zo,Aa,Yr,Pn,Ln,ks)),0<hi&&(Ls(Eo,Ti,Ai,Pn+4,Ln,ks),Iu(Al,mc,Zo,Aa,Yr,Pn+4,Ln,ks)),Wr.La&&(TA(Eo,Ti,Ai,Pn,Ln,ks),bb(Al,mc,Zo,Aa,Yr,Pn,Ln,ks))}}if(on.ia&&alert("todo:DitherRow"),Wt.put!=null){if(is=16*As,As=16*(As+1),da?(Wt.y=on.sa,Wt.O=on.ta+Kr,Wt.f=on.qa,Wt.N=on.ra+sa,Wt.ea=on.Ha,Wt.W=on.Ia+sa):(is-=gr,Wt.y=ka,Wt.O=ao,Wt.f=$s,Wt.N=lr,Wt.ea=ca,Wt.W=Bo),ua||(As-=gr),As>Wt.o&&(As=Wt.o),Wt.F=null,Wt.J=null,on.Fa!=null&&0<on.Fa.length&&is<As&&(Wt.J=gs(on,Wt,is,As-is),Wt.F=on.mb,Wt.F==null&&Wt.F.length==0)){fi=En(on,3,"Could not decode alpha data.");break t}is<Wt.j&&(gr=Wt.j-is,is=Wt.j,e(!(1&gr)),Wt.O+=on.R*gr,Wt.N+=on.B*(gr>>1),Wt.W+=on.B*(gr>>1),Wt.F!=null&&(Wt.J+=Wt.width*gr)),is<As&&(Wt.O+=Wt.v,Wt.N+=Wt.v>>1,Wt.W+=Wt.v>>1,Wt.F!=null&&(Wt.J+=Wt.v),Wt.ka=is-Wt.j,Wt.U=Wt.va-Wt.v,Wt.T=As-is,fi=Wt.put(Wt))}ir+1!=on.Ic||ua||(r(on.sa,on.ta-qn,ka,ao+16*on.R,qn),r(on.qa,on.ra-fs,$s,lr+8*on.B,fs),r(on.Ha,on.Ia-fs,ca,Bo+8*on.B,fs))}if(!fi)return En(Cr,6,"Output aborted.")}return 1})(we,Me)),Me.bc!=null&&Me.bc(Me),Ke&=1}return Ke?(we.cb=0,Ke):0})(I,J)||(R=I.a)}}else R=I.a}R==0&&de.Oa!=null&&de.Oa.fd&&(R=Om(de.ba))}de=R}ue=de!=0?null:11>ue?ge.f.RGBA.eb:ge.f.kb.y}else ue=null;return ue};var X0=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(D,T){for(var j="",P=0;P<4;P++)j+=String.fromCharCode(D[T++]);return j}function d(D,T){return D[T+0]|D[T+1]<<8}function f(D,T){return(D[T+0]|D[T+1]<<8|D[T+2]<<16)>>>0}function h(D,T){return(D[T+0]|D[T+1]<<8|D[T+2]<<16|D[T+3]<<24)>>>0}new c;var m=[0],g=[0],y=[],x=new c,v=t,w=(function(D,T){var j={},P=0,U=!1,z=0,ee=0;if(j.frames=[],!(function(Q,X){for(var re=0;re<4;re++)if(Q[X+re]!="RIFF".charCodeAt(re))return!0;return!1})(D,T)){for(h(D,T+=4),T+=8;T<D.length;){var q=u(D,T),Z=h(D,T+=4);T+=4;var G=Z+(1&Z);switch(q){case"VP8 ":case"VP8L":j.frames[P]===void 0&&(j.frames[P]={}),(H=j.frames[P]).src_off=U?ee:T-8,H.src_size=z+Z+8,P++,U&&(U=!1,z=0,ee=0);break;case"VP8X":(H=j.header={}).feature_flags=D[T];var ne=T+4;H.canvas_width=1+f(D,ne),ne+=3,H.canvas_height=1+f(D,ne),ne+=3;break;case"ALPH":U=!0,z=G+8,ee=T-8;break;case"ANIM":(H=j.header).bgcolor=h(D,T),ne=T+4,H.loop_count=d(D,ne),ne+=2;break;case"ANMF":var K,H;(H=j.frames[P]={}).offset_x=2*f(D,T),T+=3,H.offset_y=2*f(D,T),T+=3,H.width=1+f(D,T),T+=3,H.height=1+f(D,T),T+=3,H.duration=f(D,T),T+=3,K=D[T++],H.dispose=1&K,H.blend=K>>1&1}q!="ANMF"&&(T+=G)}return j}})(v,0);w.response=v,w.rgbaoutput=!0,w.dataurl=!1;var B=w.header?w.header:null,k=w.frames?w.frames:null;if(B){B.loop_counter=B.loop_count,m=[B.canvas_height],g=[B.canvas_width];for(var E=0;E<k.length&&k[E].blend!=0;E++);}var N=k[0],O=x.WebPDecodeRGBA(v,N.src_off,N.src_size,g,m);N.rgba=O,N.imgwidth=g[0],N.imgheight=m[0];for(var F=0;F<g[0]*m[0]*4;F++)y[F]=O[F];return this.width=g,this.height=m,this.data=y,this}function Zpt(){var t,e=this.internal.__metadata__.metadata,n=unescape(encodeURIComponent(e));t=this.internal.__metadata__.rawXml?n:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+t.length+" >>"),this.internal.write("stream"),this.internal.write(t),this.internal.write("endstream"),this.internal.write("endobj")}function emt(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(t){var e,n,r,s,i,a,o,c,u,d=function(Q){return Q=Q||{},this.isStrokeTransparent=Q.isStrokeTransparent||!1,this.strokeOpacity=Q.strokeOpacity||1,this.strokeStyle=Q.strokeStyle||"#000000",this.fillStyle=Q.fillStyle||"#000000",this.isFillTransparent=Q.isFillTransparent||!1,this.fillOpacity=Q.fillOpacity||1,this.font=Q.font||"10px sans-serif",this.textBaseline=Q.textBaseline||"alphabetic",this.textAlign=Q.textAlign||"left",this.lineWidth=Q.lineWidth||1,this.lineJoin=Q.lineJoin||"miter",this.lineCap=Q.lineCap||"butt",this.path=Q.path||[],this.transform=Q.transform!==void 0?Q.transform.clone():new c,this.globalCompositeOperation=Q.globalCompositeOperation||"normal",this.globalAlpha=Q.globalAlpha||1,this.clip_path=Q.clip_path||[],this.currentPoint=Q.currentPoint||new a,this.miterLimit=Q.miterLimit||10,this.lastPoint=Q.lastPoint||new a,this.lineDashOffset=Q.lineDashOffset||0,this.lineDash=Q.lineDash||[],this.margin=Q.margin||[0,0,0,0],this.prevPageLastElemOffset=Q.prevPageLastElemOffset||0,this.ignoreClearRect=typeof Q.ignoreClearRect!="boolean"||Q.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var f=function(Q){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var X=Q;Object.defineProperty(this,"pdf",{get:function(){return X}});var re=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return re},set:function(ie){re=!!ie}});var le=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return le},set:function(ie){le=!!ie}});var he=0;Object.defineProperty(this,"posX",{get:function(){return he},set:function(ie){isNaN(ie)||(he=ie)}});var xe=0;Object.defineProperty(this,"posY",{get:function(){return xe},set:function(ie){isNaN(ie)||(xe=ie)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(ie){var Le;typeof ie=="number"?Le=[ie,ie,ie,ie]:((Le=new Array(4))[0]=ie[0],Le[1]=ie.length>=2?ie[1]:Le[0],Le[2]=ie.length>=3?ie[2]:Le[0],Le[3]=ie.length>=4?ie[3]:Le[1]),u.margin=Le}});var Be=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Be},set:function(ie){Be=ie}});var me=0;Object.defineProperty(this,"lastBreak",{get:function(){return me},set:function(ie){me=ie}});var ve=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ve},set:function(ie){ve=ie}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(ie){ie instanceof d&&(u=ie)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(ie){u.path=ie}});var Ee=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ee},set:function(ie){Ee=ie}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ie){var Le;Le=h(ie),this.ctx.fillStyle=Le.style,this.ctx.isFillTransparent=Le.a===0,this.ctx.fillOpacity=Le.a,this.pdf.setFillColor(Le.r,Le.g,Le.b,{a:Le.a}),this.pdf.setTextColor(Le.r,Le.g,Le.b,{a:Le.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ie){var Le=h(ie);this.ctx.strokeStyle=Le.style,this.ctx.isStrokeTransparent=Le.a===0,this.ctx.strokeOpacity=Le.a,Le.a===0?this.pdf.setDrawColor(255,255,255):(Le.a,this.pdf.setDrawColor(Le.r,Le.g,Le.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ie){["butt","round","square"].indexOf(ie)!==-1&&(this.ctx.lineCap=ie,this.pdf.setLineCap(ie))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ie){isNaN(ie)||(this.ctx.lineWidth=ie,this.pdf.setLineWidth(ie))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ie){["bevel","round","miter"].indexOf(ie)!==-1&&(this.ctx.lineJoin=ie,this.pdf.setLineJoin(ie))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ie){isNaN(ie)||(this.ctx.miterLimit=ie,this.pdf.setMiterLimit(ie))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ie){this.ctx.textBaseline=ie}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ie){["right","end","center","left","start"].indexOf(ie)!==-1&&(this.ctx.textAlign=ie)}});var ye=null,Ue=null,at=null;Object.defineProperty(this,"fontFaces",{get:function(){return at},set:function(ie){ye=null,Ue=null,at=ie}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ie){var Le;if(this.ctx.font=ie,(Le=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(ie))!==null){var tt=Le[1];Le[2];var It=Le[3],_e=Le[4];Le[5];var At=Le[6],ot=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(_e)[2];_e=Math.floor(ot==="px"?parseFloat(_e)*this.pdf.internal.scaleFactor:ot==="em"?parseFloat(_e)*this.pdf.getFontSize():parseFloat(_e)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(_e);var $t=(function(Yt){var sn,On,Ot=[],xn=Yt.trim();if(xn==="")return h6;if(xn in KX)return[KX[xn]];for(;xn!=="";){switch(On=null,sn=(xn=YX(xn)).charAt(0)){case'"':case"'":On=qpt(xn.substring(1),sn);break;default:On=Gpt(xn)}if(On===null||(Ot.push(On[0]),(xn=YX(On[1]))!==""&&xn.charAt(0)!==","))return h6;xn=xn.replace(/^,/,"")}return Ot})(At);if(this.fontFaces){var kt=(function(Yt,sn){var On=Yt.getFontList(),Ot=JSON.stringify(On);if(ye===null||Ue!==Ot){var xn=(function(ke){var $e=[];return Object.keys(ke).forEach(function(yt){ke[yt].forEach(function(Ct){var _t=null;switch(Ct){case"bold":_t={family:yt,weight:"bold"};break;case"italic":_t={family:yt,style:"italic"};break;case"bolditalic":_t={family:yt,weight:"bold",style:"italic"};break;case"":case"normal":_t={family:yt}}_t!==null&&(_t.ref={name:yt,style:Ct},$e.push(_t))})}),$e})(On);ye=(function(ke){for(var $e={},yt=0;yt<ke.length;++yt){var Ct=A6(ke[yt]),_t=Ct.family,Lt=Ct.stretch,Ut=Ct.style,Jt=Ct.weight;$e[_t]=$e[_t]||{},$e[_t][Lt]=$e[_t][Lt]||{},$e[_t][Lt][Ut]=$e[_t][Lt][Ut]||{},$e[_t][Lt][Ut][Jt]=Ct}return $e})(xn.concat(sn)),Ue=Ot}return ye})(this.pdf,this.fontFaces),Ht=$t.map(function(Yt){return{family:Yt,stretch:"normal",weight:It,style:tt}}),Sn=(function(Yt,sn,On){for(var Ot=(On=On||{}).defaultFontFamily||"times",xn=Object.assign({},Vpt,On.genericFontFamilies||{}),ke=null,$e=null,yt=0;yt<sn.length;++yt)if(xn[(ke=A6(sn[yt])).family]&&(ke.family=xn[ke.family]),Yt.hasOwnProperty(ke.family)){$e=Yt[ke.family];break}if(!($e=$e||Yt[Ot]))throw new Error("Could not find a font-family for the rule '"+XX(ke)+"' and default family '"+Ot+"'.");if($e=(function(Ct,_t){if(_t[Ct])return _t[Ct];var Lt=A8[Ct],Ut=Lt<=A8.normal?-1:1,Jt=GX(_t,Gfe,Lt,Ut);if(!Jt)throw new Error("Could not find a matching font-stretch value for "+Ct);return Jt})(ke.stretch,$e),$e=(function(Ct,_t){if(_t[Ct])return _t[Ct];for(var Lt=qfe[Ct],Ut=0;Ut<Lt.length;++Ut)if(_t[Lt[Ut]])return _t[Lt[Ut]];throw new Error("Could not find a matching font-style for "+Ct)})(ke.style,$e),!($e=(function(Ct,_t){if(_t[Ct])return _t[Ct];if(Ct===400&&_t[500])return _t[500];if(Ct===500&&_t[400])return _t[400];var Lt=Wpt[Ct],Ut=GX(_t,Kfe,Lt,Ct<400?-1:1);if(!Ut)throw new Error("Could not find a matching font-weight for value "+Ct);return Ut})(ke.weight,$e)))throw new Error("Failed to resolve a font for the rule '"+XX(ke)+"'.");return $e})(kt,Ht);this.pdf.setFont(Sn.ref.name,Sn.ref.style)}else{var zt="";(It==="bold"||parseInt(It,10)>=700||tt==="bold")&&(zt="bold"),tt==="italic"&&(zt+="italic"),zt.length===0&&(zt="normal");for(var en="",fn={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Qt=0;Qt<$t.length;Qt++){if(this.pdf.internal.getFont($t[Qt],zt,{noFallback:!0,disableWarning:!0})!==void 0){en=$t[Qt];break}if(zt==="bolditalic"&&this.pdf.internal.getFont($t[Qt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)en=$t[Qt],zt="bold";else if(this.pdf.internal.getFont($t[Qt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){en=$t[Qt],zt="normal";break}}if(en===""){for(var rn=0;rn<$t.length;rn++)if(fn[$t[rn]]){en=fn[$t[rn]];break}}en=en===""?"Times":en,this.pdf.setFont(en,zt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ie){this.ctx.globalCompositeOperation=ie}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ie){this.ctx.globalAlpha=ie}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ie){this.ctx.lineDashOffset=ie,H.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ie){this.ctx.lineDash=ie,H.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ie){this.ctx.ignoreClearRect=!!ie}})};f.prototype.setLineDash=function(Q){this.lineDash=Q},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){k.call(this,"fill",!1)},f.prototype.stroke=function(){k.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(Q,X){if(isNaN(Q)||isNaN(X))throw Xs.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var re=this.ctx.transform.applyToPoint(new a(Q,X));this.path.push({type:"mt",x:re.x,y:re.y}),this.ctx.lastPoint=new a(Q,X)},f.prototype.closePath=function(){var Q=new a(0,0),X=0;for(X=this.path.length-1;X!==-1;X--)if(this.path[X].type==="begin"&&js(this.path[X+1])==="object"&&typeof this.path[X+1].x=="number"){Q=new a(this.path[X+1].x,this.path[X+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(Q.x,Q.y)},f.prototype.lineTo=function(Q,X){if(isNaN(Q)||isNaN(X))throw Xs.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var re=this.ctx.transform.applyToPoint(new a(Q,X));this.path.push({type:"lt",x:re.x,y:re.y}),this.ctx.lastPoint=new a(re.x,re.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),k.call(this,null,!0)},f.prototype.quadraticCurveTo=function(Q,X,re,le){if(isNaN(re)||isNaN(le)||isNaN(Q)||isNaN(X))throw Xs.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var he=this.ctx.transform.applyToPoint(new a(re,le)),xe=this.ctx.transform.applyToPoint(new a(Q,X));this.path.push({type:"qct",x1:xe.x,y1:xe.y,x:he.x,y:he.y}),this.ctx.lastPoint=new a(he.x,he.y)},f.prototype.bezierCurveTo=function(Q,X,re,le,he,xe){if(isNaN(he)||isNaN(xe)||isNaN(Q)||isNaN(X)||isNaN(re)||isNaN(le))throw Xs.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Be=this.ctx.transform.applyToPoint(new a(he,xe)),me=this.ctx.transform.applyToPoint(new a(Q,X)),ve=this.ctx.transform.applyToPoint(new a(re,le));this.path.push({type:"bct",x1:me.x,y1:me.y,x2:ve.x,y2:ve.y,x:Be.x,y:Be.y}),this.ctx.lastPoint=new a(Be.x,Be.y)},f.prototype.arc=function(Q,X,re,le,he,xe){if(isNaN(Q)||isNaN(X)||isNaN(re)||isNaN(le)||isNaN(he))throw Xs.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(xe=!!xe,!this.ctx.transform.isIdentity){var Be=this.ctx.transform.applyToPoint(new a(Q,X));Q=Be.x,X=Be.y;var me=this.ctx.transform.applyToPoint(new a(0,re)),ve=this.ctx.transform.applyToPoint(new a(0,0));re=Math.sqrt(Math.pow(me.x-ve.x,2)+Math.pow(me.y-ve.y,2))}Math.abs(he-le)>=2*Math.PI&&(le=0,he=2*Math.PI),this.path.push({type:"arc",x:Q,y:X,radius:re,startAngle:le,endAngle:he,counterclockwise:xe})},f.prototype.arcTo=function(Q,X,re,le,he){throw new Error("arcTo not implemented.")},f.prototype.rect=function(Q,X,re,le){if(isNaN(Q)||isNaN(X)||isNaN(re)||isNaN(le))throw Xs.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(Q,X),this.lineTo(Q+re,X),this.lineTo(Q+re,X+le),this.lineTo(Q,X+le),this.lineTo(Q,X),this.lineTo(Q+re,X),this.lineTo(Q,X)},f.prototype.fillRect=function(Q,X,re,le){if(isNaN(Q)||isNaN(X)||isNaN(re)||isNaN(le))throw Xs.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var he={};this.lineCap!=="butt"&&(he.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(he.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(Q,X,re,le),this.fill(),he.hasOwnProperty("lineCap")&&(this.lineCap=he.lineCap),he.hasOwnProperty("lineJoin")&&(this.lineJoin=he.lineJoin)}},f.prototype.strokeRect=function(Q,X,re,le){if(isNaN(Q)||isNaN(X)||isNaN(re)||isNaN(le))throw Xs.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(Q,X,re,le),this.stroke())},f.prototype.clearRect=function(Q,X,re,le){if(isNaN(Q)||isNaN(X)||isNaN(re)||isNaN(le))throw Xs.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(Q,X,re,le))},f.prototype.save=function(Q){Q=typeof Q!="boolean"||Q;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,re=0;re<this.pdf.internal.getNumberOfPages();re++)this.pdf.setPage(re+1),this.pdf.internal.out("q");if(this.pdf.setPage(X),Q){this.ctx.fontSize=this.pdf.internal.getFontSize();var le=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=le}},f.prototype.restore=function(Q){Q=typeof Q!="boolean"||Q;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,re=0;re<this.pdf.internal.getNumberOfPages();re++)this.pdf.setPage(re+1),this.pdf.internal.out("Q");this.pdf.setPage(X),Q&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(Q){var X,re,le,he;if(Q.isCanvasGradient===!0&&(Q=Q.getColor()),!Q)return{r:0,g:0,b:0,a:0,style:Q};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(Q))X=0,re=0,le=0,he=0;else{var xe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(Q);if(xe!==null)X=parseInt(xe[1]),re=parseInt(xe[2]),le=parseInt(xe[3]),he=1;else if((xe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(Q))!==null)X=parseInt(xe[1]),re=parseInt(xe[2]),le=parseInt(xe[3]),he=parseFloat(xe[4]);else{if(he=1,typeof Q=="string"&&Q.charAt(0)!=="#"){var Be=new Ufe(Q);Q=Be.ok?Be.toHex():"#000000"}Q.length===4?(X=Q.substring(1,2),X+=X,re=Q.substring(2,3),re+=re,le=Q.substring(3,4),le+=le):(X=Q.substring(1,3),re=Q.substring(3,5),le=Q.substring(5,7)),X=parseInt(X,16),re=parseInt(re,16),le=parseInt(le,16)}}return{r:X,g:re,b:le,a:he,style:Q}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(Q,X,re,le){if(isNaN(X)||isNaN(re)||typeof Q!="string")throw Xs.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(le=isNaN(le)?void 0:le,!m.call(this)){var he=G(this.ctx.transform.rotation),xe=this.ctx.transform.scaleX;P.call(this,{text:Q,x:X,y:re,scale:xe,angle:he,align:this.textAlign,maxWidth:le})}},f.prototype.strokeText=function(Q,X,re,le){if(isNaN(X)||isNaN(re)||typeof Q!="string")throw Xs.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){le=isNaN(le)?void 0:le;var he=G(this.ctx.transform.rotation),xe=this.ctx.transform.scaleX;P.call(this,{text:Q,x:X,y:re,scale:xe,renderingMode:"stroke",angle:he,align:this.textAlign,maxWidth:le})}},f.prototype.measureText=function(Q){if(typeof Q!="string")throw Xs.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var X=this.pdf,re=this.pdf.internal.scaleFactor,le=X.internal.getFontSize(),he=X.getStringUnitWidth(Q)*le/X.internal.scaleFactor;return new function(xe){var Be=(xe=xe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Be}}),this}({width:he*=Math.round(96*re/72*1e4)/1e4})},f.prototype.scale=function(Q,X){if(isNaN(Q)||isNaN(X))throw Xs.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var re=new c(Q,0,0,X,0,0);this.ctx.transform=this.ctx.transform.multiply(re)},f.prototype.rotate=function(Q){if(isNaN(Q))throw Xs.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var X=new c(Math.cos(Q),Math.sin(Q),-Math.sin(Q),Math.cos(Q),0,0);this.ctx.transform=this.ctx.transform.multiply(X)},f.prototype.translate=function(Q,X){if(isNaN(Q)||isNaN(X))throw Xs.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var re=new c(1,0,0,1,Q,X);this.ctx.transform=this.ctx.transform.multiply(re)},f.prototype.transform=function(Q,X,re,le,he,xe){if(isNaN(Q)||isNaN(X)||isNaN(re)||isNaN(le)||isNaN(he)||isNaN(xe))throw Xs.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Be=new c(Q,X,re,le,he,xe);this.ctx.transform=this.ctx.transform.multiply(Be)},f.prototype.setTransform=function(Q,X,re,le,he,xe){Q=isNaN(Q)?1:Q,X=isNaN(X)?0:X,re=isNaN(re)?0:re,le=isNaN(le)?1:le,he=isNaN(he)?0:he,xe=isNaN(xe)?0:xe,this.ctx.transform=new c(Q,X,re,le,he,xe)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(Q,X,re,le,he,xe,Be,me,ve){var Ee=this.pdf.getImageProperties(Q),ye=1,Ue=1,at=1,ie=1;le!==void 0&&me!==void 0&&(at=me/le,ie=ve/he,ye=Ee.width/le*me/le,Ue=Ee.height/he*ve/he),xe===void 0&&(xe=X,Be=re,X=0,re=0),le!==void 0&&me===void 0&&(me=le,ve=he),le===void 0&&me===void 0&&(me=Ee.width,ve=Ee.height);var Le=this.ctx.transform.decompose(),tt=G(Le.rotate.shx),It=new c,_e=(It=(It=(It=It.multiply(Le.translate)).multiply(Le.skew)).multiply(Le.scale)).applyToRectangle(new o(xe-X*at,Be-re*ie,le*ye,he*Ue));if(this.autoPaging){for(var At,ot=x.call(this,_e),$t=[],kt=0;kt<ot.length;kt+=1)$t.indexOf(ot[kt])===-1&&$t.push(ot[kt]);B($t);for(var Ht=$t[0],Sn=$t[$t.length-1],zt=Ht;zt<Sn+1;zt++){this.pdf.setPage(zt);var en=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],fn=zt===1?this.posY+this.margin[0]:this.margin[0],Qt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],rn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Yt=zt===1?0:Qt+(zt-2)*rn;if(this.ctx.clip_path.length!==0){var sn=this.path;At=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(At,this.posX+this.margin[3],-Yt+fn+this.ctx.prevPageLastElemOffset),E.call(this,"fill",!0),this.path=sn}var On=JSON.parse(JSON.stringify(_e));On=w([On],this.posX+this.margin[3],-Yt+fn+this.ctx.prevPageLastElemOffset)[0];var Ot=(zt>Ht||zt<Sn)&&y.call(this);Ot&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],en,rn,null).clip().discardPath()),this.pdf.addImage(Q,"JPEG",On.x,On.y,On.w,On.h,null,null,tt),Ot&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(Q,"JPEG",_e.x,_e.y,_e.w,_e.h,null,null,tt)};var x=function(Q,X,re){var le=[];X=X||this.pdf.internal.pageSize.width,re=re||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var he=this.posY+this.ctx.prevPageLastElemOffset;switch(Q.type){default:case"mt":case"lt":le.push(Math.floor((Q.y+he)/re)+1);break;case"arc":le.push(Math.floor((Q.y+he-Q.radius)/re)+1),le.push(Math.floor((Q.y+he+Q.radius)/re)+1);break;case"qct":var xe=ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Q.x1,Q.y1,Q.x,Q.y);le.push(Math.floor((xe.y+he)/re)+1),le.push(Math.floor((xe.y+xe.h+he)/re)+1);break;case"bct":var Be=K(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Q.x1,Q.y1,Q.x2,Q.y2,Q.x,Q.y);le.push(Math.floor((Be.y+he)/re)+1),le.push(Math.floor((Be.y+Be.h+he)/re)+1);break;case"rect":le.push(Math.floor((Q.y+he)/re)+1),le.push(Math.floor((Q.y+Q.h+he)/re)+1)}for(var me=0;me<le.length;me+=1)for(;this.pdf.internal.getNumberOfPages()<le[me];)v.call(this);return le},v=function(){var Q=this.fillStyle,X=this.strokeStyle,re=this.font,le=this.lineCap,he=this.lineWidth,xe=this.lineJoin;this.pdf.addPage(),this.fillStyle=Q,this.strokeStyle=X,this.font=re,this.lineCap=le,this.lineWidth=he,this.lineJoin=xe},w=function(Q,X,re){for(var le=0;le<Q.length;le++)switch(Q[le].type){case"bct":Q[le].x2+=X,Q[le].y2+=re;case"qct":Q[le].x1+=X,Q[le].y1+=re;default:Q[le].x+=X,Q[le].y+=re}return Q},B=function(Q){return Q.sort(function(X,re){return X-re})},k=function(Q,X){var re=this.fillStyle,le=this.strokeStyle,he=this.lineCap,xe=this.lineWidth,Be=Math.abs(xe*this.ctx.transform.scaleX),me=this.lineJoin;if(this.autoPaging){for(var ve,Ee,ye=JSON.parse(JSON.stringify(this.path)),Ue=JSON.parse(JSON.stringify(this.path)),at=[],ie=0;ie<Ue.length;ie++)if(Ue[ie].x!==void 0)for(var Le=x.call(this,Ue[ie]),tt=0;tt<Le.length;tt+=1)at.indexOf(Le[tt])===-1&&at.push(Le[tt]);for(var It=0;It<at.length;It++)for(;this.pdf.internal.getNumberOfPages()<at[It];)v.call(this);B(at);for(var _e=at[0],At=at[at.length-1],ot=_e;ot<At+1;ot++){this.pdf.setPage(ot),this.fillStyle=re,this.strokeStyle=le,this.lineCap=he,this.lineWidth=Be,this.lineJoin=me;var $t=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],kt=ot===1?this.posY+this.margin[0]:this.margin[0],Ht=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Sn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],zt=ot===1?0:Ht+(ot-2)*Sn;if(this.ctx.clip_path.length!==0){var en=this.path;ve=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(ve,this.posX+this.margin[3],-zt+kt+this.ctx.prevPageLastElemOffset),E.call(this,Q,!0),this.path=en}if(Ee=JSON.parse(JSON.stringify(ye)),this.path=w(Ee,this.posX+this.margin[3],-zt+kt+this.ctx.prevPageLastElemOffset),X===!1||ot===0){var fn=(ot>_e||ot<At)&&y.call(this);fn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$t,Sn,null).clip().discardPath()),E.call(this,Q,X),fn&&this.pdf.restoreGraphicsState()}this.lineWidth=xe}this.path=ye}else this.lineWidth=Be,E.call(this,Q,X),this.lineWidth=xe},E=function(Q,X){if((Q!=="stroke"||X||!g.call(this))&&(Q==="stroke"||X||!m.call(this))){for(var re,le,he=[],xe=this.path,Be=0;Be<xe.length;Be++){var me=xe[Be];switch(me.type){case"begin":he.push({begin:!0});break;case"close":he.push({close:!0});break;case"mt":he.push({start:me,deltas:[],abs:[]});break;case"lt":var ve=he.length;if(xe[Be-1]&&!isNaN(xe[Be-1].x)&&(re=[me.x-xe[Be-1].x,me.y-xe[Be-1].y],ve>0)){for(;ve>=0;ve--)if(he[ve-1].close!==!0&&he[ve-1].begin!==!0){he[ve-1].deltas.push(re),he[ve-1].abs.push(me);break}}break;case"bct":re=[me.x1-xe[Be-1].x,me.y1-xe[Be-1].y,me.x2-xe[Be-1].x,me.y2-xe[Be-1].y,me.x-xe[Be-1].x,me.y-xe[Be-1].y],he[he.length-1].deltas.push(re);break;case"qct":var Ee=xe[Be-1].x+2/3*(me.x1-xe[Be-1].x),ye=xe[Be-1].y+2/3*(me.y1-xe[Be-1].y),Ue=me.x+2/3*(me.x1-me.x),at=me.y+2/3*(me.y1-me.y),ie=me.x,Le=me.y;re=[Ee-xe[Be-1].x,ye-xe[Be-1].y,Ue-xe[Be-1].x,at-xe[Be-1].y,ie-xe[Be-1].x,Le-xe[Be-1].y],he[he.length-1].deltas.push(re);break;case"arc":he.push({deltas:[],abs:[],arc:!0}),Array.isArray(he[he.length-1].abs)&&he[he.length-1].abs.push(me)}}le=X?null:Q==="stroke"?"stroke":"fill";for(var tt=!1,It=0;It<he.length;It++)if(he[It].arc)for(var _e=he[It].abs,At=0;At<_e.length;At++){var ot=_e[At];ot.type==="arc"?F.call(this,ot.x,ot.y,ot.radius,ot.startAngle,ot.endAngle,ot.counterclockwise,void 0,X,!tt):U.call(this,ot.x,ot.y),tt=!0}else if(he[It].close===!0)this.pdf.internal.out("h"),tt=!1;else if(he[It].begin!==!0){var $t=he[It].start.x,kt=he[It].start.y;z.call(this,he[It].deltas,$t,kt),tt=!0}le&&D.call(this,le),X&&T.call(this)}},N=function(Q){var X=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,re=X*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return Q-re;case"top":return Q+X-re;case"hanging":return Q+X-2*re;case"middle":return Q+X/2-re;default:return Q}},O=function(Q){return Q+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var Q=function(){};return Q.colorStops=[],Q.addColorStop=function(X,re){this.colorStops.push([X,re])},Q.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},Q.isCanvasGradient=!0,Q},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var F=function(Q,X,re,le,he,xe,Be,me,ve){for(var Ee=q.call(this,re,le,he,xe),ye=0;ye<Ee.length;ye++){var Ue=Ee[ye];ye===0&&(ve?j.call(this,Ue.x1+Q,Ue.y1+X):U.call(this,Ue.x1+Q,Ue.y1+X)),ee.call(this,Q,X,Ue.x2,Ue.y2,Ue.x3,Ue.y3,Ue.x4,Ue.y4)}me?T.call(this):D.call(this,Be)},D=function(Q){switch(Q){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},T=function(){this.pdf.clip(),this.pdf.discardPath()},j=function(Q,X){this.pdf.internal.out(n(Q)+" "+r(X)+" m")},P=function(Q){var X;switch(Q.align){case"right":case"end":X="right";break;case"center":X="center";break;default:X="left"}var re,le,he,xe=this.pdf.getTextDimensions(Q.text),Be=N.call(this,Q.y),me=O.call(this,Be)-xe.h,ve=this.ctx.transform.applyToPoint(new a(Q.x,Be));if(this.autoPaging){var Ee=this.ctx.transform.decompose(),ye=new c;ye=(ye=(ye=ye.multiply(Ee.translate)).multiply(Ee.skew)).multiply(Ee.scale);for(var Ue=this.ctx.transform.applyToRectangle(new o(Q.x,Be,xe.w,xe.h)),at=ye.applyToRectangle(new o(Q.x,me,xe.w,xe.h)),ie=x.call(this,at),Le=[],tt=0;tt<ie.length;tt+=1)Le.indexOf(ie[tt])===-1&&Le.push(ie[tt]);B(Le);for(var It=Le[0],_e=Le[Le.length-1],At=It;At<_e+1;At++){this.pdf.setPage(At);var ot=At===1?this.posY+this.margin[0]:this.margin[0],$t=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],kt=this.pdf.internal.pageSize.height-this.margin[2],Ht=kt-this.margin[0],Sn=this.pdf.internal.pageSize.width-this.margin[1],zt=Sn-this.margin[3],en=At===1?0:$t+(At-2)*Ht;if(this.ctx.clip_path.length!==0){var fn=this.path;re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(re,this.posX+this.margin[3],-1*en+ot),E.call(this,"fill",!0),this.path=fn}var Qt=w([JSON.parse(JSON.stringify(at))],this.posX+this.margin[3],-en+ot+this.ctx.prevPageLastElemOffset)[0];Q.scale>=.01&&(le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(le*Q.scale),he=this.lineWidth,this.lineWidth=he*Q.scale);var rn=this.autoPaging!=="text";if(rn||Qt.y+Qt.h<=kt){if(rn||Qt.y>=ot&&Qt.x<=Sn){var Yt=rn?Q.text:this.pdf.splitTextToSize(Q.text,Q.maxWidth||Sn-Qt.x)[0],sn=w([JSON.parse(JSON.stringify(Ue))],this.posX+this.margin[3],-en+ot+this.ctx.prevPageLastElemOffset)[0],On=rn&&(At>It||At<_e)&&y.call(this);On&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],zt,Ht,null).clip().discardPath()),this.pdf.text(Yt,sn.x,sn.y,{angle:Q.angle,align:X,renderingMode:Q.renderingMode}),On&&this.pdf.restoreGraphicsState()}}else Qt.y<kt&&(this.ctx.prevPageLastElemOffset+=kt-Qt.y);Q.scale>=.01&&(this.pdf.setFontSize(le),this.lineWidth=he)}}else Q.scale>=.01&&(le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(le*Q.scale),he=this.lineWidth,this.lineWidth=he*Q.scale),this.pdf.text(Q.text,ve.x+this.posX,ve.y+this.posY,{angle:Q.angle,align:X,renderingMode:Q.renderingMode,maxWidth:Q.maxWidth}),Q.scale>=.01&&(this.pdf.setFontSize(le),this.lineWidth=he)},U=function(Q,X,re,le){re=re||0,le=le||0,this.pdf.internal.out(n(Q+re)+" "+r(X+le)+" l")},z=function(Q,X,re){return this.pdf.lines(Q,X,re,null,null)},ee=function(Q,X,re,le,he,xe,Be,me){this.pdf.internal.out([e(s(re+Q)),e(i(le+X)),e(s(he+Q)),e(i(xe+X)),e(s(Be+Q)),e(i(me+X)),"c"].join(" "))},q=function(Q,X,re,le){for(var he=2*Math.PI,xe=Math.PI/2;X>re;)X-=he;var Be=Math.abs(re-X);Be<he&&le&&(Be=he-Be);for(var me=[],ve=le?-1:1,Ee=X;Be>1e-5;){var ye=Ee+ve*Math.min(Be,xe);me.push(Z.call(this,Q,Ee,ye)),Be-=Math.abs(ye-Ee),Ee=ye}return me},Z=function(Q,X,re){var le=(re-X)/2,he=Q*Math.cos(le),xe=Q*Math.sin(le),Be=he,me=-xe,ve=Be*Be+me*me,Ee=ve+Be*he+me*xe,ye=4/3*(Math.sqrt(2*ve*Ee)-Ee)/(Be*xe-me*he),Ue=Be-ye*me,at=me+ye*Be,ie=Ue,Le=-at,tt=le+X,It=Math.cos(tt),_e=Math.sin(tt);return{x1:Q*Math.cos(X),y1:Q*Math.sin(X),x2:Ue*It-at*_e,y2:Ue*_e+at*It,x3:ie*It-Le*_e,y3:ie*_e+Le*It,x4:Q*Math.cos(re),y4:Q*Math.sin(re)}},G=function(Q){return 180*Q/Math.PI},ne=function(Q,X,re,le,he,xe){var Be=Q+.5*(re-Q),me=X+.5*(le-X),ve=he+.5*(re-he),Ee=xe+.5*(le-xe),ye=Math.min(Q,he,Be,ve),Ue=Math.max(Q,he,Be,ve),at=Math.min(X,xe,me,Ee),ie=Math.max(X,xe,me,Ee);return new o(ye,at,Ue-ye,ie-at)},K=function(Q,X,re,le,he,xe,Be,me){var ve,Ee,ye,Ue,at,ie,Le,tt,It,_e,At,ot,$t,kt,Ht=re-Q,Sn=le-X,zt=he-re,en=xe-le,fn=Be-he,Qt=me-xe;for(Ee=0;Ee<41;Ee++)It=(Le=(ye=Q+(ve=Ee/40)*Ht)+ve*((at=re+ve*zt)-ye))+ve*(at+ve*(he+ve*fn-at)-Le),_e=(tt=(Ue=X+ve*Sn)+ve*((ie=le+ve*en)-Ue))+ve*(ie+ve*(xe+ve*Qt-ie)-tt),Ee==0?(At=It,ot=_e,$t=It,kt=_e):(At=Math.min(At,It),ot=Math.min(ot,_e),$t=Math.max($t,It),kt=Math.max(kt,_e));return new o(Math.round(At),Math.round(ot),Math.round($t-At),Math.round(kt-ot))},H=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var Q,X,re=(Q=this.ctx.lineDash,X=this.ctx.lineDashOffset,JSON.stringify({lineDash:Q,lineDashOffset:X}));this.prevLineDash!==re&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=re)}}})(_n.API),(function(t){var e=function(a){var o,c,u,d,f,h,m,g,y,x;for(c=[],u=0,d=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;d>u;u+=4)(f=(a.charCodeAt(u)<<24)+(a.charCodeAt(u+1)<<16)+(a.charCodeAt(u+2)<<8)+a.charCodeAt(u+3))!==0?(h=(f=((f=((f=((f=(f-(x=f%85))/85)-(y=f%85))/85)-(g=f%85))/85)-(m=f%85))/85)%85,c.push(h+33,m+33,g+33,y+33,x+33)):c.push(122);return(function(v,w){for(var B=w;B>0;B--)v.pop()})(c,o.length),String.fromCharCode.apply(String,c)+"~>"},n=function(a){var o,c,u,d,f,h=String,m="length",g=255,y="charCodeAt",x="slice",v="replace";for(a[x](-2),a=a[x](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),u=[],d=0,f=(a+=o="uuuuu"[x](a[m]%5||5))[m];f>d;d+=5)c=52200625*(a[y](d)-33)+614125*(a[y](d+1)-33)+7225*(a[y](d+2)-33)+85*(a[y](d+3)-33)+(a[y](d+4)-33),u.push(g&c>>24,g&c>>16,g&c>>8,g&c);return(function(w,B){for(var k=B;k>0;k--)w.pop()})(u,o[m]),h.fromCharCode.apply(h,u)},r=function(a){return a.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var c="",u=0;u<a.length;u+=2)c+=String.fromCharCode("0x"+(a[u]+a[u+1]));return c},i=function(a){for(var o=new Uint8Array(a.length),c=a.length;c--;)o[c]=a.charCodeAt(c);return(o=a8(o)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};t.processDataByFilters=function(a,o){var c=0,u=a||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),c=0;c<o.length;c+=1)switch(o[c]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=s(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=r(u),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=i(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[c]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}})(_n.API),(function(t){t.loadFile=function(e,n,r){return(function(s,i,a){i=i!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=(function(c,u,d){var f=new XMLHttpRequest,h=0,m=function(g){var y=g.length,x=[],v=String.fromCharCode;for(h=0;h<y;h+=1)x.push(v(255&g.charCodeAt(h)));return x.join("")};if(f.open("GET",c,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?d(m(this.responseText)):d(void 0)}),f.send(null),u&&f.status===200)return m(f.responseText)})(s,i,a)}catch{}return o})(e,n,r)},t.allowFsRead=void 0,t.loadImageFile=t.loadFile})(_n.API),(function(t){function e(){return(nr.html2canvas?Promise.resolve(nr.html2canvas):KR(()=>Promise.resolve().then(()=>Uxt),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(nr.DOMPurify?Promise.resolve(nr.DOMPurify):KR(()=>import("./purify.es-Bzr520pe.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var c=js(o);return c==="undefined"?"undefined":c==="string"||o instanceof String?"string":c==="number"||o instanceof Number?"number":c==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":c==="object"?"object":"unknown"},s=function(o,c){var u=document.createElement(o);for(var d in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[d]=c.style[d];return u},i=function o(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),f=c.firstChild;f;f=f.nextSibling)u!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||d.appendChild(o(f,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d},a=function o(c){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),u);return(d=d.setProgress(1,o,1,[o])).set(c)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,c){return o.__proto__=c||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,c){return this.then(function(){switch(c=c||(function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(o),c){case"string":return this.then(n).then(function(u){return this.set({src:s("div",{innerHTML:o,dompurify:u})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(c){var u=this.opt.jsPDF,d=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var m=0;m<d.length;++m){var g=d[m],y=g.src.find(function(x){return x.format==="truetype"});y&&u.addFont(y.url,g.ref.name,g.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,u.context2d.save(!0),c(this.prop.container,h)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(o,c):this.outputPdf(o,c)},a.prototype.outputPdf=function(o,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,c)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(r(o)!=="object")return this;var c=Object.keys(o||{}).map(function(u){if(u in a.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}},this);return this.then(function(){return this.thenList(c)})},a.prototype.get=function(o,c){return this.then(function(){var u=o in a.template.prop?this.prop[o]:this.opt[o];return c?c(u):u})},a.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function c(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(o=o||_n.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:c(o.inner.width,o.k),height:c(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,c,u,d){return o!=null&&(this.progress.val=o),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,c,u,d){return this.setProgress(o?this.progress.val+o:null,c||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},a.prototype.then=function(o,c){var u=this;return this.thenCore(o,c,function(d,f){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(h){return u.updateProgress(null,d),h}).then(d,f).then(function(h){return u.updateProgress(1),h})})},a.prototype.thenCore=function(o,c,u){u=u||Promise.prototype.then;var d=this;o&&(o=o.bind(d)),c&&(c=c.bind(d));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:a.convert(Object.assign({},d),Promise.prototype),h=u.call(f,o,c);return a.convert(h,d.__proto__)},a.prototype.thenExternal=function(o,c){return Promise.prototype.then.call(this,o,c)},a.prototype.thenList=function(o){var c=this;return o.forEach(function(u){c=c.thenCore(u)}),c},a.prototype.catch=function(o){o&&(o=o.bind(this));var c=Promise.prototype.catch.call(this,o);return a.convert(c,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,_n.getPageSize=function(o,c,u){if(js(o)==="object"){var d=o;o=d.orientation,c=d.unit||c,u=d.format||u}c=c||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var f,h=(""+u).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+c}var g,y=0,x=0;if(m.hasOwnProperty(h))y=m[h][1]/f,x=m[h][0]/f;else try{y=u[1],x=u[0]}catch{throw new Error("Invalid format: "+u)}if(o==="p"||o==="portrait")o="p",x>y&&(g=x,x=y,y=g);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",y>x&&(g=x,x=y,y=g)}return{width:x,height:y,unit:c,k:f,orientation:o}},t.html=function(o,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(A6):null;var u=new a(c);return c.worker?u:u.from(o).doCallback()}})(_n.API),_n.API.addJS=function(t){var e,n,r=t;return this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(e+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),n=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+r+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){e!==void 0&&n!==void 0&&this.internal.out("/Names <</JavaScript "+e+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=n.outline.render().split(/\r\n/),i=0;i<s.length;i++){var a=s[i],o=r.exec(a);if(o!=null){var c=o[1];n.internal.newObjectDeferredBegin(c,!1)}n.internal.write(a)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(i=0;i<u;i++){var f=n.internal.newObject();d.push(f);var h=n.internal.getPageInfo(i+1);n.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var m=n.internal.newObject();for(n.internal.write("<< /Names [ "),i=0;i<d.length;i++)n.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+m+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,s,i){var a={title:s,options:i,children:[]};return r==null&&(r=this.root),r.children.push(a),a},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var s=0;s<r.children.length;s++)this.genIds_r(r.children[s])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<r.children.length;i++){var a=r.children[i];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),i>0&&this.line("/Prev "+this.makeRef(r.children[i-1])),i<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[i+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var c=n.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,s){for(var i=0;i<s.children.length;i++)r.count++,this.count_r(r,s.children[i]);return r.count}}])})(_n.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,s,i,a,o){var c,u=this.decode.DCT_DECODE,d=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=a||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,c=(function(f){for(var h,m=256*f.charCodeAt(4)+f.charCodeAt(5),g=f.length,y={width:0,height:0,numcomponents:1},x=4;x<g;x+=2){if(x+=m,e.indexOf(f.charCodeAt(x+1))!==-1){h=256*f.charCodeAt(x+5)+f.charCodeAt(x+6),y={width:256*f.charCodeAt(x+7)+f.charCodeAt(x+8),height:h,numcomponents:f.charCodeAt(x+9)};break}m=256*f.charCodeAt(x+2)+f.charCodeAt(x+3)}return y})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),c.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}d={data:n,width:c.width,height:c.height,colorSpace:o,bitsPerComponent:8,filter:u,index:r,alias:s}}return d}})(_n.API),_n.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var s,i=Tpt(t,{checkCrc:!0}),a=i.width,o=i.height,c=i.channels,u=i.palette,d=i.depth;s=u&&c===1?(function(F){for(var D=F.width,T=F.height,j=F.data,P=F.palette,U=F.depth,z=!1,ee=[],q=[],Z=void 0,G=!1,ne=0,K=0;K<P.length;K++){var H=rX(P[K],4),Q=H[0],X=H[1],re=H[2],le=H[3];ee.push(Q,X,re),le!=null&&(le===0?(ne++,q.length<1&&q.push(K)):le<255&&(G=!0))}if(G||ne>1){z=!0,q=void 0;var he=D*T;Z=new Uint8Array(he);for(var xe=new DataView(j.buffer),Be=0;Be<he;Be++){var me=p6(xe,Be,U),ve=rX(P[me],4)[3];Z[Be]=ve}}else ne===0&&(q=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:z?8:void 0,colorBytes:j,alphaBytes:Z,needSMask:z,palette:ee,mask:q}})(i):c===2||c===4?(function(F){for(var D=F.data,T=F.width,j=F.height,P=F.channels,U=F.depth,z=P===2?"DeviceGray":"DeviceRGB",ee=P-1,q=T*j,Z=ee,G=q*Z,ne=1*q,K=Math.ceil(G*U/8),H=Math.ceil(ne*U/8),Q=new Uint8Array(K),X=new Uint8Array(H),re=new DataView(D.buffer),le=new DataView(Q.buffer),he=new DataView(X.buffer),xe=!1,Be=0;Be<q;Be++){for(var me=Be*P,ve=0;ve<Z;ve++)aY(le,p6(re,me+ve,U),Be*Z+ve,U);var Ee=p6(re,me+Z,U);Ee<(1<<U)-1&&(xe=!0),aY(he,Ee,1*Be,U)}return{colorSpace:z,colorsPerPixel:ee,sMaskBitsPerComponent:xe?U:void 0,colorBytes:Q,alphaBytes:X,needSMask:xe}})(i):(function(F){var D=F.data,T=F.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:T,colorsPerPixel:T==="DeviceGray"?1:3,colorBytes:D instanceof Uint16Array?(function(j){for(var P=j.length,U=new Uint8Array(2*P),z=new DataView(U.buffer,U.byteOffset,U.byteLength),ee=0;ee<P;ee++)z.setUint16(2*ee,j[ee],!1);return U})(D):D,needSMask:!1}})(i);var f,h,m,g=s,y=g.colorSpace,x=g.colorsPerPixel,v=g.sMaskBitsPerComponent,w=g.colorBytes,B=g.alphaBytes,k=g.needSMask,E=g.palette,N=g.mask,O=null;return r!==_n.API.image_compression.NONE&&typeof a8=="function"?(O=(function(F){var D;switch(F){case _n.API.image_compression.FAST:D=11;break;case _n.API.image_compression.MEDIUM:D=13;break;case _n.API.image_compression.SLOW:D=14;break;default:D=12}return D})(r),f=this.decode.FLATE_DECODE,h="/Predictor ".concat(O," /Colors ").concat(x," /BitsPerComponent ").concat(d," /Columns ").concat(a),t=tY(w,Math.ceil(a*x*d/8),x,d,r),k&&(m=tY(B,Math.ceil(a*v/8),1,v,r))):(f=void 0,h=void 0,t=w,k&&(m=B)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(m&&this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),{alias:n,data:t,index:e,filter:f,decodeParameters:h,transparency:N,palette:E,sMask:m,predictor:O,width:a,height:o,bitsPerComponent:d,sMaskBitsPerComponent:v,colorSpace:y}}},(function(t){t.processGIF89A=function(e,n,r,s){var i=new Jpt(e),a=i.width,o=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:a,height:o},d=new m6(100).encode(u,100);return t.processJPEG.call(this,d,n,r,s)},t.processGIF87A=t.processGIF89A})(_n.API),Dd.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:r,blue:n,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Dd.prototype.parseBGR=function(){this.pos=this.offset;var t="bit"+this.bitPP,e=this.width*this.height*4;if(e>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(e);try{this[t]()}catch(n){Xs.log("bit decode error:"+n)}},Dd.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<e;s++)for(var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*s*4,o=0;o<8&&8*s+o<this.width;o++){var c=this.palette[i>>7-o&1];this.data[a+4*o]=c.blue,this.data[a+4*o+1]=c.green,this.data[a+4*o+2]=c.red,this.data[a+4*o+3]=255}n!==0&&(this.pos+=4-n)}},Dd.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<t;s++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*s*4,o=i>>4,c=15&i,u=this.palette[o];if(this.data[a]=u.blue,this.data[a+1]=u.green,this.data[a+2]=u.red,this.data[a+3]=255,2*s+1>=this.width)break;u=this.palette[c],this.data[a+4]=u.blue,this.data[a+4+1]=u.green,this.data[a+4+2]=u.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},Dd.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+4*r;if(s<this.palette.length){var a=this.palette[s];this.data[i]=a.red,this.data[i+1]=a.green,this.data[i+2]=a.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},Dd.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(i&e)/e*255|0,o=(i>>5&e)/e*255|0,c=(i>>10&e)/e*255|0,u=i>>15?255:0,d=r*this.width*4+4*s;this.data[d]=c,this.data[d+1]=o,this.data[d+2]=a,this.data[d+3]=u}this.pos+=t}},Dd.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,c=(a>>5&n)/n*255|0,u=(a>>11)/e*255|0,d=s*this.width*4+4*i;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=o,this.data[d+3]=255}this.pos+=t}},Dd.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=i,this.data[a+1]=s,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},Dd.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=i,this.data[o+1]=s,this.data[o+2]=r,this.data[o+3]=a}},Dd.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,n,r,s){var i=new Dd(e,!1),a=i.width,o=i.height,c={data:i.getData(),width:a,height:o},u=new m6(100).encode(c,100);return t.processJPEG.call(this,u,n,r,s)}})(_n.API),lY.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,n,r,s){var i=new lY(e),a=i.width,o=i.height,c={data:i.getData(),width:a,height:o},u=new m6(100).encode(c,100);return t.processJPEG.call(this,u,n,r,s)}})(_n.API),_n.API.processRGBA=function(t,e,n){for(var r=t.data,s=r.length,i=new Uint8Array(s/4*3),a=new Uint8Array(s/4),o=0,c=0,u=0;u<s;u+=4){var d=r[u],f=r[u+1],h=r[u+2],m=r[u+3];i[o++]=d,i[o++]=f,i[o++]=h,a[c++]=m}var g=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:g,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},_n.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},By=_n.API,pk=By.getCharWidthsArray=function(t,e){var n,r,s=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:s.metadata.Unicode.widths,c=o.fof?o.fof:1,u=e.kerning?e.kerning:s.metadata.Unicode.kerning,d=u.fof?u.fof:1,f=e.doKerning!==!1,h=0,m=t.length,g=0,y=o[0]||c,x=[];for(n=0;n<m;n++)r=t.charCodeAt(n),typeof s.metadata.widthOfString=="function"?x.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(r))+a*(1e3/i)||0)/1e3):(h=f&&js(u[r])==="object"&&!isNaN(parseInt(u[r][g],10))?u[r][g]/d:0,x.push((o[r]||y)/c+h)),g=r;return x},JX=By.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return By.processArabic&&(t=By.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,s)/n:pk.apply(this,arguments).reduce(function(i,a){return i+a},0)},ZX=function(t,e,n,r){for(var s=[],i=0,a=t.length,o=0;i!==a&&o+e[i]<n;)o+=e[i],i++;s.push(t.slice(0,i));var c=i;for(o=0;i!==a;)o+e[i]>r&&(s.push(t.slice(c,i)),o=0,c=i),o+=e[i],i++;return c!==i&&s.push(t.slice(c,i)),s},eY=function(t,e,n){n||(n={});var r,s,i,a,o,c,u,d=[],f=[d],h=n.textIndent||0,m=0,g=0,y=t.split(" "),x=pk.apply(this,[" ",n])[0];if(c=n.lineIndent===-1?y[0].length+2:n.lineIndent||0){var v=Array(c).join(" "),w=[];y.map(function(k){(k=k.split(/\s*\n/)).length>1?w=w.concat(k.map(function(E,N){return(N&&E.length?`
`:"")+E})):w.push(k[0])}),y=w,c=JX.apply(this,[v,n])}for(i=0,a=y.length;i<a;i++){var B=0;if(r=y[i],c&&r[0]==`
`&&(r=r.substr(1),B=1),h+m+(g=(s=pk.apply(this,[r,n])).reduce(function(k,E){return k+E},0))>e||B){if(g>e){for(o=ZX.apply(this,[r,s,e-(h+m),e]),d.push(o.shift()),d=[o.pop()];o.length;)f.push([o.shift()]);g=s.slice(r.length-(d[0]?d[0].length:0)).reduce(function(k,E){return k+E},0)}else d=[r];f.push(d),h=g+c,m=x}else d.push(r),h+=m+g,m=x}return u=c?function(k,E){return(E?v:"")+k.join(" ")}:function(k){return k.join(" ")},f.map(u)},By.splitTextToSize=function(t,e,n){var r,s=(n=n||{}).fontSize||this.internal.getFontSize(),i=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle),h="Unicode";return f.metadata[h]?{widths:f.metadata[h].widths||{0:1},kerning:f.metadata[h].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/s;i.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=n.lineIndent;var o,c,u=[];for(o=0,c=r.length;o<c;o++)u=u.concat(eY.apply(this,[r[o],a,i]));return u},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},s={},i=0;i<16;i++)r[n[i]]=e[i],s[e[i]]=n[i];var a=function(h){return"0x"+parseInt(h,10).toString(16)},o=t.__fontmetrics__.compress=function(h){var m,g,y,x,v=["{"];for(var w in h){if(m=h[w],isNaN(parseInt(w,10))?g="'"+w+"'":(w=parseInt(w,10),g=(g=a(w).slice(2)).slice(0,-1)+s[g.slice(-1)]),typeof m=="number")m<0?(y=a(m).slice(3),x="-"):(y=a(m).slice(2),x=""),y=x+y.slice(0,-1)+s[y.slice(-1)];else{if(js(m)!=="object")throw new Error("Don't know what to do with value type "+js(m)+".");y=o(m)}v.push(g+y)}return v.push("}"),v.join("")},c=t.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,g,y,x,v={},w=1,B=v,k=[],E="",N="",O=h.length-1,F=1;F<O;F+=1)(x=h[F])=="'"?m?(y=m.join(""),m=void 0):m=[]:m?m.push(x):x=="{"?(k.push([B,y]),B={},y=void 0):x=="}"?((g=k.pop())[0][g[1]]=B,y=void 0,B=g[0]):x=="-"?w=-1:y===void 0?r.hasOwnProperty(x)?(E+=r[x],y=parseInt(E,16)*w,w=1,E=""):E+=x:r.hasOwnProperty(x)?(N+=r[x],B[y]=parseInt(N,16)*w,w=1,y=void 0,N=""):N+=x;return v},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},f={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(h){var m=h.font,g=f.Unicode[m.postScriptName];g&&(m.metadata.Unicode={},m.metadata.Unicode.widths=g.widths,m.metadata.Unicode.kerning=g.kerning);var y=d.Unicode[m.postScriptName];y&&(m.metadata.Unicode.encoding=y,m.encoding=y.codePages[0])}])})(_n.API),(function(t){var e=function(n){for(var r=n.length,s=new Uint8Array(r),i=0;i<r;i++)s[i]=n.charCodeAt(i);return s};t.API.events.push(["addFont",function(n){var r=void 0,s=n.font,i=n.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(r=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(xB(o)),a.metadata=t.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(s,r)}}])})(_n),_n.API.addSvgAsImage=function(t,e,n,r,s,i,a,o){if(isNaN(e)||isNaN(n))throw Xs.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(s))throw Xs.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=r,c.height=s;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(nr.canvg?Promise.resolve(nr.canvg):KR(()=>import("./index.es-BMue-ZLR.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load canvg: "+h))}).then(function(h){return h.default?h.default:h}).then(function(h){return h.fromString(u,t,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(h){return h.render(d)}).then(function(){f.addImage(c.toDataURL("image/jpeg",1),e,n,r,s,a,o)})},_n.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var s=0;s<this.internal.pages[r].length;s++)this.internal.pages[r][s]=this.internal.pages[r][s].replace(e,n);return this},_n.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,s,i,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),c=[],u=0,d=0,f=0;function h(g,y){var x,v=!1;for(x=0;x<g.length;x+=1)g[x]===y&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var m=o.length;for(f=0;f<m;f+=1)n[o[f]].value=n[o[f]].defaultValue,n[o[f]].explicitSet=!1}if(js(t)==="object"){for(s in t)if(i=t[s],h(o,s)&&i!==void 0){if(n[s].type==="boolean"&&typeof i=="boolean")n[s].value=i;else if(n[s].type==="name"&&h(n[s].valueSet,i))n[s].value=i;else if(n[s].type==="integer"&&Number.isInteger(i))n[s].value=i;else if(n[s].type==="array"){for(u=0;u<i.length;u+=1)if(r=!0,i[u].length===1&&typeof i[u][0]=="number")c.push(String(i[u]-1));else if(i[u].length>1){for(d=0;d<i[u].length;d+=1)typeof i[u][d]!="number"&&(r=!1);r===!0&&c.push([i[u][0]-1,i[u][1]-1].join(" "))}n[s].value="["+c.join(" ")+"]"}else n[s].value=n[s].defaultValue;n[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,y=[];for(g in n)n[g].explicitSet===!0&&(n[g].type==="name"?y.push("/"+g+" /"+n[g].value):y.push("/"+g+" "+n[g].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},_n.API.addMetadata=function(t,e){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:t,namespaceUri:e??"http://jspdf.default.namespaceuri/",rawXml:typeof e=="boolean"&&e},this.internal.events.subscribe("putCatalog",emt),this.internal.events.subscribe("postPutResources",Zpt)),this},(function(t){var e=t.API,n=e.pdfEscape16=function(i,a){for(var o,c=a.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],f=0,h=i.length;f<h;++f){if(o=a.metadata.characterToGlyph(i.charCodeAt(f)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=i.charCodeAt(f),c.indexOf(o)==-1&&(c.push(o),c.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return d.join("");o=o.toString(16),d.push(u[4-o.length],o)}return d.join("")},r=function(i){var a,o,c,u,d,f,h;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,h=(o=Object.keys(i).sort(function(m,g){return m-g})).length;f<h;f++)a=o[f],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[a]!==void 0&&i[a]!==null&&typeof i[a].toString=="function"&&(u=("0000"+i[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),c.push("<"+a+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(a){var o=a.font,c=a.out,u=a.newObject,d=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,h=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),m="",g=0;g<h.length;g++)m+=String.fromCharCode(h[g]);var y=u();d({data:m,addLength1:!0,objectId:y}),c("endobj");var x=u();d({data:r(o.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var v=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+zy(o.fontName)),c("/FontFile2 "+y+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),c("/Flags "+o.metadata.flags),c("/StemV "+o.metadata.stemV),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c(">>"),c("endobj");var w=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+zy(o.fontName)),c("/FontDescriptor "+v+" 0 R"),c("/W "+t.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+o.encoding+")"),c(">>"),c(">>"),c("endobj"),o.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+x+" 0 R"),c("/BaseFont /"+zy(o.fontName)),c("/Encoding /"+o.encoding),c("/DescendantFonts ["+w+" 0 R]"),c(">>"),c("endobj"),o.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(a){var o=a.font,c=a.out,u=a.newObject,d=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,h="",m=0;m<f.length;m++)h+=String.fromCharCode(f[m]);var g=u();d({data:h,addLength1:!0,objectId:g}),c("endobj");var y=u();d({data:r(o.metadata.toUnicode),addLength1:!0,objectId:y}),c("endobj");var x=u();c("<<"),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c("/StemV "+o.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+g+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),c("/FontName /"+zy(o.fontName)),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c(">>"),c("endobj"),o.objectNumber=u();for(var v=0;v<o.metadata.hmtx.widths.length;v++)o.metadata.hmtx.widths[v]=parseInt(o.metadata.hmtx.widths[v]*(1e3/o.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+zy(o.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),c("endobj"),o.isAlreadyPutted=!0}})(i)}]);var s=function(i){var a,o=i.text||"",c=i.x,u=i.y,d=i.options||{},f=i.mutex||{},h=f.pdfEscape,m=f.activeFontKey,g=f.fonts,y=m,x="",v=0,w="",B=g[y].encoding;if(g[y].encoding!=="Identity-H")return{text:o,x:c,y:u,options:d,mutex:f};for(w=o,y=m,Array.isArray(o)&&(w=o[0]),v=0;v<w.length;v+=1)g[y].metadata.hasOwnProperty("cmap")&&(a=g[y].metadata.cmap.unicode.codeMap[w[v].charCodeAt(0)]),a||w[v].charCodeAt(0)<256&&g[y].metadata.hasOwnProperty("Unicode")?x+=w[v]:x+="";var k="";return parseInt(y.slice(1))<14||B==="WinAnsiEncoding"?k=h(x,y).split("").map(function(E){return E.charCodeAt(0).toString(16)}).join(""):B==="Identity-H"&&(k=n(x,g[y])),f.isHex=!0,{text:k,x:c,y:u,options:d,mutex:f}};e.events.push(["postProcessText",function(i){var a=i.text||"",o=[],c={text:a,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(a)){var u=0;for(u=0;u<a.length;u+=1)Array.isArray(a[u])&&a[u].length===3?o.push([s(Object.assign({},c,{text:a[u][0]})).text,a[u][1],a[u][2]]):o.push(s(Object.assign({},c,{text:a[u]})).text);i.text=o}else i.text=s(Object.assign({},c,{text:a})).text}])})(_n),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})(_n.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var s,i,a,o,c,u,d,f=e,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,B=0;this.__bidiEngine__={};var k=function(j){var P=j.charCodeAt(),U=P>>8,z=y[U];return z!==void 0?f[256*z+(255&P)]:U===252||U===253?"AL":v.test(U)?"L":U===8?"R":"N"},E=function(j){for(var P,U=0;U<j.length;U++){if((P=k(j.charAt(U)))==="L")return!1;if(P==="R")return!0}return!1},N=function(j,P,U,z){var ee,q,Z,G,ne=P[z];switch(ne){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"N":case"AN":break;case"EN":w&&(ne="AN");break;case"AL":w=!0,ne="R";break;case"WS":case"BN":ne="N";break;case"CS":z<1||z+1>=P.length||(ee=U[z-1])!=="EN"&&ee!=="AN"||(q=P[z+1])!=="EN"&&q!=="AN"?ne="N":w&&(q="AN"),ne=q===ee?q:"N";break;case"ES":ne=(ee=z>0?U[z-1]:"B")==="EN"&&z+1<P.length&&P[z+1]==="EN"?"EN":"N";break;case"ET":if(z>0&&U[z-1]==="EN"){ne="EN";break}if(w){ne="N";break}for(Z=z+1,G=P.length;Z<G&&P[Z]==="ET";)Z++;ne=Z<G&&P[Z]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(G=P.length,Z=z+1;Z<G&&P[Z]==="NSM";)Z++;if(Z<G){var K=j[z],H=K>=1425&&K<=2303||K===64286;if(ee=P[Z],H&&(ee==="R"||ee==="AL")){ne="R";break}}}ne=z<1||(ee=P[z-1])==="B"?"N":U[z-1];break;case"B":w=!1,s=!0,ne=B;break;case"S":i=!0,ne="N"}return ne},O=function(j,P,U){var z=j.split("");return U&&F(z,U,{hiLevel:B}),z.reverse(),P&&P.reverse(),z.join("")},F=function(j,P,U){var z,ee,q,Z,G,ne=-1,K=j.length,H=0,Q=[],X=B?m:h,re=[];for(w=!1,s=!1,i=!1,ee=0;ee<K;ee++)re[ee]=k(j[ee]);for(q=0;q<K;q++){if(G=H,Q[q]=N(j,re,Q,q),z=240&(H=X[G][g[Q[q]]]),H&=15,P[q]=Z=X[H][5],z>0)if(z===16){for(ee=ne;ee<q;ee++)P[ee]=1;ne=-1}else ne=-1;if(X[H][6])ne===-1&&(ne=q);else if(ne>-1){for(ee=ne;ee<q;ee++)P[ee]=Z;ne=-1}re[q]==="B"&&(P[q]=0),U.hiLevel|=Z}i&&(function(le,he,xe){for(var Be=0;Be<xe;Be++)if(le[Be]==="S"){he[Be]=B;for(var me=Be-1;me>=0&&le[me]==="WS";me--)he[me]=B}})(re,P,K)},D=function(j,P,U,z,ee){if(!(ee.hiLevel<j)){if(j===1&&B===1&&!s)return P.reverse(),void(U&&U.reverse());for(var q,Z,G,ne,K=P.length,H=0;H<K;){if(z[H]>=j){for(G=H+1;G<K&&z[G]>=j;)G++;for(ne=H,Z=G-1;ne<Z;ne++,Z--)q=P[ne],P[ne]=P[Z],P[Z]=q,U&&(q=U[ne],U[ne]=U[Z],U[Z]=q);H=G}H++}}},T=function(j,P,U){var z=j.split(""),ee={hiLevel:B};return U||(U=[]),F(z,U,ee),(function(q,Z,G){if(G.hiLevel!==0&&d)for(var ne,K=0;K<q.length;K++)Z[K]===1&&(ne=x.indexOf(q[K]))>=0&&(q[K]=x[ne+1])})(z,U,ee),D(2,z,P,U,ee),D(1,z,P,U,ee),z.join("")};return this.__bidiEngine__.doBidiReorder=function(j,P,U){if((function(ee,q){if(q)for(var Z=0;Z<ee.length;Z++)q[Z]=Z;o===void 0&&(o=E(ee)),u===void 0&&(u=E(ee))})(j,P),a||!c||u)if(a&&c&&o^u)B=o?1:0,j=O(j,P,U);else if(!a&&c&&u)B=o?1:0,j=T(j,P,U),j=O(j,P);else if(!a||o||c||u){if(a&&!c&&o^u)j=O(j,P),o?(B=0,j=T(j,P,U)):(B=1,j=T(j,P,U),j=O(j,P));else if(a&&o&&!c&&u)B=1,j=T(j,P,U),j=O(j,P);else if(!a&&!c&&o^u){var z=d;o?(B=1,j=T(j,P,U),B=0,d=!1,j=T(j,P,U),d=z):(B=0,j=T(j,P,U),j=O(j,P),B=1,d=!1,j=T(j,P,U),d=z,j=O(j,P))}}else B=0,j=T(j,P,U);else B=o?1:0,j=T(j,P,U);return j},this.__bidiEngine__.setOptions=function(j){j&&(a=j.isInputVisual,c=j.isOutputVisual,o=j.isInputRtl,u=j.isOutputRtl,d=j.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var s=r.text;r.x,r.y;var i=r.options||{};r.mutex,i.lang;var a=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,n.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var o=0;for(a=[],o=0;o<s.length;o+=1)Object.prototype.toString.call(s[o])==="[object Array]"?a.push([n.doBidiReorder(s[o][0]),s[o][1],s[o][2]]):a.push([n.doBidiReorder(s[o])]);r.text=a}else r.text=n.doBidiReorder(s);n.setOptions({isInputVisual:!0})}])})(_n),_n.API.TTFFont=(function(){function t(e){var n;if(this.rawData=e,n=this.contents=new xm(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new pmt(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new tmt(this.contents),this.head=new rmt(this),this.name=new lmt(this),this.cmap=new Yfe(this),this.toUnicode={},this.hhea=new smt(this),this.maxp=new cmt(this),this.hmtx=new umt(this),this.post=new amt(this),this.os2=new imt(this),this.loca=new hmt(this),this.glyf=new dmt(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,c,u;for(u=[],a=0,o=(c=this.bbox).length;a<o;a++)e=c[a],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(s=this.post.italic_angle),32768&(n=s>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var s,i,a,o;for(a=0,i=0,o=(e=""+e).length;0<=o?i<o:i>o;i=0<=o?++i:--i)s=e.charCodeAt(i),a+=this.widthOfGlyph(this.characterToGlyph(s))+r*(1e3/n)||0;return a*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t})();var gf,xm=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,s;for(s=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)s.push(this.writeByte(e.charCodeAt(n)));return s},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,s,i,a,o,c;return e=this.readByte(),n=this.readByte(),r=this.readByte(),s=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^s)+16777216*(255^i)+65536*(255^a)+256*(255^o)+(255^c)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*s+16777216*i+65536*a+256*o+c},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,s,i;for(i=[],r=0,s=e.length;r<s;r++)n=e[r],i.push(this.writeByte(n));return i},t})(),tmt=(function(){var t;function e(n){var r,s,i;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,s,i,a,o,c,u,d,f,h,m,g,y;for(y in m=Object.keys(n).length,c=Math.log(2),f=16*Math.floor(Math.log(m)/c),a=Math.floor(f/c),d=16*m-f,(s=new xm).writeInt(this.scalarType),s.writeShort(m),s.writeShort(f),s.writeShort(a),s.writeShort(d),i=16*m,u=s.pos+i,o=null,g=[],n)for(h=n[y],s.writeString(y),s.writeInt(t(h)),s.writeInt(u),s.writeInt(h.length),g=g.concat(h),y==="head"&&(o=u),u+=h.length;u%4;)g.push(0),u++;return s.write(g),r=2981146554-t(s.data),s.pos=o+8,s.writeUInt32(r),s.data},t=function(n){var r,s,i,a;for(n=Jfe.call(n);n.length%4;)n.push(0);for(i=new xm(n),s=0,r=0,a=n.length;r<a;r=r+=4)s+=i.readUInt32();return 4294967295&s},e})(),nmt={}.hasOwnProperty,SA=function(t,e){for(var n in e)nmt.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};gf=(function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var rmt=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return SA(t,gf),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new xm).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t})(),cY=(function(){function t(e,n){var r,s,i,a,o,c,u,d,f,h,m,g,y,x,v,w,B;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(m=e.readUInt16(),h=m/2,e.pos+=6,i=(function(){var k,E;for(E=[],c=k=0;0<=h?k<h:k>h;c=0<=h?++k:--k)E.push(e.readUInt16());return E})(),e.pos+=2,y=(function(){var k,E;for(E=[],c=k=0;0<=h?k<h:k>h;c=0<=h?++k:--k)E.push(e.readUInt16());return E})(),u=(function(){var k,E;for(E=[],c=k=0;0<=h?k<h:k>h;c=0<=h?++k:--k)E.push(e.readUInt16());return E})(),d=(function(){var k,E;for(E=[],c=k=0;0<=h?k<h:k>h;c=0<=h?++k:--k)E.push(e.readUInt16());return E})(),s=(this.length-e.pos+this.offset)/2,o=(function(){var k,E;for(E=[],c=k=0;0<=s?k<s:k>s;c=0<=s?++k:--k)E.push(e.readUInt16());return E})(),c=v=0,B=i.length;v<B;c=++v)for(x=i[c],r=w=g=y[c];g<=x?w<=x:w>=x;r=g<=x?++w:--w)d[c]===0?a=r+u[c]:(a=o[d[c]/2+(r-g)-(h-c)]||0)!==0&&(a+=u[c]),this.codeMap[r]=65535&a}e.pos=f}return t.encode=function(e,n){var r,s,i,a,o,c,u,d,f,h,m,g,y,x,v,w,B,k,E,N,O,F,D,T,j,P,U,z,ee,q,Z,G,ne,K,H,Q,X,re,le,he,xe,Be,me,ve,Ee,ye;switch(z=new xm,a=Object.keys(e).sort(function(Ue,at){return Ue-at}),n){case"macroman":for(y=0,x=(function(){var Ue=[];for(g=0;g<256;++g)Ue.push(0);return Ue})(),w={0:0},i={},ee=0,ne=a.length;ee<ne;ee++)w[me=e[s=a[ee]]]==null&&(w[me]=++y),i[s]={old:e[s],new:w[e[s]]},x[s]=w[e[s]];return z.writeUInt16(1),z.writeUInt16(0),z.writeUInt32(12),z.writeUInt16(0),z.writeUInt16(262),z.writeUInt16(0),z.write(x),{charMap:i,subtable:z.data,maxGlyphID:y+1};case"unicode":for(P=[],f=[],B=0,w={},r={},v=u=null,q=0,K=a.length;q<K;q++)w[E=e[s=a[q]]]==null&&(w[E]=++B),r[s]={old:E,new:w[E]},o=w[E]-s,v!=null&&o===u||(v&&f.push(v),P.push(s),u=o),v=s;for(v&&f.push(v),f.push(65535),P.push(65535),T=2*(D=P.length),F=2*Math.pow(Math.log(D)/Math.LN2,2),h=Math.log(F/2)/Math.LN2,O=2*D-F,c=[],N=[],m=[],g=Z=0,H=P.length;Z<H;g=++Z){if(j=P[g],d=f[g],j===65535){c.push(0),N.push(0);break}if(j-(U=r[j].new)>=32768)for(c.push(0),N.push(2*(m.length+D-g)),s=G=j;j<=d?G<=d:G>=d;s=j<=d?++G:--G)m.push(r[s].new);else c.push(U-j),N.push(0)}for(z.writeUInt16(3),z.writeUInt16(1),z.writeUInt32(12),z.writeUInt16(4),z.writeUInt16(16+8*D+2*m.length),z.writeUInt16(0),z.writeUInt16(T),z.writeUInt16(F),z.writeUInt16(h),z.writeUInt16(O),xe=0,Q=f.length;xe<Q;xe++)s=f[xe],z.writeUInt16(s);for(z.writeUInt16(0),Be=0,X=P.length;Be<X;Be++)s=P[Be],z.writeUInt16(s);for(ve=0,re=c.length;ve<re;ve++)o=c[ve],z.writeUInt16(o);for(Ee=0,le=N.length;Ee<le;Ee++)k=N[Ee],z.writeUInt16(k);for(ye=0,he=m.length;ye<he;ye++)y=m[ye],z.writeUInt16(y);return{charMap:r,subtable:z.data,maxGlyphID:B+1}}},t})(),Yfe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return SA(t,gf),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=s?r<s:r>s;r=0<=s?++r:--r)n=new cY(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,s;return n==null&&(n="macroman"),r=cY.encode(e,n),(s=new xm).writeUInt16(0),s.writeUInt16(1),r.table=s.data.concat(r.subtable),r},t})(),smt=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return SA(t,gf),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),imt=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return SA(t,gf),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r})(),this.charRange=(function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),amt=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return SA(t,gf),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(r=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)n=e.readByte(),s.push(this.names.push(e.readString(n)));return s;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var a,o,c;for(c=[],i=a=0,o=this.file.maxp.numGlyphs;0<=o?a<o:a>o;i=0<=o?++a:--a)c.push(e.readUInt32());return c}).call(this)}},t})(),omt=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},lmt=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return SA(t,gf),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,s,i,a,o,c,u,d,f,h;for(e.pos=this.offset,e.readShort(),n=e.readShort(),o=e.readShort(),r=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(c={},i=d=0,f=r.length;d<f;i=++d)s=r[i],e.pos=s.offset,u=e.readString(s.length),a=new omt(u,s),c[h=s.nameID]==null&&(c[h]=[]),c[s.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t})(),cmt=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return SA(t,gf),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),umt=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return SA(t,gf),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,s,i,a,o,c;for(e.pos=this.offset,this.metrics=[],n=0,o=this.file.hhea.numberOfMetrics;0<=o?n<o:n>o;n=0<=o?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var u,d;for(d=[],n=u=0;0<=s?u<s:u>s;n=0<=s?++u:--u)d.push(e.readInt16());return d})(),this.widths=(function(){var u,d,f,h;for(h=[],u=0,d=(f=this.metrics).length;u<d;u++)i=f[u],h.push(i.advance);return h}).call(this),r=this.widths[this.widths.length-1],c=[],n=a=0;0<=s?a<s:a>s;n=0<=s?++a:--a)c.push(this.widths.push(r));return c},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),Jfe=[].slice,dmt=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return SA(t,gf),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,s,i,a,o,c,u,d,f;return e in this.cache?this.cache[e]:(i=this.file.loca,n=this.file.contents,r=i.indexOf(e),(s=i.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,a=(o=new xm(n.read(s))).readShort(),u=o.readShort(),f=o.readShort(),c=o.readShort(),d=o.readShort(),this.cache[e]=a===-1?new Amt(o,u,f,c,d):new fmt(o,a,u,f,c,d),this.cache[e]))},t.prototype.encode=function(e,n,r){var s,i,a,o,c;for(a=[],i=[],o=0,c=n.length;o<c;o++)s=e[n[o]],i.push(a.length),s&&(a=a.concat(s.encode(r)));return i.push(a.length),{table:a,offsets:i}},t})(),fmt=(function(){function t(e,n,r,s,i,a){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=s,this.xMax=i,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),Amt=(function(){function t(e,n,r,s,i){var a,o;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new xm(Jfe.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t})(),hmt=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return SA(t,gf),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,i;for(i=[],r=0,s=this.length;r<s;r+=2)i.push(2*e.readUInt16());return i}).call(this):(function(){var s,i;for(i=[],r=0,s=this.length;r<s;r+=4)i.push(e.readUInt32());return i}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),s=0,i=0,a=0;a<r.length;++a)if(r[a]=s,i<n.length&&n[i]==a){++i,r[a]=s;var o=this.offsets[a],c=this.offsets[a+1]-o;c>0&&(s+=c)}for(var u=new Array(4*r.length),d=0;d<r.length;++d)u[4*d+3]=255&r[d],u[4*d+2]=(65280&r[d])>>8,u[4*d+1]=(16711680&r[d])>>16,u[4*d]=(4278190080&r[d])>>24;return u},t})(),pmt=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,s,i;for(n in s=this.font.cmap.tables[0].codeMap,e={},i=this.subset)r=i[n],e[n]=s[r];return e},t.prototype.glyphsFor=function(e){var n,r,s,i,a,o,c;for(s={},a=0,o=e.length;a<o;a++)s[i=e[a]]=this.font.glyf.glyphFor(i);for(i in n=[],s)(r=s[i])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(i in c=this.glyphsFor(n))r=c[i],s[i]=r;return s},t.prototype.encode=function(e,n){var r,s,i,a,o,c,u,d,f,h,m,g,y,x,v;for(s in r=Yfe.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),m={0:0},v=r.charMap)m[(c=v[s]).old]=c.new;for(g in h=r.maxGlyphID,a)g in m||(m[g]=h++);return d=(function(w){var B,k;for(B in k={},w)k[w[B]]=B;return k})(m),f=Object.keys(d).sort(function(w,B){return w-B}),y=(function(){var w,B,k;for(k=[],w=0,B=f.length;w<B;w++)o=f[w],k.push(d[o]);return k})(),i=this.font.glyf.encode(a,y,m),u=this.font.loca.encode(i.offsets,y),x={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},t})();_n.API.PDFObject=(function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,s,i,a;if(Array.isArray(n))return"["+(function(){var o,c,u;for(u=[],o=0,c=n.length;o<c;o++)r=n[o],u.push(e.convert(r));return u})().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(s in i=["<<"],n)a=n[s],i.push("/"+s+" "+e.convert(a));return i.push(">>"),i.join(`
`)}return""+n},e})();var h8=function(t,e){return h8=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},h8(t,e)};function yf(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");h8(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var p8=function(){return p8=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},p8.apply(this,arguments)};function Ml(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((r=r.apply(t,[])).next())})}function xl(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(u){return function(d){return c([u,d])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,s=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(d){u=[6,d],s=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function mk(t,e,n){if(arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||e)}var Rh=(function(){function t(e,n,r,s){this.left=e,this.top=n,this.width=r,this.height=s}return t.prototype.add=function(e,n,r,s){return new t(this.left+e,this.top+n,this.width+r,this.height+s)},t.fromClientRect=function(e,n){return new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height)},t.fromDOMRectList=function(e,n){var r=Array.from(n).find(function(s){return s.width!==0});return r?new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t})(),ej=function(t,e){return Rh.fromClientRect(t,e.getBoundingClientRect())},mmt=function(t){var e=t.body,n=t.documentElement;if(!e||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(e.scrollWidth,n.scrollWidth),Math.max(e.offsetWidth,n.offsetWidth),Math.max(e.clientWidth,n.clientWidth)),s=Math.max(Math.max(e.scrollHeight,n.scrollHeight),Math.max(e.offsetHeight,n.offsetHeight),Math.max(e.clientHeight,n.clientHeight));return new Rh(0,0,r,s)},tj=function(t){for(var e=[],n=0,r=t.length;n<r;){var s=t.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){var i=t.charCodeAt(n++);(i&64512)===56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),n--)}else e.push(s)}return e},Ia=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],s=-1,i="";++s<n;){var a=t[s];a<=65535?r.push(a):(a-=65536,r.push((a>>10)+55296,a%1024+56320)),(s+1===n||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},uY="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",gmt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var gk=0;gk<uY.length;gk++)gmt[uY.charCodeAt(gk)]=gk;var dY="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Vv=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var yk=0;yk<dY.length;yk++)Vv[dY.charCodeAt(yk)]=yk;var ymt=function(t){var e=t.length*.75,n=t.length,r,s=0,i,a,o,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),d=Array.isArray(u)?u:new Uint8Array(u);for(r=0;r<n;r+=4)i=Vv[t.charCodeAt(r)],a=Vv[t.charCodeAt(r+1)],o=Vv[t.charCodeAt(r+2)],c=Vv[t.charCodeAt(r+3)],d[s++]=i<<2|a>>4,d[s++]=(a&15)<<4|o>>2,d[s++]=(o&3)<<6|c&63;return u},xmt=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},bmt=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},Dg=5,Az=11,g6=2,vmt=Az-Dg,Zfe=65536>>Dg,wmt=1<<Dg,y6=wmt-1,Smt=1024>>Dg,Cmt=Zfe+Smt,kmt=Cmt,Bmt=32,Emt=kmt+Bmt,Imt=65536>>Az,Nmt=1<<vmt,jmt=Nmt-1,fY=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},Tmt=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},_mt=function(t,e){var n=ymt(t),r=Array.isArray(n)?bmt(n):new Uint32Array(n),s=Array.isArray(n)?xmt(n):new Uint16Array(n),i=24,a=fY(s,i/2,r[4]/2),o=r[5]===2?fY(s,(i+r[4])/2):Tmt(r,Math.ceil((i+r[4])/4));return new Rmt(r[0],r[1],r[2],r[3],a,o)},Rmt=(function(){function t(e,n,r,s,i,a){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=s,this.index=i,this.data=a}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>Dg],n=(n<<g6)+(e&y6),this.data[n];if(e<=65535)return n=this.index[Zfe+(e-55296>>Dg)],n=(n<<g6)+(e&y6),this.data[n];if(e<this.highStart)return n=Emt-Imt+(e>>Az),n=this.index[n],n+=e>>Dg&jmt,n=this.index[n],n=(n<<g6)+(e&y6),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t})(),AY="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Omt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var xk=0;xk<AY.length;xk++)Omt[AY.charCodeAt(xk)]=xk;var Fmt="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",hY=50,Dmt=1,eAe=2,tAe=3,Lmt=4,$mt=5,pY=7,nAe=8,mY=9,zp=10,m8=11,gY=12,g8=13,Pmt=14,qv=15,y8=16,bk=17,Cv=18,Umt=19,yY=20,x8=21,kv=22,x6=23,Ey=24,tu=25,Gv=26,Kv=27,Iy=28,zmt=29,hg=30,Mmt=31,vk=32,wk=33,b8=34,v8=35,w8=36,nw=37,S8=38,CB=39,kB=40,b6=41,rAe=42,Qmt=43,Hmt=[9001,65288],sAe="!",Mr="",Sk="",C8=_mt(Fmt),YA=[hg,w8],k8=[Dmt,eAe,tAe,$mt],iAe=[zp,nAe],xY=[Kv,Gv],Wmt=k8.concat(iAe),bY=[S8,CB,kB,b8,v8],Vmt=[qv,g8],qmt=function(t,e){e===void 0&&(e="strict");var n=[],r=[],s=[];return t.forEach(function(i,a){var o=C8.get(i);if(o>hY?(s.push(!0),o-=hY):s.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return r.push(a),n.push(y8);if(o===Lmt||o===m8){if(a===0)return r.push(a),n.push(hg);var c=n[a-1];return Wmt.indexOf(c)===-1?(r.push(r[a-1]),n.push(c)):(r.push(a),n.push(hg))}if(r.push(a),o===Mmt)return n.push(e==="strict"?x8:nw);if(o===rAe||o===zmt)return n.push(hg);if(o===Qmt)return i>=131072&&i<=196605||i>=196608&&i<=262141?n.push(nw):n.push(hg);n.push(o)}),[r,n,s]},v6=function(t,e,n,r){var s=r[n];if(Array.isArray(t)?t.indexOf(s)!==-1:t===s)for(var i=n;i<=r.length;){i++;var a=r[i];if(a===e)return!0;if(a!==zp)break}if(s===zp)for(var i=n;i>0;){i--;var o=r[i];if(Array.isArray(t)?t.indexOf(o)!==-1:t===o)for(var c=n;c<=r.length;){c++;var a=r[c];if(a===e)return!0;if(a!==zp)break}if(o!==zp)break}return!1},vY=function(t,e){for(var n=t;n>=0;){var r=e[n];if(r===zp)n--;else return r}return 0},Gmt=function(t,e,n,r,s){if(n[r]===0)return Mr;var i=r-1;if(Array.isArray(s)&&s[i]===!0)return Mr;var a=i-1,o=i+1,c=e[i],u=a>=0?e[a]:0,d=e[o];if(c===eAe&&d===tAe)return Mr;if(k8.indexOf(c)!==-1)return sAe;if(k8.indexOf(d)!==-1||iAe.indexOf(d)!==-1)return Mr;if(vY(i,e)===nAe)return Sk;if(C8.get(t[i])===m8||(c===vk||c===wk)&&C8.get(t[o])===m8||c===pY||d===pY||c===mY||[zp,g8,qv].indexOf(c)===-1&&d===mY||[bk,Cv,Umt,Ey,Iy].indexOf(d)!==-1||vY(i,e)===kv||v6(x6,kv,i,e)||v6([bk,Cv],x8,i,e)||v6(gY,gY,i,e))return Mr;if(c===zp)return Sk;if(c===x6||d===x6)return Mr;if(d===y8||c===y8)return Sk;if([g8,qv,x8].indexOf(d)!==-1||c===Pmt||u===w8&&Vmt.indexOf(c)!==-1||c===Iy&&d===w8||d===yY||YA.indexOf(d)!==-1&&c===tu||YA.indexOf(c)!==-1&&d===tu||c===Kv&&[nw,vk,wk].indexOf(d)!==-1||[nw,vk,wk].indexOf(c)!==-1&&d===Gv||YA.indexOf(c)!==-1&&xY.indexOf(d)!==-1||xY.indexOf(c)!==-1&&YA.indexOf(d)!==-1||[Kv,Gv].indexOf(c)!==-1&&(d===tu||[kv,qv].indexOf(d)!==-1&&e[o+1]===tu)||[kv,qv].indexOf(c)!==-1&&d===tu||c===tu&&[tu,Iy,Ey].indexOf(d)!==-1)return Mr;if([tu,Iy,Ey,bk,Cv].indexOf(d)!==-1)for(var f=i;f>=0;){var h=e[f];if(h===tu)return Mr;if([Iy,Ey].indexOf(h)!==-1)f--;else break}if([Kv,Gv].indexOf(d)!==-1)for(var f=[bk,Cv].indexOf(c)!==-1?a:i;f>=0;){var h=e[f];if(h===tu)return Mr;if([Iy,Ey].indexOf(h)!==-1)f--;else break}if(S8===c&&[S8,CB,b8,v8].indexOf(d)!==-1||[CB,b8].indexOf(c)!==-1&&[CB,kB].indexOf(d)!==-1||[kB,v8].indexOf(c)!==-1&&d===kB||bY.indexOf(c)!==-1&&[yY,Gv].indexOf(d)!==-1||bY.indexOf(d)!==-1&&c===Kv||YA.indexOf(c)!==-1&&YA.indexOf(d)!==-1||c===Ey&&YA.indexOf(d)!==-1||YA.concat(tu).indexOf(c)!==-1&&d===kv&&Hmt.indexOf(t[o])===-1||YA.concat(tu).indexOf(d)!==-1&&c===Cv)return Mr;if(c===b6&&d===b6){for(var m=n[i],g=1;m>0&&(m--,e[m]===b6);)g++;if(g%2!==0)return Mr}return c===vk&&d===wk?Mr:Sk},Kmt=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var n=qmt(t,e.lineBreak),r=n[0],s=n[1],i=n[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(s=s.map(function(o){return[tu,hg,rAe].indexOf(o)!==-1?nw:o}));var a=e.wordBreak==="keep-all"?i.map(function(o,c){return o&&t[c]>=19968&&t[c]<=40959}):void 0;return[r,s,a]},Xmt=(function(){function t(e,n,r,s){this.codePoints=e,this.required=n===sAe,this.start=r,this.end=s}return t.prototype.slice=function(){return Ia.apply(void 0,this.codePoints.slice(this.start,this.end))},t})(),Ymt=function(t,e){var n=tj(t),r=Kmt(n,e),s=r[0],i=r[1],a=r[2],o=n.length,c=0,u=0;return{next:function(){if(u>=o)return{done:!0,value:null};for(var d=Mr;u<o&&(d=Gmt(n,i,s,++u,a))===Mr;);if(d!==Mr||u===o){var f=new Xmt(n,d,c,u);return c=u,{value:f,done:!1}}return{done:!0,value:null}}}},Jmt=1,Zmt=2,BS=4,wY=8,AE=10,SY=47,a2=92,egt=9,tgt=32,Ck=34,Bv=61,ngt=35,rgt=36,sgt=37,kk=39,Bk=40,Ev=41,igt=95,kc=45,agt=33,ogt=60,lgt=62,cgt=64,ugt=91,dgt=93,fgt=61,Agt=123,Ek=63,hgt=125,CY=124,pgt=126,mgt=128,kY=65533,w6=42,wg=43,ggt=44,ygt=58,xgt=59,rw=46,bgt=0,vgt=8,wgt=11,Sgt=14,Cgt=31,kgt=127,$f=-1,aAe=48,oAe=97,lAe=101,Bgt=102,Egt=117,Igt=122,cAe=65,uAe=69,dAe=70,Ngt=85,jgt=90,Sl=function(t){return t>=aAe&&t<=57},Tgt=function(t){return t>=55296&&t<=57343},Ny=function(t){return Sl(t)||t>=cAe&&t<=dAe||t>=oAe&&t<=Bgt},_gt=function(t){return t>=oAe&&t<=Igt},Rgt=function(t){return t>=cAe&&t<=jgt},Ogt=function(t){return _gt(t)||Rgt(t)},Fgt=function(t){return t>=mgt},Ik=function(t){return t===AE||t===egt||t===tgt},hE=function(t){return Ogt(t)||Fgt(t)||t===igt},BY=function(t){return hE(t)||Sl(t)||t===kc},Dgt=function(t){return t>=bgt&&t<=vgt||t===wgt||t>=Sgt&&t<=Cgt||t===kgt},Rp=function(t,e){return t!==a2?!1:e!==AE},Nk=function(t,e,n){return t===kc?hE(e)||Rp(e,n):hE(t)?!0:!!(t===a2&&Rp(t,e))},S6=function(t,e,n){return t===wg||t===kc?Sl(e)?!0:e===rw&&Sl(n):Sl(t===rw?e:t)},Lgt=function(t){var e=0,n=1;(t[e]===wg||t[e]===kc)&&(t[e]===kc&&(n=-1),e++);for(var r=[];Sl(t[e]);)r.push(t[e++]);var s=r.length?parseInt(Ia.apply(void 0,r),10):0;t[e]===rw&&e++;for(var i=[];Sl(t[e]);)i.push(t[e++]);var a=i.length,o=a?parseInt(Ia.apply(void 0,i),10):0;(t[e]===uAe||t[e]===lAe)&&e++;var c=1;(t[e]===wg||t[e]===kc)&&(t[e]===kc&&(c=-1),e++);for(var u=[];Sl(t[e]);)u.push(t[e++]);var d=u.length?parseInt(Ia.apply(void 0,u),10):0;return n*(s+o*Math.pow(10,-a))*Math.pow(10,c*d)},$gt={type:2},Pgt={type:3},Ugt={type:4},zgt={type:13},Mgt={type:8},Qgt={type:21},Hgt={type:9},Wgt={type:10},Vgt={type:11},qgt={type:12},Ggt={type:14},jk={type:23},Kgt={type:1},Xgt={type:25},Ygt={type:24},Jgt={type:26},Zgt={type:27},e0t={type:28},t0t={type:29},n0t={type:31},B8={type:32},fAe=(function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(tj(e))},t.prototype.read=function(){for(var e=[],n=this.consumeToken();n!==B8;)e.push(n),n=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Ck:return this.consumeStringToken(Ck);case ngt:var n=this.peekCodePoint(0),r=this.peekCodePoint(1),s=this.peekCodePoint(2);if(BY(n)||Rp(r,s)){var i=Nk(n,r,s)?Zmt:Jmt,a=this.consumeName();return{type:5,value:a,flags:i}}break;case rgt:if(this.peekCodePoint(0)===Bv)return this.consumeCodePoint(),zgt;break;case kk:return this.consumeStringToken(kk);case Bk:return $gt;case Ev:return Pgt;case w6:if(this.peekCodePoint(0)===Bv)return this.consumeCodePoint(),Ggt;break;case wg:if(S6(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case ggt:return Ugt;case kc:var o=e,c=this.peekCodePoint(0),u=this.peekCodePoint(1);if(S6(o,c,u))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(Nk(o,c,u))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(c===kc&&u===lgt)return this.consumeCodePoint(),this.consumeCodePoint(),Ygt;break;case rw:if(S6(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case SY:if(this.peekCodePoint(0)===w6)for(this.consumeCodePoint();;){var d=this.consumeCodePoint();if(d===w6&&(d=this.consumeCodePoint(),d===SY))return this.consumeToken();if(d===$f)return this.consumeToken()}break;case ygt:return Jgt;case xgt:return Zgt;case ogt:if(this.peekCodePoint(0)===agt&&this.peekCodePoint(1)===kc&&this.peekCodePoint(2)===kc)return this.consumeCodePoint(),this.consumeCodePoint(),Xgt;break;case cgt:var f=this.peekCodePoint(0),h=this.peekCodePoint(1),m=this.peekCodePoint(2);if(Nk(f,h,m)){var a=this.consumeName();return{type:7,value:a}}break;case ugt:return e0t;case a2:if(Rp(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case dgt:return t0t;case fgt:if(this.peekCodePoint(0)===Bv)return this.consumeCodePoint(),Mgt;break;case Agt:return Vgt;case hgt:return qgt;case Egt:case Ngt:var g=this.peekCodePoint(0),y=this.peekCodePoint(1);return g===wg&&(Ny(y)||y===Ek)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case CY:if(this.peekCodePoint(0)===Bv)return this.consumeCodePoint(),Hgt;if(this.peekCodePoint(0)===CY)return this.consumeCodePoint(),Qgt;break;case pgt:if(this.peekCodePoint(0)===Bv)return this.consumeCodePoint(),Wgt;break;case $f:return B8}return Ik(e)?(this.consumeWhiteSpace(),n0t):Sl(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):hE(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Ia(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],n=this.consumeCodePoint();Ny(n)&&e.length<6;)e.push(n),n=this.consumeCodePoint();for(var r=!1;n===Ek&&e.length<6;)e.push(n),n=this.consumeCodePoint(),r=!0;if(r){var s=parseInt(Ia.apply(void 0,e.map(function(c){return c===Ek?aAe:c})),16),i=parseInt(Ia.apply(void 0,e.map(function(c){return c===Ek?dAe:c})),16);return{type:30,start:s,end:i}}var a=parseInt(Ia.apply(void 0,e),16);if(this.peekCodePoint(0)===kc&&Ny(this.peekCodePoint(1))){this.consumeCodePoint(),n=this.consumeCodePoint();for(var o=[];Ny(n)&&o.length<6;)o.push(n),n=this.consumeCodePoint();var i=parseInt(Ia.apply(void 0,o),16);return{type:30,start:a,end:i}}else return{type:30,start:a,end:a}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===Bk?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Bk?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===$f)return{type:22,value:""};var n=this.peekCodePoint(0);if(n===kk||n===Ck){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===$f||this.peekCodePoint(0)===Ev)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),jk)}for(;;){var s=this.consumeCodePoint();if(s===$f||s===Ev)return{type:22,value:Ia.apply(void 0,e)};if(Ik(s))return this.consumeWhiteSpace(),this.peekCodePoint(0)===$f||this.peekCodePoint(0)===Ev?(this.consumeCodePoint(),{type:22,value:Ia.apply(void 0,e)}):(this.consumeBadUrlRemnants(),jk);if(s===Ck||s===kk||s===Bk||Dgt(s))return this.consumeBadUrlRemnants(),jk;if(s===a2)if(Rp(s,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),jk;else e.push(s)}},t.prototype.consumeWhiteSpace=function(){for(;Ik(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===Ev||e===$f)return;Rp(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var n=5e4,r="";e>0;){var s=Math.min(n,e);r+=Ia.apply(void 0,this._value.splice(0,s)),e-=s}return this._value.shift(),r},t.prototype.consumeStringToken=function(e){var n="",r=0;do{var s=this._value[r];if(s===$f||s===void 0||s===e)return n+=this.consumeStringSlice(r),{type:0,value:n};if(s===AE)return this._value.splice(0,r),Kgt;if(s===a2){var i=this._value[r+1];i!==$f&&i!==void 0&&(i===AE?(n+=this.consumeStringSlice(r),r=-1,this._value.shift()):Rp(s,i)&&(n+=this.consumeStringSlice(r),n+=Ia(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},t.prototype.consumeNumber=function(){var e=[],n=BS,r=this.peekCodePoint(0);for((r===wg||r===kc)&&e.push(this.consumeCodePoint());Sl(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0);var s=this.peekCodePoint(1);if(r===rw&&Sl(s))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=wY;Sl(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0),s=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((r===uAe||r===lAe)&&((s===wg||s===kc)&&Sl(i)||Sl(s)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=wY;Sl(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[Lgt(e),n]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),n=e[0],r=e[1],s=this.peekCodePoint(0),i=this.peekCodePoint(1),a=this.peekCodePoint(2);if(Nk(s,i,a)){var o=this.consumeName();return{type:15,number:n,flags:r,unit:o}}return s===sgt?(this.consumeCodePoint(),{type:16,number:n,flags:r}):{type:17,number:n,flags:r}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Ny(e)){for(var n=Ia(e);Ny(this.peekCodePoint(0))&&n.length<6;)n+=Ia(this.consumeCodePoint());Ik(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(n,16);return r===0||Tgt(r)||r>1114111?kY:r}return e===$f?kY:e},t.prototype.consumeName=function(){for(var e="";;){var n=this.consumeCodePoint();if(BY(n))e+=Ia(n);else if(Rp(n,this.peekCodePoint(0)))e+=Ia(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(n),e}},t})(),AAe=(function(){function t(e){this._tokens=e}return t.create=function(e){var n=new fAe;return n.write(e),new t(n.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var n=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return n;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var n=this.consumeComponentValue();if(n.type===32)return e;e.push(n),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var n={type:e,values:[]},r=this.consumeToken();;){if(r.type===32||s0t(r,e))return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue()),r=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var n={name:e.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?B8:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t})(),ES=function(t){return t.type===15},yb=function(t){return t.type===17},Qs=function(t){return t.type===20},r0t=function(t){return t.type===0},E8=function(t,e){return Qs(t)&&t.value===e},hAe=function(t){return t.type!==31},O1=function(t){return t.type!==31&&t.type!==4},CA=function(t){var e=[],n=[];return t.forEach(function(r){if(r.type===4){if(n.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(n),n=[];return}r.type!==31&&n.push(r)}),n.length&&e.push(n),e},s0t=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},bm=function(t){return t.type===17||t.type===15},za=function(t){return t.type===16||bm(t)},pAe=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},al={type:17,number:0,flags:BS},hz={type:16,number:50,flags:BS},Mp={type:16,number:100,flags:BS},Xv=function(t,e,n){var r=t[0],s=t[1];return[si(r,e),si(typeof s<"u"?s:r,n)]},si=function(t,e){if(t.type===16)return t.number/100*e;if(ES(t))switch(t.unit){case"rem":case"em":return 16*t.number;default:return t.number}return t.number},mAe="deg",gAe="grad",yAe="rad",xAe="turn",nj={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case mAe:return Math.PI*e.number/180;case gAe:return Math.PI/200*e.number;case yAe:return e.number;case xAe:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},bAe=function(t){return t.type===15&&(t.unit===mAe||t.unit===gAe||t.unit===yAe||t.unit===xAe)},vAe=function(t){var e=t.filter(Qs).map(function(n){return n.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[al,al];case"to top":case"bottom":return Yu(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[al,Mp];case"to right":case"left":return Yu(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Mp,Mp];case"to bottom":case"top":return Yu(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Mp,al];case"to left":case"right":return Yu(270)}return 0},Yu=function(t){return Math.PI*t/180},Zp={name:"color",parse:function(t,e){if(e.type===18){var n=i0t[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return n(t,e.values)}if(e.type===5){if(e.value.length===3){var r=e.value.substring(0,1),s=e.value.substring(1,2),i=e.value.substring(2,3);return Qp(parseInt(r+r,16),parseInt(s+s,16),parseInt(i+i,16),1)}if(e.value.length===4){var r=e.value.substring(0,1),s=e.value.substring(1,2),i=e.value.substring(2,3),a=e.value.substring(3,4);return Qp(parseInt(r+r,16),parseInt(s+s,16),parseInt(i+i,16),parseInt(a+a,16)/255)}if(e.value.length===6){var r=e.value.substring(0,2),s=e.value.substring(2,4),i=e.value.substring(4,6);return Qp(parseInt(r,16),parseInt(s,16),parseInt(i,16),1)}if(e.value.length===8){var r=e.value.substring(0,2),s=e.value.substring(2,4),i=e.value.substring(4,6),a=e.value.substring(6,8);return Qp(parseInt(r,16),parseInt(s,16),parseInt(i,16),parseInt(a,16)/255)}}if(e.type===20){var o=ph[e.value.toUpperCase()];if(typeof o<"u")return o}return ph.TRANSPARENT}},em=function(t){return(255&t)===0},No=function(t){var e=255&t,n=255&t>>8,r=255&t>>16,s=255&t>>24;return e<255?"rgba("+s+","+r+","+n+","+e/255+")":"rgb("+s+","+r+","+n+")"},Qp=function(t,e,n,r){return(t<<24|e<<16|n<<8|Math.round(r*255)<<0)>>>0},EY=function(t,e){if(t.type===17)return t.number;if(t.type===16){var n=e===3?1:255;return e===3?t.number/100*n:Math.round(t.number/100*n)}return 0},IY=function(t,e){var n=e.filter(O1);if(n.length===3){var r=n.map(EY),s=r[0],i=r[1],a=r[2];return Qp(s,i,a,1)}if(n.length===4){var o=n.map(EY),s=o[0],i=o[1],a=o[2],c=o[3];return Qp(s,i,a,c)}return 0};function C6(t,e,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(e-t)*n*6+t:n<1/2?e:n<2/3?(e-t)*6*(2/3-n)+t:t}var NY=function(t,e){var n=e.filter(O1),r=n[0],s=n[1],i=n[2],a=n[3],o=(r.type===17?Yu(r.number):nj.parse(t,r))/(Math.PI*2),c=za(s)?s.number/100:0,u=za(i)?i.number/100:0,d=typeof a<"u"&&za(a)?si(a,1):1;if(c===0)return Qp(u*255,u*255,u*255,1);var f=u<=.5?u*(c+1):u+c-u*c,h=u*2-f,m=C6(h,f,o+1/3),g=C6(h,f,o),y=C6(h,f,o-1/3);return Qp(m*255,g*255,y*255,d)},i0t={hsl:NY,hsla:NY,rgb:IY,rgba:IY},o2=function(t,e){return Zp.parse(t,AAe.create(e).parseComponentValue())},ph={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},a0t={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(Qs(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},o0t={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},rj=function(t,e){var n=Zp.parse(t,e[0]),r=e[1];return r&&za(r)?{color:n,stop:r}:{color:n,stop:null}},jY=function(t,e){var n=t[0],r=t[t.length-1];n.stop===null&&(n.stop=al),r.stop===null&&(r.stop=Mp);for(var s=[],i=0,a=0;a<t.length;a++){var o=t[a].stop;if(o!==null){var c=si(o,e);c>i?s.push(c):s.push(i),i=c}else s.push(null)}for(var u=null,a=0;a<s.length;a++){var d=s[a];if(d===null)u===null&&(u=a);else if(u!==null){for(var f=a-u,h=s[u-1],m=(d-h)/(f+1),g=1;g<=f;g++)s[u+g-1]=m*g;u=null}}return t.map(function(y,x){var v=y.color;return{color:v,stop:Math.max(Math.min(1,s[x]/e),0)}})},l0t=function(t,e,n){var r=e/2,s=n/2,i=si(t[0],e)-r,a=s-si(t[1],n);return(Math.atan2(a,i)+Math.PI*2)%(Math.PI*2)},c0t=function(t,e,n){var r=typeof t=="number"?t:l0t(t,e,n),s=Math.abs(e*Math.sin(r))+Math.abs(n*Math.cos(r)),i=e/2,a=n/2,o=s/2,c=Math.sin(r-Math.PI/2)*o,u=Math.cos(r-Math.PI/2)*o;return[s,i-u,i+u,a-c,a+c]},$d=function(t,e){return Math.sqrt(t*t+e*e)},TY=function(t,e,n,r,s){var i=[[0,0],[0,e],[t,0],[t,e]];return i.reduce(function(a,o){var c=o[0],u=o[1],d=$d(n-c,r-u);return(s?d<a.optimumDistance:d>a.optimumDistance)?{optimumCorner:o,optimumDistance:d}:a},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},u0t=function(t,e,n,r,s){var i=0,a=0;switch(t.size){case 0:t.shape===0?i=a=Math.min(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-s)):t.shape===1&&(i=Math.min(Math.abs(e),Math.abs(e-r)),a=Math.min(Math.abs(n),Math.abs(n-s)));break;case 2:if(t.shape===0)i=a=Math.min($d(e,n),$d(e,n-s),$d(e-r,n),$d(e-r,n-s));else if(t.shape===1){var o=Math.min(Math.abs(n),Math.abs(n-s))/Math.min(Math.abs(e),Math.abs(e-r)),c=TY(r,s,e,n,!0),u=c[0],d=c[1];i=$d(u-e,(d-n)/o),a=o*i}break;case 1:t.shape===0?i=a=Math.max(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-s)):t.shape===1&&(i=Math.max(Math.abs(e),Math.abs(e-r)),a=Math.max(Math.abs(n),Math.abs(n-s)));break;case 3:if(t.shape===0)i=a=Math.max($d(e,n),$d(e,n-s),$d(e-r,n),$d(e-r,n-s));else if(t.shape===1){var o=Math.max(Math.abs(n),Math.abs(n-s))/Math.max(Math.abs(e),Math.abs(e-r)),f=TY(r,s,e,n,!1),u=f[0],d=f[1];i=$d(u-e,(d-n)/o),a=o*i}break}return Array.isArray(t.size)&&(i=si(t.size[0],r),a=t.size.length===2?si(t.size[1],s):i),[i,a]},d0t=function(t,e){var n=Yu(180),r=[];return CA(e).forEach(function(s,i){if(i===0){var a=s[0];if(a.type===20&&a.value==="to"){n=vAe(s);return}else if(bAe(a)){n=nj.parse(t,a);return}}var o=rj(t,s);r.push(o)}),{angle:n,stops:r,type:1}},Tk=function(t,e){var n=Yu(180),r=[];return CA(e).forEach(function(s,i){if(i===0){var a=s[0];if(a.type===20&&["top","left","right","bottom"].indexOf(a.value)!==-1){n=vAe(s);return}else if(bAe(a)){n=(nj.parse(t,a)+Yu(270))%Yu(360);return}}var o=rj(t,s);r.push(o)}),{angle:n,stops:r,type:1}},f0t=function(t,e){var n=Yu(180),r=[],s=1,i=0,a=3,o=[];return CA(e).forEach(function(c,u){var d=c[0];if(u===0){if(Qs(d)&&d.value==="linear"){s=1;return}else if(Qs(d)&&d.value==="radial"){s=2;return}}if(d.type===18){if(d.name==="from"){var f=Zp.parse(t,d.values[0]);r.push({stop:al,color:f})}else if(d.name==="to"){var f=Zp.parse(t,d.values[0]);r.push({stop:Mp,color:f})}else if(d.name==="color-stop"){var h=d.values.filter(O1);if(h.length===2){var f=Zp.parse(t,h[1]),m=h[0];yb(m)&&r.push({stop:{type:16,number:m.number*100,flags:m.flags},color:f})}}}}),s===1?{angle:(n+Yu(180))%Yu(360),stops:r,type:s}:{size:a,shape:i,stops:r,position:o,type:s}},wAe="closest-side",SAe="farthest-side",CAe="closest-corner",kAe="farthest-corner",BAe="circle",EAe="ellipse",IAe="cover",NAe="contain",A0t=function(t,e){var n=0,r=3,s=[],i=[];return CA(e).forEach(function(a,o){var c=!0;if(o===0){var u=!1;c=a.reduce(function(f,h){if(u)if(Qs(h))switch(h.value){case"center":return i.push(hz),f;case"top":case"left":return i.push(al),f;case"right":case"bottom":return i.push(Mp),f}else(za(h)||bm(h))&&i.push(h);else if(Qs(h))switch(h.value){case BAe:return n=0,!1;case EAe:return n=1,!1;case"at":return u=!0,!1;case wAe:return r=0,!1;case IAe:case SAe:return r=1,!1;case NAe:case CAe:return r=2,!1;case kAe:return r=3,!1}else if(bm(h)||za(h))return Array.isArray(r)||(r=[]),r.push(h),!1;return f},c)}if(c){var d=rj(t,a);s.push(d)}}),{size:r,shape:n,stops:s,position:i,type:2}},_k=function(t,e){var n=0,r=3,s=[],i=[];return CA(e).forEach(function(a,o){var c=!0;if(o===0?c=a.reduce(function(d,f){if(Qs(f))switch(f.value){case"center":return i.push(hz),!1;case"top":case"left":return i.push(al),!1;case"right":case"bottom":return i.push(Mp),!1}else if(za(f)||bm(f))return i.push(f),!1;return d},c):o===1&&(c=a.reduce(function(d,f){if(Qs(f))switch(f.value){case BAe:return n=0,!1;case EAe:return n=1,!1;case NAe:case wAe:return r=0,!1;case SAe:return r=1,!1;case CAe:return r=2,!1;case IAe:case kAe:return r=3,!1}else if(bm(f)||za(f))return Array.isArray(r)||(r=[]),r.push(f),!1;return d},c)),c){var u=rj(t,a);s.push(u)}}),{size:r,shape:n,stops:s,position:i,type:2}},h0t=function(t){return t.type===1},p0t=function(t){return t.type===2},pz={name:"image",parse:function(t,e){if(e.type===22){var n={url:e.value,type:0};return t.cache.addImage(e.value),n}if(e.type===18){var r=jAe[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return r(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function m0t(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!jAe[t.name])}var jAe={"linear-gradient":d0t,"-moz-linear-gradient":Tk,"-ms-linear-gradient":Tk,"-o-linear-gradient":Tk,"-webkit-linear-gradient":Tk,"radial-gradient":A0t,"-moz-radial-gradient":_k,"-ms-radial-gradient":_k,"-o-radial-gradient":_k,"-webkit-radial-gradient":_k,"-webkit-gradient":f0t},g0t={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e.filter(function(r){return O1(r)&&m0t(r)}).map(function(r){return pz.parse(t,r)})}},y0t={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(Qs(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},x0t={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return CA(e).map(function(n){return n.filter(za)}).map(pAe)}},b0t={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return CA(e).map(function(n){return n.filter(Qs).map(function(r){return r.value}).join(" ")}).map(v0t)}},v0t=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}},u1;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(u1||(u1={}));var w0t={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return CA(e).map(function(n){return n.filter(S0t)})}},S0t=function(t){return Qs(t)||za(t)},sj=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},C0t=sj("top"),k0t=sj("right"),B0t=sj("bottom"),E0t=sj("left"),ij=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,n){return pAe(n.filter(za))}}},I0t=ij("top-left"),N0t=ij("top-right"),j0t=ij("bottom-right"),T0t=ij("bottom-left"),aj=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,n){switch(n){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},_0t=aj("top"),R0t=aj("right"),O0t=aj("bottom"),F0t=aj("left"),oj=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,n){return ES(n)?n.number:0}}},D0t=oj("top"),L0t=oj("right"),$0t=oj("bottom"),P0t=oj("left"),U0t={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},z0t={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){return e==="rtl"?1:0}},M0t={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(Qs).reduce(function(n,r){return n|Q0t(r.value)},0)}},Q0t=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},H0t={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},W0t={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},pE;(function(t){t.NORMAL="normal",t.STRICT="strict"})(pE||(pE={}));var V0t={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){return e==="strict"?pE.STRICT:pE.NORMAL}},q0t={name:"line-height",initialValue:"normal",prefix:!1,type:4},_Y=function(t,e){return Qs(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:za(t)?si(t,e):e},G0t={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:pz.parse(t,e)}},K0t={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){return e==="inside"?0:1}},I8={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},lj=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},X0t=lj("top"),Y0t=lj("right"),J0t=lj("bottom"),Z0t=lj("left"),eyt={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(Qs).map(function(n){switch(n.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},tyt={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){return e==="break-word"?"break-word":"normal"}},cj=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},nyt=cj("top"),ryt=cj("right"),syt=cj("bottom"),iyt=cj("left"),ayt={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},oyt={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},lyt={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&E8(e[0],"none")?[]:CA(e).map(function(n){for(var r={color:ph.TRANSPARENT,offsetX:al,offsetY:al,blur:al},s=0,i=0;i<n.length;i++){var a=n[i];bm(a)?(s===0?r.offsetX=a:s===1?r.offsetY=a:r.blur=a,s++):r.color=Zp.parse(t,a)}return r})}},cyt={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},uyt={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var n=Ayt[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return n(e.values)}return null}},dyt=function(t){var e=t.filter(function(n){return n.type===17}).map(function(n){return n.number});return e.length===6?e:null},fyt=function(t){var e=t.filter(function(c){return c.type===17}).map(function(c){return c.number}),n=e[0],r=e[1];e[2],e[3];var s=e[4],i=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var a=e[12],o=e[13];return e[14],e[15],e.length===16?[n,r,s,i,a,o]:null},Ayt={matrix:dyt,matrix3d:fyt},RY={type:16,number:50,flags:BS},hyt=[RY,RY],pyt={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var n=e.filter(za);return n.length!==2?hyt:[n[0],n[1]]}},myt={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;default:return 0}}},l2;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(l2||(l2={}));var gyt={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return l2.BREAK_ALL;case"keep-all":return l2.KEEP_ALL;default:return l2.NORMAL}}},yyt={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(yb(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},TAe={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},xyt={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return yb(e)?e.number:1}},byt={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},vyt={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(Qs).map(function(n){switch(n.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(n){return n!==0})}},wyt={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var n=[],r=[];return e.forEach(function(s){switch(s.type){case 20:case 0:n.push(s.value);break;case 17:n.push(s.number.toString());break;case 4:r.push(n.join(" ")),n.length=0;break}}),n.length&&r.push(n.join(" ")),r.map(function(s){return s.indexOf(" ")===-1?s:"'"+s+"'"})}},Syt={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Cyt={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){return yb(e)?e.number:Qs(e)&&e.value==="bold"?700:400}},kyt={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(Qs).map(function(n){return n.value})}},Byt={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},fo=function(t,e){return(t&e)!==0},Eyt={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e}},Iyt={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;for(var r=[],s=e.filter(hAe),i=0;i<s.length;i++){var a=s[i],o=s[i+1];if(a.type===20){var c=o&&yb(o)?o.number:1;r.push({counter:a.value,increment:c})}}return r}},Nyt={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var n=[],r=e.filter(hAe),s=0;s<r.length;s++){var i=r[s],a=r[s+1];if(Qs(i)&&i.value!=="none"){var o=a&&yb(a)?a.number:0;n.push({counter:i.value,reset:o})}}return n}},jyt={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(ES).map(function(n){return TAe.parse(t,n)})}},Tyt={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;var r=[],s=e.filter(r0t);if(s.length%2!==0)return null;for(var i=0;i<s.length;i+=2){var a=s[i].value,o=s[i+1].value;r.push({open:a,close:o})}return r}},OY=function(t,e,n){if(!t)return"";var r=t[Math.min(e,t.length-1)];return r?n?r.open:r.close:""},_yt={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&E8(e[0],"none")?[]:CA(e).map(function(n){for(var r={color:255,offsetX:al,offsetY:al,blur:al,spread:al,inset:!1},s=0,i=0;i<n.length;i++){var a=n[i];E8(a,"inset")?r.inset=!0:bm(a)?(s===0?r.offsetX=a:s===1?r.offsetY=a:s===2?r.blur=a:r.spread=a,s++):r.color=Zp.parse(t,a)}return r})}},Ryt={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var n=[0,1,2],r=[];return e.filter(Qs).forEach(function(s){switch(s.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),n.forEach(function(s){r.indexOf(s)===-1&&r.push(s)}),r}},Oyt={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Fyt={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return ES(e)?e.number:0}},Dyt=(function(){function t(e,n){var r,s;this.animationDuration=ln(e,jyt,n.animationDuration),this.backgroundClip=ln(e,a0t,n.backgroundClip),this.backgroundColor=ln(e,o0t,n.backgroundColor),this.backgroundImage=ln(e,g0t,n.backgroundImage),this.backgroundOrigin=ln(e,y0t,n.backgroundOrigin),this.backgroundPosition=ln(e,x0t,n.backgroundPosition),this.backgroundRepeat=ln(e,b0t,n.backgroundRepeat),this.backgroundSize=ln(e,w0t,n.backgroundSize),this.borderTopColor=ln(e,C0t,n.borderTopColor),this.borderRightColor=ln(e,k0t,n.borderRightColor),this.borderBottomColor=ln(e,B0t,n.borderBottomColor),this.borderLeftColor=ln(e,E0t,n.borderLeftColor),this.borderTopLeftRadius=ln(e,I0t,n.borderTopLeftRadius),this.borderTopRightRadius=ln(e,N0t,n.borderTopRightRadius),this.borderBottomRightRadius=ln(e,j0t,n.borderBottomRightRadius),this.borderBottomLeftRadius=ln(e,T0t,n.borderBottomLeftRadius),this.borderTopStyle=ln(e,_0t,n.borderTopStyle),this.borderRightStyle=ln(e,R0t,n.borderRightStyle),this.borderBottomStyle=ln(e,O0t,n.borderBottomStyle),this.borderLeftStyle=ln(e,F0t,n.borderLeftStyle),this.borderTopWidth=ln(e,D0t,n.borderTopWidth),this.borderRightWidth=ln(e,L0t,n.borderRightWidth),this.borderBottomWidth=ln(e,$0t,n.borderBottomWidth),this.borderLeftWidth=ln(e,P0t,n.borderLeftWidth),this.boxShadow=ln(e,_yt,n.boxShadow),this.color=ln(e,U0t,n.color),this.direction=ln(e,z0t,n.direction),this.display=ln(e,M0t,n.display),this.float=ln(e,H0t,n.cssFloat),this.fontFamily=ln(e,wyt,n.fontFamily),this.fontSize=ln(e,Syt,n.fontSize),this.fontStyle=ln(e,Byt,n.fontStyle),this.fontVariant=ln(e,kyt,n.fontVariant),this.fontWeight=ln(e,Cyt,n.fontWeight),this.letterSpacing=ln(e,W0t,n.letterSpacing),this.lineBreak=ln(e,V0t,n.lineBreak),this.lineHeight=ln(e,q0t,n.lineHeight),this.listStyleImage=ln(e,G0t,n.listStyleImage),this.listStylePosition=ln(e,K0t,n.listStylePosition),this.listStyleType=ln(e,I8,n.listStyleType),this.marginTop=ln(e,X0t,n.marginTop),this.marginRight=ln(e,Y0t,n.marginRight),this.marginBottom=ln(e,J0t,n.marginBottom),this.marginLeft=ln(e,Z0t,n.marginLeft),this.opacity=ln(e,xyt,n.opacity);var i=ln(e,eyt,n.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=ln(e,tyt,n.overflowWrap),this.paddingTop=ln(e,nyt,n.paddingTop),this.paddingRight=ln(e,ryt,n.paddingRight),this.paddingBottom=ln(e,syt,n.paddingBottom),this.paddingLeft=ln(e,iyt,n.paddingLeft),this.paintOrder=ln(e,Ryt,n.paintOrder),this.position=ln(e,oyt,n.position),this.textAlign=ln(e,ayt,n.textAlign),this.textDecorationColor=ln(e,byt,(r=n.textDecorationColor)!==null&&r!==void 0?r:n.color),this.textDecorationLine=ln(e,vyt,(s=n.textDecorationLine)!==null&&s!==void 0?s:n.textDecoration),this.textShadow=ln(e,lyt,n.textShadow),this.textTransform=ln(e,cyt,n.textTransform),this.transform=ln(e,uyt,n.transform),this.transformOrigin=ln(e,pyt,n.transformOrigin),this.visibility=ln(e,myt,n.visibility),this.webkitTextStrokeColor=ln(e,Oyt,n.webkitTextStrokeColor),this.webkitTextStrokeWidth=ln(e,Fyt,n.webkitTextStrokeWidth),this.wordBreak=ln(e,gyt,n.wordBreak),this.zIndex=ln(e,yyt,n.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return em(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return fo(this.display,4)||fo(this.display,33554432)||fo(this.display,268435456)||fo(this.display,536870912)||fo(this.display,67108864)||fo(this.display,134217728)},t})(),Lyt=(function(){function t(e,n){this.content=ln(e,Eyt,n.content),this.quotes=ln(e,Tyt,n.quotes)}return t})(),FY=(function(){function t(e,n){this.counterIncrement=ln(e,Iyt,n.counterIncrement),this.counterReset=ln(e,Nyt,n.counterReset)}return t})(),ln=function(t,e,n){var r=new fAe,s=n!==null&&typeof n<"u"?n.toString():e.initialValue;r.write(s);var i=new AAe(r.read());switch(e.type){case 2:var a=i.parseComponentValue();return e.parse(t,Qs(a)?a.value:e.initialValue);case 0:return e.parse(t,i.parseComponentValue());case 1:return e.parse(t,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(e.format){case"angle":return nj.parse(t,i.parseComponentValue());case"color":return Zp.parse(t,i.parseComponentValue());case"image":return pz.parse(t,i.parseComponentValue());case"length":var o=i.parseComponentValue();return bm(o)?o:al;case"length-percentage":var c=i.parseComponentValue();return za(c)?c:al;case"time":return TAe.parse(t,i.parseComponentValue())}break}},$yt="data-html2canvas-debug",Pyt=function(t){var e=t.getAttribute($yt);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},N8=function(t,e){var n=Pyt(t);return n===1||e===n},kA=(function(){function t(e,n){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,N8(n,3))debugger;this.styles=new Dyt(e,window.getComputedStyle(n,null)),_8(n)&&(this.styles.animationDuration.some(function(r){return r>0})&&(n.style.animationDuration="0s"),this.styles.transform!==null&&(n.style.transform="none")),this.bounds=ej(this.context,n),N8(n,4)&&(this.flags|=16)}return t})(),Uyt="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",DY="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Yv=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Rk=0;Rk<DY.length;Rk++)Yv[DY.charCodeAt(Rk)]=Rk;var zyt=function(t){var e=t.length*.75,n=t.length,r,s=0,i,a,o,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),d=Array.isArray(u)?u:new Uint8Array(u);for(r=0;r<n;r+=4)i=Yv[t.charCodeAt(r)],a=Yv[t.charCodeAt(r+1)],o=Yv[t.charCodeAt(r+2)],c=Yv[t.charCodeAt(r+3)],d[s++]=i<<2|a>>4,d[s++]=(a&15)<<4|o>>2,d[s++]=(o&3)<<6|c&63;return u},Myt=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},Qyt=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},Lg=5,mz=11,k6=2,Hyt=mz-Lg,_Ae=65536>>Lg,Wyt=1<<Lg,B6=Wyt-1,Vyt=1024>>Lg,qyt=_Ae+Vyt,Gyt=qyt,Kyt=32,Xyt=Gyt+Kyt,Yyt=65536>>mz,Jyt=1<<Hyt,Zyt=Jyt-1,LY=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},e1t=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},t1t=function(t,e){var n=zyt(t),r=Array.isArray(n)?Qyt(n):new Uint32Array(n),s=Array.isArray(n)?Myt(n):new Uint16Array(n),i=24,a=LY(s,i/2,r[4]/2),o=r[5]===2?LY(s,(i+r[4])/2):e1t(r,Math.ceil((i+r[4])/4));return new n1t(r[0],r[1],r[2],r[3],a,o)},n1t=(function(){function t(e,n,r,s,i,a){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=s,this.index=i,this.data=a}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>Lg],n=(n<<k6)+(e&B6),this.data[n];if(e<=65535)return n=this.index[_Ae+(e-55296>>Lg)],n=(n<<k6)+(e&B6),this.data[n];if(e<this.highStart)return n=Xyt-Yyt+(e>>mz),n=this.index[n],n+=e>>Lg&Zyt,n=this.index[n],n=(n<<k6)+(e&B6),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t})(),$Y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r1t=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ok=0;Ok<$Y.length;Ok++)r1t[$Y.charCodeAt(Ok)]=Ok;var s1t=1,E6=2,I6=3,PY=4,UY=5,i1t=7,zY=8,N6=9,j6=10,MY=11,QY=12,HY=13,WY=14,T6=15,a1t=function(t){for(var e=[],n=0,r=t.length;n<r;){var s=t.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){var i=t.charCodeAt(n++);(i&64512)===56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),n--)}else e.push(s)}return e},o1t=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],s=-1,i="";++s<n;){var a=t[s];a<=65535?r.push(a):(a-=65536,r.push((a>>10)+55296,a%1024+56320)),(s+1===n||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},l1t=t1t(Uyt),Mu="",_6="",c1t=function(t){return l1t.get(t)},u1t=function(t,e,n){var r=n-2,s=e[r],i=e[n-1],a=e[n];if(i===E6&&a===I6)return Mu;if(i===E6||i===I6||i===PY||a===E6||a===I6||a===PY)return _6;if(i===zY&&[zY,N6,MY,QY].indexOf(a)!==-1||(i===MY||i===N6)&&(a===N6||a===j6)||(i===QY||i===j6)&&a===j6||a===HY||a===UY||a===i1t||i===s1t)return Mu;if(i===HY&&a===WY){for(;s===UY;)s=e[--r];if(s===WY)return Mu}if(i===T6&&a===T6){for(var o=0;s===T6;)o++,s=e[--r];if(o%2===0)return Mu}return _6},d1t=function(t){var e=a1t(t),n=e.length,r=0,s=0,i=e.map(c1t);return{next:function(){if(r>=n)return{done:!0,value:null};for(var a=Mu;r<n&&(a=u1t(e,i,++r))===Mu;);if(a!==Mu||r===n){var o=o1t.apply(null,e.slice(s,r));return s=r,{value:o,done:!1}}return{done:!0,value:null}}}},f1t=function(t){for(var e=d1t(t),n=[],r;!(r=e.next()).done;)r.value&&n.push(r.value.slice());return n},A1t=function(t){var e=123;if(t.createRange){var n=t.createRange();if(n.getBoundingClientRect){var r=t.createElement("boundtest");r.style.height=e+"px",r.style.display="block",t.body.appendChild(r),n.selectNode(r);var s=n.getBoundingClientRect(),i=Math.round(s.height);if(t.body.removeChild(r),i===e)return!0}}return!1},h1t=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var n=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=e.firstChild,s=tj(r.data).map(function(c){return Ia(c)}),i=0,a={},o=s.every(function(c,u){n.setStart(r,i),n.setEnd(r,i+c.length);var d=n.getBoundingClientRect();i+=c.length;var f=d.x>a.x||d.y>a.y;return a=d,u===0?!0:f});return t.body.removeChild(e),o},p1t=function(){return typeof new Image().crossOrigin<"u"},m1t=function(){return typeof new XMLHttpRequest().responseType=="string"},g1t=function(t){var e=new Image,n=t.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(e,0,0),n.toDataURL()}catch{return!1}return!0},VY=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},y1t=function(t){var e=t.createElement("canvas"),n=100;e.width=n,e.height=n;var r=e.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var s=new Image,i=e.toDataURL();s.src=i;var a=j8(n,n,0,0,s);return r.fillStyle="red",r.fillRect(0,0,n,n),qY(a).then(function(o){r.drawImage(o,0,0);var c=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var u=t.createElement("div");return u.style.backgroundImage="url("+i+")",u.style.height=n+"px",VY(c)?qY(j8(n,n,0,0,u)):Promise.reject(!1)}).then(function(o){return r.drawImage(o,0,0),VY(r.getImageData(0,0,n,n).data)}).catch(function(){return!1})},j8=function(t,e,n,r,s){var i="http://www.w3.org/2000/svg",a=document.createElementNS(i,"svg"),o=document.createElementNS(i,"foreignObject");return a.setAttributeNS(null,"width",t.toString()),a.setAttributeNS(null,"height",e.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",n.toString()),o.setAttributeNS(null,"y",r.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(o),o.appendChild(s),a},qY=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){return e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},sl={get SUPPORT_RANGE_BOUNDS(){var t=A1t(document);return Object.defineProperty(sl,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=sl.SUPPORT_RANGE_BOUNDS&&h1t(document);return Object.defineProperty(sl,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=g1t(document);return Object.defineProperty(sl,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?y1t(document):Promise.resolve(!1);return Object.defineProperty(sl,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=p1t();return Object.defineProperty(sl,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=m1t();return Object.defineProperty(sl,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(sl,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(sl,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},c2=(function(){function t(e,n){this.text=e,this.bounds=n}return t})(),x1t=function(t,e,n,r){var s=w1t(e,n),i=[],a=0;return s.forEach(function(o){if(n.textDecorationLine.length||o.trim().length>0)if(sl.SUPPORT_RANGE_BOUNDS){var c=GY(r,a,o.length).getClientRects();if(c.length>1){var u=gz(o),d=0;u.forEach(function(h){i.push(new c2(h,Rh.fromDOMRectList(t,GY(r,d+a,h.length).getClientRects()))),d+=h.length})}else i.push(new c2(o,Rh.fromDOMRectList(t,c)))}else{var f=r.splitText(o.length);i.push(new c2(o,b1t(t,r))),r=f}else sl.SUPPORT_RANGE_BOUNDS||(r=r.splitText(o.length));a+=o.length}),i},b1t=function(t,e){var n=e.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(e.cloneNode(!0));var s=e.parentNode;if(s){s.replaceChild(r,e);var i=ej(t,r);return r.firstChild&&s.replaceChild(r.firstChild,r),i}}return Rh.EMPTY},GY=function(t,e,n){var r=t.ownerDocument;if(!r)throw new Error("Node has no owner document");var s=r.createRange();return s.setStart(t,e),s.setEnd(t,e+n),s},gz=function(t){if(sl.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(n){return n.segment})}return f1t(t)},v1t=function(t,e){if(sl.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(t)).map(function(r){return r.segment})}return C1t(t,e)},w1t=function(t,e){return e.letterSpacing!==0?gz(t):v1t(t,e)},S1t=[32,160,4961,65792,65793,4153,4241],C1t=function(t,e){for(var n=Ymt(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),r=[],s,i=function(){if(s.value){var a=s.value.slice(),o=tj(a),c="";o.forEach(function(u){S1t.indexOf(u)===-1?c+=Ia(u):(c.length&&r.push(c),r.push(Ia(u)),c="")}),c.length&&r.push(c)}};!(s=n.next()).done;)i();return r},k1t=(function(){function t(e,n,r){this.text=B1t(n.data,r.textTransform),this.textBounds=x1t(e,this.text,r,n)}return t})(),B1t=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(E1t,I1t);case 2:return t.toUpperCase();default:return t}},E1t=/(^|\s|:|-|\(|\))([a-z])/g,I1t=function(t,e,n){return t.length>0?e+n.toUpperCase():t},RAe=(function(t){yf(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.src=r.currentSrc||r.src,s.intrinsicWidth=r.naturalWidth,s.intrinsicHeight=r.naturalHeight,s.context.cache.addImage(s.src),s}return e})(kA),OAe=(function(t){yf(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.canvas=r,s.intrinsicWidth=r.width,s.intrinsicHeight=r.height,s}return e})(kA),FAe=(function(t){yf(e,t);function e(n,r){var s=t.call(this,n,r)||this,i=new XMLSerializer,a=ej(n,r);return r.setAttribute("width",a.width+"px"),r.setAttribute("height",a.height+"px"),s.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(r)),s.intrinsicWidth=r.width.baseVal.value,s.intrinsicHeight=r.height.baseVal.value,s.context.cache.addImage(s.svg),s}return e})(kA),DAe=(function(t){yf(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.value=r.value,s}return e})(kA),T8=(function(t){yf(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.start=r.start,s.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,s}return e})(kA),N1t=[{type:15,flags:0,unit:"px",number:3}],j1t=[{type:16,flags:0,number:50}],T1t=function(t){return t.width>t.height?new Rh(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new Rh(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},_1t=function(t){var e=t.type===R1t?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},mE="checkbox",gE="radio",R1t="password",KY=707406591,yz=(function(t){yf(e,t);function e(n,r){var s=t.call(this,n,r)||this;switch(s.type=r.type.toLowerCase(),s.checked=r.checked,s.value=_1t(r),(s.type===mE||s.type===gE)&&(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=T1t(s.bounds)),s.type){case mE:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=N1t;break;case gE:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=j1t;break}return s}return e})(kA),LAe=(function(t){yf(e,t);function e(n,r){var s=t.call(this,n,r)||this,i=r.options[r.selectedIndex||0];return s.value=i&&i.text||"",s}return e})(kA),$Ae=(function(t){yf(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.value=r.value,s}return e})(kA),PAe=(function(t){yf(e,t);function e(n,r){var s=t.call(this,n,r)||this;s.src=r.src,s.width=parseInt(r.width,10)||0,s.height=parseInt(r.height,10)||0,s.backgroundColor=s.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){s.tree=zAe(n,r.contentWindow.document.documentElement);var i=r.contentWindow.document.documentElement?o2(n,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):ph.TRANSPARENT,a=r.contentWindow.document.body?o2(n,getComputedStyle(r.contentWindow.document.body).backgroundColor):ph.TRANSPARENT;s.backgroundColor=em(i)?em(a)?s.styles.backgroundColor:a:i}}catch{}return s}return e})(kA),O1t=["OL","UL","MENU"],BB=function(t,e,n,r){for(var s=e.firstChild,i=void 0;s;s=i)if(i=s.nextSibling,MAe(s)&&s.data.trim().length>0)n.textNodes.push(new k1t(t,s,n.styles));else if(Yy(s))if(VAe(s)&&s.assignedNodes)s.assignedNodes().forEach(function(o){return BB(t,o,n,r)});else{var a=UAe(t,s);a.styles.isVisible()&&(F1t(s,a,r)?a.flags|=4:D1t(a.styles)&&(a.flags|=2),O1t.indexOf(s.tagName)!==-1&&(a.flags|=8),n.elements.push(a),s.slot,s.shadowRoot?BB(t,s.shadowRoot,a,r):!yE(s)&&!QAe(s)&&!xE(s)&&BB(t,s,a,r))}},UAe=function(t,e){return R8(e)?new RAe(t,e):HAe(e)?new OAe(t,e):QAe(e)?new FAe(t,e):L1t(e)?new DAe(t,e):$1t(e)?new T8(t,e):P1t(e)?new yz(t,e):xE(e)?new LAe(t,e):yE(e)?new $Ae(t,e):WAe(e)?new PAe(t,e):new kA(t,e)},zAe=function(t,e){var n=UAe(t,e);return n.flags|=4,BB(t,e,n,n),n},F1t=function(t,e,n){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||xz(t)&&n.styles.isTransparent()},D1t=function(t){return t.isPositioned()||t.isFloating()},MAe=function(t){return t.nodeType===Node.TEXT_NODE},Yy=function(t){return t.nodeType===Node.ELEMENT_NODE},_8=function(t){return Yy(t)&&typeof t.style<"u"&&!EB(t)},EB=function(t){return typeof t.className=="object"},L1t=function(t){return t.tagName==="LI"},$1t=function(t){return t.tagName==="OL"},P1t=function(t){return t.tagName==="INPUT"},U1t=function(t){return t.tagName==="HTML"},QAe=function(t){return t.tagName==="svg"},xz=function(t){return t.tagName==="BODY"},HAe=function(t){return t.tagName==="CANVAS"},XY=function(t){return t.tagName==="VIDEO"},R8=function(t){return t.tagName==="IMG"},WAe=function(t){return t.tagName==="IFRAME"},YY=function(t){return t.tagName==="STYLE"},z1t=function(t){return t.tagName==="SCRIPT"},yE=function(t){return t.tagName==="TEXTAREA"},xE=function(t){return t.tagName==="SELECT"},VAe=function(t){return t.tagName==="SLOT"},JY=function(t){return t.tagName.indexOf("-")>0},M1t=(function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var n=this.counters[e];return n&&n.length?n[n.length-1]:1},t.prototype.getCounterValues=function(e){var n=this.counters[e];return n||[]},t.prototype.pop=function(e){var n=this;e.forEach(function(r){return n.counters[r].pop()})},t.prototype.parse=function(e){var n=this,r=e.counterIncrement,s=e.counterReset,i=!0;r!==null&&r.forEach(function(o){var c=n.counters[o.counter];c&&o.increment!==0&&(i=!1,c.length||c.push(1),c[Math.max(0,c.length-1)]+=o.increment)});var a=[];return i&&s.forEach(function(o){var c=n.counters[o.counter];a.push(o.counter),c||(c=n.counters[o.counter]=[]),c.push(o.reset)}),a},t})(),ZY={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},eJ={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Q1t={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},H1t={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},jy=function(t,e,n,r,s,i){return t<e||t>n?sw(t,s,i.length>0):r.integers.reduce(function(a,o,c){for(;t>=o;)t-=o,a+=r.values[c];return a},"")+i},qAe=function(t,e,n,r){var s="";do n||t--,s=r(t)+s,t/=e;while(t*e>=e);return s},Ea=function(t,e,n,r,s){var i=n-e+1;return(t<0?"-":"")+(qAe(Math.abs(t),i,r,function(a){return Ia(Math.floor(a%i)+e)})+s)},eg=function(t,e,n){n===void 0&&(n=". ");var r=e.length;return qAe(Math.abs(t),r,!1,function(s){return e[Math.floor(s%r)]})+n},My=1,Ip=2,Np=4,Jv=8,JA=function(t,e,n,r,s,i){if(t<-9999||t>9999)return sw(t,4,s.length>0);var a=Math.abs(t),o=s;if(a===0)return e[0]+o;for(var c=0;a>0&&c<=4;c++){var u=a%10;u===0&&fo(i,My)&&o!==""?o=e[u]+o:u>1||u===1&&c===0||u===1&&c===1&&fo(i,Ip)||u===1&&c===1&&fo(i,Np)&&t>100||u===1&&c>1&&fo(i,Jv)?o=e[u]+(c>0?n[c-1]:"")+o:u===1&&c>0&&(o=n[c-1]+o),a=Math.floor(a/10)}return(t<0?r:"")+o},tJ="",nJ="",rJ="",R6="",sw=function(t,e,n){var r=n?". ":"",s=n?"":"",i=n?", ":"",a=n?" ":"";switch(e){case 0:return""+a;case 1:return""+a;case 2:return""+a;case 5:var o=Ea(t,48,57,!0,r);return o.length<4?"0"+o:o;case 4:return eg(t,"",s);case 6:return jy(t,1,3999,ZY,3,r).toLowerCase();case 7:return jy(t,1,3999,ZY,3,r);case 8:return Ea(t,945,969,!1,r);case 9:return Ea(t,97,122,!1,r);case 10:return Ea(t,65,90,!1,r);case 11:return Ea(t,1632,1641,!0,r);case 12:case 49:return jy(t,1,9999,eJ,3,r);case 35:return jy(t,1,9999,eJ,3,r).toLowerCase();case 13:return Ea(t,2534,2543,!0,r);case 14:case 30:return Ea(t,6112,6121,!0,r);case 15:return eg(t,"",s);case 16:return eg(t,"",s);case 17:case 48:return JA(t,"",tJ,"",s,Ip|Np|Jv);case 47:return JA(t,"",nJ,"",s,My|Ip|Np|Jv);case 42:return JA(t,"",tJ,"",s,Ip|Np|Jv);case 41:return JA(t,"",nJ,"",s,My|Ip|Np|Jv);case 26:return JA(t,"","",rJ,s,0);case 25:return JA(t,"","",rJ,s,My|Ip|Np);case 31:return JA(t,"","",R6,i,My|Ip|Np);case 33:return JA(t,"","",R6,i,0);case 32:return JA(t,"","",R6,i,My|Ip|Np);case 18:return Ea(t,2406,2415,!0,r);case 20:return jy(t,1,19999,H1t,3,r);case 21:return Ea(t,2790,2799,!0,r);case 22:return Ea(t,2662,2671,!0,r);case 22:return jy(t,1,10999,Q1t,3,r);case 23:return eg(t,"");case 24:return eg(t,"");case 27:return Ea(t,3302,3311,!0,r);case 28:return eg(t,"",s);case 29:return eg(t,"",s);case 34:return Ea(t,3792,3801,!0,r);case 37:return Ea(t,6160,6169,!0,r);case 38:return Ea(t,4160,4169,!0,r);case 39:return Ea(t,2918,2927,!0,r);case 40:return Ea(t,1776,1785,!0,r);case 43:return Ea(t,3046,3055,!0,r);case 44:return Ea(t,3174,3183,!0,r);case 45:return Ea(t,3664,3673,!0,r);case 46:return Ea(t,3872,3881,!0,r);default:return Ea(t,48,57,!0,r)}},GAe="data-html2canvas-ignore",sJ=(function(){function t(e,n,r){if(this.context=e,this.options=r,this.scrolledElements=[],this.referenceElement=n,this.counters=new M1t,this.quoteDepth=0,!n.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(n.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,n){var r=this,s=W1t(e,n);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var i=e.defaultView.pageXOffset,a=e.defaultView.pageYOffset,o=s.contentWindow,c=o.document,u=G1t(s).then(function(){return Ml(r,void 0,void 0,function(){var d,f;return xl(this,function(h){switch(h.label){case 0:return this.scrolledElements.forEach(J1t),o&&(o.scrollTo(n.left,n.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==n.top||o.scrollX!==n.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-n.left,o.scrollY-n.top,0,0))),d=this.options.onclone,f=this.clonedReferenceElement,typeof f>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:h.sent(),h.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,q1t(c)]:[3,4];case 3:h.sent(),h.label=4;case 4:return typeof d=="function"?[2,Promise.resolve().then(function(){return d(c,f)}).then(function(){return s})]:[2,s]}})})});return c.open(),c.write(X1t(document.doctype)+"<html></html>"),Y1t(this.referenceElement.ownerDocument,i,a),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),u},t.prototype.createElementClone=function(e){if(N8(e,2))debugger;if(HAe(e))return this.createCanvasClone(e);if(XY(e))return this.createVideoClone(e);if(YY(e))return this.createStyleClone(e);var n=e.cloneNode(!1);return R8(n)&&(R8(e)&&e.currentSrc&&e.currentSrc!==e.src&&(n.src=e.currentSrc,n.srcset=""),n.loading==="lazy"&&(n.loading="eager")),JY(n)?this.createCustomElementClone(n):n},t.prototype.createCustomElementClone=function(e){var n=document.createElement("html2canvascustomelement");return O6(e.style,n),n},t.prototype.createStyleClone=function(e){try{var n=e.sheet;if(n&&n.cssRules){var r=[].slice.call(n.cssRules,0).reduce(function(i,a){return a&&typeof a.cssText=="string"?i+a.cssText:i},""),s=e.cloneNode(!1);return s.textContent=r,s}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var n;if(this.options.inlineImages&&e.ownerDocument){var r=e.ownerDocument.createElement("img");try{return r.src=e.toDataURL(),r}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var s=e.cloneNode(!1);try{s.width=e.width,s.height=e.height;var i=e.getContext("2d"),a=s.getContext("2d");if(a)if(!this.options.allowTaint&&i)a.putImageData(i.getImageData(0,0,e.width,e.height),0,0);else{var o=(n=e.getContext("webgl2"))!==null&&n!==void 0?n:e.getContext("webgl");if(o){var c=o.getContextAttributes();c?.preserveDrawingBuffer===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}a.drawImage(e,0,0)}return s}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return s},t.prototype.createVideoClone=function(e){var n=e.ownerDocument.createElement("canvas");n.width=e.offsetWidth,n.height=e.offsetHeight;var r=n.getContext("2d");try{return r&&(r.drawImage(e,0,0,n.width,n.height),this.options.allowTaint||r.getImageData(0,0,n.width,n.height)),n}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var s=e.ownerDocument.createElement("canvas");return s.width=e.offsetWidth,s.height=e.offsetHeight,s},t.prototype.appendChildNode=function(e,n,r){(!Yy(n)||!z1t(n)&&!n.hasAttribute(GAe)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(n)))&&(!this.options.copyStyles||!Yy(n)||!YY(n))&&e.appendChild(this.cloneNode(n,r))},t.prototype.cloneChildNodes=function(e,n,r){for(var s=this,i=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;i;i=i.nextSibling)if(Yy(i)&&VAe(i)&&typeof i.assignedNodes=="function"){var a=i.assignedNodes();a.length&&a.forEach(function(o){return s.appendChildNode(n,o,r)})}else this.appendChildNode(n,i,r)},t.prototype.cloneNode=function(e,n){if(MAe(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var r=e.ownerDocument.defaultView;if(r&&Yy(e)&&(_8(e)||EB(e))){var s=this.createElementClone(e);s.style.transitionProperty="none";var i=r.getComputedStyle(e),a=r.getComputedStyle(e,":before"),o=r.getComputedStyle(e,":after");this.referenceElement===e&&_8(s)&&(this.clonedReferenceElement=s),xz(s)&&txt(s);var c=this.counters.parse(new FY(this.context,i)),u=this.resolvePseudoContent(e,s,a,u2.BEFORE);JY(e)&&(n=!0),XY(e)||this.cloneChildNodes(e,s,n),u&&s.insertBefore(u,s.firstChild);var d=this.resolvePseudoContent(e,s,o,u2.AFTER);return d&&s.appendChild(d),this.counters.pop(c),(i&&(this.options.copyStyles||EB(e))&&!WAe(e)||n)&&O6(i,s),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([s,e.scrollLeft,e.scrollTop]),(yE(e)||xE(e))&&(yE(s)||xE(s))&&(s.value=e.value),s}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,n,r,s){var i=this;if(r){var a=r.content,o=n.ownerDocument;if(!(!o||!a||a==="none"||a==="-moz-alt-content"||r.display==="none")){this.counters.parse(new FY(this.context,r));var c=new Lyt(this.context,r),u=o.createElement("html2canvaspseudoelement");O6(r,u),c.content.forEach(function(f){if(f.type===0)u.appendChild(o.createTextNode(f.value));else if(f.type===22){var h=o.createElement("img");h.src=f.value,h.style.opacity="1",u.appendChild(h)}else if(f.type===18){if(f.name==="attr"){var m=f.values.filter(Qs);m.length&&u.appendChild(o.createTextNode(e.getAttribute(m[0].value)||""))}else if(f.name==="counter"){var g=f.values.filter(O1),y=g[0],x=g[1];if(y&&Qs(y)){var v=i.counters.getCounterValue(y.value),w=x&&Qs(x)?I8.parse(i.context,x.value):3;u.appendChild(o.createTextNode(sw(v,w,!1)))}}else if(f.name==="counters"){var B=f.values.filter(O1),y=B[0],k=B[1],x=B[2];if(y&&Qs(y)){var E=i.counters.getCounterValues(y.value),N=x&&Qs(x)?I8.parse(i.context,x.value):3,O=k&&k.type===0?k.value:"",F=E.map(function(j){return sw(j,N,!1)}).join(O);u.appendChild(o.createTextNode(F))}}}else if(f.type===20)switch(f.value){case"open-quote":u.appendChild(o.createTextNode(OY(c.quotes,i.quoteDepth++,!0)));break;case"close-quote":u.appendChild(o.createTextNode(OY(c.quotes,--i.quoteDepth,!1)));break;default:u.appendChild(o.createTextNode(f.value))}}),u.className=O8+" "+F8;var d=s===u2.BEFORE?" "+O8:" "+F8;return EB(n)?n.className.baseValue+=d:n.className+=d,u}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t})(),u2;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(u2||(u2={}));var W1t=function(t,e){var n=t.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=e.width.toString(),n.height=e.height.toString(),n.scrolling="no",n.setAttribute(GAe,"true"),t.body.appendChild(n),n},V1t=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},q1t=function(t){return Promise.all([].slice.call(t.images,0).map(V1t))},G1t=function(t){return new Promise(function(e,n){var r=t.contentWindow;if(!r)return n("No window assigned for iframe");var s=r.document;r.onload=t.onload=function(){r.onload=t.onload=null;var i=setInterval(function(){s.body.childNodes.length>0&&s.readyState==="complete"&&(clearInterval(i),e(t))},50)}})},K1t=["all","d","content"],O6=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t.item(n);K1t.indexOf(r)===-1&&e.style.setProperty(r,t.getPropertyValue(r))}return e},X1t=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},Y1t=function(t,e,n){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||n!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,n)},J1t=function(t){var e=t[0],n=t[1],r=t[2];e.scrollLeft=n,e.scrollTop=r},Z1t=":before",ext=":after",O8="___html2canvas___pseudoelement_before",F8="___html2canvas___pseudoelement_after",iJ=`{
    content: "" !important;
    display: none !important;
}`,txt=function(t){nxt(t,"."+O8+Z1t+iJ+`
         .`+F8+ext+iJ)},nxt=function(t,e){var n=t.ownerDocument;if(n){var r=n.createElement("style");r.textContent=e,t.appendChild(r)}},KAe=(function(){function t(){}return t.getOrigin=function(e){var n=t._link;return n?(n.href=e,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t})(),rxt=(function(){function t(e,n){this.context=e,this._options=n,this._cache={}}return t.prototype.addImage=function(e){var n=Promise.resolve();return this.has(e)||(D6(e)||oxt(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),n},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return Ml(this,void 0,void 0,function(){var n,r,s,i,a=this;return xl(this,function(o){switch(o.label){case 0:return n=KAe.isSameOrigin(e),r=!F6(e)&&this._options.useCORS===!0&&sl.SUPPORT_CORS_IMAGES&&!n,s=!F6(e)&&!n&&!D6(e)&&typeof this._options.proxy=="string"&&sl.SUPPORT_CORS_XHR&&!r,!n&&this._options.allowTaint===!1&&!F6(e)&&!D6(e)&&!s&&!r?[2]:(i=e,s?[4,this.proxy(i)]:[3,2]);case 1:i=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(c,u){var d=new Image;d.onload=function(){return c(d)},d.onerror=u,(lxt(i)||r)&&(d.crossOrigin="anonymous"),d.src=i,d.complete===!0&&setTimeout(function(){return c(d)},500),a._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var n=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var s=e.substring(0,256);return new Promise(function(i,a){var o=sl.SUPPORT_RESPONSE_TYPE?"blob":"text",c=new XMLHttpRequest;c.onload=function(){if(c.status===200)if(o==="text")i(c.response);else{var f=new FileReader;f.addEventListener("load",function(){return i(f.result)},!1),f.addEventListener("error",function(h){return a(h)},!1),f.readAsDataURL(c.response)}else a("Failed to proxy resource "+s+" with status code "+c.status)},c.onerror=a;var u=r.indexOf("?")>-1?"&":"?";if(c.open("GET",""+r+u+"url="+encodeURIComponent(e)+"&responseType="+o),o!=="text"&&c instanceof XMLHttpRequest&&(c.responseType=o),n._options.imageTimeout){var d=n._options.imageTimeout;c.timeout=d,c.ontimeout=function(){return a("Timed out ("+d+"ms) proxying "+s)}}c.send()})},t})(),sxt=/^data:image\/svg\+xml/i,ixt=/^data:image\/.*;base64,/i,axt=/^data:image\/.*/i,oxt=function(t){return sl.SUPPORT_SVG_DRAWING||!cxt(t)},F6=function(t){return axt.test(t)},lxt=function(t){return ixt.test(t)},D6=function(t){return t.substr(0,4)==="blob"},cxt=function(t){return t.substr(-3).toLowerCase()==="svg"||sxt.test(t)},tn=(function(){function t(e,n){this.type=0,this.x=e,this.y=n}return t.prototype.add=function(e,n){return new t(this.x+e,this.y+n)},t})(),Ty=function(t,e,n){return new tn(t.x+(e.x-t.x)*n,t.y+(e.y-t.y)*n)},Fk=(function(){function t(e,n,r,s){this.type=1,this.start=e,this.startControl=n,this.endControl=r,this.end=s}return t.prototype.subdivide=function(e,n){var r=Ty(this.start,this.startControl,e),s=Ty(this.startControl,this.endControl,e),i=Ty(this.endControl,this.end,e),a=Ty(r,s,e),o=Ty(s,i,e),c=Ty(a,o,e);return n?new t(this.start,r,a,c):new t(c,o,i,this.end)},t.prototype.add=function(e,n){return new t(this.start.add(e,n),this.startControl.add(e,n),this.endControl.add(e,n),this.end.add(e,n))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t})(),Wu=function(t){return t.type===1},uxt=(function(){function t(e){var n=e.styles,r=e.bounds,s=Xv(n.borderTopLeftRadius,r.width,r.height),i=s[0],a=s[1],o=Xv(n.borderTopRightRadius,r.width,r.height),c=o[0],u=o[1],d=Xv(n.borderBottomRightRadius,r.width,r.height),f=d[0],h=d[1],m=Xv(n.borderBottomLeftRadius,r.width,r.height),g=m[0],y=m[1],x=[];x.push((i+c)/r.width),x.push((g+f)/r.width),x.push((a+y)/r.height),x.push((u+h)/r.height);var v=Math.max.apply(Math,x);v>1&&(i/=v,a/=v,c/=v,u/=v,f/=v,h/=v,g/=v,y/=v);var w=r.width-c,B=r.height-h,k=r.width-f,E=r.height-y,N=n.borderTopWidth,O=n.borderRightWidth,F=n.borderBottomWidth,D=n.borderLeftWidth,T=si(n.paddingTop,e.bounds.width),j=si(n.paddingRight,e.bounds.width),P=si(n.paddingBottom,e.bounds.width),U=si(n.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||a>0?Fi(r.left+D/3,r.top+N/3,i-D/3,a-N/3,xs.TOP_LEFT):new tn(r.left+D/3,r.top+N/3),this.topRightBorderDoubleOuterBox=i>0||a>0?Fi(r.left+w,r.top+N/3,c-O/3,u-N/3,xs.TOP_RIGHT):new tn(r.left+r.width-O/3,r.top+N/3),this.bottomRightBorderDoubleOuterBox=f>0||h>0?Fi(r.left+k,r.top+B,f-O/3,h-F/3,xs.BOTTOM_RIGHT):new tn(r.left+r.width-O/3,r.top+r.height-F/3),this.bottomLeftBorderDoubleOuterBox=g>0||y>0?Fi(r.left+D/3,r.top+E,g-D/3,y-F/3,xs.BOTTOM_LEFT):new tn(r.left+D/3,r.top+r.height-F/3),this.topLeftBorderDoubleInnerBox=i>0||a>0?Fi(r.left+D*2/3,r.top+N*2/3,i-D*2/3,a-N*2/3,xs.TOP_LEFT):new tn(r.left+D*2/3,r.top+N*2/3),this.topRightBorderDoubleInnerBox=i>0||a>0?Fi(r.left+w,r.top+N*2/3,c-O*2/3,u-N*2/3,xs.TOP_RIGHT):new tn(r.left+r.width-O*2/3,r.top+N*2/3),this.bottomRightBorderDoubleInnerBox=f>0||h>0?Fi(r.left+k,r.top+B,f-O*2/3,h-F*2/3,xs.BOTTOM_RIGHT):new tn(r.left+r.width-O*2/3,r.top+r.height-F*2/3),this.bottomLeftBorderDoubleInnerBox=g>0||y>0?Fi(r.left+D*2/3,r.top+E,g-D*2/3,y-F*2/3,xs.BOTTOM_LEFT):new tn(r.left+D*2/3,r.top+r.height-F*2/3),this.topLeftBorderStroke=i>0||a>0?Fi(r.left+D/2,r.top+N/2,i-D/2,a-N/2,xs.TOP_LEFT):new tn(r.left+D/2,r.top+N/2),this.topRightBorderStroke=i>0||a>0?Fi(r.left+w,r.top+N/2,c-O/2,u-N/2,xs.TOP_RIGHT):new tn(r.left+r.width-O/2,r.top+N/2),this.bottomRightBorderStroke=f>0||h>0?Fi(r.left+k,r.top+B,f-O/2,h-F/2,xs.BOTTOM_RIGHT):new tn(r.left+r.width-O/2,r.top+r.height-F/2),this.bottomLeftBorderStroke=g>0||y>0?Fi(r.left+D/2,r.top+E,g-D/2,y-F/2,xs.BOTTOM_LEFT):new tn(r.left+D/2,r.top+r.height-F/2),this.topLeftBorderBox=i>0||a>0?Fi(r.left,r.top,i,a,xs.TOP_LEFT):new tn(r.left,r.top),this.topRightBorderBox=c>0||u>0?Fi(r.left+w,r.top,c,u,xs.TOP_RIGHT):new tn(r.left+r.width,r.top),this.bottomRightBorderBox=f>0||h>0?Fi(r.left+k,r.top+B,f,h,xs.BOTTOM_RIGHT):new tn(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=g>0||y>0?Fi(r.left,r.top+E,g,y,xs.BOTTOM_LEFT):new tn(r.left,r.top+r.height),this.topLeftPaddingBox=i>0||a>0?Fi(r.left+D,r.top+N,Math.max(0,i-D),Math.max(0,a-N),xs.TOP_LEFT):new tn(r.left+D,r.top+N),this.topRightPaddingBox=c>0||u>0?Fi(r.left+Math.min(w,r.width-O),r.top+N,w>r.width+O?0:Math.max(0,c-O),Math.max(0,u-N),xs.TOP_RIGHT):new tn(r.left+r.width-O,r.top+N),this.bottomRightPaddingBox=f>0||h>0?Fi(r.left+Math.min(k,r.width-D),r.top+Math.min(B,r.height-F),Math.max(0,f-O),Math.max(0,h-F),xs.BOTTOM_RIGHT):new tn(r.left+r.width-O,r.top+r.height-F),this.bottomLeftPaddingBox=g>0||y>0?Fi(r.left+D,r.top+Math.min(E,r.height-F),Math.max(0,g-D),Math.max(0,y-F),xs.BOTTOM_LEFT):new tn(r.left+D,r.top+r.height-F),this.topLeftContentBox=i>0||a>0?Fi(r.left+D+U,r.top+N+T,Math.max(0,i-(D+U)),Math.max(0,a-(N+T)),xs.TOP_LEFT):new tn(r.left+D+U,r.top+N+T),this.topRightContentBox=c>0||u>0?Fi(r.left+Math.min(w,r.width+D+U),r.top+N+T,w>r.width+D+U?0:c-D+U,u-(N+T),xs.TOP_RIGHT):new tn(r.left+r.width-(O+j),r.top+N+T),this.bottomRightContentBox=f>0||h>0?Fi(r.left+Math.min(k,r.width-(D+U)),r.top+Math.min(B,r.height+N+T),Math.max(0,f-(O+j)),h-(F+P),xs.BOTTOM_RIGHT):new tn(r.left+r.width-(O+j),r.top+r.height-(F+P)),this.bottomLeftContentBox=g>0||y>0?Fi(r.left+D+U,r.top+E,Math.max(0,g-(D+U)),y-(F+P),xs.BOTTOM_LEFT):new tn(r.left+D+U,r.top+r.height-(F+P))}return t})(),xs;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(xs||(xs={}));var Fi=function(t,e,n,r,s){var i=4*((Math.sqrt(2)-1)/3),a=n*i,o=r*i,c=t+n,u=e+r;switch(s){case xs.TOP_LEFT:return new Fk(new tn(t,u),new tn(t,u-o),new tn(c-a,e),new tn(c,e));case xs.TOP_RIGHT:return new Fk(new tn(t,e),new tn(t+a,e),new tn(c,u-o),new tn(c,u));case xs.BOTTOM_RIGHT:return new Fk(new tn(c,e),new tn(c,e+o),new tn(t+a,u),new tn(t,u));case xs.BOTTOM_LEFT:default:return new Fk(new tn(c,u),new tn(c-a,u),new tn(t,e+o),new tn(t,e))}},bE=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},dxt=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},vE=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},fxt=(function(){function t(e,n,r){this.offsetX=e,this.offsetY=n,this.matrix=r,this.type=0,this.target=6}return t})(),Dk=(function(){function t(e,n){this.path=e,this.target=n,this.type=1}return t})(),Axt=(function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t})(),hxt=function(t){return t.type===0},XAe=function(t){return t.type===1},pxt=function(t){return t.type===2},aJ=function(t,e){return t.length===e.length?t.some(function(n,r){return n===e[r]}):!1},mxt=function(t,e,n,r,s){return t.map(function(i,a){switch(a){case 0:return i.add(e,n);case 1:return i.add(e+r,n);case 2:return i.add(e+r,n+s);case 3:return i.add(e,n+s)}return i})},YAe=(function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t})(),JAe=(function(){function t(e,n){if(this.container=e,this.parent=n,this.effects=[],this.curves=new uxt(this.container),this.container.styles.opacity<1&&this.effects.push(new Axt(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,s=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new fxt(r,s,i))}if(this.container.styles.overflowX!==0){var a=bE(this.curves),o=vE(this.curves);aJ(a,o)?this.effects.push(new Dk(a,6)):(this.effects.push(new Dk(a,2)),this.effects.push(new Dk(o,4)))}}return t.prototype.getEffects=function(e){for(var n=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,s=this.effects.slice(0);r;){var i=r.effects.filter(function(c){return!XAe(c)});if(n||r.container.styles.position!==0||!r.parent){if(s.unshift.apply(s,i),n=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var a=bE(r.curves),o=vE(r.curves);aJ(a,o)||s.unshift(new Dk(o,6))}}else s.unshift.apply(s,i);r=r.parent}return s.filter(function(c){return fo(c.target,e)})},t})(),D8=function(t,e,n,r){t.container.elements.forEach(function(s){var i=fo(s.flags,4),a=fo(s.flags,2),o=new JAe(s,t);fo(s.styles.display,2048)&&r.push(o);var c=fo(s.flags,8)?[]:r;if(i||a){var u=i||s.styles.isPositioned()?n:e,d=new YAe(o);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var f=s.styles.zIndex.order;if(f<0){var h=0;u.negativeZIndex.some(function(g,y){return f>g.element.container.styles.zIndex.order?(h=y,!1):h>0}),u.negativeZIndex.splice(h,0,d)}else if(f>0){var m=0;u.positiveZIndex.some(function(g,y){return f>=g.element.container.styles.zIndex.order?(m=y+1,!1):m>0}),u.positiveZIndex.splice(m,0,d)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(d)}else s.styles.isFloating()?u.nonPositionedFloats.push(d):u.nonPositionedInlineLevel.push(d);D8(o,d,i?d:n,c)}else s.styles.isInlineLevel()?e.inlineLevel.push(o):e.nonInlineLevel.push(o),D8(o,e,n,c);fo(s.flags,8)&&ZAe(s,c)})},ZAe=function(t,e){for(var n=t instanceof T8?t.start:1,r=t instanceof T8?t.reversed:!1,s=0;s<e.length;s++){var i=e[s];i.container instanceof DAe&&typeof i.container.value=="number"&&i.container.value!==0&&(n=i.container.value),i.listValue=sw(n,i.container.styles.listStyleType,!0),n+=r?-1:1}},gxt=function(t){var e=new JAe(t,null),n=new YAe(e),r=[];return D8(e,n,n,r),ZAe(e.container,r),n},oJ=function(t,e){switch(e){case 0:return Ju(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return Ju(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return Ju(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);default:return Ju(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},yxt=function(t,e){switch(e){case 0:return Ju(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return Ju(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return Ju(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);default:return Ju(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},xxt=function(t,e){switch(e){case 0:return Ju(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return Ju(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return Ju(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);default:return Ju(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},bxt=function(t,e){switch(e){case 0:return Lk(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return Lk(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return Lk(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);default:return Lk(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},Lk=function(t,e){var n=[];return Wu(t)?n.push(t.subdivide(.5,!1)):n.push(t),Wu(e)?n.push(e.subdivide(.5,!0)):n.push(e),n},Ju=function(t,e,n,r){var s=[];return Wu(t)?s.push(t.subdivide(.5,!1)):s.push(t),Wu(n)?s.push(n.subdivide(.5,!0)):s.push(n),Wu(r)?s.push(r.subdivide(.5,!0).reverse()):s.push(r),Wu(e)?s.push(e.subdivide(.5,!1).reverse()):s.push(e),s},ehe=function(t){var e=t.bounds,n=t.styles;return e.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},wE=function(t){var e=t.styles,n=t.bounds,r=si(e.paddingLeft,n.width),s=si(e.paddingRight,n.width),i=si(e.paddingTop,n.width),a=si(e.paddingBottom,n.width);return n.add(r+e.borderLeftWidth,i+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+r+s),-(e.borderTopWidth+e.borderBottomWidth+i+a))},vxt=function(t,e){return t===0?e.bounds:t===2?wE(e):ehe(e)},wxt=function(t,e){return t===0?e.bounds:t===2?wE(e):ehe(e)},L6=function(t,e,n){var r=vxt(Qy(t.styles.backgroundOrigin,e),t),s=wxt(Qy(t.styles.backgroundClip,e),t),i=Sxt(Qy(t.styles.backgroundSize,e),n,r),a=i[0],o=i[1],c=Xv(Qy(t.styles.backgroundPosition,e),r.width-a,r.height-o),u=Cxt(Qy(t.styles.backgroundRepeat,e),c,i,r,s),d=Math.round(r.left+c[0]),f=Math.round(r.top+c[1]);return[u,d,f,a,o]},_y=function(t){return Qs(t)&&t.value===u1.AUTO},$k=function(t){return typeof t=="number"},Sxt=function(t,e,n){var r=e[0],s=e[1],i=e[2],a=t[0],o=t[1];if(!a)return[0,0];if(za(a)&&o&&za(o))return[si(a,n.width),si(o,n.height)];var c=$k(i);if(Qs(a)&&(a.value===u1.CONTAIN||a.value===u1.COVER)){if($k(i)){var u=n.width/n.height;return u<i!=(a.value===u1.COVER)?[n.width,n.width/i]:[n.height*i,n.height]}return[n.width,n.height]}var d=$k(r),f=$k(s),h=d||f;if(_y(a)&&(!o||_y(o))){if(d&&f)return[r,s];if(!c&&!h)return[n.width,n.height];if(h&&c){var m=d?r:s*i,g=f?s:r/i;return[m,g]}var y=d?r:n.width,x=f?s:n.height;return[y,x]}if(c){var v=0,w=0;return za(a)?v=si(a,n.width):za(o)&&(w=si(o,n.height)),_y(a)?v=w*i:(!o||_y(o))&&(w=v/i),[v,w]}var B=null,k=null;if(za(a)?B=si(a,n.width):o&&za(o)&&(k=si(o,n.height)),B!==null&&(!o||_y(o))&&(k=d&&f?B/r*s:n.height),k!==null&&_y(a)&&(B=d&&f?k/s*r:n.width),B!==null&&k!==null)return[B,k];throw new Error("Unable to calculate background-size for element")},Qy=function(t,e){var n=t[e];return typeof n>"u"?t[0]:n},Cxt=function(t,e,n,r,s){var i=e[0],a=e[1],o=n[0],c=n[1];switch(t){case 2:return[new tn(Math.round(r.left),Math.round(r.top+a)),new tn(Math.round(r.left+r.width),Math.round(r.top+a)),new tn(Math.round(r.left+r.width),Math.round(c+r.top+a)),new tn(Math.round(r.left),Math.round(c+r.top+a))];case 3:return[new tn(Math.round(r.left+i),Math.round(r.top)),new tn(Math.round(r.left+i+o),Math.round(r.top)),new tn(Math.round(r.left+i+o),Math.round(r.height+r.top)),new tn(Math.round(r.left+i),Math.round(r.height+r.top))];case 1:return[new tn(Math.round(r.left+i),Math.round(r.top+a)),new tn(Math.round(r.left+i+o),Math.round(r.top+a)),new tn(Math.round(r.left+i+o),Math.round(r.top+a+c)),new tn(Math.round(r.left+i),Math.round(r.top+a+c))];default:return[new tn(Math.round(s.left),Math.round(s.top)),new tn(Math.round(s.left+s.width),Math.round(s.top)),new tn(Math.round(s.left+s.width),Math.round(s.height+s.top)),new tn(Math.round(s.left),Math.round(s.height+s.top))]}},kxt="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",lJ="Hidden Text",Bxt=(function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,n){var r=this._document.createElement("div"),s=this._document.createElement("img"),i=this._document.createElement("span"),a=this._document.body;r.style.visibility="hidden",r.style.fontFamily=e,r.style.fontSize=n,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",a.appendChild(r),s.src=kxt,s.width=1,s.height=1,s.style.margin="0",s.style.padding="0",s.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=n,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(lJ)),r.appendChild(i),r.appendChild(s);var o=s.offsetTop-i.offsetTop+2;r.removeChild(i),r.appendChild(this._document.createTextNode(lJ)),r.style.lineHeight="normal",s.style.verticalAlign="super";var c=s.offsetTop-r.offsetTop+2;return a.removeChild(r),{baseline:o,middle:c}},t.prototype.getMetrics=function(e,n){var r=e+" "+n;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(e,n)),this._data[r]},t})(),the=(function(){function t(e,n){this.context=e,this.options=n}return t})(),Ext=1e4,Ixt=(function(t){yf(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s._activeEffects=[],s.canvas=r.canvas?r.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),r.canvas||(s.canvas.width=Math.floor(r.width*r.scale),s.canvas.height=Math.floor(r.height*r.scale),s.canvas.style.width=r.width+"px",s.canvas.style.height=r.height+"px"),s.fontMetrics=new Bxt(document),s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-r.x,-r.y),s.ctx.textBaseline="bottom",s._activeEffects=[],s.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),s}return e.prototype.applyEffects=function(n){for(var r=this;this._activeEffects.length;)this.popEffect();n.forEach(function(s){return r.applyEffect(s)})},e.prototype.applyEffect=function(n){this.ctx.save(),pxt(n)&&(this.ctx.globalAlpha=n.opacity),hxt(n)&&(this.ctx.translate(n.offsetX,n.offsetY),this.ctx.transform(n.matrix[0],n.matrix[1],n.matrix[2],n.matrix[3],n.matrix[4],n.matrix[5]),this.ctx.translate(-n.offsetX,-n.offsetY)),XAe(n)&&(this.path(n.path),this.ctx.clip()),this._activeEffects.push(n)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(n){return Ml(this,void 0,void 0,function(){var r;return xl(this,function(s){switch(s.label){case 0:return r=n.element.container.styles,r.isVisible()?[4,this.renderStackContent(n)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(n){return Ml(this,void 0,void 0,function(){return xl(this,function(r){switch(r.label){case 0:if(fo(n.container.flags,16))debugger;return n.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(n)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(n)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(n,r,s){var i=this;if(r===0)this.ctx.fillText(n.text,n.bounds.left,n.bounds.top+s);else{var a=gz(n.text);a.reduce(function(o,c){return i.ctx.fillText(c,o,n.bounds.top+s),o+i.ctx.measureText(c).width},n.bounds.left)}},e.prototype.createFontStyle=function(n){var r=n.fontVariant.filter(function(a){return a==="normal"||a==="small-caps"}).join(""),s=Rxt(n.fontFamily).join(", "),i=ES(n.fontSize)?""+n.fontSize.number+n.fontSize.unit:n.fontSize.number+"px";return[[n.fontStyle,r,n.fontWeight,i,s].join(" "),s,i]},e.prototype.renderTextNode=function(n,r){return Ml(this,void 0,void 0,function(){var s,i,a,o,c,u,d,f,h=this;return xl(this,function(m){return s=this.createFontStyle(r),i=s[0],a=s[1],o=s[2],this.ctx.font=i,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",c=this.fontMetrics.getMetrics(a,o),u=c.baseline,d=c.middle,f=r.paintOrder,n.textBounds.forEach(function(g){f.forEach(function(y){switch(y){case 0:h.ctx.fillStyle=No(r.color),h.renderTextWithLetterSpacing(g,r.letterSpacing,u);var x=r.textShadow;x.length&&g.text.trim().length&&(x.slice(0).reverse().forEach(function(v){h.ctx.shadowColor=No(v.color),h.ctx.shadowOffsetX=v.offsetX.number*h.options.scale,h.ctx.shadowOffsetY=v.offsetY.number*h.options.scale,h.ctx.shadowBlur=v.blur.number,h.renderTextWithLetterSpacing(g,r.letterSpacing,u)}),h.ctx.shadowColor="",h.ctx.shadowOffsetX=0,h.ctx.shadowOffsetY=0,h.ctx.shadowBlur=0),r.textDecorationLine.length&&(h.ctx.fillStyle=No(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(v){switch(v){case 1:h.ctx.fillRect(g.bounds.left,Math.round(g.bounds.top+u),g.bounds.width,1);break;case 2:h.ctx.fillRect(g.bounds.left,Math.round(g.bounds.top),g.bounds.width,1);break;case 3:h.ctx.fillRect(g.bounds.left,Math.ceil(g.bounds.top+d),g.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&g.text.trim().length&&(h.ctx.strokeStyle=No(r.webkitTextStrokeColor),h.ctx.lineWidth=r.webkitTextStrokeWidth,h.ctx.lineJoin=window.chrome?"miter":"round",h.ctx.strokeText(g.text,g.bounds.left,g.bounds.top+u)),h.ctx.strokeStyle="",h.ctx.lineWidth=0,h.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(n,r,s){if(s&&n.intrinsicWidth>0&&n.intrinsicHeight>0){var i=wE(n),a=vE(r);this.path(a),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(s,0,0,n.intrinsicWidth,n.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(n){return Ml(this,void 0,void 0,function(){var r,s,i,a,o,c,w,w,u,d,f,h,k,m,g,E,y,x,v,w,B,k,E;return xl(this,function(N){switch(N.label){case 0:this.applyEffects(n.getEffects(4)),r=n.container,s=n.curves,i=r.styles,a=0,o=r.textNodes,N.label=1;case 1:return a<o.length?(c=o[a],[4,this.renderTextNode(c,i)]):[3,4];case 2:N.sent(),N.label=3;case 3:return a++,[3,1];case 4:if(!(r instanceof RAe))return[3,8];N.label=5;case 5:return N.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return w=N.sent(),this.renderReplacedElement(r,s,w),[3,8];case 7:return N.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof OAe&&this.renderReplacedElement(r,s,r.canvas),!(r instanceof FAe))return[3,12];N.label=9;case 9:return N.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return w=N.sent(),this.renderReplacedElement(r,s,w),[3,12];case 11:return N.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof PAe&&r.tree?(u=new e(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,u.render(r.tree)]):[3,14];case 13:d=N.sent(),r.width&&r.height&&this.ctx.drawImage(d,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),N.label=14;case 14:if(r instanceof yz&&(f=Math.min(r.bounds.width,r.bounds.height),r.type===mE?r.checked&&(this.ctx.save(),this.path([new tn(r.bounds.left+f*.39363,r.bounds.top+f*.79),new tn(r.bounds.left+f*.16,r.bounds.top+f*.5549),new tn(r.bounds.left+f*.27347,r.bounds.top+f*.44071),new tn(r.bounds.left+f*.39694,r.bounds.top+f*.5649),new tn(r.bounds.left+f*.72983,r.bounds.top+f*.23),new tn(r.bounds.left+f*.84,r.bounds.top+f*.34085),new tn(r.bounds.left+f*.39363,r.bounds.top+f*.79)]),this.ctx.fillStyle=No(KY),this.ctx.fill(),this.ctx.restore()):r.type===gE&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+f/2,r.bounds.top+f/2,f/4,0,Math.PI*2,!0),this.ctx.fillStyle=No(KY),this.ctx.fill(),this.ctx.restore())),Nxt(r)&&r.value.length){switch(h=this.createFontStyle(i),k=h[0],m=h[1],g=this.fontMetrics.getMetrics(k,m).baseline,this.ctx.font=k,this.ctx.fillStyle=No(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Txt(r.styles.textAlign),E=wE(r),y=0,r.styles.textAlign){case 1:y+=E.width/2;break;case 2:y+=E.width;break}x=E.add(y,0,0,-E.height/2+1),this.ctx.save(),this.path([new tn(E.left,E.top),new tn(E.left+E.width,E.top),new tn(E.left+E.width,E.top+E.height),new tn(E.left,E.top+E.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new c2(r.value,x),i.letterSpacing,g),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!fo(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(v=r.styles.listStyleImage,v.type!==0)return[3,18];w=void 0,B=v.url,N.label=15;case 15:return N.trys.push([15,17,,18]),[4,this.context.cache.match(B)];case 16:return w=N.sent(),this.ctx.drawImage(w,r.bounds.left-(w.width+10),r.bounds.top),[3,18];case 17:return N.sent(),this.context.logger.error("Error loading list-style-image "+B),[3,18];case 18:return[3,20];case 19:n.listValue&&r.styles.listStyleType!==-1&&(k=this.createFontStyle(i)[0],this.ctx.font=k,this.ctx.fillStyle=No(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",E=new Rh(r.bounds.left,r.bounds.top+si(r.styles.paddingTop,r.bounds.width),r.bounds.width,_Y(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new c2(n.listValue,E),i.letterSpacing,_Y(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),N.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(n){return Ml(this,void 0,void 0,function(){var r,s,v,i,a,v,o,c,v,u,d,v,f,h,v,m,g,v,y,x,v;return xl(this,function(w){switch(w.label){case 0:if(fo(n.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(n.element)];case 1:w.sent(),r=0,s=n.negativeZIndex,w.label=2;case 2:return r<s.length?(v=s[r],[4,this.renderStack(v)]):[3,5];case 3:w.sent(),w.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(n.element)];case 6:w.sent(),i=0,a=n.nonInlineLevel,w.label=7;case 7:return i<a.length?(v=a[i],[4,this.renderNode(v)]):[3,10];case 8:w.sent(),w.label=9;case 9:return i++,[3,7];case 10:o=0,c=n.nonPositionedFloats,w.label=11;case 11:return o<c.length?(v=c[o],[4,this.renderStack(v)]):[3,14];case 12:w.sent(),w.label=13;case 13:return o++,[3,11];case 14:u=0,d=n.nonPositionedInlineLevel,w.label=15;case 15:return u<d.length?(v=d[u],[4,this.renderStack(v)]):[3,18];case 16:w.sent(),w.label=17;case 17:return u++,[3,15];case 18:f=0,h=n.inlineLevel,w.label=19;case 19:return f<h.length?(v=h[f],[4,this.renderNode(v)]):[3,22];case 20:w.sent(),w.label=21;case 21:return f++,[3,19];case 22:m=0,g=n.zeroOrAutoZIndexOrTransformedOrOpacity,w.label=23;case 23:return m<g.length?(v=g[m],[4,this.renderStack(v)]):[3,26];case 24:w.sent(),w.label=25;case 25:return m++,[3,23];case 26:y=0,x=n.positiveZIndex,w.label=27;case 27:return y<x.length?(v=x[y],[4,this.renderStack(v)]):[3,30];case 28:w.sent(),w.label=29;case 29:return y++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(n){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(n.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(n){this.ctx.beginPath(),this.formatPath(n),this.ctx.closePath()},e.prototype.formatPath=function(n){var r=this;n.forEach(function(s,i){var a=Wu(s)?s.start:s;i===0?r.ctx.moveTo(a.x,a.y):r.ctx.lineTo(a.x,a.y),Wu(s)&&r.ctx.bezierCurveTo(s.startControl.x,s.startControl.y,s.endControl.x,s.endControl.y,s.end.x,s.end.y)})},e.prototype.renderRepeat=function(n,r,s,i){this.path(n),this.ctx.fillStyle=r,this.ctx.translate(s,i),this.ctx.fill(),this.ctx.translate(-s,-i)},e.prototype.resizeImage=function(n,r,s){var i;if(n.width===r&&n.height===s)return n;var a=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,o=a.createElement("canvas");o.width=Math.max(1,r),o.height=Math.max(1,s);var c=o.getContext("2d");return c.drawImage(n,0,0,n.width,n.height,0,0,r,s),o},e.prototype.renderBackgroundImage=function(n){return Ml(this,void 0,void 0,function(){var r,s,i,a,o,c;return xl(this,function(u){switch(u.label){case 0:r=n.styles.backgroundImage.length-1,s=function(d){var f,h,m,T,q,Z,U,z,F,g,T,q,Z,U,z,y,x,v,w,B,k,E,N,O,F,D,T,j,P,U,z,ee,q,Z,G,ne,K,H,Q,X,re,le;return xl(this,function(he){switch(he.label){case 0:if(d.type!==0)return[3,5];f=void 0,h=d.url,he.label=1;case 1:return he.trys.push([1,3,,4]),[4,i.context.cache.match(h)];case 2:return f=he.sent(),[3,4];case 3:return he.sent(),i.context.logger.error("Error loading background-image "+h),[3,4];case 4:return f&&(m=L6(n,r,[f.width,f.height,f.width/f.height]),T=m[0],q=m[1],Z=m[2],U=m[3],z=m[4],F=i.ctx.createPattern(i.resizeImage(f,U,z),"repeat"),i.renderRepeat(T,F,q,Z)),[3,6];case 5:h0t(d)?(g=L6(n,r,[null,null,null]),T=g[0],q=g[1],Z=g[2],U=g[3],z=g[4],y=c0t(d.angle,U,z),x=y[0],v=y[1],w=y[2],B=y[3],k=y[4],E=document.createElement("canvas"),E.width=U,E.height=z,N=E.getContext("2d"),O=N.createLinearGradient(v,B,w,k),jY(d.stops,x).forEach(function(xe){return O.addColorStop(xe.stop,No(xe.color))}),N.fillStyle=O,N.fillRect(0,0,U,z),U>0&&z>0&&(F=i.ctx.createPattern(E,"repeat"),i.renderRepeat(T,F,q,Z))):p0t(d)&&(D=L6(n,r,[null,null,null]),T=D[0],j=D[1],P=D[2],U=D[3],z=D[4],ee=d.position.length===0?[hz]:d.position,q=si(ee[0],U),Z=si(ee[ee.length-1],z),G=u0t(d,q,Z,U,z),ne=G[0],K=G[1],ne>0&&K>0&&(H=i.ctx.createRadialGradient(j+q,P+Z,0,j+q,P+Z,ne),jY(d.stops,ne*2).forEach(function(xe){return H.addColorStop(xe.stop,No(xe.color))}),i.path(T),i.ctx.fillStyle=H,ne!==K?(Q=n.bounds.left+.5*n.bounds.width,X=n.bounds.top+.5*n.bounds.height,re=K/ne,le=1/re,i.ctx.save(),i.ctx.translate(Q,X),i.ctx.transform(1,0,0,re,0,0),i.ctx.translate(-Q,-X),i.ctx.fillRect(j,le*(P-X)+X,U,z*le),i.ctx.restore()):i.ctx.fill())),he.label=6;case 6:return r--,[2]}})},i=this,a=0,o=n.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return a<o.length?(c=o[a],[5,s(c)]):[3,4];case 2:u.sent(),u.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(n,r,s){return Ml(this,void 0,void 0,function(){return xl(this,function(i){return this.path(oJ(s,r)),this.ctx.fillStyle=No(n),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(n,r,s,i){return Ml(this,void 0,void 0,function(){var a,o;return xl(this,function(c){switch(c.label){case 0:return r<3?[4,this.renderSolidBorder(n,s,i)]:[3,2];case 1:return c.sent(),[2];case 2:return a=yxt(i,s),this.path(a),this.ctx.fillStyle=No(n),this.ctx.fill(),o=xxt(i,s),this.path(o),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(n){return Ml(this,void 0,void 0,function(){var r,s,i,a,o,c,u,d,f=this;return xl(this,function(h){switch(h.label){case 0:return this.applyEffects(n.getEffects(2)),r=n.container.styles,s=!em(r.backgroundColor)||r.backgroundImage.length,i=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],a=jxt(Qy(r.backgroundClip,0),n.curves),s||r.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),em(r.backgroundColor)||(this.ctx.fillStyle=No(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(n.container)]):[3,2];case 1:h.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(m){f.ctx.save();var g=bE(n.curves),y=m.inset?0:Ext,x=mxt(g,-y+(m.inset?1:-1)*m.spread.number,(m.inset?1:-1)*m.spread.number,m.spread.number*(m.inset?-2:2),m.spread.number*(m.inset?-2:2));m.inset?(f.path(g),f.ctx.clip(),f.mask(x)):(f.mask(g),f.ctx.clip(),f.path(x)),f.ctx.shadowOffsetX=m.offsetX.number+y,f.ctx.shadowOffsetY=m.offsetY.number,f.ctx.shadowColor=No(m.color),f.ctx.shadowBlur=m.blur.number,f.ctx.fillStyle=m.inset?No(m.color):"rgba(0,0,0,1)",f.ctx.fill(),f.ctx.restore()}),h.label=2;case 2:o=0,c=0,u=i,h.label=3;case 3:return c<u.length?(d=u[c],d.style!==0&&!em(d.color)&&d.width>0?d.style!==2?[3,5]:[4,this.renderDashedDottedBorder(d.color,d.width,o,n.curves,2)]:[3,11]):[3,13];case 4:return h.sent(),[3,11];case 5:return d.style!==3?[3,7]:[4,this.renderDashedDottedBorder(d.color,d.width,o,n.curves,3)];case 6:return h.sent(),[3,11];case 7:return d.style!==4?[3,9]:[4,this.renderDoubleBorder(d.color,d.width,o,n.curves)];case 8:return h.sent(),[3,11];case 9:return[4,this.renderSolidBorder(d.color,o,n.curves)];case 10:h.sent(),h.label=11;case 11:o++,h.label=12;case 12:return c++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(n,r,s,i,a){return Ml(this,void 0,void 0,function(){var o,c,u,d,f,h,m,g,y,x,v,w,B,k,E,N,E,N;return xl(this,function(O){return this.ctx.save(),o=bxt(i,s),c=oJ(i,s),a===2&&(this.path(c),this.ctx.clip()),Wu(c[0])?(u=c[0].start.x,d=c[0].start.y):(u=c[0].x,d=c[0].y),Wu(c[1])?(f=c[1].end.x,h=c[1].end.y):(f=c[1].x,h=c[1].y),s===0||s===2?m=Math.abs(u-f):m=Math.abs(d-h),this.ctx.beginPath(),a===3?this.formatPath(o):this.formatPath(c.slice(0,2)),g=r<3?r*3:r*2,y=r<3?r*2:r,a===3&&(g=r,y=r),x=!0,m<=g*2?x=!1:m<=g*2+y?(v=m/(2*g+y),g*=v,y*=v):(w=Math.floor((m+y)/(g+y)),B=(m-w*g)/(w-1),k=(m-(w+1)*g)/w,y=k<=0||Math.abs(y-B)<Math.abs(y-k)?B:k),x&&(a===3?this.ctx.setLineDash([0,g+y]):this.ctx.setLineDash([g,y])),a===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=No(n),this.ctx.stroke(),this.ctx.setLineDash([]),a===2&&(Wu(c[0])&&(E=c[3],N=c[0],this.ctx.beginPath(),this.formatPath([new tn(E.end.x,E.end.y),new tn(N.start.x,N.start.y)]),this.ctx.stroke()),Wu(c[1])&&(E=c[1],N=c[2],this.ctx.beginPath(),this.formatPath([new tn(E.end.x,E.end.y),new tn(N.start.x,N.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(n){return Ml(this,void 0,void 0,function(){var r;return xl(this,function(s){switch(s.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=No(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=gxt(n),[4,this.renderStack(r)];case 1:return s.sent(),this.applyEffects([]),[2,this.canvas]}})})},e})(the),Nxt=function(t){return t instanceof $Ae||t instanceof LAe?!0:t instanceof yz&&t.type!==gE&&t.type!==mE},jxt=function(t,e){switch(t){case 0:return bE(e);case 2:return dxt(e);default:return vE(e)}},Txt=function(t){switch(t){case 1:return"center";case 2:return"right";default:return"left"}},_xt=["-apple-system","system-ui"],Rxt=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return _xt.indexOf(e)===-1}):t},Oxt=(function(t){yf(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.canvas=r.canvas?r.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s.options=r,s.canvas.width=Math.floor(r.width*r.scale),s.canvas.height=Math.floor(r.height*r.scale),s.canvas.style.width=r.width+"px",s.canvas.style.height=r.height+"px",s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-r.x,-r.y),s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),s}return e.prototype.render=function(n){return Ml(this,void 0,void 0,function(){var r,s;return xl(this,function(i){switch(i.label){case 0:return r=j8(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,n),[4,Fxt(r)];case 1:return s=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=No(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(s,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e})(the),Fxt=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Dxt=(function(){function t(e){var n=e.id,r=e.enabled;this.id=n,this.enabled=r,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,mk([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,mk([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,mk([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,mk([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t})(),Lxt=(function(){function t(e,n){var r;this.windowBounds=n,this.instanceName="#"+t.instanceCount++,this.logger=new Dxt({id:this.instanceName,enabled:e.logging}),this.cache=(r=e.cache)!==null&&r!==void 0?r:new rxt(this,e)}return t.instanceCount=1,t})(),bz=function(t,e){return e===void 0&&(e={}),$xt(t,e)};typeof window<"u"&&KAe.setContext(window);var $xt=function(t,e){return Ml(void 0,void 0,void 0,function(){var n,r,s,i,a,o,c,u,d,f,h,m,g,y,x,v,w,B,k,E,O,N,O,F,D,T,j,P,U,z,ee,q,Z,G,ne,K,H,Q,X,re;return xl(this,function(le){switch(le.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(n=t.ownerDocument,!n)throw new Error("Element is not attached to a Document");if(r=n.defaultView,!r)throw new Error("Document is not attached to a Window");return s={allowTaint:(F=e.allowTaint)!==null&&F!==void 0?F:!1,imageTimeout:(D=e.imageTimeout)!==null&&D!==void 0?D:15e3,proxy:e.proxy,useCORS:(T=e.useCORS)!==null&&T!==void 0?T:!1},i=p8({logging:(j=e.logging)!==null&&j!==void 0?j:!0,cache:e.cache},s),a={windowWidth:(P=e.windowWidth)!==null&&P!==void 0?P:r.innerWidth,windowHeight:(U=e.windowHeight)!==null&&U!==void 0?U:r.innerHeight,scrollX:(z=e.scrollX)!==null&&z!==void 0?z:r.pageXOffset,scrollY:(ee=e.scrollY)!==null&&ee!==void 0?ee:r.pageYOffset},o=new Rh(a.scrollX,a.scrollY,a.windowWidth,a.windowHeight),c=new Lxt(i,o),u=(q=e.foreignObjectRendering)!==null&&q!==void 0?q:!1,d={allowTaint:(Z=e.allowTaint)!==null&&Z!==void 0?Z:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:u,copyStyles:u},c.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),f=new sJ(c,t,d),h=f.clonedReferenceElement,h?[4,f.toIFrame(n,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return m=le.sent(),g=xz(h)||U1t(h)?mmt(h.ownerDocument):ej(c,h),y=g.width,x=g.height,v=g.left,w=g.top,B=Pxt(c,h,e.backgroundColor),k={canvas:e.canvas,backgroundColor:B,scale:(ne=(G=e.scale)!==null&&G!==void 0?G:r.devicePixelRatio)!==null&&ne!==void 0?ne:1,x:((K=e.x)!==null&&K!==void 0?K:0)+v,y:((H=e.y)!==null&&H!==void 0?H:0)+w,width:(Q=e.width)!==null&&Q!==void 0?Q:Math.ceil(y),height:(X=e.height)!==null&&X!==void 0?X:Math.ceil(x)},u?(c.logger.debug("Document cloned, using foreign object rendering"),O=new Oxt(c,k),[4,O.render(h)]):[3,3];case 2:return E=le.sent(),[3,5];case 3:return c.logger.debug("Document cloned, element located at "+v+","+w+" with size "+y+"x"+x+" using computed rendering"),c.logger.debug("Starting DOM parsing"),N=zAe(c,h),B===N.styles.backgroundColor&&(N.styles.backgroundColor=ph.TRANSPARENT),c.logger.debug("Starting renderer for element at "+k.x+","+k.y+" with size "+k.width+"x"+k.height),O=new Ixt(c,k),[4,O.render(N)];case 4:E=le.sent(),le.label=5;case 5:return(!((re=e.removeContainer)!==null&&re!==void 0)||re)&&(sJ.destroy(m)||c.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),c.logger.debug("Finished rendering"),[2,E]}})})},Pxt=function(t,e,n){var r=e.ownerDocument,s=r.documentElement?o2(t,getComputedStyle(r.documentElement).backgroundColor):ph.TRANSPARENT,i=r.body?o2(t,getComputedStyle(r.body).backgroundColor):ph.TRANSPARENT,a=typeof n=="string"?o2(t,n):n===null?ph.TRANSPARENT:4294967295;return e===r.documentElement?em(s)?em(i)?a:i:s:a};const Uxt=Object.freeze(Object.defineProperty({__proto__:null,default:bz},Symbol.toStringTag,{value:"Module"})),zxt="http://localhost:8000/api";function vz({submissionId:t,onClose:e,isStudentView:n=!1}){const[r,s]=C.useState(!0),[i,a]=C.useState(null),[o,c]=C.useState(null),[u,d]=C.useState({aptitude:!0,verbal:!1,logical:!1,coding:!1,sql:!1});if(C.useEffect(()=>{t&&(s(!0),rt.get(`${zxt}/global-test-submissions/${t}/report`).then(y=>{a(y.data),s(!1)}).catch(y=>{console.error("Failed to load global test report:",y),c("Failed to load report details"),s(!1)}))},[t]),!t)return null;const f=y=>{d(x=>({...x,[y]:!x[y]}))},h=async()=>{const y={...u};d({aptitude:!0,verbal:!0,logical:!0,coding:!0,sql:!0}),setTimeout(async()=>{const v=document.getElementById("report-content");if(!v)return;const w=await bz(v,{scale:2,backgroundColor:"#0f172a",useCORS:!0,logging:!1}),B=w.toDataURL("image/png",1),k=new _n("p","mm","a4"),E=210,N=297,O=w.height*E/w.width;let F=O,D=0;for(k.addImage(B,"PNG",0,D,E,O),F-=N;F>=0;)D=F-O,k.addPage(),k.addImage(B,"PNG",0,D,E,O),F-=N;k.save(`${i.studentInfo.name}_Assessment_Report.pdf`),d(y)},1e3)},m=y=>y>=80?"#10b981":y>=60?"#f59e0b":"#ef4444",g=y=>{switch(y){case"aptitude":return l.jsx(Zr,{size:20});case"verbal":return l.jsx(nd,{size:20});case"logical":return l.jsx(sA,{size:20});case"coding":return l.jsx(Dr,{size:20});case"sql":return l.jsx(Ka,{size:20});default:return l.jsx(kr,{size:20})}};return l.jsx("div",{className:"modal-overlay",onClick:e,style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e5,backdropFilter:"blur(8px)"},children:l.jsxs("div",{className:"modal-content",onClick:y=>y.stopPropagation(),style:{width:"95%",maxWidth:"1100px",maxHeight:"90vh",display:"flex",flexDirection:"column",overflow:"hidden",background:"#0f172a",borderRadius:"24px",border:"1px solid rgba(139, 92, 246, 0.3)",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5)"},children:[l.jsxs("div",{className:"modal-header",style:{padding:"1.5rem 2rem",borderBottom:"1px solid rgba(139, 92, 246, 0.2)",display:"flex",justifyContent:"space-between",alignItems:"center",background:"linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(6, 182, 212, 0.05))"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[l.jsx("div",{style:{width:"50px",height:"50px",borderRadius:"14px",background:"linear-gradient(135deg, #8b5cf6, #3b82f6)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 8px 16px rgba(139, 92, 246, 0.2)"},children:l.jsx(EE,{size:26,color:"white"})}),l.jsxs("div",{children:[l.jsx("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:700,color:"white"},children:"Global Assessment Report"}),l.jsx("p",{style:{margin:0,color:"#94a3b8",fontSize:"0.9rem"},children:r?"Loading...":i?.testInfo.title})]})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[l.jsxs("button",{onClick:h,disabled:r||!i,style:{background:"rgba(139, 92, 246, 0.15)",color:"#a78bfa",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"12px",padding:"0.6rem 1.2rem",display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",fontWeight:600,transition:"all 0.2s"},onMouseOver:y=>{y.currentTarget.style.background="#8b5cf6",y.currentTarget.style.color="white"},onMouseOut:y=>{y.currentTarget.style.background="rgba(139, 92, 246, 0.15)",y.currentTarget.style.color="#a78bfa"},children:[l.jsx(zg,{size:18})," Download PDF"]}),l.jsx("button",{onClick:e,style:{background:"rgba(255, 255, 255, 0.05)",border:"none",borderRadius:"12px",padding:"0.6rem",cursor:"pointer",color:"#94a3b8",transition:"all 0.2s"},onMouseOver:y=>y.currentTarget.style.color="white",onMouseOut:y=>y.currentTarget.style.color="#94a3b8",children:l.jsx(xi,{size:24})})]})]}),l.jsx("div",{className:"modal-body",style:{flex:1,overflowY:"auto",padding:"2rem"},children:r?l.jsxs("div",{style:{textAlign:"center",padding:"5rem"},children:[l.jsx("div",{style:{width:"50px",height:"50px",border:"3px solid rgba(139, 92, 246, 0.2)",borderTopColor:"#8b5cf6",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto"}}),l.jsx("style",{children:"@keyframes spin { to { transform: rotate(360deg); } }"}),l.jsx("p",{style:{color:"#94a3b8",marginTop:"1.5rem",fontWeight:500},children:"Analyzing performance data..."})]}):o?l.jsxs("div",{style:{textAlign:"center",padding:"5rem"},children:[l.jsx(Qn,{size:64,color:"#ef4444",style:{marginBottom:"1.5rem",opacity:.8}}),l.jsx("h3",{style:{color:"white"},children:"Oops! Something went wrong"}),l.jsx("p",{style:{color:"#94a3b8"},children:o}),l.jsx("button",{onClick:e,style:{marginTop:"1.5rem",padding:"0.75rem 1.5rem",background:"#3b82f6",color:"white",border:"none",borderRadius:"10px",fontWeight:600,cursor:"pointer"},children:"Close Modal"})]}):l.jsxs("div",{id:"report-content",children:[i.personalizedAnalysis?.summary&&l.jsxs("div",{style:{padding:"2rem",background:"linear-gradient(135deg, rgba(139, 92, 246, 0.15), rgba(6, 182, 212, 0.1))",borderRadius:"24px",border:"1px solid rgba(139, 92, 246, 0.2)",marginBottom:"2rem",position:"relative",overflow:"hidden"},children:[l.jsx(Po,{style:{position:"absolute",right:"2rem",top:"1.5rem",opacity:.2},size:48,color:"#8b5cf6"}),l.jsxs("h3",{style:{margin:"0 0 1rem",display:"flex",alignItems:"center",gap:"0.75rem",color:"#a78bfa",fontSize:"1.4rem"},children:[l.jsx(Zr,{size:24})," Executive Summary"]}),l.jsx("p",{style:{margin:0,color:"#e2e8f0",fontSize:"1.1rem",lineHeight:1.6,maxWidth:"90%"},children:i.personalizedAnalysis.summary})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem",marginBottom:"2rem"},children:[l.jsxs("div",{style:{padding:"1.5rem",background:"rgba(30, 41, 59, 0.5)",borderRadius:"16px",border:"1px solid rgba(255, 255, 255, 0.05)",display:"flex",alignItems:"center",gap:"1.25rem"},children:[l.jsx("div",{style:{width:"64px",height:"64px",borderRadius:"50%",background:"linear-gradient(135deg, #10b981, #06b6d4)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.75rem",fontWeight:800,color:"white"},children:i.studentInfo.name.charAt(0).toUpperCase()}),l.jsxs("div",{children:[l.jsx("h3",{style:{margin:0,color:"white",fontSize:"1.25rem"},children:i.studentInfo.name}),l.jsx("p",{style:{margin:"0.25rem 0 0",color:"#94a3b8"},children:i.studentInfo.email})]})]}),l.jsxs("div",{style:{padding:"1.5rem",background:i.overallPerformance.status==="passed"?"rgba(16, 185, 129, 0.1)":"rgba(239, 68, 68, 0.1)",borderRadius:"16px",border:`1px solid ${i.overallPerformance.status==="passed"?"rgba(16, 185, 129, 0.2)":"rgba(239, 68, 68, 0.2)"}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{children:[l.jsxs("div",{style:{fontSize:"2.5rem",fontWeight:900,color:m(i.overallPerformance.percentage),lineHeight:1},children:[i.overallPerformance.percentage,"%"]}),l.jsx("div",{style:{color:"#94a3b8",fontSize:"0.9rem",marginTop:"0.5rem",textTransform:"uppercase",letterSpacing:"0.05em",fontWeight:600},children:"Overall Score"})]}),l.jsx("div",{style:{padding:"0.75rem 1.5rem",borderRadius:"12px",background:i.overallPerformance.status==="passed"?"#10b981":"#ef4444",color:"white",fontWeight:800,fontSize:"1.1rem",boxShadow:`0 8px 20px ${i.overallPerformance.status==="passed"?"rgba(16, 185, 129, 0.3)":"rgba(239, 68, 68, 0.3)"}`},children:i.overallPerformance.status.toUpperCase()})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1.5fr 1fr",gap:"1.5rem",marginBottom:"2.5rem"},children:[l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"1rem"},children:Object.entries(i.sectionWisePerformance).map(([y,x])=>l.jsxs("div",{style:{padding:"1.25rem",background:"rgba(30, 41, 59, 0.5)",borderRadius:"16px",border:"1px solid rgba(255, 255, 255, 0.05)",textAlign:"center"},children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",background:"rgba(255,255,255,0.05)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem",color:m(x.percentage)},children:g(y)}),l.jsx("div",{style:{color:"#94a3b8",fontSize:"0.75rem",textTransform:"uppercase",fontWeight:700,marginBottom:"0.25rem"},children:y}),l.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:800,color:"white"},children:[x.percentage,"%"]}),l.jsxs("div",{style:{fontSize:"0.75rem",color:"#64748b",marginTop:"0.25rem"},children:[x.correctCount,"/",x.totalQuestions," Correct"]})]},y))}),l.jsxs("div",{style:{background:"rgba(30, 41, 59, 0.4)",borderRadius:"20px",border:"1px solid rgba(255, 255, 255, 0.05)",padding:"1.5rem",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[l.jsx("h4",{style:{margin:"0 0 1rem",color:"#94a3b8",fontSize:"0.9rem",textTransform:"uppercase",letterSpacing:"0.1em"},children:"Section Performance Summary"}),l.jsx(tA,{width:"100%",height:250,children:l.jsxs(iz,{data:Object.entries(i.sectionWisePerformance).map(([y,x])=>({name:y.charAt(0).toUpperCase()+y.slice(1),score:x.percentage})),margin:{top:5,right:30,left:0,bottom:5},children:[l.jsx(SS,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.05)",vertical:!1}),l.jsx(pb,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12}}),l.jsx(mb,{domain:[0,100],axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12},tickFormatter:y=>`${y}%`}),l.jsx(rA,{contentStyle:{background:"#1e293b",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"8px"},itemStyle:{color:"white"},cursor:{fill:"rgba(255,255,255,0.05)"}}),l.jsx(Y3,{dataKey:"score",radius:[8,8,0,0],children:Object.entries(i.sectionWisePerformance).map((y,x)=>l.jsx(pA,{fill:m(y[1].percentage)},`cell-${x}`))})]})})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem",marginBottom:"2.5rem"},children:[l.jsxs("div",{style:{padding:"2rem",background:"rgba(16, 185, 129, 0.03)",borderRadius:"24px",border:"1px solid rgba(16, 185, 129, 0.1)"},children:[l.jsxs("h4",{style:{margin:"0 0 1.5rem",display:"flex",alignItems:"center",gap:"0.75rem",color:"#10b981",fontSize:"1.2rem"},children:[l.jsx(jl,{size:24})," Key Strengths"]}),l.jsx("ul",{style:{margin:0,padding:0,listStyle:"none",display:"flex",flexDirection:"column",gap:"1rem"},children:i.strengths.map((y,x)=>l.jsxs("li",{style:{display:"flex",alignItems:"flex-start",gap:"0.75rem",color:"#e2e8f0",fontSize:"1rem"},children:[l.jsx("div",{style:{marginTop:"0.25rem",padding:"0.2rem",background:"#10b981",borderRadius:"50%"},children:l.jsx($n,{size:12,color:"white"})}),y]},x))})]}),l.jsxs("div",{style:{padding:"2rem",background:"rgba(239, 68, 68, 0.03)",borderRadius:"24px",border:"1px solid rgba(239, 68, 68, 0.1)"},children:[l.jsxs("h4",{style:{margin:"0 0 1.5rem",display:"flex",alignItems:"center",gap:"0.75rem",color:"#f87171",fontSize:"1.2rem"},children:[l.jsx(sA,{size:24})," Areas for Growth"]}),l.jsx("ul",{style:{margin:0,padding:0,listStyle:"none",display:"flex",flexDirection:"column",gap:"1rem"},children:i.weaknesses.map((y,x)=>l.jsxs("li",{style:{display:"flex",alignItems:"flex-start",gap:"0.75rem",color:"#e2e8f0",fontSize:"1rem"},children:[l.jsx("div",{style:{marginTop:"0.25rem",padding:"0.2rem",background:"#f87171",borderRadius:"50%"},children:l.jsx(Sg,{size:12,color:"white"})}),y]},x))})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1.5fr 1fr",gap:"1.5rem",marginBottom:"2.5rem"},children:[l.jsxs("div",{style:{padding:"2rem",background:"rgba(59, 130, 246, 0.03)",borderRadius:"24px",border:"1px solid rgba(59, 130, 246, 0.1)"},children:[l.jsxs("h4",{style:{margin:"0 0 1.5rem",display:"flex",alignItems:"center",gap:"0.75rem",color:"#60a5fa",fontSize:"1.2rem"},children:[l.jsx(PJ,{size:24})," Personalized Action Plan"]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1.25rem"},children:i.recommendations.map((y,x)=>l.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"flex-start"},children:[l.jsx("div",{style:{width:"28px",height:"28px",borderRadius:"8px",background:"#3b82f6",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:800,fontSize:"0.8rem",flexShrink:0},children:x+1}),l.jsx("p",{style:{margin:0,color:"#e2e8f0",lineHeight:1.5},children:y})]},x))})]}),l.jsxs("div",{style:{padding:"2rem",background:"rgba(245, 158, 11, 0.03)",borderRadius:"24px",border:"1px solid rgba(245, 158, 11, 0.1)"},children:[l.jsxs("h4",{style:{margin:"0 0 1.5rem",display:"flex",alignItems:"center",gap:"0.75rem",color:"#f59e0b",fontSize:"1.2rem"},children:[l.jsx(xh,{size:24})," Critical Focus Areas"]}),l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.75rem"},children:i.personalizedAnalysis?.focusAreas?.map((y,x)=>l.jsxs("div",{style:{padding:"0.75rem 1.25rem",background:"rgba(245, 158, 11, 0.1)",border:"1px solid rgba(245, 158, 11, 0.2)",borderRadius:"12px",color:"#f59e0b",fontWeight:600,fontSize:"0.9rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(kr,{size:16})," ",y]},x))})]})]}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[l.jsxs("h3",{style:{color:"white",display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.5rem"},children:[l.jsx(Qf,{size:24,color:"#8b5cf6"}),"Detailed Question Analysis"]}),(()=>{let y=0;return Object.entries(i.questionResultsBySection).map(([v,w])=>{const B=y;return y+=w.length,{section:v,questions:w,sectionStartIdx:B}})})().map(({section:y,questions:x,sectionStartIdx:v})=>l.jsxs("div",{style:{background:"rgba(30, 41, 59, 0.3)",borderRadius:"16px",border:"1px solid rgba(255, 255, 255, 0.05)",overflow:"hidden"},children:[l.jsxs("button",{onClick:()=>f(y),style:{width:"100%",padding:"1.25rem 1.5rem",background:"transparent",border:"none",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer",color:"white"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[l.jsx("div",{style:{color:m(i.sectionWisePerformance[y]?.percentage)},children:g(y)}),l.jsxs("span",{style:{fontSize:"1.1rem",fontWeight:700,textTransform:"capitalize"},children:[y," Analysis"]}),l.jsxs("span",{style:{fontSize:"0.85rem",padding:"0.2rem 0.6rem",background:"rgba(255,255,255,0.05)",borderRadius:"6px",color:"#94a3b8"},children:[i.sectionWisePerformance[y]?.percentage,"% Accuraccy"]})]}),u[y]?l.jsx(tm,{size:20,color:"#64748b"}):l.jsx(gh,{size:20,color:"#64748b"})]}),u[y]&&i.personalizedAnalysis?.sectionAnalysis?.[y]&&l.jsxs("div",{style:{margin:"0 1.5rem 1.5rem",padding:"1.25rem",background:"rgba(139, 92, 246, 0.05)",borderRadius:"12px",border:"1px solid rgba(139, 92, 246, 0.2)",color:"#e2e8f0",fontSize:"0.95rem",lineHeight:1.6},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.75rem",color:"#a78bfa",fontWeight:700,textTransform:"uppercase",fontSize:"0.75rem",letterSpacing:"1px"},children:[l.jsx(Zr,{size:16})," AI Performance Insight"]}),i.personalizedAnalysis.sectionAnalysis[y]]}),u[y]&&l.jsx("div",{style:{padding:"0 1.5rem 1.5rem",display:"flex",flexDirection:"column",gap:"1rem"},children:x.length>0?x.map((w,B)=>l.jsx("div",{style:{padding:"1.25rem",background:w.is_correct?"rgba(16, 185, 129, 0.03)":"rgba(239, 68, 68, 0.03)",border:`1px solid ${w.is_correct?"rgba(16, 185, 129, 0.15)":"rgba(239, 68, 68, 0.15)"}`,borderRadius:"12px"},children:l.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[l.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:w.is_correct?"#10b981":"#ef4444",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:800,flexShrink:0},children:w.is_correct?"":""}),l.jsxs("div",{style:{flex:1},children:[l.jsx("p",{style:{margin:"0 0 1rem",color:"#e2e8f0",fontWeight:500,lineHeight:1.5},children:w.question}),y==="coding"||y==="sql"?l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[l.jsxs("div",{style:{background:"#020617",padding:"1.25rem",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.05)",overflowX:"auto"},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b",marginBottom:"0.5rem",fontWeight:600,textTransform:"uppercase"},children:"Your Code Submission"}),l.jsx("pre",{style:{margin:0,color:"#e2e8f0",fontSize:"0.85rem",fontFamily:'"Fira Code", monospace'},children:w.user_answer})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.6rem 1rem",background:w.is_correct?"rgba(16, 185, 129, 0.1)":"rgba(239, 68, 68, 0.1)",borderRadius:"8px"},children:[l.jsx(Ui,{size:16,color:w.is_correct?"#10b981":"#ef4444"}),l.jsx("span",{style:{fontSize:"0.85rem",color:"#94a3b8"},children:"Evaluation:"}),l.jsx("span",{style:{fontWeight:600,color:w.is_correct?"#10b981":"#f87171"},children:w.correct_answer}),w.points_earned!==void 0&&l.jsxs("span",{style:{marginLeft:"auto",fontSize:"0.8rem",color:"#94a3b8"},children:["Score: ",l.jsx("span",{style:{color:"white",fontWeight:600},children:w.points_earned})]})]})]}):l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.6rem 1rem",background:w.is_correct?"rgba(16, 185, 129, 0.1)":"rgba(239, 68, 68, 0.1)",borderRadius:"8px"},children:[l.jsx("span",{style:{fontSize:"0.85rem",color:"#94a3b8",minWidth:"100px"},children:"Your Answer:"}),l.jsx("span",{style:{fontWeight:600,color:w.is_correct?"#10b981":"#f87171"},children:w.user_answer||"(No answer)"})]}),!w.is_correct&&l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.6rem 1rem",background:"rgba(16, 185, 129, 0.1)",borderRadius:"8px"},children:[l.jsx("span",{style:{fontSize:"0.85rem",color:"#94a3b8",minWidth:"100px"},children:"Correct Answer:"}),l.jsx("span",{style:{fontWeight:600,color:"#10b981"},children:w.correct_answer})]})]}),w.explanation&&l.jsxs("div",{style:{marginTop:"1rem",padding:"1rem",background:"rgba(139, 92, 246, 0.05)",borderRadius:"8px",borderLeft:"4px solid #8b5cf6"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.25rem"},children:[l.jsx(Ui,{size:14,color:"#8b5cf6"}),l.jsx("span",{style:{fontSize:"0.75rem",fontWeight:700,color:"#a78bfa",textTransform:"uppercase"},children:"Conceptual Explanation"})]}),l.jsx("p",{style:{margin:0,fontSize:"0.85rem",color:"#94a3b8"},children:w.explanation})]}),i.personalizedAnalysis?.questionInsights?.[`Q${v+B+1}`]&&l.jsxs("div",{style:{marginTop:"1rem",padding:"1.25rem",background:"linear-gradient(135deg, rgba(6, 182, 212, 0.08), rgba(139, 92, 246, 0.08))",borderRadius:"12px",border:"1px solid rgba(139, 92, 246, 0.2)",position:"relative"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.6rem",marginBottom:"0.75rem",color:"#06b6d4"},children:[l.jsx(xh,{size:18}),l.jsx("span",{style:{fontSize:"0.85rem",fontWeight:800,textTransform:"uppercase",letterSpacing:"1px"},children:"Mentor Insight"}),l.jsxs("span",{style:{marginLeft:"auto",fontSize:"0.7rem",color:"#64748b",background:"rgba(255,255,255,0.05)",padding:"2px 8px",borderRadius:"4px"},children:["Q",v+B+1]})]}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[l.jsxs("div",{children:[l.jsx("span",{style:{color:"#94a3b8",fontSize:"0.75rem",fontWeight:600,display:"block",marginBottom:"2px"},children:"DIAGNOSIS"}),l.jsx("p",{style:{margin:0,color:"#e2e8f0",fontSize:"0.9rem"},children:i.personalizedAnalysis.questionInsights[`Q${v+B+1}`].diagnosis})]}),l.jsxs("div",{children:[l.jsx("span",{style:{color:"#94a3b8",fontSize:"0.75rem",fontWeight:600,display:"block",marginBottom:"2px"},children:"THE MISSTEP"}),l.jsx("p",{style:{margin:0,color:"#e2e8f0",fontSize:"0.9rem"},children:i.personalizedAnalysis.questionInsights[`Q${v+B+1}`].misstep})]}),l.jsxs("div",{style:{padding:"0.75rem",background:"rgba(16, 185, 129, 0.1)",borderRadius:"8px",borderLeft:"3px solid #10b981"},children:[l.jsx("span",{style:{color:"#10b981",fontSize:"0.75rem",fontWeight:800,display:"block",marginBottom:"2px"},children:"HOW TO EXCEL"}),l.jsx("p",{style:{margin:0,color:"#e2e8f0",fontSize:"0.9rem",fontWeight:500},children:i.personalizedAnalysis.questionInsights[`Q${v+B+1}`].recommendation})]})]})]})]})]})},B)):l.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"#64748b"},children:"No questions found in this section."})})]},y))]})]})})]})})}const Pi="http://localhost:8000/api",Iv={Python:{monacoLang:"python",ext:".py",defaultCode:`# Write your Python code here

def solution():
    pass

# Call your solution
solution()`},JavaScript:{monacoLang:"javascript",ext:".js",defaultCode:`// Write your JavaScript code here

function solution() {
    
}

// Call your solution
solution();`},Java:{monacoLang:"java",ext:".java",defaultCode:`// Write your Java code here

public class Solution {
    public static void main(String[] args) {
        // Your code here
    }
}`},C:{monacoLang:"c",ext:".c",defaultCode:`// Write your C code here
#include <stdio.h>

int main() {
    // Your code here
    return 0;
}`},"C++":{monacoLang:"cpp",ext:".cpp",defaultCode:`// Write your C++ code here
#include <iostream>
using namespace std;

int main() {
    // Your code here
    return 0;
}`},SQL:{monacoLang:"sql",ext:".sql",defaultCode:`-- Write your SQL query here
SELECT * FROM table_name;`}};function Mxt(){const{user:t}=xb(),{t:e}=m0(),n=cf(),[r,s]=C.useState(""),[i,a]=C.useState(""),[o,c]=C.useState(null);C.useEffect(()=>{t?.id&&rt.get(`${Pi}/analytics/student/${t.id}`).then(d=>{d.data.mentorInfo&&c(d.data.mentorInfo)}).catch(d=>console.error("Error fetching mentor info:",d))},[t?.id]),C.useEffect(()=>{switch(n.pathname.split("/").pop()){case"assignments":s(e("coding_problems")),a(e("solve_coding_subtitle"));break;case"aptitude":s(e("aptitude_tests")),a(e("aptitude_subtitle"));break;case"global-tests":s(e("global_complete_tests")),a(e("global_tests_student_subtitle"));break;case"submissions":s(e("my_submissions")),a(e("submissions_subtitle"));break;case"analytics":s(e("my_analytics")),a(e("analytics_subtitle"));break;case"skill-tests":s("Skill Tests"),a("AI-powered skill assessments");break;case"skill-submissions":s("Skill Test Submissions"),a("View your skill test results & reports");break;default:s(e("dashboard")),a(e("welcome_back_name",{name:t?.name||""}))}},[n,t,e]);const u=[{path:"/student",label:e("dashboard"),icon:l.jsx(G8,{size:20})},{label:"Learning",icon:l.jsx(Hd,{size:20}),defaultExpanded:!1,children:[{path:"/student/assignments",label:e("coding_problems"),icon:l.jsx(Dr,{size:20})},{path:"/student/aptitude",label:e("aptitude_tests"),icon:l.jsx(Zr,{size:20})},{path:"/student/global-tests",label:e("global_complete_tests"),icon:l.jsx(qu,{size:20})},{path:"/student/skill-tests",label:"Skill Tests",icon:l.jsx(kr,{size:20})}]},{label:"Progress",icon:l.jsx(sA,{size:20}),defaultExpanded:!1,children:[{path:"/student/submissions",label:e("my_submissions"),icon:l.jsx(_c,{size:20})},{path:"/student/skill-submissions",label:"Skill Submissions",icon:l.jsx(kr,{size:20})},{path:"/student/analytics",label:e("my_analytics"),icon:l.jsx(sA,{size:20})}]}];return l.jsx(X8,{navItems:u,title:r,subtitle:i,mentorInfo:o,children:l.jsxs(CE,{children:[l.jsx(us,{path:"/",element:l.jsx(Qxt,{user:t})}),l.jsx(us,{path:"/assignments",element:l.jsx(Hxt,{user:t})}),l.jsx(us,{path:"/aptitude",element:l.jsx(Kxt,{user:t})}),l.jsx(us,{path:"/global-tests",element:l.jsx(Gxt,{user:t})}),l.jsx(us,{path:"/skill-tests",element:l.jsx(SAt,{user:t})}),l.jsx(us,{path:"/skill-submissions",element:l.jsx(ofe,{user:t})}),l.jsx(us,{path:"/submissions",element:l.jsx(Vxt,{user:t})}),l.jsx(us,{path:"/analytics",element:l.jsx(Xxt,{user:t})})]})})}function Qxt({user:t}){const[e,n]=C.useState(null),[r,s]=C.useState(!0);C.useEffect(()=>{rt.get(`${Pi}/analytics/student/${t.id}`).then(a=>{n(a.data),s(!1)}).catch(a=>{console.error(a),s(!1)})},[t.id]);const i=a=>{const o=new Date(a),u=new Date-o,d=Math.floor(u/6e4),f=Math.floor(u/36e5),h=Math.floor(u/864e5);return d<1?"Just now":d<60?`${d} min ago`:f<24?`${f} hour${f>1?"s":""} ago`:h<7?`${h} day${h>1?"s":""} ago`:o.toLocaleDateString()};return r?l.jsx("div",{className:"loading-spinner"}):e?l.jsxs("div",{className:"dashboard-container animate-fadeIn",children:[l.jsxs("div",{className:"dashboard-stats-grid",children:[l.jsx("div",{className:"dashboard-stat-card stat-card-blue",children:l.jsxs("div",{className:"stat-card-inner",children:[l.jsx("div",{className:"stat-icon-box",style:{background:"linear-gradient(135deg, #1e40af, #3b82f6)"},children:l.jsx(Hd,{size:24,color:"#fff"})}),l.jsxs("div",{className:"stat-content",children:[l.jsx("div",{className:"stat-number",children:e.completedTasks}),l.jsx("div",{className:"stat-label-text",children:"Tasks Completed"})]})]})}),l.jsx("div",{className:"dashboard-stat-card stat-card-green",children:l.jsxs("div",{className:"stat-card-inner",children:[l.jsx("div",{className:"stat-icon-box",style:{background:"linear-gradient(135deg, #047857, #10b981)"},children:l.jsx(Dr,{size:24,color:"#fff"})}),l.jsxs("div",{className:"stat-content",children:[l.jsx("div",{className:"stat-number",children:e.completedProblems}),l.jsx("div",{className:"stat-label-text",children:"Problems Solved"})]})]})}),l.jsx("div",{className:"dashboard-stat-card stat-card-pink",children:l.jsxs("div",{className:"stat-card-inner",children:[l.jsx("div",{className:"stat-icon-box",style:{background:"linear-gradient(135deg, #be185d, #ec4899)"},children:l.jsx(jl,{size:24,color:"#fff"})}),l.jsxs("div",{className:"stat-content",children:[l.jsxs("div",{className:"stat-number",children:[e.avgTaskScore,"%"]}),l.jsx("div",{className:"stat-label-text",children:"Avg Task Score"})]})]})}),l.jsx("div",{className:"dashboard-stat-card stat-card-emerald",children:l.jsxs("div",{className:"stat-card-inner",children:[l.jsx("div",{className:"stat-icon-box",style:{background:"linear-gradient(135deg, #059669, #34d399)"},children:l.jsx(kr,{size:24,color:"#fff"})}),l.jsxs("div",{className:"stat-content",children:[l.jsxs("div",{className:"stat-number",children:[e.avgProblemScore,"%"]}),l.jsx("div",{className:"stat-label-text",children:"Avg Problem Score"})]})]})}),l.jsx("div",{className:"dashboard-stat-card stat-card-purple",children:l.jsxs("div",{className:"stat-card-inner",children:[l.jsx("div",{className:"stat-icon-box",style:{background:"linear-gradient(135deg, #6d28d9, #8b5cf6)"},children:l.jsx(Zr,{size:24,color:"#fff"})}),l.jsxs("div",{className:"stat-content",children:[l.jsx("div",{className:"stat-number",children:e.completedAptitude}),l.jsx("div",{className:"stat-label-text",children:"Aptitude Taken"})]})]})})]}),l.jsxs("div",{className:"dashboard-main-grid",children:[l.jsxs("div",{className:"dashboard-panel",children:[l.jsxs("h3",{className:"panel-title",children:[l.jsx(Pg,{size:18,color:"#8b5cf6"})," My Skill Profile"]}),l.jsxs("div",{className:"skill-progress-container",children:[l.jsxs("div",{className:"skill-item",children:[l.jsxs("div",{className:"skill-header",children:[l.jsx("span",{className:"skill-name",children:"Coding Problems"}),l.jsxs("span",{className:"skill-count",style:{color:"#10b981"},children:[e.completedProblems,"/",e.totalProblems]})]}),l.jsx("div",{className:"skill-bar",style:{background:"rgba(16, 185, 129, 0.15)"},children:l.jsx("div",{className:"skill-fill",style:{width:`${e.totalProblems>0?e.completedProblems/e.totalProblems*100:0}%`,background:"linear-gradient(90deg, #059669, #10b981)"}})})]}),l.jsxs("div",{className:"skill-item",children:[l.jsxs("div",{className:"skill-header",children:[l.jsx("span",{className:"skill-name",children:"Aptitude Tests"}),l.jsxs("span",{className:"skill-count",style:{color:"#8b5cf6"},children:[e.completedAptitude,"/",e.totalAptitude]})]}),l.jsx("div",{className:"skill-bar",style:{background:"rgba(139, 92, 246, 0.15)"},children:l.jsx("div",{className:"skill-fill",style:{width:`${e.totalAptitude>0?e.completedAptitude/e.totalAptitude*100:0}%`,background:"linear-gradient(90deg, #7c3aed, #8b5cf6)"}})})]})]})]}),l.jsxs("div",{className:"dashboard-panel",children:[l.jsxs("div",{className:"panel-header",children:[l.jsxs("h3",{className:"panel-title",style:{margin:0},children:[l.jsx(vs,{size:18,color:"#3b82f6"})," Recent Submissions"]}),l.jsx("button",{onClick:()=>window.location.href="/student/submissions",className:"view-all-btn",children:"View All "})]}),l.jsx("div",{className:"submissions-list",children:e.recentSubmissions&&e.recentSubmissions.length>0?e.recentSubmissions.map((a,o)=>l.jsxs("div",{className:"submission-item",children:[l.jsx("div",{className:"submission-icon",children:l.jsx(Dr,{size:20,color:"#3b82f6"})}),l.jsxs("div",{className:"submission-info",children:[l.jsx("div",{className:"submission-title",children:a.title}),l.jsxs("div",{className:"submission-meta",children:[i(a.time),"  Score: ",a.score,"/100"]})]}),l.jsx("span",{className:`submission-status ${a.status}`,children:a.status})]},o)):l.jsxs("div",{className:"empty-state-small",children:[l.jsx(Dr,{size:32,color:"var(--text-muted)"}),"No submissions yet"]})})]}),l.jsxs("div",{className:"dashboard-panel",children:[l.jsxs("h3",{className:"panel-title",children:[l.jsx(ol,{size:18,color:"#fbbf24"})," Leaderboard"]}),l.jsx("div",{className:"leaderboard-list",children:e.leaderboard&&e.leaderboard.length>0?e.leaderboard.slice(0,5).map((a,o)=>l.jsxs("div",{className:`leaderboard-item ${a.studentId===t.id?"current-user":""}`,children:[l.jsx("div",{className:`rank-badge rank-${o+1}`,children:a.rank}),l.jsxs("div",{className:"leaderboard-info",children:[l.jsx("div",{className:"leaderboard-name",children:a.name}),l.jsxs("div",{className:"leaderboard-stats",children:[a.taskCount," tasks  ",a.codeCount," code  ",a.aptitudeCount," aptitude"]})]}),l.jsxs("div",{className:`leaderboard-score rank-${o+1}-score`,children:[a.avgScore,"%",l.jsx("span",{className:"score-label",children:"Avg Score"})]})]},o)):l.jsxs("div",{className:"empty-state-small",children:[l.jsx(ol,{size:32,color:"var(--text-muted)"}),"No leaderboard data"]})})]})]})]}):l.jsx("div",{children:"Error loading stats"})}function Hxt({user:t}){const[e,n]=C.useState([]),[r,s]=C.useState(!0),[i,a]=C.useState(null),[o,c]=C.useState(!1),[u,d]=C.useState("coding");C.useEffect(()=>{rt.get(`${Pi}/students/${t.id}/problems`).then(x=>{n(x.data),s(!1)}).catch(x=>s(!1))},[t.id]);const f=x=>{a(x),c(x.proctoring?.enabled===!0)},h=()=>{a(null),c(!1)},m=e.filter(x=>x.language!=="SQL"&&x.type!=="SQL"),g=e.filter(x=>x.language==="SQL"||x.type==="SQL");if(r)return l.jsx("div",{className:"loading-spinner"});const y=x=>l.jsxs("div",{className:"item-card glass",children:[l.jsxs("div",{className:"item-card-header",children:[l.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",flexWrap:"wrap"},children:[l.jsx("span",{style:{fontSize:"0.65rem",padding:"3px 8px",borderRadius:"4px",background:"var(--primary-alpha)",color:"var(--primary)",fontWeight:700},children:x.type?.toUpperCase()}),l.jsx("span",{className:`status-badge ${x.status||"live"}`,style:{fontSize:"0.65rem"},children:x.status||"Active"}),x.proctoring?.enabled&&l.jsxs("span",{style:{fontSize:"0.6rem",padding:"3px 8px",borderRadius:"4px",background:"rgba(239, 68, 68, 0.15)",color:"#ef4444",fontWeight:700,display:"flex",alignItems:"center",gap:"4px"},children:[l.jsx(Ui,{size:10})," PROCTORED"]})]}),l.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-muted)",background:"var(--bg-dark)",padding:"2px 8px",borderRadius:"4px"},children:x.language})]}),l.jsx("h3",{style:{margin:"0.75rem 0",fontSize:"1.2rem"},children:x.title}),l.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-muted)",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",marginBottom:"1rem"},children:x.description}),x.proctoring?.enabled&&l.jsx("div",{style:{padding:"0.5rem 0.75rem",background:"rgba(239, 68, 68, 0.08)",borderRadius:"8px",marginBottom:"0.75rem",border:"1px solid rgba(239, 68, 68, 0.15)"},children:l.jsxs("p",{style:{margin:0,fontSize:"0.75rem",color:"#f87171",display:"flex",alignItems:"center",gap:"6px",flexWrap:"wrap"},children:[l.jsx(_s,{size:12})," Proctoring Enabled:",x.proctoring.videoAudio&&l.jsx("span",{style:{marginLeft:"4px"},children:" Video"}),x.proctoring.disableCopyPaste&&l.jsx("span",{style:{marginLeft:"4px"},children:" No Copy"}),x.proctoring.trackTabSwitches&&l.jsx("span",{style:{marginLeft:"4px"},children:" Tab Track"}),x.proctoring.enableFaceDetection&&l.jsx("span",{style:{marginLeft:"4px"},children:" Face"}),x.proctoring.detectMultipleFaces&&l.jsx("span",{style:{marginLeft:"4px"},children:" Multi-Face"}),x.proctoring.trackFaceLookaway&&l.jsx("span",{style:{marginLeft:"4px"},children:" Lookaway"})]})}),l.jsxs("div",{style:{marginTop:"auto",display:"flex",justifyContent:"space-between",alignItems:"center",paddingTop:"1rem",borderTop:"1px solid var(--border-color)"},children:[l.jsx("span",{className:`difficulty-badge ${x.difficulty?.toLowerCase()}`,children:x.difficulty}),l.jsxs("button",{onClick:()=>f(x),className:"btn-create-new",style:{padding:"0.5rem 1rem",fontSize:"0.85rem"},children:[l.jsx(ef,{size:16})," Solve"]})]})]},x.id);return l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"1.5rem",padding:"0.5rem",background:"var(--bg-card)",borderRadius:"12px",width:"fit-content"},children:[l.jsxs("button",{onClick:()=>d("coding"),style:{padding:"0.75rem 1.5rem",borderRadius:"8px",border:"none",cursor:"pointer",fontWeight:600,fontSize:"0.9rem",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.2s ease",background:u==="coding"?"var(--primary)":"transparent",color:u==="coding"?"white":"var(--text-muted)"},children:[l.jsx(Dr,{size:18}),"Coding Problems",l.jsx("span",{style:{background:u==="coding"?"rgba(255,255,255,0.2)":"var(--bg-dark)",padding:"2px 8px",borderRadius:"12px",fontSize:"0.75rem"},children:m.length})]}),l.jsxs("button",{onClick:()=>d("sql"),style:{padding:"0.75rem 1.5rem",borderRadius:"8px",border:"none",cursor:"pointer",fontWeight:600,fontSize:"0.9rem",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.2s ease",background:u==="sql"?"linear-gradient(135deg, #06b6d4, #0891b2)":"transparent",color:u==="sql"?"white":"var(--text-muted)"},children:[l.jsx(Oa,{size:18}),"SQL Problems",l.jsx("span",{style:{background:u==="sql"?"rgba(255,255,255,0.2)":"var(--bg-dark)",padding:"2px 8px",borderRadius:"12px",fontSize:"0.75rem"},children:g.length})]})]}),u==="coding"&&l.jsx("div",{className:"cards-grid animate-slideUp",children:m.length===0?l.jsxs("div",{className:"empty-state",style:{gridColumn:"1 / -1"},children:[l.jsx("div",{className:"empty-state-icon",children:l.jsx(Dr,{size:40})}),l.jsx("h3",{children:"No Coding Problems"}),l.jsx("p",{children:"Your mentor hasn't assigned any coding problems yet."})]}):m.map(x=>y(x))}),u==="sql"&&l.jsx("div",{className:"cards-grid animate-slideUp",children:g.length===0?l.jsxs("div",{className:"empty-state",style:{gridColumn:"1 / -1"},children:[l.jsx("div",{className:"empty-state-icon",children:l.jsx(Oa,{size:40})}),l.jsx("h3",{children:"No SQL Problems"}),l.jsx("p",{children:"Your mentor hasn't assigned any SQL problems yet."})]}):g.map(x=>y(x))}),i&&o&&l.jsx(sVe,{problem:i,user:t,onClose:h,onSubmitSuccess:()=>{rt.get(`${Pi}/students/${t.id}/problems`).then(x=>n(x.data))}}),i&&!o&&l.jsx(Wxt,{problem:i,user:t,onClose:h})]})}function Wxt({problem:t,user:e,onClose:n}){const r=Iv[t.language]||Iv.Python,[s,i]=C.useState(r.defaultCode),[a,o]=C.useState(t.language||"Python"),[c,u]=C.useState("validator"),[d,f]=C.useState(""),[h,m]=C.useState("idle"),[g,y]=C.useState(null),[x,v]=C.useState(0),[w,B]=C.useState(!1),[k,E]=C.useState(!1),[N,O]=C.useState(""),[F,D]=C.useState(!1),[T,j]=C.useState(null),[P,U]=C.useState(t.sampleInput||t.testInput||""),[z,ee]=C.useState("input"),q=C.useRef(null);C.useEffect(()=>{const Ee=setTimeout(async()=>{try{q.current&&document.fullscreenEnabled&&(await q.current.requestFullscreen(),B(!0))}catch(ye){console.warn("Could not enter fullscreen:",ye)}},100);return()=>clearTimeout(Ee)},[]),C.useEffect(()=>{const ve=()=>{const Ee=!!document.fullscreenElement;B(Ee),!Ee&&!g&&(O(" You exited fullscreen mode! This action has been recorded."),E(!0),v(ye=>ye+1),setTimeout(async()=>{if(q.current&&document.fullscreenEnabled)try{await q.current.requestFullscreen()}catch{}},500))};return document.addEventListener("fullscreenchange",ve),()=>document.removeEventListener("fullscreenchange",ve)},[g]);const[Z,G]=C.useState(!1);C.useEffect(()=>{const ve=()=>{document.hidden&&!g&&!Z&&v(Ee=>{const ye=Ee+1;return ye>=3?(O(` DISQUALIFIED! You have exceeded the maximum allowed tab switches (${ye}/3). Session terminated.`),E(!0),G(!0),setTimeout(async()=>{try{await rt.post(`${Pi}/submissions`,{studentId:e.id,problemId:t.id,language:a,code:s,submissionType:"editor",tabSwitches:ye})}catch(Ue){console.error("Auto-submit failed:",Ue)}document.fullscreenElement&&document.exitFullscreen(),n()},3e3)):(O(` Tab switch detected! (${ye}/3 violations) ${3-ye} more will disqualify you!`),E(!0)),ye})};return document.addEventListener("visibilitychange",ve),()=>document.removeEventListener("visibilitychange",ve)},[g,Z,e.id,t.id,a,s,n]),C.useEffect(()=>{if(k){const ve=setTimeout(()=>E(!1),3e3);return()=>clearTimeout(ve)}},[k]);const ne=ve=>{o(ve),i(Iv[ve]?.defaultCode||"")},K=async()=>{m("running"),f(`Running code...
`),ee("output");try{const ve=await rt.post(`${Pi}/run`,{code:s,language:a,problemId:t.id,sqlSchema:t.sqlSchema,stdin:P||""});f(ve.data.output),m(ve.data.status==="error"?"error":"success");try{const Ee=await rt.post(`${Pi}/run-with-tests`,{problemId:t.id,code:s,language:a});Ee.data?.testResults&&j({passed:Ee.data.testResults.filter(ye=>ye.passed).length,total:Ee.data.testResults.length,results:Ee.data.testResults})}catch(Ee){console.log("No test cases or test run failed:",Ee)}}catch(ve){f(`Error: ${ve.response?.data?.details||"Failed to execute code."}`),m("error")}},[H,Q]=C.useState(null),[X,re]=C.useState(!1),[le,he]=C.useState(!1),xe=async()=>{re(!0),he(!0);try{const ve=await rt.post(`${Pi}/hints`,{code:s,language:a,problemId:t.id});Q(ve.data)}catch{Q({hints:["Think about the problem step by step.","Consider what data structure would be most efficient."],encouragement:"Don't give up! Every expert was once a beginner.",error:!0})}finally{re(!1)}},Be=async()=>{m("submitting");try{const ve=await rt.post(`${Pi}/submissions`,{studentId:e.id,problemId:t.id,language:a,code:s,submissionType:"editor",tabSwitches:x});y(ve.data),m("done"),document.fullscreenElement&&document.exitFullscreen()}catch{y({status:"rejected",score:0,feedback:"Submission failed."}),m("error")}},me=()=>{!g&&!window.confirm("Exiting early will be recorded. Are you sure?")||(document.fullscreenElement&&document.exitFullscreen(),n())};return l.jsxs("div",{ref:q,className:"proctored-container",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"#0f172a",zIndex:1e4,display:"flex",flexDirection:"column"},children:[k&&l.jsxs("div",{style:{position:"fixed",top:"1rem",left:"50%",transform:"translateX(-50%)",background:"linear-gradient(135deg, #ef4444, #dc2626)",color:"white",padding:"1rem 2rem",borderRadius:"0.75rem",zIndex:10001,boxShadow:"0 10px 40px rgba(239, 68, 68, 0.5)",display:"flex",alignItems:"center",gap:"0.75rem"},children:[l.jsx(Qn,{size:24}),l.jsx("span",{style:{fontWeight:600},children:N})]}),l.jsxs("div",{style:{borderBottom:"1px solid #334155",background:"#1e293b",padding:"1rem 2rem",flexShrink:0,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("div",{style:{display:"flex",alignItems:"center",gap:"1.5rem"},children:l.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[l.jsxs("h2",{style:{color:"#f8fafc",fontSize:"1.25rem",marginBottom:"0.25rem",display:"flex",alignItems:"center",gap:"1rem"},children:[t.title,l.jsxs("span",{style:{fontSize:"0.75rem",padding:"0.25rem 0.75rem",borderRadius:"2rem",background:"rgba(239, 68, 68, 0.2)",color:"#ef4444",border:"1px solid rgba(239, 68, 68, 0.3)",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"#ef4444",animation:"pulse 2s infinite"}})," PROCTORED MODE"]})]}),l.jsxs("div",{style:{display:"flex",gap:"8px"},children:[l.jsx("span",{style:{fontSize:"0.7rem",padding:"2px 8px",borderRadius:"4px",background:"rgba(59, 130, 246, 0.2)",color:"#60a5fa"},children:t.type||"coding"}),l.jsx("span",{className:`difficulty-badge ${t.difficulty?.toLowerCase()}`,children:t.difficulty?.toUpperCase()}),x>0&&l.jsxs("span",{style:{fontSize:"0.7rem",padding:"2px 8px",borderRadius:"4px",background:"rgba(239, 68, 68, 0.2)",color:"#ef4444",fontWeight:600},children:[" ",x," violations"]})]})]})}),l.jsx("button",{onClick:me,style:{background:"#334155",border:"none",color:"white",padding:"0.5rem 1rem",borderRadius:"0.5rem",cursor:"pointer"},children:"Exit Session"})]}),l.jsxs("div",{style:{padding:0,display:"flex",flexDirection:"row",flex:1,minHeight:0,overflow:"hidden",background:"#0f172a"},children:[l.jsxs("div",{style:{width:"400px",borderRight:"1px solid #334155",padding:"2rem",overflowY:"auto",background:"#0f172a"},children:[l.jsx("h3",{style:{marginTop:0,marginBottom:"1.5rem",color:"#f8fafc"},children:"Problem Description"}),l.jsxs("div",{style:{color:"#cbd5e1",fontSize:"0.95rem",lineHeight:"1.7"},children:[t.description,t.type==="SQL"||t.language==="SQL"?l.jsxs("div",{style:{background:"#1e293b",padding:"1.5rem",borderRadius:"0.5rem",border:"1px solid #334155",marginTop:"1.5rem"},children:[t.sqlSchema&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{marginBottom:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx("span",{style:{color:"#06b6d4"},children:""}),l.jsx("strong",{style:{color:"#e2e8f0"},children:"Database Schema:"})]}),l.jsx("pre",{style:{color:"#93c5fd",background:"#0f172a",padding:"1rem",borderRadius:"6px",marginBottom:"1rem",fontSize:"0.8rem",overflowX:"auto",whiteSpace:"pre-wrap",border:"1px solid #334155"},children:t.sqlSchema})]}),t.expectedQueryResult&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{marginBottom:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx("span",{style:{color:"#10b981"},children:""}),l.jsx("strong",{style:{color:"#e2e8f0"},children:"Expected Query Result:"})]}),l.jsx("pre",{style:{color:"#4ade80",background:"#0f172a",padding:"1rem",borderRadius:"6px",fontSize:"0.8rem",overflowX:"auto",whiteSpace:"pre-wrap",border:"1px solid #334155"},children:t.expectedQueryResult})]}),!t.sqlSchema&&!t.expectedQueryResult&&l.jsx("p",{style:{color:"#94a3b8",fontStyle:"italic",margin:0},children:"Write a SQL query to solve this problem. Your query will be executed against the database."})]}):l.jsxs("div",{style:{background:"#1e293b",padding:"1.5rem",borderRadius:"0.5rem",border:"1px solid #334155",marginTop:"1.5rem"},children:[l.jsx("div",{style:{marginBottom:"0.5rem"},children:l.jsx("strong",{style:{color:"#e2e8f0"},children:"Sample Input:"})}),l.jsx("code",{style:{color:"#93c5fd",background:"#0f172a",padding:"0.4rem 0.8rem",borderRadius:"4px",display:"block",marginBottom:"1rem"},children:t.sampleInput||t.testInput||"N/A"}),l.jsx("div",{style:{marginBottom:"0.5rem"},children:l.jsx("strong",{style:{color:"#e2e8f0"},children:"Expected Output:"})}),l.jsx("code",{style:{color:"#4ade80",background:"#0f172a",padding:"0.4rem 0.8rem",borderRadius:"4px",display:"block"},children:t.expectedOutput||"N/A"})]})]}),l.jsxs("div",{style:{marginTop:"2rem",background:"linear-gradient(135deg, rgba(251, 191, 36, 0.1), rgba(245, 158, 11, 0.05))",border:"1px solid rgba(251, 191, 36, 0.3)",borderRadius:"0.75rem",padding:"1.25rem"},children:[l.jsxs("h4",{style:{margin:"0 0 0.75rem",color:"#fbbf24",fontSize:"0.9rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(xh,{size:16})," Need Help?"]}),le?l.jsx("div",{children:X?l.jsxs("div",{style:{textAlign:"center",padding:"1rem"},children:[l.jsx("div",{style:{color:"#fbbf24",marginBottom:"0.5rem"},children:""}),l.jsx("p",{style:{color:"#94a3b8",fontSize:"0.85rem",margin:0},children:"Analyzing your code..."})]}):H&&l.jsxs("div",{children:[H.encouragement&&l.jsx("div",{style:{background:"rgba(34, 197, 94, 0.1)",padding:"0.75rem",borderRadius:"0.5rem",marginBottom:"1rem",border:"1px solid rgba(34, 197, 94, 0.2)"},children:l.jsxs("p",{style:{color:"#4ade80",fontSize:"0.8rem",margin:0,display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(Po,{size:14})," ",H.encouragement]})}),l.jsxs("div",{style:{marginBottom:"1rem"},children:[l.jsx("p",{style:{color:"#e2e8f0",fontSize:"0.8rem",fontWeight:600,margin:"0 0 0.5rem"},children:" Hints:"}),l.jsx("ul",{style:{margin:0,paddingLeft:"1.25rem",color:"#cbd5e1",fontSize:"0.8rem",lineHeight:1.8},children:H.hints?.map((ve,Ee)=>l.jsx("li",{style:{marginBottom:"0.5rem"},children:ve},Ee))})]}),H.conceptsToReview&&H.conceptsToReview.length>0&&l.jsxs("div",{style:{marginBottom:"1rem"},children:[l.jsxs("p",{style:{color:"#e2e8f0",fontSize:"0.8rem",fontWeight:600,margin:"0 0 0.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(A2,{size:14})," Concepts to Review:"]}),l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:H.conceptsToReview.map((ve,Ee)=>l.jsx("span",{style:{background:"rgba(59, 130, 246, 0.2)",color:"#60a5fa",padding:"0.25rem 0.75rem",borderRadius:"2rem",fontSize:"0.7rem",border:"1px solid rgba(59, 130, 246, 0.3)"},children:ve},Ee))})]}),H.commonMistakes&&l.jsx("div",{style:{background:"rgba(239, 68, 68, 0.1)",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid rgba(239, 68, 68, 0.2)"},children:l.jsxs("p",{style:{color:"#f87171",fontSize:"0.8rem",margin:0},children:[l.jsx("strong",{children:" Common Mistake:"})," ",H.commonMistakes]})}),l.jsx("button",{onClick:()=>{he(!1),Q(null)},style:{background:"transparent",border:"1px solid #334155",color:"#94a3b8",padding:"0.5rem 1rem",borderRadius:"6px",cursor:"pointer",fontSize:"0.8rem",marginTop:"1rem",width:"100%"},children:"Hide Hints"})]})}):l.jsxs("div",{children:[l.jsx("p",{style:{color:"#94a3b8",fontSize:"0.8rem",margin:"0 0 1rem",lineHeight:1.6},children:"Stuck on this problem? Get AI-powered hints to guide you without revealing the full solution."}),l.jsxs("button",{onClick:xe,disabled:X,style:{background:"linear-gradient(135deg, #fbbf24, #f59e0b)",border:"none",color:"#1e293b",padding:"0.6rem 1.2rem",borderRadius:"6px",cursor:"pointer",fontWeight:600,fontSize:"0.85rem",display:"flex",alignItems:"center",gap:"0.5rem",width:"100%",justifyContent:"center"},children:[l.jsx(Po,{size:16})," ",X?"Getting Hints...":"Get AI Hints"]})]})]}),l.jsxs("div",{style:{marginTop:"2rem",background:"rgba(239, 68, 68, 0.05)",border:"1px solid rgba(239, 68, 68, 0.2)",borderRadius:"0.75rem",padding:"1.25rem"},children:[l.jsxs("h4",{style:{margin:"0 0 0.75rem",color:"#ef4444",fontSize:"0.9rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(Qn,{size:16})," Proctoring Rules"]}),l.jsxs("ul",{style:{margin:0,paddingLeft:"1.25rem",color:"#94a3b8",fontSize:"0.8rem",lineHeight:1.8},children:[l.jsx("li",{children:"Do not switch tabs or windows"}),l.jsx("li",{children:"Do not exit fullscreen mode"}),l.jsx("li",{children:"All violations are recorded"}),l.jsx("li",{children:"3+ violations may result in disqualification"})]})]})]}),l.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",background:"#1e293b"},children:[l.jsxs("div",{style:{padding:"0.75rem 1rem",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid #334155",background:"#1e293b"},children:[l.jsxs("div",{style:{display:"flex",gap:"0.75rem",alignItems:"center"},children:[l.jsx("label",{style:{color:"#94a3b8",fontSize:"0.85rem"},children:"Language:"}),l.jsx("select",{value:a,onChange:ve=>ne(ve.target.value),disabled:t.type==="SQL"||t.language==="SQL",style:{background:"#0f172a",color:"#f8fafc",border:"1px solid #334155",borderRadius:"6px",padding:"0.4rem 0.75rem",fontSize:"0.85rem",opacity:t.type==="SQL"||t.language==="SQL"?.7:1,cursor:t.type==="SQL"||t.language==="SQL"?"not-allowed":"pointer"},children:Object.keys(Iv).map(ve=>l.jsx("option",{value:ve,children:ve},ve))})]}),l.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[a!=="SQL"&&l.jsxs("button",{onClick:K,disabled:h==="running"||h==="submitting",style:{background:"linear-gradient(135deg, #3b82f6, #2563eb)",border:"none",color:"white",padding:"0.5rem 1.25rem",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:600,fontSize:"0.85rem"},children:[l.jsx(ef,{size:16})," ",h==="running"?"Running...":"Run Code"]}),l.jsxs("button",{onClick:Be,disabled:h==="running"||h==="submitting"||g,style:{background:g?"#334155":"linear-gradient(135deg, #10b981, #059669)",border:"none",color:"white",padding:"0.5rem 1.25rem",borderRadius:"6px",cursor:g?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:600,fontSize:"0.85rem"},children:[l.jsx(_c,{size:16})," ",h==="submitting"?"Submitting...":"Submit"]})]})]}),l.jsx("div",{style:{flex:1,position:"relative",minHeight:0},children:l.jsx(hw,{height:"100%",language:Iv[a]?.monacoLang||"python",theme:"vs-dark",value:s,onChange:ve=>i(ve),options:{minimap:{enabled:!1},fontSize:14,scrollBeyondLastLine:!1,automaticLayout:!0,padding:{top:20}}})}),g&&l.jsxs("div",{style:{padding:"1.5rem",background:g.status==="accepted"?"rgba(16, 185, 129, 0.1)":"rgba(239, 68, 68, 0.1)",borderTop:`2px solid ${g.status==="accepted"?"#10b981":"#ef4444"}`,display:"flex",alignItems:"center",gap:"1.5rem"},children:[g.status==="accepted"?l.jsx($n,{size:40,color:"#10b981"}):l.jsx(Jr,{size:40,color:"#ef4444"}),l.jsxs("div",{children:[l.jsx("h4",{style:{margin:0,color:g.status==="accepted"?"#10b981":"#ef4444"},children:g.status==="accepted"?"Accepted!":"Rejected"}),l.jsxs("p",{style:{margin:"0.25rem 0 0",color:"#e2e8f0"},children:["Score: ",l.jsxs("strong",{children:[g.score,"/100"]}),"  ",g.feedback,x>0&&l.jsxs("span",{style:{color:"#f59e0b"},children:["  Tab violations: ",x]})]})]}),l.jsx("button",{onClick:me,style:{marginLeft:"auto",background:"linear-gradient(135deg, #3b82f6, #2563eb)",border:"none",color:"white",padding:"0.75rem 1.5rem",borderRadius:"0.5rem",cursor:"pointer",fontWeight:600},children:"Close Session"})]}),!g&&a!=="SQL"&&l.jsxs("div",{style:{maxHeight:"350px",background:"#020617",borderTop:"1px solid #334155",display:"flex",flexDirection:"column",overflowY:"auto"},children:[l.jsx("div",{style:{display:"flex",borderBottom:"1px solid #1e293b",background:"#0f172a"},children:["input","output","tests"].map(ve=>l.jsxs("button",{onClick:()=>ee(ve),style:{padding:"0.75rem 1.25rem",background:z===ve?"#1e293b":"transparent",border:"none",borderBottom:z===ve?`2px solid ${ve==="input"?"#f59e0b":ve==="output"?"#3b82f6":"#10b981"}`:"2px solid transparent",color:z===ve?ve==="input"?"#fbbf24":ve==="output"?"#60a5fa":"#4ade80":"#64748b",cursor:"pointer",fontSize:"0.85rem",fontWeight:500,display:"flex",alignItems:"center",gap:"0.5rem"},children:[ve==="input"&&l.jsxs(l.Fragment,{children:[l.jsx(Oa,{size:14})," Custom Input"]}),ve==="output"&&l.jsxs(l.Fragment,{children:[l.jsx(Dr,{size:14})," Output ",d&&l.jsx("span",{style:{width:6,height:6,borderRadius:"50%",background:h==="success"?"#10b981":h==="error"?"#ef4444":"#3b82f6"}})]}),ve==="tests"&&l.jsxs(l.Fragment,{children:[l.jsx($n,{size:14})," Test Cases",T&&l.jsxs("span",{style:{padding:"2px 8px",borderRadius:"10px",fontSize:"0.7rem",fontWeight:600,background:T.passed===T.total?"rgba(16, 185, 129, 0.2)":"rgba(249, 115, 22, 0.2)",color:T.passed===T.total?"#10b981":"#f97316"},children:[T.passed,"/",T.total]})]})]},ve))}),z==="input"&&l.jsxs("div",{style:{padding:"0.75rem",flex:1},children:[l.jsx("textarea",{value:P,onChange:ve=>U(ve.target.value),placeholder:`Enter your input here (stdin)...
Example:
5
1 2 3 4 5`,style:{width:"100%",minHeight:"120px",background:"#0f172a",color:"#e2e8f0",border:"1px solid #334155",borderRadius:"8px",padding:"0.75rem",fontFamily:"monospace",fontSize:"0.85rem",resize:"vertical",outline:"none"}}),l.jsx("div",{style:{marginTop:"0.5rem",fontSize:"0.7rem",color:"#64748b"},children:' This input will be passed as stdin when you click "Run Code"'})]}),z==="output"&&l.jsx("div",{style:{padding:"1rem",fontFamily:"monospace",color:"#e2e8f0",fontSize:"0.9rem",whiteSpace:"pre-wrap",flex:1,overflowY:"auto"},children:d||"No output yet. Run your code to see results."}),z==="tests"&&l.jsx("div",{style:{flex:1,overflowY:"auto",padding:"1rem"},children:l.jsx(kae,{problemId:t.id,code:s,language:a,showRunButton:!0,onRunComplete:ve=>{ve?.testResults&&j({passed:ve.testResults.filter(Ee=>Ee.passed).length,total:ve.testResults.length})}})})]}),(t.type==="SQL"||t.language==="SQL")&&!g&&l.jsxs("div",{style:{borderTop:"1px solid #334155",padding:"1.25rem",background:"#0f172a"},children:[l.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"1.25rem",padding:"4px",background:"#020617",borderRadius:"10px",width:"fit-content"},children:[l.jsxs("button",{onClick:()=>u("validator"),style:{padding:"0.6rem 1.25rem",borderRadius:"8px",border:"none",cursor:"pointer",background:c==="validator"?"rgba(59, 130, 246, 0.15)":"transparent",color:c==="validator"?"#60a5fa":"#64748b",fontSize:"0.85rem",fontWeight:600,display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(Ui,{size:16})," Validator"]}),l.jsxs("button",{onClick:()=>u("visualizer"),style:{padding:"0.6rem 1.25rem",borderRadius:"8px",border:"none",cursor:"pointer",background:c==="visualizer"?"rgba(139, 92, 246, 0.15)":"transparent",color:c==="visualizer"?"#a78bfa":"#64748b",fontSize:"0.85rem",fontWeight:600,display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(Ka,{size:16})," ER Diagram"]}),l.jsxs("button",{onClick:()=>u("debugger"),style:{padding:"0.6rem 1.25rem",borderRadius:"8px",border:"none",cursor:"pointer",background:c==="debugger"?"rgba(16, 185, 129, 0.15)":"transparent",color:c==="debugger"?"#4ade80":"#64748b",fontSize:"0.85rem",fontWeight:600,display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(qu,{size:16})," Debugger"]})]}),l.jsxs("div",{className:"sql-tool-container animate-fadeIn",children:[c==="validator"&&l.jsx(Eae,{query:s,onQueryChange:i,schemaContext:t.sqlSchema}),c==="visualizer"&&l.jsx(Iae,{schema:t.sqlSchema}),c==="debugger"&&l.jsx(Nae,{query:s,schema:t.sqlSchema})]})]})]})]}),l.jsx("style",{children:`
                @keyframes pulse {
                    0% { opacity: 1; transform: scale(1); }
                    50% { opacity: 0.5; transform: scale(1.2); }
                    100% { opacity: 1; transform: scale(1); }
                }
            `})]})}function Vxt({user:t}){const[e,n]=C.useState([]),[r,s]=C.useState([]),[i,a]=C.useState([]),[o,c]=C.useState(!0),[u,d]=C.useState(null),[f,h]=C.useState("all"),[m,g]=C.useState(null),[y,x]=C.useState(null),[v,w]=C.useState(""),B=()=>{c(!0),Promise.all([rt.get(`${Pi}/submissions?studentId=${t.id}`),rt.get(`${Pi}/aptitude-submissions?studentId=${t.id}`),rt.get(`${Pi}/global-test-submissions?studentId=${t.id}`)]).then(([F,D,T])=>{const P=(Array.isArray(F.data)?F.data:F.data?.data||[]).map(U=>({...U,subType:"code"}));n(P),s((D.data||[]).map(U=>({...U,subType:"aptitude",itemTitle:U.testTitle}))),a((T.data||[]).map(U=>({...U,subType:"global",itemTitle:U.testTitle,score:U.overallPercentage}))),c(!1)}).catch(F=>{console.error("Fetch submissions error:",F),c(!1)})};C.useEffect(()=>{B()},[t.id]);const k=async F=>{if(window.confirm("Are you sure you want to delete this submission?"))try{const D=F.subType==="global"?`${Pi}/global-test-submissions/${F.id}`:`${Pi}/submissions/${F.id}`;await rt.delete(D),B()}catch{alert("Error deleting submission")}},E=[...e,...r,...i].sort((F,D)=>new Date(D.submittedAt)-new Date(F.submittedAt)),O=(f==="all"?E:f==="code"?e:f==="aptitude"?r:i).filter(D=>(D.itemTitle||D.testTitle||"").toLowerCase().includes(v.toLowerCase())||D.status.toLowerCase().includes(v.toLowerCase()));return o?l.jsx("div",{className:"loading-spinner"}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",marginBottom:"1.5rem"},children:[l.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[l.jsxs("button",{onClick:()=>h("all"),style:{padding:"0.6rem 1.2rem",background:f==="all"?"var(--primary)":"rgba(59, 130, 246, 0.1)",border:f==="all"?"none":"1px solid var(--border-color)",borderRadius:"8px",color:f==="all"?"white":"var(--text-muted)",cursor:"pointer",fontWeight:500},children:["All (",E.length,")"]}),l.jsxs("button",{onClick:()=>h("code"),style:{padding:"0.6rem 1.2rem",background:f==="code"?"var(--primary)":"rgba(59, 130, 246, 0.1)",border:f==="code"?"none":"1px solid var(--border-color)",borderRadius:"8px",color:f==="code"?"white":"var(--text-muted)",cursor:"pointer",fontWeight:500},children:[" Code (",e.length,")"]}),l.jsxs("button",{onClick:()=>h("aptitude"),style:{padding:"0.6rem 1.2rem",background:f==="aptitude"?"#8b5cf6":"rgba(139, 92, 246, 0.1)",border:f==="aptitude"?"none":"1px solid var(--border-color)",borderRadius:"8px",color:f==="aptitude"?"white":"var(--text-muted)",cursor:"pointer",fontWeight:500},children:[" Aptitude (",r.length,")"]}),l.jsxs("button",{onClick:()=>h("global"),style:{padding:"0.6rem 1.2rem",background:f==="global"?"#3b82f6":"rgba(59, 130, 246, 0.1)",border:f==="global"?"none":"1px solid var(--border-color)",borderRadius:"8px",color:f==="global"?"white":"var(--text-muted)",cursor:"pointer",fontWeight:500},children:[" Global (",i.length,")"]})]}),l.jsxs("div",{style:{position:"relative"},children:[l.jsx(P1,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)"}}),l.jsx("input",{type:"text",placeholder:"Search problem or status...",style:{padding:"0.6rem 1rem 0.6rem 2.5rem",background:"var(--bg-card)",border:"1px solid var(--border-color)",borderRadius:"8px",color:"white",width:"250px"},value:v,onChange:F=>w(F.target.value)})]})]}),l.jsx("div",{className:"table-container animate-slideUp card glass",children:l.jsxs("table",{children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Type"}),l.jsx("th",{children:"Problem / Test"}),l.jsx("th",{children:"Language"}),l.jsx("th",{children:"Score"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Submitted At"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:O.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"7",style:{textAlign:"center",padding:"3rem"},children:"No submissions found"})}):O.map(F=>l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("span",{style:{fontSize:"0.75rem",padding:"2px 8px",borderRadius:"4px",background:F.subType==="aptitude"?"rgba(139, 92, 246, 0.1)":"var(--primary-alpha)",color:F.subType==="aptitude"?"#8b5cf6":"var(--primary)"},children:F.subType==="aptitude"?" Aptitude":F.subType==="global"?" Global":" Code"})}),l.jsx("td",{children:l.jsx("div",{style:{color:"var(--primary)",fontWeight:500},children:F.itemTitle||F.testTitle})}),l.jsx("td",{children:l.jsx("span",{style:{fontSize:"0.75rem",padding:"2px 8px",borderRadius:"4px",background:"rgba(59, 130, 246, 0.1)",color:"var(--primary)"},children:F.subType==="aptitude"?"N/A":F.subType==="global"?"Mixed":F.language?.toUpperCase()||"N/A"})}),l.jsxs("td",{style:{fontWeight:700,fontSize:"1.1rem"},children:[F.score,"%"]}),l.jsx("td",{children:l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.25rem",alignItems:"center"},children:[l.jsx("span",{className:`status-badge ${F.status}`,children:F.status}),F.plagiarism?.detected&&l.jsxs("span",{className:"status-badge plagiarized",style:{display:"flex",alignItems:"center",gap:"3px"},children:[l.jsx(Qn,{size:11})," Plag"]}),(F.integrity?.integrityViolation||F.tabSwitches>0)&&l.jsxs("span",{style:{fontSize:"0.65rem",padding:"2px 6px",borderRadius:"4px",background:"rgba(245, 158, 11, 0.15)",color:"#f59e0b",border:"1px solid rgba(245, 158, 11, 0.3)",display:"flex",alignItems:"center",gap:"3px"},children:[l.jsx(Qn,{size:10})," ",F.integrity?.tabSwitches||F.tabSwitches||0," Tab"]}),F.cameraBlockedCount>0&&l.jsxs("span",{style:{fontSize:"0.65rem",padding:"2px 6px",borderRadius:"4px",background:"rgba(239, 68, 68, 0.15)",color:"#ef4444",border:"1px solid rgba(239, 68, 68, 0.3)",display:"flex",alignItems:"center",gap:"3px"},children:[" ",F.cameraBlockedCount," Cam"]}),F.phoneDetectionCount>0&&l.jsxs("span",{style:{fontSize:"0.65rem",padding:"2px 6px",borderRadius:"4px",background:"rgba(239, 68, 68, 0.15)",color:"#ef4444",border:"1px solid rgba(239, 68, 68, 0.3)",display:"flex",alignItems:"center",gap:"3px"},children:[" ",F.phoneDetectionCount," Phone"]})]})}),l.jsx("td",{style:{fontSize:"0.85rem",color:"var(--text-muted)"},children:new Date(F.submittedAt).toLocaleString()}),l.jsx("td",{children:l.jsx("div",{style:{display:"flex",gap:"0.5rem"},children:F.subType==="aptitude"?l.jsxs("button",{onClick:()=>g(F),style:{background:"rgba(139, 92, 246, 0.1)",border:"none",color:"#8b5cf6",padding:"0.4rem 0.75rem",borderRadius:"6px",cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"4px"},children:[l.jsx(_s,{size:14})," Results"]}):F.subType==="global"?l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>x(F.id),style:{background:"var(--primary-alpha)",border:"none",color:"var(--primary)",padding:"0.4rem 0.75rem",borderRadius:"6px",cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"4px"},children:[l.jsx(_s,{size:14})," Full Report"]}),l.jsx("button",{onClick:()=>k(F),style:{background:"var(--danger-alpha)",border:"none",color:"var(--danger)",padding:"0.4rem 0.75rem",borderRadius:"6px",cursor:"pointer",fontSize:"0.8rem"},children:l.jsx(Nl,{size:14})})]}):l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>d(F),style:{background:"var(--primary-alpha)",border:"none",color:"var(--primary)",padding:"0.4rem 0.75rem",borderRadius:"6px",cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"4px"},children:[l.jsx(_s,{size:14})," Report"]}),l.jsx("button",{onClick:()=>k(F),style:{background:"var(--danger-alpha)",border:"none",color:"var(--danger)",padding:"0.4rem 0.75rem",borderRadius:"6px",cursor:"pointer",fontSize:"0.8rem"},children:l.jsx(Nl,{size:14})})]})})})]},F.id))})]})}),u&&l.jsx(qxt,{submission:u,user:t,onClose:()=>d(null)}),m&&l.jsx(J$,{submission:m,onClose:()=>g(null),isStudentView:!0}),y&&l.jsx(vz,{submissionId:y,onClose:()=>x(null),isStudentView:!0})]})}function qxt({submission:t,user:e,onClose:n}){const r=o=>{if(!o)return{score:0,max:0,comment:""};const c=o.match(/(\d+)\/(\d+)/);return c?{score:parseInt(c[1]),max:parseInt(c[2]),comment:o.replace(/\d+\/\d+\s*[-]?\s*/,"").trim()}:{score:0,max:0,comment:o}},s=t.analysis||{},i={correctness:r(s.correctness),efficiency:r(s.efficiency),codeStyle:r(s.codeStyle),bestPractices:r(s.bestPractices)},a=({label:o,icon:c,score:u,max:d,comment:f,color:h})=>l.jsxs("div",{style:{marginBottom:"1rem"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[c,l.jsx("span",{style:{fontWeight:600,fontSize:"0.9rem"},children:o})]}),l.jsxs("span",{style:{fontWeight:700,color:h},children:[u,"/",d]})]}),l.jsx("div",{style:{background:"var(--bg-dark)",borderRadius:"0.5rem",height:"8px",overflow:"hidden"},children:l.jsx("div",{style:{width:d>0?`${u/d*100}%`:"0%",height:"100%",background:`linear-gradient(90deg, ${h}, ${h}88)`,borderRadius:"0.5rem",transition:"width 0.5s ease"}})}),f&&l.jsx("p",{style:{margin:"0.5rem 0 0",fontSize:"0.8rem",color:"var(--text-muted)"},children:f})]});return l.jsx("div",{className:"modal-overlay",onClick:n,children:l.jsxs("div",{className:"modal-content",onClick:o=>o.stopPropagation(),style:{maxWidth:"900px"},children:[l.jsxs("div",{className:"modal-header",children:[l.jsxs("div",{className:"modal-title-with-icon",children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",background:t.status==="accepted"?"linear-gradient(135deg, var(--success), #06b6d4)":"linear-gradient(135deg, var(--danger), var(--warning))",display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx(Oa,{size:20,color:"white"})}),l.jsx("h2",{children:"Submission Report"})]}),l.jsx("button",{onClick:n,className:"modal-close",children:l.jsx(Jr,{size:20})})]}),l.jsxs("div",{className:"modal-body",style:{maxHeight:"75vh",overflowY:"auto"},children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"1rem",marginBottom:"2rem",padding:"1.5rem",background:"var(--bg-dark)",borderRadius:"1rem",border:"1px solid var(--border-color)"},children:[l.jsxs("div",{children:[l.jsx("span",{style:{color:"var(--text-muted)",fontSize:"0.8rem"},children:"Student"}),l.jsx("p",{style:{margin:"0.25rem 0 0",fontWeight:600,fontSize:"1.1rem"},children:e?.name})]}),l.jsxs("div",{children:[l.jsx("span",{style:{color:"var(--text-muted)",fontSize:"0.8rem"},children:"Submitted At"}),l.jsx("p",{style:{margin:"0.25rem 0 0",fontWeight:600},children:new Date(t.submittedAt).toLocaleString()})]}),l.jsxs("div",{children:[l.jsx("span",{style:{color:"var(--text-muted)",fontSize:"0.8rem"},children:"Language"}),l.jsx("p",{style:{margin:"0.25rem 0 0",fontWeight:600},children:t.language})]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"3rem",marginBottom:"2rem",padding:"2rem",background:t.status==="accepted"?"var(--success-alpha)":"var(--danger-alpha)",borderRadius:"1rem",border:`1px solid ${t.status==="accepted"?"var(--success)":"var(--danger)"}`},children:[l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("div",{style:{fontSize:"3rem",fontWeight:800,color:t.status==="accepted"?"var(--success)":"var(--danger)"},children:t.score}),l.jsx("div",{style:{color:"var(--text-muted)"},children:"AI Evaluation Score"})]}),l.jsxs("div",{style:{padding:"1rem 2rem",borderRadius:"1rem",background:t.status==="accepted"?"var(--success-alpha)":"var(--danger-alpha)",color:t.status==="accepted"?"var(--success)":"var(--danger)",fontWeight:700,fontSize:"1.25rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[t.status==="accepted"?l.jsx($n,{size:24}):l.jsx(Jr,{size:24}),t.status?.toUpperCase()]})]}),(s.correctness||s.efficiency||s.codeStyle||s.bestPractices)&&l.jsxs("div",{style:{marginBottom:"2rem",padding:"1.5rem",background:"var(--bg-dark)",borderRadius:"1rem",border:"1px solid var(--border-color)"},children:[l.jsxs("h4",{style:{margin:"0 0 1.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(kr,{size:18,color:"var(--primary)"})," Detailed Score Breakdown"]}),l.jsx(a,{label:"Correctness",icon:l.jsx($n,{size:16,color:"#10b981"}),score:i.correctness.score,max:i.correctness.max||40,comment:i.correctness.comment,color:"#10b981"}),l.jsx(a,{label:"Efficiency",icon:l.jsx(nd,{size:16,color:"#3b82f6"}),score:i.efficiency.score,max:i.efficiency.max||25,comment:i.efficiency.comment,color:"#3b82f6"}),l.jsx(a,{label:"Code Style",icon:l.jsx(_s,{size:16,color:"#8b5cf6"}),score:i.codeStyle.score,max:i.codeStyle.max||20,comment:i.codeStyle.comment,color:"#8b5cf6"}),l.jsx(a,{label:"Best Practices",icon:l.jsx(ol,{size:16,color:"#f59e0b"}),score:i.bestPractices.score,max:i.bestPractices.max||15,comment:i.bestPractices.comment,color:"#f59e0b"})]}),t.plagiarism?.detected&&l.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1rem",background:"var(--danger-alpha)",borderRadius:"0.75rem",border:"1px solid var(--danger)",display:"flex",alignItems:"center",gap:"1rem"},children:[l.jsx(Qn,{size:24,color:"var(--danger)"}),l.jsxs("div",{children:[l.jsx("strong",{style:{color:"var(--danger)"},children:"Plagiarism Detected"}),l.jsxs("p",{style:{margin:"0.25rem 0 0",color:"var(--text-muted)"},children:["This code matches a submission from ",t.plagiarism.copiedFromName]})]})]}),t.integrity?.integrityViolation&&l.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1rem",background:"rgba(245, 158, 11, 0.1)",borderRadius:"0.75rem",border:"1px solid #f59e0b",display:"flex",alignItems:"center",gap:"1rem"},children:[l.jsx(Qn,{size:24,color:"#f59e0b"}),l.jsxs("div",{children:[l.jsx("strong",{style:{color:"#f59e0b"},children:"Integrity Violation"}),l.jsxs("p",{style:{margin:"0.25rem 0 0",color:"var(--text-muted)"},children:["Tab switches detected: ",t.integrity.tabSwitches,". Score was capped due to academic integrity concerns."]})]})]}),(t.tabSwitches>0||t.copyPasteAttempts>0||t.cameraBlockedCount>0||t.phoneDetectionCount>0)&&l.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1.5rem",background:"var(--bg-dark)",borderRadius:"1rem",border:"1px solid var(--border-color)"},children:[l.jsxs("h4",{style:{margin:"0 0 1rem",display:"flex",alignItems:"center",gap:"0.5rem",color:"#f59e0b"},children:[l.jsx(Qn,{size:18})," Proctoring Violations"]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem"},children:[t.tabSwitches>0&&l.jsxs("div",{style:{padding:"0.75rem",background:"rgba(245, 158, 11, 0.1)",borderRadius:"0.5rem",display:"flex",alignItems:"center",gap:"0.75rem"},children:[l.jsx(_s,{size:18,color:"#f59e0b"}),l.jsxs("div",{children:[l.jsxs("div",{style:{fontWeight:600,color:"#f59e0b"},children:[t.tabSwitches," Tab Switches"]}),l.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:["Penalty: -",Math.min(t.tabSwitches*5,25)," pts"]})]})]}),t.copyPasteAttempts>0&&l.jsxs("div",{style:{padding:"0.75rem",background:"rgba(245, 158, 11, 0.1)",borderRadius:"0.5rem",display:"flex",alignItems:"center",gap:"0.75rem"},children:[l.jsx("span",{style:{fontSize:"1.1rem"},children:""}),l.jsxs("div",{children:[l.jsxs("div",{style:{fontWeight:600,color:"#f59e0b"},children:[t.copyPasteAttempts," Copy/Paste"]}),l.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:["Penalty: -",Math.min(t.copyPasteAttempts*3,15)," pts"]})]})]}),t.cameraBlockedCount>0&&l.jsxs("div",{style:{padding:"0.75rem",background:"rgba(239, 68, 68, 0.1)",borderRadius:"0.5rem",display:"flex",alignItems:"center",gap:"0.75rem"},children:[l.jsx("span",{style:{fontSize:"1.1rem"},children:""}),l.jsxs("div",{children:[l.jsxs("div",{style:{fontWeight:600,color:"#ef4444"},children:[t.cameraBlockedCount," Camera Blocked"]}),l.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:["Penalty: -",Math.min(t.cameraBlockedCount*10,30)," pts"]})]})]}),t.phoneDetectionCount>0&&l.jsxs("div",{style:{padding:"0.75rem",background:"rgba(239, 68, 68, 0.1)",borderRadius:"0.5rem",display:"flex",alignItems:"center",gap:"0.75rem"},children:[l.jsx("span",{style:{fontSize:"1.1rem"},children:""}),l.jsxs("div",{children:[l.jsxs("div",{style:{fontWeight:600,color:"#ef4444"},children:[t.phoneDetectionCount," Phone Detected"]}),l.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:["Penalty: -",Math.min(t.phoneDetectionCount*15,45)," pts"]})]})]})]})]}),l.jsxs("div",{style:{marginBottom:"1.5rem"},children:[l.jsxs("h4",{style:{margin:"0 0 0.75rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(Po,{size:18,color:"var(--primary)"})," AI Feedback"]}),l.jsx("p",{style:{color:"var(--text-muted)",lineHeight:"1.6",background:"var(--bg-dark)",padding:"1rem",borderRadius:"0.5rem"},children:t.feedback||"No feedback provided."})]}),t.aiExplanation&&l.jsxs("div",{style:{marginBottom:"1.5rem"},children:[l.jsxs("h4",{style:{margin:"0 0 0.75rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(_s,{size:18,color:"var(--secondary)"})," Why this score?"]}),l.jsx("p",{style:{color:"var(--text-muted)",lineHeight:"1.6",background:"var(--secondary-alpha)",padding:"1rem",borderRadius:"0.5rem",border:"1px solid var(--secondary)"},children:t.aiExplanation})]}),t.suggestions&&l.jsxs("div",{style:{marginBottom:"1.5rem"},children:[l.jsxs("h4",{style:{margin:"0 0 0.75rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(xh,{size:18,color:"#fbbf24"})," Improvement Suggestion"]}),l.jsx("div",{style:{background:"linear-gradient(135deg, rgba(251, 191, 36, 0.1), rgba(245, 158, 11, 0.05))",padding:"1rem",borderRadius:"0.5rem",border:"1px solid rgba(251, 191, 36, 0.3)"},children:l.jsx("p",{style:{color:"#fbbf24",margin:0,fontSize:"0.95rem"},children:t.suggestions})})]}),l.jsxs("div",{children:[l.jsx("h4",{style:{margin:"0 0 0.75rem"},children:"Submitted Code"}),l.jsx("pre",{style:{background:"var(--code-bg)",padding:"1.5rem",borderRadius:"0.5rem",overflow:"auto",maxHeight:"300px",fontSize:"0.85rem",fontFamily:"monospace",color:"var(--code-text)",border:"1px solid var(--border-color)"},children:t.code})]})]})]})})}function Gxt({user:t}){const[e,n]=C.useState([]),[r,s]=C.useState(!0),[i,a]=C.useState(null),[o,c]=C.useState(!1),[u,d]=C.useState([]),[f,h]=C.useState(null);C.useEffect(()=>{const B=async()=>{try{const E=await rt.get(`${Pi}/global-tests?status=live`);n(Array.isArray(E.data)?E.data:[])}catch(E){E.response?.status===503?n([]):console.error(E)}finally{s(!1)}},k=async()=>{try{const E=await rt.get(`${Pi}/global-test-submissions?studentId=${t.id}`);d(Array.isArray(E.data)?E.data:[])}catch{d([])}};B(),k()},[t.id]);const m=B=>u.filter(k=>k.testId===B).length,g=B=>u.find(k=>k.testId===B),y=(B,k)=>{const E=u.some(F=>F.testId===B&&F.status==="passed"),N=m(B),O=k?.maxAttempts??1;return E||O!==-1&&N>=O},x=async B=>{if(B.startTime&&new Date(B.startTime)>new Date){alert("This test is not yet available.");return}if(B.deadline&&new Date(B.deadline)<new Date){alert("This test has expired.");return}const k=u.filter(N=>N.testId===B.id).length,E=B.maxAttempts??1;if(E!==-1&&k>=E){alert(`Max attempts (${E}) reached for this test.`);return}try{const N=await rt.get(`${Pi}/global-tests/${B.id}`);a(N.data),c(!0)}catch(N){alert(N.response?.data?.error||"Failed to load test")}},v=B=>{c(!1),a(null),B&&h(B),rt.get(`${Pi}/global-test-submissions?studentId=${t.id}`).then(k=>d(Array.isArray(k.data)?k.data:[])).catch(()=>{})};if(r)return l.jsx("div",{className:"loading-spinner"});if(o&&i)return l.jsx(qWe,{test:i,user:t,onClose:()=>{c(!1),a(null)},onComplete:v});u.filter(B=>B.status==="passed").length;const w=()=>{if(!f)return null;const B=f.sectionScores||{},k=f.status==="passed";return l.jsxs("div",{style:{position:"fixed",inset:0,background:"rgba(15, 23, 42, 0.9)",backdropFilter:"blur(8px)",zIndex:99999,display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem",overflow:"auto",animation:"fadeIn 0.3s ease-out"},children:[l.jsx("style",{children:`
                    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
                    @keyframes scaleIn { from { transform: scale(0.9); opacity: 0; } to { transform: scale(1); opacity: 1; } }
                    @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }
                `}),l.jsxs("div",{style:{background:"rgba(30,41,59,0.98)",borderRadius:"24px",border:`2px solid ${k?"rgba(16, 185, 129, 0.4)":"rgba(239, 68, 68, 0.4)"}`,maxWidth:800,width:"100%",maxHeight:"90vh",overflow:"hidden",display:"flex",flexDirection:"column",boxShadow:`0 25px 50px -12px ${k?"rgba(16, 185, 129, 0.25)":"rgba(239, 68, 68, 0.25)"}`,animation:"scaleIn 0.4s ease-out"},children:[l.jsxs("div",{style:{padding:"2rem 2rem 1.5rem",background:k?"linear-gradient(135deg, rgba(16, 185, 129, 0.15), rgba(6, 182, 212, 0.1))":"linear-gradient(135deg, rgba(239, 68, 68, 0.15), rgba(251, 146, 60, 0.1))",borderBottom:`1px solid ${k?"rgba(16, 185, 129, 0.2)":"rgba(239, 68, 68, 0.2)"}`,textAlign:"center"},children:[l.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:k?"linear-gradient(135deg, #10b981, #06b6d4)":"linear-gradient(135deg, #ef4444, #f97316)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem",boxShadow:`0 8px 24px ${k?"rgba(16, 185, 129, 0.4)":"rgba(239, 68, 68, 0.4)"}`,animation:k?"pulse 2s ease-in-out infinite":"none"},children:k?l.jsx(jl,{size:40,color:"white"}):l.jsx(Jr,{size:40,color:"white"})}),l.jsx("h2",{style:{margin:"0 0 0.5rem",color:"white",fontSize:"1.75rem",fontWeight:800},children:k?" Congratulations!":"Test Completed"}),l.jsx("p",{style:{margin:0,color:"rgba(255,255,255,0.7)",fontSize:"1rem"},children:k?"You have successfully passed the assessment!":"Keep practicing to improve your score."})]}),l.jsxs("div",{style:{padding:"2rem",overflowY:"auto"},children:[l.jsxs("div",{style:{display:"flex",gap:"1.5rem",marginBottom:"2rem",flexWrap:"wrap",justifyContent:"center"},children:[l.jsxs("div",{style:{padding:"1.5rem 2.5rem",background:k?"rgba(16,185,129,0.15)":"rgba(239,68,68,0.15)",borderRadius:16,border:`2px solid ${k?"rgba(16,185,129,0.4)":"rgba(239,68,68,0.4)"}`,textAlign:"center",minWidth:"180px"},children:[l.jsxs("div",{style:{fontSize:"3.5rem",fontWeight:900,color:k?"#10b981":"#ef4444",lineHeight:1},children:[f.score??f.overallPercentage,"%"]}),l.jsx("div",{style:{fontSize:"0.9rem",color:"rgba(255,255,255,0.6)",marginTop:"0.5rem",textTransform:"uppercase",letterSpacing:"2px",fontWeight:600},children:"Overall Score"})]}),l.jsxs("div",{style:{padding:"1.5rem 2rem",background:"rgba(139, 92, 246, 0.1)",borderRadius:16,border:"1px solid rgba(139, 92, 246, 0.3)",textAlign:"center"},children:[l.jsxs("div",{style:{fontSize:"2rem",fontWeight:800,color:"#a78bfa"},children:[f.correctCount||0,"/",f.totalQuestions||0]}),l.jsx("div",{style:{fontSize:"0.85rem",color:"rgba(255,255,255,0.5)",marginTop:"0.25rem"},children:"Correct Answers"})]})]}),l.jsxs("h3",{style:{margin:"0 0 1rem",color:"white",fontSize:"1.1rem",fontWeight:700,display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(qu,{size:18,color:"#8b5cf6"})," Section-wise Performance"]}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(130px, 1fr))",gap:"0.75rem"},children:Object.entries(B).map(([E,N])=>{const O=N>=70?"#10b981":N>=50?"#f59e0b":"#ef4444";return l.jsxs("div",{style:{padding:"1rem",background:"rgba(30, 41, 59, 0.8)",borderRadius:12,border:"1px solid rgba(255,255,255,0.1)",textAlign:"center"},children:[l.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:800,color:O},children:[N,"%"]}),l.jsx("div",{style:{fontSize:"0.75rem",color:"rgba(255,255,255,0.5)",textTransform:"capitalize",marginTop:"0.25rem"},children:E})]},E)})})]}),l.jsx("div",{style:{padding:"1.25rem 2rem",borderTop:"1px solid rgba(139,92,246,0.2)",display:"flex",justifyContent:"center",gap:"1rem",background:"rgba(15, 23, 42, 0.5)"},children:l.jsx("button",{type:"button",onClick:()=>h(null),style:{padding:"0.85rem 2.5rem",background:"linear-gradient(135deg, #8b5cf6, #6366f1)",border:"none",borderRadius:"12px",color:"white",fontWeight:700,fontSize:"1rem",cursor:"pointer",boxShadow:"0 4px 14px rgba(139, 92, 246, 0.4)",transition:"all 0.2s"},onMouseOver:E=>E.target.style.transform="translateY(-2px)",onMouseOut:E=>E.target.style.transform="translateY(0)",children:"Close & View Results"})})]})]})};return l.jsxs("div",{className:"animate-fadeIn",children:[l.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[l.jsx("div",{style:{width:56,height:56,borderRadius:16,background:"linear-gradient(135deg, #06b6d4, #3b82f6)",display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx(qu,{size:28,color:"white"})}),l.jsxs("div",{children:[l.jsx("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:700},children:"Global Complete Tests"}),l.jsx("p",{style:{margin:0,color:"var(--text-muted)"},children:"Aptitude, Verbal, Logical, Coding, SQL  all in one test"})]})]})}),e.length===0?l.jsx("div",{style:{textAlign:"center",padding:"3rem",background:"var(--bg-card)",borderRadius:"1rem",border:"1px solid var(--border-color)"},children:l.jsx("p",{style:{color:"var(--text-muted)"},children:"No global tests available. Check back later."})}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(320px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[l.jsxs("div",{className:"stat-card glass",children:[l.jsx("div",{className:"stat-icon",style:{background:"rgba(6, 182, 212, 0.1)",color:"#06b6d4"},children:l.jsx(qu,{size:24})}),l.jsxs("div",{className:"stat-info",children:[l.jsx("span",{className:"stat-label",children:"Available"}),l.jsx("span",{className:"stat-value",children:e.length})]})]}),l.jsxs("div",{className:"stat-card glass",children:[l.jsx("div",{className:"stat-icon",style:{background:"rgba(16, 185, 129, 0.1)",color:"#10b981"},children:l.jsx($n,{size:24})}),l.jsxs("div",{className:"stat-info",children:[l.jsx("span",{className:"stat-label",children:"Submitted"}),l.jsx("span",{className:"stat-value",children:u.length})]})]}),l.jsxs("div",{className:"stat-card glass",children:[l.jsx("div",{className:"stat-icon",style:{background:"rgba(139, 92, 246, 0.1)",color:"#8b5cf6"},children:l.jsx(jl,{size:24})}),l.jsxs("div",{className:"stat-info",children:[l.jsx("span",{className:"stat-label",children:"Passed"}),l.jsx("span",{className:"stat-value",children:u.filter(B=>B.status==="passed").length})]})]})]}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"1.5rem"},children:e.map(B=>{const k=y(B.id,B),E=g(B.id),N=m(B.id),O=E?.status==="passed",F=B.maxAttempts===-1||N<(B.maxAttempts||1),D=!O&&F&&N>0;return l.jsxs("div",{className:"card glass",style:{padding:"1.5rem",position:"relative",overflow:"hidden"},children:[N>0&&l.jsx("div",{style:{position:"absolute",top:"1rem",right:"1rem",padding:"0.25rem 0.75rem",borderRadius:"20px",background:O?"rgba(16, 185, 129, 0.2)":"rgba(239, 68, 68, 0.2)",color:O?"#10b981":"#ef4444",fontSize:"0.75rem",fontWeight:600,display:"flex",alignItems:"center",gap:"0.25rem"},children:O?l.jsxs(l.Fragment,{children:[l.jsx($n,{size:14})," Passed"]}):l.jsxs(l.Fragment,{children:[l.jsx(Jr,{size:14})," Failed"]})}),l.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"1rem",marginBottom:"1rem"},children:[l.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"12px",background:"linear-gradient(135deg, #06b6d4, #3b82f6)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:l.jsx(qu,{size:24,color:"white"})}),l.jsxs("div",{children:[l.jsx("h3",{style:{margin:0,fontSize:"1.1rem",fontWeight:600},children:B.title}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginTop:"0.5rem"},children:[l.jsx("span",{className:`difficulty-badge ${B.difficulty?.toLowerCase()}`,children:B.difficulty}),l.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"0.25rem",fontSize:"0.8rem",color:"var(--text-muted)"},children:[l.jsx(vs,{size:14})," ",B.duration," min"]})]})]})]}),l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"1rem",marginBottom:"1.5rem",fontSize:"0.85rem",color:"var(--text-muted)"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(kr,{size:16,color:"#06b6d4"}),l.jsxs("span",{children:[B.totalQuestions," Questions"]})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(jl,{size:16,color:"#f59e0b"}),l.jsxs("span",{children:["Pass: ",B.passingScore,"%"]})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(Qn,{size:16,color:"#ef4444"}),l.jsxs("span",{children:["Tab Limit: ",B.maxTabSwitches||3]})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(nd,{size:16,color:"#3b82f6"}),l.jsxs("span",{children:["Attempts: ",N,"/",B.maxAttempts===-1?"":B.maxAttempts||1]})]}),B.deadline&&l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:B.startTime&&new Date(B.startTime)>new Date?"#f59e42":B.deadline&&new Date(B.deadline)<new Date?"#ef4444":"var(--text-muted)"},children:[l.jsx(vs,{size:16,color:B.startTime&&new Date(B.startTime)>new Date?"#f59e42":B.deadline&&new Date(B.deadline)<new Date?"#ef4444":"#10b981"}),l.jsx("span",{children:B.startTime&&new Date(B.startTime)>new Date?"Not Yet Started":B.deadline&&new Date(B.deadline)<new Date?"Expired":B.deadline?`Due: ${new Date(B.deadline).toLocaleDateString()}`:""})]})]}),N>0&&E&&l.jsx("div",{style:{background:"var(--bg-tertiary)",borderRadius:"12px",padding:"1rem",marginBottom:"1rem",border:"1px solid var(--border-color)"},children:l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("span",{style:{color:"var(--text-muted)",fontSize:"0.85rem"},children:"Your Score"}),l.jsxs("span",{style:{fontSize:"1.5rem",fontWeight:700,color:O?"#10b981":"#ef4444"},children:[E.overallPercentage,"%"]})]})}),l.jsx("div",{style:{display:"flex",gap:"0.75rem"},children:k?l.jsxs("button",{disabled:!0,style:{flex:1,padding:"0.75rem",background:"rgba(16, 185, 129, 0.1)",border:"1px solid rgba(16, 185, 129, 0.2)",borderRadius:"10px",color:"#10b981",fontSize:"0.9rem",fontWeight:600,display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",cursor:"not-allowed"},children:[l.jsx($n,{size:18})," Completed"]}):D?l.jsxs("button",{onClick:()=>x(B),className:"btn-create-new",style:{flex:1,padding:"0.75rem",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:["Retry Test ",l.jsx(f1,{size:18})]}):B.startTime&&new Date(B.startTime)>new Date?l.jsxs("div",{style:{flex:1,padding:"0.75rem",background:"rgba(245, 158, 66, 0.15)",borderRadius:"10px",color:"#f59e42",fontSize:"0.9rem",fontWeight:600,display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[l.jsx(Jr,{size:18})," Not Yet Started"]}):B.deadline&&new Date(B.deadline)<new Date?l.jsxs("div",{style:{flex:1,padding:"0.75rem",background:"rgba(107, 114, 128, 0.2)",borderRadius:"10px",color:"#6b7280",fontSize:"0.9rem",fontWeight:600,display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[l.jsx(Jr,{size:18})," Test Expired"]}):l.jsxs("button",{onClick:()=>x(B),className:"btn-create-new",style:{flex:1,padding:"0.75rem",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:["Start Test ",l.jsx(Ug,{size:18})]})})]},B.id)})})]}),l.jsx(w,{})]})}function Kxt({user:t}){const[e,n]=C.useState([]),[r,s]=C.useState(!0),[i,a]=C.useState(null),[o,c]=C.useState(!1),[u,d]=C.useState([]),[f,h]=C.useState(null);C.useEffect(()=>{m(),g()},[t.id]);const m=async()=>{try{const T=await rt.get(`${Pi}/aptitude?status=live`);n(T.data),s(!1)}catch(T){console.error("Error fetching tests:",T),s(!1)}},g=async()=>{try{const T=await rt.get(`${Pi}/aptitude-submissions?studentId=${t.id}`);d(T.data)}catch(T){console.error("Error fetching submissions:",T)}},y=T=>{if(!T.startTime)return!0;const j=new Date(T.startTime),P=new Date,U=Date.UTC(j.getUTCFullYear(),j.getUTCMonth(),j.getUTCDate(),j.getUTCHours(),j.getUTCMinutes());return Date.UTC(P.getUTCFullYear(),P.getUTCMonth(),P.getUTCDate(),P.getUTCHours(),P.getUTCMinutes())>=U},x=T=>{if(!T.deadline)return!1;const j=new Date(T.deadline),P=new Date,U=Date.UTC(j.getUTCFullYear(),j.getUTCMonth(),j.getUTCDate(),j.getUTCHours(),j.getUTCMinutes());return Date.UTC(P.getUTCFullYear(),P.getUTCMonth(),P.getUTCDate(),P.getUTCHours(),P.getUTCMinutes())>U},v=async T=>{if(!y(T)){alert("This test is not yet available. Please check the start time.");return}if(x(T)){alert("This test has expired. The deadline has passed.");return}if(!N(T)&&E(T.id)>0){alert(`You have reached the maximum number of attempts (${T.maxAttempts}) for this test.`);return}try{const j=await rt.get(`${Pi}/aptitude/${T.id}`);a(j.data),c(!0)}catch{alert("Error loading test")}},w=T=>{g(),c(!1),a(null)},B=T=>u.some(j=>j.testId===T),k=T=>{const j=u.filter(P=>P.testId===T);return j.length>0?j[0]:null},E=T=>u.filter(j=>j.testId===T).length,N=T=>{const j=E(T.id),P=T.maxAttempts;return P===-1?!0:j<(P||1)},O=T=>{const j=E(T.id),P=T.maxAttempts;return P===-1?"":Math.max(0,(P||1)-j)},D=(()=>{const T={};return u.forEach(j=>{T[j.testId]||(T[j.testId]=j)}),Object.values(T)})();return r?l.jsx("div",{className:"loading-spinner"}):o&&i?l.jsx(dxe,{test:i,user:t,onClose:()=>{c(!1),a(null)},onComplete:w}):l.jsxs("div",{className:"animate-fadeIn",children:[l.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[l.jsx("div",{style:{width:"56px",height:"56px",borderRadius:"16px",background:"linear-gradient(135deg, #8b5cf6, #6366f1)",display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx(Zr,{size:28,color:"white"})}),l.jsxs("div",{children:[l.jsx("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:700},children:"Aptitude Tests"}),l.jsx("p",{style:{margin:0,color:"var(--text-muted)"},children:"Test your reasoning, analytical, and problem-solving skills"})]})]})}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"1rem",marginBottom:"2rem"},children:[l.jsxs("div",{className:"stat-card glass",children:[l.jsx("div",{className:"stat-icon",style:{background:"rgba(139, 92, 246, 0.1)",color:"#8b5cf6"},children:l.jsx(Zr,{size:24})}),l.jsxs("div",{className:"stat-info",children:[l.jsx("span",{className:"stat-label",children:"Available Tests"}),l.jsx("span",{className:"stat-value",children:e.length})]})]}),l.jsxs("div",{className:"stat-card glass",children:[l.jsx("div",{className:"stat-icon",style:{background:"rgba(16, 185, 129, 0.1)",color:"#10b981"},children:l.jsx($n,{size:24})}),l.jsxs("div",{className:"stat-info",children:[l.jsx("span",{className:"stat-label",children:"Completed"}),l.jsx("span",{className:"stat-value",children:D.length})]})]}),l.jsxs("div",{className:"stat-card glass",children:[l.jsx("div",{className:"stat-icon",style:{background:"rgba(59, 130, 246, 0.1)",color:"#3b82f6"},children:l.jsx(kr,{size:24})}),l.jsxs("div",{className:"stat-info",children:[l.jsx("span",{className:"stat-label",children:"Avg Score"}),l.jsxs("span",{className:"stat-value",children:[D.length>0?Math.round(D.reduce((T,j)=>T+j.score,0)/D.length):0,"%"]})]})]}),l.jsxs("div",{className:"stat-card glass",children:[l.jsx("div",{className:"stat-icon",style:{background:"rgba(245, 158, 11, 0.1)",color:"#f59e0b"},children:l.jsx(jl,{size:24})}),l.jsxs("div",{className:"stat-info",children:[l.jsx("span",{className:"stat-label",children:"Passed"}),l.jsx("span",{className:"stat-value",children:D.filter(T=>T.status==="passed").length})]})]})]}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"1.5rem"},children:e.map(T=>{const j=B(T.id),P=k(T.id);return l.jsxs("div",{className:"card glass",style:{padding:"1.5rem",position:"relative",overflow:"hidden"},children:[j&&l.jsx("div",{style:{position:"absolute",top:"1rem",right:"1rem",padding:"0.25rem 0.75rem",borderRadius:"20px",background:P?.status==="passed"?"rgba(16, 185, 129, 0.2)":"rgba(239, 68, 68, 0.2)",color:P?.status==="passed"?"#10b981":"#ef4444",fontSize:"0.75rem",fontWeight:600,display:"flex",alignItems:"center",gap:"0.25rem"},children:P?.status==="passed"?l.jsxs(l.Fragment,{children:[l.jsx($n,{size:14})," Passed"]}):l.jsxs(l.Fragment,{children:[l.jsx(Jr,{size:14})," Failed"]})}),l.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"1rem",marginBottom:"1rem"},children:[l.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"12px",background:"linear-gradient(135deg, #8b5cf6, #6366f1)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:l.jsx(Zr,{size:24,color:"white"})}),l.jsxs("div",{children:[l.jsx("h3",{style:{margin:0,fontSize:"1.1rem",fontWeight:600},children:T.title}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginTop:"0.5rem"},children:[l.jsx("span",{className:`difficulty-badge ${T.difficulty?.toLowerCase()}`,children:T.difficulty}),l.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"0.25rem",fontSize:"0.8rem",color:"var(--text-muted)"},children:[l.jsx(vs,{size:14})," ",T.duration," min"]})]})]})]}),l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"1rem",marginBottom:"1.5rem",fontSize:"0.85rem",color:"var(--text-muted)"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(kr,{size:16,color:"#8b5cf6"}),l.jsxs("span",{children:[T.questionCount||T.totalQuestions," Questions"]})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(jl,{size:16,color:"#f59e0b"}),l.jsxs("span",{children:["Pass: ",T.passingScore,"%"]})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(Qn,{size:16,color:"#ef4444"}),l.jsxs("span",{children:["Tab Limit: ",T.maxTabSwitches||3]})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(nd,{size:16,color:"#06b6d4"}),l.jsxs("span",{children:["Attempts: ",E(T.id),"/",T.maxAttempts===-1?"":T.maxAttempts||1]})]}),T.startTime&&l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:y(T)?"#10b981":"#f59e42"},children:[l.jsx(vs,{size:16,color:y(T)?"#10b981":"#f59e42"}),l.jsx("span",{children:y(T)?`Started: ${new Date(T.startTime).toLocaleDateString()}`:`Starts: ${new Date(T.startTime).toLocaleString()}`})]}),T.deadline&&l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:x(T)?"#ef4444":"var(--text-muted)"},children:[l.jsx(vs,{size:16,color:x(T)?"#ef4444":"#10b981"}),l.jsx("span",{children:x(T)?"Expired":`Due: ${new Date(T.deadline).toLocaleString()}`})]})]}),j&&P&&l.jsxs("div",{style:{background:"var(--bg-tertiary)",borderRadius:"12px",padding:"1rem",marginBottom:"1rem",border:"1px solid var(--border-color)"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("span",{style:{color:"var(--text-muted)",fontSize:"0.85rem"},children:"Your Score"}),l.jsxs("span",{style:{fontSize:"1.5rem",fontWeight:700,color:P.status==="passed"?"#10b981":"#ef4444"},children:[P.score,"%"]})]}),l.jsx("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.5rem",fontSize:"0.8rem",color:"var(--text-muted)"},children:l.jsxs("span",{children:[P.correctCount,"/",P.totalQuestions," Correct"]})})]}),l.jsx("div",{style:{display:"flex",gap:"0.75rem"},children:j?l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>h(P),style:{flex:1,padding:"0.75rem",background:"rgba(59, 130, 246, 0.1)",border:"1px solid rgba(59, 130, 246, 0.3)",borderRadius:"10px",color:"#3b82f6",fontSize:"0.9rem",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[l.jsx(_s,{size:18})," View Results"]}),N(T)?l.jsxs("button",{onClick:()=>v(T),style:{padding:"0.75rem 1rem",background:"rgba(139, 92, 246, 0.1)",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"10px",color:"#8b5cf6",fontSize:"0.9rem",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(nd,{size:18})," Retry (",O(T)," left)"]}):l.jsxs("div",{style:{padding:"0.75rem 1rem",background:"rgba(107, 114, 128, 0.1)",border:"1px solid rgba(107, 114, 128, 0.3)",borderRadius:"10px",color:"#6b7280",fontSize:"0.9rem",fontWeight:600,display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(Jr,{size:18})," No retries left"]})]}):y(T)?x(T)?l.jsxs("div",{style:{flex:1,padding:"0.75rem",background:"rgba(107, 114, 128, 0.2)",border:"none",borderRadius:"10px",color:"#6b7280",fontSize:"0.9rem",fontWeight:600,display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[l.jsx(Jr,{size:18})," Test Expired"]}):l.jsxs("button",{onClick:()=>v(T),style:{flex:1,padding:"0.75rem",background:"linear-gradient(135deg, #8b5cf6, #6366f1)",border:"none",borderRadius:"10px",color:"white",fontSize:"0.9rem",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[l.jsx(ef,{size:18})," Start Test"]}):l.jsxs("div",{style:{flex:1,padding:"0.75rem",background:"rgba(245, 158, 66, 0.15)",border:"none",borderRadius:"10px",color:"#f59e42",fontSize:"0.9rem",fontWeight:600,display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[l.jsx(Jr,{size:18})," Not Yet Started"]})})]},T.id)})}),e.length===0&&l.jsxs("div",{style:{textAlign:"center",padding:"4rem",color:"var(--text-muted)"},children:[l.jsx(Zr,{size:48,style:{opacity:.3,marginBottom:"1rem"}}),l.jsx("p",{children:"No aptitude tests available at the moment."})]}),f&&l.jsx("div",{className:"modal-overlay",onClick:()=>h(null),children:l.jsxs("div",{className:"modal-content",onClick:T=>T.stopPropagation(),style:{maxWidth:"600px"},children:[l.jsxs("div",{className:"modal-header",children:[l.jsxs("div",{className:"modal-title-with-icon",children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",background:f.status==="passed"?"linear-gradient(135deg, #10b981, #06b6d4)":"linear-gradient(135deg, #ef4444, #f97316)",display:"flex",alignItems:"center",justifyContent:"center"},children:f.status==="passed"?l.jsx(jl,{size:20,color:"white"}):l.jsx(kr,{size:20,color:"white"})}),l.jsx("h2",{children:f.testTitle})]}),l.jsx("button",{onClick:()=>h(null),className:"modal-close",children:l.jsx(Jr,{size:20})})]}),l.jsxs("div",{className:"modal-body",style:{maxHeight:"70vh",overflowY:"auto"},children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"1rem",marginBottom:"2rem"},children:[l.jsxs("div",{style:{background:"rgba(59, 130, 246, 0.1)",borderRadius:"12px",padding:"1rem",textAlign:"center"},children:[l.jsxs("div",{style:{fontSize:"1.75rem",fontWeight:800,color:"#3b82f6"},children:[f.score,"%"]}),l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:"Score"})]}),l.jsxs("div",{style:{background:"rgba(16, 185, 129, 0.1)",borderRadius:"12px",padding:"1rem",textAlign:"center"},children:[l.jsx("div",{style:{fontSize:"1.75rem",fontWeight:800,color:"#10b981"},children:f.correctCount}),l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:"Correct"})]}),l.jsxs("div",{style:{background:"rgba(239, 68, 68, 0.1)",borderRadius:"12px",padding:"1rem",textAlign:"center"},children:[l.jsx("div",{style:{fontSize:"1.75rem",fontWeight:800,color:"#ef4444"},children:f.totalQuestions-f.correctCount}),l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:"Wrong"})]})]}),l.jsx("h4",{style:{marginBottom:"1rem"},children:"Question Breakdown"}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:f.questionResults?.map((T,j)=>l.jsx("div",{style:{background:T.isCorrect?"rgba(16, 185, 129, 0.1)":"rgba(239, 68, 68, 0.1)",border:`1px solid ${T.isCorrect?"rgba(16, 185, 129, 0.3)":"rgba(239, 68, 68, 0.3)"}`,borderRadius:"12px",padding:"1rem"},children:l.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"0.75rem"},children:[T.isCorrect?l.jsx($n,{size:20,color:"#10b981",style:{flexShrink:0,marginTop:"2px"}}):l.jsx(Jr,{size:20,color:"#ef4444",style:{flexShrink:0,marginTop:"2px"}}),l.jsxs("div",{style:{flex:1},children:[l.jsxs("p",{style:{margin:"0 0 0.5rem",fontWeight:500,fontSize:"0.9rem"},children:["Q",j+1,": ",T.question]}),l.jsxs("div",{style:{display:"flex",gap:"1rem",fontSize:"0.8rem"},children:[l.jsxs("span",{children:["Your: ",l.jsx("strong",{style:{color:T.isCorrect?"#10b981":"#ef4444"},children:T.userAnswer})]}),!T.isCorrect&&l.jsxs("span",{children:["Correct: ",l.jsx("strong",{style:{color:"#10b981"},children:T.correctAnswer})]})]}),T.explanation&&l.jsxs("p",{style:{margin:"0.5rem 0 0",fontSize:"0.8rem",color:"var(--text-muted)",fontStyle:"italic"},children:[" ",T.explanation]})]})]})},j))})]})]})})]})}function Xxt({user:t}){const{t:e}=m0(),[n,r]=C.useState("learning-path"),[s,i]=C.useState(null),[a,o]=C.useState(null),[c,u]=C.useState(null),[d,f]=C.useState(!0);if(C.useEffect(()=>{f(!0),(async()=>{try{const[g,y,x]=await Promise.all([rt.get(`${Pi}/analytics/learning-path/${t.id}`),rt.get(`${Pi}/analytics/peer-comparison/${t.id}`),rt.get(`${Pi}/analytics/topics?studentId=${t.id}`)]);i(g.data),o(y.data),u(x.data)}catch(g){console.error(g)}f(!1)})()},[t.id]),d)return l.jsx("div",{className:"loading-spinner"});const h=[{id:"learning-path",label:e("learning_path"),icon:l.jsx(L0e,{size:16})},{id:"peer-comparison",label:e("peer_comparison"),icon:l.jsx(p2,{size:16})},{id:"topic-analysis",label:e("topic_analysis"),icon:l.jsx(Sge,{size:16})}];return l.jsxs("div",{className:"animate-fadeIn",children:[l.jsx("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1.5rem",flexWrap:"wrap"},children:h.map(m=>l.jsxs("button",{onClick:()=>r(m.id),style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.6rem 1.2rem",borderRadius:"10px",border:"none",cursor:"pointer",fontWeight:600,fontSize:"0.85rem",background:n===m.id?"var(--primary)":"var(--card-bg)",color:n===m.id?"#fff":"var(--text-secondary)",boxShadow:n===m.id?"0 4px 15px rgba(59,130,246,0.3)":"0 1px 3px rgba(0,0,0,0.1)",transition:"all 0.2s"},children:[m.icon," ",m.label]},m.id))}),n==="learning-path"&&s&&l.jsxs("div",{children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"1.5rem"},children:[l.jsx("div",{className:"dashboard-stat-card stat-card-blue",children:l.jsxs("div",{className:"stat-card-inner",children:[l.jsx("div",{className:"stat-icon-box",style:{background:"linear-gradient(135deg, #1e40af, #3b82f6)"},children:l.jsx(kr,{size:22,color:"#fff"})}),l.jsxs("div",{className:"stat-content",children:[l.jsxs("div",{className:"stat-number",children:[s.overallPassRate,"%"]}),l.jsx("div",{className:"stat-label-text",children:e("overall_pass_rate")})]})]})}),l.jsx("div",{className:"dashboard-stat-card stat-card-green",children:l.jsxs("div",{className:"stat-card-inner",children:[l.jsx("div",{className:"stat-icon-box",style:{background:"linear-gradient(135deg, #047857, #10b981)"},children:l.jsx($n,{size:22,color:"#fff"})}),l.jsxs("div",{className:"stat-content",children:[l.jsx("div",{className:"stat-number",children:s.totalPassed}),l.jsx("div",{className:"stat-label-text",children:e("problems_passed")})]})]})}),l.jsx("div",{className:"dashboard-stat-card stat-card-purple",children:l.jsxs("div",{className:"stat-card-inner",children:[l.jsx("div",{className:"stat-icon-box",style:{background:"linear-gradient(135deg, #6d28d9, #8b5cf6)"},children:l.jsx(tQ,{size:22,color:"#fff"})}),l.jsxs("div",{className:"stat-content",children:[l.jsx("div",{className:"stat-number",children:s.totalAttempts}),l.jsx("div",{className:"stat-label-text",children:e("total_attempts")})]})]})})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem",marginBottom:"1.5rem"},children:[l.jsxs("div",{className:"dashboard-panel",children:[l.jsxs("h3",{className:"panel-title",style:{color:"#ef4444"},children:[l.jsx(Qn,{size:18})," ",e("weak_areas")]}),s.weakAreas.length>0?s.weakAreas.map((m,g)=>l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.75rem",borderRadius:"8px",background:"rgba(239,68,68,0.06)",marginBottom:"0.5rem"},children:[l.jsxs("div",{children:[l.jsx("span",{style:{fontWeight:600,fontSize:"0.9rem",textTransform:"capitalize"},children:m.category}),l.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:[m.attempts," ",e("attempts_made")]})]}),l.jsxs("div",{style:{textAlign:"right"},children:[l.jsxs("span",{style:{fontWeight:700,color:"#ef4444",fontSize:"1.1rem"},children:[m.avgScore,"%"]}),l.jsxs("div",{style:{fontSize:"0.7rem",color:"#ef4444"},children:[m.passRate,"% ",e("pass_rate")]})]})]},g)):l.jsx("div",{style:{color:"var(--text-muted)",padding:"1rem",textAlign:"center"},children:e("no_weak_areas")})]}),l.jsxs("div",{className:"dashboard-panel",children:[l.jsxs("h3",{className:"panel-title",style:{color:"#10b981"},children:[l.jsx($n,{size:18})," ",e("strengths")]}),s.strengths.length>0?s.strengths.map((m,g)=>l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.75rem",borderRadius:"8px",background:"rgba(16,185,129,0.06)",marginBottom:"0.5rem"},children:[l.jsxs("div",{children:[l.jsx("span",{style:{fontWeight:600,fontSize:"0.9rem",textTransform:"capitalize"},children:m.category}),l.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:[m.attempts," ",e("attempts_made")]})]}),l.jsxs("div",{style:{textAlign:"right"},children:[l.jsxs("span",{style:{fontWeight:700,color:"#10b981",fontSize:"1.1rem"},children:[m.avgScore,"%"]}),l.jsxs("div",{style:{fontSize:"0.7rem",color:"#10b981"},children:[m.passRate,"% ",e("pass_rate")]})]})]},g)):l.jsx("div",{style:{color:"var(--text-muted)",padding:"1rem",textAlign:"center"},children:e("no_data")})]})]}),s.languageProficiency.length>0&&l.jsxs("div",{className:"dashboard-panel",style:{marginBottom:"1.5rem"},children:[l.jsxs("h3",{className:"panel-title",children:[l.jsx(Dr,{size:18,color:"#3b82f6"})," ",e("language_proficiency")]}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"1rem"},children:s.languageProficiency.map((m,g)=>l.jsxs("div",{style:{padding:"1rem",borderRadius:"12px",background:"var(--bg-secondary)",textAlign:"center"},children:[l.jsx("div",{style:{fontWeight:700,fontSize:"1.1rem",marginBottom:"0.25rem"},children:m.language}),l.jsx("div",{style:{display:"inline-block",padding:"0.2rem 0.6rem",borderRadius:"12px",fontSize:"0.7rem",fontWeight:600,background:m.level==="Advanced"?"rgba(16,185,129,0.15)":m.level==="Intermediate"?"rgba(251,191,36,0.15)":"rgba(239,68,68,0.15)",color:m.level==="Advanced"?"#10b981":m.level==="Intermediate"?"#f59e0b":"#ef4444"},children:m.level}),l.jsxs("div",{style:{marginTop:"0.5rem"},children:[l.jsx("div",{style:{height:"6px",borderRadius:"3px",background:"rgba(0,0,0,0.1)",overflow:"hidden"},children:l.jsx("div",{style:{height:"100%",width:`${m.avgScore}%`,borderRadius:"3px",background:m.level==="Advanced"?"#10b981":m.level==="Intermediate"?"#f59e0b":"#ef4444",transition:"width 0.5s"}})}),l.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginTop:"0.25rem"},children:[m.avgScore,"% avg  ",m.attempts," solved"]})]})]},g))})]}),l.jsxs("div",{className:"dashboard-panel",children:[l.jsxs("h3",{className:"panel-title",children:[l.jsx(Po,{size:18,color:"#f59e0b"})," ",e("recommended_problems")]}),s.recommendations.length>0?l.jsx("div",{style:{display:"grid",gap:"0.75rem"},children:s.recommendations.map((m,g)=>l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",padding:"0.75rem 1rem",borderRadius:"10px",background:"var(--bg-secondary)",border:"1px solid var(--border-color)"},children:[l.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:"0.85rem",background:m.priority>=5?"rgba(239,68,68,0.12)":m.priority>=3?"rgba(251,191,36,0.12)":"rgba(59,130,246,0.12)",color:m.priority>=5?"#ef4444":m.priority>=3?"#f59e0b":"#3b82f6"},children:g+1}),l.jsxs("div",{style:{flex:1},children:[l.jsx("div",{style:{fontWeight:600,fontSize:"0.9rem"},children:m.title}),l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:m.reason})]}),l.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[l.jsx("span",{style:{padding:"0.2rem 0.5rem",borderRadius:"6px",fontSize:"0.7rem",fontWeight:600,background:m.difficulty==="easy"?"rgba(16,185,129,0.12)":m.difficulty==="medium"?"rgba(251,191,36,0.12)":"rgba(239,68,68,0.12)",color:m.difficulty==="easy"?"#10b981":m.difficulty==="medium"?"#f59e0b":"#ef4444"},children:m.difficulty}),m.language&&l.jsx("span",{style:{padding:"0.2rem 0.5rem",borderRadius:"6px",fontSize:"0.7rem",background:"rgba(59,130,246,0.1)",color:"#3b82f6"},children:m.language})]})]},g))}):l.jsx("div",{style:{color:"var(--text-muted)",textAlign:"center",padding:"2rem"},children:e("complete_more_problems")})]})]}),n==="peer-comparison"&&a&&l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",gap:"1.5rem",marginBottom:"1.5rem",flexWrap:"wrap"},children:[l.jsxs("div",{style:{flex:1,minWidth:"280px",padding:"1.5rem",borderRadius:"16px",background:"linear-gradient(135deg, #1e40af, #3b82f6)",color:"#fff",textAlign:"center"},children:[l.jsx("div",{style:{fontSize:"0.85rem",opacity:.9},children:e("your_rank")}),l.jsxs("div",{style:{fontSize:"3rem",fontWeight:800},children:["#",a.you.rank]}),l.jsxs("div",{style:{fontSize:"0.8rem",opacity:.8},children:[e("out_of")," ",a.you.totalStudents," ",e("students")]})]}),l.jsxs("div",{style:{flex:1,minWidth:"280px",padding:"1.5rem",borderRadius:"16px",background:"linear-gradient(135deg, #059669, #10b981)",color:"#fff",textAlign:"center"},children:[l.jsx("div",{style:{fontSize:"0.85rem",opacity:.9},children:e("percentile")}),l.jsxs("div",{style:{fontSize:"3rem",fontWeight:800},children:[a.you.percentile,"th"]}),l.jsx("div",{style:{fontSize:"0.8rem",opacity:.8},children:e("top_performer_msg")})]})]}),l.jsxs("div",{className:"dashboard-panel",style:{marginBottom:"1.5rem"},children:[l.jsxs("h3",{className:"panel-title",children:[l.jsx(Pg,{size:18,color:"#8b5cf6"})," ",e("your_score_vs_class")]}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))",gap:"1rem"},children:[{label:e("avg_score"),yours:a.you.avgScore,classVal:a.classAverage.avgScore,suffix:"%"},{label:e("pass_rate"),yours:a.you.passRate,classVal:a.classAverage.avgPassRate,suffix:"%"},{label:e("total_submissions"),yours:a.you.totalSubmissions,classVal:a.classAverage.avgSubmissions,suffix:""},{label:e("problems_solved_label"),yours:a.you.problemsSolved,classVal:a.classAverage.avgProblemsSolved,suffix:""},{label:e("tasks_completed"),yours:a.you.tasksDone,classVal:a.classAverage.avgTasksDone,suffix:""}].map((m,g)=>{const y=m.yours-m.classVal,x=y>0,v=y===0;return l.jsxs("div",{style:{padding:"1rem",borderRadius:"12px",background:"var(--bg-secondary)",border:"1px solid var(--border-color)"},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginBottom:"0.5rem",fontWeight:600,textTransform:"uppercase"},children:m.label}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-end"},children:[l.jsxs("div",{children:[l.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:800,color:"var(--text-primary)"},children:[m.yours,m.suffix]}),l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-muted)"},children:e("you")})]}),l.jsxs("div",{style:{textAlign:"center",padding:"0.25rem 0.5rem",borderRadius:"8px",background:x?"rgba(16,185,129,0.1)":v?"rgba(156,163,175,0.1)":"rgba(239,68,68,0.1)"},children:[x?l.jsx(Age,{size:14,color:"#10b981"}):v?l.jsx(E0e,{size:14,color:"#9ca3af"}):l.jsx(oge,{size:14,color:"#ef4444"}),l.jsxs("span",{style:{fontSize:"0.75rem",fontWeight:700,color:x?"#10b981":v?"#9ca3af":"#ef4444"},children:[x?"+":"",y,m.suffix]})]}),l.jsxs("div",{style:{textAlign:"right"},children:[l.jsxs("div",{style:{fontSize:"1.2rem",fontWeight:600,color:"var(--text-secondary)"},children:[Math.round(m.classVal),m.suffix]}),l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-muted)"},children:e("class_avg")})]})]})]},g)})})]}),a.scoreDistribution&&l.jsxs("div",{className:"dashboard-panel",style:{marginBottom:"1.5rem"},children:[l.jsxs("h3",{className:"panel-title",children:[l.jsx(Pg,{size:18,color:"#3b82f6"})," ",e("score_distribution")]}),l.jsx("div",{style:{display:"flex",alignItems:"flex-end",gap:"4px",height:"120px",padding:"0 1rem"},children:a.scoreDistribution.map((m,g)=>{const y=Math.max(...a.scoreDistribution.map(v=>v.count)),x=y>0?m.count/y*100:0;return l.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},children:[l.jsx("span",{style:{fontSize:"0.6rem",fontWeight:600},children:m.count}),l.jsx("div",{style:{width:"100%",height:`${x}%`,minHeight:"4px",borderRadius:"4px 4px 0 0",background:m.isYou?"linear-gradient(180deg, #3b82f6, #1e40af)":"rgba(59,130,246,0.15)",border:m.isYou?"2px solid #1e40af":"none",transition:"height 0.3s"}}),l.jsx("span",{style:{fontSize:"0.55rem",color:m.isYou?"#3b82f6":"var(--text-muted)",fontWeight:m.isYou?700:400},children:m.range})]},g)})}),l.jsx("div",{style:{textAlign:"center",fontSize:"0.75rem",color:"var(--text-muted)",marginTop:"0.5rem"},children:e("highlighted_your_position")})]}),a.languageComparison.length>0&&l.jsxs("div",{className:"dashboard-panel",children:[l.jsxs("h3",{className:"panel-title",children:[l.jsx(Dr,{size:18,color:"#8b5cf6"})," ",e("language_vs_class")]}),l.jsx("div",{style:{display:"grid",gap:"0.75rem"},children:a.languageComparison.map((m,g)=>l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",padding:"0.75rem",borderRadius:"10px",background:"var(--bg-secondary)"},children:[l.jsx("div",{style:{width:"80px",fontWeight:700,fontSize:"0.9rem"},children:m.language}),l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center",marginBottom:"4px"},children:[l.jsxs("span",{style:{fontSize:"0.7rem",color:"#3b82f6",width:"50px"},children:[e("you"),": ",m.yourScore,"%"]}),l.jsx("div",{style:{flex:1,height:"8px",borderRadius:"4px",background:"rgba(0,0,0,0.08)",overflow:"hidden"},children:l.jsx("div",{style:{height:"100%",width:`${m.yourScore}%`,borderRadius:"4px",background:"linear-gradient(90deg, #3b82f6, #60a5fa)"}})})]}),l.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[l.jsxs("span",{style:{fontSize:"0.7rem",color:"#9ca3af",width:"50px"},children:[e("class"),": ",m.classAvg,"%"]}),l.jsx("div",{style:{flex:1,height:"8px",borderRadius:"4px",background:"rgba(0,0,0,0.08)",overflow:"hidden"},children:l.jsx("div",{style:{height:"100%",width:`${m.classAvg}%`,borderRadius:"4px",background:"rgba(156,163,175,0.4)"}})})]})]}),l.jsxs("div",{style:{fontWeight:700,fontSize:"0.85rem",padding:"0.25rem 0.5rem",borderRadius:"6px",color:m.difference>0?"#10b981":m.difference<0?"#ef4444":"#9ca3af",background:m.difference>0?"rgba(16,185,129,0.1)":m.difference<0?"rgba(239,68,68,0.1)":"rgba(156,163,175,0.1)"},children:[m.difference>0?"+":"",m.difference,"%"]})]},g))})]})]}),n==="topic-analysis"&&c&&l.jsxs("div",{children:[c.byType.length>0&&l.jsxs("div",{className:"dashboard-panel",style:{marginBottom:"1.5rem"},children:[l.jsxs("h3",{className:"panel-title",children:[l.jsx(A2,{size:18,color:"#3b82f6"})," ",e("performance_by_type")]}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem"},children:c.byType.map((m,g)=>l.jsxs("div",{style:{padding:"1.25rem",borderRadius:"12px",background:"var(--bg-secondary)",border:"1px solid var(--border-color)"},children:[l.jsx("div",{style:{fontWeight:700,fontSize:"1rem",marginBottom:"0.75rem",textTransform:"capitalize"},children:m.type}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem"},children:[l.jsxs("div",{children:[l.jsx("span",{style:{fontSize:"0.7rem",color:"var(--text-muted)"},children:e("submissions")}),l.jsx("div",{style:{fontWeight:700,fontSize:"1.2rem"},children:m.submissions})]}),l.jsxs("div",{children:[l.jsx("span",{style:{fontSize:"0.7rem",color:"var(--text-muted)"},children:e("avg_score")}),l.jsxs("div",{style:{fontWeight:700,fontSize:"1.2rem",color:m.avgScore>=70?"#10b981":m.avgScore>=40?"#f59e0b":"#ef4444"},children:[m.avgScore,"%"]})]}),l.jsxs("div",{children:[l.jsx("span",{style:{fontSize:"0.7rem",color:"var(--text-muted)"},children:e("pass_rate")}),l.jsxs("div",{style:{fontWeight:700,color:"#10b981"},children:[m.passRate,"%"]})]}),l.jsxs("div",{children:[l.jsx("span",{style:{fontSize:"0.7rem",color:"var(--text-muted)"},children:e("fail_rate")}),l.jsxs("div",{style:{fontWeight:700,color:"#ef4444"},children:[m.failRate,"%"]})]})]}),l.jsx("div",{style:{marginTop:"0.75rem",height:"6px",borderRadius:"3px",background:"rgba(0,0,0,0.1)",overflow:"hidden"},children:l.jsx("div",{style:{height:"100%",width:`${m.passRate}%`,borderRadius:"3px",background:"linear-gradient(90deg, #10b981, #34d399)",transition:"width 0.5s"}})})]},g))})]}),c.byDifficulty.length>0&&l.jsxs("div",{className:"dashboard-panel",style:{marginBottom:"1.5rem"},children:[l.jsxs("h3",{className:"panel-title",children:[l.jsx(kr,{size:18,color:"#f59e0b"})," ",e("performance_by_difficulty")]}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:c.byDifficulty.map((m,g)=>{const x={easy:"#10b981",medium:"#f59e0b",hard:"#ef4444"}[m.difficulty]||"#3b82f6";return l.jsxs("div",{style:{padding:"1.25rem",borderRadius:"12px",background:"var(--bg-secondary)",borderLeft:`4px solid ${x}`},children:[l.jsx("div",{style:{fontWeight:700,fontSize:"1rem",textTransform:"capitalize",color:x,marginBottom:"0.75rem"},children:m.difficulty}),l.jsxs("div",{style:{fontSize:"2rem",fontWeight:800},children:[m.avgScore,"%"]}),l.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:[m.submissions," ",e("submissions"),"  ",m.passRate,"% ",e("pass_rate")]})]},g)})})]}),c.byLanguage.length>0&&l.jsxs("div",{className:"dashboard-panel",style:{marginBottom:"1.5rem"},children:[l.jsxs("h3",{className:"panel-title",children:[l.jsx(Dr,{size:18,color:"#8b5cf6"})," ",e("performance_by_language")]}),l.jsx("div",{style:{overflowX:"auto"},children:l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.85rem"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{borderBottom:"2px solid var(--border-color)"},children:[l.jsx("th",{style:{textAlign:"left",padding:"0.75rem"},children:e("language")}),l.jsx("th",{style:{textAlign:"center",padding:"0.75rem"},children:e("submissions")}),l.jsx("th",{style:{textAlign:"center",padding:"0.75rem"},children:e("avg_score")}),l.jsx("th",{style:{textAlign:"center",padding:"0.75rem"},children:e("pass_rate")})]})}),l.jsx("tbody",{children:c.byLanguage.map((m,g)=>l.jsxs("tr",{style:{borderBottom:"1px solid var(--border-color)"},children:[l.jsx("td",{style:{padding:"0.75rem",fontWeight:600},children:m.language}),l.jsx("td",{style:{padding:"0.75rem",textAlign:"center"},children:m.submissions}),l.jsxs("td",{style:{padding:"0.75rem",textAlign:"center",fontWeight:700,color:m.avgScore>=70?"#10b981":m.avgScore>=40?"#f59e0b":"#ef4444"},children:[m.avgScore,"%"]}),l.jsx("td",{style:{padding:"0.75rem",textAlign:"center"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[l.jsx("div",{style:{width:"60px",height:"6px",borderRadius:"3px",background:"rgba(0,0,0,0.1)",overflow:"hidden"},children:l.jsx("div",{style:{height:"100%",width:`${m.passRate}%`,borderRadius:"3px",background:"#10b981"}})}),l.jsxs("span",{children:[m.passRate,"%"]})]})})]},g))})]})})]}),c.topProblems.length>0&&l.jsxs("div",{className:"dashboard-panel",children:[l.jsxs("h3",{className:"panel-title",children:[l.jsx(tQ,{size:18,color:"#ef4444"})," ",e("most_attempted_problems")]}),l.jsx("div",{style:{display:"grid",gap:"0.5rem"},children:c.topProblems.map((m,g)=>l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.6rem 0.75rem",borderRadius:"8px",background:"var(--bg-secondary)"},children:[l.jsx("div",{style:{width:"28px",height:"28px",borderRadius:"8px",background:"rgba(59,130,246,0.1)",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:"0.8rem",color:"#3b82f6"},children:g+1}),l.jsxs("div",{style:{flex:1},children:[l.jsx("div",{style:{fontWeight:600,fontSize:"0.85rem"},children:m.title}),l.jsxs("div",{style:{fontSize:"0.7rem",color:"var(--text-muted)"},children:[m.type,"  ",m.difficulty]})]}),l.jsxs("div",{style:{textAlign:"right"},children:[l.jsxs("div",{style:{fontWeight:700,fontSize:"0.85rem"},children:[m.avgScore,"%"]}),l.jsxs("div",{style:{fontSize:"0.65rem",color:"var(--text-muted)"},children:[m.attempts," attempts  ",m.passRate,"% pass"]})]})]},g))})]})]})]})}const cJ="http://localhost:8000/api";function nhe({context:t="problem",onGenerate:e,isOpen:n,onClose:r}){const[s,i]=C.useState([{role:"assistant",content:t==="task"?` Hi! I'm your AI assistant for creating ML/AI tasks. I can help you:

 **Brainstorm** task ideas based on topics
 **Generate** complete task specifications
 **Suggest** improvements to your descriptions

Try asking: "Create a beginner-friendly sentiment analysis task" or "I need an image classification project"`:` Hi! I'm your AI assistant for creating coding problems. I can help you:

 **Brainstorm** problem ideas by topic or difficulty
 **Generate** complete problem specifications (including **SQL queries**!)
 **Suggest** test cases and edge cases

Try asking:
 "Create an easy array problem about finding duplicates"
 "Generate a SQL problem about employee salaries"
 "I need a hard dynamic programming challenge"`}]),[a,o]=C.useState(""),[c,u]=C.useState(!1),[d,f]=C.useState(!1),[h,m]=C.useState(!1),g=C.useRef(null),y=()=>{g.current?.scrollIntoView({behavior:"smooth"})};C.useEffect(()=>{y()},[s]);const x=async()=>{if(!a.trim()||c)return;const E={role:"user",content:a};i(O=>[...O,E]),o(""),u(!0);const N=a.toLowerCase().includes("sql")||a.toLowerCase().includes("query")||a.toLowerCase().includes("database");try{if(a.toLowerCase().includes("create")||a.toLowerCase().includes("generate")||a.toLowerCase().includes("make")){const D=await rt.post(`${cJ}/ai/generate-problem`,{prompt:a,type:t==="task"?"task":"problem",language:N?"SQL":"Python"});if(D.data.success&&D.data.generated){const T=D.data.generated,j=T.type==="SQL"||T.language==="SQL";let P;t==="task"?P=` I've generated an ML task for you!

**${T.title}**

 **Type:** ${T.type}
 **Difficulty:** ${T.difficulty}

 **Description:**
${T.description}

 **Requirements:**
${T.requirements}

---
*Click "Use This" to auto-fill the form, or ask me to modify it!*`:j?P=` I've generated a SQL problem for you!

**${T.title}**

 **Type:** SQL Query
 **Difficulty:** ${T.difficulty}

 **Description:**
${T.description}

 **Database Schema:**
\`\`\`sql
${T.sqlSchema||"Schema will be provided"}
\`\`\`

 **Expected Result:**
\`\`\`
${T.expectedQueryResult||T.expectedResult||"Result preview"}
\`\`\`

---
*Click "Use This" to auto-fill the form, or ask me to modify it!*`:P=` I've generated a coding problem for you!

**${T.title}**

 **Language:** ${T.language}
 **Difficulty:** ${T.difficulty}

 **Description:**
${T.description}

 **Sample Input:** \`${T.sampleInput}\`
 **Expected Output:** \`${T.expectedOutput}\`

---
*Click "Use This" to auto-fill the form, or ask me to modify it!*`,i(U=>[...U,{role:"assistant",content:P,generatedContent:T}]),u(!1);return}}const O=await rt.post(`${cJ}/ai/chat`,{messages:[...s.slice(1),E].map(D=>({role:D.role,content:D.content})),context:t}),F={role:"assistant",content:O.data.response,generatedContent:O.data.generatedContent};i(D=>[...D,F])}catch(O){console.error("Chat error:",O),i(F=>[...F,{role:"assistant",content:` Sorry, I encountered an error: ${O.response?.data?.details||O.message}. Please try again!`}])}finally{u(!1)}},v=E=>{E.key==="Enter"&&!E.shiftKey&&(E.preventDefault(),x())},w=E=>{e&&E&&e(E)},B=E=>{navigator.clipboard.writeText(JSON.stringify(E,null,2)),m(!0),setTimeout(()=>m(!1),2e3)},k=t==="task"?["Create a sentiment analysis task","Generate an image classification project","Build a regression task for housing prices","Create an NLP task for text classification"]:["Create an easy array problem","Generate a medium string manipulation problem","Make a hard dynamic programming challenge","Create a beginner-friendly recursion problem"];return n?l.jsxs("div",{style:{position:"fixed",bottom:"1.5rem",right:"1.5rem",width:d?"320px":"420px",height:d?"auto":"600px",background:"linear-gradient(145deg, #1e293b, #0f172a)",borderRadius:"1.5rem",border:"1px solid rgba(59, 130, 246, 0.3)",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 40px rgba(59, 130, 246, 0.15)",display:"flex",flexDirection:"column",overflow:"hidden",zIndex:9999,animation:"slideIn 0.3s ease-out"},children:[l.jsxs("div",{style:{padding:"1rem 1.25rem",background:"linear-gradient(135deg, rgba(59, 130, 246, 0.15), rgba(139, 92, 246, 0.1))",borderBottom:"1px solid rgba(255,255,255,0.05)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"12px",background:"linear-gradient(135deg, #3b82f6, #8b5cf6)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.4)"},children:l.jsx(Po,{size:20,color:"white"})}),l.jsxs("div",{children:[l.jsxs("h3",{style:{margin:0,fontSize:"1rem",fontWeight:700,color:"#f8fafc"},children:["AI ",t==="task"?"Task":"Problem"," Generator"]}),l.jsx("p",{style:{margin:0,fontSize:"0.75rem",color:"#94a3b8"},children:"Powered by Groq AI"})]})]}),l.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[l.jsx("button",{onClick:()=>f(!d),style:{background:"rgba(255,255,255,0.05)",border:"none",borderRadius:"8px",padding:"0.5rem",cursor:"pointer",color:"#94a3b8",display:"flex",alignItems:"center",justifyContent:"center"},children:d?l.jsx(tm,{size:18}):l.jsx(gh,{size:18})}),l.jsx("button",{onClick:r,style:{background:"rgba(239, 68, 68, 0.1)",border:"none",borderRadius:"8px",padding:"0.5rem",cursor:"pointer",color:"#ef4444",display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx(xi,{size:18})})]})]}),!d&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"1rem",display:"flex",flexDirection:"column",gap:"1rem"},children:[s.map((E,N)=>l.jsxs("div",{style:{display:"flex",gap:"0.75rem",flexDirection:E.role==="user"?"row-reverse":"row"},children:[l.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:E.role==="user"?"linear-gradient(135deg, #10b981, #06b6d4)":"linear-gradient(135deg, #3b82f6, #8b5cf6)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:E.role==="user"?l.jsx(jB,{size:16,color:"white"}):l.jsx(NB,{size:16,color:"white"})}),l.jsxs("div",{style:{maxWidth:"85%",padding:"0.75rem 1rem",borderRadius:E.role==="user"?"1rem 1rem 0 1rem":"1rem 1rem 1rem 0",background:E.role==="user"?"linear-gradient(135deg, rgba(16, 185, 129, 0.2), rgba(6, 182, 212, 0.15))":"rgba(30, 41, 59, 0.8)",border:`1px solid ${E.role==="user"?"rgba(16, 185, 129, 0.2)":"rgba(255,255,255,0.05)"}`,color:"#e2e8f0",fontSize:"0.9rem",lineHeight:"1.6",whiteSpace:"pre-wrap"},children:[E.content,E.generatedContent&&l.jsxs("div",{style:{marginTop:"1rem",paddingTop:"0.75rem",borderTop:"1px solid rgba(255,255,255,0.1)",display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[l.jsxs("button",{onClick:()=>w(E.generatedContent),style:{background:"linear-gradient(135deg, #10b981, #059669)",border:"none",color:"white",padding:"0.5rem 1rem",borderRadius:"8px",cursor:"pointer",fontSize:"0.8rem",fontWeight:600,display:"flex",alignItems:"center",gap:"0.4rem"},children:[l.jsx(G6,{size:14})," Use This"]}),l.jsxs("button",{onClick:()=>B(E.generatedContent),style:{background:"rgba(255,255,255,0.1)",border:"none",color:"#94a3b8",padding:"0.5rem 1rem",borderRadius:"8px",cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.4rem"},children:[h?l.jsx(DJ,{size:14,color:"#10b981"}):l.jsx($J,{size:14}),h?"Copied!":"Copy JSON"]})]})]})]},N)),c&&l.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[l.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:"linear-gradient(135deg, #3b82f6, #8b5cf6)",display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx(NB,{size:16,color:"white"})}),l.jsxs("div",{style:{padding:"0.75rem 1rem",borderRadius:"1rem 1rem 1rem 0",background:"rgba(30, 41, 59, 0.8)",border:"1px solid rgba(255,255,255,0.05)",display:"flex",alignItems:"center",gap:"0.5rem",color:"#94a3b8"},children:[l.jsx(d0e,{size:16,className:"animate-spin",style:{animation:"spin 1s linear infinite"}}),"Thinking..."]})]}),l.jsx("div",{ref:g})]}),s.length<=1&&l.jsx("div",{style:{padding:"0 1rem 0.75rem",display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:k.map((E,N)=>l.jsxs("button",{onClick:()=>o(E),style:{background:"rgba(59, 130, 246, 0.1)",border:"1px solid rgba(59, 130, 246, 0.2)",color:"#60a5fa",padding:"0.4rem 0.75rem",borderRadius:"2rem",fontSize:"0.75rem",cursor:"pointer",whiteSpace:"nowrap",display:"flex",alignItems:"center",gap:"0.3rem"},children:[l.jsx(xh,{size:12})," ",E]},N))}),l.jsx("div",{style:{padding:"1rem",borderTop:"1px solid rgba(255,255,255,0.05)",background:"rgba(15, 23, 42, 0.5)"},children:l.jsxs("div",{style:{display:"flex",gap:"0.75rem",alignItems:"flex-end"},children:[l.jsx("textarea",{value:a,onChange:E=>o(E.target.value),onKeyPress:v,placeholder:`Describe the ${t==="task"?"ML task":"coding problem"} you want...`,style:{flex:1,background:"rgba(30, 41, 59, 0.6)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px",padding:"0.75rem 1rem",color:"#f8fafc",fontSize:"0.9rem",resize:"none",minHeight:"44px",maxHeight:"120px",outline:"none"},rows:1}),l.jsx("button",{onClick:x,disabled:!a.trim()||c,style:{width:"44px",height:"44px",borderRadius:"12px",background:a.trim()&&!c?"linear-gradient(135deg, #3b82f6, #8b5cf6)":"rgba(255,255,255,0.1)",border:"none",color:a.trim()&&!c?"white":"#64748b",cursor:a.trim()&&!c?"pointer":"not-allowed",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},children:l.jsx(_c,{size:18})})]})})]}),l.jsx("style",{children:`
                @keyframes slideIn {
                    from { opacity: 0; transform: translateY(20px); }
                    to { opacity: 1; transform: translateY(0); }
                }
                @keyframes spin {
                    from { transform: rotate(0deg); }
                    to { transform: rotate(360deg); }
                }
            `})]}):null}const Yxt="http://localhost:8000/api",uJ=["#8b5cf6","#3b82f6","#10b981","#f59e0b","#ef4444","#06b6d4"];function rhe({studentId:t,studentName:e,onClose:n,requestedBy:r,requestedByRole:s}){const[i,a]=C.useState(!0),[o,c]=C.useState(null),[u,d]=C.useState(null),[f,h]=C.useState("overview"),[m,g]=C.useState({aptitude:!0,code:!1,tasks:!1}),y=C.useRef(null);C.useEffect(()=>{t&&(a(!0),rt.post(`${Yxt}/reports/student/${t}`,{requestedBy:r,requestedByRole:s}).then(E=>{console.log("Report data:",E.data),c(E.data),a(!1)}).catch(E=>{console.error("Failed to generate report:",E),d("Failed to generate report"),a(!1)}))},[t]);const x=async()=>{if(!o||!y.current)return;const E={...m};g({aptitude:!0,code:!0,tasks:!0}),setTimeout(async()=>{try{const N=await bz(y.current,{scale:2,backgroundColor:"#0f172a",useCORS:!0,logging:!1}),O=N.toDataURL("image/png",1),F=new _n("p","mm","a4"),D=210,T=297,j=N.height*D/N.width;let P=j,U=0;for(F.addImage(O,"PNG",0,U,D,j),P-=T;P>=0;)U=P-j,F.addPage(),F.addImage(O,"PNG",0,U,D,j),P-=T;F.save(`${o.student.name}_Performance_Report.pdf`)}catch(N){console.error("PDF generation failed:",N)}g(E)},500)},v=E=>E>=80?"#10b981":E>=60?"#f59e0b":"#ef4444",w=E=>E>=90?{label:"Excellent",color:"#10b981"}:E>=80?{label:"Very Good",color:"#22c55e"}:E>=70?{label:"Good",color:"#84cc16"}:E>=60?{label:"Average",color:"#f59e0b"}:E>=50?{label:"Below Average",color:"#f97316"}:{label:"Needs Improvement",color:"#ef4444"};if(!t)return null;const B=()=>o?[{name:"Code",score:o.summary?.avgCodeScore||0,fullMark:100},{name:"Tasks",score:o.summary?.avgTaskScore||0,fullMark:100},{name:"Aptitude",score:o.summary?.avgAptitudeScore||0,fullMark:100}]:[],k=()=>o?.languageBreakdown?o.languageBreakdown.map((E,N)=>({name:E.language,value:E.count,avgScore:E.avgScore,color:uJ[N%uJ.length]})):[];return Zme.createPortal(l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.9)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e5,backdropFilter:"blur(8px)"},onClick:n,children:l.jsxs("div",{style:{width:"95%",maxWidth:"1200px",maxHeight:"95vh",display:"flex",flexDirection:"column",overflow:"hidden",background:"#0f172a",borderRadius:"24px",border:"1px solid rgba(139, 92, 246, 0.3)",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5)"},onClick:E=>E.stopPropagation(),children:[l.jsxs("div",{style:{padding:"1.5rem 2rem",borderBottom:"1px solid rgba(139, 92, 246, 0.2)",display:"flex",justifyContent:"space-between",alignItems:"center",background:"linear-gradient(135deg, rgba(139, 92, 246, 0.15), rgba(6, 182, 212, 0.08))"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[l.jsx("div",{style:{width:"56px",height:"56px",borderRadius:"16px",background:"linear-gradient(135deg, #8b5cf6, #3b82f6)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 8px 24px rgba(139, 92, 246, 0.3)"},children:l.jsx(EE,{size:28,color:"white"})}),l.jsxs("div",{children:[l.jsx("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:700,color:"white"},children:"Comprehensive Performance Report"}),l.jsx("p",{style:{margin:0,color:"#94a3b8",fontSize:"0.95rem"},children:e||"Loading..."})]})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[o&&l.jsxs("button",{onClick:x,style:{background:"linear-gradient(135deg, #10b981, #06b6d4)",color:"white",border:"none",borderRadius:"12px",padding:"0.75rem 1.5rem",display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",fontWeight:600,fontSize:"0.9rem",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3)",transition:"all 0.2s"},children:[l.jsx(zg,{size:18})," Download PDF"]}),l.jsx("button",{onClick:n,style:{background:"rgba(255, 255, 255, 0.05)",border:"none",borderRadius:"12px",padding:"0.75rem",cursor:"pointer",color:"#94a3b8",transition:"all 0.2s"},children:l.jsx(xi,{size:24})})]})]}),l.jsx("div",{style:{flex:1,overflowY:"auto",padding:"2rem"},ref:y,children:i?l.jsxs("div",{style:{textAlign:"center",padding:"5rem"},children:[l.jsx("div",{style:{width:"60px",height:"60px",border:"4px solid rgba(139, 92, 246, 0.2)",borderTopColor:"#8b5cf6",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto"}}),l.jsx("style",{children:"@keyframes spin { to { transform: rotate(360deg); } }"}),l.jsx("p",{style:{color:"#94a3b8",marginTop:"1.5rem",fontWeight:500,fontSize:"1.1rem"},children:"Analyzing performance data..."})]}):u?l.jsxs("div",{style:{textAlign:"center",padding:"5rem"},children:[l.jsx(Qn,{size:64,color:"#ef4444",style:{marginBottom:"1.5rem",opacity:.8}}),l.jsx("h3",{style:{color:"white"},children:"Oops! Something went wrong"}),l.jsx("p",{style:{color:"#94a3b8"},children:u}),l.jsx("button",{onClick:n,style:{marginTop:"1.5rem",padding:"0.75rem 1.5rem",background:"#3b82f6",color:"white",border:"none",borderRadius:"10px",fontWeight:600,cursor:"pointer"},children:"Close Modal"})]}):o?l.jsxs(l.Fragment,{children:[o.aiInsights?.overallAssessment&&l.jsxs("div",{style:{padding:"2rem",background:"linear-gradient(135deg, rgba(139, 92, 246, 0.15), rgba(6, 182, 212, 0.1))",borderRadius:"24px",border:"1px solid rgba(139, 92, 246, 0.2)",marginBottom:"2rem",position:"relative",overflow:"hidden"},children:[l.jsx(Po,{style:{position:"absolute",right:"2rem",top:"1.5rem",opacity:.2},size:48,color:"#8b5cf6"}),l.jsxs("h3",{style:{margin:"0 0 1rem",display:"flex",alignItems:"center",gap:"0.75rem",color:"#a78bfa",fontSize:"1.3rem"},children:[l.jsx(Zr,{size:24})," Executive Summary"]}),l.jsx("p",{style:{margin:0,color:"#e2e8f0",fontSize:"1.05rem",lineHeight:1.7,maxWidth:"90%"},children:o.aiInsights.overallAssessment})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem",marginBottom:"2rem"},children:[l.jsxs("div",{style:{padding:"1.75rem",background:"rgba(30, 41, 59, 0.5)",borderRadius:"20px",border:"1px solid rgba(255, 255, 255, 0.05)",display:"flex",alignItems:"center",gap:"1.5rem"},children:[l.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"linear-gradient(135deg, #8b5cf6, #06b6d4)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"2rem",fontWeight:800,color:"white",boxShadow:"0 8px 24px rgba(139, 92, 246, 0.3)"},children:o.student.name?.charAt(0).toUpperCase()}),l.jsxs("div",{style:{flex:1},children:[l.jsx("h3",{style:{margin:0,color:"white",fontSize:"1.4rem",fontWeight:700},children:o.student.name}),l.jsx("p",{style:{margin:"0.3rem 0",color:"#94a3b8",fontSize:"0.95rem"},children:o.student.email}),o.mentor&&l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginTop:"0.5rem"},children:[l.jsx(jB,{size:14,color:"#8b5cf6"}),l.jsxs("span",{style:{color:"#a78bfa",fontSize:"0.85rem"},children:["Mentor: ",o.mentor.name]})]})]})]}),l.jsxs("div",{style:{padding:"1.75rem",background:`linear-gradient(135deg, ${v(o.summary.overallAvgScore)}15, ${v(o.summary.overallAvgScore)}08)`,borderRadius:"20px",border:`1px solid ${v(o.summary.overallAvgScore)}30`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{children:[l.jsxs("div",{style:{fontSize:"3.5rem",fontWeight:900,color:v(o.summary.overallAvgScore),lineHeight:1},children:[o.summary.overallAvgScore,"%"]}),l.jsx("div",{style:{color:"#94a3b8",fontSize:"0.9rem",marginTop:"0.5rem",textTransform:"uppercase",letterSpacing:"0.05em",fontWeight:600},children:"Overall Score"})]}),l.jsxs("div",{style:{textAlign:"right"},children:[l.jsx("div",{style:{padding:"0.75rem 1.5rem",borderRadius:"14px",background:v(o.summary.overallAvgScore),color:"white",fontWeight:800,fontSize:"1rem",boxShadow:`0 8px 20px ${v(o.summary.overallAvgScore)}40`},children:w(o.summary.overallAvgScore).label}),l.jsxs("div",{style:{marginTop:"0.75rem",display:"flex",alignItems:"center",gap:"0.5rem",justifyContent:"flex-end"},children:[l.jsx(ol,{size:16,color:"#f59e0b"}),l.jsxs("span",{style:{color:"#f59e0b",fontWeight:700,fontSize:"1.1rem"},children:["Rank #",o.summary.leaderboardRank]}),l.jsxs("span",{style:{color:"#64748b",fontSize:"0.85rem"},children:["of ",o.summary.totalStudents]})]})]})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"1rem",marginBottom:"2rem"},children:[l.jsx(Pk,{icon:Dr,label:"Code Submissions",value:o.summary.codeSubmissions,subLabel:`${o.summary.avgCodeScore}% avg score`,color:"#3b82f6"}),l.jsx(Pk,{icon:kr,label:"Tasks Completed",value:o.summary.completedTasks,subLabel:`${o.summary.avgTaskScore}% avg score`,color:"#10b981"}),l.jsx(Pk,{icon:Zr,label:"Aptitude Tests",value:o.summary.aptitudeTests,subLabel:`${o.summary.avgAptitudeScore}% avg score`,color:"#8b5cf6"}),l.jsx(Pk,{icon:Ga,label:"Total Activities",value:o.summary.totalSubmissions,subLabel:`${o.summary.completedProblems} problems solved`,color:"#06b6d4"})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1.2fr 1fr",gap:"1.5rem",marginBottom:"2.5rem"},children:[l.jsxs("div",{style:{background:"rgba(30, 41, 59, 0.4)",borderRadius:"20px",border:"1px solid rgba(255, 255, 255, 0.05)",padding:"1.5rem"},children:[l.jsxs("h4",{style:{margin:"0 0 1rem",color:"#94a3b8",fontSize:"0.9rem",textTransform:"uppercase",letterSpacing:"0.1em",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(sA,{size:18,color:"#8b5cf6"})," Performance Overview"]}),l.jsx(tA,{width:"100%",height:280,children:l.jsxs(sfe,{data:B(),children:[l.jsx(PU,{stroke:"rgba(255,255,255,0.1)"}),l.jsx(MU,{dataKey:"name",tick:{fill:"#94a3b8",fontSize:13}}),l.jsx(zU,{angle:30,domain:[0,100],tick:{fill:"#64748b",fontSize:11},tickFormatter:E=>`${E}%`}),l.jsx(YU,{name:"Score",dataKey:"score",stroke:"#8b5cf6",fill:"#8b5cf6",fillOpacity:.4,strokeWidth:2}),l.jsx(rA,{contentStyle:{background:"#1e293b",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"8px"},itemStyle:{color:"white"}})]})})]}),l.jsxs("div",{style:{background:"rgba(30, 41, 59, 0.4)",borderRadius:"20px",border:"1px solid rgba(255, 255, 255, 0.05)",padding:"1.5rem"},children:[l.jsxs("h4",{style:{margin:"0 0 1rem",color:"#94a3b8",fontSize:"0.9rem",textTransform:"uppercase",letterSpacing:"0.1em",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(Pg,{size:18,color:"#3b82f6"})," Score Breakdown"]}),l.jsx(tA,{width:"100%",height:280,children:l.jsxs(iz,{data:B(),margin:{top:20,right:30,left:0,bottom:5},children:[l.jsx(SS,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.05)",vertical:!1}),l.jsx(pb,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12}}),l.jsx(mb,{domain:[0,100],axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12},tickFormatter:E=>`${E}%`}),l.jsx(rA,{contentStyle:{background:"#1e293b",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"8px"},itemStyle:{color:"white"},cursor:{fill:"rgba(255,255,255,0.05)"}}),l.jsx(Y3,{dataKey:"score",radius:[8,8,0,0],children:B().map((E,N)=>l.jsx(pA,{fill:v(E.score)},`cell-${N}`))})]})})]})]}),(o.languageBreakdown?.length>0||o.categoryAnalysis?.length>0)&&l.jsxs("div",{style:{display:"grid",gridTemplateColumns:o.languageBreakdown?.length>0&&o.categoryAnalysis?.length>0?"1fr 1fr":"1fr",gap:"1.5rem",marginBottom:"2.5rem"},children:[o.languageBreakdown?.length>0&&l.jsxs("div",{style:{background:"rgba(30, 41, 59, 0.4)",borderRadius:"20px",border:"1px solid rgba(255, 255, 255, 0.05)",padding:"1.5rem"},children:[l.jsxs("h4",{style:{margin:"0 0 1rem",color:"#94a3b8",fontSize:"0.9rem",textTransform:"uppercase",letterSpacing:"0.1em",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(Dr,{size:18,color:"#06b6d4"})," Language Distribution"]}),l.jsx(tA,{width:"100%",height:200,children:l.jsxs(oz,{children:[l.jsx(K3,{data:k(),cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:4,dataKey:"value",children:k().map((E,N)=>l.jsx(pA,{fill:E.color},`cell-${N}`))}),l.jsx(rA,{contentStyle:{background:"#1e293b",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"8px"},itemStyle:{color:"white"}})]})}),l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.75rem",marginTop:"1rem",justifyContent:"center"},children:k().map((E,N)=>l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem",background:"rgba(255,255,255,0.05)",borderRadius:"8px"},children:[l.jsx("div",{style:{width:"10px",height:"10px",borderRadius:"3px",background:E.color}}),l.jsx("span",{style:{color:"white",fontWeight:600,fontSize:"0.85rem"},children:E.name}),l.jsxs("span",{style:{color:"#64748b",fontSize:"0.8rem"},children:[E.value," (",E.avgScore,"%)"]})]},N))})]}),o.categoryAnalysis?.length>0&&l.jsxs("div",{style:{background:"rgba(30, 41, 59, 0.4)",borderRadius:"20px",border:"1px solid rgba(255, 255, 255, 0.05)",padding:"1.5rem"},children:[l.jsxs("h4",{style:{margin:"0 0 1.5rem",color:"#94a3b8",fontSize:"0.9rem",textTransform:"uppercase",letterSpacing:"0.1em",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(kr,{size:18,color:"#f59e0b"})," Category Performance"]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:o.categoryAnalysis.map((E,N)=>l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[l.jsx("span",{style:{color:"white",fontWeight:600,fontSize:"0.95rem"},children:E.category}),l.jsxs("span",{style:{color:v(E.accuracy),fontWeight:700},children:[E.correct,"/",E.total," (",E.accuracy,"%)"]})]}),l.jsx("div",{style:{height:"10px",background:"rgba(255,255,255,0.1)",borderRadius:"5px",overflow:"hidden"},children:l.jsx("div",{style:{width:`${E.accuracy}%`,height:"100%",background:`linear-gradient(90deg, ${v(E.accuracy)}, ${v(E.accuracy)}cc)`,borderRadius:"5px",transition:"width 0.5s ease"}})})]},N))})]})]}),o.aiInsights&&l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem",marginBottom:"2.5rem"},children:[l.jsxs("div",{style:{padding:"2rem",background:"rgba(16, 185, 129, 0.03)",borderRadius:"24px",border:"1px solid rgba(16, 185, 129, 0.15)"},children:[l.jsxs("h4",{style:{margin:"0 0 1.5rem",display:"flex",alignItems:"center",gap:"0.75rem",color:"#10b981",fontSize:"1.2rem"},children:[l.jsx(jl,{size:24})," Key Strengths"]}),l.jsx("ul",{style:{margin:0,padding:0,listStyle:"none",display:"flex",flexDirection:"column",gap:"1rem"},children:o.aiInsights.strengths?.map((E,N)=>l.jsxs("li",{style:{display:"flex",alignItems:"flex-start",gap:"0.75rem",color:"#e2e8f0",fontSize:"0.95rem"},children:[l.jsx("div",{style:{marginTop:"0.25rem",padding:"0.2rem",background:"#10b981",borderRadius:"50%"},children:l.jsx($n,{size:12,color:"white"})}),E]},N))})]}),l.jsxs("div",{style:{padding:"2rem",background:"rgba(245, 158, 11, 0.03)",borderRadius:"24px",border:"1px solid rgba(245, 158, 11, 0.15)"},children:[l.jsxs("h4",{style:{margin:"0 0 1.5rem",display:"flex",alignItems:"center",gap:"0.75rem",color:"#f59e0b",fontSize:"1.2rem"},children:[l.jsx(sA,{size:24})," Areas for Growth"]}),l.jsx("ul",{style:{margin:0,padding:0,listStyle:"none",display:"flex",flexDirection:"column",gap:"1rem"},children:o.aiInsights.areasForImprovement?.map((E,N)=>l.jsxs("li",{style:{display:"flex",alignItems:"flex-start",gap:"0.75rem",color:"#e2e8f0",fontSize:"0.95rem"},children:[l.jsx("div",{style:{marginTop:"0.25rem",padding:"0.2rem",background:"#f59e0b",borderRadius:"50%"},children:l.jsx(Sg,{size:12,color:"white"})}),E]},N))})]})]}),o.aiInsights?.recommendations?.length>0&&l.jsxs("div",{style:{padding:"2rem",background:"rgba(59, 130, 246, 0.03)",borderRadius:"24px",border:"1px solid rgba(59, 130, 246, 0.15)",marginBottom:"2.5rem"},children:[l.jsxs("h4",{style:{margin:"0 0 1.5rem",display:"flex",alignItems:"center",gap:"0.75rem",color:"#60a5fa",fontSize:"1.2rem"},children:[l.jsx(PJ,{size:24})," Personalized Action Plan"]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:o.aiInsights.recommendations.map((E,N)=>l.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"flex-start"},children:[l.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"10px",background:"linear-gradient(135deg, #3b82f6, #8b5cf6)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:800,fontSize:"0.85rem",flexShrink:0},children:N+1}),l.jsx("p",{style:{margin:0,color:"#e2e8f0",lineHeight:1.6,fontSize:"0.95rem"},children:E})]},N))})]}),o.integrity&&l.jsxs("div",{style:{padding:"2rem",background:"rgba(30, 41, 59, 0.4)",borderRadius:"24px",border:"1px solid rgba(255, 255, 255, 0.05)",marginBottom:"2.5rem"},children:[l.jsxs("h4",{style:{margin:"0 0 1.5rem",display:"flex",alignItems:"center",gap:"0.75rem",color:"white",fontSize:"1.2rem"},children:[l.jsx(Ui,{size:24,color:"#3b82f6"})," Proctoring & Integrity Summary"]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"1rem"},children:[l.jsx(Uk,{label:"Tab Switches",value:o.integrity.tabSwitches||0,severity:o.integrity.tabSwitches>5?"high":o.integrity.tabSwitches>2?"medium":"low"}),l.jsx(Uk,{label:"Copy/Paste",value:o.integrity.copyPasteAttempts||0,severity:o.integrity.copyPasteAttempts>3?"high":o.integrity.copyPasteAttempts>1?"medium":"low"}),l.jsx(Uk,{label:"Camera Issues",value:o.integrity.cameraBlocked||0,severity:o.integrity.cameraBlocked>2?"high":o.integrity.cameraBlocked>0?"medium":"low"}),l.jsx(Uk,{label:"Plagiarism Flags",value:o.integrity.plagiarismCount||0,severity:o.integrity.plagiarismCount>0?"high":"low"})]})]}),o.recentSubmissions?.length>0&&l.jsxs("div",{style:{background:"rgba(30, 41, 59, 0.4)",borderRadius:"24px",border:"1px solid rgba(255, 255, 255, 0.05)",overflow:"hidden"},children:[l.jsxs("div",{style:{padding:"1.5rem 2rem",borderBottom:"1px solid rgba(255, 255, 255, 0.05)",display:"flex",alignItems:"center",gap:"0.75rem"},children:[l.jsx(vs,{size:20,color:"#8b5cf6"}),l.jsx("h4",{style:{margin:0,color:"white",fontSize:"1.1rem"},children:"Recent Submissions"})]}),l.jsx("div",{style:{padding:"1rem"},children:o.recentSubmissions.slice(0,8).map((E,N)=>l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",padding:"1rem",background:N%2===0?"rgba(255,255,255,0.02)":"transparent",borderRadius:"12px"},children:[l.jsx("div",{style:{width:"44px",height:"44px",borderRadius:"12px",background:E.status==="accepted"?"rgba(16, 185, 129, 0.15)":"rgba(239, 68, 68, 0.15)",display:"flex",alignItems:"center",justifyContent:"center"},children:E.status==="accepted"?l.jsx($n,{size:22,color:"#10b981"}):l.jsx(Jr,{size:22,color:"#ef4444"})}),l.jsxs("div",{style:{flex:1},children:[l.jsx("div",{style:{fontWeight:600,color:"white",fontSize:"0.95rem"},children:E.title}),l.jsxs("div",{style:{fontSize:"0.8rem",color:"#64748b",marginTop:"0.25rem"},children:[E.language,"  ",E.type]})]}),l.jsxs("div",{style:{fontSize:"1.1rem",fontWeight:700,color:v(E.score),padding:"0.4rem 1rem",background:`${v(E.score)}15`,borderRadius:"8px"},children:[E.score,"%"]})]},N))})]})]}):null}),o&&l.jsxs("div",{style:{padding:"1rem 2rem",borderTop:"1px solid rgba(139, 92, 246, 0.2)",background:"rgba(30, 41, 59, 0.5)",display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"0.85rem",color:"#64748b"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(d1,{size:14}),l.jsxs("span",{children:["Generated: ",new Date(o.generatedAt).toLocaleString()]})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(jB,{size:14}),l.jsxs("span",{children:["Requested by: ",o.requestedBy||"System"]})]})]})]})}),document.body)}function Pk({icon:t,label:e,value:n,subLabel:r,color:s}){return l.jsxs("div",{style:{padding:"1.5rem",background:`linear-gradient(135deg, ${s}10, ${s}05)`,borderRadius:"16px",border:`1px solid ${s}20`,textAlign:"center",transition:"all 0.3s ease"},children:[l.jsx(t,{size:28,color:s,style:{marginBottom:"0.75rem"}}),l.jsx("div",{style:{fontSize:"2rem",fontWeight:800,color:"white"},children:n}),l.jsx("div",{style:{fontSize:"0.85rem",color:"#94a3b8",marginTop:"0.25rem"},children:e}),l.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b",marginTop:"0.5rem"},children:r})]})}function Uk({label:t,value:e,severity:n}){const s={low:"#10b981",medium:"#f59e0b",high:"#ef4444"}[n];return l.jsxs("div",{style:{padding:"1.25rem",background:`${s}10`,borderRadius:"14px",border:`1px solid ${s}20`,textAlign:"center"},children:[l.jsx("div",{style:{fontSize:"2.25rem",fontWeight:800,color:s},children:e}),l.jsx("div",{style:{fontSize:"0.85rem",color:"#94a3b8",marginTop:"0.5rem"},children:t})]})}const zk="http://localhost:8000/api";function she({problemId:t,problemTitle:e,isReadOnly:n=!1,onClose:r}){const[s,i]=C.useState([]),[a,o]=C.useState(!0),[c,u]=C.useState({input:"",expectedOutput:"",isHidden:!1,points:10,description:""}),[d,f]=C.useState(!1),[h,m]=C.useState(null),[g,y]=C.useState({});C.useEffect(()=>{x()},[t]);const x=async()=>{try{const E=await rt.get(`${zk}/problems/${t}/test-cases?role=mentor`);i(E.data),o(!1)}catch(E){console.error("Error fetching test cases:",E),o(!1)}},v=async()=>{try{await rt.post(`${zk}/problems/${t}/test-cases`,c),u({input:"",expectedOutput:"",isHidden:!1,points:10,description:""}),f(!1),x()}catch{alert("Error adding test case")}},w=async E=>{try{await rt.put(`${zk}/test-cases/${E}`,g),m(null),x()}catch{alert("Error updating test case")}},B=async E=>{if(window.confirm("Delete this test case?"))try{await rt.delete(`${zk}/test-cases/${E}`),x()}catch{alert("Error deleting test case")}},k=E=>{m(E.id),y({input:E.input,expectedOutput:E.expectedOutput,isHidden:E.isHidden,points:E.points,description:E.description})};return a?l.jsx("div",{className:"loading-spinner"}):l.jsx("div",{className:"modal-overlay",onClick:r,children:l.jsxs("div",{className:"modal-content",onClick:E=>E.stopPropagation(),style:{maxWidth:"900px",maxHeight:"85vh",overflow:"hidden",display:"flex",flexDirection:"column"},children:[l.jsxs("div",{className:"modal-header",children:[l.jsxs("div",{className:"modal-title-with-icon",children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",background:"linear-gradient(135deg, #10b981, #059669)",display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx($n,{size:20,color:"white"})}),l.jsxs("div",{children:[l.jsx("h2",{style:{margin:0},children:"Test Cases Manager"}),e&&l.jsx("p",{style:{margin:"0.25rem 0 0",fontSize:"0.85rem",color:"var(--text-muted)"},children:e})]})]}),l.jsx("button",{onClick:r,className:"modal-close",children:l.jsx(xi,{size:20})})]}),l.jsxs("div",{className:"modal-body",style:{flex:1,overflow:"auto",padding:"1.5rem"},children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"1rem",marginBottom:"1.5rem"},children:[l.jsxs("div",{style:{background:"rgba(59, 130, 246, 0.1)",padding:"1rem",borderRadius:"10px",textAlign:"center"},children:[l.jsx("div",{style:{fontSize:"1.5rem",fontWeight:700,color:"#3b82f6"},children:s.length}),l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:"Total Test Cases"})]}),l.jsxs("div",{style:{background:"rgba(16, 185, 129, 0.1)",padding:"1rem",borderRadius:"10px",textAlign:"center"},children:[l.jsx("div",{style:{fontSize:"1.5rem",fontWeight:700,color:"#10b981"},children:s.filter(E=>!E.isHidden).length}),l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:"Visible"})]}),l.jsxs("div",{style:{background:"rgba(239, 68, 68, 0.1)",padding:"1rem",borderRadius:"10px",textAlign:"center"},children:[l.jsx("div",{style:{fontSize:"1.5rem",fontWeight:700,color:"#ef4444"},children:s.filter(E=>E.isHidden).length}),l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:"Hidden"})]})]}),!n&&!d&&l.jsxs("button",{onClick:()=>f(!0),style:{width:"100%",padding:"1rem",background:"rgba(59, 130, 246, 0.1)",border:"2px dashed rgba(59, 130, 246, 0.3)",borderRadius:"10px",color:"#3b82f6",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontSize:"0.9rem",fontWeight:600,marginBottom:"1.5rem"},children:[l.jsx(il,{size:18})," Add Test Case"]}),d&&l.jsxs("div",{style:{background:"var(--bg-card)",border:"1px solid var(--border-color)",borderRadius:"12px",padding:"1.5rem",marginBottom:"1.5rem"},children:[l.jsxs("h4",{style:{margin:"0 0 1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(il,{size:16})," New Test Case"]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Input"}),l.jsx("textarea",{rows:"3",placeholder:"Enter test input...",value:c.input,onChange:E=>u({...c,input:E.target.value}),style:{fontFamily:"monospace",fontSize:"0.85rem"}})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Expected Output"}),l.jsx("textarea",{rows:"3",placeholder:"Enter expected output...",value:c.expectedOutput,onChange:E=>u({...c,expectedOutput:E.target.value}),style:{fontFamily:"monospace",fontSize:"0.85rem"}})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Description (optional)"}),l.jsx("input",{type:"text",placeholder:"e.g., Edge case with empty array",value:c.description,onChange:E=>u({...c,description:E.target.value})})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Points"}),l.jsx("input",{type:"number",min:"1",max:"100",value:c.points,onChange:E=>u({...c,points:parseInt(E.target.value)||10})})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Visibility"}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginTop:"0.5rem"},children:[l.jsx("input",{type:"checkbox",id:"isHidden",checked:c.isHidden,onChange:E=>u({...c,isHidden:E.target.checked}),style:{width:"18px",height:"18px",accentColor:"#ef4444"}}),l.jsxs("label",{htmlFor:"isHidden",style:{cursor:"pointer",fontSize:"0.9rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[c.isHidden?l.jsx(Mg,{size:16,color:"#ef4444"}):l.jsx(_s,{size:16,color:"#10b981"}),c.isHidden?"Hidden":"Visible"]})]})]})]}),l.jsxs("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end"},children:[l.jsx("button",{onClick:()=>f(!1),style:{padding:"0.5rem 1rem",background:"var(--bg-dark)",border:"none",borderRadius:"6px",color:"var(--text-muted)",cursor:"pointer"},children:"Cancel"}),l.jsxs("button",{onClick:v,style:{padding:"0.5rem 1rem",background:"var(--primary)",border:"none",borderRadius:"6px",color:"white",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(il,{size:16})," Add Test Case"]})]})]}),s.length===0?l.jsxs("div",{style:{textAlign:"center",padding:"3rem",color:"var(--text-muted)"},children:[l.jsx(Qn,{size:48,style:{marginBottom:"1rem",opacity:.5}}),l.jsx("h3",{children:"No Test Cases"}),l.jsx("p",{children:"Add test cases to enable automated grading"})]}):l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:s.map((E,N)=>l.jsx("div",{style:{background:"var(--bg-card)",border:`1px solid ${E.isHidden?"rgba(239, 68, 68, 0.3)":"var(--border-color)"}`,borderRadius:"10px",padding:"1rem",position:"relative"},children:h===E.id?l.jsxs("div",{children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Input"}),l.jsx("textarea",{rows:"3",value:g.input,onChange:O=>y({...g,input:O.target.value}),style:{fontFamily:"monospace",fontSize:"0.85rem"}})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Expected Output"}),l.jsx("textarea",{rows:"3",value:g.expectedOutput,onChange:O=>y({...g,expectedOutput:O.target.value}),style:{fontFamily:"monospace",fontSize:"0.85rem"}})]})]}),l.jsxs("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end"},children:[l.jsx("button",{onClick:()=>m(null),style:{padding:"0.4rem 0.75rem",background:"var(--bg-dark)",border:"none",borderRadius:"6px",color:"var(--text-muted)",cursor:"pointer"},children:"Cancel"}),l.jsxs("button",{onClick:()=>w(E.id),style:{padding:"0.4rem 0.75rem",background:"var(--primary)",border:"none",borderRadius:"6px",color:"white",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(ow,{size:14})," Save"]})]})]}):l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.75rem"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[l.jsx("span",{style:{width:"24px",height:"24px",background:"var(--primary)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.75rem",fontWeight:700},children:N+1}),l.jsx("span",{style:{fontWeight:600},children:E.description||`Test Case ${N+1}`}),l.jsxs("span",{style:{padding:"2px 8px",borderRadius:"12px",fontSize:"0.7rem",fontWeight:600,background:E.isHidden?"rgba(239, 68, 68, 0.15)":"rgba(16, 185, 129, 0.15)",color:E.isHidden?"#ef4444":"#10b981",display:"flex",alignItems:"center",gap:"4px"},children:[E.isHidden?l.jsx(Mg,{size:10}):l.jsx(_s,{size:10}),E.isHidden?"Hidden":"Visible"]}),l.jsxs("span",{style:{padding:"2px 8px",borderRadius:"12px",fontSize:"0.7rem",fontWeight:600,background:"rgba(251, 191, 36, 0.15)",color:"#fbbf24"},children:[E.points," pts"]})]}),!n&&l.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[l.jsx("button",{onClick:()=>k(E),style:{padding:"0.4rem",background:"rgba(59, 130, 246, 0.1)",border:"none",borderRadius:"6px",color:"#3b82f6",cursor:"pointer"},children:l.jsx(Dr,{size:14})}),l.jsx("button",{onClick:()=>B(E.id),style:{padding:"0.4rem",background:"rgba(239, 68, 68, 0.1)",border:"none",borderRadius:"6px",color:"#ef4444",cursor:"pointer"},children:l.jsx(Nl,{size:14})})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginBottom:"0.25rem"},children:"Input:"}),l.jsx("code",{style:{display:"block",padding:"0.5rem",background:"var(--bg-dark)",borderRadius:"6px",fontSize:"0.8rem",whiteSpace:"pre-wrap",maxHeight:"80px",overflow:"auto"},children:E.input||"(empty)"})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginBottom:"0.25rem"},children:"Expected Output:"}),l.jsx("code",{style:{display:"block",padding:"0.5rem",background:"var(--bg-dark)",borderRadius:"6px",fontSize:"0.8rem",color:"#4ade80",whiteSpace:"pre-wrap",maxHeight:"80px",overflow:"auto"},children:E.expectedOutput})]})]})]})},E.id))})]})]})})}function Jxt({user:t}){const[e,n]=C.useState([]),[r,s]=C.useState([]),[i,a]=C.useState(!1),[o,c]=C.useState(new Set),[u,d]=C.useState(0);C.useEffect(()=>(as.joinMonitoring(t.id,"mentor"),a(!0),as.onMonitoringConnected(g=>{console.log(" Joined live monitoring:",g)}),as.onLiveUpdate(g=>{n(y=>[g,...y.slice(0,49)]),c(y=>{const x=new Set(y);return g.type==="submission_started"?(x.add(g.studentId),console.log(` Student ${g.studentName} started - Total working: ${x.size}`)):g.type==="submission_completed"&&(x.delete(g.studentId),console.log(` Student ${g.studentName} completed - Total working: ${x.size}`)),x})}),as.onLiveAlert(g=>{s(y=>[g,...y.slice(0,29)]),d(y=>y+1)}),()=>{as.disconnect(),a(!1)}),[t.id]);const f=g=>{s(y=>y.filter((x,v)=>v!==g))},h=g=>{switch(g){case"submission_started":return l.jsx(Ga,{className:"w-4 h-4 text-blue-500"});case"submission_completed":return l.jsx($n,{className:"w-4 h-4 text-green-500"});case"progress_update":return l.jsx(vs,{className:"w-4 h-4 text-yellow-500"});case"test_failed":return l.jsx(Qn,{className:"w-4 h-4 text-orange-500"});default:return l.jsx(Ga,{className:"w-4 h-4 text-gray-500"})}},m=g=>new Date(g).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"});return l.jsxs("div",{className:"live-monitoring-container",children:[l.jsx("h2",{className:"text-2xl font-bold mb-6",children:" Live Student Monitoring"}),l.jsxs("div",{className:"status-bar",children:[l.jsxs("div",{className:`status-item ${i?"active":"inactive"}`,children:[l.jsx("div",{className:"status-dot"}),l.jsx("span",{children:i?"Live Monitoring Active":"Not Monitoring"})]}),l.jsxs("div",{className:"status-item",children:[l.jsx("span",{className:"font-semibold text-blue-600",children:o.size}),l.jsx("span",{className:"ml-2",children:"Students Working"})]}),l.jsxs("div",{className:"status-item",children:[l.jsx("span",{className:"font-semibold text-red-600",children:u}),l.jsx("span",{className:"ml-2",children:"Alerts"})]})]}),l.jsxs("div",{className:"flex gap-6 mt-6",children:[l.jsxs("div",{className:"flex-1 max-w-md",children:[l.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[l.jsx(Qn,{size:20,className:"text-red-500"}),"Proctoring Alerts"]}),l.jsx("div",{className:"alerts-list",children:r.length===0?l.jsx("div",{className:"empty-state",children:"No alerts"}):r.map((g,y)=>l.jsxs("div",{className:`alert-item severity-${g.severity}`,children:[l.jsxs("div",{className:"alert-header",children:[l.jsx("span",{className:"font-semibold",children:g.studentName||`Student ${g.studentId}`}),l.jsx("button",{className:"dismiss-btn",onClick:()=>f(y),title:"Dismiss",children:l.jsx(xi,{size:16})})]}),l.jsxs("div",{className:"alert-body",children:[l.jsx("div",{className:"violation-type",children:g.violationType.replace(/_/g," ").toUpperCase()}),l.jsx("div",{className:"severity-badge",children:g.severity.toUpperCase()})]}),l.jsx("div",{className:"alert-time",children:m(g.timestamp)}),g.requiresAction&&l.jsx("div",{className:"requires-action",children:" Requires immediate action"})]},y))})]}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[l.jsx(Ga,{size:20,className:"text-blue-500"}),"Live Activity Feed"]}),l.jsx("div",{className:"updates-list",children:e.length===0?l.jsx("div",{className:"empty-state",children:"Waiting for activity..."}):e.map((g,y)=>l.jsxs("div",{className:`update-item type-${g.type}`,children:[l.jsx("div",{className:"update-icon",children:h(g.type)}),l.jsx("div",{className:"update-content",children:l.jsxs("div",{className:"update-title",children:[g.type==="submission_started"&&l.jsxs("span",{children:[l.jsx("strong",{children:g.studentName||`Student ${g.studentId}`})," started ",g.problemTitle,g.isProctored&&l.jsx("span",{className:"badge-proctored",children:"Proctored"})]}),g.type==="submission_completed"&&l.jsxs("span",{children:[l.jsx("strong",{children:g.studentName||`Student ${g.studentId}`})," completed ",g.problemTitle,l.jsx("span",{className:`badge-status status-${g.status}`,children:g.status.toUpperCase()}),g.score!==void 0&&l.jsxs("span",{className:"badge-score",children:["Score: ",g.score,"%"]})]}),g.type==="progress_update"&&l.jsxs("span",{children:[l.jsx("strong",{children:g.studentName||`Student ${g.studentId}`})," - ",g.problemId,l.jsxs("span",{className:"badge-progress",children:[g.progress,"% complete"]})]}),g.type==="test_failed"&&l.jsxs("span",{children:[l.jsx("strong",{children:g.studentName||`Student ${g.studentId}`})," - Test failed: ",g.testname]})]})}),l.jsx("div",{className:"update-time",children:m(g.timestamp)})]},y))})]})]})]})}const Mk="http://localhost:8000/api",Zxt={background:"var(--bg-card)",border:"1px solid var(--border-color)",borderRadius:"16px",padding:"1.5rem",transition:"all 0.3s ease"},dJ={width:"100%",padding:"0.7rem 1rem",borderRadius:"10px",border:"1px solid var(--border-color)",background:"var(--bg-card)",color:"var(--text)",fontSize:"0.85rem",outline:"none",boxSizing:"border-box"},L8={padding:"0.5rem 1rem",borderRadius:"8px",border:"none",background:"linear-gradient(135deg, #3b82f6, #8b5cf6)",color:"white",fontWeight:600,cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.4rem"},fJ={...L8,background:"rgba(59,130,246,0.1)",color:"#3b82f6",border:"1px solid rgba(59,130,246,0.3)"},Nv={suggestion:{color:"#3b82f6",icon:e0e,label:"Suggestion"},issue:{color:"#ef4444",icon:Q6,label:"Issue"},praise:{color:"#10b981",icon:$n,label:"Praise"},question:{color:"#f59e0b",icon:zJ,label:"Question"}};function ebt({submissionId:t,code:e,mentorId:n,studentId:r,readOnly:s=!1}){const[i,a]=C.useState([]),[o,c]=C.useState(null),[u,d]=C.useState({comment:"",feedbackType:"suggestion"}),[f,h]=C.useState(null),[m,g]=C.useState(new Set),[y,x]=C.useState(""),[v,w]=C.useState(!1),B=C.useCallback(async()=>{if(t){w(!0);try{const U=await rt.get(`${Mk}/feedback/submission/${t}`);a(U.data.data||[]);const z=new Set;(U.data.data||[]).forEach(ee=>z.add(ee.line_number)),g(z)}catch(U){console.error(U)}w(!1)}},[t]);C.useEffect(()=>{B()},[B]);const k=async U=>{if(u.comment.trim())try{await rt.post(`${Mk}/feedback`,{submissionId:t,mentorId:n,studentId:r,lineNumber:U,comment:u.comment,feedbackType:u.feedbackType}),c(null),d({comment:"",feedbackType:"suggestion"}),B()}catch(z){console.error(z)}},E=async U=>{try{await rt.put(`${Mk}/feedback/${U}`,{comment:u.comment,feedbackType:u.feedbackType}),h(null),d({comment:"",feedbackType:"suggestion"}),B()}catch(z){console.error(z)}},N=async U=>{try{await rt.delete(`${Mk}/feedback/${U}`),B()}catch(z){console.error(z)}},O=U=>{h(U.id),d({comment:U.comment,feedbackType:U.feedback_type})},F=(e||"").split(`
`),D={};i.filter(U=>!y||U.feedback_type===y).forEach(U=>{D[U.line_number]||(D[U.line_number]=[]),D[U.line_number].push(U)});const T=U=>{g(z=>{const ee=new Set(z);return ee.has(U)?ee.delete(U):ee.add(U),ee})},j=i.length,P=i.reduce((U,z)=>(U[z.feedback_type]=(U[z.feedback_type]||0)+1,U),{});return v&&i.length===0?l.jsx("div",{style:{textAlign:"center",padding:"2rem"},children:l.jsx("div",{className:"loading-spinner"})}):l.jsxs("div",{className:"animate-fadeIn",children:[l.jsxs("div",{style:{display:"flex",gap:"0.75rem",marginBottom:"1rem",flexWrap:"wrap",alignItems:"center"},children:[l.jsx("div",{style:{display:"flex",gap:"0.5rem"},children:Object.entries(Nv).map(([U,z])=>{const ee=z.icon,q=P[U]||0;return l.jsxs("button",{onClick:()=>x(y===U?"":U),style:{padding:"0.3rem 0.7rem",borderRadius:"20px",border:`1px solid ${y===U?z.color:"var(--border-color)"}`,background:y===U?`${z.color}15`:"transparent",color:y===U?z.color:"var(--text-muted)",cursor:"pointer",fontSize:"0.7rem",fontWeight:600,display:"flex",alignItems:"center",gap:"0.3rem"},children:[l.jsx(ee,{size:12})," ",z.label," (",q,")"]},U)})}),l.jsxs("span",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginLeft:"auto"},children:[j," total comments"]})]}),l.jsx("div",{style:{...Zxt,padding:0,overflow:"hidden",fontFamily:"'Fira Code', 'Cascadia Code', 'Consolas', monospace",fontSize:"0.8rem"},children:F.map((U,z)=>{const ee=z+1,q=D[ee]||[],Z=q.length>0,G=m.has(ee);return l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",borderBottom:"1px solid rgba(255,255,255,0.03)",background:Z?"rgba(59,130,246,0.04)":"transparent",position:"relative"},onMouseEnter:ne=>{Z||(ne.currentTarget.style.background="rgba(255,255,255,0.02)")},onMouseLeave:ne=>{Z||(ne.currentTarget.style.background="transparent")},children:[l.jsx("div",{style:{width:"50px",padding:"0.2rem 0.5rem",textAlign:"right",color:"var(--text-muted)",userSelect:"none",borderRight:`2px solid ${Z?"#3b82f6":"transparent"}`,fontSize:"0.7rem",lineHeight:"1.6",flexShrink:0},children:ee}),l.jsx("pre",{style:{margin:0,padding:"0.2rem 0.75rem",flex:1,lineHeight:"1.6",overflow:"hidden",whiteSpace:"pre",color:"var(--text)"},children:U||" "}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.3rem",paddingRight:"0.5rem",flexShrink:0},children:[Z&&l.jsxs("button",{onClick:()=>T(ee),style:{background:"transparent",border:"none",color:"#3b82f6",cursor:"pointer",padding:"0.15rem",display:"flex",alignItems:"center",gap:"0.2rem",fontSize:"0.65rem"},children:[l.jsx(zJ,{size:12})," ",q.length,G?l.jsx(tm,{size:10}):l.jsx(gh,{size:10})]}),!s&&l.jsx("button",{onClick:()=>{c(o===ee?null:ee),d({comment:"",feedbackType:"suggestion"})},style:{background:"transparent",border:"none",color:"var(--text-muted)",cursor:"pointer",padding:"0.15rem",opacity:.5},onMouseEnter:ne=>ne.currentTarget.style.opacity=1,onMouseLeave:ne=>ne.currentTarget.style.opacity=.5,children:l.jsx("span",{style:{fontSize:"1rem",lineHeight:1},children:"+"})})]})]}),Z&&G&&q.map(ne=>{const K=Nv[ne.feedback_type]||Nv.suggestion,H=K.icon,Q=f===ne.id;return l.jsx("div",{style:{marginLeft:"52px",padding:"0.6rem 1rem",borderLeft:`3px solid ${K.color}`,background:`${K.color}08`,borderBottom:"1px solid var(--border-color)"},children:Q?l.jsxs("div",{children:[l.jsx("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"0.5rem"},children:Object.entries(Nv).map(([X,re])=>l.jsx("button",{onClick:()=>d(le=>({...le,feedbackType:X})),style:{padding:"0.2rem 0.5rem",borderRadius:"12px",border:`1px solid ${u.feedbackType===X?re.color:"var(--border-color)"}`,background:u.feedbackType===X?`${re.color}20`:"transparent",color:u.feedbackType===X?re.color:"var(--text-muted)",cursor:"pointer",fontSize:"0.65rem",fontWeight:600},children:re.label},X))}),l.jsx("textarea",{value:u.comment,onChange:X=>d(re=>({...re,comment:X.target.value})),style:{...dJ,fontSize:"0.8rem",minHeight:"60px",resize:"vertical"}}),l.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.5rem",justifyContent:"flex-end"},children:[l.jsx("button",{onClick:()=>{h(null),d({comment:"",feedbackType:"suggestion"})},style:{...fJ,padding:"0.3rem 0.8rem",fontSize:"0.7rem"},children:"Cancel"}),l.jsxs("button",{onClick:()=>E(ne.id),style:{...L8,padding:"0.3rem 0.8rem",fontSize:"0.7rem"},children:[l.jsx(ow,{size:12})," Save"]})]})]}):l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.4rem",marginBottom:"0.3rem"},children:[l.jsx(H,{size:12,color:K.color}),l.jsx("span",{style:{fontSize:"0.65rem",fontWeight:600,color:K.color,textTransform:"uppercase",letterSpacing:"0.05em"},children:K.label}),l.jsxs("span",{style:{fontSize:"0.65rem",color:"var(--text-muted)",marginLeft:"auto"},children:[ne.mentor_name||ne.mentor_id,"  ",new Date(ne.created_at).toLocaleDateString()]})]}),l.jsx("p",{style:{margin:0,fontSize:"0.8rem",color:"var(--text)",lineHeight:1.5,fontFamily:"inherit",whiteSpace:"pre-wrap"},children:ne.comment}),!s&&l.jsxs("div",{style:{display:"flex",gap:"0.4rem",marginTop:"0.4rem"},children:[l.jsxs("button",{onClick:()=>O(ne),style:{background:"transparent",border:"none",color:"#3b82f6",cursor:"pointer",fontSize:"0.7rem",display:"flex",alignItems:"center",gap:"0.2rem"},children:[l.jsx(WJ,{size:10})," Edit"]}),l.jsxs("button",{onClick:()=>N(ne.id),style:{background:"transparent",border:"none",color:"#ef4444",cursor:"pointer",fontSize:"0.7rem",display:"flex",alignItems:"center",gap:"0.2rem"},children:[l.jsx(Nl,{size:10})," Delete"]})]})]})},ne.id)}),o===ee&&l.jsxs("div",{style:{marginLeft:"52px",padding:"0.75rem 1rem",background:"rgba(59,130,246,0.06)",borderLeft:"3px solid #3b82f6",borderBottom:"1px solid var(--border-color)"},children:[l.jsx("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"0.5rem"},children:Object.entries(Nv).map(([ne,K])=>l.jsx("button",{onClick:()=>d(H=>({...H,feedbackType:ne})),style:{padding:"0.2rem 0.5rem",borderRadius:"12px",border:`1px solid ${u.feedbackType===ne?K.color:"var(--border-color)"}`,background:u.feedbackType===ne?`${K.color}20`:"transparent",color:u.feedbackType===ne?K.color:"var(--text-muted)",cursor:"pointer",fontSize:"0.65rem",fontWeight:600},children:K.label},ne))}),l.jsx("textarea",{value:u.comment,onChange:ne=>d(K=>({...K,comment:ne.target.value})),placeholder:`Add feedback for line ${ee}...`,style:{...dJ,fontSize:"0.8rem",minHeight:"60px",resize:"vertical"},autoFocus:!0}),l.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.5rem",justifyContent:"flex-end"},children:[l.jsx("button",{onClick:()=>c(null),style:{...fJ,padding:"0.3rem 0.8rem",fontSize:"0.7rem"},children:"Cancel"}),l.jsxs("button",{onClick:()=>k(ee),style:{...L8,padding:"0.3rem 0.8rem",fontSize:"0.7rem"},children:[l.jsx(_c,{size:12})," Add"]})]})]})]},ee)})})]})}const Wl="http://localhost:8000/api",$6=["#3b82f6","#8b5cf6","#06b6d4","#10b981","#f59e0b"];function tbt(){const{user:t}=xb(),{t:e}=m0(),n=cf(),[r,s]=C.useState(""),[i,a]=C.useState("");C.useEffect(()=>{switch(n.pathname.split("/").pop()){case"upload-problems":s(e("upload_problems")),a(e("create_problems_subtitle"));break;case"leaderboard":s(e("leaderboard")),a(e("student_rankings"));break;case"all-submissions":s(e("all_submissions")),a(e("review_student_work"));break;case"live-monitoring":s(e("live_student_monitoring")),a(e("realtime_activity_subtitle"));break;case"analytics":s(e("analytics")),a(e("analytics_dashboard_subtitle"));break;case"messaging":s("Direct Messaging"),a("Chat with your students");break;default:s(e("dashboard")),a(e("welcome_back_name",{name:t?.name||""}))}},[n,t,e]);const o=[{path:"/mentor",label:e("dashboard"),icon:l.jsx(G8,{size:20})},{label:"Content Management",icon:l.jsx(yh,{size:20}),defaultExpanded:!1,children:[{path:"/mentor/upload-problems",label:e("upload_problems"),icon:l.jsx(yh,{size:20})}]},{label:"Monitoring",icon:l.jsx(Ga,{size:20}),defaultExpanded:!1,children:[{path:"/mentor/leaderboard",label:e("leaderboard"),icon:l.jsx(ol,{size:20})},{path:"/mentor/all-submissions",label:e("all_submissions"),icon:l.jsx(UJ,{size:20})},{path:"/mentor/analytics",label:e("analytics"),icon:l.jsx(sA,{size:20})},{path:"/mentor/live-monitoring",label:e("live_monitoring"),icon:l.jsx(Ga,{size:20})}]}];return l.jsx(X8,{navItems:o,title:r,subtitle:i,children:l.jsxs(CE,{children:[l.jsx(us,{path:"/",element:l.jsx(nbt,{user:t})}),l.jsx(us,{path:"/upload-problems",element:l.jsx(rbt,{user:t})}),l.jsx(us,{path:"/leaderboard",element:l.jsx(sbt,{user:t})}),l.jsx(us,{path:"/all-submissions",element:l.jsx(ibt,{user:t})}),l.jsx(us,{path:"/analytics",element:l.jsx(obt,{user:t})}),l.jsx(us,{path:"/live-monitoring",element:l.jsx(Jxt,{user:t})})]})})}function nbt({user:t}){const[e,n]=C.useState(null),[r,s]=C.useState(!0);C.useEffect(()=>{rt.get(`${Wl}/analytics/mentor/${t.id}`).then(a=>{n(a.data),s(!1)}).catch(a=>s(!1))},[t.id]);const i=a=>{if(!a)return"Never";const o=new Date(a),u=new Date-o,d=Math.floor(u/6e4),f=Math.floor(d/60),h=Math.floor(f/24);return d<1?"Just now":d<60?`${d}m ago`:f<24?`${f}h ago`:h<7?`${h}d ago`:o.toLocaleDateString("en-US",{month:"short",day:"numeric"})};return r?l.jsx("div",{className:"loading-spinner"}):e?l.jsxs("div",{className:"dashboard-container animate-fadeIn",children:[l.jsxs("div",{className:"dashboard-stats-grid",style:{gridTemplateColumns:"repeat(5, 1fr)"},children:[l.jsx("div",{className:"dashboard-stat-card stat-card-blue",children:l.jsxs("div",{className:"stat-card-inner",children:[l.jsx("div",{className:"stat-icon-box",style:{background:"linear-gradient(135deg, #1e40af, #3b82f6)"},children:l.jsx(p2,{size:22,color:"#fff"})}),l.jsxs("div",{className:"stat-content",children:[l.jsx("div",{className:"stat-number",children:e.totalStudents}),l.jsx("div",{className:"stat-label-text",children:"Students"})]})]})}),l.jsx("div",{className:"dashboard-stat-card stat-card-emerald",children:l.jsxs("div",{className:"stat-card-inner",children:[l.jsx("div",{className:"stat-icon-box",style:{background:"linear-gradient(135deg, #059669, #10b981)"},children:l.jsx(Dr,{size:22,color:"#fff"})}),l.jsxs("div",{className:"stat-content",children:[l.jsx("div",{className:"stat-number",children:e.codeSubmissions||0}),l.jsx("div",{className:"stat-label-text",children:"Code Subs"})]})]})}),l.jsx("div",{className:"dashboard-stat-card stat-card-pink",children:l.jsxs("div",{className:"stat-card-inner",children:[l.jsx("div",{className:"stat-icon-box",style:{background:"linear-gradient(135deg, #be185d, #ec4899)"},children:l.jsx(Zr,{size:22,color:"#fff"})}),l.jsxs("div",{className:"stat-content",children:[l.jsx("div",{className:"stat-number",children:e.aptitudeSubmissions||0}),l.jsx("div",{className:"stat-label-text",children:"Aptitude"})]})]})}),l.jsx("div",{className:"dashboard-stat-card stat-card-green",children:l.jsxs("div",{className:"stat-card-inner",children:[l.jsx("div",{className:"stat-icon-box",style:{background:"linear-gradient(135deg, #047857, #10b981)"},children:l.jsx($n,{size:22,color:"#fff"})}),l.jsxs("div",{className:"stat-content",children:[l.jsxs("div",{className:"stat-number",children:[e.avgScore,"%"]}),l.jsx("div",{className:"stat-label-text",children:"Avg Score"})]})]})}),l.jsx("div",{className:"dashboard-stat-card stat-card-orange",children:l.jsxs("div",{className:"stat-card-inner",children:[l.jsx("div",{className:"stat-icon-box",style:{background:"linear-gradient(135deg, #c2410c, #f97316)"},children:l.jsx(sA,{size:22,color:"#fff"})}),l.jsxs("div",{className:"stat-content",children:[l.jsx("div",{className:"stat-number",children:e.totalProblems}),l.jsx("div",{className:"stat-label-text",children:"Content"})]})]})})]}),l.jsxs("div",{className:"mentor-charts-grid",children:[l.jsxs("div",{className:"dashboard-panel mentor-chart-large",children:[l.jsx("div",{className:"chart-header",children:l.jsxs("div",{children:[l.jsxs("h3",{className:"panel-title",style:{marginBottom:"0.25rem"},children:[l.jsx(Qf,{size:18,color:"#8b5cf6"})," Group Submission Trends"]}),l.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-muted)",margin:0},children:"Last 7 days mentee activity"})]})}),l.jsx("div",{style:{width:"100%",height:"280px",marginTop:"1rem"},children:l.jsx(tA,{children:l.jsxs(ife,{data:e.submissionTrends,children:[l.jsx("defs",{children:l.jsxs("linearGradient",{id:"colorCountMentor",x1:"0",y1:"0",x2:"0",y2:"1",children:[l.jsx("stop",{offset:"5%",stopColor:"#8b5cf6",stopOpacity:.4}),l.jsx("stop",{offset:"95%",stopColor:"#8b5cf6",stopOpacity:0})]})}),l.jsx(pb,{dataKey:"date",stroke:"var(--text-muted)",fontSize:12,axisLine:!1,tickLine:!1}),l.jsx(mb,{stroke:"var(--text-muted)",fontSize:12,axisLine:!1,tickLine:!1}),l.jsx(rA,{contentStyle:{background:"var(--bg-card)",border:"1px solid var(--border-color)",borderRadius:"10px",boxShadow:"0 10px 30px rgba(0,0,0,0.2)"},itemStyle:{color:"#8b5cf6"},labelStyle:{color:"var(--text)"}}),l.jsx(tz,{type:"monotone",dataKey:"count",stroke:"#8b5cf6",strokeWidth:3,fillOpacity:1,fill:"url(#colorCountMentor)"})]})})})]}),l.jsxs("div",{className:"dashboard-panel mentor-chart-small",children:[l.jsx("div",{className:"chart-header",children:l.jsxs("div",{children:[l.jsxs("h3",{className:"panel-title",style:{marginBottom:"0.25rem"},children:[l.jsx(Dr,{size:18,color:"#3b82f6"})," Language Usage"]}),l.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-muted)",margin:0},children:"Mentee preference"})]})}),l.jsxs("div",{style:{width:"100%",height:"280px",marginTop:"1rem"},children:[l.jsx(tA,{children:l.jsxs(oz,{children:[l.jsx(K3,{data:e.languageStats,cx:"50%",cy:"50%",innerRadius:65,outerRadius:90,paddingAngle:4,dataKey:"value",stroke:"none",children:e.languageStats.map((a,o)=>l.jsx(pA,{fill:$6[o%$6.length]},`cell-${o}`))}),l.jsx(rA,{contentStyle:{background:"var(--bg-card)",border:"1px solid var(--border-color)",borderRadius:"10px"},itemStyle:{color:"var(--text)"}})]})}),l.jsx("div",{className:"language-legend",children:e.languageStats.slice(0,4).map((a,o)=>l.jsxs("div",{className:"legend-item",children:[l.jsx("span",{className:"legend-dot",style:{background:$6[o]}}),l.jsx("span",{className:"legend-text",children:a.name})]},a.name))})]})]})]}),l.jsx("div",{className:"mentor-bottom-grid",style:{gridTemplateColumns:"1fr"},children:l.jsxs("div",{className:"dashboard-panel",children:[l.jsx("div",{className:"panel-header",children:l.jsxs("h3",{className:"panel-title",style:{margin:0},children:[l.jsx(Ga,{size:18,color:"#8b5cf6"})," Recent Activity"]})}),l.jsx("div",{className:"submissions-list",children:e.recentActivity&&e.recentActivity.length>0?e.recentActivity.map((a,o)=>l.jsxs("div",{className:"submission-item",children:[l.jsx("div",{className:`activity-status-dot ${a.status}`}),l.jsxs("div",{className:"submission-info",children:[l.jsx("div",{className:"submission-title",children:a.studentName}),l.jsxs("div",{className:"submission-meta",children:[l.jsx(vs,{size:12})," ",i(a.time)]})]}),l.jsxs("span",{className:`submission-status ${a.status}`,children:[a.score,"%"]})]},a.id)):l.jsxs("div",{className:"empty-state-small",children:[l.jsx(Ga,{size:32,color:"var(--text-muted)"}),"No recent activity"]})})]})})]}):l.jsx("div",{children:"Error loading stats"})}function rbt({user:t}){const[e,n]=C.useState([]),[r,s]=C.useState([]),[i,a]=C.useState(!0),[o,c]=C.useState(!1),[u,d]=C.useState(!1),[f,h]=C.useState("coding"),[m,g]=C.useState(!1),y=C.useRef(null),[x,v]=C.useState(null),[w,B]=C.useState({title:"",type:"Coding",language:"Python",difficulty:"Medium",description:"",testInput:"",expectedOutput:"",deadline:"",status:"live",sqlSchema:"",expectedQueryResult:"",enableProctoring:!1,enableVideoAudio:!1,disableCopyPaste:!1,trackTabSwitches:!1,maxTabSwitches:3,enableFaceDetection:!1,detectMultipleFaces:!1,trackFaceLookaway:!1}),k=w.type==="SQL"||w.language==="SQL",E=z=>{const ee=z.type==="SQL"||z.language==="SQL";B({title:z.title||"",type:z.type||"Coding",language:z.language||"Python",difficulty:z.difficulty||"Medium",description:z.description||"",testInput:ee?"":z.sampleInput||"",expectedOutput:ee?"":z.expectedOutput||"",sqlSchema:ee&&(z.sqlSchema||z.schema)||"",expectedQueryResult:ee&&(z.expectedQueryResult||z.expectedResult)||"",deadline:w.deadline,status:z.status||"live",enableProctoring:w.enableProctoring,enableVideoAudio:w.enableVideoAudio,disableCopyPaste:w.disableCopyPaste,trackTabSwitches:w.trackTabSwitches,maxTabSwitches:w.maxTabSwitches,enableFaceDetection:w.enableFaceDetection,detectMultipleFaces:w.detectMultipleFaces,trackFaceLookaway:w.trackFaceLookaway}),d(!1),c(!0)},N=async()=>{try{const[z,ee]=await Promise.all([rt.get(`${Wl}/problems?mentorId=${t.id}`),rt.get(`${Wl}/mentors/${t.id}/students`)]);n(Array.isArray(z.data)?z.data:z.data?.data||[]),s(ee.data),a(!1)}catch{a(!1)}};C.useEffect(()=>{N()},[t.id]);const O=async z=>{const ee=z.target.files[0];if(ee){g(!0);try{const Z=(await ee.text()).split(`
`).filter(H=>H.trim()).map(H=>H.trim());if(Z.length<2){alert("CSV must have header + at least one row");return}const G=H=>{const Q=[];let X="",re=!1;for(let le=0;le<H.length;le++){const he=H[le];he==='"'?re=!re:he===","&&!re?(Q.push(X.trim()),X=""):X+=he}return Q.push(X.trim()),Q},ne=G(Z[0]).map(H=>H.toLowerCase());let K=0;for(let H=1;H<Z.length;H++){if(!Z[H].trim())continue;const Q=G(Z[H]),X={};if(ne.forEach((me,ve)=>X[me]=Q[ve]||""),!X.title||!X.description)continue;const re=(X.type||"").toUpperCase()==="SQL"||(X.language||"").toUpperCase()==="SQL",le=()=>X.testinput||X.test_input||X.testinput||X.sample_input||X.sampleinput||X["sample input"]||X["test input"]||"",he=()=>X.expectedoutput||X.expected_output||X.expectedresult||X.expected_result||X["expected output"]||X["expected result"]||"",xe=()=>X.sqlschema||X.sql_schema||X.schema||X["sql schema"]||"",Be=()=>X.expectedqueryresult||X.expected_query_result||X.expectedresult||X.expected_result||X["expected query result"]||"";await rt.post(`${Wl}/problems`,{title:X.title,type:re?"SQL":X.type||"Coding",language:re?"SQL":X.language||"Python",difficulty:(X.difficulty||"Medium").charAt(0).toUpperCase()+(X.difficulty||"Medium").slice(1).toLowerCase(),description:X.description||"",testInput:le(),expectedOutput:he(),sqlSchema:re?xe():"",expectedQueryResult:re?Be():"",deadline:X.deadline||"",status:X.status||"live",mentorId:t.id}),K++}alert(`Created ${K} problems from CSV!`),N()}catch(q){alert("CSV upload failed: "+(q.response?.data?.error||q.message))}finally{g(!1),z.target.value=""}}},F=async z=>{z.preventDefault();try{await rt.post(`${Wl}/problems`,{...w,mentorId:t.id}),c(!1),B({title:"",type:"Coding",language:"Python",difficulty:"Medium",description:"",testInput:"",expectedOutput:"",deadline:"",status:"live",enableProctoring:!1,enableVideoAudio:!1,disableCopyPaste:!1,trackTabSwitches:!1,maxTabSwitches:3,enableFaceDetection:!1,detectMultipleFaces:!1,trackFaceLookaway:!1}),N()}catch{alert("Error creating problem")}},D=async z=>{if(window.confirm("Are you sure you want to delete this problem?"))try{await rt.delete(`${Wl}/problems/${z}`),N()}catch{alert("Error deleting problem")}},T=z=>{const ee=z.completedBy?.length||0;return ee===0||ee>=r.length&&r.length>0};if(i)return l.jsx("div",{className:"loading-spinner"});const j=e.filter(z=>z.language!=="SQL"&&z.type!=="SQL"),P=e.filter(z=>z.language==="SQL"||z.type==="SQL"),U=f==="coding"?j:P;return l.jsxs("div",{className:"animate-fadeIn",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[l.jsxs("div",{children:[l.jsx("h2",{style:{fontSize:"1.75rem",fontWeight:800,margin:0},children:"Coding Problems"}),l.jsx("p",{style:{color:"var(--text-muted)",margin:"0.25rem 0 0 0"},children:"Manage your problem library (C, C++, Python, Java, SQL)"})]}),l.jsxs("div",{style:{display:"flex",gap:"0.75rem",flexWrap:"wrap"},children:[l.jsx("input",{type:"file",accept:".csv",ref:y,style:{display:"none"},onChange:O}),l.jsxs("button",{onClick:()=>y.current?.click(),disabled:m,style:{padding:"0.75rem 1.25rem",background:"linear-gradient(135deg, #10b981, #059669)",border:"none",borderRadius:"8px",color:"white",fontSize:"0.9rem",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(NE,{size:18})," ",m?"Uploading...":"CSV Upload"]}),l.jsxs("button",{onClick:()=>d(!0),style:{padding:"0.75rem 1.25rem",background:"linear-gradient(135deg, #8b5cf6, #6366f1)",border:"none",borderRadius:"8px",color:"white",fontSize:"0.9rem",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(Po,{size:18})," AI Generate"]}),l.jsxs("button",{onClick:()=>c(!0),className:"btn-create-new",style:{padding:"0.75rem 1.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(il,{size:20})," Create Manually"]})]})]}),l.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"1.5rem",padding:"0.5rem",background:"var(--bg-card)",borderRadius:"12px",width:"fit-content"},children:[l.jsxs("button",{onClick:()=>h("coding"),style:{padding:"0.75rem 1.5rem",borderRadius:"8px",border:"none",cursor:"pointer",fontWeight:600,fontSize:"0.9rem",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.2s ease",background:f==="coding"?"var(--primary)":"transparent",color:f==="coding"?"white":"var(--text-muted)"},children:[l.jsx(Dr,{size:18}),"Coding Problems",l.jsx("span",{style:{background:f==="coding"?"rgba(255,255,255,0.2)":"var(--bg-dark)",padding:"2px 8px",borderRadius:"12px",fontSize:"0.75rem"},children:j.length})]}),l.jsxs("button",{onClick:()=>h("sql"),style:{padding:"0.75rem 1.5rem",borderRadius:"8px",border:"none",cursor:"pointer",fontWeight:600,fontSize:"0.9rem",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.2s ease",background:f==="sql"?"linear-gradient(135deg, #06b6d4, #0891b2)":"transparent",color:f==="sql"?"white":"var(--text-muted)"},children:[l.jsx(Oa,{size:18}),"SQL Problems",l.jsx("span",{style:{background:f==="sql"?"rgba(255,255,255,0.2)":"var(--bg-dark)",padding:"2px 8px",borderRadius:"12px",fontSize:"0.75rem"},children:P.length})]})]}),l.jsxs("div",{className:"card glass",children:[l.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"24px"},children:[l.jsx(ol,{size:20,style:{color:"#f59e0b"}})," Problem Leaderboard"]}),l.jsx("div",{className:"table-container",style:{border:"none"},children:l.jsxs("table",{children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Problem Title"}),l.jsx("th",{children:"Type"}),l.jsx("th",{children:"Language"}),l.jsx("th",{children:"Difficulty"}),l.jsx("th",{children:"Created"}),l.jsx("th",{children:"Completion"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:U.length===0?l.jsx("tr",{children:l.jsxs("td",{colSpan:"7",style:{textAlign:"center",padding:"2rem",color:"var(--text-muted)"},children:["No ",f==="sql"?"SQL":"coding"," problems found. Create one to get started!"]})}):U.map(z=>l.jsxs("tr",{children:[l.jsx("td",{style:{fontWeight:600},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[z.title,z.proctoring?.enabled&&l.jsxs("span",{style:{fontSize:"0.6rem",padding:"2px 6px",borderRadius:"4px",background:"rgba(239, 68, 68, 0.15)",color:"#ef4444",fontWeight:700,display:"flex",alignItems:"center",gap:"3px"},children:[l.jsx(_s,{size:10})," Proctored"]})]})}),l.jsx("td",{children:l.jsx("span",{style:{fontSize:"0.75rem",padding:"2px 8px",borderRadius:"4px",background:"rgba(59, 130, 246, 0.1)",color:"#3b82f6"},children:z.type?.toUpperCase()})}),l.jsx("td",{children:l.jsx("span",{style:{fontWeight:500},children:z.language})}),l.jsx("td",{children:l.jsx("span",{className:`difficulty-badge ${z.difficulty?.toLowerCase()}`,children:z.difficulty})}),l.jsx("td",{style:{fontSize:"0.85rem",color:"var(--text-muted)"},children:new Date(z.createdAt).toLocaleDateString()}),l.jsx("td",{children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx("div",{style:{width:"80px",height:"6px",background:"var(--border-color)",borderRadius:"3px",overflow:"hidden"},children:l.jsx("div",{style:{width:`${r.length>0?(z.completedBy?.length||0)/r.length*100:0}%`,height:"100%",background:"linear-gradient(90deg, #3b82f6, #8b5cf6)"}})}),l.jsxs("span",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:[z.completedBy?.length||0,"/",r.length]})]})}),l.jsx("td",{children:l.jsx("span",{className:`status-badge ${z.status}`,children:z.status})}),l.jsx("td",{children:l.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[l.jsxs("button",{onClick:()=>v(z),disabled:z.language==="SQL"||z.type==="SQL",style:{background:z.language==="SQL"||z.type==="SQL"?"rgba(100, 116, 139, 0.1)":"rgba(16, 185, 129, 0.1)",border:"none",color:z.language==="SQL"||z.type==="SQL"?"#64748b":"#10b981",padding:"0.4rem 0.75rem",borderRadius:"6px",cursor:z.language==="SQL"||z.type==="SQL"?"not-allowed":"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"4px",opacity:z.language==="SQL"||z.type==="SQL"?.5:1},title:z.language==="SQL"||z.type==="SQL"?"Test cases not available for SQL problems":"Manage Test Cases",children:[l.jsx(Hd,{size:14})," Tests"]}),l.jsx("button",{onClick:()=>D(z.id),disabled:!T(z),style:{background:T(z)?"rgba(239, 68, 68, 0.1)":"rgba(148, 163, 184, 0.1)",border:"none",color:T(z)?"#ef4444":"#64748b",padding:"0.4rem 0.75rem",borderRadius:"6px",cursor:T(z)?"pointer":"not-allowed",fontSize:"0.8rem"},title:T(z)?"Delete problem":"Cannot delete while students are in progress",children:l.jsx(Nl,{size:14})})]})})]},z.id))})]})})]}),o&&l.jsx("div",{className:"modal-overlay",onClick:()=>c(!1),children:l.jsxs("div",{className:"modal-content",onClick:z=>z.stopPropagation(),children:[l.jsxs("div",{className:"modal-header",children:[l.jsxs("div",{className:"modal-title-with-icon",children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",background:"linear-gradient(135deg, #3b82f6, #8b5cf6)",display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx(yh,{size:20,color:"white"})}),l.jsx("h2",{children:"Create New Problem"})]}),l.jsx("button",{onClick:()=>c(!1),className:"modal-close",children:l.jsx(xi,{size:20})})]}),l.jsx("div",{className:"modal-body premium-form",children:l.jsxs("form",{onSubmit:F,children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1.5fr 1fr",gap:"1.5rem",marginBottom:"1.5rem"},children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Problem Title"}),l.jsx("input",{type:"text",placeholder:"Enter problem title",value:w.title,onChange:z=>B({...w,title:z.target.value}),required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Problem Type"}),l.jsxs("select",{value:w.type,onChange:z=>{const ee=z.target.value;B({...w,type:ee,language:ee==="SQL"?"SQL":w.language==="SQL"?"Python":w.language})},children:[l.jsx("option",{value:"Coding",children:"Coding"}),l.jsx("option",{value:"SQL",children:"SQL"}),l.jsx("option",{value:"Algorithm",children:"Algorithm"})]})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"1.5rem",marginBottom:"1.5rem"},children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Language"}),l.jsxs("select",{value:w.language,onChange:z=>{const ee=z.target.value;B({...w,language:ee,type:ee==="SQL"?"SQL":w.type==="SQL"?"Coding":w.type})},children:[l.jsx("option",{value:"Python",children:"Python"}),l.jsx("option",{value:"JavaScript",children:"JavaScript"}),l.jsx("option",{value:"Java",children:"Java"}),l.jsx("option",{value:"C",children:"C"}),l.jsx("option",{value:"C++",children:"C++"}),l.jsx("option",{value:"SQL",children:"SQL"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Difficulty"}),l.jsxs("select",{value:w.difficulty,onChange:z=>B({...w,difficulty:z.target.value}),children:[l.jsx("option",{value:"Easy",children:"Easy"}),l.jsx("option",{value:"Medium",children:"Medium"}),l.jsx("option",{value:"Hard",children:"Hard"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Status"}),l.jsxs("select",{value:w.status,onChange:z=>B({...w,status:z.target.value}),children:[l.jsx("option",{value:"live",children:"Live"}),l.jsx("option",{value:"draft",children:"Draft"}),l.jsx("option",{value:"closed",children:"Closed"})]})]})]}),l.jsxs("div",{className:"form-group",style:{marginBottom:"1.5rem"},children:[l.jsx("label",{className:"form-label",children:"Problem Description"}),l.jsx("textarea",{rows:"5",placeholder:"Describe the problem...",value:w.description,onChange:z=>B({...w,description:z.target.value}),required:!0})]}),k?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"form-group",style:{marginBottom:"1.5rem"},children:[l.jsxs("label",{className:"form-label",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(Dr,{size:14,color:"#06b6d4"})," Database Schema (CREATE TABLE statements)"]}),l.jsx("textarea",{rows:"6",placeholder:`CREATE TABLE employees (
  id INT PRIMARY KEY,
  name VARCHAR(100),
  department VARCHAR(50),
  salary DECIMAL(10,2)
);

INSERT INTO employees VALUES (1, 'John', 'IT', 50000);`,value:w.sqlSchema,onChange:z=>B({...w,sqlSchema:z.target.value}),style:{fontFamily:"monospace",fontSize:"0.85rem"}}),l.jsx("small",{style:{color:"var(--text-muted)",fontSize:"0.75rem"},children:"Include CREATE TABLE and INSERT statements to set up the test database"})]}),l.jsxs("div",{className:"form-group",style:{marginBottom:"1.5rem"},children:[l.jsxs("label",{className:"form-label",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx($n,{size:14,color:"#10b981"})," Expected Query Result"]}),l.jsx("textarea",{rows:"4",placeholder:`id | name | salary
1  | John | 50000
2  | Jane | 60000`,value:w.expectedQueryResult,onChange:z=>B({...w,expectedQueryResult:z.target.value}),style:{fontFamily:"monospace",fontSize:"0.85rem"}}),l.jsx("small",{style:{color:"var(--text-muted)",fontSize:"0.75rem"},children:"The expected output when the correct SQL query is executed"})]})]}):l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem",marginBottom:"1.5rem"},children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Sample Input"}),l.jsx("input",{type:"text",placeholder:"e.g., [1, 2, 3]",value:w.testInput,onChange:z=>B({...w,testInput:z.target.value})})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Expected Output"}),l.jsx("input",{type:"text",placeholder:"e.g., 6",value:w.expectedOutput,onChange:z=>B({...w,expectedOutput:z.target.value})})]})]}),l.jsxs("div",{className:"form-group",style:{marginBottom:"1.5rem"},children:[l.jsx("label",{className:"form-label",children:"Deadline (Optional)"}),l.jsx("input",{type:"date",value:w.deadline,onChange:z=>B({...w,deadline:z.target.value})})]}),l.jsxs("div",{style:{padding:"1.25rem",background:"rgba(139, 92, 246, 0.05)",borderRadius:"12px",border:"1px solid rgba(139, 92, 246, 0.2)",marginBottom:"1.5rem"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1rem"},children:[l.jsx(_s,{size:18,color:"#8b5cf6"}),l.jsx("span",{style:{fontWeight:600,color:"#8b5cf6"},children:"Proctoring Settings"})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.75rem"},children:[l.jsx("input",{type:"checkbox",id:"enableProctoring",checked:w.enableProctoring,onChange:z=>B({...w,enableProctoring:z.target.checked}),style:{width:"18px",height:"18px",accentColor:"#8b5cf6"}}),l.jsx("label",{htmlFor:"enableProctoring",style:{cursor:"pointer",fontSize:"0.9rem"},children:"Enable Proctoring Mode"})]}),w.enableProctoring&&l.jsxs("div",{style:{marginLeft:"1.5rem",display:"flex",flexDirection:"column",gap:"0.75rem"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[l.jsx("input",{type:"checkbox",id:"enableVideoAudio",checked:w.enableVideoAudio,onChange:z=>B({...w,enableVideoAudio:z.target.checked}),style:{width:"16px",height:"16px",accentColor:"#8b5cf6"}}),l.jsx("label",{htmlFor:"enableVideoAudio",style:{cursor:"pointer",fontSize:"0.85rem",color:"var(--text-muted)"},children:" Enable Video & Audio Monitoring"})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[l.jsx("input",{type:"checkbox",id:"disableCopyPaste",checked:w.disableCopyPaste,onChange:z=>B({...w,disableCopyPaste:z.target.checked}),style:{width:"16px",height:"16px",accentColor:"#8b5cf6"}}),l.jsx("label",{htmlFor:"disableCopyPaste",style:{cursor:"pointer",fontSize:"0.85rem",color:"var(--text-muted)"},children:" Disable Copy/Paste"})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[l.jsx("input",{type:"checkbox",id:"trackTabSwitches",checked:w.trackTabSwitches,onChange:z=>B({...w,trackTabSwitches:z.target.checked}),style:{width:"16px",height:"16px",accentColor:"#8b5cf6"}}),l.jsx("label",{htmlFor:"trackTabSwitches",style:{cursor:"pointer",fontSize:"0.85rem",color:"var(--text-muted)"},children:" Track Tab Switches"})]}),w.trackTabSwitches&&l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginLeft:"1.5rem"},children:[l.jsx("label",{style:{fontSize:"0.85rem",color:"var(--text-muted)"},children:"Max Tab Switches:"}),l.jsx("input",{type:"number",min:"1",max:"10",value:w.maxTabSwitches,onChange:z=>B({...w,maxTabSwitches:parseInt(z.target.value)||3}),style:{width:"60px",padding:"0.25rem 0.5rem",borderRadius:"6px",border:"1px solid var(--border-color)",background:"var(--bg-card)",color:"white",textAlign:"center"}})]}),l.jsxs("div",{style:{marginTop:"0.75rem",paddingTop:"0.75rem",borderTop:"1px solid rgba(139, 92, 246, 0.2)"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.75rem"},children:[l.jsx("input",{type:"checkbox",id:"enableFaceDetection",checked:w.enableFaceDetection,onChange:z=>B({...w,enableFaceDetection:z.target.checked}),style:{width:"16px",height:"16px",accentColor:"#ec4899"}}),l.jsx("label",{htmlFor:"enableFaceDetection",style:{cursor:"pointer",fontSize:"0.85rem",color:"var(--text-muted)"},children:" Enable Face Detection"})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.75rem"},children:[l.jsx("input",{type:"checkbox",id:"detectMultipleFaces",checked:w.detectMultipleFaces,onChange:z=>B({...w,detectMultipleFaces:z.target.checked}),style:{width:"16px",height:"16px",accentColor:"#ef4444"}}),l.jsx("label",{htmlFor:"detectMultipleFaces",style:{cursor:"pointer",fontSize:"0.85rem",color:"var(--text-muted)"},children:" Detect Multiple Faces (Cheating)"})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[l.jsx("input",{type:"checkbox",id:"trackFaceLookaway",checked:w.trackFaceLookaway,onChange:z=>B({...w,trackFaceLookaway:z.target.checked}),style:{width:"16px",height:"16px",accentColor:"#3b82f6"}}),l.jsx("label",{htmlFor:"trackFaceLookaway",style:{cursor:"pointer",fontSize:"0.85rem",color:"var(--text-muted)"},children:" Track Face Lookaway"})]})]})]})]}),l.jsxs("div",{className:"form-actions",children:[l.jsx("button",{type:"button",className:"btn-reset",onClick:()=>c(!1),children:"Cancel"}),l.jsxs("button",{type:"submit",className:"btn-create-new",children:[l.jsx(il,{size:16})," Create Problem"]})]})]})})]})}),l.jsx(nhe,{context:"problem",isOpen:u,onClose:()=>d(!1),onGenerate:E}),x&&l.jsx(she,{problemId:x.id,problemTitle:x.title,onClose:()=>v(null)})]})}function sbt({user:t}){const[e,n]=C.useState([]),[r,s]=C.useState(!0),[i,a]=C.useState(null);if(C.useEffect(()=>{rt.get(`${Wl}/leaderboard?mentorId=${t.id}`).then(d=>{n(d.data),s(!1)}).catch(d=>s(!1))},[t.id]),r)return l.jsx("div",{className:"loading-spinner"});const o=d=>d===1?{color:"#fbbf24",transform:"scale(1.2)"}:d===2?{color:"#94a3b8",transform:"scale(1.1)"}:d===3?{color:"#b45309",transform:"scale(1.1)"}:{color:"var(--text-muted)"},c=d=>d===1?l.jsx(ol,{size:24,fill:"#fbbf24",color:"#d97706"}):d===2?l.jsx(nQ,{size:24,fill:"#e2e8f0",color:"#64748b"}):d===3?l.jsx(nQ,{size:24,fill:"#fbbf24",color:"#b45309"}):l.jsxs("span",{style:{fontWeight:600,fontSize:"1.1rem",width:"24px",textAlign:"center",display:"inline-block"},children:["#",d]}),u=d=>d.violations?(d.violations.tabSwitches||0)+(d.violations.copyPaste||0)+(d.violations.cameraBlocked||0)+(d.violations.phoneDetection||0)+(d.violations.integrityViolations||0)+(d.violations.plagiarism||0):0;return l.jsxs("div",{className:"card animate-slideUp glass",style:{padding:"0 0 1rem 0",overflow:"hidden"},children:[l.jsxs("div",{style:{padding:"2rem 2rem 1rem",display:"flex",alignItems:"center",gap:"1rem"},children:[l.jsx(ol,{size:28,className:"text-primary"}),l.jsxs("div",{children:[l.jsx("h3",{style:{margin:0,fontSize:"1.5rem"},children:"Student Leaderboard"}),l.jsx("p",{style:{margin:"4px 0 0",color:"var(--text-muted)",fontSize:"0.9rem"},children:"Rankings based on scores"})]})]}),l.jsx("div",{className:"table-container",style:{border:"none",borderRadius:0},children:l.jsxs("table",{style:{borderCollapse:"separate",borderSpacing:"0 8px",padding:"0 1rem"},children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{style:{paddingLeft:"2rem"},children:"Rank"}),l.jsx("th",{children:"Student"}),l.jsx("th",{children:"Total Score"}),l.jsx("th",{children:"Submissions"}),l.jsx("th",{children:"Violations"}),l.jsx("th",{style:{textAlign:"center"},children:"Status"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:e.map((d,f)=>{const m=u(d)>0||d.violations?.plagiarism>0;return l.jsxs("tr",{className:"leaderboard-row",style:{backgroundColor:f<3?"var(--bg-dark)":"transparent",transition:"transform 0.2s"},children:[l.jsx("td",{style:{paddingLeft:"2rem"},children:l.jsx("div",{style:{display:"flex",alignItems:"center",gap:"1rem",...o(f+1)},children:c(f+1)})}),l.jsx("td",{children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[l.jsx("div",{className:"avatar-circle",children:d.name.charAt(0).toUpperCase()}),l.jsx("div",{children:l.jsx("div",{style:{fontWeight:600,fontSize:"1rem"},children:d.name})})]})}),l.jsx("td",{children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:700,fontSize:"1.1rem",color:"var(--primary)"},children:[d.avgScore," ",l.jsx("span",{style:{fontSize:"0.8rem",color:"var(--text-muted)",fontWeight:400},children:"pts"})]})}),l.jsx("td",{children:l.jsxs("div",{className:"status-badge live",style:{width:"fit-content"},children:[d.acceptedSubmissions||d.totalSubmissions," Submitted"]})}),l.jsx("td",{children:l.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[d.violations?.tabSwitches>0&&l.jsxs("span",{style:{fontSize:"0.65rem",padding:"2px 6px",borderRadius:"4px",background:"rgba(245, 158, 11, 0.15)",color:"#f59e0b",display:"flex",alignItems:"center",gap:"3px"},title:"Tab Switches",children:[l.jsx(_s,{size:10})," ",d.violations.tabSwitches]}),d.violations?.cameraBlocked>0&&l.jsxs("span",{style:{fontSize:"0.65rem",padding:"2px 6px",borderRadius:"4px",background:"rgba(239, 68, 68, 0.15)",color:"#ef4444",display:"flex",alignItems:"center",gap:"3px"},title:"Camera Blocked",children:[" ",d.violations.cameraBlocked]}),d.violations?.phoneDetection>0&&l.jsxs("span",{style:{fontSize:"0.65rem",padding:"2px 6px",borderRadius:"4px",background:"rgba(239, 68, 68, 0.15)",color:"#ef4444",display:"flex",alignItems:"center",gap:"3px"},title:"Phone Detected",children:[" ",d.violations.phoneDetection]}),d.violations?.copyPaste>0&&l.jsxs("span",{style:{fontSize:"0.65rem",padding:"2px 6px",borderRadius:"4px",background:"rgba(245, 158, 11, 0.15)",color:"#f59e0b",display:"flex",alignItems:"center",gap:"3px"},title:"Copy/Paste",children:[" ",d.violations.copyPaste]}),d.violations?.plagiarism>0&&l.jsxs("span",{style:{fontSize:"0.65rem",padding:"2px 6px",borderRadius:"4px",background:"rgba(239, 68, 68, 0.15)",color:"#ef4444",display:"flex",alignItems:"center",gap:"3px"},title:"Plagiarism",children:[l.jsx(Qn,{size:10})," ",d.violations.plagiarism]}),!m&&l.jsx("span",{style:{color:"#10b981"},children:l.jsx($n,{size:14})})]})}),l.jsx("td",{style:{textAlign:"center"},children:l.jsx("div",{style:{width:"100px",height:"6px",backgroundColor:"var(--border-color)",borderRadius:"10px",margin:"0 auto",overflow:"hidden"},children:l.jsx("div",{style:{width:`${Math.min(d.avgScore,100)}%`,height:"100%",backgroundColor:m?"#f59e0b":f===0?"#fbbf24":"var(--primary)"}})})}),l.jsx("td",{children:l.jsxs("button",{onClick:()=>a({id:d.studentId,name:d.name}),style:{display:"flex",alignItems:"center",gap:"0.4rem",padding:"0.5rem 0.85rem",background:"linear-gradient(135deg, #8b5cf6, #7c3aed)",border:"none",borderRadius:"8px",color:"white",fontSize:"0.75rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 8px rgba(139, 92, 246, 0.3)"},title:"Generate comprehensive report",children:[l.jsx(Oa,{size:14}),"Report"]})})]},d.studentId)})})]})}),i&&l.jsx(rhe,{studentId:i.id,studentName:i.name,onClose:()=>a(null),requestedBy:t?.name||"Mentor",requestedByRole:"mentor"})]})}function ibt({user:t}){const[e,n]=C.useState([]),[r,s]=C.useState([]),[i,a]=C.useState([]),[o,c]=C.useState(!0),[u,d]=C.useState(null),[f,h]=C.useState("all"),[m,g]=C.useState(null),[y,x]=C.useState(null),[v,w]=C.useState(""),B=()=>{Promise.all([rt.get(`${Wl}/submissions?mentorId=${t.id}`),rt.get(`${Wl}/aptitude-submissions?mentorId=${t.id}`),rt.get(`${Wl}/global-test-submissions?mentorId=${t.id}`)]).then(([O,F,D])=>{const T=Array.isArray(O.data)?O.data:O.data?.data||[];n(T.map(j=>({...j,subType:"code"}))),s((F.data||[]).map(j=>({...j,subType:"aptitude",itemTitle:j.testTitle}))),a((D.data||[]).map(j=>({...j,subType:"global",itemTitle:j.testTitle,score:j.overallPercentage}))),c(!1)}).catch(O=>c(!1))};C.useEffect(()=>{B()},[t.id]);const k=[...e,...r,...i].sort((O,F)=>new Date(F.submittedAt)-new Date(O.submittedAt)),N=(f==="all"?k:f==="code"?e:f==="aptitude"?r:i).filter(F=>(F.studentName||"").toLowerCase().includes(v.toLowerCase())||(F.itemTitle||F.testTitle||"").toLowerCase().includes(v.toLowerCase())||F.status.toLowerCase().includes(v.toLowerCase()));return o?l.jsx("div",{className:"loading-spinner"}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",marginBottom:"1.5rem"},children:[l.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[l.jsxs("button",{onClick:()=>h("all"),style:{padding:"0.6rem 1.2rem",background:f==="all"?"var(--primary)":"rgba(59, 130, 246, 0.1)",border:f==="all"?"none":"1px solid var(--border-color)",borderRadius:"8px",color:f==="all"?"white":"var(--text-muted)",cursor:"pointer",fontWeight:500},children:["All (",k.length,")"]}),l.jsxs("button",{onClick:()=>h("code"),style:{padding:"0.6rem 1.2rem",background:f==="code"?"var(--primary)":"rgba(59, 130, 246, 0.1)",border:f==="code"?"none":"1px solid var(--border-color)",borderRadius:"8px",color:f==="code"?"white":"var(--text-muted)",cursor:"pointer",fontWeight:500},children:[" Code (",e.length,")"]}),l.jsxs("button",{onClick:()=>h("aptitude"),style:{padding:"0.6rem 1.2rem",background:f==="aptitude"?"#8b5cf6":"rgba(139, 92, 246, 0.1)",border:f==="aptitude"?"none":"1px solid var(--border-color)",borderRadius:"8px",color:f==="aptitude"?"white":"var(--text-muted)",cursor:"pointer",fontWeight:500},children:[" Aptitude (",r.length,")"]}),l.jsxs("button",{onClick:()=>h("global"),style:{padding:"0.6rem 1.2rem",background:f==="global"?"#3b82f6":"rgba(59, 130, 246, 0.1)",border:f==="global"?"none":"1px solid var(--border-color)",borderRadius:"8px",color:f==="global"?"white":"var(--text-muted)",cursor:"pointer",fontWeight:500},children:[" Global (",i.length,")"]})]}),l.jsxs("div",{style:{position:"relative"},children:[l.jsx(P1,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)"}}),l.jsx("input",{type:"text",placeholder:"Search student, problem or status...",style:{padding:"0.6rem 1rem 0.6rem 2.5rem",background:"var(--bg-card)",border:"1px solid var(--border-color)",borderRadius:"8px",color:"white",width:"280px"},value:v,onChange:O=>w(O.target.value)})]})]}),l.jsx("div",{className:"table-container card glass",children:l.jsxs("table",{children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Student"}),l.jsx("th",{children:"Type"}),l.jsx("th",{children:"Problem / Test"}),l.jsx("th",{children:"Language"}),l.jsx("th",{children:"Score"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Submitted At"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:N.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"8",style:{textAlign:"center",padding:"3rem"},children:"No submissions found"})}):N.map(O=>l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("div",{style:{fontWeight:600},children:O.studentName})}),l.jsx("td",{children:l.jsx("span",{style:{fontSize:"0.75rem",padding:"2px 8px",borderRadius:"4px",background:O.subType==="aptitude"?"rgba(139, 92, 246, 0.1)":"rgba(59, 130, 246, 0.1)",color:O.subType==="aptitude"?"#8b5cf6":"#3b82f6"},children:O.subType==="aptitude"?" Aptitude":O.subType==="global"?" Global":" Code"})}),l.jsx("td",{children:l.jsx("div",{style:{color:"var(--primary)",fontWeight:500},children:O.itemTitle||O.testTitle})}),l.jsx("td",{children:l.jsx("span",{style:{fontSize:"0.75rem",padding:"2px 8px",borderRadius:"4px",background:"rgba(59, 130, 246, 0.1)",color:"var(--primary)"},children:O.subType==="aptitude"?"N/A":O.subType==="global"?"Mixed":O.language?.toUpperCase()||"N/A"})}),l.jsxs("td",{style:{fontWeight:700,fontSize:"1.1rem"},children:[O.score,"%"]}),l.jsx("td",{children:l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.25rem",alignItems:"center"},children:[l.jsx("span",{className:`status-badge ${O.status}`,children:O.status}),O.plagiarism?.detected&&l.jsxs("span",{className:"status-badge plagiarized",style:{display:"flex",alignItems:"center",gap:"3px"},children:[l.jsx(Qn,{size:11})," Plag"]}),(O.integrity?.integrityViolation||O.tabSwitches>0)&&l.jsxs("span",{style:{fontSize:"0.65rem",padding:"2px 6px",borderRadius:"4px",background:"rgba(245, 158, 11, 0.15)",color:"#f59e0b",border:"1px solid rgba(245, 158, 11, 0.3)",display:"flex",alignItems:"center",gap:"3px"},children:[l.jsx(Qn,{size:10})," ",O.integrity?.tabSwitches||O.tabSwitches||0," Tab"]}),O.cameraBlockedCount>0&&l.jsxs("span",{style:{fontSize:"0.65rem",padding:"2px 6px",borderRadius:"4px",background:"rgba(239, 68, 68, 0.15)",color:"#ef4444",border:"1px solid rgba(239, 68, 68, 0.3)",display:"flex",alignItems:"center",gap:"3px"},children:[" ",O.cameraBlockedCount," Cam"]}),O.phoneDetectionCount>0&&l.jsxs("span",{style:{fontSize:"0.65rem",padding:"2px 6px",borderRadius:"4px",background:"rgba(239, 68, 68, 0.15)",color:"#ef4444",border:"1px solid rgba(239, 68, 68, 0.3)",display:"flex",alignItems:"center",gap:"3px"},children:[" ",O.phoneDetectionCount," Phone"]})]})}),l.jsx("td",{style:{fontSize:"0.85rem",color:"var(--text-muted)"},children:new Date(O.submittedAt).toLocaleString()}),l.jsx("td",{children:O.subType==="aptitude"?l.jsxs("button",{onClick:()=>g(O),style:{background:"rgba(139, 92, 246, 0.1)",border:"none",color:"#8b5cf6",padding:"0.4rem 0.75rem",borderRadius:"6px",cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"4px"},children:[l.jsx(_s,{size:14})," Results"]}):O.subType==="global"?l.jsxs("button",{onClick:()=>x(O.id),style:{background:"rgba(59, 130, 246, 0.1)",border:"none",color:"#3b82f6",padding:"0.4rem 0.75rem",borderRadius:"6px",cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"4px"},children:[l.jsx(_s,{size:14})," Full Report"]}):l.jsxs("button",{onClick:()=>d(O),style:{background:"rgba(59, 130, 246, 0.1)",border:"none",color:"#3b82f6",padding:"0.4rem 0.75rem",borderRadius:"6px",cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"4px"},children:[l.jsx(_s,{size:14})," Report"]})})]},O.id))})]})}),u&&l.jsx(abt,{submission:u,onClose:()=>d(null)}),m&&l.jsx(J$,{submission:m,onClose:()=>g(null)}),y&&l.jsx(vz,{submissionId:y,onClose:()=>x(null),isStudentView:!1})]})}function abt({submission:t,onClose:e}){return l.jsx("div",{className:"modal-overlay",onClick:e,children:l.jsxs("div",{className:"modal-content",onClick:n=>n.stopPropagation(),style:{maxWidth:"900px"},children:[l.jsxs("div",{className:"modal-header",children:[l.jsxs("div",{className:"modal-title-with-icon",children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",background:t.status==="accepted"?"linear-gradient(135deg, #10b981, #06b6d4)":"linear-gradient(135deg, #ef4444, #f59e0b)",display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx(Oa,{size:20,color:"white"})}),l.jsx("h2",{children:"Detailed Submission Report"})]}),l.jsx("button",{onClick:e,className:"modal-close",children:l.jsx(xi,{size:20})})]}),l.jsxs("div",{className:"modal-body",style:{maxHeight:"70vh",overflowY:"auto"},children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"1rem",marginBottom:"2rem",padding:"1.5rem",background:"rgba(59, 130, 246, 0.05)",borderRadius:"1rem",border:"1px solid rgba(59, 130, 246, 0.1)"},children:[l.jsxs("div",{children:[l.jsx("span",{style:{color:"var(--text-muted)",fontSize:"0.8rem"},children:"Student Name"}),l.jsx("p",{style:{margin:"0.25rem 0 0",fontWeight:600,fontSize:"1.1rem"},children:t.studentName})]}),l.jsxs("div",{children:[l.jsx("span",{style:{color:"var(--text-muted)",fontSize:"0.8rem"},children:"Submitted At"}),l.jsx("p",{style:{margin:"0.25rem 0 0",fontWeight:600},children:new Date(t.submittedAt).toLocaleString()})]}),l.jsxs("div",{children:[l.jsx("span",{style:{color:"var(--text-muted)",fontSize:"0.8rem"},children:"Language"}),l.jsx("p",{style:{margin:"0.25rem 0 0",fontWeight:600},children:t.language})]}),l.jsxs("div",{children:[l.jsx("span",{style:{color:"var(--text-muted)",fontSize:"0.8rem"},children:"Submission Type"}),l.jsx("p",{style:{margin:"0.25rem 0 0",fontWeight:600},children:t.submissionType==="file"?"File Upload":"Code Editor"})]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"3rem",marginBottom:"2rem",padding:"2rem",background:t.status==="accepted"?"rgba(16, 185, 129, 0.05)":"rgba(239, 68, 68, 0.05)",borderRadius:"1rem",border:`1px solid ${t.status==="accepted"?"rgba(16, 185, 129, 0.2)":"rgba(239, 68, 68, 0.2)"}`},children:[l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("div",{style:{fontSize:"3rem",fontWeight:800,color:t.status==="accepted"?"#10b981":"#ef4444"},children:t.score}),l.jsx("div",{style:{color:"var(--text-muted)"},children:"AI Evaluation Score"})]}),l.jsxs("div",{style:{padding:"1rem 2rem",borderRadius:"1rem",background:t.status==="accepted"?"rgba(16, 185, 129, 0.1)":"rgba(239, 68, 68, 0.1)",color:t.status==="accepted"?"#10b981":"#ef4444",fontWeight:700,fontSize:"1.25rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[t.status==="accepted"?l.jsx($n,{size:24}):l.jsx(xi,{size:24}),t.status?.toUpperCase()]})]}),t.plagiarism?.detected&&l.jsxs("div",{className:"plagiarism-banner",style:{marginBottom:"1.5rem"},children:[l.jsx(Qn,{size:24,color:"#ef4444"}),l.jsxs("div",{children:[l.jsx("strong",{style:{color:"#ef4444"},children:"Plagiarism Detected"}),l.jsxs("p",{style:{margin:"0.25rem 0 0",color:"var(--text-muted)"},children:["This code matches a submission from ",t.plagiarism.copiedFromName]})]})]}),(t.tabSwitches>0||t.copyPasteAttempts>0||t.cameraBlockedCount>0||t.phoneDetectionCount>0)&&l.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1.5rem",background:"rgba(239, 68, 68, 0.05)",borderRadius:"1rem",border:"1px solid rgba(239, 68, 68, 0.2)"},children:[l.jsxs("h4",{style:{margin:"0 0 1rem",display:"flex",alignItems:"center",gap:"0.5rem",color:"#f59e0b"},children:[l.jsx(Qn,{size:18})," Proctoring Violations"]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem"},children:[t.tabSwitches>0&&l.jsxs("div",{style:{padding:"0.75rem",background:"rgba(245, 158, 11, 0.1)",borderRadius:"0.5rem",display:"flex",alignItems:"center",gap:"0.75rem"},children:[l.jsx(_s,{size:18,color:"#f59e0b"}),l.jsxs("div",{children:[l.jsxs("div",{style:{fontWeight:600,color:"#f59e0b"},children:[t.tabSwitches," Tab Switches"]}),l.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:["Penalty: -",Math.min(t.tabSwitches*5,25)," pts"]})]})]}),t.copyPasteAttempts>0&&l.jsxs("div",{style:{padding:"0.75rem",background:"rgba(245, 158, 11, 0.1)",borderRadius:"0.5rem",display:"flex",alignItems:"center",gap:"0.75rem"},children:[l.jsx("span",{style:{fontSize:"1.1rem"},children:""}),l.jsxs("div",{children:[l.jsxs("div",{style:{fontWeight:600,color:"#f59e0b"},children:[t.copyPasteAttempts," Copy/Paste"]}),l.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:["Penalty: -",Math.min(t.copyPasteAttempts*3,15)," pts"]})]})]}),t.cameraBlockedCount>0&&l.jsxs("div",{style:{padding:"0.75rem",background:"rgba(239, 68, 68, 0.1)",borderRadius:"0.5rem",display:"flex",alignItems:"center",gap:"0.75rem"},children:[l.jsx("span",{style:{fontSize:"1.1rem"},children:""}),l.jsxs("div",{children:[l.jsxs("div",{style:{fontWeight:600,color:"#ef4444"},children:[t.cameraBlockedCount," Camera Blocked"]}),l.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:["Penalty: -",Math.min(t.cameraBlockedCount*10,30)," pts"]})]})]}),t.phoneDetectionCount>0&&l.jsxs("div",{style:{padding:"0.75rem",background:"rgba(239, 68, 68, 0.1)",borderRadius:"0.5rem",display:"flex",alignItems:"center",gap:"0.75rem"},children:[l.jsx("span",{style:{fontSize:"1.1rem"},children:""}),l.jsxs("div",{children:[l.jsxs("div",{style:{fontWeight:600,color:"#ef4444"},children:[t.phoneDetectionCount," Phone Detected"]}),l.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:["Penalty: -",Math.min(t.phoneDetectionCount*15,45)," pts"]})]})]})]}),t.proctoringVideo&&l.jsxs("div",{style:{marginTop:"1rem",padding:"0.75rem",background:"rgba(59, 130, 246, 0.1)",borderRadius:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx("span",{style:{fontSize:"1rem"},children:""}),l.jsxs("span",{style:{fontSize:"0.85rem",color:"#3b82f6"},children:["Proctoring video recorded: ",t.proctoringVideo]})]})]}),l.jsxs("div",{style:{marginBottom:"1.5rem"},children:[l.jsxs("h4",{style:{margin:"0 0 0.75rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx($n,{size:18,color:"#3b82f6"})," AI Feedback"]}),l.jsx("p",{style:{color:"var(--text-muted)",lineHeight:"1.6",background:"var(--bg-tertiary)",padding:"1rem",borderRadius:"0.5rem",border:"1px solid var(--border-color)"},children:t.feedback||"No feedback provided."})]}),t.aiExplanation&&l.jsxs("div",{style:{marginBottom:"1.5rem"},children:[l.jsxs("h4",{style:{margin:"0 0 0.75rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(Ga,{size:18,color:"#8b5cf6"})," AI Explanation (Why this score?)"]}),l.jsx("p",{style:{color:"var(--text-muted)",lineHeight:"1.6",background:"rgba(139, 92, 246, 0.05)",padding:"1rem",borderRadius:"0.5rem",border:"1px solid rgba(139, 92, 246, 0.1)"},children:t.aiExplanation})]}),t.analysis&&l.jsxs("div",{style:{marginBottom:"1.5rem"},children:[l.jsxs("h4",{style:{margin:"0 0 1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(Qf,{size:18,color:"var(--primary)"}),"Detailed Analysis"]}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[t.analysis.correctness!==void 0&&l.jsxs("div",{style:{background:"var(--bg-tertiary)",padding:"1rem 1.25rem",borderRadius:"0.75rem",display:"flex",alignItems:"center",gap:"1rem",border:"1px solid rgba(59, 130, 246, 0.2)"},children:[l.jsx("div",{style:{width:"42px",height:"42px",borderRadius:"10px",background:"rgba(59, 130, 246, 0.15)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:l.jsx($n,{size:22,color:"#3b82f6"})}),l.jsxs("div",{style:{flex:1},children:[l.jsx("span",{style:{color:"var(--text-muted)",fontSize:"0.8rem",display:"block",marginBottom:"0.25rem"},children:"Correctness"}),l.jsx("p",{style:{margin:0,fontWeight:700,fontSize:"1.1rem",color:"#3b82f6"},children:t.analysis.correctness})]})]}),t.analysis.efficiency!==void 0&&l.jsxs("div",{style:{background:"var(--bg-tertiary)",padding:"1rem 1.25rem",borderRadius:"0.75rem",display:"flex",alignItems:"center",gap:"1rem",border:"1px solid rgba(16, 185, 129, 0.2)"},children:[l.jsx("div",{style:{width:"42px",height:"42px",borderRadius:"10px",background:"rgba(16, 185, 129, 0.15)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:l.jsx(nd,{size:22,color:"#10b981"})}),l.jsxs("div",{style:{flex:1},children:[l.jsx("span",{style:{color:"var(--text-muted)",fontSize:"0.8rem",display:"block",marginBottom:"0.25rem"},children:"Efficiency"}),l.jsx("p",{style:{margin:0,fontWeight:700,fontSize:"1.1rem",color:"#10b981"},children:t.analysis.efficiency})]})]}),t.analysis.codeStyle!==void 0&&l.jsxs("div",{style:{background:"var(--bg-tertiary)",padding:"1rem 1.25rem",borderRadius:"0.75rem",display:"flex",alignItems:"center",gap:"1rem",border:"1px solid rgba(139, 92, 246, 0.2)"},children:[l.jsx("div",{style:{width:"42px",height:"42px",borderRadius:"10px",background:"rgba(139, 92, 246, 0.15)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:l.jsx(Dr,{size:22,color:"#8b5cf6"})}),l.jsxs("div",{style:{flex:1},children:[l.jsx("span",{style:{color:"var(--text-muted)",fontSize:"0.8rem",display:"block",marginBottom:"0.25rem"},children:"Code Style"}),l.jsx("p",{style:{margin:0,fontWeight:700,fontSize:"1.1rem",color:"#8b5cf6"},children:t.analysis.codeStyle})]})]}),t.analysis.bestPractices!==void 0&&l.jsxs("div",{style:{background:"var(--bg-tertiary)",padding:"1rem 1.25rem",borderRadius:"0.75rem",display:"flex",alignItems:"center",gap:"1rem",border:"1px solid rgba(245, 158, 11, 0.2)"},children:[l.jsx("div",{style:{width:"42px",height:"42px",borderRadius:"10px",background:"rgba(245, 158, 11, 0.15)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:l.jsx(jl,{size:22,color:"#f59e0b"})}),l.jsxs("div",{style:{flex:1},children:[l.jsx("span",{style:{color:"var(--text-muted)",fontSize:"0.8rem",display:"block",marginBottom:"0.25rem"},children:"Best Practices"}),l.jsx("p",{style:{margin:0,fontWeight:700,fontSize:"1.1rem",color:"#f59e0b"},children:t.analysis.bestPractices})]})]})]})]}),l.jsxs("div",{children:[l.jsx("h4",{style:{margin:"0 0 0.75rem"},children:"Submitted Code"}),l.jsx("pre",{style:{background:"#020617",padding:"1.5rem",borderRadius:"0.5rem",overflow:"auto",maxHeight:"300px",fontSize:"0.85rem",fontFamily:"monospace",color:"#e2e8f0",border:"1px solid #334155"},children:t.code})]}),l.jsxs("div",{style:{marginTop:"1.5rem"},children:[l.jsx("h4",{style:{margin:"0 0 0.75rem"},children:" Code Feedback"}),l.jsx(ebt,{submissionId:t.id,code:t.code,mentorId:t.mentorId,studentId:t.studentId})]})]})]})})}function obt({user:t}){const{t:e}=m0(),[n,r]=C.useState("plagiarism"),[s,i]=C.useState(null),[a,o]=C.useState(null),[c,u]=C.useState(null),[d,f]=C.useState(!0),[h,m]=C.useState(!1);C.useEffect(()=>{f(!0),Promise.all([rt.get(`${Wl}/analytics/plagiarism?mentorId=${t.id}`),rt.get(`${Wl}/analytics/time-to-solve?mentorId=${t.id}`),rt.get(`${Wl}/analytics/topics?mentorId=${t.id}`)]).then(([x,v,w])=>{i(x.data),o(v.data),u(w.data),f(!1)}).catch(x=>{console.error(x),f(!1)})},[t.id]);const g=async x=>{m(!0);try{if(x==="csv"){const v=await rt.get(`${Wl}/analytics/export/csv?mentorId=${t.id}`,{responseType:"blob"}),w=window.URL.createObjectURL(new Blob([v.data])),B=document.createElement("a");B.href=w,B.download=`analytics_${new Date().toISOString().split("T")[0]}.csv`,B.click()}else{const v=await rt.get(`${Wl}/analytics/export/json?mentorId=${t.id}`),w=new Blob([JSON.stringify(v.data,null,2)],{type:"application/json"}),B=window.URL.createObjectURL(w),k=document.createElement("a");k.href=B,k.download=`analytics_${new Date().toISOString().split("T")[0]}.json`,k.click()}}catch(v){console.error(v)}m(!1)};if(d)return l.jsx("div",{className:"loading-spinner"});const y=[{id:"plagiarism",label:e("plagiarism_detection"),icon:l.jsx(Ui,{size:16})},{id:"time-to-solve",label:e("time_to_solve"),icon:l.jsx(vs,{size:16})},{id:"topics",label:e("topic_analysis"),icon:l.jsx(A2,{size:16})},{id:"export",label:e("export_report"),icon:l.jsx(zg,{size:16})}];return l.jsxs("div",{className:"animate-fadeIn",children:[l.jsx("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1.5rem",flexWrap:"wrap"},children:y.map(x=>l.jsxs("button",{onClick:()=>r(x.id),style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.6rem 1.2rem",borderRadius:"10px",border:"none",cursor:"pointer",fontWeight:600,fontSize:"0.85rem",background:n===x.id?"var(--primary)":"var(--card-bg)",color:n===x.id?"#fff":"var(--text-secondary)",boxShadow:n===x.id?"0 4px 15px rgba(59,130,246,0.3)":"0 1px 3px rgba(0,0,0,0.1)",transition:"all 0.2s"},children:[x.icon," ",x.label]},x.id))}),n==="plagiarism"&&s&&l.jsxs("div",{children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"1.5rem"},children:[l.jsx("div",{className:"dashboard-stat-card stat-card-blue",children:l.jsxs("div",{className:"stat-card-inner",children:[l.jsx("div",{className:"stat-icon-box",style:{background:"linear-gradient(135deg, #1e40af, #3b82f6)"},children:l.jsx(Hd,{size:22,color:"#fff"})}),l.jsxs("div",{className:"stat-content",children:[l.jsx("div",{className:"stat-number",children:s.stats.totalSubmissions}),l.jsx("div",{className:"stat-label-text",children:e("total_submissions")})]})]})}),l.jsx("div",{className:"dashboard-stat-card",style:{borderLeft:"4px solid #ef4444"},children:l.jsxs("div",{className:"stat-card-inner",children:[l.jsx("div",{className:"stat-icon-box",style:{background:"linear-gradient(135deg, #b91c1c, #ef4444)"},children:l.jsx(Qn,{size:22,color:"#fff"})}),l.jsxs("div",{className:"stat-content",children:[l.jsx("div",{className:"stat-number",style:{color:"#ef4444"},children:s.stats.plagiarismCount}),l.jsx("div",{className:"stat-label-text",children:e("flagged")})]})]})}),l.jsx("div",{className:"dashboard-stat-card",style:{borderLeft:"4px solid #f59e0b"},children:l.jsxs("div",{className:"stat-card-inner",children:[l.jsx("div",{className:"stat-icon-box",style:{background:"linear-gradient(135deg, #b45309, #f59e0b)"},children:l.jsx(kr,{size:22,color:"#fff"})}),l.jsxs("div",{className:"stat-content",children:[l.jsxs("div",{className:"stat-number",style:{color:"#f59e0b"},children:[s.stats.plagiarismRate,"%"]}),l.jsx("div",{className:"stat-label-text",children:e("plagiarism_rate")})]})]})})]}),s.repeatOffenders.length>0&&l.jsxs("div",{className:"dashboard-panel",style:{marginBottom:"1.5rem"},children:[l.jsxs("h3",{className:"panel-title",style:{color:"#ef4444"},children:[l.jsx(Qn,{size:18})," ",e("repeat_offenders")]}),l.jsx("div",{style:{display:"grid",gap:"0.5rem"},children:s.repeatOffenders.map((x,v)=>l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.75rem",borderRadius:"10px",background:"rgba(239,68,68,0.05)",border:"1px solid rgba(239,68,68,0.15)"},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontWeight:600},children:x.name}),l.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:[e("copied_from"),": ",x.copiedFrom.join(", ")||"Unknown"]})]}),l.jsxs("span",{style:{background:"#ef4444",color:"#fff",padding:"0.25rem 0.75rem",borderRadius:"20px",fontWeight:700,fontSize:"0.8rem"},children:[x.count,"x"]})]},v))})]}),s.byProblem.length>0&&l.jsxs("div",{className:"dashboard-panel",style:{marginBottom:"1.5rem"},children:[l.jsxs("h3",{className:"panel-title",children:[l.jsx(yh,{size:18,color:"#f59e0b"})," ",e("most_copied_problems")]}),l.jsx("div",{style:{display:"grid",gap:"0.5rem"},children:s.byProblem.map((x,v)=>l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.75rem",borderRadius:"8px",background:"var(--bg-secondary)"},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontWeight:600},children:x.title}),l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)",textTransform:"capitalize"},children:x.difficulty})]}),l.jsxs("span",{style:{fontWeight:700,color:"#ef4444"},children:[x.flaggedCount," ",e("flags")]})]},v))})]}),l.jsxs("div",{className:"dashboard-panel",children:[l.jsxs("h3",{className:"panel-title",children:[l.jsx(Ui,{size:18,color:"#ef4444"})," ",e("flagged_submissions")]}),s.flaggedSubmissions.length>0?l.jsx("div",{style:{overflowX:"auto"},children:l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.8rem"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{borderBottom:"2px solid var(--border-color)"},children:[l.jsx("th",{style:{textAlign:"left",padding:"0.6rem"},children:e("student")}),l.jsx("th",{style:{textAlign:"left",padding:"0.6rem"},children:e("problem")}),l.jsx("th",{style:{textAlign:"center",padding:"0.6rem"},children:e("score")}),l.jsx("th",{style:{textAlign:"left",padding:"0.6rem"},children:e("copied_from")}),l.jsx("th",{style:{textAlign:"right",padding:"0.6rem"},children:e("date")})]})}),l.jsx("tbody",{children:s.flaggedSubmissions.slice(0,20).map((x,v)=>l.jsxs("tr",{style:{borderBottom:"1px solid var(--border-color)"},children:[l.jsx("td",{style:{padding:"0.6rem",fontWeight:600},children:x.studentName}),l.jsx("td",{style:{padding:"0.6rem"},children:x.problemTitle}),l.jsxs("td",{style:{padding:"0.6rem",textAlign:"center"},children:[x.score,"/100"]}),l.jsx("td",{style:{padding:"0.6rem",color:"#ef4444"},children:x.copiedFromName||x.copiedFrom}),l.jsx("td",{style:{padding:"0.6rem",textAlign:"right",fontSize:"0.75rem",color:"var(--text-muted)"},children:new Date(x.submittedAt).toLocaleDateString()})]},v))})]})}):l.jsx("div",{style:{textAlign:"center",color:"var(--text-muted)",padding:"2rem"},children:e("no_plagiarism_detected")})]})]}),n==="time-to-solve"&&a&&l.jsxs("div",{children:[l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))",gap:"1rem",marginBottom:"1.5rem"},children:a.difficultySummary.map((x,v)=>{const B={easy:"#10b981",medium:"#f59e0b",hard:"#ef4444"}[x.difficulty]||"#3b82f6";return l.jsxs("div",{style:{padding:"1.25rem",borderRadius:"14px",background:"var(--card-bg)",borderLeft:`4px solid ${B}`,boxShadow:"0 2px 8px rgba(0,0,0,0.08)"},children:[l.jsx("div",{style:{fontWeight:700,fontSize:"1rem",textTransform:"capitalize",color:B,marginBottom:"0.75rem"},children:x.difficulty}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-muted)",textTransform:"uppercase"},children:e("avg_time")}),l.jsxs("div",{style:{fontSize:"1.3rem",fontWeight:800},children:[x.avgTimeMinutes,"m"]})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-muted)",textTransform:"uppercase"},children:e("avg_attempts")}),l.jsx("div",{style:{fontSize:"1.3rem",fontWeight:800},children:x.avgAttempts})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-muted)",textTransform:"uppercase"},children:e("solve_rate")}),l.jsxs("div",{style:{fontSize:"1.3rem",fontWeight:800,color:B},children:[x.avgSolveRate,"%"]})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-muted)",textTransform:"uppercase"},children:e("problems")}),l.jsx("div",{style:{fontSize:"1.3rem",fontWeight:800},children:x.problems})]})]})]},v)})}),l.jsxs("div",{className:"dashboard-panel",children:[l.jsxs("h3",{className:"panel-title",children:[l.jsx(vs,{size:18,color:"#3b82f6"})," ",e("problem_difficulty_metrics")]}),l.jsx("div",{style:{overflowX:"auto"},children:l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.8rem"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{borderBottom:"2px solid var(--border-color)"},children:[l.jsx("th",{style:{textAlign:"left",padding:"0.6rem"},children:e("problem")}),l.jsx("th",{style:{textAlign:"center",padding:"0.6rem"},children:e("difficulty")}),l.jsx("th",{style:{textAlign:"center",padding:"0.6rem"},children:e("students")}),l.jsx("th",{style:{textAlign:"center",padding:"0.6rem"},children:e("avg_attempts")}),l.jsx("th",{style:{textAlign:"center",padding:"0.6rem"},children:e("avg_time")}),l.jsx("th",{style:{textAlign:"center",padding:"0.6rem"},children:e("solve_rate")})]})}),l.jsx("tbody",{children:a.problems.slice(0,30).map((x,v)=>l.jsxs("tr",{style:{borderBottom:"1px solid var(--border-color)"},children:[l.jsx("td",{style:{padding:"0.6rem",fontWeight:600},children:x.title}),l.jsx("td",{style:{padding:"0.6rem",textAlign:"center"},children:l.jsx("span",{style:{padding:"0.15rem 0.5rem",borderRadius:"6px",fontSize:"0.7rem",fontWeight:600,background:x.difficulty==="easy"?"rgba(16,185,129,0.12)":x.difficulty==="medium"?"rgba(251,191,36,0.12)":"rgba(239,68,68,0.12)",color:x.difficulty==="easy"?"#10b981":x.difficulty==="medium"?"#f59e0b":"#ef4444"},children:x.difficulty})}),l.jsx("td",{style:{padding:"0.6rem",textAlign:"center"},children:x.studentCount}),l.jsx("td",{style:{padding:"0.6rem",textAlign:"center",fontWeight:600},children:x.avgAttempts}),l.jsx("td",{style:{padding:"0.6rem",textAlign:"center"},children:x.avgTimeMinutes?`${x.avgTimeMinutes}m`:"-"}),l.jsx("td",{style:{padding:"0.6rem",textAlign:"center"},children:l.jsxs("span",{style:{fontWeight:700,color:x.solveRate>=70?"#10b981":x.solveRate>=40?"#f59e0b":"#ef4444"},children:[x.solveRate,"%"]})})]},v))})]})})]})]}),n==="topics"&&c&&l.jsxs("div",{children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem",marginBottom:"1.5rem"},children:[l.jsxs("div",{className:"dashboard-panel",children:[l.jsxs("h3",{className:"panel-title",children:[l.jsx(A2,{size:18,color:"#3b82f6"})," ",e("by_problem_type")]}),c.byType.map((x,v)=>l.jsxs("div",{style:{marginBottom:"1rem"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px"},children:[l.jsx("span",{style:{fontWeight:600,textTransform:"capitalize"},children:x.type}),l.jsxs("span",{style:{fontWeight:700,color:x.avgScore>=70?"#10b981":"#f59e0b"},children:[x.avgScore,"% avg"]})]}),l.jsx("div",{style:{height:"8px",borderRadius:"4px",background:"rgba(0,0,0,0.08)",overflow:"hidden"},children:l.jsx("div",{style:{height:"100%",width:`${x.passRate}%`,borderRadius:"4px",background:"linear-gradient(90deg, #3b82f6, #60a5fa)",transition:"width 0.5s"}})}),l.jsxs("div",{style:{fontSize:"0.7rem",color:"var(--text-muted)",marginTop:"2px"},children:[x.submissions," submissions  ",x.passRate,"% pass  ",x.uniqueStudents," students"]})]},v))]}),l.jsxs("div",{className:"dashboard-panel",children:[l.jsxs("h3",{className:"panel-title",children:[l.jsx(kr,{size:18,color:"#f59e0b"})," ",e("by_difficulty")]}),c.byDifficulty.map((x,v)=>{const w={easy:"#10b981",medium:"#f59e0b",hard:"#ef4444"};return l.jsxs("div",{style:{marginBottom:"1rem"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px"},children:[l.jsx("span",{style:{fontWeight:600,textTransform:"capitalize",color:w[x.difficulty]},children:x.difficulty}),l.jsxs("span",{style:{fontWeight:700},children:[x.avgScore,"%"]})]}),l.jsx("div",{style:{height:"8px",borderRadius:"4px",background:"rgba(0,0,0,0.08)",overflow:"hidden"},children:l.jsx("div",{style:{height:"100%",width:`${x.passRate}%`,borderRadius:"4px",background:w[x.difficulty],transition:"width 0.5s"}})}),l.jsxs("div",{style:{fontSize:"0.7rem",color:"var(--text-muted)",marginTop:"2px"},children:[x.submissions," submissions  ",x.passRate,"% pass"]})]},v)})]})]}),l.jsxs("div",{className:"dashboard-panel",style:{marginBottom:"1.5rem"},children:[l.jsxs("h3",{className:"panel-title",children:[l.jsx(Dr,{size:18,color:"#8b5cf6"})," ",e("performance_by_language")]}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"1rem"},children:c.byLanguage.map((x,v)=>l.jsxs("div",{style:{padding:"1rem",borderRadius:"12px",background:"var(--bg-secondary)",textAlign:"center",border:"1px solid var(--border-color)"},children:[l.jsx("div",{style:{fontWeight:700,fontSize:"1.1rem"},children:x.language}),l.jsxs("div",{style:{fontSize:"2rem",fontWeight:800,color:x.avgScore>=70?"#10b981":x.avgScore>=40?"#f59e0b":"#ef4444"},children:[x.avgScore,"%"]}),l.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:[x.submissions," subs  ",x.passRate,"% pass"]})]},v))})]}),c.heatmap.length>0&&l.jsxs("div",{className:"dashboard-panel",children:[l.jsxs("h3",{className:"panel-title",children:[l.jsx(Qf,{size:18,color:"#06b6d4"})," ",e("type_difficulty_heatmap")]}),l.jsx("div",{style:{overflowX:"auto"},children:l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.8rem"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{borderBottom:"2px solid var(--border-color)"},children:[l.jsx("th",{style:{padding:"0.6rem",textAlign:"left"},children:e("type")}),l.jsx("th",{style:{padding:"0.6rem",textAlign:"center"},children:e("difficulty")}),l.jsx("th",{style:{padding:"0.6rem",textAlign:"center"},children:e("submissions")}),l.jsx("th",{style:{padding:"0.6rem",textAlign:"center"},children:e("avg_score")}),l.jsx("th",{style:{padding:"0.6rem",textAlign:"center"},children:e("pass_rate")})]})}),l.jsx("tbody",{children:c.heatmap.map((x,v)=>l.jsxs("tr",{style:{borderBottom:"1px solid var(--border-color)"},children:[l.jsx("td",{style:{padding:"0.6rem",fontWeight:600,textTransform:"capitalize"},children:x.type}),l.jsx("td",{style:{padding:"0.6rem",textAlign:"center",textTransform:"capitalize"},children:x.difficulty}),l.jsx("td",{style:{padding:"0.6rem",textAlign:"center"},children:x.submissions}),l.jsxs("td",{style:{padding:"0.6rem",textAlign:"center",fontWeight:700,color:x.avgScore>=70?"#10b981":x.avgScore>=40?"#f59e0b":"#ef4444"},children:[x.avgScore,"%"]}),l.jsxs("td",{style:{padding:"0.6rem",textAlign:"center"},children:[x.passRate,"%"]})]},v))})]})})]})]}),n==="export"&&l.jsx("div",{children:l.jsxs("div",{className:"dashboard-panel",style:{textAlign:"center",padding:"3rem 2rem"},children:[l.jsx(zg,{size:48,color:"var(--primary)",style:{marginBottom:"1rem"}}),l.jsx("h3",{style:{margin:"0 0 0.5rem",fontSize:"1.3rem"},children:e("export_analytics")}),l.jsx("p",{style:{color:"var(--text-muted)",marginBottom:"2rem",maxWidth:"500px",margin:"0 auto 2rem"},children:e("export_description")}),l.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",flexWrap:"wrap"},children:[l.jsxs("button",{onClick:()=>g("csv"),disabled:h,style:{padding:"0.75rem 2rem",borderRadius:"12px",border:"none",cursor:"pointer",background:"linear-gradient(135deg, #059669, #10b981)",color:"#fff",fontWeight:700,fontSize:"0.9rem",opacity:h?.6:1,display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(Oa,{size:18})," ",e("download_csv")]}),l.jsxs("button",{onClick:()=>g("json"),disabled:h,style:{padding:"0.75rem 2rem",borderRadius:"12px",border:"none",cursor:"pointer",background:"linear-gradient(135deg, #1e40af, #3b82f6)",color:"#fff",fontWeight:700,fontSize:"0.9rem",opacity:h?.6:1,display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(Dr,{size:18})," ",e("download_json")]})]})]})})]})}function lbt({initialTestCases:t=[],onUpdate:e,onClose:n,title:r="Coding Problem",inputLabel:s="Sample Input",outputLabel:i="Sample Output"}){const[a,o]=C.useState([]),[c,u]=C.useState({input:"",expectedOutput:"",isHidden:!1,points:10,description:""}),[d,f]=C.useState(!1),[h,m]=C.useState(null),[g,y]=C.useState({});C.useEffect(()=>{const E=t.map((N,O)=>({...N,_id:N._id||N.id||`temp-${Date.now()}-${O}`}));o(E)},[t]);const x=E=>{o(E),e(E)},v=()=>{if(!c.input&&!c.expectedOutput)return;const E={...c,_id:`temp-${Date.now()}`},N=[...a,E];x(N),u({input:"",expectedOutput:"",isHidden:!1,points:10,description:""}),f(!1)},w=E=>{const N=a.map(O=>O._id===E?{...O,...g}:O);x(N),m(null)},B=E=>{if(window.confirm("Delete this test case?")){const N=a.filter(O=>O._id!==E);x(N)}},k=E=>{m(E._id),y({input:E.input||"",expectedOutput:E.expectedOutput||"",isHidden:E.isHidden||!1,points:E.points||10,description:E.description||""})};return l.jsx("div",{className:"modal-overlay",onClick:n,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",backdropFilter:"blur(5px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3},children:l.jsxs("div",{className:"modal-content",onClick:E=>E.stopPropagation(),style:{width:"900px",maxWidth:"95vw",maxHeight:"85vh",background:"#1e293b",borderRadius:"16px",border:"1px solid rgba(139,92,246,0.2)",display:"flex",flexDirection:"column",overflow:"hidden",boxShadow:"0 25px 50px rgba(0,0,0,0.5)"},children:[l.jsxs("div",{className:"modal-header",style:{padding:"1.5rem",background:"rgba(15, 23, 42, 0.95)",borderBottom:"1px solid rgba(255,255,255,0.05)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",background:"linear-gradient(135deg, #10b981, #059669)",display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx($n,{size:20,color:"white"})}),l.jsxs("div",{children:[l.jsx("h2",{style:{margin:0,fontSize:"1.2rem",color:"white"},children:"Test Cases Manager"}),l.jsx("p",{style:{margin:"0.25rem 0 0",fontSize:"0.85rem",color:"rgba(255,255,255,0.5)"},children:r})]})]}),l.jsx("button",{onClick:n,style:{background:"transparent",border:"none",color:"rgba(255,255,255,0.5)",cursor:"pointer"},children:l.jsx(xi,{size:24})})]}),l.jsxs("div",{className:"modal-body",style:{flex:1,overflowY:"auto",padding:"1.5rem",color:"white"},children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"1rem",marginBottom:"1.5rem"},children:[l.jsxs("div",{style:{background:"rgba(59, 130, 246, 0.1)",padding:"1rem",borderRadius:"10px",textAlign:"center"},children:[l.jsx("div",{style:{fontSize:"1.5rem",fontWeight:700,color:"#3b82f6"},children:a.length}),l.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255,255,255,0.6)"},children:"Total Test Cases"})]}),l.jsxs("div",{style:{background:"rgba(16, 185, 129, 0.1)",padding:"1rem",borderRadius:"10px",textAlign:"center"},children:[l.jsx("div",{style:{fontSize:"1.5rem",fontWeight:700,color:"#10b981"},children:a.filter(E=>!E.isHidden).length}),l.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255,255,255,0.6)"},children:"Visible"})]}),l.jsxs("div",{style:{background:"rgba(239, 68, 68, 0.1)",padding:"1rem",borderRadius:"10px",textAlign:"center"},children:[l.jsx("div",{style:{fontSize:"1.5rem",fontWeight:700,color:"#ef4444"},children:a.filter(E=>E.isHidden).length}),l.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255,255,255,0.6)"},children:"Hidden"})]})]}),!d&&l.jsxs("button",{onClick:()=>f(!0),style:{width:"100%",padding:"1rem",background:"rgba(59, 130, 246, 0.1)",border:"2px dashed rgba(59, 130, 246, 0.3)",borderRadius:"10px",color:"#3b82f6",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontSize:"0.9rem",fontWeight:600,marginBottom:"1.5rem"},children:[l.jsx(il,{size:18})," Add Test Case"]}),d&&l.jsxs("div",{style:{background:"rgba(0,0,0,0.2)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px",padding:"1.5rem",marginBottom:"1.5rem"},children:[l.jsxs("h4",{style:{margin:"0 0 1rem",display:"flex",alignItems:"center",gap:"0.5rem",color:"white"},children:[l.jsx(il,{size:16})," New Test Case"]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",style:{display:"block",marginBottom:"0.5rem",fontSize:"0.85rem",color:"rgba(255,255,255,0.7)"},children:s}),l.jsx("textarea",{rows:"3",placeholder:"Enter test input...",value:c.input,onChange:E=>u({...c,input:E.target.value}),style:{width:"100%",padding:"0.5rem",background:"#0f172a",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"6px",color:"white",fontFamily:"monospace",fontSize:"0.85rem"}})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",style:{display:"block",marginBottom:"0.5rem",fontSize:"0.85rem",color:"rgba(255,255,255,0.7)"},children:i}),l.jsx("textarea",{rows:"3",placeholder:"Enter expected output...",value:c.expectedOutput,onChange:E=>u({...c,expectedOutput:E.target.value}),style:{width:"100%",padding:"0.5rem",background:"#0f172a",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"6px",color:"white",fontFamily:"monospace",fontSize:"0.85rem"}})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",style:{display:"block",marginBottom:"0.5rem",fontSize:"0.85rem",color:"rgba(255,255,255,0.7)"},children:"Description (optional)"}),l.jsx("input",{type:"text",placeholder:"e.g., Edge case with empty array",value:c.description,onChange:E=>u({...c,description:E.target.value}),style:{width:"100%",padding:"0.5rem",background:"#0f172a",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"6px",color:"white"}})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",style:{display:"block",marginBottom:"0.5rem",fontSize:"0.85rem",color:"rgba(255,255,255,0.7)"},children:"Points"}),l.jsx("input",{type:"number",min:"1",max:"100",value:c.points,onChange:E=>u({...c,points:parseInt(E.target.value)||10}),style:{width:"100%",padding:"0.5rem",background:"#0f172a",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"6px",color:"white"}})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",style:{display:"block",marginBottom:"0.5rem",fontSize:"0.85rem",color:"rgba(255,255,255,0.7)"},children:"Visibility"}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginTop:"0.5rem"},children:[l.jsx("input",{type:"checkbox",id:"isHidden",checked:c.isHidden,onChange:E=>u({...c,isHidden:E.target.checked}),style:{width:"18px",height:"18px",accentColor:"#ef4444"}}),l.jsxs("label",{htmlFor:"isHidden",style:{cursor:"pointer",fontSize:"0.9rem",display:"flex",alignItems:"center",gap:"0.5rem",color:"white"},children:[c.isHidden?l.jsx(Mg,{size:16,color:"#ef4444"}):l.jsx(_s,{size:16,color:"#10b981"}),c.isHidden?"Hidden":"Visible"]})]})]})]}),l.jsxs("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end"},children:[l.jsx("button",{onClick:()=>f(!1),style:{padding:"0.5rem 1rem",background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"6px",color:"rgba(255,255,255,0.6)",cursor:"pointer"},children:"Cancel"}),l.jsxs("button",{onClick:v,style:{padding:"0.5rem 1rem",background:"#8b5cf6",border:"none",borderRadius:"6px",color:"white",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(il,{size:16})," Add Test Case"]})]})]}),a.length===0?l.jsxs("div",{style:{textAlign:"center",padding:"3rem",color:"rgba(255,255,255,0.4)"},children:[l.jsx(Qn,{size:48,style:{marginBottom:"1rem",opacity:.5}}),l.jsx("h3",{children:"No Test Cases"}),l.jsx("p",{children:"Add test cases to enable automated grading"})]}):l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:a.map((E,N)=>l.jsx("div",{style:{background:"rgba(0,0,0,0.2)",border:`1px solid ${E.isHidden?"rgba(239, 68, 68, 0.3)":"rgba(255,255,255,0.1)"}`,borderRadius:"10px",padding:"1rem",position:"relative"},children:h===E._id?l.jsxs("div",{children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",style:{display:"block",marginBottom:"0.5rem",fontSize:"0.85rem",color:"rgba(255,255,255,0.7)"},children:s}),l.jsx("textarea",{rows:"3",value:g.input,onChange:O=>y({...g,input:O.target.value}),style:{width:"100%",padding:"0.5rem",background:"#0f172a",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"6px",color:"white",fontFamily:"monospace",fontSize:"0.85rem"}})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",style:{display:"block",marginBottom:"0.5rem",fontSize:"0.85rem",color:"rgba(255,255,255,0.7)"},children:i}),l.jsx("textarea",{rows:"3",value:g.expectedOutput,onChange:O=>y({...g,expectedOutput:O.target.value}),style:{width:"100%",padding:"0.5rem",background:"#0f172a",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"6px",color:"white",fontFamily:"monospace",fontSize:"0.85rem"}})]})]}),l.jsxs("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end"},children:[l.jsx("button",{onClick:()=>m(null),style:{padding:"0.4rem 0.75rem",background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"6px",color:"rgba(255,255,255,0.6)",cursor:"pointer"},children:"Cancel"}),l.jsxs("button",{onClick:()=>w(E._id),style:{padding:"0.4rem 0.75rem",background:"#10b981",border:"none",borderRadius:"6px",color:"white",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(ow,{size:14})," Save"]})]})]}):l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.75rem"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[l.jsx("span",{style:{width:"24px",height:"24px",background:"rgba(139,92,246,0.2)",color:"#a78bfa",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.75rem",fontWeight:700},children:N+1}),l.jsx("span",{style:{fontWeight:600,color:"white"},children:E.description||`Test Case ${N+1}`}),l.jsxs("span",{style:{padding:"2px 8px",borderRadius:"12px",fontSize:"0.7rem",fontWeight:600,background:E.isHidden?"rgba(239, 68, 68, 0.15)":"rgba(16, 185, 129, 0.15)",color:E.isHidden?"#ef4444":"#10b981",display:"flex",alignItems:"center",gap:"4px"},children:[E.isHidden?l.jsx(Mg,{size:10}):l.jsx(_s,{size:10}),E.isHidden?"Hidden":"Visible"]}),l.jsxs("span",{style:{padding:"2px 8px",borderRadius:"12px",fontSize:"0.7rem",fontWeight:600,background:"rgba(251, 191, 36, 0.15)",color:"#fbbf24"},children:[E.points," pts"]})]}),l.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[l.jsx("button",{onClick:()=>k(E),style:{padding:"0.4rem",background:"rgba(59, 130, 246, 0.1)",border:"none",borderRadius:"6px",color:"#3b82f6",cursor:"pointer"},children:l.jsx(Dr,{size:14})}),l.jsx("button",{onClick:()=>B(E._id),style:{padding:"0.4rem",background:"rgba(239, 68, 68, 0.1)",border:"none",borderRadius:"6px",color:"#ef4444",cursor:"pointer"},children:l.jsx(Nl,{size:14})})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[l.jsxs("div",{children:[l.jsxs("div",{style:{fontSize:"0.75rem",color:"rgba(255,255,255,0.5)",marginBottom:"0.25rem"},children:[s,":"]}),l.jsx("code",{style:{display:"block",padding:"0.5rem",background:"#0f172a",borderRadius:"6px",fontSize:"0.8rem",whiteSpace:"pre-wrap",maxHeight:"80px",overflow:"auto",color:"rgba(255,255,255,0.9)"},children:E.input||"(empty)"})]}),l.jsxs("div",{children:[l.jsxs("div",{style:{fontSize:"0.75rem",color:"rgba(255,255,255,0.5)",marginBottom:"0.25rem"},children:[i,":"]}),l.jsx("code",{style:{display:"block",padding:"0.5rem",background:"#0f172a",borderRadius:"6px",fontSize:"0.8rem",color:"#4ade80",whiteSpace:"pre-wrap",maxHeight:"80px",overflow:"auto"},children:E.expectedOutput})]})]})]})},E._id))})]})]})})}function cbt({user:t}){const[e,n]=C.useState([]),[r,s]=C.useState([]),[i,a]=C.useState({totalStudentsActive:[],totalMentorsActive:[],activeSubmissions:[],totalAlerts:0,criticalAlerts:0}),[o,c]=C.useState(!1);C.useEffect(()=>(as.joinMonitoring(t.id,"admin"),c(!0),as.onMonitoringConnected(f=>{console.log(" Admin joined global monitoring:",f)}),as.onLiveUpdate(f=>{n(h=>[f,...h.slice(0,99)]),a(h=>{const m=h.totalStudentsActive.includes(f.studentId)?h.totalStudentsActive:[...h.totalStudentsActive,f.studentId],g=f.mentorId&&!h.totalMentorsActive.includes(f.mentorId)?[...h.totalMentorsActive,f.mentorId]:h.totalMentorsActive;let y=h.activeSubmissions;return f.type==="submission_started"&&!h.activeSubmissions.includes(f.studentId)?y=[...h.activeSubmissions,f.studentId]:f.type==="submission_completed"&&(y=h.activeSubmissions.filter(x=>x!==f.studentId)),{...h,totalStudentsActive:m,totalMentorsActive:g,activeSubmissions:y}})}),as.onLiveAlert(f=>{s(h=>[f,...h.slice(0,49)]),a(h=>({...h,totalAlerts:h.totalAlerts+1,criticalAlerts:h.criticalAlerts+(f.severity==="critical"?1:0)}))}),()=>{as.disconnect(),c(!1)}),[t.id]);const u=f=>{switch(f){case"submission_started":return l.jsx(Ga,{className:"w-4 h-4 text-blue-500"});case"submission_completed":return"";case"progress_update":return"";case"test_failed":return"";default:return""}},d=f=>new Date(f).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"});return l.jsxs("div",{className:"live-monitoring-container",children:[l.jsx("h2",{className:"text-2xl font-bold mb-6",children:" Global Live Monitoring Dashboard"}),l.jsxs("div",{className:"status-bar",children:[l.jsxs("div",{className:`status-item ${o?"active":"inactive"}`,children:[l.jsx("div",{className:"status-dot"}),l.jsx("span",{children:o?"Global Monitoring Active":"Not Monitoring"})]}),l.jsxs("div",{className:"status-item",children:[l.jsx(nd,{size:16,className:"text-blue-500"}),l.jsx("span",{className:"font-semibold text-blue-600",children:i.activeSubmissions.length}),l.jsx("span",{className:"ml-1",children:"Students Working"})]}),l.jsxs("div",{className:"status-item",children:[l.jsx(Pg,{size:16,className:"text-cyan-500"}),l.jsx("span",{className:"font-semibold text-cyan-600",children:i.totalStudentsActive.length}),l.jsx("span",{className:"ml-1",children:"Total Visited"})]}),l.jsxs("div",{className:"status-item",children:[l.jsx(Pg,{size:16,className:"text-purple-500"}),l.jsx("span",{className:"font-semibold text-purple-600",children:i.totalMentorsActive.length}),l.jsx("span",{className:"ml-1",children:"Active Mentors"})]}),l.jsxs("div",{className:"status-item",children:[l.jsx(Qn,{size:16,className:"text-red-500"}),l.jsx("span",{className:"font-semibold text-red-600",children:i.totalAlerts}),l.jsx("span",{className:"ml-1",children:"Total Alerts"})]}),l.jsxs("div",{className:"status-item",children:[l.jsx(Qn,{size:16,className:"text-orange-600"}),l.jsx("span",{className:"font-semibold text-orange-600",children:i.criticalAlerts}),l.jsx("span",{className:"ml-1",children:"Critical"})]})]}),l.jsxs("div",{className:"flex gap-6 mt-6",children:[l.jsxs("div",{className:"flex-1 max-w-lg",children:[l.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[l.jsx(Qn,{size:20,className:"text-red-500"}),"Critical Alerts (",i.criticalAlerts,")"]}),l.jsx("div",{className:"alerts-list admin-alerts",children:r.filter(f=>f.severity==="critical").length===0?l.jsx("div",{className:"empty-state",children:"No critical alerts"}):r.filter(f=>f.severity==="critical").map((f,h)=>l.jsxs("div",{className:"alert-item severity-critical",children:[l.jsx("div",{className:"alert-header",children:l.jsxs("span",{className:"font-semibold text-red-900",children:[" ",f.studentName||`Student ${f.studentId}`," - ",(f.violationType||"unknown").replace(/_/g," ")]})}),l.jsx("div",{className:"alert-time",children:d(f.timestamp)})]},h))})]}),l.jsxs("div",{className:"flex-1 max-w-lg",children:[l.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[l.jsx(Qn,{size:20,className:"text-orange-500"}),"All Alerts (",r.length,")"]}),l.jsx("div",{className:"alerts-list admin-alerts",children:r.length===0?l.jsx("div",{className:"empty-state",children:"No alerts"}):r.map((f,h)=>l.jsxs("div",{className:`alert-item severity-${f.severity}`,children:[l.jsxs("div",{className:"alert-header",children:[l.jsxs("span",{className:"font-semibold",children:[f.studentName||`Student ${f.studentId}`," - ",(f.violationType||"unknown").replace(/_/g," ")]}),l.jsx("span",{className:`severity-badge severity-${f.severity}`,children:f.severity})]}),l.jsx("div",{className:"alert-time",children:d(f.timestamp)})]},h))})]})]}),l.jsxs("div",{className:"mt-6",children:[l.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[l.jsx(Ga,{size:20,className:"text-blue-500"}),"Global Activity Feed (",e.length,")"]}),l.jsx("div",{className:"updates-list admin-updates",children:e.length===0?l.jsx("div",{className:"empty-state",children:"Waiting for activity..."}):e.map((f,h)=>l.jsxs("div",{className:`update-item type-${f.type}`,children:[l.jsx("div",{className:"update-icon",children:u(f.type)}),l.jsx("div",{className:"update-content",children:l.jsxs("div",{className:"update-title",children:[f.type==="submission_started"&&l.jsxs("span",{children:[l.jsx("strong",{children:f.studentName||`Student ${f.studentId}`})," started",l.jsxs("strong",{children:[" ",f.problemTitle]}),f.isProctored&&l.jsx("span",{className:"badge-proctored",children:"Proctored"})]}),f.type==="submission_completed"&&l.jsxs("span",{children:[l.jsx("strong",{children:f.studentName||`Student ${f.studentId}`})," completed",l.jsxs("strong",{children:[" ",f.problemTitle]}),l.jsx("span",{className:`badge-status status-${f.status}`,children:f.status})]}),f.type==="progress_update"&&l.jsxs("span",{children:[l.jsx("strong",{children:f.studentName||`Student ${f.studentId}`})," -",l.jsxs("strong",{children:[" ",f.problemId]}),l.jsxs("span",{className:"badge-progress",children:[f.progress,"%"]})]}),f.type==="test_failed"&&l.jsxs("span",{children:[l.jsx("strong",{children:f.studentName||`Student ${f.studentId}`})," - Test failed:",l.jsxs("strong",{children:[" ",f.testname]})]})]})}),l.jsx("div",{className:"update-time",children:d(f.timestamp)})]},h))})]}),l.jsx("style",{children:`
                .admin-alerts {
                    max-height: 400px;
                }
                
                .admin-updates {
                    max-height: 500px;
                }

                .severity-badge.severity-critical {
                    background: #dc2626;
                    color: white;
                    font-size: 0.75rem;
                    padding: 0.25rem 0.75rem;
                    border-radius: 9999px;
                }

                .severity-badge.severity-warning {
                    background: #f59e0b;
                    color: white;
                    font-size: 0.75rem;
                    padding: 0.25rem 0.75rem;
                    border-radius: 9999px;
                }
            `})]})}const tg="http://localhost:8000/api",jv={background:"var(--bg-card)",border:"1px solid var(--border-color)",borderRadius:"16px",padding:"1.5rem",transition:"all 0.3s ease"},ZA={width:"100%",padding:"0.7rem 1rem",borderRadius:"10px",border:"1px solid var(--border-color)",background:"var(--bg-card)",color:"var(--text)",fontSize:"0.85rem",outline:"none",boxSizing:"border-box"},Qk={...ZA,cursor:"pointer"},d2={padding:"0.6rem 1.2rem",borderRadius:"10px",border:"none",background:"linear-gradient(135deg, #3b82f6, #8b5cf6)",color:"white",fontWeight:600,cursor:"pointer",fontSize:"0.85rem",display:"flex",alignItems:"center",gap:"0.5rem"},ubt={...d2,background:"linear-gradient(135deg, #ef4444, #dc2626)"},Ry={...d2,background:"rgba(59, 130, 246, 0.1)",color:"#3b82f6",border:"1px solid rgba(59, 130, 246, 0.3)"},AJ={active:"#10b981",inactive:"#f59e0b",suspended:"#ef4444"},hJ={admin:"#8b5cf6",mentor:"#3b82f6",student:"#10b981"};function dbt(){const[t,e]=C.useState([]),[n,r]=C.useState(!0),[s,i]=C.useState([]),[a,o]=C.useState({role:"",status:"",search:"",batch:""}),[c,u]=C.useState({page:1,limit:15,total:0,pages:0}),[d,f]=C.useState(!1),[h,m]=C.useState(null),[g,y]=C.useState(null),[x,v]=C.useState(""),[w,B]=C.useState(!1),[k,E]=C.useState(null),[N,O]=C.useState({name:"",email:"",password:"",role:"student",mentorId:"",batch:"",phone:""}),[F,D]=C.useState(null),T=C.useCallback(async(K=1)=>{r(!0);try{const H=new URLSearchParams({page:K,limit:c.limit});a.role&&H.set("role",a.role),a.status&&H.set("status",a.status),a.search&&H.set("search",a.search),a.batch&&H.set("batch",a.batch);const Q=await rt.get(`${tg}/admin/users?${H}`);e(Q.data.data),u(X=>({...X,page:K,total:Q.data.pagination.total,pages:Q.data.pagination.pages}))}catch(H){console.error(H)}r(!1)},[a,c.limit]),j=async()=>{try{const K=await rt.get(`${tg}/users?role=mentor`);i(Array.isArray(K.data)?K.data:K.data.data||[])}catch(K){console.error(K)}};C.useEffect(()=>{T(),j()},[]),C.useEffect(()=>{const K=setTimeout(()=>T(1),300);return()=>clearTimeout(K)},[a]);const P=(K,H="success")=>{D({text:K,type:H}),setTimeout(()=>D(null),3e3)},U=async()=>{if(!N.name||!N.email||!N.password)return P("Name, email, and password are required","error");try{await rt.post(`${tg}/admin/users`,N),P(`User ${N.name} created successfully`),f(!1),O({name:"",email:"",password:"",role:"student",mentorId:"",batch:"",phone:""}),T(c.page)}catch(K){P(K.response?.data?.error||"Failed to create user","error")}},z=async()=>{try{await rt.put(`${tg}/admin/users/${h.id}`,N),P(`User ${h.id} updated successfully`),m(null),f(!1),T(c.page)}catch(K){P(K.response?.data?.error||"Failed to update user","error")}},ee=async K=>{try{await rt.delete(`${tg}/admin/users/${K}`),P(`User ${K} deleted`),E(null),T(c.page)}catch(H){P(H.response?.data?.error||"Failed to delete user","error")}},q=async K=>{if(!x)return P("Password cannot be empty","error");try{await rt.post(`${tg}/admin/users/${K}/reset-password`,{newPassword:x}),P("Password reset successfully"),y(null),v("")}catch{P("Failed to reset password","error")}},Z=async(K,H)=>{const Q=H==="active"?"suspended":"active";try{await rt.patch(`${tg}/admin/users/${K}/status`,{status:Q}),P(`User status changed to ${Q}`),T(c.page)}catch{P("Failed to change status","error")}},G=K=>{m(K),O({name:K.name,email:K.email,password:"",role:K.role,mentorId:K.mentor_id||K.mentorId||"",batch:K.batch||"",phone:K.phone||""}),f(!0)},ne=()=>{m(null),O({name:"",email:"",password:"",role:"student",mentorId:"",batch:"",phone:""}),f(!0)};return l.jsxs("div",{className:"animate-fadeIn",children:[F&&l.jsxs("div",{style:{position:"fixed",top:"1rem",right:"1rem",zIndex:9999,padding:"1rem 1.5rem",borderRadius:"12px",background:F.type==="error"?"linear-gradient(135deg, #ef4444, #dc2626)":"linear-gradient(135deg, #10b981, #059669)",color:"white",fontWeight:600,boxShadow:"0 8px 32px rgba(0,0,0,0.3)",display:"flex",alignItems:"center",gap:"0.5rem"},children:[F.type==="error"?l.jsx(Jr,{size:18}):l.jsx($n,{size:18})," ",F.text]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[l.jsxs("div",{children:[l.jsx("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:700,color:"var(--text)"},children:"User Management"}),l.jsxs("p",{style:{margin:0,color:"var(--text-muted)",fontSize:"0.85rem"},children:[c.total," total users"]})]}),l.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[l.jsxs("button",{onClick:()=>T(c.page),style:Ry,children:[l.jsx(f1,{size:16})," Refresh"]}),l.jsxs("button",{onClick:ne,style:d2,children:[l.jsx(pye,{size:16})," Add User"]})]})]}),l.jsxs("div",{style:{...jv,marginBottom:"1.5rem",display:"flex",gap:"1rem",alignItems:"center",flexWrap:"wrap"},children:[l.jsxs("div",{style:{flex:"2",minWidth:"200px",position:"relative"},children:[l.jsx(P1,{size:16,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)"}}),l.jsx("input",{placeholder:"Search name, email, or ID...",value:a.search,onChange:K=>o(H=>({...H,search:K.target.value})),style:{...ZA,paddingLeft:"36px"}})]}),l.jsxs("select",{value:a.role,onChange:K=>o(H=>({...H,role:K.target.value})),style:{...Qk,flex:"1",minWidth:"130px"},children:[l.jsx("option",{value:"",children:"All Roles"}),l.jsx("option",{value:"student",children:"Student"}),l.jsx("option",{value:"mentor",children:"Mentor"}),l.jsx("option",{value:"admin",children:"Admin"})]}),l.jsxs("select",{value:a.status,onChange:K=>o(H=>({...H,status:K.target.value})),style:{...Qk,flex:"1",minWidth:"130px"},children:[l.jsx("option",{value:"",children:"All Status"}),l.jsx("option",{value:"active",children:"Active"}),l.jsx("option",{value:"inactive",children:"Inactive"}),l.jsx("option",{value:"suspended",children:"Suspended"})]}),l.jsx("input",{placeholder:"Filter batch...",value:a.batch,onChange:K=>o(H=>({...H,batch:K.target.value})),style:{...ZA,flex:"1",minWidth:"120px"}})]}),l.jsxs("div",{style:{...jv,padding:0,overflow:"hidden"},children:[n?l.jsx("div",{style:{padding:"3rem",textAlign:"center"},children:l.jsx("div",{className:"loading-spinner"})}):l.jsx("div",{style:{overflowX:"auto"},children:l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsx("tr",{style:{borderBottom:"1px solid var(--border-color)",background:"rgba(59,130,246,0.05)"},children:["ID","Name","Email","Role","Mentor","Batch","Status","Actions"].map(K=>l.jsx("th",{style:{padding:"0.8rem 1rem",textAlign:"left",fontSize:"0.75rem",fontWeight:700,color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.05em"},children:K},K))})}),l.jsx("tbody",{children:t.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:8,style:{padding:"3rem",textAlign:"center",color:"var(--text-muted)"},children:"No users found"})}):t.map(K=>l.jsxs("tr",{style:{borderBottom:"1px solid var(--border-color)",transition:"background 0.2s"},onMouseEnter:H=>H.currentTarget.style.background="rgba(59,130,246,0.03)",onMouseLeave:H=>H.currentTarget.style.background="transparent",children:[l.jsx("td",{style:{padding:"0.75rem 1rem",fontSize:"0.8rem",fontFamily:"monospace",color:"var(--text-muted)"},children:K.id}),l.jsx("td",{style:{padding:"0.75rem 1rem",fontWeight:600,color:"var(--text)"},children:K.name}),l.jsx("td",{style:{padding:"0.75rem 1rem",color:"var(--text-muted)",fontSize:"0.85rem"},children:K.email}),l.jsx("td",{style:{padding:"0.75rem 1rem"},children:l.jsx("span",{style:{padding:"0.2rem 0.6rem",borderRadius:"20px",fontSize:"0.7rem",fontWeight:600,background:`${hJ[K.role]}20`,color:hJ[K.role]},children:K.role})}),l.jsx("td",{style:{padding:"0.75rem 1rem",color:"var(--text-muted)",fontSize:"0.85rem"},children:K.mentor_id||K.mentorId||""}),l.jsx("td",{style:{padding:"0.75rem 1rem",color:"var(--text-muted)",fontSize:"0.85rem"},children:K.batch||""}),l.jsx("td",{style:{padding:"0.75rem 1rem"},children:l.jsx("span",{onClick:()=>Z(K.id,K.status||"active"),style:{padding:"0.2rem 0.6rem",borderRadius:"20px",fontSize:"0.7rem",fontWeight:600,background:`${AJ[K.status||"active"]}20`,color:AJ[K.status||"active"],cursor:"pointer"},children:K.status||"active"})}),l.jsx("td",{style:{padding:"0.75rem 1rem"},children:l.jsxs("div",{style:{display:"flex",gap:"0.4rem"},children:[l.jsx("button",{onClick:()=>G(K),title:"Edit",style:{padding:"0.4rem",borderRadius:"8px",border:"1px solid var(--border-color)",background:"transparent",color:"#3b82f6",cursor:"pointer"},children:l.jsx(WJ,{size:14})}),l.jsx("button",{onClick:()=>y(K.id),title:"Reset Password",style:{padding:"0.4rem",borderRadius:"8px",border:"1px solid var(--border-color)",background:"transparent",color:"#f59e0b",cursor:"pointer"},children:l.jsx(W6,{size:14})}),l.jsx("button",{onClick:()=>E(K.id),title:"Delete",style:{padding:"0.4rem",borderRadius:"8px",border:"1px solid var(--border-color)",background:"transparent",color:"#ef4444",cursor:"pointer"},children:l.jsx(Nl,{size:14})})]})})]},K.id))})]})}),c.pages>1&&l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem",borderTop:"1px solid var(--border-color)"},children:[l.jsxs("span",{style:{color:"var(--text-muted)",fontSize:"0.8rem"},children:["Page ",c.page," of ",c.pages," (",c.total," users)"]}),l.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[l.jsx("button",{disabled:c.page<=1,onClick:()=>T(c.page-1),style:{...Ry,opacity:c.page<=1?.5:1},children:l.jsx(h2,{size:16})}),l.jsx("button",{disabled:c.page>=c.pages,onClick:()=>T(c.page+1),style:{...Ry,opacity:c.page>=c.pages?.5:1},children:l.jsx(Ug,{size:16})})]})]})]}),d&&l.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)",zIndex:9998,display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>f(!1),children:l.jsxs("div",{style:{...jv,width:"500px",maxHeight:"85vh",overflowY:"auto",position:"relative"},onClick:K=>K.stopPropagation(),children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[l.jsx("h3",{style:{margin:0,fontSize:"1.2rem",fontWeight:700},children:h?"Edit User":"Create New User"}),l.jsx("button",{onClick:()=>f(!1),style:{background:"transparent",border:"none",color:"var(--text-muted)",cursor:"pointer"},children:l.jsx(xi,{size:20})})]}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.8rem",fontWeight:600,color:"var(--text-muted)"},children:"Name *"}),l.jsx("input",{value:N.name,onChange:K=>O(H=>({...H,name:K.target.value})),placeholder:"Full Name",style:ZA})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.8rem",fontWeight:600,color:"var(--text-muted)"},children:"Email *"}),l.jsx("input",{type:"email",value:N.email,onChange:K=>O(H=>({...H,email:K.target.value})),placeholder:"email@example.com",style:ZA})]}),!h&&l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.8rem",fontWeight:600,color:"var(--text-muted)"},children:"Password *"}),l.jsxs("div",{style:{position:"relative"},children:[l.jsx("input",{type:w?"text":"password",value:N.password,onChange:K=>O(H=>({...H,password:K.target.value})),placeholder:"Password",style:{...ZA,paddingRight:"40px"}}),l.jsx("button",{onClick:()=>B(!w),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"transparent",border:"none",color:"var(--text-muted)",cursor:"pointer"},children:w?l.jsx(Mg,{size:16}):l.jsx(_s,{size:16})})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.8rem",fontWeight:600,color:"var(--text-muted)"},children:"Role *"}),l.jsxs("select",{value:N.role,onChange:K=>O(H=>({...H,role:K.target.value})),style:Qk,children:[l.jsx("option",{value:"student",children:"Student"}),l.jsx("option",{value:"mentor",children:"Mentor"}),l.jsx("option",{value:"admin",children:"Admin"})]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.8rem",fontWeight:600,color:"var(--text-muted)"},children:"Batch"}),l.jsx("input",{value:N.batch,onChange:K=>O(H=>({...H,batch:K.target.value})),placeholder:"e.g. 2025-A",style:ZA})]})]}),N.role==="student"&&l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.8rem",fontWeight:600,color:"var(--text-muted)"},children:"Assign Mentor"}),l.jsxs("select",{value:N.mentorId,onChange:K=>O(H=>({...H,mentorId:K.target.value})),style:Qk,children:[l.jsx("option",{value:"",children:"No Mentor"}),s.map(K=>l.jsxs("option",{value:K.id,children:[K.name," (",K.id,")"]},K.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.8rem",fontWeight:600,color:"var(--text-muted)"},children:"Phone"}),l.jsx("input",{value:N.phone,onChange:K=>O(H=>({...H,phone:K.target.value})),placeholder:"+91 9876543210",style:ZA})]})]}),l.jsxs("div",{style:{display:"flex",gap:"0.75rem",marginTop:"1.5rem",justifyContent:"flex-end"},children:[l.jsx("button",{onClick:()=>f(!1),style:Ry,children:"Cancel"}),l.jsxs("button",{onClick:h?z:U,style:d2,children:[l.jsx(ow,{size:16})," ",h?"Update":"Create"]})]})]})}),g&&l.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)",zIndex:9998,display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>y(null),children:l.jsxs("div",{style:{...jv,width:"400px"},onClick:K=>K.stopPropagation(),children:[l.jsx("h3",{style:{margin:"0 0 1rem",fontWeight:700},children:"Reset Password"}),l.jsxs("p",{style:{color:"var(--text-muted)",marginBottom:"1rem",fontSize:"0.85rem"},children:["User: ",l.jsx("strong",{children:g})]}),l.jsx("input",{type:"password",value:x,onChange:K=>v(K.target.value),placeholder:"Enter new password",style:ZA}),l.jsxs("div",{style:{display:"flex",gap:"0.75rem",marginTop:"1.25rem",justifyContent:"flex-end"},children:[l.jsx("button",{onClick:()=>y(null),style:Ry,children:"Cancel"}),l.jsxs("button",{onClick:()=>q(g),style:d2,children:[l.jsx(W6,{size:16})," Reset"]})]})]})}),k&&l.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)",zIndex:9998,display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>E(null),children:l.jsxs("div",{style:{...jv,width:"400px",textAlign:"center"},onClick:K=>K.stopPropagation(),children:[l.jsx(Qn,{size:48,color:"#ef4444",style:{marginBottom:"1rem"}}),l.jsx("h3",{style:{margin:"0 0 0.5rem",fontWeight:700},children:"Delete User?"}),l.jsxs("p",{style:{color:"var(--text-muted)",marginBottom:"1.5rem",fontSize:"0.85rem"},children:["This will permanently delete ",l.jsx("strong",{children:k})," and all their data. This cannot be undone."]}),l.jsxs("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"center"},children:[l.jsx("button",{onClick:()=>E(null),style:Ry,children:"Cancel"}),l.jsxs("button",{onClick:()=>ee(k),style:ubt,children:[l.jsx(Nl,{size:16})," Delete"]})]})]})})]})}const Tv="http://localhost:8000",$8={Languages:["Python","JavaScript","Java","C++","C#","Go","Rust","TypeScript"],Frontend:["React","Angular","Vue.js","HTML","CSS"],Backend:["Node.js","Express.js","Django","Flask","Spring Boot"],Databases:["SQL","MySQL","PostgreSQL","MongoDB","Redis"],"CS Fundamentals":["Data Structures","Algorithms","System Design","OOP","Design Patterns"],"DevOps & Cloud":["Docker","Kubernetes","AWS","Azure","GCP","Git","Linux"],"API & Web":["REST API","GraphQL","Networking","Security","Testing"],"AI / ML":["Machine Learning","Deep Learning","NLP","Computer Vision"]},fbt=Object.values($8).flat(),Oy=({icon:t,title:e,subtitle:n,color:r,children:s})=>l.jsxs("div",{style:{background:"#1e293b",borderRadius:"14px",border:"1px solid #334155",overflow:"hidden",boxShadow:"0 2px 8px rgba(0,0,0,0.2)"},children:[l.jsxs("div",{style:{padding:"14px 18px",display:"flex",alignItems:"center",gap:"10px",borderBottom:"1px solid #334155",background:`linear-gradient(135deg, ${r}18, ${r}08)`},children:[l.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",background:`${r}25`,color:r},children:t}),l.jsxs("div",{children:[l.jsx("div",{style:{fontWeight:700,fontSize:"14px",color:"#f1f5f9"},children:e}),n&&l.jsx("div",{style:{fontSize:"11px",color:"#94a3b8"},children:n})]})]}),l.jsx("div",{style:{padding:"16px 18px"},children:s})]}),eu=({label:t,value:e,onChange:n,min:r,max:s,icon:i,color:a,suffix:o})=>l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:[l.jsxs("label",{style:{fontSize:"12px",fontWeight:600,color:"#94a3b8",display:"flex",alignItems:"center",gap:"4px"},children:[i," ",t]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",borderRadius:"10px",border:"1px solid #475569",overflow:"hidden",background:"#0f172a"},children:[l.jsx("button",{onClick:()=>n(Math.max(r,e-1)),style:{width:"36px",height:"40px",border:"none",background:"#1e293b",cursor:"pointer",fontSize:"18px",color:"#94a3b8",fontWeight:600,borderRight:"1px solid #475569"},children:""}),l.jsx("input",{type:"number",value:e,min:r,max:s,onChange:c=>n(Math.min(s,Math.max(r,parseInt(c.target.value)||r))),style:{flex:1,textAlign:"center",border:"none",outline:"none",fontSize:"16px",fontWeight:700,color:a||"#f1f5f9",padding:"8px 4px",width:"100%",boxSizing:"border-box",background:"transparent"}}),l.jsx("button",{onClick:()=>n(Math.min(s,e+1)),style:{width:"36px",height:"40px",border:"none",background:"#1e293b",cursor:"pointer",fontSize:"18px",color:"#94a3b8",fontWeight:600,borderLeft:"1px solid #475569"},children:"+"})]}),o&&l.jsx("span",{style:{fontSize:"10px",color:"#64748b",textAlign:"center"},children:o})]});function Abt(){const[t,e]=C.useState([]),[n,r]=C.useState(!0),[s,i]=C.useState(!1),[a,o]=C.useState(null),[c,u]=C.useState([]),[d,f]=C.useState(!1),[h,m]=C.useState({title:"",description:"",skills:[],difficulty_level:"mixed",mcq_count:10,coding_count:3,sql_count:3,interview_count:5,attempt_limit:1,mcq_duration_minutes:30,coding_duration_minutes:45,sql_duration_minutes:45,interview_duration_minutes:30,mcq_passing_score:60,coding_passing_score:50,sql_passing_score:50,interview_passing_score:6,proctoring_enabled:!0,proctoring_config:{camera:!0,mic:!0,fullscreen:!0,paste_disabled:!0,face_detection:!0,camera_block_detect:!0,phone_detect:!0}}),[g,y]=C.useState(""),[x,v]=C.useState(null),[w,B]=C.useState("");C.useEffect(()=>{k()},[]);const k=async()=>{try{r(!0);const{data:U}=await rt.get(`${Tv}/api/skill-tests/all`);e(U)}catch(U){B(U.response?.data?.error||U.message)}finally{r(!1)}},E=async()=>{if(!h.title.trim())return B("Title is required");if(h.skills.length===0)return B("Select at least one skill");B(""),f(!0);try{await rt.post(`${Tv}/api/skill-tests/create`,h),i(!1),m({title:"",description:"",skills:[],difficulty_level:"mixed",mcq_count:10,coding_count:3,sql_count:3,interview_count:5,attempt_limit:1,mcq_duration_minutes:30,coding_duration_minutes:45,sql_duration_minutes:45,interview_duration_minutes:30,mcq_passing_score:60,coding_passing_score:50,sql_passing_score:50,interview_passing_score:6,proctoring_enabled:!0,proctoring_config:{camera:!0,mic:!0,fullscreen:!0,paste_disabled:!0,face_detection:!0,camera_block_detect:!0,phone_detect:!0}}),k()}catch(U){B(U.response?.data?.error||U.message)}finally{f(!1)}},N=async U=>{try{await rt.put(`${Tv}/api/skill-tests/${U}/toggle`),k()}catch(z){B(z.message)}},O=async U=>{if(window.confirm("Delete this test and all its attempts?"))try{await rt.delete(`${Tv}/api/skill-tests/${U}`),k()}catch(z){B(z.message)}},F=async U=>{try{const{data:z}=await rt.get(`${Tv}/api/skill-tests/${U}/attempts`);u(z),o(U)}catch(z){B(z.message)}},D=U=>{m(z=>({...z,skills:z.skills.includes(U)?z.skills.filter(ee=>ee!==U):[...z.skills,U]}))},T=U=>{const z=$8[U]||[],ee=z.every(q=>h.skills.includes(q));m(q=>({...q,skills:ee?q.skills.filter(Z=>!z.includes(Z)):[...new Set([...q.skills,...z])]}))},j=g?fbt.filter(U=>U.toLowerCase().includes(g.toLowerCase())):[],P={passed:"#22c55e",failed:"#ef4444",in_progress:"#f59e0b",pending:"#6b7280"};return l.jsxs("div",{style:{padding:"24px",maxWidth:"1200px",margin:"0 auto"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx("div",{style:{width:"42px",height:"42px",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #8b5cf6, #6d28d9)"},children:l.jsx(Zr,{size:22,color:"white"})}),l.jsxs("div",{children:[l.jsx("h2",{style:{margin:0,fontSize:"22px",fontWeight:800,color:"#f1f5f9"},children:"Skill Test Management"}),l.jsx("p",{style:{margin:0,fontSize:"13px",color:"#9ca3af"},children:"Create & manage AI-powered assessments"})]})]}),l.jsxs("button",{onClick:()=>{i(!s),B("")},style:{display:"flex",alignItems:"center",gap:"8px",padding:"11px 22px",background:s?"linear-gradient(135deg, #ef4444, #dc2626)":"linear-gradient(135deg, #8b5cf6, #7c3aed)",color:"white",border:"none",borderRadius:"10px",cursor:"pointer",fontWeight:700,fontSize:"14px",boxShadow:"0 2px 8px rgba(139,92,246,0.3)",transition:"all 0.2s"},children:[s?l.jsx(xi,{size:18}):l.jsx(il,{size:18}),s?"Cancel":"Create Test"]})]}),w&&l.jsxs("div",{style:{background:"rgba(239,68,68,0.1)",border:"1px solid rgba(239,68,68,0.3)",borderRadius:"10px",padding:"12px 16px",marginBottom:"16px",color:"#fca5a5",display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"13px"},children:[l.jsxs("span",{children:[l.jsx(Jr,{size:14,style:{verticalAlign:"middle",marginRight:"6px"}}),w]}),l.jsx("button",{onClick:()=>B(""),style:{background:"none",border:"none",cursor:"pointer",color:"#fca5a5",padding:"4px"},children:l.jsx(xi,{size:16})})]}),s&&l.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(139,92,246,0.08), rgba(109,40,217,0.05))",borderRadius:"16px",padding:"24px",marginBottom:"28px",border:"1px solid rgba(139,92,246,0.2)",boxShadow:"0 4px 20px rgba(0,0,0,0.2)"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"20px"},children:[l.jsx(Po,{size:20,color:"#8b5cf6"}),l.jsx("h3",{style:{margin:0,fontSize:"18px",fontWeight:800,color:"#c4b5fd"},children:"Create New Assessment"})]}),l.jsx(Oy,{icon:l.jsx(Oa,{size:16}),title:"Basic Information",subtitle:"Name your assessment",color:"#3b82f6",children:l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"14px"},children:[l.jsxs("div",{children:[l.jsxs("label",{style:{fontWeight:600,fontSize:"12px",display:"block",marginBottom:"6px",color:"#cbd5e1"},children:["Test Title ",l.jsx("span",{style:{color:"#f87171"},children:"*"})]}),l.jsx("input",{value:h.title,onChange:U=>m({...h,title:U.target.value}),placeholder:"e.g., Full Stack Developer Assessment",style:{width:"100%",padding:"11px 14px",borderRadius:"10px",border:"2px solid "+(h.title?"#8b5cf6":"#475569"),fontSize:"14px",boxSizing:"border-box",outline:"none",transition:"border-color 0.2s",background:"#0f172a",color:"#f1f5f9"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{fontWeight:600,fontSize:"12px",display:"block",marginBottom:"6px",color:"#cbd5e1"},children:"Description"}),l.jsx("input",{value:h.description,onChange:U=>m({...h,description:U.target.value}),placeholder:"Brief description of this test",style:{width:"100%",padding:"11px 14px",borderRadius:"10px",border:"2px solid #475569",fontSize:"14px",boxSizing:"border-box",outline:"none",transition:"border-color 0.2s",background:"#0f172a",color:"#f1f5f9"}})]})]})}),l.jsx("div",{style:{height:"14px"}}),l.jsxs(Oy,{icon:l.jsx(nye,{size:16}),title:"Skills Selection",subtitle:`${h.skills.length} skill${h.skills.length!==1?"s":""} selected`,color:"#8b5cf6",children:[h.skills.length>0&&l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px",marginBottom:"14px",padding:"10px",background:"rgba(139,92,246,0.1)",borderRadius:"10px",border:"1px dashed rgba(139,92,246,0.4)"},children:h.skills.map(U=>l.jsxs("span",{onClick:()=>D(U),style:{padding:"5px 12px",background:"linear-gradient(135deg, #8b5cf6, #7c3aed)",color:"white",borderRadius:"20px",fontSize:"12px",cursor:"pointer",display:"flex",alignItems:"center",gap:"5px",fontWeight:600,boxShadow:"0 1px 3px rgba(139,92,246,0.3)",transition:"transform 0.15s"},children:[U," ",l.jsx(xi,{size:12})]},U))}),l.jsxs("div",{style:{position:"relative",marginBottom:"12px"},children:[l.jsx(P1,{size:16,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#9ca3af"}}),l.jsx("input",{value:g,onChange:U=>y(U.target.value),placeholder:"Search skills...",style:{width:"100%",padding:"10px 12px 10px 36px",borderRadius:"10px",border:"2px solid #475569",fontSize:"13px",boxSizing:"border-box",outline:"none",transition:"border-color 0.2s",background:"#0f172a",color:"#f1f5f9"}})]}),g&&l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px",marginBottom:"12px",padding:"10px",background:"rgba(245,158,11,0.08)",borderRadius:"8px"},children:j.length===0?l.jsxs("span",{style:{fontSize:"12px",color:"#9ca3af"},children:['No skills found for "',g,'"']}):j.map(U=>l.jsxs("span",{onClick:()=>D(U),style:{padding:"5px 12px",borderRadius:"20px",fontSize:"12px",cursor:"pointer",fontWeight:500,transition:"all 0.15s",background:h.skills.includes(U)?"#8b5cf6":"#0f172a",color:h.skills.includes(U)?"white":"#cbd5e1",border:"1px solid "+(h.skills.includes(U)?"#7c3aed":"#475569"),boxShadow:h.skills.includes(U)?"0 1px 3px rgba(139,92,246,0.3)":"none"},children:[h.skills.includes(U)?" ":"",U]},U))}),!g&&l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:Object.entries($8).map(([U,z])=>{const ee=z.filter(Z=>h.skills.includes(Z)).length,q=x===U;return l.jsxs("div",{style:{border:"1px solid "+(ee>0?"rgba(139,92,246,0.4)":"#475569"),borderRadius:"10px",overflow:"hidden",background:ee>0?"rgba(139,92,246,0.08)":"#0f172a",transition:"all 0.2s"},children:[l.jsxs("div",{onClick:()=>v(q?null:U),style:{padding:"10px 14px",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx("span",{style:{fontWeight:600,fontSize:"13px",color:"#e2e8f0"},children:U}),ee>0&&l.jsxs("span",{style:{padding:"1px 8px",borderRadius:"10px",fontSize:"11px",background:"#8b5cf6",color:"white",fontWeight:700},children:[ee,"/",z.length]})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx("button",{onClick:Z=>{Z.stopPropagation(),T(U)},style:{padding:"3px 8px",borderRadius:"6px",border:"1px solid #475569",background:ee===z.length?"#8b5cf6":"#1e293b",color:ee===z.length?"white":"#94a3b8",fontSize:"10px",fontWeight:600,cursor:"pointer"},children:ee===z.length?"Deselect All":"Select All"}),q?l.jsx(tm,{size:16,color:"#9ca3af"}):l.jsx(gh,{size:16,color:"#9ca3af"})]})]}),q&&l.jsx("div",{style:{padding:"8px 14px 12px",borderTop:"1px solid #334155",display:"flex",flexWrap:"wrap",gap:"6px"},children:z.map(Z=>l.jsxs("span",{onClick:()=>D(Z),style:{padding:"5px 12px",borderRadius:"20px",fontSize:"12px",cursor:"pointer",fontWeight:500,transition:"all 0.15s",background:h.skills.includes(Z)?"#8b5cf6":"#1e293b",color:h.skills.includes(Z)?"white":"#cbd5e1",border:"1px solid "+(h.skills.includes(Z)?"#7c3aed":"#475569"),boxShadow:h.skills.includes(Z)?"0 1px 3px rgba(139,92,246,0.3)":"none"},children:[h.skills.includes(Z)?" ":"",Z]},Z))})]},U)})})]}),l.jsx("div",{style:{height:"14px"}}),l.jsx(Oy,{icon:l.jsx(kr,{size:16}),title:"Difficulty Level",subtitle:"Set overall difficulty",color:"#f59e0b",children:l.jsx("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[{value:"easy",label:"Easy",desc:"Beginner friendly",color:"#22c55e"},{value:"medium",label:"Medium",desc:"Intermediate level",color:"#f59e0b"},{value:"hard",label:"Hard",desc:"Advanced concepts",color:"#ef4444"},{value:"mixed",label:"Mixed",desc:"30% easy, 50% medium, 20% hard",color:"#8b5cf6"}].map(U=>l.jsxs("button",{onClick:()=>m({...h,difficulty_level:U.value}),style:{flex:"1 1 140px",padding:"14px 16px",borderRadius:"12px",cursor:"pointer",background:h.difficulty_level===U.value?`${U.color}18`:"#0f172a",border:`2px solid ${h.difficulty_level===U.value?U.color:"#475569"}`,textAlign:"center",transition:"all 0.2s"},children:[l.jsx("div",{style:{fontWeight:700,fontSize:"14px",color:h.difficulty_level===U.value?U.color:"#e2e8f0",marginBottom:"4px"},children:U.label}),l.jsx("div",{style:{fontSize:"11px",color:"#94a3b8"},children:U.desc})]},U.value))})}),l.jsx("div",{style:{height:"14px"}}),l.jsxs(Oy,{icon:l.jsx(Ui,{size:16}),title:"Proctoring Mode",subtitle:h.proctoring_enabled?"Enabled  configure options":"Disabled",color:"#ef4444",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:h.proctoring_enabled?"16px":"0",padding:"10px 14px",background:"#0f172a",borderRadius:"10px",border:"1px solid #334155"},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontWeight:700,fontSize:"14px",color:"#f1f5f9"},children:"Enable Proctoring"}),l.jsx("div",{style:{fontSize:"11px",color:"#94a3b8"},children:"Monitor students during test"})]}),l.jsx("button",{onClick:()=>m({...h,proctoring_enabled:!h.proctoring_enabled}),style:{background:"none",border:"none",cursor:"pointer",padding:0},children:h.proctoring_enabled?l.jsx(sQ,{size:36,color:"#22c55e"}):l.jsx(q6,{size:36,color:"#475569"})})]}),h.proctoring_enabled&&l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"10px"},children:[{key:"camera",label:"Camera",desc:"Webcam monitoring",icon:l.jsx(Vk,{size:16}),color:"#3b82f6"},{key:"mic",label:"Microphone",desc:"Audio monitoring",icon:l.jsx(IE,{size:16}),color:"#8b5cf6"},{key:"fullscreen",label:"Fullscreen",desc:"Force fullscreen mode",icon:l.jsx(Rv,{size:16}),color:"#06b6d4"},{key:"paste_disabled",label:"Paste Disabled",desc:"Block copy-paste",icon:l.jsx(Lge,{size:16}),color:"#f59e0b"},{key:"face_detection",label:"Face Movement",desc:"Detect face away/moving",icon:l.jsx(M0e,{size:16}),color:"#10b981"},{key:"camera_block_detect",label:"Camera Block",desc:"Detect covered camera",icon:l.jsx(Zv,{size:16}),color:"#ef4444"},{key:"phone_detect",label:"Phone Detection",desc:"Detect mobile phone",icon:l.jsx(V6,{size:16}),color:"#ec4899"}].map(U=>{const z=h.proctoring_config[U.key];return l.jsxs("button",{onClick:()=>m({...h,proctoring_config:{...h.proctoring_config,[U.key]:!z}}),style:{display:"flex",alignItems:"center",gap:"10px",padding:"12px 14px",borderRadius:"10px",cursor:"pointer",textAlign:"left",background:z?`${U.color}12`:"#0f172a",border:`1.5px solid ${z?U.color:"#475569"}`,transition:"all 0.2s"},children:[l.jsx("div",{style:{width:"34px",height:"34px",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,background:z?`${U.color}25`:"#1e293b",color:z?U.color:"#64748b"},children:U.icon}),l.jsxs("div",{style:{flex:1,minWidth:0},children:[l.jsx("div",{style:{fontWeight:600,fontSize:"13px",color:z?"#f1f5f9":"#94a3b8"},children:U.label}),l.jsx("div",{style:{fontSize:"10px",color:"#64748b"},children:U.desc})]}),l.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:z?U.color:"#475569",flexShrink:0}})]},U.key)})})]}),l.jsx("div",{style:{height:"14px"}}),l.jsx(Oy,{icon:l.jsx(H6,{size:16}),title:"Question Configuration",subtitle:"Set number of questions per section",color:"#10b981",children:l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"16px"},children:[l.jsx(eu,{label:"MCQ Questions",value:h.mcq_count,onChange:U=>m({...h,mcq_count:U}),min:5,max:50,icon:l.jsx(Zr,{size:12}),color:"#8b5cf6",suffix:"550 questions"}),l.jsx(eu,{label:"Coding Problems",value:h.coding_count,onChange:U=>m({...h,coding_count:U}),min:1,max:10,icon:l.jsx(Dr,{size:12}),color:"#3b82f6",suffix:"110 problems"}),l.jsx(eu,{label:"SQL Problems",value:h.sql_count,onChange:U=>m({...h,sql_count:U}),min:1,max:10,icon:l.jsx(Ka,{size:12}),color:"#10b981",suffix:"110 problems"}),l.jsx(eu,{label:"Interview Qs",value:h.interview_count,onChange:U=>m({...h,interview_count:U}),min:3,max:15,icon:l.jsx(Fp,{size:12}),color:"#f59e0b",suffix:"315 questions"})]})}),l.jsx("div",{style:{height:"14px"}}),l.jsxs(Oy,{icon:l.jsx(kr,{size:16}),title:"Passing Criteria & Settings",subtitle:"Configure passing scores and limits",color:"#ef4444",children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"16px",marginBottom:"14px"},children:[l.jsx(eu,{label:"MCQ Pass %",value:h.mcq_passing_score,onChange:U=>m({...h,mcq_passing_score:U}),min:30,max:100,icon:l.jsx(Qf,{size:12}),color:"#8b5cf6",suffix:"min 30%"}),l.jsx(eu,{label:"Coding Pass %",value:h.coding_passing_score,onChange:U=>m({...h,coding_passing_score:U}),min:30,max:100,icon:l.jsx(Qf,{size:12}),color:"#3b82f6",suffix:"min 30%"}),l.jsx(eu,{label:"SQL Pass %",value:h.sql_passing_score,onChange:U=>m({...h,sql_passing_score:U}),min:30,max:100,icon:l.jsx(Qf,{size:12}),color:"#10b981",suffix:"min 30%"}),l.jsx(eu,{label:"Interview Pass (/10)",value:h.interview_passing_score,onChange:U=>m({...h,interview_passing_score:U}),min:3,max:10,icon:l.jsx(Qf,{size:12}),color:"#f59e0b",suffix:"out of 10"})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"16px",marginBottom:"14px"},children:[l.jsx(eu,{label:"MCQ Time (m)",value:h.mcq_duration_minutes,onChange:U=>m({...h,mcq_duration_minutes:U}),min:5,max:120,icon:l.jsx(vs,{size:12}),color:"#8b5cf6",suffix:"minutes"}),l.jsx(eu,{label:"Coding Time (m)",value:h.coding_duration_minutes,onChange:U=>m({...h,coding_duration_minutes:U}),min:5,max:120,icon:l.jsx(vs,{size:12}),color:"#3b82f6",suffix:"minutes"}),l.jsx(eu,{label:"SQL Time (m)",value:h.sql_duration_minutes,onChange:U=>m({...h,sql_duration_minutes:U}),min:5,max:120,icon:l.jsx(vs,{size:12}),color:"#10b981",suffix:"minutes"}),l.jsx(eu,{label:"Interview Time (m)",value:h.interview_duration_minutes,onChange:U=>m({...h,interview_duration_minutes:U}),min:5,max:120,icon:l.jsx(vs,{size:12}),color:"#f59e0b",suffix:"minutes"})]}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"16px"},children:l.jsx(eu,{label:"Max Attempts",value:h.attempt_limit,onChange:U=>m({...h,attempt_limit:U}),min:1,max:5,icon:l.jsx(Ui,{size:12}),color:"#6366f1",suffix:"per student"})})]}),l.jsx("div",{style:{height:"18px"}}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"14px 18px",background:"#1e293b",borderRadius:"12px",border:"1px solid #334155",boxShadow:"0 2px 8px rgba(0,0,0,0.2)"},children:[l.jsxs("div",{style:{display:"flex",gap:"16px",fontSize:"12px",color:"#94a3b8",flexWrap:"wrap",alignItems:"center"},children:[l.jsxs("span",{children:[l.jsx(Zr,{size:13,style:{verticalAlign:"middle"}})," ",h.mcq_count," MCQ"]}),l.jsxs("span",{children:[l.jsx(Dr,{size:13,style:{verticalAlign:"middle"}})," ",h.coding_count," Coding"]}),l.jsxs("span",{children:[l.jsx(Ka,{size:13,style:{verticalAlign:"middle"}})," ",h.sql_count," SQL"]}),l.jsxs("span",{children:[l.jsx(Fp,{size:13,style:{verticalAlign:"middle"}})," ",h.interview_count," Interview"]}),l.jsxs("span",{children:[l.jsx(Fp,{size:13,style:{verticalAlign:"middle"}})," ",h.interview_count," Interview"]}),l.jsxs("span",{children:[l.jsx(vs,{size:13,style:{verticalAlign:"middle"}})," ",h.mcq_duration_minutes,"m+",h.coding_duration_minutes,"m+",h.sql_duration_minutes,"m+",h.interview_duration_minutes,"m"]}),l.jsxs("span",{style:{color:{easy:"#22c55e",medium:"#f59e0b",hard:"#ef4444",mixed:"#8b5cf6"}[h.difficulty_level]},children:[l.jsx(kr,{size:13,style:{verticalAlign:"middle"}})," ",h.difficulty_level]}),l.jsxs("span",{style:{color:h.proctoring_enabled?"#22c55e":"#ef4444"},children:[l.jsx(Ui,{size:13,style:{verticalAlign:"middle"}})," ",h.proctoring_enabled?"Proctored":"No Proctor"]})]}),l.jsx("button",{onClick:E,disabled:d,style:{padding:"12px 32px",background:d?"#a78bfa":"linear-gradient(135deg, #8b5cf6, #7c3aed)",color:"white",border:"none",borderRadius:"10px",cursor:d?"not-allowed":"pointer",fontWeight:800,fontSize:"15px",boxShadow:"0 2px 10px rgba(139,92,246,0.35)",display:"flex",alignItems:"center",gap:"8px",transition:"all 0.2s"},children:d?l.jsxs(l.Fragment,{children:[l.jsx(nd,{size:16})," Creating..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Po,{size:16})," Create Assessment"]})})]})]}),n?l.jsxs("div",{style:{textAlign:"center",padding:"60px",color:"#9ca3af"},children:[l.jsx("div",{style:{width:"40px",height:"40px",border:"3px solid #e5e7eb",borderTopColor:"#8b5cf6",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 12px"}}),l.jsx("style",{children:"@keyframes spin { to { transform: rotate(360deg); } }"}),l.jsx("p",{style:{fontSize:"14px",fontWeight:500},children:"Loading assessments..."})]}):t.length===0?l.jsxs("div",{style:{textAlign:"center",padding:"60px",color:"#94a3b8",background:"#1e293b",borderRadius:"16px",border:"2px dashed #334155"},children:[l.jsx("div",{style:{width:"64px",height:"64px",borderRadius:"16px",margin:"0 auto 16px",background:"rgba(139,92,246,0.15)",display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx(Zr,{size:32,color:"#8b5cf6"})}),l.jsx("p",{style:{fontSize:"16px",fontWeight:700,color:"#e2e8f0",margin:"0 0 6px"},children:"No assessments yet"}),l.jsx("p",{style:{fontSize:"13px",margin:0},children:'Click "Create Test" above to build your first skill assessment'})]}):l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"14px"},children:[l.jsxs("div",{style:{fontSize:"13px",color:"#94a3b8",fontWeight:600,padding:"0 4px"},children:[t.length," assessment",t.length!==1?"s":""]}),t.map(U=>l.jsxs("div",{style:{background:"#1e293b",border:"1px solid #334155",borderRadius:"14px",padding:"20px",boxShadow:"0 2px 8px rgba(0,0,0,0.2)",borderLeft:`4px solid ${U.is_active?"#8b5cf6":"#475569"}`,transition:"box-shadow 0.2s"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"8px"},children:[l.jsx("h3",{style:{margin:0,fontSize:"17px",fontWeight:800,color:"#f1f5f9"},children:U.title}),l.jsx("span",{style:{padding:"3px 10px",borderRadius:"20px",fontSize:"11px",fontWeight:700,background:U.is_active?"#dcfce7":"#fee2e2",color:U.is_active?"#16a34a":"#dc2626"},children:U.is_active?"Active":"Inactive"})]}),U.description&&l.jsx("p",{style:{margin:"0 0 12px",color:"#94a3b8",fontSize:"13px",lineHeight:"1.5"},children:U.description}),l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"5px",marginBottom:"12px"},children:U.skills.map(z=>l.jsx("span",{style:{padding:"3px 10px",background:"rgba(139,92,246,0.15)",color:"#a78bfa",borderRadius:"20px",fontSize:"11px",fontWeight:600,border:"1px solid rgba(139,92,246,0.25)"},children:z},z))}),l.jsxs("div",{style:{display:"flex",gap:"6px",flexWrap:"wrap",fontSize:"11px",padding:"8px 12px",background:"#0f172a",borderRadius:"8px"},children:[l.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"3px",color:"#8b5cf6",fontWeight:600},children:[l.jsx(Zr,{size:12})," ",U.mcq_count," MCQ"]}),l.jsx("span",{style:{color:"#475569"},children:"|"}),l.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"3px",color:"#3b82f6",fontWeight:600},children:[l.jsx(Dr,{size:12})," ",U.coding_count," Coding"]}),l.jsx("span",{style:{color:"#475569"},children:"|"}),l.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"3px",color:"#10b981",fontWeight:600},children:[l.jsx(Ka,{size:12})," ",U.sql_count," SQL"]}),l.jsx("span",{style:{color:"#475569"},children:"|"}),l.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"3px",color:"#f59e0b",fontWeight:600},children:[l.jsx(Fp,{size:12})," ",U.interview_count," Interview"]}),l.jsx("span",{style:{color:"#475569"},children:"|"}),l.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"3px",color:"#94a3b8"},children:[l.jsx(vs,{size:12})," ",U.mcq_duration_minutes,"m"]}),l.jsx("span",{style:{color:"#475569"},children:"|"}),l.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"3px",color:"#94a3b8"},children:[l.jsx(Ui,{size:12})," ",U.attempt_limit," attempt",U.attempt_limit>1?"s":""]})]}),U.attempt_stats&&l.jsxs("div",{style:{display:"flex",gap:"16px",marginTop:"10px",fontSize:"12px"},children:[l.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px",color:"#94a3b8"},children:[l.jsx(p2,{size:14})," ",U.attempt_stats.total||0," attempts"]}),l.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px",color:"#22c55e"},children:[l.jsx($n,{size:14})," ",U.attempt_stats.completed||0," passed"]}),l.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px",color:"#ef4444"},children:[l.jsx(Jr,{size:14})," ",U.attempt_stats.failed||0," failed"]})]})]}),l.jsxs("div",{style:{display:"flex",gap:"6px",marginLeft:"16px"},children:[l.jsx("button",{onClick:()=>F(U.id),title:"View Attempts",style:{padding:"8px",background:"rgba(16,185,129,0.1)",border:"1px solid rgba(16,185,129,0.3)",borderRadius:"10px",cursor:"pointer",transition:"all 0.15s"},children:l.jsx(_s,{size:16,color:"#34d399"})}),l.jsx("button",{onClick:()=>N(U.id),title:U.is_active?"Deactivate":"Activate",style:{padding:"8px",background:U.is_active?"rgba(245,158,11,0.1)":"rgba(16,185,129,0.1)",border:"1px solid "+(U.is_active?"rgba(245,158,11,0.3)":"rgba(16,185,129,0.3)"),borderRadius:"10px",cursor:"pointer",transition:"all 0.15s"},children:U.is_active?l.jsx(sQ,{size:16,color:"#fbbf24"}):l.jsx(q6,{size:16,color:"#34d399"})}),l.jsx("button",{onClick:()=>O(U.id),title:"Delete",style:{padding:"8px",background:"rgba(239,68,68,0.1)",border:"1px solid rgba(239,68,68,0.3)",borderRadius:"10px",cursor:"pointer",transition:"all 0.15s"},children:l.jsx(Nl,{size:16,color:"#f87171"})})]})]}),a===U.id&&l.jsxs("div",{style:{marginTop:"16px",borderTop:"1px solid #334155",paddingTop:"16px"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"},children:[l.jsxs("h4",{style:{margin:0,fontSize:"14px",fontWeight:700,color:"#e2e8f0",display:"flex",alignItems:"center",gap:"6px"},children:[l.jsx(p2,{size:15})," Student Attempts"]}),l.jsxs("button",{onClick:()=>o(null),style:{background:"#334155",border:"none",cursor:"pointer",color:"#94a3b8",borderRadius:"6px",padding:"4px 8px",display:"flex",alignItems:"center",gap:"4px",fontSize:"11px",fontWeight:600},children:["Close ",l.jsx(tm,{size:14})]})]}),c.length===0?l.jsx("p",{style:{color:"#9ca3af",fontSize:"13px"},children:"No attempts yet"}):l.jsx("div",{style:{overflowX:"auto"},children:l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"13px"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{background:"#0f172a"},children:[l.jsx("th",{style:{padding:"8px",textAlign:"left",borderBottom:"1px solid #334155",color:"#94a3b8"},children:"Student"}),l.jsx("th",{style:{padding:"8px",textAlign:"center",borderBottom:"1px solid #334155",color:"#94a3b8"},children:"Attempt"}),l.jsx("th",{style:{padding:"8px",textAlign:"center",borderBottom:"1px solid #334155",color:"#94a3b8"},children:"Stage"}),l.jsx("th",{style:{padding:"8px",textAlign:"center",borderBottom:"1px solid #334155",color:"#94a3b8"},children:"MCQ"}),l.jsx("th",{style:{padding:"8px",textAlign:"center",borderBottom:"1px solid #334155",color:"#94a3b8"},children:"Coding"}),l.jsx("th",{style:{padding:"8px",textAlign:"center",borderBottom:"1px solid #334155",color:"#94a3b8"},children:"SQL"}),l.jsx("th",{style:{padding:"8px",textAlign:"center",borderBottom:"1px solid #334155",color:"#94a3b8"},children:"Interview"}),l.jsx("th",{style:{padding:"8px",textAlign:"center",borderBottom:"1px solid #334155",color:"#94a3b8"},children:"Status"})]})}),l.jsx("tbody",{children:c.map(z=>l.jsxs("tr",{style:{borderBottom:"1px solid #1e293b"},children:[l.jsx("td",{style:{padding:"8px",color:"#e2e8f0"},children:z.student_name||z.student_id}),l.jsxs("td",{style:{padding:"8px",textAlign:"center",color:"#cbd5e1"},children:["#",z.attempt_number]}),l.jsx("td",{style:{padding:"8px",textAlign:"center"},children:l.jsx("span",{style:{padding:"2px 8px",borderRadius:"12px",fontSize:"11px",background:"rgba(99,102,241,0.15)",color:"#a5b4fc"},children:z.current_stage})}),l.jsx("td",{style:{padding:"8px",textAlign:"center",color:P[z.mcq_status]},children:z.mcq_status!=="pending"?`${Math.round(z.mcq_score)}%`:"-"}),l.jsx("td",{style:{padding:"8px",textAlign:"center",color:P[z.coding_status]},children:z.coding_status!=="pending"?`${Math.round(z.coding_score)}%`:"-"}),l.jsx("td",{style:{padding:"8px",textAlign:"center",color:P[z.sql_status]},children:z.sql_status!=="pending"?`${Math.round(z.sql_score)}%`:"-"}),l.jsx("td",{style:{padding:"8px",textAlign:"center",color:P[z.interview_status]},children:z.interview_status!=="pending"?`${(z.interview_score||0).toFixed(1)}/10`:"-"}),l.jsx("td",{style:{padding:"8px",textAlign:"center"},children:l.jsx("span",{style:{padding:"2px 8px",borderRadius:"12px",fontSize:"11px",fontWeight:600,background:z.overall_status==="completed"?"rgba(16,185,129,0.15)":z.overall_status==="failed"?"rgba(239,68,68,0.15)":"rgba(245,158,11,0.15)",color:z.overall_status==="completed"?"#6ee7b7":z.overall_status==="failed"?"#fca5a5":"#fcd34d"},children:z.overall_status})})]},z.id))})]})})]})]},U.id))]})]})}const Or="http://localhost:8000/api",Jy=["#3b82f6","#8b5cf6","#06b6d4","#10b981","#f59e0b"],$g="admin-001";function hbt(){const{user:t}=xb(),{t:e}=m0(),n=cf(),[r,s]=C.useState(""),[i,a]=C.useState("");C.useEffect(()=>{switch(n.pathname.split("/").pop()){case"allocations":s(e("allocations")),a(e("mentor_student_assignments"));break;case"student-leaderboard":s(e("student_leaderboard")),a(e("top_performers"));break;case"mentor-leaderboard":s(e("mentor_leaderboard")),a(e("mentor_activity"));break;case"all-submissions":s(e("all_submissions")),a(e("platform_wide_submissions"));break;case"global-problems":s(e("global_problems")),a(e("coding_challenges_all"));break;case"aptitude-tests":s(e("aptitude_tests")),a(e("manage_aptitude_tests"));break;case"global-tests":s(e("global_complete_tests")),a(e("global_tests_subtitle"));break;case"live-monitoring":s(e("global_live_monitoring")),a(e("monitor_all_subtitle"));break;case"operations":s(e("admin_operations")),a(e("admin_ops_subtitle"));break;case"user-management":s("User Management"),a("Create, edit, and manage platform users");break;case"analytics":s(e("analytics")),a(e("advanced_analytics_subtitle"));break;case"skill-tests":s("Skill Tests"),a("Create and manage AI skill assessments");break;case"skill-submissions":s("Skill Test Submissions"),a("View all student skill test results");break;default:s(e("dashboard")),a(e("system_administration"))}},[n,e]);const o=[{path:"/admin",label:e("dashboard"),icon:l.jsx(G8,{size:20})},{label:"Content Management",icon:l.jsx(yh,{size:20}),defaultExpanded:!1,children:[{path:"/admin/global-problems",label:e("global_problems"),icon:l.jsx(yh,{size:20})},{path:"/admin/aptitude-tests",label:e("aptitude_tests"),icon:l.jsx(kr,{size:20})},{path:"/admin/global-tests",label:e("global_complete_tests"),icon:l.jsx(Hd,{size:20})},{path:"/admin/skill-tests",label:"Skill Tests",icon:l.jsx(Zr,{size:20})}]},{label:"Rankings",icon:l.jsx(ol,{size:20}),defaultExpanded:!1,children:[{path:"/admin/student-leaderboard",label:e("student_ranks"),icon:l.jsx(ol,{size:20})}]},{label:"Monitoring",icon:l.jsx(Ga,{size:20}),defaultExpanded:!1,children:[{path:"/admin/all-submissions",label:e("all_submissions"),icon:l.jsx(UJ,{size:20})},{path:"/admin/skill-submissions",label:"Skill Submissions",icon:l.jsx(Zr,{size:20})},{path:"/admin/live-monitoring",label:e("live_monitoring"),icon:l.jsx(Ga,{size:20})},{path:"/admin/analytics",label:e("analytics"),icon:l.jsx(sA,{size:20})}]},{label:"System",icon:l.jsx(HJ,{size:20}),defaultExpanded:!1,children:[{path:"/admin/user-management",label:"User Management",icon:l.jsx(Ui,{size:20})}]}];return l.jsx(X8,{navItems:o,title:r,subtitle:i,children:l.jsxs(CE,{children:[l.jsx(us,{path:"/",element:l.jsx(pbt,{})}),l.jsx(us,{path:"/global-problems",element:l.jsx(xbt,{})}),l.jsx(us,{path:"/aptitude-tests",element:l.jsx(vbt,{})}),l.jsx(us,{path:"/global-tests",element:l.jsx(bbt,{})}),l.jsx(us,{path:"/skill-tests",element:l.jsx(Abt,{})}),l.jsx(us,{path:"/skill-submissions",element:l.jsx(ofe,{user:t,isAdmin:!0})}),l.jsx(us,{path:"/student-leaderboard",element:l.jsx(mbt,{})}),l.jsx(us,{path:"/all-submissions",element:l.jsx(gbt,{})}),l.jsx(us,{path:"/live-monitoring",element:l.jsx(cbt,{user:t})}),l.jsx(us,{path:"/analytics",element:l.jsx(wbt,{})}),l.jsx(us,{path:"/user-management",element:l.jsx(dbt,{})})]})})}function pbt(){const[t,e]=C.useState(null),[n,r]=C.useState(!0),[s,i]=C.useState("7d");if(C.useEffect(()=>{rt.get(`${Or}/analytics/admin`).then(u=>{e(u.data),r(!1)}).catch(u=>r(!1))},[]),n)return l.jsx("div",{className:"loading-spinner"});if(!t)return l.jsx("div",{children:"Error loading stats"});const a=t.totalStudents>0?Math.round(t.totalSubmissions/t.totalStudents*10)/10:0,o=t.mentorCount||Math.ceil(t.totalStudents/15),c=t.recentSubmissions?.length||0;return l.jsxs("div",{className:"animate-fadeIn",children:[l.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, rgba(139, 92, 246, 0.1) 50%, rgba(6, 182, 212, 0.05) 100%)",borderRadius:"20px",padding:"2rem 2.5rem",marginBottom:"2rem",border:"1px solid rgba(59, 130, 246, 0.2)",position:"relative",overflow:"hidden"},children:[l.jsx("div",{style:{position:"absolute",top:"-50%",right:"-10%",width:"400px",height:"400px",background:"radial-gradient(circle, rgba(59, 130, 246, 0.15) 0%, transparent 70%)",pointerEvents:"none"}}),l.jsx("div",{style:{position:"relative",zIndex:1},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"0.5rem"},children:[l.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"14px",background:"linear-gradient(135deg, #3b82f6, #8b5cf6)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 8px 24px rgba(59, 130, 246, 0.3)"},children:l.jsx(Ui,{size:24,color:"white"})}),l.jsxs("div",{children:[l.jsx("h1",{style:{margin:0,fontSize:"1.75rem",fontWeight:800,background:"linear-gradient(135deg, #fff, #94a3b8)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Admin Control Center"}),l.jsx("p",{style:{margin:0,color:"var(--text-muted)",fontSize:"0.9rem"},children:"Monitor performance, manage content, and track platform health"})]})]})})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(6, 1fr)",gap:"1rem",marginBottom:"2rem"},children:[l.jsxs("div",{style:{background:"var(--bg-card)",border:"1px solid var(--border-color)",borderRadius:"16px",padding:"1.5rem",position:"relative",overflow:"hidden",transition:"all 0.3s ease"},children:[l.jsx("div",{style:{position:"absolute",top:0,right:0,width:"80px",height:"80px",background:"radial-gradient(circle at top right, rgba(59, 130, 246, 0.15), transparent 70%)"}}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[l.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"12px",background:"linear-gradient(135deg, #1e40af, #3b82f6)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.3)"},children:l.jsx(p2,{size:22,color:"white"})}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"1.75rem",fontWeight:800,color:"var(--text)"},children:t.totalStudents}),l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:"Total Students"})]})]}),l.jsxs("div",{style:{marginTop:"1rem",padding:"0.35rem 0.75rem",background:"rgba(16, 185, 129, 0.1)",borderRadius:"20px",display:"inline-flex",alignItems:"center",gap:"0.35rem",fontSize:"0.75rem",fontWeight:600,color:"#10b981"},children:[l.jsx(sA,{size:12})," +12% this month"]})]}),l.jsxs("div",{style:{background:"var(--bg-card)",border:"1px solid var(--border-color)",borderRadius:"16px",padding:"1.5rem",position:"relative",overflow:"hidden"},children:[l.jsx("div",{style:{position:"absolute",top:0,right:0,width:"80px",height:"80px",background:"radial-gradient(circle at top right, rgba(139, 92, 246, 0.15), transparent 70%)"}}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[l.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"12px",background:"linear-gradient(135deg, #6d28d9, #8b5cf6)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(139, 92, 246, 0.3)"},children:l.jsx(jl,{size:22,color:"white"})}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"1.75rem",fontWeight:800,color:"var(--text)"},children:o}),l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:"Active Mentors"})]})]}),l.jsxs("div",{style:{marginTop:"1rem",fontSize:"0.75rem",color:"var(--text-muted)"},children:["~",Math.round(t.totalStudents/o)," students/mentor"]})]}),l.jsxs("div",{style:{background:"var(--bg-card)",border:"1px solid var(--border-color)",borderRadius:"16px",padding:"1.5rem",position:"relative",overflow:"hidden"},children:[l.jsx("div",{style:{position:"absolute",top:0,right:0,width:"80px",height:"80px",background:"radial-gradient(circle at top right, rgba(6, 182, 212, 0.15), transparent 70%)"}}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[l.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"12px",background:"linear-gradient(135deg, #0891b2, #06b6d4)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(6, 182, 212, 0.3)"},children:l.jsx(_c,{size:22,color:"white"})}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"1.75rem",fontWeight:800,color:"var(--text)"},children:t.totalSubmissions}),l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:"Submissions"})]})]}),l.jsxs("div",{style:{marginTop:"1rem",fontSize:"0.75rem",color:"var(--text-muted)"},children:[a," avg per student"]})]}),l.jsxs("div",{style:{background:"var(--bg-card)",border:"1px solid var(--border-color)",borderRadius:"16px",padding:"1.5rem",position:"relative",overflow:"hidden"},children:[l.jsx("div",{style:{position:"absolute",top:0,right:0,width:"80px",height:"80px",background:"radial-gradient(circle at top right, rgba(16, 185, 129, 0.15), transparent 70%)"}}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[l.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"12px",background:"linear-gradient(135deg, #047857, #10b981)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3)"},children:l.jsx($n,{size:22,color:"white"})}),l.jsxs("div",{children:[l.jsxs("div",{style:{fontSize:"1.75rem",fontWeight:800,color:"var(--text)"},children:[t.successRate,"%"]}),l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:"Success Rate"})]})]}),l.jsx("div",{style:{marginTop:"1rem",height:"6px",background:"rgba(16, 185, 129, 0.15)",borderRadius:"3px",overflow:"hidden"},children:l.jsx("div",{style:{height:"100%",width:`${t.successRate}%`,background:"linear-gradient(90deg, #10b981, #06b6d4)",borderRadius:"3px",transition:"width 1s ease"}})})]}),l.jsxs("div",{style:{background:"var(--bg-card)",border:"1px solid var(--border-color)",borderRadius:"16px",padding:"1.5rem",position:"relative",overflow:"hidden"},children:[l.jsx("div",{style:{position:"absolute",top:0,right:0,width:"80px",height:"80px",background:"radial-gradient(circle at top right, rgba(245, 158, 11, 0.15), transparent 70%)"}}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[l.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"12px",background:"linear-gradient(135deg, #d97706, #f59e0b)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(245, 158, 11, 0.3)"},children:l.jsx(yh,{size:22,color:"white"})}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"1.75rem",fontWeight:800,color:"var(--text)"},children:t.totalContent}),l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:"Total Content"})]})]}),l.jsx("div",{style:{marginTop:"1rem",fontSize:"0.75rem",color:"var(--text-muted)"},children:"Problems & Tests"})]}),l.jsxs("div",{style:{background:"var(--bg-card)",border:"1px solid var(--border-color)",borderRadius:"16px",padding:"1.5rem",position:"relative",overflow:"hidden"},children:[l.jsx("div",{style:{position:"absolute",top:0,right:0,width:"80px",height:"80px",background:"radial-gradient(circle at top right, rgba(236, 72, 153, 0.15), transparent 70%)"}}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[l.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"12px",background:"linear-gradient(135deg, #be185d, #ec4899)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(236, 72, 153, 0.3)"},children:l.jsx(nd,{size:22,color:"white"})}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"1.75rem",fontWeight:800,color:"var(--text)"},children:c}),l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:"Active Today"})]})]}),l.jsxs("div",{style:{marginTop:"1rem",padding:"0.35rem 0.75rem",background:"rgba(236, 72, 153, 0.1)",borderRadius:"20px",display:"inline-flex",alignItems:"center",gap:"0.35rem",fontSize:"0.75rem",fontWeight:600,color:"#ec4899"},children:[l.jsx(Ga,{size:12})," Live"]})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:"1.5rem",marginBottom:"2rem"},children:[l.jsxs("div",{style:{background:"var(--bg-card)",border:"1px solid var(--border-color)",borderRadius:"20px",padding:"1.5rem",position:"relative"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[l.jsxs("div",{children:[l.jsx("h3",{style:{margin:0,fontSize:"1.1rem",fontWeight:700},children:"Submission Trends"}),l.jsx("p",{style:{margin:"0.25rem 0 0",fontSize:"0.8rem",color:"var(--text-muted)"},children:"Platform activity over time"})]}),l.jsx("div",{style:{display:"flex",gap:"0.5rem"},children:["7d","30d","90d"].map(u=>l.jsx("button",{onClick:()=>i(u),style:{padding:"0.4rem 0.8rem",fontSize:"0.75rem",fontWeight:600,border:"none",borderRadius:"8px",cursor:"pointer",background:s===u?"linear-gradient(135deg, #3b82f6, #8b5cf6)":"var(--bg-tertiary)",color:s===u?"white":"var(--text-muted)",transition:"all 0.2s ease"},children:u},u))})]}),l.jsx("div",{style:{width:"100%",height:"280px"},children:l.jsx(tA,{children:l.jsxs(ife,{data:t.submissionTrends,children:[l.jsx("defs",{children:l.jsxs("linearGradient",{id:"colorCountAdmin",x1:"0",y1:"0",x2:"0",y2:"1",children:[l.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.4}),l.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})}),l.jsx(SS,{strokeDasharray:"3 3",stroke:"var(--border-color)",vertical:!1}),l.jsx(pb,{dataKey:"date",stroke:"var(--text-muted)",fontSize:11,axisLine:!1,tickLine:!1}),l.jsx(mb,{stroke:"var(--text-muted)",fontSize:11,axisLine:!1,tickLine:!1}),l.jsx(rA,{contentStyle:{background:"var(--bg-card)",border:"1px solid var(--border-color)",borderRadius:"12px",boxShadow:"0 10px 40px rgba(0,0,0,0.3)"},labelStyle:{color:"var(--text)",fontWeight:600},itemStyle:{color:"#3b82f6"}}),l.jsx(tz,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:3,fillOpacity:1,fill:"url(#colorCountAdmin)"})]})})})]}),l.jsxs("div",{style:{background:"var(--bg-card)",border:"1px solid var(--border-color)",borderRadius:"20px",padding:"1.5rem"},children:[l.jsxs("div",{style:{marginBottom:"1rem"},children:[l.jsx("h3",{style:{margin:0,fontSize:"1.1rem",fontWeight:700},children:"Language Distribution"}),l.jsx("p",{style:{margin:"0.25rem 0 0",fontSize:"0.8rem",color:"var(--text-muted)"},children:"Code submissions by language"})]}),l.jsx("div",{style:{width:"100%",height:"200px"},children:l.jsx(tA,{children:l.jsxs(oz,{children:[l.jsx(K3,{data:t.languageStats,cx:"50%",cy:"50%",innerRadius:55,outerRadius:80,paddingAngle:4,dataKey:"value",children:t.languageStats.map((u,d)=>l.jsx(pA,{fill:Jy[d%Jy.length]},`cell-${d}`))}),l.jsx(rA,{contentStyle:{background:"var(--bg-card)",border:"1px solid var(--border-color)",borderRadius:"8px"}})]})})}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"0.75rem",marginTop:"1rem"},children:t.languageStats.map((u,d)=>l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.8rem"},children:[l.jsx("div",{style:{width:"10px",height:"10px",borderRadius:"3px",background:Jy[d%Jy.length]}}),l.jsx("span",{style:{color:"var(--text-muted)"},children:u.name}),l.jsx("span",{style:{marginLeft:"auto",fontWeight:600},children:u.value})]},u.name))})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1.5fr 1fr",gap:"1.5rem"},children:[l.jsxs("div",{style:{background:"var(--bg-card)",border:"1px solid var(--border-color)",borderRadius:"20px",padding:"1.5rem",maxHeight:"420px",display:"flex",flexDirection:"column"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.25rem"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[l.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"10px",background:"linear-gradient(135deg, #6366f1, #8b5cf6)",display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx(Ga,{size:18,color:"white"})}),l.jsxs("div",{children:[l.jsx("h3",{style:{margin:0,fontSize:"1.1rem",fontWeight:700},children:"Recent Activity"}),l.jsx("p",{style:{margin:0,fontSize:"0.75rem",color:"var(--text-muted)"},children:"Live platform submissions"})]})]}),l.jsxs("button",{style:{padding:"0.5rem 1rem",fontSize:"0.75rem",fontWeight:600,background:"var(--bg-tertiary)",border:"1px solid var(--border-color)",borderRadius:"8px",color:"var(--text-muted)",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.4rem"},children:[l.jsx(f1,{size:12})," Refresh"]})]}),l.jsx("div",{style:{flex:1,overflowY:"auto",display:"flex",flexDirection:"column",gap:"0.75rem"},children:t.recentSubmissions.map((u,d)=>l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",padding:"1rem",background:"var(--bg-tertiary)",borderRadius:"12px",border:"1px solid var(--border-color)",transition:"all 0.2s ease"},children:[l.jsx("div",{style:{width:"10px",height:"10px",borderRadius:"50%",background:u.status==="accepted"?"#10b981":"#ef4444",boxShadow:`0 0 12px ${u.status==="accepted"?"rgba(16, 185, 129, 0.5)":"rgba(239, 68, 68, 0.5)"}`}}),l.jsxs("div",{style:{flex:1},children:[l.jsx("div",{style:{fontWeight:600,fontSize:"0.9rem"},children:u.studentName}),l.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)",display:"flex",alignItems:"center",gap:"0.5rem",marginTop:"0.25rem"},children:[l.jsx(vs,{size:11}),new Date(u.time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),l.jsx("span",{style:{opacity:.5},children:""}),l.jsx("span",{children:"submitted a solution"})]})]}),l.jsxs("div",{style:{padding:"0.4rem 0.8rem",borderRadius:"8px",fontSize:"0.85rem",fontWeight:700,background:u.status==="accepted"?"rgba(16, 185, 129, 0.1)":"rgba(239, 68, 68, 0.1)",color:u.status==="accepted"?"#10b981":"#ef4444"},children:[u.score,"%"]})]},u.id))})]}),l.jsxs("div",{style:{background:"var(--bg-card)",border:"1px solid var(--border-color)",borderRadius:"20px",padding:"1.5rem"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1.25rem"},children:[l.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"10px",background:"linear-gradient(135deg, #f59e0b, #fbbf24)",display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx(ol,{size:18,color:"white"})}),l.jsxs("div",{children:[l.jsx("h3",{style:{margin:0,fontSize:"1.1rem",fontWeight:700},children:"Top Performers"}),l.jsx("p",{style:{margin:0,fontSize:"0.75rem",color:"var(--text-muted)"},children:"Leading students"})]})]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:t.studentPerformance.slice(0,5).map((u,d)=>l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",padding:"1rem",background:d===0?"linear-gradient(135deg, rgba(251, 191, 36, 0.1), rgba(245, 158, 11, 0.05))":"var(--bg-tertiary)",borderRadius:"12px",border:`1px solid ${d===0?"rgba(251, 191, 36, 0.3)":"var(--border-color)"}`},children:[l.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:d===0?"linear-gradient(135deg, #fbbf24, #f59e0b)":d===1?"linear-gradient(135deg, #94a3b8, #64748b)":d===2?"linear-gradient(135deg, #d97706, #b45309)":"var(--bg-secondary)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.8rem",fontWeight:700,color:d<3?"white":"var(--text-muted)"},children:d<3?l.jsx(ol,{size:14}):`#${d+1}`}),l.jsxs("div",{style:{flex:1},children:[l.jsx("div",{style:{fontWeight:600,fontSize:"0.9rem"},children:u.name}),l.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:[u.count," submissions"]})]}),l.jsxs("div",{style:{fontSize:"1rem",fontWeight:700,color:u.score>=80?"#10b981":u.score>=60?"#f59e0b":"#ef4444"},children:[u.score,"%"]})]},u.name))})]})]})]})}function mbt(){const[t,e]=C.useState([]),[n,r]=C.useState(!0),[s,i]=C.useState(null),[a,o]=C.useState("");if(C.useEffect(()=>{rt.get(`${Or}/leaderboard`).then(d=>{e(d.data),r(!1)}).catch(d=>r(!1))},[]),n)return l.jsx("div",{className:"loading-spinner"});const c=d=>d===1?l.jsx(ol,{size:24,style:{color:"#fbbf24"}}):d===2?l.jsx(jl,{size:24,style:{color:"#94a3b8"}}):d===3?l.jsx(jl,{size:24,style:{color:"#b45309"}}):l.jsxs("span",{style:{fontWeight:600,color:"var(--text-muted)"},children:["#",d]}),u=d=>d.violations?(d.violations.tabSwitches||0)+(d.violations.copyPaste||0)+(d.violations.cameraBlocked||0)+(d.violations.phoneDetection||0)+(d.violations.integrityViolations||0)+(d.violations.plagiarism||0):0;return l.jsxs("div",{className:"card animate-fadeIn",style:{padding:"0",overflow:"hidden"},children:[l.jsxs("div",{style:{padding:"2rem"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"2rem",flexWrap:"wrap",gap:"1rem"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[l.jsx(ol,{size:32,className:"text-primary"}),l.jsxs("div",{children:[l.jsx("h2",{style:{margin:0},children:"Global Performance Ranking"}),l.jsx("p",{style:{margin:0,color:"var(--text-muted)"},children:"Real-time ranking of students across all mentors"})]})]}),l.jsxs("div",{style:{position:"relative"},children:[l.jsx(P1,{size:18,style:{position:"absolute",left:"1rem",top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)"}}),l.jsx("input",{type:"text",placeholder:"Search students...",value:a,onChange:d=>o(d.target.value),style:{padding:"0.75rem 1rem 0.75rem 2.75rem",borderRadius:"12px",border:"1px solid var(--border-color)",background:"var(--bg-secondary)",color:"var(--text-primary)",outline:"none",width:"300px",fontSize:"0.9rem"}})]})]}),l.jsx("div",{className:"table-container",style:{maxHeight:"600px",overflowY:"auto"},children:l.jsxs("table",{children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Rank"}),l.jsx("th",{children:"Student Name"}),l.jsx("th",{children:"Submissions"}),l.jsx("th",{children:"Avg. Score"}),l.jsx("th",{children:"Violations"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:t.filter(d=>d.name.toLowerCase().includes(a.toLowerCase())).map((d,f)=>{const m=u(d)>0||d.violations?.plagiarism>0;return l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:c(f+1)})}),l.jsx("td",{children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[l.jsx("div",{className:"avatar-circle",children:d.name.charAt(0)}),l.jsx("span",{children:d.name})]})}),l.jsx("td",{children:d.totalSubmissions}),l.jsx("td",{children:l.jsxs("span",{style:{fontWeight:700,color:"var(--primary)"},children:[d.avgScore,"%"]})}),l.jsx("td",{children:l.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap",justifyContent:"center"},children:[d.violations?.tabSwitches>0&&l.jsxs("span",{style:{fontSize:"0.7rem",padding:"2px 8px",borderRadius:"4px",background:"rgba(245, 158, 11, 0.15)",color:"#f59e0b",display:"flex",alignItems:"center",gap:"4px"},title:"Tab Switches",children:[l.jsx(_s,{size:10})," ",d.violations.tabSwitches]}),d.violations?.cameraBlocked>0&&l.jsxs("span",{style:{fontSize:"0.7rem",padding:"2px 8px",borderRadius:"4px",background:"rgba(239, 68, 68, 0.15)",color:"#ef4444",display:"flex",alignItems:"center",gap:"4px"},title:"Camera Blocked",children:[" ",d.violations.cameraBlocked]}),d.violations?.phoneDetection>0&&l.jsxs("span",{style:{fontSize:"0.7rem",padding:"2px 8px",borderRadius:"4px",background:"rgba(239, 68, 68, 0.15)",color:"#ef4444",display:"flex",alignItems:"center",gap:"4px"},title:"Phone Detected",children:[" ",d.violations.phoneDetection]}),d.violations?.copyPaste>0&&l.jsxs("span",{style:{fontSize:"0.7rem",padding:"2px 8px",borderRadius:"4px",background:"rgba(245, 158, 11, 0.15)",color:"#f59e0b",display:"flex",alignItems:"center",gap:"4px"},title:"Copy/Paste Attempts",children:[" ",d.violations.copyPaste]}),d.violations?.plagiarism>0&&l.jsxs("span",{style:{fontSize:"0.7rem",padding:"2px 8px",borderRadius:"4px",background:"rgba(239, 68, 68, 0.15)",color:"#ef4444",display:"flex",alignItems:"center",gap:"4px"},title:"Plagiarism",children:[l.jsx(Qn,{size:10})," ",d.violations.plagiarism]}),!m&&l.jsx("span",{style:{fontSize:"0.75rem",color:"#10b981"},children:l.jsx($n,{size:14})})]})}),l.jsx("td",{children:l.jsx("div",{style:{width:"100px",height:"8px",background:"rgba(59, 130, 246, 0.1)",borderRadius:"10px",overflow:"hidden"},children:l.jsx("div",{style:{width:`${d.avgScore}%`,height:"100%",background:m?"var(--warning)":"var(--primary)"}})})}),l.jsx("td",{children:l.jsxs("button",{onClick:()=>i({id:d.studentId,name:d.name}),style:{display:"flex",alignItems:"center",gap:"0.4rem",padding:"0.5rem 0.85rem",background:"linear-gradient(135deg, #8b5cf6, #7c3aed)",border:"none",borderRadius:"8px",color:"white",fontSize:"0.75rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 8px rgba(139, 92, 246, 0.3)"},title:"Generate comprehensive report",children:[l.jsx(Oa,{size:14}),"Report"]})})]},d.studentId)})})]})})]}),s&&l.jsx(rhe,{studentId:s.id,studentName:s.name,onClose:()=>i(null),requestedBy:"Administrator",requestedByRole:"admin"})]})}function gbt(){const[t,e]=C.useState([]),[n,r]=C.useState([]),[s,i]=C.useState([]),[a,o]=C.useState(!0),[c,u]=C.useState(""),[d,f]=C.useState("all"),[h,m]=C.useState(null),[g,y]=C.useState(null),[x,v]=C.useState(null),[w,B]=C.useState(!1),k=()=>{o(!0),Promise.all([rt.get(`${Or}/submissions`),rt.get(`${Or}/aptitude-submissions`),rt.get(`${Or}/global-test-submissions`)]).then(([T,j,P])=>{const z=(Array.isArray(T.data)?T.data:T.data?.data||[]).map(Z=>({...Z,subType:"code"})),ee=(j.data||[]).map(Z=>({...Z,subType:"aptitude",itemTitle:Z.testTitle,language:"Aptitude"})),q=(P.data||[]).map(Z=>({...Z,subType:"global",itemTitle:Z.testTitle,language:"Mixed",score:Z.overallPercentage}));e(z),r(ee),i(q),o(!1)}).catch(T=>{console.error("Fetch error:",T),o(!1)})};C.useEffect(()=>{k()},[]);const E=()=>{const T=F();if(T.length===0){alert("No submissions to download");return}const j=["Student Name","Student Email","Type","Problem/Test Title","Language","Score","Status","Tab Switches","Camera Blocked","Phone Detected","Plagiarism Detected","Submitted At"],P=T.map(Z=>[Z.studentName||"",Z.studentEmail||"",Z.subType==="aptitude"?"Aptitude":Z.subType==="global"?"Global":"Code",Z.itemTitle||Z.testTitle||"",Z.subType==="aptitude"?"N/A":Z.subType==="global"?"Mixed":Z.language||"N/A",Z.score||0,Z.status||"",Z.integrity?.tabSwitches||Z.tabSwitches||0,Z.cameraBlockedCount||0,Z.phoneDetectionCount||0,Z.plagiarism?.detected?"Yes":"No",Z.submittedAt?new Date(Z.submittedAt).toLocaleString():""]),U=[j.join(","),...P.map(Z=>Z.map(G=>{const ne=String(G);return ne.includes(",")||ne.includes('"')||ne.includes(`
`)?`"${ne.replace(/"/g,'""')}"`:ne}).join(","))].join(`
`),z=new Blob([U],{type:"text/csv;charset=utf-8;"}),ee=document.createElement("a"),q=URL.createObjectURL(z);ee.setAttribute("href",q),ee.setAttribute("download",`submissions_${d}_${new Date().toISOString().split("T")[0]}.csv`),ee.style.visibility="hidden",document.body.appendChild(ee),ee.click(),document.body.removeChild(ee)},N=async()=>{if(!(!window.confirm(` WARNING: This will permanently delete ALL submissions from ALL students!

This includes:
 All code submissions
 All aptitude test submissions
 All problem completions
This action CANNOT be undone. Are you sure?`)||!window.confirm(` FINAL CONFIRMATION 

You are about to delete ALL submissions permanently.

Type OK to proceed.`))){B(!0);try{const P=await rt.delete(`${Or}/submissions`);alert(` Reset Complete!

 Code submissions deleted: ${P.data.deletedCodeSubmissions}
 Aptitude submissions deleted: ${P.data.deletedAptitudeSubmissions}
 Global test submissions deleted: ${P.data.deletedGlobalSubmissions||0}`),k()}catch(P){alert(" Failed to reset submissions: "+(P.response?.data?.error||P.message))}finally{B(!1)}}},O=[...t,...n,...s].sort((T,j)=>new Date(j.submittedAt)-new Date(T.submittedAt)),F=()=>(d==="all"?O:d==="code"?t:d==="aptitude"?n:s).filter(j=>(j.studentName||"").toLowerCase().includes(c.toLowerCase())||(j.itemTitle||j.testTitle||"").toLowerCase().includes(c.toLowerCase())||j.status.toLowerCase().includes(c.toLowerCase())),D=F();return a?l.jsx("div",{className:"loading-spinner"}):l.jsxs("div",{className:"animate-fadeIn",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",marginBottom:"2rem"},children:[l.jsxs("div",{children:[l.jsx("h2",{style:{fontSize:"1.75rem",fontWeight:800,margin:0},children:"Submission Archives"}),l.jsx("p",{style:{color:"var(--text-muted)",margin:"0.25rem 0 0 0"},children:"Global audit trail of all submissions"})]}),l.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[l.jsxs("div",{style:{display:"flex",borderRadius:"8px",overflow:"hidden",border:"1px solid var(--border-color)"},children:[l.jsxs("button",{onClick:()=>f("all"),style:{padding:"0.5rem 1rem",background:d==="all"?"var(--primary)":"transparent",border:"none",color:d==="all"?"white":"var(--text-muted)",cursor:"pointer",fontSize:"0.85rem"},children:["All (",O.length,")"]}),l.jsxs("button",{onClick:()=>f("code"),style:{padding:"0.5rem 1rem",background:d==="code"?"var(--primary)":"transparent",border:"none",color:d==="code"?"white":"var(--text-muted)",cursor:"pointer",fontSize:"0.85rem"},children:[" Code (",t.length,")"]}),l.jsxs("button",{onClick:()=>f("aptitude"),style:{padding:"0.5rem 1rem",background:d==="aptitude"?"#8b5cf6":"transparent",border:"none",color:d==="aptitude"?"white":"var(--text-muted)",cursor:"pointer",fontSize:"0.85rem"},children:[" Aptitude (",n.length,")"]}),l.jsxs("button",{onClick:()=>f("global"),style:{padding:"0.5rem 1rem",background:d==="global"?"#3b82f6":"transparent",border:"none",color:d==="global"?"white":"var(--text-muted)",cursor:"pointer",fontSize:"0.85rem"},children:[" Global (",s.length,")"]})]}),l.jsxs("div",{style:{position:"relative"},children:[l.jsx(P1,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)"}}),l.jsx("input",{type:"text",placeholder:"Search student, problem or status...",style:{padding:"0.6rem 1rem 0.6rem 2.5rem",background:"var(--bg-card)",border:"1px solid var(--border-color)",borderRadius:"8px",color:"white",width:"300px"},value:c,onChange:T=>u(T.target.value)})]}),l.jsxs("button",{onClick:E,disabled:D.length===0,style:{padding:"0.6rem 1rem",background:"rgba(16, 185, 129, 0.1)",border:"1px solid rgba(16, 185, 129, 0.3)",borderRadius:"8px",color:"#10b981",cursor:D.length===0?"not-allowed":"pointer",fontSize:"0.85rem",fontWeight:600,display:"flex",alignItems:"center",gap:"0.5rem",opacity:D.length===0?.5:1,transition:"all 0.2s ease"},onMouseEnter:T=>{D.length>0&&(T.target.style.background="rgba(16, 185, 129, 0.2)")},onMouseLeave:T=>{T.target.style.background="rgba(16, 185, 129, 0.1)"},children:[l.jsx(zg,{size:16}),"Download CSV"]}),l.jsxs("button",{onClick:N,disabled:w||O.length===0,style:{padding:"0.6rem 1rem",background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"8px",color:"#ef4444",cursor:w||O.length===0?"not-allowed":"pointer",fontSize:"0.85rem",fontWeight:600,display:"flex",alignItems:"center",gap:"0.5rem",opacity:w||O.length===0?.5:1,transition:"all 0.2s ease"},onMouseEnter:T=>{!w&&O.length>0&&(T.target.style.background="rgba(239, 68, 68, 0.2)")},onMouseLeave:T=>{T.target.style.background="rgba(239, 68, 68, 0.1)"},children:[l.jsx(Nl,{size:16}),w?"Resetting...":"Reset All"]})]})]}),l.jsx("div",{className:"table-container card glass",children:l.jsxs("table",{children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Student"}),l.jsx("th",{children:"Type"}),l.jsx("th",{children:"Problem / Test"}),l.jsx("th",{children:"Language"}),l.jsx("th",{children:"Score"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Submitted At"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:D.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"8",style:{textAlign:"center",padding:"3rem"},children:"No submissions found"})}):D.map(T=>l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("div",{style:{fontWeight:600},children:T.studentName})}),l.jsx("td",{children:l.jsx("span",{style:{fontSize:"0.75rem",padding:"2px 8px",borderRadius:"4px",background:T.subType==="aptitude"?"rgba(139, 92, 246, 0.1)":"rgba(59, 130, 246, 0.1)",color:T.subType==="aptitude"?"#8b5cf6":"var(--primary)"},children:T.subType==="aptitude"?" Aptitude":T.subType==="global"?" Global":" Code"})}),l.jsx("td",{children:l.jsx("div",{style:{color:"var(--primary)",fontWeight:500},children:T.itemTitle||T.testTitle})}),l.jsx("td",{children:l.jsx("span",{style:{fontSize:"0.75rem",padding:"2px 8px",borderRadius:"4px",background:"rgba(59, 130, 246, 0.1)",color:"var(--primary)"},children:T.subType==="aptitude"?"N/A":T.subType==="global"?"Mixed":T.language?.toUpperCase()||"N/A"})}),l.jsxs("td",{style:{fontWeight:700,fontSize:"1.1rem"},children:[T.score,"%"]}),l.jsx("td",{children:l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.25rem",alignItems:"center"},children:[l.jsx("span",{className:`status-badge ${T.status}`,children:T.status}),T.plagiarism?.detected&&l.jsxs("span",{className:"status-badge plagiarized",style:{display:"flex",alignItems:"center",gap:"3px"},children:[l.jsx(Qn,{size:11})," Plag"]}),(T.integrity?.integrityViolation||T.tabSwitches>0)&&l.jsxs("span",{style:{fontSize:"0.65rem",padding:"2px 6px",borderRadius:"4px",background:"rgba(245, 158, 11, 0.15)",color:"#f59e0b",border:"1px solid rgba(245, 158, 11, 0.3)",display:"flex",alignItems:"center",gap:"3px"},children:[l.jsx(Qn,{size:10})," ",T.integrity?.tabSwitches||T.tabSwitches||0," Tab"]}),T.cameraBlockedCount>0&&l.jsxs("span",{style:{fontSize:"0.65rem",padding:"2px 6px",borderRadius:"4px",background:"rgba(239, 68, 68, 0.15)",color:"#ef4444",border:"1px solid rgba(239, 68, 68, 0.3)",display:"flex",alignItems:"center",gap:"3px"},children:[" ",T.cameraBlockedCount," Cam"]}),T.phoneDetectionCount>0&&l.jsxs("span",{style:{fontSize:"0.65rem",padding:"2px 6px",borderRadius:"4px",background:"rgba(239, 68, 68, 0.15)",color:"#ef4444",border:"1px solid rgba(239, 68, 68, 0.3)",display:"flex",alignItems:"center",gap:"3px"},children:[" ",T.phoneDetectionCount," Phone"]})]})}),l.jsx("td",{style:{fontSize:"0.85rem",color:"var(--text-muted)"},children:new Date(T.submittedAt).toLocaleString()}),l.jsx("td",{children:T.subType==="aptitude"?l.jsxs("button",{onClick:()=>y(T),style:{background:"rgba(139, 92, 246, 0.1)",border:"none",color:"#8b5cf6",padding:"0.4rem 0.75rem",borderRadius:"6px",cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"4px"},children:[l.jsx(_s,{size:14})," Results"]}):T.subType==="global"?l.jsxs("button",{onClick:()=>v(T.id),style:{background:"rgba(59, 130, 246, 0.1)",border:"none",color:"#3b82f6",padding:"0.4rem 0.75rem",borderRadius:"6px",cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"4px"},children:[l.jsx(_s,{size:14})," Full Report"]}):l.jsxs("button",{onClick:()=>m(T),style:{background:"rgba(59, 130, 246, 0.1)",border:"none",color:"#3b82f6",padding:"0.4rem 0.75rem",borderRadius:"6px",cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"4px"},children:[l.jsx(_s,{size:14})," Report"]})})]},T.id))})]})}),g&&l.jsx(J$,{submission:g,onClose:()=>y(null)}),x&&l.jsx(vz,{submissionId:x,onClose:()=>v(null),isStudentView:!1}),h&&l.jsx(ybt,{submission:h,onClose:()=>m(null)})]})}function ybt({submission:t,onClose:e}){return l.jsx("div",{className:"modal-overlay",onClick:e,children:l.jsxs("div",{className:"modal-content",onClick:n=>n.stopPropagation(),style:{maxWidth:"900px"},children:[l.jsxs("div",{className:"modal-header",children:[l.jsxs("div",{className:"modal-title-with-icon",children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",background:t.status==="accepted"?"linear-gradient(135deg, #10b981, #06b6d4)":"linear-gradient(135deg, #ef4444, #f59e0b)",display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx(Oa,{size:20,color:"white"})}),l.jsx("h2",{children:"Detailed Submission Report"})]}),l.jsx("button",{onClick:e,className:"modal-close",children:l.jsx(xi,{size:20})})]}),l.jsxs("div",{className:"modal-body",style:{maxHeight:"70vh",overflowY:"auto"},children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"1rem",marginBottom:"2rem",padding:"1.5rem",background:"rgba(59, 130, 246, 0.05)",borderRadius:"1rem",border:"1px solid rgba(59, 130, 246, 0.1)"},children:[l.jsxs("div",{children:[l.jsx("span",{style:{color:"var(--text-muted)",fontSize:"0.8rem"},children:"Student Name"}),l.jsx("p",{style:{margin:"0.25rem 0 0",fontWeight:600,fontSize:"1.1rem"},children:t.studentName})]}),l.jsxs("div",{children:[l.jsx("span",{style:{color:"var(--text-muted)",fontSize:"0.8rem"},children:"Submitted At"}),l.jsx("p",{style:{margin:"0.25rem 0 0",fontWeight:600},children:new Date(t.submittedAt).toLocaleString()})]}),l.jsxs("div",{children:[l.jsx("span",{style:{color:"var(--text-muted)",fontSize:"0.8rem"},children:"Language"}),l.jsx("p",{style:{margin:"0.25rem 0 0",fontWeight:600},children:t.language})]}),l.jsxs("div",{children:[l.jsx("span",{style:{color:"var(--text-muted)",fontSize:"0.8rem"},children:"Submission Type"}),l.jsx("p",{style:{margin:"0.25rem 0 0",fontWeight:600},children:t.submissionType==="file"?"File Upload":"Code Editor"})]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"3rem",marginBottom:"2rem",padding:"2rem",background:t.status==="accepted"?"rgba(16, 185, 129, 0.05)":"rgba(239, 68, 68, 0.05)",borderRadius:"1rem",border:`1px solid ${t.status==="accepted"?"rgba(16, 185, 129, 0.2)":"rgba(239, 68, 68, 0.2)"}`},children:[l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("div",{style:{fontSize:"3rem",fontWeight:800,color:t.status==="accepted"?"#10b981":"#ef4444"},children:t.score}),l.jsx("div",{style:{color:"var(--text-muted)"},children:"AI Evaluation Score"})]}),l.jsxs("div",{style:{padding:"1rem 2rem",borderRadius:"1rem",background:t.status==="accepted"?"rgba(16, 185, 129, 0.1)":"rgba(239, 68, 68, 0.1)",color:t.status==="accepted"?"#10b981":"#ef4444",fontWeight:700,fontSize:"1.25rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[t.status==="accepted"?l.jsx($n,{size:24}):l.jsx(xi,{size:24}),t.status?.toUpperCase()]})]}),t.plagiarism?.detected&&l.jsxs("div",{className:"plagiarism-banner",style:{marginBottom:"1.5rem"},children:[l.jsx(Qn,{size:24,color:"#ef4444"}),l.jsxs("div",{children:[l.jsx("strong",{style:{color:"#ef4444"},children:"Plagiarism Detected"}),l.jsxs("p",{style:{margin:"0.25rem 0 0",color:"var(--text-muted)"},children:["This code matches a submission from ",t.plagiarism.copiedFromName]})]})]}),(t.tabSwitches>0||t.copyPasteAttempts>0||t.cameraBlockedCount>0||t.phoneDetectionCount>0)&&l.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1.5rem",background:"rgba(239, 68, 68, 0.05)",borderRadius:"1rem",border:"1px solid rgba(239, 68, 68, 0.2)"},children:[l.jsxs("h4",{style:{margin:"0 0 1rem",display:"flex",alignItems:"center",gap:"0.5rem",color:"#f59e0b"},children:[l.jsx(Qn,{size:18})," Proctoring Violations"]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem"},children:[t.tabSwitches>0&&l.jsxs("div",{style:{padding:"0.75rem",background:"rgba(245, 158, 11, 0.1)",borderRadius:"0.5rem",display:"flex",alignItems:"center",gap:"0.75rem"},children:[l.jsx(_s,{size:18,color:"#f59e0b"}),l.jsxs("div",{children:[l.jsxs("div",{style:{fontWeight:600,color:"#f59e0b"},children:[t.tabSwitches," Tab Switches"]}),l.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:["Penalty: -",Math.min(t.tabSwitches*5,25)," pts"]})]})]}),t.copyPasteAttempts>0&&l.jsxs("div",{style:{padding:"0.75rem",background:"rgba(245, 158, 11, 0.1)",borderRadius:"0.5rem",display:"flex",alignItems:"center",gap:"0.75rem"},children:[l.jsx("span",{style:{fontSize:"1.1rem"},children:""}),l.jsxs("div",{children:[l.jsxs("div",{style:{fontWeight:600,color:"#f59e0b"},children:[t.copyPasteAttempts," Copy/Paste"]}),l.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:["Penalty: -",Math.min(t.copyPasteAttempts*3,15)," pts"]})]})]}),t.cameraBlockedCount>0&&l.jsxs("div",{style:{padding:"0.75rem",background:"rgba(239, 68, 68, 0.1)",borderRadius:"0.5rem",display:"flex",alignItems:"center",gap:"0.75rem"},children:[l.jsx("span",{style:{fontSize:"1.1rem"},children:""}),l.jsxs("div",{children:[l.jsxs("div",{style:{fontWeight:600,color:"#ef4444"},children:[t.cameraBlockedCount," Camera Blocked"]}),l.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:["Penalty: -",Math.min(t.cameraBlockedCount*10,30)," pts"]})]})]}),t.phoneDetectionCount>0&&l.jsxs("div",{style:{padding:"0.75rem",background:"rgba(239, 68, 68, 0.1)",borderRadius:"0.5rem",display:"flex",alignItems:"center",gap:"0.75rem"},children:[l.jsx("span",{style:{fontSize:"1.1rem"},children:""}),l.jsxs("div",{children:[l.jsxs("div",{style:{fontWeight:600,color:"#ef4444"},children:[t.phoneDetectionCount," Phone Detected"]}),l.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:["Penalty: -",Math.min(t.phoneDetectionCount*15,45)," pts"]})]})]})]}),t.proctoringVideo&&l.jsxs("div",{style:{marginTop:"1rem",padding:"0.75rem",background:"rgba(59, 130, 246, 0.1)",borderRadius:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx("span",{style:{fontSize:"1rem"},children:""}),l.jsxs("span",{style:{fontSize:"0.85rem",color:"#3b82f6"},children:["Proctoring video recorded: ",t.proctoringVideo]})]})]}),l.jsxs("div",{style:{marginBottom:"1.5rem"},children:[l.jsxs("h4",{style:{margin:"0 0 0.75rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx($n,{size:18,color:"#3b82f6"})," AI Feedback"]}),l.jsx("p",{style:{color:"var(--text-muted)",lineHeight:"1.6",background:"var(--bg-tertiary)",padding:"1rem",borderRadius:"0.5rem",border:"1px solid var(--border-color)"},children:t.feedback||"No feedback provided."})]}),t.aiExplanation&&l.jsxs("div",{style:{marginBottom:"1.5rem"},children:[l.jsxs("h4",{style:{margin:"0 0 0.75rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(Ga,{size:18,color:"#8b5cf6"})," AI Explanation (Why this score?)"]}),l.jsx("p",{style:{color:"var(--text-muted)",lineHeight:"1.6",background:"rgba(139, 92, 246, 0.05)",padding:"1rem",borderRadius:"0.5rem",border:"1px solid rgba(139, 92, 246, 0.1)"},children:t.aiExplanation})]}),t.analysis&&l.jsxs("div",{style:{marginBottom:"1.5rem"},children:[l.jsxs("h4",{style:{margin:"0 0 1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(Qf,{size:18,color:"var(--primary)"})," Detailed Analysis"]}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[t.analysis.correctness!==void 0&&l.jsxs("div",{style:{background:"var(--bg-tertiary)",padding:"1rem 1.25rem",borderRadius:"0.75rem",display:"flex",alignItems:"center",gap:"1rem",border:"1px solid rgba(59, 130, 246, 0.2)"},children:[l.jsx("div",{style:{width:"42px",height:"42px",borderRadius:"10px",background:"rgba(59, 130, 246, 0.15)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:l.jsx($n,{size:22,color:"#3b82f6"})}),l.jsxs("div",{style:{flex:1},children:[l.jsx("span",{style:{color:"var(--text-muted)",fontSize:"0.8rem",display:"block",marginBottom:"0.25rem"},children:"Correctness"}),l.jsx("p",{style:{margin:0,fontWeight:700,fontSize:"1.1rem",color:"#3b82f6"},children:t.analysis.correctness})]})]}),t.analysis.efficiency!==void 0&&l.jsxs("div",{style:{background:"var(--bg-tertiary)",padding:"1rem 1.25rem",borderRadius:"0.75rem",display:"flex",alignItems:"center",gap:"1rem",border:"1px solid rgba(16, 185, 129, 0.2)"},children:[l.jsx("div",{style:{width:"42px",height:"42px",borderRadius:"10px",background:"rgba(16, 185, 129, 0.15)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:l.jsx(nd,{size:22,color:"#10b981"})}),l.jsxs("div",{style:{flex:1},children:[l.jsx("span",{style:{color:"var(--text-muted)",fontSize:"0.8rem",display:"block",marginBottom:"0.25rem"},children:"Efficiency"}),l.jsx("p",{style:{margin:0,fontWeight:700,fontSize:"1.1rem",color:"#10b981"},children:t.analysis.efficiency})]})]}),t.analysis.codeStyle!==void 0&&l.jsxs("div",{style:{background:"var(--bg-tertiary)",padding:"1rem 1.25rem",borderRadius:"0.75rem",display:"flex",alignItems:"center",gap:"1rem",border:"1px solid rgba(139, 92, 246, 0.2)"},children:[l.jsx("div",{style:{width:"42px",height:"42px",borderRadius:"10px",background:"rgba(139, 92, 246, 0.15)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:l.jsx(Dr,{size:22,color:"#8b5cf6"})}),l.jsxs("div",{style:{flex:1},children:[l.jsx("span",{style:{color:"var(--text-muted)",fontSize:"0.8rem",display:"block",marginBottom:"0.25rem"},children:"Code Style"}),l.jsx("p",{style:{margin:0,fontWeight:700,fontSize:"1.1rem",color:"#8b5cf6"},children:t.analysis.codeStyle})]})]}),t.analysis.bestPractices!==void 0&&l.jsxs("div",{style:{background:"var(--bg-tertiary)",padding:"1rem 1.25rem",borderRadius:"0.75rem",display:"flex",alignItems:"center",gap:"1rem",border:"1px solid rgba(245, 158, 11, 0.2)"},children:[l.jsx("div",{style:{width:"42px",height:"42px",borderRadius:"10px",background:"rgba(245, 158, 11, 0.15)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:l.jsx(jl,{size:22,color:"#f59e0b"})}),l.jsxs("div",{style:{flex:1},children:[l.jsx("span",{style:{color:"var(--text-muted)",fontSize:"0.8rem",display:"block",marginBottom:"0.25rem"},children:"Best Practices"}),l.jsx("p",{style:{margin:0,fontWeight:700,fontSize:"1.1rem",color:"#f59e0b"},children:t.analysis.bestPractices})]})]})]})]}),l.jsxs("div",{children:[l.jsx("h4",{style:{margin:"0 0 0.75rem"},children:"Submitted Code"}),l.jsx("pre",{style:{background:"#020617",padding:"1.5rem",borderRadius:"0.5rem",overflow:"auto",maxHeight:"300px",fontSize:"0.85rem",fontFamily:"monospace",color:"#e2e8f0",border:"1px solid #334155"},children:t.code})]})]})]})})}function xbt(){const[t,e]=C.useState([]),[n,r]=C.useState(!0),[s,i]=C.useState(!1),[a,o]=C.useState(!1),[c,u]=C.useState(!1),d=C.useRef(null),[f,h]=C.useState("coding"),[m,g]=C.useState(null),[y,x]=C.useState({title:"",type:"Coding",language:"Python",difficulty:"Medium",description:"",sampleInput:"",expectedOutput:"",deadline:"",status:"live",sqlSchema:"",expectedQueryResult:"",enableProctoring:!1,enableVideoAudio:!1,disableCopyPaste:!1,trackTabSwitches:!1,maxTabSwitches:3,enableFaceDetection:!1,detectMultipleFaces:!1,trackFaceLookaway:!1}),v=y.type==="SQL"||y.language==="SQL",w=T=>{const j=T.type==="SQL"||T.language==="SQL";x({title:T.title||"",type:T.type||"Coding",language:T.language||"Python",difficulty:T.difficulty||"Medium",description:T.description||"",sampleInput:j?"":T.sampleInput||"",expectedOutput:j?"":T.expectedOutput||"",sqlSchema:j&&(T.sqlSchema||T.schema)||"",expectedQueryResult:j&&(T.expectedQueryResult||T.expectedResult)||"",deadline:y.deadline,status:T.status||"live",enableProctoring:y.enableProctoring,enableVideoAudio:y.enableVideoAudio,disableCopyPaste:y.disableCopyPaste,trackTabSwitches:y.trackTabSwitches,maxTabSwitches:y.maxTabSwitches,enableFaceDetection:y.enableFaceDetection,detectMultipleFaces:y.detectMultipleFaces,trackFaceLookaway:y.trackFaceLookaway}),o(!1),i(!0)},B=()=>{rt.get(`${Or}/problems?mentorId=${$g}`).then(T=>{e(Array.isArray(T.data)?T.data:T.data?.data||[]),r(!1)}).catch(T=>r(!1))};C.useEffect(()=>{B()},[]);const k=async T=>{T.preventDefault();try{await rt.post(`${Or}/problems`,{...y,mentorId:$g}),i(!1),x({title:"",type:"Coding",language:"Python",difficulty:"Medium",description:"",sampleInput:"",expectedOutput:"",deadline:"",status:"live",sqlSchema:"",expectedQueryResult:"",enableProctoring:!1,enableVideoAudio:!1,disableCopyPaste:!1,trackTabSwitches:!1,maxTabSwitches:3,enableFaceDetection:!1,detectMultipleFaces:!1,trackFaceLookaway:!1}),B()}catch{alert("Error creating global problem")}},E=async T=>{if(window.confirm("Are you sure you want to delete this problem?"))try{await rt.delete(`${Or}/problems/${T}`),B()}catch{alert("Error deleting problem")}},N=async T=>{const j=T.target.files[0];if(j){T.target.value="",u(!0);try{const U=(await j.text()).split(`
`).filter(G=>G.trim()).map(G=>G.trim());if(U.length<2){alert("CSV must have a header row and at least one data row"),u(!1);return}const z=G=>{const ne=[];let K="",H=!1;for(let Q=0;Q<G.length;Q++){const X=G[Q];X==='"'?H=!H:X===","&&!H?(ne.push(K.trim()),K=""):K+=X}return ne.push(K.trim()),ne},ee=z(U[0]).map(G=>G.toLowerCase()),q=U.slice(1);let Z=0;for(const G of q){if(!G.trim())continue;const ne=z(G),K={};ee.forEach((xe,Be)=>{K[xe]=ne[Be]||""});const H=(K.type||"").toUpperCase()==="SQL"||(K.language||"").toUpperCase()==="SQL",Q=()=>K.sample_input||K.sampleinput||K.testinput||K.test_input||K["sample input"]||K["test input"]||"",X=()=>K.expected_output||K.expectedoutput||K.expectedresult||K.expected_result||K["expected output"]||K["expected result"]||"",re=()=>K.sql_schema||K.sqlschema||K.schema||K["sql schema"]||"",le=()=>K.expected_query_result||K.expectedqueryresult||K.expected_result||K.expectedresult||K["expected query result"]||"",he={title:K.title||K.name||"",type:H?"SQL":K.type||"Coding",language:H?"SQL":K.language||"Python",difficulty:(K.difficulty||"Medium").charAt(0).toUpperCase()+(K.difficulty||"Medium").slice(1).toLowerCase(),description:K.description||"",sampleInput:Q(),expectedOutput:X(),sqlSchema:H?re():"",expectedQueryResult:H?le():"",status:K.status||"live",mentorId:$g};!he.title||!he.description||(await rt.post(`${Or}/problems`,he),Z++)}alert(`Successfully created ${Z} problems from CSV!`),B()}catch(P){alert("Error parsing CSV: "+P.message)}u(!1)}};if(n)return l.jsx("div",{className:"loading-spinner"});const O=t.filter(T=>T.language!=="SQL"&&T.type!=="SQL"),F=t.filter(T=>T.language==="SQL"||T.type==="SQL"),D=f==="coding"?O:F;return l.jsxs("div",{className:"animate-fadeIn",children:[l.jsxs("div",{className:"admin-hero-card glass",style:{background:"var(--bg-card)",borderRadius:"1.5rem",padding:"2rem",marginBottom:"2rem",border:"1px solid var(--border-color)",position:"relative",overflow:"hidden"},children:[l.jsx("div",{style:{position:"absolute",top:"-50px",right:"-50px",width:"200px",height:"200px",background:"radial-gradient(circle, var(--primary-alpha) 0%, transparent 70%)",borderRadius:"50%"}}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",position:"relative",zIndex:1},children:[l.jsx("div",{children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"0.5rem"},children:[l.jsx("div",{style:{width:"50px",height:"50px",borderRadius:"1rem",background:"var(--primary)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 8px 32px var(--primary-alpha)"},children:l.jsx(Dr,{size:24,color:"white"})}),l.jsxs("div",{children:[l.jsx("h2",{style:{margin:0,fontSize:"1.75rem",fontWeight:800,color:"var(--text-main)"},children:"Global Problems Management"}),l.jsx("p",{style:{margin:0,color:"var(--text-muted)",fontSize:"0.95rem"},children:"Create coding challenges visible to all students platform-wide"})]})]})}),l.jsxs("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap"},children:[l.jsx("input",{type:"file",accept:".csv",ref:d,style:{display:"none"},onChange:N}),l.jsxs("button",{onClick:()=>d.current?.click(),disabled:c,className:"btn-create-new premium-btn",style:{padding:"0.75rem 1.25rem",background:"linear-gradient(135deg, #10b981, #059669)",borderRadius:"1rem",fontSize:"0.95rem",fontWeight:600,transition:"all 0.3s ease",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(NE,{size:18})," ",c?"Uploading...":"CSV Upload"]}),l.jsxs("button",{onClick:()=>o(!0),className:"btn-create-new premium-btn",style:{padding:"0.75rem 1.25rem",background:"linear-gradient(135deg, #8b5cf6, #6366f1)",borderRadius:"1rem",fontSize:"0.95rem",fontWeight:600,transition:"all 0.3s ease",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(Po,{size:20})," AI Generate"]}),l.jsxs("button",{onClick:()=>i(!0),className:"btn-create-new premium-btn",style:{padding:"0.75rem 1.25rem",background:"var(--primary)",borderRadius:"1rem",fontSize:"0.95rem",fontWeight:600,transition:"all 0.3s ease"},children:[l.jsx(il,{size:20})," Create Manually"]})]})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"1.5rem",marginBottom:"2rem"},children:[l.jsxs("div",{className:"stat-card glass",children:[l.jsx("div",{className:"stat-icon",style:{background:"var(--primary-alpha)",color:"var(--primary)"},children:l.jsx(yh,{size:24})}),l.jsxs("div",{className:"stat-info",children:[l.jsx("span",{className:"stat-label",children:"Total Problems"}),l.jsx("span",{className:"stat-value",children:t.length})]})]}),l.jsxs("div",{className:"stat-card glass",children:[l.jsx("div",{className:"stat-icon",style:{background:"var(--success-alpha)",color:"var(--success)"},children:l.jsx($n,{size:24})}),l.jsxs("div",{className:"stat-info",children:[l.jsx("span",{className:"stat-label",children:"Active Problems"}),l.jsx("span",{className:"stat-value",children:t.filter(T=>T.status==="live").length})]})]}),l.jsxs("div",{className:"stat-card glass",children:[l.jsx("div",{className:"stat-icon",style:{background:"var(--warning-alpha)",color:"var(--warning)"},children:l.jsx(ol,{size:24})}),l.jsxs("div",{className:"stat-info",children:[l.jsx("span",{className:"stat-label",children:"Total Solutions"}),l.jsx("span",{className:"stat-value",children:t.reduce((T,j)=>T+(j.completedBy?.length||0),0)})]})]})]}),l.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"1.5rem",padding:"0.5rem",background:"var(--bg-card)",borderRadius:"12px",width:"fit-content"},children:[l.jsxs("button",{onClick:()=>h("coding"),style:{padding:"0.75rem 1.5rem",borderRadius:"8px",border:"none",cursor:"pointer",fontWeight:600,fontSize:"0.9rem",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.2s ease",background:f==="coding"?"var(--primary)":"transparent",color:f==="coding"?"white":"var(--text-muted)"},children:[l.jsx(Dr,{size:18}),"Coding Problems",l.jsx("span",{style:{background:f==="coding"?"rgba(255,255,255,0.2)":"var(--bg-dark)",padding:"2px 8px",borderRadius:"12px",fontSize:"0.75rem"},children:O.length})]}),l.jsxs("button",{onClick:()=>h("sql"),style:{padding:"0.75rem 1.5rem",borderRadius:"8px",border:"none",cursor:"pointer",fontWeight:600,fontSize:"0.9rem",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.2s ease",background:f==="sql"?"linear-gradient(135deg, #06b6d4, #0891b2)":"transparent",color:f==="sql"?"white":"var(--text-muted)"},children:[l.jsx(Oa,{size:18}),"SQL Problems",l.jsx("span",{style:{background:f==="sql"?"rgba(255,255,255,0.2)":"var(--bg-dark)",padding:"2px 8px",borderRadius:"12px",fontSize:"0.75rem"},children:F.length})]})]}),l.jsx("div",{className:"problem-list-grid",style:{gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))"},children:D.length===0?l.jsxs("div",{style:{gridColumn:"1 / -1",textAlign:"center",padding:"4rem",opacity:.5},children:[l.jsx(Dr,{size:64,style:{marginBottom:"1rem",opacity:.3}}),l.jsxs("h3",{children:["No ",f==="sql"?"SQL":"Coding"," Problems Yet"]}),l.jsxs("p",{children:["Create your first ",f==="sql"?"SQL":"coding"," problem!"]})]}):D.map(T=>l.jsxs("div",{className:"problem-card card glass",style:{background:"var(--bg-secondary)",border:"1px solid var(--border-color)"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[l.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",flexWrap:"wrap"},children:[l.jsx("span",{style:{fontSize:"0.65rem",padding:"3px 8px",borderRadius:"4px",background:"linear-gradient(135deg, rgba(16, 185, 129, 0.2), rgba(6, 182, 212, 0.2))",color:"#10b981",fontWeight:700},children:"GLOBAL"}),l.jsx("span",{className:"problem-badge",children:T.type?.toUpperCase()}),l.jsx("span",{className:`status-badge ${T.status||"live"}`,style:{fontSize:"0.65rem"},children:T.status||"Active"}),T.proctoring?.enabled&&l.jsxs("span",{style:{fontSize:"0.6rem",padding:"3px 8px",borderRadius:"4px",background:"rgba(239, 68, 68, 0.15)",color:"#ef4444",fontWeight:700,display:"flex",alignItems:"center",gap:"4px"},children:[l.jsx(Ui,{size:10})," PROCTORED"]})]}),l.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-muted)",background:"rgba(59, 130, 246, 0.1)",padding:"2px 8px",borderRadius:"4px"},children:T.language})]}),l.jsx("h3",{style:{margin:"0.75rem 0",fontSize:"1.2rem"},children:T.title}),l.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-muted)",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",marginBottom:"1rem"},children:T.description}),T.deadline&&l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",fontSize:"0.75rem",color:"#f87171",marginBottom:"1rem",background:"rgba(248, 113, 113, 0.05)",padding:"4px 8px",borderRadius:"4px",width:"fit-content"},children:[l.jsx(vs,{size:12})," Deadline: ",new Date(T.deadline).toLocaleDateString()]}),l.jsxs("div",{style:{marginTop:"auto",display:"flex",justifyContent:"space-between",alignItems:"center",paddingTop:"1rem",borderTop:"1px solid rgba(255,255,255,0.05)"},children:[l.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[l.jsx("span",{style:{fontSize:"0.75rem",color:T.difficulty==="Easy"?"#10b981":T.difficulty==="Medium"?"#f59e0b":"#ef4444",fontWeight:700},children:T.difficulty}),l.jsxs("span",{style:{fontSize:"0.7rem",color:"var(--text-muted)"},children:[" ",T.completedBy?.length||0," solved"]})]}),l.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[l.jsxs("button",{onClick:()=>g(T),disabled:T.language==="SQL"||T.type==="SQL",style:{background:T.language==="SQL"||T.type==="SQL"?"rgba(100, 116, 139, 0.1)":"rgba(16, 185, 129, 0.1)",border:"none",color:T.language==="SQL"||T.type==="SQL"?"#64748b":"#10b981",padding:"0.5rem 0.75rem",borderRadius:"0.5rem",cursor:T.language==="SQL"||T.type==="SQL"?"not-allowed":"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"4px",opacity:T.language==="SQL"||T.type==="SQL"?.5:1},title:T.language==="SQL"||T.type==="SQL"?"Test cases not available for SQL problems":"Manage Test Cases",children:[l.jsx(Hd,{size:14})," Tests"]}),l.jsx("button",{onClick:()=>E(T.id),style:{background:"rgba(239, 68, 68, 0.1)",border:"none",color:"#ef4444",padding:"0.5rem 1rem",borderRadius:"0.5rem",cursor:"pointer",fontSize:"0.8rem"},children:"Delete"})]})]})]},T.id))}),s&&l.jsx("div",{className:"modal-overlay",onClick:()=>i(!1),children:l.jsxs("div",{className:"modal-content",onClick:T=>T.stopPropagation(),style:{maxWidth:"750px"},children:[l.jsxs("div",{className:"modal-header",children:[l.jsxs("div",{className:"modal-title-with-icon",children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",background:"linear-gradient(135deg, #10b981, #06b6d4)",display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx(Dr,{size:20,color:"white"})}),l.jsx("h2",{children:"Create Global Coding Problem"})]}),l.jsx("button",{onClick:()=>i(!1),className:"modal-close",children:l.jsx(xi,{size:20})})]}),l.jsx("div",{className:"modal-body premium-form",children:l.jsxs("form",{onSubmit:k,children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1.5fr 1fr",gap:"1.5rem",marginBottom:"1.5rem"},children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Problem Title"}),l.jsx("input",{type:"text",placeholder:"e.g., Two Sum Problem",value:y.title,onChange:T=>x({...y,title:T.target.value}),required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Problem Type"}),l.jsxs("select",{value:y.type,onChange:T=>{const j=T.target.value;x({...y,type:j,language:j==="SQL"?"SQL":y.language==="SQL"?"Python":y.language})},children:[l.jsx("option",{value:"Coding",children:"Coding"}),l.jsx("option",{value:"SQL",children:"SQL"}),l.jsx("option",{value:"Algorithm",children:"Algorithm"})]})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"1.5rem",marginBottom:"1.5rem"},children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Language"}),l.jsxs("select",{value:y.language,onChange:T=>{const j=T.target.value;x({...y,language:j,type:j==="SQL"?"SQL":y.type==="SQL"?"Coding":y.type})},children:[l.jsx("option",{value:"Python",children:"Python"}),l.jsx("option",{value:"JavaScript",children:"JavaScript"}),l.jsx("option",{value:"Java",children:"Java"}),l.jsx("option",{value:"C++",children:"C++"}),l.jsx("option",{value:"SQL",children:"SQL"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Difficulty"}),l.jsxs("select",{value:y.difficulty,onChange:T=>x({...y,difficulty:T.target.value}),children:[l.jsx("option",{value:"Easy",children:"Easy"}),l.jsx("option",{value:"Medium",children:"Medium"}),l.jsx("option",{value:"Hard",children:"Hard"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Status"}),l.jsxs("select",{value:y.status,onChange:T=>x({...y,status:T.target.value}),children:[l.jsx("option",{value:"live",children:"Live"}),l.jsx("option",{value:"draft",children:"Draft"}),l.jsx("option",{value:"closed",children:"Closed"})]})]})]}),l.jsxs("div",{className:"form-group",style:{marginBottom:"1.5rem"},children:[l.jsx("label",{className:"form-label",children:"Problem Description"}),l.jsx("textarea",{rows:"5",placeholder:"Describe the problem in detail...",value:y.description,onChange:T=>x({...y,description:T.target.value}),required:!0})]}),v?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"form-group",style:{marginBottom:"1.5rem"},children:[l.jsxs("label",{className:"form-label",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(Dr,{size:14,color:"#06b6d4"})," Database Schema (CREATE TABLE statements)"]}),l.jsx("textarea",{rows:"6",placeholder:`CREATE TABLE employees (
  id INT PRIMARY KEY,
  name VARCHAR(100),
  department VARCHAR(50),
  salary DECIMAL(10,2)
);

INSERT INTO employees VALUES (1, 'John', 'IT', 50000);`,value:y.sqlSchema,onChange:T=>x({...y,sqlSchema:T.target.value}),style:{fontFamily:"monospace",fontSize:"0.85rem"}}),l.jsx("small",{style:{color:"var(--text-muted)",fontSize:"0.75rem"},children:"Include CREATE TABLE and INSERT statements to set up the test database"})]}),l.jsxs("div",{className:"form-group",style:{marginBottom:"1.5rem"},children:[l.jsxs("label",{className:"form-label",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx($n,{size:14,color:"#10b981"})," Expected Query Result"]}),l.jsx("textarea",{rows:"4",placeholder:`id | name | salary
1  | John | 50000
2  | Jane | 60000`,value:y.expectedQueryResult,onChange:T=>x({...y,expectedQueryResult:T.target.value}),style:{fontFamily:"monospace",fontSize:"0.85rem"}}),l.jsx("small",{style:{color:"var(--text-muted)",fontSize:"0.75rem"},children:"The expected output when the correct SQL query is executed"})]})]}):l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem",marginBottom:"1.5rem"},children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Sample Input"}),l.jsx("input",{type:"text",placeholder:"e.g., [2, 7, 11, 15], target = 9",value:y.sampleInput,onChange:T=>x({...y,sampleInput:T.target.value})})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Expected Output"}),l.jsx("input",{type:"text",placeholder:"e.g., [0, 1]",value:y.expectedOutput,onChange:T=>x({...y,expectedOutput:T.target.value})})]})]}),l.jsxs("div",{className:"form-group",style:{marginBottom:"1.5rem"},children:[l.jsx("label",{className:"form-label",children:"Deadline (Optional)"}),l.jsx("input",{type:"date",value:y.deadline,onChange:T=>x({...y,deadline:T.target.value})})]}),l.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1.25rem",background:"rgba(239, 68, 68, 0.05)",borderRadius:"1rem",border:"1px solid rgba(239, 68, 68, 0.15)"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1rem"},children:[l.jsx(_s,{size:20,color:"#ef4444"}),l.jsx("h4",{style:{margin:0,fontSize:"1rem",fontWeight:600,color:"#ef4444"},children:"Proctoring Settings"})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem"},children:[l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.75rem",cursor:"pointer",padding:"0.75rem",background:y.enableProctoring?"rgba(239, 68, 68, 0.1)":"transparent",borderRadius:"0.75rem",transition:"all 0.2s"},children:[l.jsx("input",{type:"checkbox",checked:y.enableProctoring,onChange:T=>x({...y,enableProctoring:T.target.checked}),style:{width:"18px",height:"18px",accentColor:"#ef4444"}}),l.jsx("span",{style:{fontSize:"0.9rem"},children:"Enable Proctoring"})]}),l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.75rem",cursor:y.enableProctoring?"pointer":"not-allowed",opacity:y.enableProctoring?1:.5,padding:"0.75rem",background:y.enableVideoAudio?"rgba(139, 92, 246, 0.1)":"transparent",borderRadius:"0.75rem",transition:"all 0.2s"},children:[l.jsx("input",{type:"checkbox",checked:y.enableVideoAudio,onChange:T=>x({...y,enableVideoAudio:T.target.checked}),disabled:!y.enableProctoring,style:{width:"18px",height:"18px",accentColor:"#8b5cf6"}}),l.jsx("span",{style:{fontSize:"0.9rem"},children:" Video/Audio Monitoring"})]}),l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.75rem",cursor:y.enableProctoring?"pointer":"not-allowed",opacity:y.enableProctoring?1:.5,padding:"0.75rem",background:y.disableCopyPaste?"rgba(245, 158, 11, 0.1)":"transparent",borderRadius:"0.75rem",transition:"all 0.2s"},children:[l.jsx("input",{type:"checkbox",checked:y.disableCopyPaste,onChange:T=>x({...y,disableCopyPaste:T.target.checked}),disabled:!y.enableProctoring,style:{width:"18px",height:"18px",accentColor:"#f59e0b"}}),l.jsx("span",{style:{fontSize:"0.9rem"},children:" Disable Copy/Paste"})]}),l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.75rem",cursor:y.enableProctoring?"pointer":"not-allowed",opacity:y.enableProctoring?1:.5,padding:"0.75rem",background:y.trackTabSwitches?"rgba(16, 185, 129, 0.1)":"transparent",borderRadius:"0.75rem",transition:"all 0.2s"},children:[l.jsx("input",{type:"checkbox",checked:y.trackTabSwitches,onChange:T=>x({...y,trackTabSwitches:T.target.checked}),disabled:!y.enableProctoring,style:{width:"18px",height:"18px",accentColor:"#10b981"}}),l.jsx("span",{style:{fontSize:"0.9rem"},children:" Track Tab Switches"})]}),l.jsx("hr",{style:{margin:"0.5rem 0",borderColor:"var(--border-color)",opacity:.3}}),l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.75rem",cursor:y.enableProctoring?"pointer":"not-allowed",opacity:y.enableProctoring?1:.5,padding:"0.75rem",background:y.enableFaceDetection?"rgba(236, 72, 153, 0.1)":"transparent",borderRadius:"0.75rem",transition:"all 0.2s"},children:[l.jsx("input",{type:"checkbox",checked:y.enableFaceDetection,onChange:T=>x({...y,enableFaceDetection:T.target.checked}),disabled:!y.enableProctoring,style:{width:"18px",height:"18px",accentColor:"#ec4899"}}),l.jsx("span",{style:{fontSize:"0.9rem"},children:" Enable Face Detection"})]}),l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.75rem",cursor:y.enableProctoring?"pointer":"not-allowed",opacity:y.enableProctoring?1:.5,padding:"0.75rem",background:y.detectMultipleFaces?"rgba(239, 68, 68, 0.1)":"transparent",borderRadius:"0.75rem",transition:"all 0.2s"},children:[l.jsx("input",{type:"checkbox",checked:y.detectMultipleFaces,onChange:T=>x({...y,detectMultipleFaces:T.target.checked}),disabled:!y.enableProctoring,style:{width:"18px",height:"18px",accentColor:"#ef4444"}}),l.jsx("span",{style:{fontSize:"0.9rem"},children:" Detect Multiple Faces (Cheating)"})]}),l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.75rem",cursor:y.enableProctoring?"pointer":"not-allowed",opacity:y.enableProctoring?1:.5,padding:"0.75rem",background:y.trackFaceLookaway?"rgba(59, 130, 246, 0.1)":"transparent",borderRadius:"0.75rem",transition:"all 0.2s"},children:[l.jsx("input",{type:"checkbox",checked:y.trackFaceLookaway,onChange:T=>x({...y,trackFaceLookaway:T.target.checked}),disabled:!y.enableProctoring,style:{width:"18px",height:"18px",accentColor:"#3b82f6"}}),l.jsx("span",{style:{fontSize:"0.9rem"},children:" Track Face Lookaway"})]})]}),y.enableProctoring&&y.trackTabSwitches&&l.jsxs("div",{style:{marginTop:"1rem",display:"flex",alignItems:"center",gap:"1rem"},children:[l.jsx("label",{style:{fontSize:"0.9rem",color:"var(--text-muted)"},children:"Max Tab Switches:"}),l.jsx("input",{type:"number",min:"1",max:"10",value:y.maxTabSwitches,onChange:T=>x({...y,maxTabSwitches:parseInt(T.target.value)||3}),style:{width:"80px",padding:"0.5rem",borderRadius:"0.5rem",border:"1px solid var(--border-color)",background:"var(--bg-dark)",color:"var(--text-main)"}})]})]}),l.jsxs("div",{className:"form-actions",children:[l.jsx("button",{type:"button",className:"btn-reset",onClick:()=>i(!1),children:"Cancel"}),l.jsxs("button",{type:"submit",className:"btn-create-new",style:{background:"linear-gradient(135deg, #10b981, #06b6d4)"},children:[l.jsx(il,{size:18})," Create Global Problem"]})]})]})})]})}),l.jsx(nhe,{context:"problem",isOpen:a,onClose:()=>o(!1),onGenerate:w}),m&&l.jsx(she,{problemId:m.id,problemTitle:m.title,onClose:()=>g(null)})]})}const _v=[{id:"aptitude",label:"Aptitude",icon:""},{id:"verbal",label:"Verbal",icon:""},{id:"logical",label:"Logical",icon:""},{id:"coding",label:"Coding",icon:""},{id:"sql",label:"SQL",icon:""}];function bbt(){const[t,e]=C.useState([]),[n,r]=C.useState(!0),[s,i]=C.useState(!1),[a,o]=C.useState(1),[c,u]=C.useState(null),[d,f]=C.useState("aptitude"),[h,m]=C.useState(null),[g,y]=C.useState({title:"",type:"comprehensive",difficulty:"Medium",duration:180,passingScore:60,description:"",startTime:"",deadline:"",maxAttempts:1,maxTabSwitches:3,status:"live",sectionConfig:{sections:[{id:"aptitude",enabled:!0,order:1,questionsCount:20,timeMinutes:30},{id:"verbal",enabled:!0,order:2,questionsCount:25,timeMinutes:25},{id:"logical",enabled:!0,order:3,questionsCount:20,timeMinutes:20},{id:"coding",enabled:!0,order:4,questionsCount:2,timeMinutes:50},{id:"sql",enabled:!0,order:5,questionsCount:1,timeMinutes:25}],totalDurationMinutes:180,sectionTimeMode:"fixed"}}),[x,v]=C.useState({aptitude:[],verbal:[],logical:[],coding:[],sql:[]}),[w,B]=C.useState({question:"",options:["","","",""],correctAnswer:0,category:"general",explanation:""}),[k,E]=C.useState({question:"",starterCode:"",language:"Python",testCases:[{input:"",expected_output:""}]}),[N,O]=C.useState({question:"",schema:"",expectedOutput:""}),[F,D]=C.useState([]),[T,j]=C.useState({topic:"",difficulty:"Medium",count:5}),[P,U]=C.useState([]),[z,ee]=C.useState(!1),[q,Z]=C.useState({enabled:!0,trackTabSwitches:!0,maxTabSwitches:3,enableVideoAudio:!0,disableCopyPaste:!0,detectCameraBlocking:!0,detectPhoneUsage:!0,enforceFullscreen:!0,autoSubmitOnViolation:!1}),[G,ne]=C.useState({topic:"",difficulty:"Medium",language:"Python"}),[K,H]=C.useState({topic:"",difficulty:"Medium"}),[Q,X]=C.useState([]),[re,le]=C.useState([]),[he,xe]=C.useState(!1),[Be,me]=C.useState(!1),[ve,Ee]=C.useState(!0),[ye,Ue]=C.useState(!1),at=C.useRef(null),ie=async ke=>{const $e=ke.target.files[0];if($e){Ue(!0);try{const Ct=(await $e.text()).split(`
`).map(pr=>pr.trim()).filter(Boolean);if(Ct.length<2){alert("CSV must have header + at least one row");return}const _t=Ct[0].split(",").map(pr=>pr.trim().toLowerCase().replace(/['"]/g,"")),Lt=[];for(let pr=1;pr<Ct.length;pr++){const Gr=Ct[pr].match(/(".*?"|[^,]+)/g)?.map(cn=>cn.trim().replace(/^"|"$/g,""))||[],Hn={};_t.forEach((cn,Ki)=>Hn[cn]=Gr[Ki]||"");const Fs=(Hn.section||"aptitude").toLowerCase();["aptitude","verbal","logical"].includes(Fs)&&Lt.push({section:Fs,question:Hn.question||"",options:[Hn.option1||Hn.option_1||"",Hn.option2||Hn.option_2||"",Hn.option3||Hn.option_3||"",Hn.option4||Hn.option_4||""],correctAnswer:parseInt(Hn.correctanswer||Hn.correct_answer||Hn.answer||"0"),category:Hn.category||"general",explanation:Hn.explanation||""})}if(Lt.length===0){alert("No valid MCQ rows found. CSV needs: section,question,option1,option2,option3,option4,correctAnswer"),Ue(!1);return}const Ut={title:$e.name.replace(".csv","")+" - CSV Import",type:"comprehensive",difficulty:"Medium",duration:180,passingScore:60,status:"draft",createdBy:$g,sectionConfig:{sections:[{id:"aptitude",enabled:!0,order:1,questionsCount:Lt.filter(pr=>pr.section==="aptitude").length,timeMinutes:30},{id:"verbal",enabled:!0,order:2,questionsCount:Lt.filter(pr=>pr.section==="verbal").length,timeMinutes:25},{id:"logical",enabled:!0,order:3,questionsCount:Lt.filter(pr=>pr.section==="logical").length,timeMinutes:20},{id:"coding",enabled:!1,order:4,questionsCount:0,timeMinutes:0},{id:"sql",enabled:!1,order:5,questionsCount:0,timeMinutes:0}],totalDurationMinutes:75,sectionTimeMode:"fixed"}},dt=(await rt.post(`${Or}/global-tests`,Ut)).data.id;for(const pr of["aptitude","verbal","logical"]){const Gr=Lt.filter(Hn=>Hn.section===pr);Gr.length!==0&&await rt.post(`${Or}/global-tests/${dt}/questions`,{section:pr,questions:Gr})}alert(`Created test with ${Lt.length} questions from CSV!`),Le()}catch(yt){alert("CSV upload failed: "+(yt.response?.data?.error||yt.message))}finally{Ue(!1),ke.target.value=""}}},Le=async()=>{try{const ke=await rt.get(`${Or}/global-tests`);e(Array.isArray(ke.data)?ke.data:[])}catch(ke){ke.response?.status===503?e([]):console.error(ke)}finally{r(!1)}},tt=async()=>{try{const ke=await rt.get(`${Or}/global-test-submissions`);D(Array.isArray(ke.data)?ke.data:[])}catch{D([])}};C.useEffect(()=>{Le(),tt()},[]);const It=(ke,$e,yt)=>{y(Ct=>({...Ct,sectionConfig:{...Ct.sectionConfig,sections:Ct.sectionConfig.sections.map(_t=>_t.id===ke?{..._t,[$e]:yt}:_t)}}))},_e=(ke,$e)=>{It(ke,"enabled",$e)},At=(ke,$e)=>{v(yt=>({...yt,[ke]:(yt[ke]||[]).filter((Ct,_t)=>_t!==$e)}))},ot=(ke,$e)=>ke==="coding"?$e.map(yt=>({questionType:"coding",question:yt.question,starterCode:yt.starterCode||"",testCases:yt.testCases||{language:"Python",cases:[]},points:yt.points??10})):ke==="sql"?$e.map(yt=>({questionType:"sql",question:yt.question,starterCode:yt.starterCode||"",testCases:yt.testCases||{expectedOutput:""},points:yt.points??10})):$e.map(yt=>({questionType:"mcq",question:yt.question,options:yt.options||[yt.option_1,yt.option_2,yt.option_3,yt.option_4].filter(Boolean),correctAnswer:yt.correctAnswer??yt.options?.[yt.correctAnswer],category:yt.category||"general",explanation:yt.explanation||""})),$t=async()=>{if(!G.topic.trim()){alert("Please enter a topic for the coding problem");return}xe(!0);try{const ke=await rt.post(`${Or}/ai/generate-coding-problem`,{topic:G.topic,difficulty:G.difficulty,language:G.language});ke.data.problem&&X([ke.data.problem])}catch(ke){console.error("AI Generation error:",ke),X([{question:`Write a ${G.language} program to solve: ${G.topic}`,starterCode:G.language==="Python"?`# Write your solution here
def solution():
    pass

# Test your code
solution()`:"// Write your solution here",testCases:[{input:"",expected_output:""}],language:G.language,difficulty:G.difficulty}])}finally{xe(!1)}},kt=()=>{if(Q.length===0)return;const ke=Q.map($e=>({questionType:"coding",question:$e.question,starterCode:$e.starterCode||"",solutionCode:$e.solutionCode||"",language:$e.language||G.language,testCases:{language:$e.language||G.language,cases:Array.isArray($e.testCases)?$e.testCases:$e.testCases?.cases||[]},hints:$e.hints||[],explanation:$e.explanation||"",points:10}));v($e=>({...$e,coding:[...$e.coding||[],...ke]})),X([]),ne({topic:"",difficulty:"Medium",language:"Python"})},Ht=async()=>{if(!K.topic.trim()){alert("Please enter a topic for the SQL problem");return}me(!0);try{const ke=await rt.post(`${Or}/ai/generate-sql-problem`,{topic:K.topic,difficulty:K.difficulty});ke.data.problem&&le([ke.data.problem])}catch(ke){console.error("AI Generation error:",ke),le([{question:`Write a SQL query to: ${K.topic}`,schema:`-- Sample schema
CREATE TABLE employees (
    id INTEGER PRIMARY KEY,
    name TEXT,
    department TEXT,
    salary INTEGER
);

INSERT INTO employees VALUES (1, 'John', 'Engineering', 50000);`,expectedOutput:`id|name|department|salary
1|John|Engineering|50000`,difficulty:K.difficulty}])}finally{me(!1)}},Sn=()=>{if(re.length===0)return;const ke=re.map($e=>({questionType:"sql",question:$e.question,starterCode:`${$e.schema||""}

-- Your query here:`,testCases:{expectedOutput:$e.expectedOutput||""},solutionQuery:$e.solutionQuery||"",hints:$e.hints||[],explanation:$e.explanation||"",points:10}));v($e=>({...$e,sql:[...$e.sql||[],...ke]})),le([]),H({topic:"",difficulty:"Medium"})},zt=async()=>{if(!g.title.trim()){alert("Enter test title");return}if(Object.values(x).reduce(($e,yt)=>$e+yt.length,0)===0){alert("Add questions in sections");return}try{let $e=null;if(g.startTime){const Lt=new Date(g.startTime);isNaN(Lt.getTime())||($e=Lt.toISOString())}let yt=null;if(g.deadline){const Lt=new Date(g.deadline);isNaN(Lt.getTime())||(yt=Lt.toISOString())}const Ct={...g,startTime:$e,deadline:yt,createdBy:c?void 0:$g,proctoring:q.enabled?{enabled:!0,trackTabSwitches:q.trackTabSwitches,maxTabSwitches:q.maxTabSwitches,enableVideoAudio:q.enableVideoAudio,disableCopyPaste:q.disableCopyPaste,detectCameraBlocking:q.detectCameraBlocking,detectPhoneUsage:q.detectPhoneUsage,enforceFullscreen:q.enforceFullscreen,autoSubmitOnViolation:q.autoSubmitOnViolation}:{enabled:!1},maxTabSwitches:q.enabled&&q.trackTabSwitches?q.maxTabSwitches:0};let _t=c;c?(await rt.put(`${Or}/global-tests/${c}`,{...Ct,createdBy:void 0}),await rt.delete(`${Or}/global-tests/${c}/questions`)):_t=(await rt.post(`${Or}/global-tests`,Ct)).data.id;for(const Lt of _v){const Ut=x[Lt.id]||[];if(Ut.length===0)continue;const Jt=ot(Lt.id,Ut);await rt.post(`${Or}/global-tests/${_t}/questions`,{section:Lt.id,questions:Jt})}i(!1),o(1),u(null),v({aptitude:[],verbal:[],logical:[],coding:[],sql:[]}),y({title:"",type:"comprehensive",difficulty:"Medium",duration:180,passingScore:60,description:"",startTime:"",deadline:"",maxAttempts:1,maxTabSwitches:3,status:"live",sectionConfig:g.sectionConfig}),Le()}catch($e){alert($e.response?.data?.error||"Failed to save test")}},en=async ke=>{if(window.confirm("Delete this global test? This cannot be undone."))try{await rt.delete(`${Or}/global-tests/${ke}`),Le()}catch($e){alert($e.response?.data?.error||"Delete failed")}},fn=async(ke,$e)=>{try{await rt.put(`${Or}/global-tests/${ke}`,{status:$e}),Le()}catch(yt){alert(yt.response?.data?.error||"Status update failed")}},Qt=async ke=>{try{const[$e,yt]=await Promise.all([rt.get(`${Or}/global-tests/${ke.id}`),rt.get(`${Or}/global-tests/${ke.id}/questions`)]),Ct=$e.data,_t=Array.isArray(yt.data)?yt.data:[],Lt={aptitude:[],verbal:[],logical:[],coding:[],sql:[]};_t.forEach(Ut=>{const Jt=Ut.options||[];let dt=Ut.correctAnswer;if(Ut.questionType!=="coding"&&Ut.questionType!=="sql")if(typeof dt=="number"&&dt>=0&&dt<4)dt=dt;else if(typeof dt=="string"&&Jt.length){const Gr=Jt.indexOf(dt);dt=Gr>=0?Gr:/^[0-3]$/.test(dt)?parseInt(dt,10):0}else dt=0;const pr={id:Ut.id,question:Ut.question,options:Jt.length?Jt:["","","",""],correctAnswer:dt,category:Ut.category,explanation:Ut.explanation,questionType:Ut.questionType||"mcq",starterCode:Ut.starterCode,solutionCode:Ut.solutionCode,testCases:Ut.testCases,points:Ut.points};Lt[Ut.section]&&Lt[Ut.section].push(pr)}),Ee((Ct.maxTabSwitches??0)>0),y({title:Ct.title,type:Ct.type||"comprehensive",difficulty:Ct.difficulty||"Medium",duration:Ct.duration??180,passingScore:Ct.passingScore??60,description:Ct.description||"",startTime:Ct.startTime?Ct.startTime.slice(0,16):"",deadline:Ct.deadline?Ct.deadline.slice(0,16):"",maxAttempts:Ct.maxAttempts??1,maxTabSwitches:Ct.maxTabSwitches??3,status:Ct.status||"draft",sectionConfig:Ct.sectionConfig||g.sectionConfig}),v(Lt),u(Ct.id),o(1),i(!0)}catch($e){alert($e.response?.data?.error||"Failed to load test")}},rn=async()=>{ee(!0);try{const ke=await rt.post(`${Or}/ai/generate-aptitude`,T);ke.data.questions&&U(ke.data.questions)}catch{alert("Error generating questions")}finally{ee(!1)}},Yt=()=>{P.length!==0&&(v(ke=>({...ke,[d]:[...ke[d]||[],...P.map($e=>({question:$e.question,options:$e.options||["","","",""],correctAnswer:$e.correctAnswer??0,category:$e.category||"general",explanation:$e.explanation||""}))]})),U([]))},sn=(ke,$e,yt,Ct)=>{v(_t=>{const Lt=[..._t[ke]||[]];return Lt[$e]?(yt==="options"?Lt[$e]={...Lt[$e],options:Ct}:yt==="correctAnswer"?Lt[$e]={...Lt[$e],correctAnswer:Ct}:Lt[$e]={...Lt[$e],[yt]:Ct},{..._t,[ke]:Lt}):_t})},On=()=>{v(ke=>({...ke,[d]:[...ke[d]||[],{question:"",options:["","","",""],correctAnswer:0,category:"general",explanation:""}]}))},Ot=()=>{if(!k.question.trim()){alert("Enter problem description");return}const ke=k.testCases.filter($e=>$e.input!==void 0||$e.expected_output);if(ke.length===0||!ke.some($e=>($e.expected_output||"").trim())){alert("Add at least one test case with expected output");return}v($e=>({...$e,coding:[...$e.coding||[],{questionType:"coding",question:k.question,starterCode:k.starterCode,testCases:{language:k.language,cases:k.testCases.map(yt=>({input:yt.input||"",expected_output:yt.expected_output||""}))},points:10}]})),E({question:"",starterCode:"",language:"Python",testCases:[{input:"",expected_output:""}]})},xn=()=>{if(!N.question.trim()){alert("Enter question text");return}if(!N.schema.trim()){alert("Enter database schema");return}if(!N.expectedOutput.trim()){alert("Enter expected query result");return}v(ke=>({...ke,sql:[...ke.sql||[],{questionType:"sql",question:N.question,starterCode:N.schema,testCases:{expectedOutput:N.expectedOutput},points:10}]})),O({question:"",schema:"",expectedOutput:""})};return n?l.jsx("div",{className:"loading-spinner"}):l.jsxs("div",{className:"animate-fadeIn",children:[l.jsxs("div",{className:"admin-hero-card glass",style:{background:"var(--bg-card)",borderRadius:"1.5rem",padding:"2rem",marginBottom:"2rem",border:"1px solid var(--border-color)",position:"relative",overflow:"hidden"},children:[l.jsx("div",{style:{position:"absolute",top:"-50px",right:"-50px",width:"200px",height:"200px",background:"radial-gradient(circle, var(--primary-alpha) 0%, transparent 70%)",borderRadius:"50%"}}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",position:"relative",zIndex:1},children:[l.jsx("div",{children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"0.5rem"},children:[l.jsx("div",{style:{width:"50px",height:"50px",borderRadius:"1rem",background:"var(--primary)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 8px 32px var(--primary-alpha)"},children:l.jsx(Hd,{size:24,color:"white"})}),l.jsxs("div",{children:[l.jsx("h2",{style:{margin:0,fontSize:"1.75rem",fontWeight:800,color:"var(--text-main)"},children:"Global Complete Tests"}),l.jsx("p",{style:{margin:0,color:"var(--text-muted)",fontSize:"0.95rem"},children:"Aptitude, Verbal, Logical, Coding, SQL  create and manage"})]})]})}),l.jsxs("div",{style:{display:"flex",gap:"0.75rem",flexWrap:"wrap"},children:[l.jsx("input",{type:"file",accept:".csv",ref:at,style:{display:"none"},onChange:ie}),l.jsxs("button",{onClick:()=>at.current?.click(),disabled:ye,className:"btn-create-new premium-btn",style:{padding:"0.75rem 1.25rem",background:"linear-gradient(135deg, #10b981, #059669)",borderRadius:"1rem",fontSize:"0.95rem",fontWeight:600,display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(NE,{size:18})," ",ye?"Uploading...":"CSV Upload"]}),l.jsxs("button",{type:"button",onClick:()=>{i(!0),o(1),u(null),v({aptitude:[],verbal:[],logical:[],coding:[],sql:[]}),U([]),j({topic:"",difficulty:"Medium",count:5})},className:"btn-create-new premium-btn",style:{padding:"0.75rem 1.25rem",background:"var(--primary)",borderRadius:"1rem",fontSize:"0.95rem",fontWeight:600,display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(il,{size:20})," Create Global Test"]})]})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"1.5rem",marginBottom:"2rem"},children:[l.jsxs("div",{className:"stat-card glass",children:[l.jsx("div",{className:"stat-icon",style:{background:"var(--primary-alpha)",color:"var(--primary)"},children:l.jsx(Hd,{size:24})}),l.jsxs("div",{className:"stat-info",children:[l.jsx("span",{className:"stat-label",children:"Total Tests"}),l.jsx("span",{className:"stat-value",children:t.length})]})]}),l.jsxs("div",{className:"stat-card glass",children:[l.jsx("div",{className:"stat-icon",style:{background:"var(--success-alpha)",color:"var(--success)"},children:l.jsx($n,{size:24})}),l.jsxs("div",{className:"stat-info",children:[l.jsx("span",{className:"stat-label",children:"Live"}),l.jsx("span",{className:"stat-value",children:t.filter(ke=>ke.status==="live").length})]})]}),l.jsxs("div",{className:"stat-card glass",children:[l.jsx("div",{className:"stat-icon",style:{background:"var(--warning-alpha)",color:"var(--warning)"},children:l.jsx(kr,{size:24})}),l.jsxs("div",{className:"stat-info",children:[l.jsx("span",{className:"stat-label",children:"Submissions"}),l.jsx("span",{className:"stat-value",children:F.length})]})]})]}),t.length===0&&!n?l.jsxs("div",{style:{textAlign:"center",padding:"4rem",opacity:.7},children:[l.jsx(Hd,{size:64,style:{marginBottom:"1rem",opacity:.3}}),l.jsx("h3",{children:"No global tests yet"}),l.jsx("p",{style:{color:"var(--text-muted)"},children:"Create one to add Aptitude, Verbal, Logical, Coding, and SQL sections."}),l.jsxs("p",{style:{fontSize:"0.9rem",color:"var(--text-muted)"},children:["If you see 503, run: ",l.jsx("code",{children:"node migrate_global_tests.js"})]})]}):l.jsx("div",{className:"problem-list-grid",style:{gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))"},children:t.map(ke=>l.jsxs("div",{className:"problem-card card glass",style:{background:"var(--bg-secondary)",border:"1px solid var(--border-color)"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[l.jsx("span",{style:{fontSize:"0.65rem",padding:"3px 8px",borderRadius:"4px",background:"linear-gradient(135deg, rgba(16, 185, 129, 0.2), rgba(6, 182, 212, 0.2))",color:"#10b981",fontWeight:700},children:"GLOBAL TEST"}),l.jsx("span",{style:{fontSize:"0.65rem",padding:"3px 8px",borderRadius:"4px",textTransform:"uppercase",fontWeight:700,background:ke.status==="live"?"rgba(16, 185, 129, 0.15)":"rgba(239, 68, 68, 0.15)",color:ke.status==="live"?"#10b981":"#ef4444",border:ke.status==="live"?"1px solid rgba(16, 185, 129, 0.2)":"1px solid rgba(239, 68, 68, 0.2)"},children:ke.status==="live"?"LIVE":"ENDED"})]}),l.jsx("h3",{style:{margin:"0.75rem 0",fontSize:"1.2rem"},children:ke.title}),l.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-muted)",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",marginBottom:"1rem"},children:ke.description||"Aptitude, Verbal, Logical, Coding, SQL"}),l.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)",marginBottom:"1rem"},children:[ke.duration," min  ",ke.totalQuestions??0," questions  Pass ",ke.passingScore,"%"]}),l.jsxs("div",{style:{marginTop:"auto",display:"flex",justifyContent:"space-between",alignItems:"center",paddingTop:"1rem",borderTop:"1px solid rgba(255,255,255,0.05)"},children:[l.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:ke.type}),l.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[l.jsxs("button",{type:"button",onClick:()=>Qt(ke),style:{background:"#1e3a8a",border:"1px solid #1d4ed8",color:"#93c5fd",padding:"0.4rem 0.8rem",borderRadius:"6px",cursor:"pointer",fontSize:"0.75rem",fontWeight:600,display:"flex",alignItems:"center",gap:"4px"},children:[l.jsx(_s,{size:14})," View"]}),ke.status==="live"?l.jsxs("button",{type:"button",onClick:()=>fn(ke.id,"draft"),style:{background:"#451a03",border:"1px solid #b45309",color:"#fbbf24",padding:"0.4rem 0.8rem",borderRadius:"6px",cursor:"pointer",fontSize:"0.75rem",fontWeight:600,display:"flex",alignItems:"center",gap:"4px"},children:[l.jsx(Jr,{size:14})," End"]}):l.jsxs("button",{type:"button",onClick:()=>fn(ke.id,"live"),style:{background:"#064e3b",border:"1px solid #059669",color:"#6ee7b7",padding:"0.4rem 0.8rem",borderRadius:"6px",cursor:"pointer",fontSize:"0.75rem",fontWeight:600,display:"flex",alignItems:"center",gap:"4px"},children:[l.jsx($n,{size:14})," Activate"]}),l.jsxs("button",{type:"button",onClick:()=>en(ke.id),style:{background:"#450a0a",border:"1px solid #991b1b",color:"#f87171",padding:"0.4rem 0.8rem",borderRadius:"6px",cursor:"pointer",fontSize:"0.75rem",fontWeight:600,display:"flex",alignItems:"center",gap:"4px"},children:[l.jsx(Nl,{size:14})," Delete"]})]})]})]},ke.id))}),s&&l.jsx("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem",zIndex:1500,backdropFilter:"blur(5px)",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:l.jsxs("div",{className:"modal-content",style:{width:"100%",maxWidth:a===1?"min(800px, calc(100vw - 2rem))":"min(900px, calc(100vw - 2rem))",maxHeight:"80vh",overflow:"hidden",display:"flex",flexDirection:"column",borderRadius:"16px",background:"#1e293b",backgroundImage:"linear-gradient(145deg, rgba(30,41,59,1), rgba(15,23,42,1))",border:"1px solid rgba(139,92,246,0.2)",boxShadow:"0 25px 50px rgba(0,0,0,0.5)"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem 1.5rem",borderBottom:"1px solid rgba(139,92,246,0.15)",background:"rgba(15, 23, 42, 0.95)",backdropFilter:"blur(10px)",flexShrink:0,zIndex:10},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[l.jsx("div",{style:{padding:"0.5rem",background:"linear-gradient(135deg, rgba(139,92,246,0.2), rgba(6,182,212,0.2))",borderRadius:"10px"},children:l.jsx(EE,{size:22,color:"#a78bfa"})}),l.jsxs("div",{children:[l.jsxs("h2",{style:{margin:0,fontSize:"1.25rem"},children:[c?"Edit":"Create"," Global Test"]}),l.jsx("p",{style:{margin:0,fontSize:"0.8rem",color:"rgba(255,255,255,0.5)"},children:a===1?"Step 1: Basic Settings & Sections":"Step 2: Add Questions to Sections"})]})]}),l.jsx("button",{type:"button",onClick:()=>{i(!1),o(1),u(null)},style:{background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"10px",padding:"0.5rem",cursor:"pointer",color:"white",transition:"all 0.2s"},children:l.jsx(xi,{size:20})})]}),l.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"1.5rem"},children:[a===1&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"form-group",style:{marginBottom:"1rem"},children:[l.jsx("label",{className:"form-label",children:"Test Title"}),l.jsx("input",{type:"text",placeholder:"e.g. Global Complete Assessment - Feb 2026",value:g.title,onChange:ke=>y({...g,title:ke.target.value}),style:{width:"100%"}})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(160px, 1fr))",gap:"1rem",marginBottom:"1rem"},children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Duration (min)  default 180 for Coding+SQL"}),l.jsx("input",{type:"number",min:"30",max:"300",value:g.duration,onChange:ke=>y({...g,duration:parseInt(ke.target.value)||180})})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Passing Score (%)"}),l.jsx("input",{type:"number",min:"0",max:"100",value:g.passingScore,onChange:ke=>y({...g,passingScore:parseInt(ke.target.value)||60})})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Status"}),l.jsxs("select",{value:g.status,onChange:ke=>y({...g,status:ke.target.value}),children:[l.jsx("option",{value:"draft",children:"Draft"}),l.jsx("option",{value:"live",children:"Live"})]})]})]}),l.jsxs("div",{className:"form-group",style:{marginBottom:"1rem"},children:[l.jsx("label",{className:"form-label",children:"Max Attempts"}),l.jsx("input",{type:"number",min:"1",max:"10",value:g.maxAttempts,onChange:ke=>y({...g,maxAttempts:parseInt(ke.target.value)||1})})]}),l.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1.25rem",background:"linear-gradient(135deg, rgba(239,68,68,0.05), rgba(251,191,36,0.05))",borderRadius:"16px",border:"1px solid rgba(239,68,68,0.2)"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1rem"},children:[l.jsx("div",{style:{padding:"0.5rem",background:"rgba(239,68,68,0.1)",borderRadius:"8px"},children:l.jsx(Ui,{size:20,color:"#ef4444"})}),l.jsxs("div",{children:[l.jsx("h4",{style:{margin:0,fontSize:"1rem",color:"#ef4444"},children:"Proctoring Settings"}),l.jsx("p",{style:{margin:0,fontSize:"0.75rem",color:"rgba(255,255,255,0.6)"},children:"Configure security measures for exam integrity"})]}),l.jsxs("label",{style:{marginLeft:"auto",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx("input",{type:"checkbox",checked:q.enabled,onChange:ke=>Z({...q,enabled:ke.target.checked})}),l.jsx("span",{style:{fontSize:"0.85rem",fontWeight:600},children:"Enable Proctoring"})]})]}),q.enabled&&l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))",gap:"0.75rem"},children:[l.jsxs("div",{style:{padding:"0.75rem",background:"rgba(0,0,0,0.2)",borderRadius:"10px",border:"1px solid rgba(255,255,255,0.1)"},children:[l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem",fontSize:"0.85rem"},children:[l.jsx("input",{type:"checkbox",checked:q.trackTabSwitches,onChange:ke=>Z({...q,trackTabSwitches:ke.target.checked})}),l.jsx(_s,{size:16,color:"#f59e0b"}),"Track Tab Switches"]}),q.trackTabSwitches&&l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginLeft:"1.5rem"},children:[l.jsx("span",{style:{fontSize:"0.75rem",color:"rgba(255,255,255,0.6)"},children:"Max:"}),l.jsx("input",{type:"number",min:"1",max:"10",value:q.maxTabSwitches,onChange:ke=>Z({...q,maxTabSwitches:parseInt(ke.target.value)||3}),style:{width:50,padding:"0.25rem 0.5rem",fontSize:"0.85rem"}})]})]}),l.jsxs("div",{style:{padding:"0.75rem",background:"rgba(0,0,0,0.2)",borderRadius:"10px",border:"1px solid rgba(255,255,255,0.1)"},children:[l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.85rem"},children:[l.jsx("input",{type:"checkbox",checked:q.enableVideoAudio,onChange:ke=>Z({...q,enableVideoAudio:ke.target.checked})}),l.jsx("span",{style:{fontSize:"1rem"},children:""}),"Video/Audio Recording"]}),l.jsx("p",{style:{margin:"0.25rem 0 0 1.5rem",fontSize:"0.7rem",color:"rgba(255,255,255,0.5)"},children:"Record student during test"})]}),l.jsxs("div",{style:{padding:"0.75rem",background:"rgba(0,0,0,0.2)",borderRadius:"10px",border:"1px solid rgba(255,255,255,0.1)"},children:[l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.85rem"},children:[l.jsx("input",{type:"checkbox",checked:q.detectCameraBlocking,onChange:ke=>Z({...q,detectCameraBlocking:ke.target.checked})}),l.jsx("span",{style:{fontSize:"1rem"},children:""}),"Detect Camera Blocking"]}),l.jsx("p",{style:{margin:"0.25rem 0 0 1.5rem",fontSize:"0.7rem",color:"rgba(255,255,255,0.5)"},children:"Flag covered/blocked camera"})]}),l.jsxs("div",{style:{padding:"0.75rem",background:"rgba(0,0,0,0.2)",borderRadius:"10px",border:"1px solid rgba(255,255,255,0.1)"},children:[l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.85rem"},children:[l.jsx("input",{type:"checkbox",checked:q.detectPhoneUsage,onChange:ke=>Z({...q,detectPhoneUsage:ke.target.checked})}),l.jsx("span",{style:{fontSize:"1rem"},children:""}),"AI Phone Detection"]}),l.jsx("p",{style:{margin:"0.25rem 0 0 1.5rem",fontSize:"0.7rem",color:"rgba(255,255,255,0.5)"},children:"Detect mobile phones in view"})]}),l.jsxs("div",{style:{padding:"0.75rem",background:"rgba(0,0,0,0.2)",borderRadius:"10px",border:"1px solid rgba(255,255,255,0.1)"},children:[l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.85rem"},children:[l.jsx("input",{type:"checkbox",checked:q.disableCopyPaste,onChange:ke=>Z({...q,disableCopyPaste:ke.target.checked})}),l.jsx("span",{style:{fontSize:"1rem"},children:""}),"Disable Copy/Paste"]}),l.jsx("p",{style:{margin:"0.25rem 0 0 1.5rem",fontSize:"0.7rem",color:"rgba(255,255,255,0.5)"},children:"Block clipboard actions"})]}),l.jsxs("div",{style:{padding:"0.75rem",background:"rgba(0,0,0,0.2)",borderRadius:"10px",border:"1px solid rgba(255,255,255,0.1)"},children:[l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.85rem"},children:[l.jsx("input",{type:"checkbox",checked:q.enforceFullscreen,onChange:ke=>Z({...q,enforceFullscreen:ke.target.checked})}),l.jsx("span",{style:{fontSize:"1rem"},children:""}),"Enforce Fullscreen"]}),l.jsx("p",{style:{margin:"0.25rem 0 0 1.5rem",fontSize:"0.7rem",color:"rgba(255,255,255,0.5)"},children:"Required during test"})]}),l.jsxs("div",{style:{padding:"0.75rem",background:"rgba(239,68,68,0.1)",borderRadius:"10px",border:"1px solid rgba(239,68,68,0.2)"},children:[l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.85rem"},children:[l.jsx("input",{type:"checkbox",checked:q.autoSubmitOnViolation,onChange:ke=>Z({...q,autoSubmitOnViolation:ke.target.checked})}),l.jsx(Qn,{size:16,color:"#ef4444"}),"Auto-Submit on Max Violations"]}),l.jsx("p",{style:{margin:"0.25rem 0 0 1.5rem",fontSize:"0.7rem",color:"rgba(239,68,68,0.7)"},children:"Submit test when violations exceed limit"})]})]})]}),l.jsxs("div",{className:"form-group",style:{marginBottom:"1rem"},children:[l.jsx("label",{className:"form-label",children:"Description (optional)"}),l.jsx("textarea",{placeholder:"Instructions for students",value:g.description,onChange:ke=>y({...g,description:ke.target.value}),rows:2,style:{width:"100%",resize:"vertical"}})]}),l.jsxs("div",{style:{marginBottom:"1.5rem"},children:[l.jsx("h4",{style:{margin:"0 0 0.75rem"},children:"Sections  Coding min 2, SQL min 1 (max set by you)"}),(g.sectionConfig?.sections||[]).map(ke=>l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"0.5rem",flexWrap:"wrap"},children:[l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",minWidth:120},children:[l.jsx("input",{type:"checkbox",checked:!!ke.enabled,onChange:$e=>_e(ke.id,$e.target.checked)}),_v.find($e=>$e.id===ke.id)?.icon," ",_v.find($e=>$e.id===ke.id)?.label,ke.id==="coding"&&l.jsx("span",{style:{fontSize:"0.7rem",color:"var(--text-muted)"},children:"(min 2)"}),ke.id==="sql"&&l.jsx("span",{style:{fontSize:"0.7rem",color:"var(--text-muted)"},children:"(min 1)"})]}),l.jsx("input",{type:"number",min:ke.id==="coding"?2:ke.id==="sql"?1:0,placeholder:"Count",value:ke.questionsCount??"",onChange:$e=>It(ke.id,"questionsCount",parseInt($e.target.value)||0),style:{width:70}}),l.jsx("input",{type:"number",min:"0",placeholder:"Min",value:ke.timeMinutes??"",onChange:$e=>It(ke.id,"timeMinutes",parseInt($e.target.value)||0),style:{width:70}})]},ke.id))]}),l.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"flex-end"},children:[l.jsx("button",{type:"button",className:"btn-reset",onClick:()=>i(!1),children:"Cancel"}),l.jsx("button",{type:"button",className:"btn-create-new",onClick:()=>o(2),children:"Next: Add Questions"})]})]}),a===2&&l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1.5rem",flexWrap:"wrap",padding:"0.5rem",background:"rgba(0,0,0,0.2)",borderRadius:"14px",border:"1px solid rgba(255,255,255,0.05)"},children:_v.map(ke=>{const $e=d===ke.id,yt=(x[ke.id]||[]).length,Ct={aptitude:{bg:"rgba(139,92,246,0.15)",border:"rgba(139,92,246,0.4)",color:"#a78bfa"},verbal:{bg:"rgba(59,130,246,0.15)",border:"rgba(59,130,246,0.4)",color:"#60a5fa"},logical:{bg:"rgba(245,158,11,0.15)",border:"rgba(245,158,11,0.4)",color:"#fbbf24"},coding:{bg:"rgba(16,185,129,0.15)",border:"rgba(16,185,129,0.4)",color:"#34d399"},sql:{bg:"rgba(6,182,212,0.15)",border:"rgba(6,182,212,0.4)",color:"#22d3ee"}},_t=Ct[ke.id]||Ct.aptitude;return l.jsxs("button",{type:"button",onClick:()=>f(ke.id),style:{padding:"0.75rem 1.25rem",borderRadius:"10px",border:$e?`2px solid ${_t.border}`:"2px solid transparent",background:$e?_t.bg:"transparent",color:$e?_t.color:"rgba(255,255,255,0.6)",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.9rem",fontWeight:$e?600:400,transition:"all 0.2s ease",flex:"1 1 auto",justifyContent:"center",minWidth:"120px"},children:[l.jsx("span",{style:{fontSize:"1.1rem"},children:ke.icon}),l.jsx("span",{children:ke.label}),l.jsx("span",{style:{background:yt>0?$e?_t.color:"rgba(255,255,255,0.2)":"rgba(255,255,255,0.1)",color:yt>0?$e?"#0f172a":"rgba(255,255,255,0.8)":"rgba(255,255,255,0.4)",padding:"0.15rem 0.5rem",borderRadius:"6px",fontSize:"0.75rem",fontWeight:700,minWidth:"24px",textAlign:"center"},children:yt})]},ke.id)})}),d==="coding"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"card glass",style:{marginBottom:"1.5rem",padding:"1.5rem",background:"linear-gradient(135deg, rgba(16,185,129,0.1), rgba(6,182,212,0.05))",border:"1px solid rgba(16,185,129,0.3)",borderRadius:"16px"},children:[l.jsxs("h4",{style:{display:"flex",alignItems:"center",gap:"0.5rem",margin:"0 0 1rem",fontSize:"1.1rem",color:"#10b981"},children:[l.jsx(NB,{size:20})," AI Coding Problem Generator"]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:"0.75rem",alignItems:"end"},children:[l.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[l.jsx("label",{className:"form-label",style:{fontSize:"0.75rem",color:"rgba(255,255,255,0.7)"},children:"TOPIC / CONCEPT"}),l.jsx("input",{type:"text",placeholder:"e.g., Two Sum, Binary Search, Linked Lists",value:G.topic,onChange:ke=>ne({...G,topic:ke.target.value}),style:{width:"100%"}})]}),l.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[l.jsx("label",{className:"form-label",style:{fontSize:"0.75rem",color:"rgba(255,255,255,0.7)"},children:"DIFFICULTY"}),l.jsxs("select",{value:G.difficulty,onChange:ke=>ne({...G,difficulty:ke.target.value}),children:[l.jsx("option",{value:"Easy",children:"Easy"}),l.jsx("option",{value:"Medium",children:"Medium"}),l.jsx("option",{value:"Hard",children:"Hard"})]})]}),l.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[l.jsx("label",{className:"form-label",style:{fontSize:"0.75rem",color:"rgba(255,255,255,0.7)"},children:"LANGUAGE"}),l.jsxs("select",{value:G.language,onChange:ke=>ne({...G,language:ke.target.value}),children:[l.jsx("option",{value:"Python",children:"Python"}),l.jsx("option",{value:"JavaScript",children:"JavaScript"}),l.jsx("option",{value:"Java",children:"Java"}),l.jsx("option",{value:"C++",children:"C++"})]})]}),l.jsx("button",{type:"button",className:"btn-create-new",onClick:$t,disabled:he,style:{background:"linear-gradient(135deg, #10b981, #06b6d4)"},children:he?l.jsxs(l.Fragment,{children:[l.jsx(f1,{size:16,className:"spin"})," Generating..."]}):l.jsxs(l.Fragment,{children:[l.jsx(G6,{size:16})," Generate"]})})]}),Q.length>0&&l.jsxs("div",{style:{marginTop:"1rem",padding:"1rem",background:"rgba(16,185,129,0.1)",borderRadius:"12px",border:"1px solid rgba(16,185,129,0.2)"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.75rem"},children:[l.jsxs("span",{style:{fontWeight:600,color:"#10b981"},children:[" Generated ",Q.length," Problem(s)"]}),l.jsxs("button",{type:"button",className:"btn-create-new",onClick:kt,style:{background:"linear-gradient(135deg, #10b981, #059669)"},children:[l.jsx(il,{size:16})," Add to Section"]})]}),Q.map((ke,$e)=>l.jsxs("div",{style:{padding:"0.75rem",background:"rgba(0,0,0,0.2)",borderRadius:"8px",marginTop:"0.5rem"},children:[l.jsxs("p",{style:{margin:"0 0 0.5rem",fontWeight:500,color:"white"},children:[ke.question?.substring(0,150),"..."]}),l.jsxs("span",{style:{fontSize:"0.75rem",color:"rgba(255,255,255,0.6)"},children:[ke.testCases?.length||0," test cases"]})]},$e))]})]}),l.jsxs("div",{style:{padding:"1.5rem",background:"var(--bg-secondary)",borderRadius:"16px",border:"1px solid var(--border-color)"},children:[l.jsxs("h4",{style:{display:"flex",alignItems:"center",gap:"0.5rem",margin:"0 0 1rem",fontSize:"1rem",color:"var(--text)"},children:[l.jsx(Dr,{size:18})," Manual Entry"]}),l.jsxs("div",{className:"form-group",style:{marginBottom:"1rem"},children:[l.jsx("label",{className:"form-label",children:"Problem description"}),l.jsx("textarea",{value:k.question,onChange:ke=>E({...k,question:ke.target.value}),placeholder:"Describe the coding problem...",rows:3,style:{width:"100%",resize:"vertical"}})]}),l.jsxs("div",{className:"form-group",style:{marginBottom:"1rem"},children:[l.jsx("label",{className:"form-label",children:"Starter code (optional)"}),l.jsx("textarea",{value:k.starterCode,onChange:ke=>E({...k,starterCode:ke.target.value}),placeholder:"def solution():\\n    pass",rows:4,style:{width:"100%",fontFamily:"monospace",fontSize:"0.85rem",resize:"vertical"}})]}),l.jsxs("div",{className:"form-group",style:{marginBottom:"1rem"},children:[l.jsx("label",{className:"form-label",children:"Language"}),l.jsxs("select",{value:k.language,onChange:ke=>E({...k,language:ke.target.value}),children:[l.jsx("option",{value:"Python",children:"Python"}),l.jsx("option",{value:"JavaScript",children:"JavaScript"}),l.jsx("option",{value:"Java",children:"Java"}),l.jsx("option",{value:"C++",children:"C++"})]})]}),l.jsxs("div",{style:{marginBottom:"1rem"},children:[l.jsx("label",{className:"form-label",children:"Test cases (input  expected output)"}),k.testCases.map((ke,$e)=>l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr auto",gap:"0.5rem",marginBottom:"0.5rem",alignItems:"center"},children:[l.jsx("input",{type:"text",placeholder:"Sample Input",value:ke.input||"",onChange:yt=>{const Ct=[...k.testCases];Ct[$e]={...Ct[$e],input:yt.target.value},E({...k,testCases:Ct})}}),l.jsx("input",{type:"text",placeholder:"Sample Output",value:ke.expected_output||"",onChange:yt=>{const Ct=[...k.testCases];Ct[$e]={...Ct[$e],expected_output:yt.target.value},E({...k,testCases:Ct})}}),l.jsx("button",{type:"button",onClick:()=>E({...k,testCases:k.testCases.filter((yt,Ct)=>Ct!==$e)}),className:"btn-reset",style:{color:"var(--danger)"},children:l.jsx(xi,{size:18})})]},$e)),l.jsx("button",{type:"button",className:"btn-reset",style:{fontSize:"0.85rem",marginTop:"0.25rem"},onClick:()=>E({...k,testCases:[...k.testCases,{input:"",expected_output:""}]}),children:"+ Add test case"})]}),l.jsx("button",{type:"button",className:"btn-create-new",onClick:Ot,children:"Add this coding problem"})]}),l.jsxs("div",{style:{marginTop:"2rem"},children:[x.coding?.length>0&&l.jsxs("h4",{style:{color:"white",marginBottom:"1rem",fontSize:"1rem"},children:["Added Coding Problems (",x.coding.length,")"]}),x.coding?.map((ke,$e)=>l.jsx("div",{className:"card glass",style:{marginBottom:"1rem",padding:"1rem",background:"rgba(59, 130, 246, 0.05)",border:"1px solid rgba(59, 130, 246, 0.2)",borderRadius:"12px"},children:l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[l.jsxs("div",{children:[l.jsxs("h5",{style:{margin:"0 0 0.5rem",color:"#60a5fa",fontSize:"1rem"},children:[ke.question?.substring(0,100),"..."]}),l.jsxs("span",{style:{fontSize:"0.8rem",color:"rgba(255,255,255,0.6)"},children:[ke.testCases?.language||(ke.testCases?.cases||Array.isArray(ke.testCases)?"Coding":"Python"),"  ",(Array.isArray(ke.testCases)?ke.testCases:ke.testCases?.cases||[]).length," test cases"]})]}),l.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[l.jsxs("button",{type:"button",onClick:()=>m({index:$e,section:"coding"}),style:{padding:"0.5rem 0.75rem",background:"#3b82f6",border:"none",borderRadius:"8px",color:"white",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.85rem"},children:[l.jsx(Hd,{size:16})," Manage Test Cases"]}),l.jsx("button",{type:"button",onClick:()=>{v(yt=>({...yt,coding:yt.coding.filter((Ct,_t)=>_t!==$e)}))},style:{padding:"0.5rem",background:"rgba(239, 68, 68, 0.2)",border:"none",borderRadius:"8px",color:"#ef4444",cursor:"pointer"},children:l.jsx(Nl,{size:16})})]})]})},$e))]}),h&&x[h.section]?.[h.index]&&l.jsx(lbt,{title:x[h.section][h.index].question?.substring(0,50),inputLabel:h.section==="sql"?"Database Schema (SQL)":"Sample Input",outputLabel:h.section==="sql"?"Expected Result (Table/Text)":"Sample Output",initialTestCases:(()=>{const ke=x[h.section][h.index];if(Array.isArray(ke.testCases))return ke.testCases.map($e=>({...$e,expectedOutput:$e.expected_output||$e.expectedOutput,isHidden:$e.isHidden||!1,points:$e.points||10,description:$e.description||""}));if(h.section==="sql"){const $e=ke.schema||ke.starterCode||"",yt=ke.expectedOutput||ke.testCases?.expectedOutput||"";if($e||yt)return[{input:$e,expectedOutput:yt,isHidden:!1,points:ke.points||10,description:"Default Case"}]}return ke.testCases?.cases?ke.testCases.cases.map($e=>({...$e,expectedOutput:$e.expected_output||$e.expectedOutput,isHidden:$e.isHidden||!1,points:$e.points||10,description:$e.description||""})):[]})(),onClose:()=>m(null),onUpdate:ke=>{const $e=ke.map(yt=>({input:yt.input,expected_output:yt.expectedOutput,isHidden:yt.isHidden,points:yt.points,description:yt.description}));v(yt=>{const Ct=h.section,_t=[...yt[Ct]||[]];if(_t[h.index]){const Lt=_t[h.index];if(Ct==="sql"){const Ut=ke[0]||{input:"",expectedOutput:""};_t[h.index]={...Lt,schema:Ut.input,starterCode:Ut.input,expectedOutput:Ut.expectedOutput,testCases:$e}}else{const Ut=Lt.testCases?.language||"Python";Lt.testCases?.language||!Array.isArray(Lt.testCases)?_t[h.index]={...Lt,testCases:{language:Ut,cases:$e}}:_t[h.index]={...Lt,testCases:$e}}}return{...yt,[Ct]:_t}})}})]}),d==="sql"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"card glass",style:{marginBottom:"1.5rem",padding:"1.5rem",background:"linear-gradient(135deg, rgba(6,182,212,0.1), rgba(139,92,246,0.05))",border:"1px solid rgba(6,182,212,0.3)",borderRadius:"16px"},children:[l.jsxs("h4",{style:{display:"flex",alignItems:"center",gap:"0.5rem",margin:"0 0 1rem",fontSize:"1.1rem",color:"#06b6d4"},children:[l.jsx(NB,{size:20})," AI SQL Problem Generator"]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:"0.75rem",alignItems:"end"},children:[l.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[l.jsx("label",{className:"form-label",style:{fontSize:"0.75rem",color:"rgba(255,255,255,0.7)"},children:"TOPIC / CONCEPT"}),l.jsx("input",{type:"text",placeholder:"e.g., JOINs, Aggregate Functions, Subqueries",value:K.topic,onChange:ke=>H({...K,topic:ke.target.value}),style:{width:"100%"}})]}),l.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[l.jsx("label",{className:"form-label",style:{fontSize:"0.75rem",color:"rgba(255,255,255,0.7)"},children:"DIFFICULTY"}),l.jsxs("select",{value:K.difficulty,onChange:ke=>H({...K,difficulty:ke.target.value}),children:[l.jsx("option",{value:"Easy",children:"Easy"}),l.jsx("option",{value:"Medium",children:"Medium"}),l.jsx("option",{value:"Hard",children:"Hard"})]})]}),l.jsx("button",{type:"button",className:"btn-create-new",onClick:Ht,disabled:Be,style:{background:"linear-gradient(135deg, #06b6d4, #8b5cf6)"},children:Be?l.jsxs(l.Fragment,{children:[l.jsx(f1,{size:16,className:"spin"})," Generating..."]}):l.jsxs(l.Fragment,{children:[l.jsx(G6,{size:16})," Generate"]})})]}),re.length>0&&l.jsxs("div",{style:{marginTop:"1rem",padding:"1rem",background:"rgba(6,182,212,0.1)",borderRadius:"12px",border:"1px solid rgba(6,182,212,0.2)"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.75rem"},children:[l.jsxs("span",{style:{fontWeight:600,color:"#06b6d4"},children:[" Generated ",re.length," Problem(s)"]}),l.jsxs("button",{type:"button",className:"btn-create-new",onClick:Sn,style:{background:"linear-gradient(135deg, #06b6d4, #0891b2)"},children:[l.jsx(il,{size:16})," Add to Section"]})]}),re.map((ke,$e)=>l.jsxs("div",{style:{padding:"0.75rem",background:"rgba(0,0,0,0.2)",borderRadius:"8px",marginTop:"0.5rem"},children:[l.jsxs("p",{style:{margin:"0 0 0.5rem",fontWeight:500,color:"white"},children:[ke.question?.substring(0,150),"..."]}),l.jsx("span",{style:{fontSize:"0.75rem",color:"rgba(255,255,255,0.6)"},children:"Schema included"})]},$e))]})]}),l.jsxs("div",{style:{padding:"1.5rem",background:"var(--bg-secondary)",borderRadius:"16px",border:"1px solid var(--border-color)"},children:[l.jsxs("h4",{style:{display:"flex",alignItems:"center",gap:"0.5rem",margin:"0 0 1rem",fontSize:"1rem",color:"var(--text)"},children:[l.jsx(Ka,{size:18})," Manual Entry"]}),l.jsxs("div",{className:"form-group",style:{marginBottom:"1rem"},children:[l.jsx("label",{className:"form-label",children:"Question / instruction"}),l.jsx("textarea",{value:N.question,onChange:ke=>O({...N,question:ke.target.value}),placeholder:"e.g. Write a query to return the top 5 employees by salary",rows:2,style:{width:"100%",resize:"vertical"}})]}),l.jsxs("div",{className:"form-group",style:{marginBottom:"1rem"},children:[l.jsx("label",{className:"form-label",children:"Database schema (CREATE TABLE + INSERT)"}),l.jsx("textarea",{value:N.schema,onChange:ke=>O({...N,schema:ke.target.value}),placeholder:`CREATE TABLE employees (id INT, name TEXT, salary INT);
INSERT INTO employees VALUES (1,'A',100);`,rows:6,style:{width:"100%",fontFamily:"monospace",fontSize:"0.85rem",resize:"vertical"}})]}),l.jsxs("div",{className:"form-group",style:{marginBottom:"1rem"},children:[l.jsx("label",{className:"form-label",children:"Expected query result (exact output to match)"}),l.jsx("textarea",{value:N.expectedOutput,onChange:ke=>O({...N,expectedOutput:ke.target.value}),placeholder:"Paste the expected result as shown by SQLite",rows:4,style:{width:"100%",fontFamily:"monospace",fontSize:"0.85rem",resize:"vertical"}})]}),l.jsx("button",{type:"button",className:"btn-create-new",onClick:xn,children:"Add this SQL question"})]}),l.jsxs("div",{style:{marginTop:"2rem"},children:[x.sql?.length>0&&l.jsxs("h4",{style:{color:"white",marginBottom:"1rem",fontSize:"1rem"},children:["Added SQL Problems (",x.sql.length,")"]}),x.sql?.map((ke,$e)=>l.jsx("div",{className:"card glass",style:{marginBottom:"1rem",padding:"1rem",background:"rgba(6, 182, 212, 0.05)",border:"1px solid rgba(6, 182, 212, 0.2)",borderRadius:"12px"},children:l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[l.jsxs("div",{children:[l.jsxs("h5",{style:{margin:"0 0 0.5rem",color:"#60a5fa",fontSize:"1rem"},children:[ke.question?.substring(0,100),"..."]}),l.jsxs("span",{style:{fontSize:"0.8rem",color:"rgba(255,255,255,0.6)"},children:["SQL Problem  ",Array.isArray(ke.testCases)?ke.testCases:ke.schema?1:0," test case(s)"]})]}),l.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[l.jsxs("button",{type:"button",onClick:()=>m({index:$e,section:"sql"}),style:{padding:"0.5rem 0.75rem",background:"#06b6d4",border:"none",borderRadius:"8px",color:"white",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.85rem"},children:[l.jsx(Hd,{size:16})," Manage Data"]}),l.jsx("button",{type:"button",onClick:()=>{v(yt=>({...yt,sql:yt.sql.filter((Ct,_t)=>_t!==$e)}))},style:{padding:"0.5rem",background:"rgba(239, 68, 68, 0.2)",border:"none",borderRadius:"8px",color:"#ef4444",cursor:"pointer"},children:l.jsx(Nl,{size:16})})]})]})},$e))]})]}),d!=="coding"&&d!=="sql"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"card glass",style:{marginBottom:"1.5rem",padding:"1.25rem",background:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"12px"},children:[l.jsxs("h4",{style:{display:"flex",alignItems:"center",gap:"0.5rem",margin:"0 0 1rem",fontSize:"1rem"},children:[l.jsx(Po,{size:18,style:{color:"var(--primary)"}})," AI Question Generator"]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto auto auto",gap:"0.75rem",alignItems:"end",flexWrap:"wrap"},children:[l.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[l.jsx("label",{className:"form-label",children:"TOPIC"}),l.jsx("input",{type:"text",placeholder:"e.g., Number Series, Logical Reasoning",value:T.topic,onChange:ke=>j({...T,topic:ke.target.value}),style:{width:"100%"}})]}),l.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[l.jsx("label",{className:"form-label",children:"DIFFICULTY"}),l.jsxs("select",{value:T.difficulty,onChange:ke=>j({...T,difficulty:ke.target.value}),children:[l.jsx("option",{value:"Easy",children:"Easy"}),l.jsx("option",{value:"Medium",children:"Medium"}),l.jsx("option",{value:"Hard",children:"Hard"})]})]}),l.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[l.jsx("label",{className:"form-label",children:"COUNT"}),l.jsx("input",{type:"number",min:"1",max:"20",value:T.count,onChange:ke=>j({...T,count:parseInt(ke.target.value)||1}),style:{width:70}})]}),l.jsxs("button",{type:"button",className:"btn-create-new",onClick:rn,disabled:z,style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(Po,{size:16})," ",z?"Generating":"Generate"]})]}),P.length>0&&l.jsxs("div",{style:{marginTop:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsxs("span",{style:{fontSize:"0.9rem",color:"var(--text-muted)"},children:[P.length," question(s) generated."]}),l.jsx("button",{type:"button",className:"btn-create-new",onClick:Yt,style:{fontSize:"0.9rem"},children:"Add All to Test"})]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[l.jsxs("h4",{style:{display:"flex",alignItems:"center",gap:"0.5rem",margin:0,fontSize:"1rem"},children:[l.jsx(LJ,{size:18,style:{color:"var(--text-muted)"}})," Questions"]}),l.jsxs("span",{style:{fontSize:"0.9rem",color:"var(--text-muted)"},children:[(x[d]||[]).length," questions"]})]}),l.jsxs("div",{style:{maxHeight:"50vh",overflowY:"auto",marginBottom:"1rem"},children:[(x[d]||[]).map((ke,$e)=>l.jsxs("div",{className:"card glass",style:{marginBottom:"1rem",padding:"1.25rem",background:"var(--bg-card)",border:"1px solid var(--border-color)",borderRadius:"12px"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"0.75rem"},children:[l.jsxs("span",{style:{background:"var(--primary)",color:"white",padding:"0.25rem 0.6rem",borderRadius:"8px",fontWeight:600,fontSize:"0.85rem"},children:["Q",$e+1]}),l.jsx("button",{type:"button",onClick:()=>At(d,$e),className:"btn-reset",style:{color:"var(--danger)",padding:"0.25rem"},title:"Delete question",children:l.jsx(Nl,{size:18})})]}),l.jsxs("div",{className:"form-group",style:{marginBottom:"1rem"},children:[l.jsx("label",{className:"form-label",children:"QUESTION TEXT"}),l.jsx("textarea",{value:ke.question||"",onChange:yt=>sn(d,$e,"question",yt.target.value),placeholder:"Enter question text...",rows:2,style:{width:"100%",resize:"vertical"}})]}),l.jsxs("div",{className:"form-group",style:{marginBottom:"0.75rem"},children:[l.jsx("label",{className:"form-label",children:"ANSWER OPTIONS"}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem"},children:[0,1,2,3].map(yt=>{const Ct=ke.options||["","","",""],_t=(ke.correctAnswer??0)===yt;return l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx("button",{type:"button",onClick:()=>sn(d,$e,"correctAnswer",yt),style:{minWidth:36,height:36,borderRadius:"8px",border:"2px solid "+(_t?"var(--success)":"var(--border-color)"),background:_t?"var(--success-alpha)":"var(--bg-secondary)",color:_t?"var(--success)":"var(--text-muted)",fontWeight:700,cursor:"pointer",flexShrink:0},children:String.fromCharCode(65+yt)}),l.jsx("input",{type:"text",value:Ct[yt]||"",onChange:Lt=>{const Ut=[...Ct];Ut[yt]=Lt.target.value,sn(d,$e,"options",Ut)},placeholder:`Option ${String.fromCharCode(65+yt)}`,style:{flex:1}})]},yt)})})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 0.75rem",background:"var(--success-alpha)",borderRadius:"8px",border:"1px solid var(--success)"},children:[l.jsx(DJ,{size:18,style:{color:"var(--success)",flexShrink:0}}),l.jsx("span",{style:{fontSize:"0.9rem",color:"var(--success)",fontWeight:500},children:"Correct Answer:"}),l.jsxs("span",{style:{background:"var(--success)",color:"white",padding:"0.2rem 0.5rem",borderRadius:"6px",fontSize:"0.85rem"},children:["Option ",String.fromCharCode(65+(ke.correctAnswer??0))]}),l.jsx("span",{style:{marginLeft:"auto",fontSize:"0.8rem",color:"var(--text-muted)"},children:"Click any option badge to change"})]})]},$e)),l.jsxs("button",{type:"button",onClick:On,style:{width:"100%",padding:"1.25rem",border:"2px dashed var(--border-color)",borderRadius:"12px",background:"transparent",color:"var(--text-muted)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontSize:"1rem"},children:[l.jsx(il,{size:20})," Add New Question"]})]})]}),(d==="coding"||d==="sql")&&l.jsxs("div",{style:{marginTop:"1rem",marginBottom:"1rem"},children:[l.jsxs("strong",{children:["Added in ",_v.find(ke=>ke.id===d)?.label,":"]}),l.jsx("ul",{style:{margin:"0.5rem 0",paddingLeft:"1.5rem",maxHeight:200,overflow:"auto"},children:(x[d]||[]).map((ke,$e)=>l.jsxs("li",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:400},children:ke.question}),l.jsx("button",{type:"button",onClick:()=>At(d,$e),className:"btn-reset",style:{color:"var(--danger)"},children:l.jsx(xi,{size:16})})]},$e))})]}),l.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"space-between"},children:[l.jsx("button",{type:"button",className:"btn-reset",onClick:()=>o(1),children:"Back"}),l.jsxs("button",{type:"button",className:"btn-create-new",onClick:zt,children:[c?"Update":"Create"," Test"]})]})]})]})," "]})})]})}function vbt(){const[t,e]=C.useState([]),[n,r]=C.useState(!0),[s,i]=C.useState(!1),[a,o]=C.useState(!1),[c,u]=C.useState(null),[d,f]=C.useState(!1),[h,m]=C.useState([]),[g,y]=C.useState({topic:"",difficulty:"Medium",count:5}),[x,v]=C.useState([]),[w,B]=C.useState(!1),k=C.useRef(null),[E,N]=C.useState({title:"",difficulty:"Medium",duration:30,passingScore:60,maxTabSwitches:3,maxAttempts:1,startTime:"",deadline:"",description:"",status:"live",questions:[]}),[O,F]=C.useState({question:"",options:["","","",""],correctAnswer:0,category:"general",explanation:""});C.useEffect(()=>{D(),T()},[]);const D=async()=>{try{const G=await rt.get(`${Or}/aptitude`);e(G.data),r(!1)}catch(G){console.error("Error fetching tests:",G),r(!1)}},T=async()=>{try{const G=await rt.get(`${Or}/aptitude-submissions`);v(G.data)}catch(G){console.error("Error fetching submissions:",G)}},j=async()=>{f(!0);try{const G=await rt.post(`${Or}/ai/generate-aptitude`,g);G.data.questions&&m(G.data.questions)}catch{alert("Error generating questions")}finally{f(!1)}},P=()=>{N(G=>({...G,questions:[...G.questions,...h]})),m([])},U=async G=>{if(G&&G.preventDefault(),E.questions.length===0){alert("Please add at least one question");return}if(E.questions.filter(K=>!K.question.trim()||K.options.some(H=>!H.trim())).length>0){alert("Please fill in all questions and options");return}try{const K={...E,createdBy:$g};if(K.startTime){const H=new Date(K.startTime);isNaN(H.getTime())||(K.startTime=H.toISOString())}if(K.deadline){const H=new Date(K.deadline);isNaN(H.getTime())||(K.deadline=H.toISOString())}await rt.post(`${Or}/aptitude`,K),i(!1),N({title:"",difficulty:"Medium",duration:30,passingScore:60,maxTabSwitches:3,maxAttempts:1,startTime:"",deadline:"",description:"",status:"live",questions:[]}),D()}catch(K){console.error(K),alert(K.response?.data?.error||"Error creating test")}},z=async G=>{const ne=G.target.files[0];if(ne){B(!0);try{const H=(await ne.text()).split(`
`).map(le=>le.trim()).filter(Boolean);if(H.length<2){alert("CSV must have header + at least one row");return}const Q=H[0].split(",").map(le=>le.trim().toLowerCase().replace(/['"]/g,"")),X=[];for(let le=1;le<H.length;le++){const he=H[le].match(/(".*?"|[^,]+)/g)?.map(Be=>Be.trim().replace(/^"|"$/g,""))||[],xe={};Q.forEach((Be,me)=>xe[Be]=he[me]||""),xe.question&&X.push({question:xe.question,options:[xe.option1||xe.option_1||"",xe.option2||xe.option_2||"",xe.option3||xe.option_3||"",xe.option4||xe.option_4||""],correctAnswer:parseInt(xe.correctanswer||xe.correct_answer||xe.answer||"0"),category:xe.category||"general",explanation:xe.explanation||""})}if(X.length===0){alert("No valid rows. CSV needs: question,option1,option2,option3,option4,correctAnswer"),B(!1);return}const re={title:ne.name.replace(".csv","")+" - CSV Import",difficulty:"Medium",duration:Math.max(30,X.length*2),passingScore:60,maxTabSwitches:3,maxAttempts:1,status:"draft",createdBy:$g,questions:X};await rt.post(`${Or}/aptitude`,re),alert(`Created aptitude test with ${X.length} questions from CSV!`),D()}catch(K){alert("CSV upload failed: "+(K.response?.data?.error||K.message))}finally{B(!1),G.target.value=""}}},ee=async G=>{const ne=G.status==="live"?"ended":"live",K=ne==="live"?"make this test visible to students":"hide this test from students";if(window.confirm(`Are you sure you want to ${K}?`))try{await rt.patch(`${Or}/aptitude/${G.id}/status`,{status:ne}),D()}catch{alert("Error updating test status")}},q=async G=>{if(window.confirm("Delete this aptitude test?"))try{await rt.delete(`${Or}/aptitude/${G}`),D()}catch(ne){console.error(ne),alert("Error deleting test")}},Z=G=>{N(ne=>({...ne,questions:ne.questions.filter((K,H)=>H!==G)}))};return n?l.jsx("div",{className:"loading-spinner"}):l.jsxs("div",{className:"animate-fadeIn",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[l.jsx("div",{style:{width:"56px",height:"56px",borderRadius:"16px",background:"linear-gradient(135deg, #8b5cf6, #6366f1)",display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx(kr,{size:28,color:"white"})}),l.jsxs("div",{children:[l.jsx("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:700},children:"Aptitude Tests"}),l.jsx("p",{style:{margin:0,color:"var(--text-muted)"},children:"Create and manage aptitude tests for students"})]})]}),l.jsxs("div",{style:{display:"flex",gap:"0.75rem",flexWrap:"wrap"},children:[l.jsx("input",{type:"file",accept:".csv",ref:k,style:{display:"none"},onChange:z}),l.jsxs("button",{onClick:()=>k.current?.click(),disabled:w,className:"btn-create-new premium-btn",style:{padding:"0.75rem 1.25rem",background:"linear-gradient(135deg, #10b981, #059669)",borderRadius:"1rem",fontSize:"0.95rem",fontWeight:600,display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(NE,{size:18})," ",w?"Uploading...":"CSV Upload"]}),l.jsxs("button",{onClick:()=>i(!0),className:"btn-create-new premium-btn",style:{padding:"0.75rem 1.25rem",background:"linear-gradient(135deg, #8b5cf6, #6366f1)",borderRadius:"1rem",fontSize:"0.95rem",fontWeight:600,display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(il,{size:20})," Create New Test"]})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"1rem",marginBottom:"2rem"},children:[l.jsxs("div",{className:"stat-card glass",children:[l.jsx("div",{className:"stat-icon",style:{background:"rgba(139, 92, 246, 0.1)",color:"#8b5cf6"},children:l.jsx(kr,{size:24})}),l.jsxs("div",{className:"stat-info",children:[l.jsx("span",{className:"stat-label",children:"Total Tests"}),l.jsx("span",{className:"stat-value",children:t.length})]})]}),l.jsxs("div",{className:"stat-card glass",children:[l.jsx("div",{className:"stat-icon",style:{background:"rgba(16, 185, 129, 0.1)",color:"#10b981"},children:l.jsx($n,{size:24})}),l.jsxs("div",{className:"stat-info",children:[l.jsx("span",{className:"stat-label",children:"Live Tests"}),l.jsx("span",{className:"stat-value",children:t.filter(G=>G.status==="live").length})]})]}),l.jsxs("div",{className:"stat-card glass",children:[l.jsx("div",{className:"stat-icon",style:{background:"rgba(59, 130, 246, 0.1)",color:"#3b82f6"},children:l.jsx(_c,{size:24})}),l.jsxs("div",{className:"stat-info",children:[l.jsx("span",{className:"stat-label",children:"Submissions"}),l.jsx("span",{className:"stat-value",children:x.length})]})]}),l.jsxs("div",{className:"stat-card glass",children:[l.jsx("div",{className:"stat-icon",style:{background:"rgba(245, 158, 11, 0.1)",color:"#f59e0b"},children:l.jsx(ol,{size:24})}),l.jsxs("div",{className:"stat-info",children:[l.jsx("span",{className:"stat-label",children:"Pass Rate"}),l.jsxs("span",{className:"stat-value",children:[x.length>0?Math.round(x.filter(G=>G.status==="passed").length/x.length*100):0,"%"]})]})]})]}),l.jsxs("div",{className:"card glass",children:[l.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"24px"},children:[l.jsx(kr,{size:20,style:{color:"#8b5cf6"}})," All Aptitude Tests"]}),l.jsx("div",{className:"table-container",style:{border:"none"},children:l.jsxs("table",{className:"modern-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Test Title"}),l.jsx("th",{children:"Difficulty"}),l.jsx("th",{children:"Questions"}),l.jsx("th",{children:"Duration"}),l.jsx("th",{children:"Pass %"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:t.map(G=>l.jsxs("tr",{children:[l.jsx("td",{children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[l.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"8px",background:"linear-gradient(135deg, #8b5cf6, #6366f1)",display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx(kr,{size:16,color:"white"})}),l.jsx("span",{style:{fontWeight:500},children:G.title})]})}),l.jsx("td",{children:l.jsx("span",{className:`difficulty-badge ${G.difficulty?.toLowerCase()}`,children:G.difficulty})}),l.jsx("td",{children:G.questionCount||G.totalQuestions}),l.jsxs("td",{children:[G.duration," min"]}),l.jsxs("td",{children:[G.passingScore,"%"]}),l.jsx("td",{children:l.jsx("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"20px",background:G.status==="live"?"rgba(16, 185, 129, 0.15)":G.status==="ended"?"rgba(239, 68, 68, 0.15)":"rgba(107, 114, 128, 0.15)",color:G.status==="live"?"#10b981":G.status==="ended"?"#ef4444":"#6b7280",fontSize:"0.8rem",fontWeight:500},children:G.status})}),l.jsx("td",{children:l.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[l.jsx("button",{onClick:()=>{u(G),o(!0)},style:{padding:"0.4rem 0.8rem",background:"rgba(59, 130, 246, 0.1)",border:"1px solid rgba(59, 130, 246, 0.3)",borderRadius:"6px",color:"#3b82f6",cursor:"pointer",fontSize:"0.8rem"},children:"View"}),l.jsx("button",{onClick:()=>ee(G),style:{padding:"0.4rem 0.8rem",background:G.status==="live"?"rgba(245, 158, 11, 0.1)":"rgba(16, 185, 129, 0.1)",border:G.status==="live"?"1px solid rgba(245, 158, 11, 0.3)":"1px solid rgba(16, 185, 129, 0.3)",borderRadius:"6px",color:G.status==="live"?"#f59e0b":"#10b981",cursor:"pointer",fontSize:"0.8rem"},title:G.status==="live"?"End test (hide from students)":"Make test live (show to students)",children:G.status==="live"?"End":"Activate"}),l.jsx("button",{onClick:()=>q(G.id),style:{padding:"0.4rem 0.8rem",background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"6px",color:"#ef4444",cursor:"pointer",fontSize:"0.8rem"},children:"Delete"})]})})]},G.id))})]})})]}),s&&l.jsx("div",{className:"modal-overlay",onClick:()=>i(!1),children:l.jsxs("div",{className:"modal-content",onClick:G=>G.stopPropagation(),style:{maxWidth:"800px",maxHeight:"90vh",overflowY:"auto"},children:[l.jsxs("div",{className:"modal-header",children:[l.jsxs("div",{className:"modal-title-with-icon",children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",background:"linear-gradient(135deg, #8b5cf6, #6366f1)",display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx(kr,{size:20,color:"white"})}),l.jsx("h2",{children:"Create Aptitude Test"})]}),l.jsx("button",{onClick:()=>i(!1),className:"modal-close",children:l.jsx(xi,{size:20})})]}),l.jsxs("form",{onSubmit:U,className:"modal-body",children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[l.jsxs("div",{className:"form-group",children:[l.jsxs("label",{className:"form-label",children:[l.jsx(Oa,{size:14,style:{marginRight:"0.5rem"}})," Test Title"]}),l.jsx("input",{type:"text",placeholder:"Enter test title...",value:E.title,onChange:G=>N({...E,title:G.target.value}),required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsxs("label",{className:"form-label",children:[l.jsx(vs,{size:14,style:{marginRight:"0.5rem"}})," Duration (mins)"]}),l.jsx("input",{type:"number",min:"5",max:"180",value:E.duration,onChange:G=>N({...E,duration:parseInt(G.target.value)})})]}),l.jsxs("div",{className:"form-group",children:[l.jsxs("label",{className:"form-label",children:[l.jsx(f1,{size:14,style:{marginRight:"0.5rem"}})," Attempts"]}),l.jsxs("select",{value:E.maxAttempts,onChange:G=>N({...E,maxAttempts:parseInt(G.target.value)}),children:[l.jsx("option",{value:1,children:"1 Attempt"}),l.jsx("option",{value:2,children:"2 Attempts"}),l.jsx("option",{value:3,children:"3 Attempts"}),l.jsx("option",{value:5,children:"5 Attempts"}),l.jsx("option",{value:-1,children:"Unlimited"})]})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[l.jsxs("div",{className:"form-group",children:[l.jsxs("label",{className:"form-label",children:[l.jsx(Qn,{size:14,style:{marginRight:"0.5rem"}})," Max Tab Switches (Violations)"]}),l.jsx("input",{type:"number",min:"0",max:"20",value:E.maxTabSwitches,onChange:G=>N({...E,maxTabSwitches:parseInt(G.target.value)})}),l.jsx("small",{style:{color:"var(--text-muted)",fontSize:"0.75rem"},children:"Test auto-submits if exceeded"})]}),l.jsxs("div",{className:"form-group",children:[l.jsxs("label",{className:"form-label",children:[l.jsx(d1,{size:14,style:{marginRight:"0.5rem"}})," Start Time"]}),l.jsx("input",{type:"datetime-local",value:E.startTime,onChange:G=>N({...E,startTime:G.target.value})})]}),l.jsxs("div",{className:"form-group",children:[l.jsxs("label",{className:"form-label",children:[l.jsx(d1,{size:14,style:{marginRight:"0.5rem"}})," End Time (Deadline)"]}),l.jsx("input",{type:"datetime-local",value:E.deadline,onChange:G=>N({...E,deadline:G.target.value})})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Difficulty"}),l.jsxs("select",{value:E.difficulty,onChange:G=>N({...E,difficulty:G.target.value}),children:[l.jsx("option",{value:"Easy",children:"Easy"}),l.jsx("option",{value:"Medium",children:"Medium"}),l.jsx("option",{value:"Hard",children:"Hard"})]})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Passing Score (%)"}),l.jsx("input",{type:"number",min:"0",max:"100",value:E.passingScore,onChange:G=>N({...E,passingScore:parseInt(G.target.value)})})]}),l.jsxs("div",{className:"form-group",children:[l.jsxs("label",{className:"form-label",children:[l.jsx(HJ,{size:14,style:{marginRight:"0.5rem"}})," Test Status"]}),l.jsxs("select",{value:E.status,onChange:G=>N({...E,status:G.target.value}),children:[l.jsx("option",{value:"live",children:"Live - Visible to students"}),l.jsx("option",{value:"ended",children:"Ended - Hidden from students"})]})]})]}),l.jsxs("div",{className:"form-group",style:{marginBottom:"1.5rem"},children:[l.jsxs("label",{className:"form-label",children:[l.jsx(Oa,{size:14,style:{marginRight:"0.5rem"}})," Description (Optional)"]}),l.jsx("textarea",{placeholder:"Brief description of the test...",value:E.description,onChange:G=>N({...E,description:G.target.value}),rows:3,style:{width:"100%",resize:"vertical"}})]}),l.jsxs("div",{style:{background:"var(--secondary-alpha)",border:"1px solid var(--secondary)",borderRadius:"12px",padding:"1.5rem",marginBottom:"1.5rem"},children:[l.jsxs("h4",{style:{display:"flex",alignItems:"center",gap:"0.5rem",margin:"0 0 1rem",color:"var(--text-primary)"},children:[l.jsx(Po,{size:18,color:"var(--secondary)"})," AI Question Generator"]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr auto",gap:"1rem",alignItems:"end"},children:[l.jsxs("div",{className:"form-group",style:{margin:0},children:[l.jsx("label",{className:"form-label",children:"TOPIC"}),l.jsx("input",{type:"text",placeholder:"e.g., Number Series, Logical Reasoning...",value:g.topic,onChange:G=>y({...g,topic:G.target.value})})]}),l.jsxs("div",{className:"form-group",style:{margin:0},children:[l.jsx("label",{className:"form-label",children:"DIFFICULTY"}),l.jsxs("select",{value:g.difficulty,onChange:G=>y({...g,difficulty:G.target.value}),children:[l.jsx("option",{value:"Easy",children:"Easy"}),l.jsx("option",{value:"Medium",children:"Medium"}),l.jsx("option",{value:"Hard",children:"Hard"})]})]}),l.jsxs("div",{className:"form-group",style:{margin:0},children:[l.jsx("label",{className:"form-label",children:"COUNT"}),l.jsx("input",{type:"number",min:"1",max:"20",value:g.count,onChange:G=>y({...g,count:parseInt(G.target.value)})})]}),l.jsxs("button",{type:"button",onClick:j,disabled:d,style:{padding:"0.75rem 1.5rem",background:"var(--primary)",border:"none",borderRadius:"8px",color:"white",fontWeight:600,cursor:d?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(Po,{size:16}),d?"Generating...":"Generate"]})]}),h.length>0&&l.jsxs("div",{style:{marginTop:"1rem"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[l.jsxs("span",{style:{fontSize:"0.9rem",color:"var(--secondary)",fontWeight:600},children:[" Generated ",h.length," questions"]}),l.jsx("button",{type:"button",onClick:P,style:{padding:"0.5rem 1rem",background:"var(--success-alpha)",border:"1px solid var(--success)",borderRadius:"6px",color:"var(--success)",fontSize:"0.85rem",fontWeight:600,cursor:"pointer"},children:"Add All to Test"})]}),l.jsx("div",{style:{maxHeight:"150px",overflowY:"auto",background:"var(--bg-tertiary)",borderRadius:"8px",padding:"0.75rem"},children:h.map((G,ne)=>l.jsxs("div",{style:{padding:"0.5rem",borderBottom:ne<h.length-1?"1px solid var(--border-color)":"none",fontSize:"0.85rem",color:"var(--text-primary)"},children:["Q",ne+1,": ",G.question.substring(0,80),"..."]},ne))})]})]}),l.jsxs("div",{style:{marginBottom:"1.5rem"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1.25rem",paddingBottom:"0.75rem",borderBottom:"1px solid var(--border-color)"},children:[l.jsxs("h4",{style:{display:"flex",alignItems:"center",gap:"0.5rem",margin:0,color:"var(--text-primary)",fontSize:"1rem",fontWeight:600},children:[l.jsx(LJ,{size:18,style:{color:"var(--primary)"}})," Questions"]}),l.jsxs("span",{style:{fontSize:"0.8rem",color:"var(--primary)",background:"var(--primary-alpha)",padding:"0.35rem 0.75rem",borderRadius:"20px",fontWeight:500},children:[E.questions.length," question",E.questions.length!==1?"s":""]})]}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.25rem"},children:[E.questions.map((G,ne)=>l.jsxs("div",{style:{background:"var(--bg-card)",borderRadius:"16px",padding:"1.5rem",border:"1px solid var(--border-color)",boxShadow:"var(--card-shadow)",transition:"all 0.2s ease"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.25rem"},children:[l.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:l.jsxs("span",{style:{background:"linear-gradient(135deg, var(--primary), var(--secondary))",color:"white",padding:"0.4rem 0.8rem",borderRadius:"8px",fontSize:"0.75rem",fontWeight:700,letterSpacing:"0.5px",textTransform:"uppercase"},children:["Q",ne+1]})}),l.jsx("button",{type:"button",onClick:()=>Z(ne),style:{background:"var(--danger-alpha)",border:"1px solid var(--danger)",borderRadius:"8px",padding:"0.5rem",cursor:"pointer",color:"var(--danger)",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},onMouseOver:K=>{K.currentTarget.style.background="var(--danger)",K.currentTarget.style.color="white"},onMouseOut:K=>{K.currentTarget.style.background="var(--danger-alpha)",K.currentTarget.style.color="var(--danger)"},children:l.jsx(Nl,{size:16})})]}),l.jsxs("div",{style:{marginBottom:"1.25rem"},children:[l.jsx("label",{style:{fontSize:"0.75rem",fontWeight:600,color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"0.5rem",display:"block"},children:"Question Text"}),l.jsx("input",{type:"text",value:G.question,onChange:K=>{const H=[...E.questions];H[ne]={...H[ne],question:K.target.value},N({...E,questions:H})},placeholder:"Enter your question here...",style:{width:"100%",padding:"0.875rem 1rem",fontSize:"0.95rem",borderRadius:"10px",border:"2px solid var(--border-color)",background:"var(--bg-primary)",color:"var(--text-primary)",transition:"border-color 0.2s"}})]}),l.jsxs("div",{style:{marginBottom:"1.25rem"},children:[l.jsx("label",{style:{fontSize:"0.75rem",fontWeight:600,color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"0.75rem",display:"block"},children:"Answer Options"}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.875rem"},children:["A","B","C","D"].map((K,H)=>l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",background:G.correctAnswer===H?"var(--success-alpha)":"var(--bg-primary)",padding:"0.5rem",borderRadius:"10px",border:G.correctAnswer===H?"2px solid var(--success)":"2px solid var(--border-color)",transition:"all 0.2s"},children:[l.jsx("span",{onClick:()=>{const Q=[...E.questions];Q[ne]={...Q[ne],correctAnswer:H},N({...E,questions:Q})},style:{width:"32px",height:"32px",borderRadius:"8px",background:G.correctAnswer===H?"var(--success)":"var(--bg-tertiary)",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:"0.85rem",color:G.correctAnswer===H?"white":"var(--text-muted)",flexShrink:0,cursor:"pointer",transition:"all 0.2s",border:G.correctAnswer===H?"none":"1px solid var(--border-color)"},title:"Click to set as correct answer",children:K}),l.jsx("input",{type:"text",value:G.options[H]||"",onChange:Q=>{const X=[...E.questions],re=[...X[ne].options];re[H]=Q.target.value,X[ne]={...X[ne],options:re},N({...E,questions:X})},placeholder:`Option ${K}`,style:{flex:1,padding:"0.625rem 0.875rem",borderRadius:"8px",border:"none",background:"transparent",color:"var(--text-primary)",fontSize:"0.9rem"}})]},H))})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.875rem 1rem",background:"var(--success-alpha)",borderRadius:"10px",border:"1px solid var(--success)"},children:[l.jsx($n,{size:18,color:"var(--success)"}),l.jsx("span",{style:{fontSize:"0.875rem",fontWeight:500,color:"var(--text-primary)"},children:"Correct Answer:"}),l.jsxs("span",{style:{background:"var(--success)",color:"white",padding:"0.375rem 0.875rem",borderRadius:"6px",fontWeight:600,fontSize:"0.85rem"},children:["Option ",["A","B","C","D"][G.correctAnswer]]}),l.jsx("span",{style:{marginLeft:"auto",fontSize:"0.75rem",color:"var(--text-muted)"},children:"Click any option badge to change"})]})]},ne)),l.jsxs("button",{type:"button",onClick:()=>{N(G=>({...G,questions:[...G.questions,{question:"",options:["","","",""],correctAnswer:0,category:"general",explanation:""}]}))},style:{padding:"1.25rem",background:"var(--bg-card)",border:"2px dashed var(--border-color)",borderRadius:"16px",color:"var(--text-muted)",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.75rem",transition:"all 0.2s",fontSize:"0.95rem"},onMouseOver:G=>{G.currentTarget.style.borderColor="var(--primary)",G.currentTarget.style.color="var(--primary)",G.currentTarget.style.background="var(--primary-alpha)"},onMouseOut:G=>{G.currentTarget.style.borderColor="var(--border-color)",G.currentTarget.style.color="var(--text-muted)",G.currentTarget.style.background="var(--bg-card)"},children:[l.jsx(il,{size:20})," Add New Question"]})]})]}),l.jsxs("div",{className:"form-actions",style:{borderTop:"1px solid var(--border-color)",paddingTop:"1.5rem",marginTop:"0.5rem"},children:[l.jsxs("button",{type:"button",className:"btn-reset",onClick:()=>i(!1),children:[l.jsx(xi,{size:16})," Cancel"]}),l.jsxs("button",{type:"submit",className:"btn-create-new",disabled:E.questions.length===0,children:[l.jsx(ow,{size:16})," Create Test"]})]})]})]})}),a&&c&&l.jsx("div",{className:"modal-overlay",onClick:()=>o(!1),children:l.jsxs("div",{className:"modal-content",onClick:G=>G.stopPropagation(),style:{maxWidth:"700px",maxHeight:"80vh",overflowY:"auto"},children:[l.jsxs("div",{className:"modal-header",children:[l.jsxs("div",{className:"modal-title-with-icon",children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",background:"linear-gradient(135deg, #8b5cf6, #6366f1)",display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx(kr,{size:20,color:"white"})}),l.jsx("h2",{children:c.title})]}),l.jsx("button",{onClick:()=>o(!1),className:"modal-close",children:l.jsx(xi,{size:20})})]}),l.jsxs("div",{className:"modal-body",children:[l.jsxs("p",{style:{color:"var(--text-muted)",marginBottom:"1.5rem"},children:[c.questionCount||c.totalQuestions," Questions  ",c.duration," minutes  Pass: ",c.passingScore,"%"]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:c.questions?.map((G,ne)=>l.jsxs("div",{style:{background:"var(--bg-tertiary)",borderRadius:"12px",padding:"1.25rem",border:"1px solid var(--border-color)"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"0.75rem",marginBottom:"0.75rem"},children:[l.jsxs("span",{style:{background:"linear-gradient(135deg, #8b5cf6, #6366f1)",color:"white",padding:"0.25rem 0.5rem",borderRadius:"6px",fontSize:"0.8rem",fontWeight:600},children:["Q",ne+1]}),l.jsx("span",{style:{fontWeight:500},children:G.question})]}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem",marginLeft:"2.5rem"},children:G.options?.map((K,H)=>l.jsxs("div",{style:{padding:"0.5rem 0.75rem",background:K===G.correctAnswer?"rgba(16, 185, 129, 0.2)":"rgba(71, 85, 105, 0.3)",borderRadius:"8px",fontSize:"0.85rem",border:K===G.correctAnswer?"1px solid #10b981":"1px solid transparent"},children:[["A","B","C","D"][H],". ",K]},H))})]},ne))})]})]})})]})}function wbt(){const{t}=m0(),[e,n]=C.useState("overview"),[r,s]=C.useState(null),[i,a]=C.useState(null),[o,c]=C.useState(null),[u,d]=C.useState(!0),[f,h]=C.useState(!1);C.useEffect(()=>{d(!0),Promise.all([rt.get(`${Or}/analytics/plagiarism`),rt.get(`${Or}/analytics/time-to-solve`),rt.get(`${Or}/analytics/topics`)]).then(([y,x,v])=>{s(y.data),a(x.data),c(v.data),d(!1)}).catch(y=>{console.error(y),d(!1)})},[]);const m=async y=>{h(!0);try{if(y==="csv"){const x=await rt.get(`${Or}/analytics/export/csv`,{responseType:"blob"}),v=window.URL.createObjectURL(new Blob([x.data])),w=document.createElement("a");w.href=v,w.download=`platform_analytics_${new Date().toISOString().split("T")[0]}.csv`,w.click()}else{const x=await rt.get(`${Or}/analytics/export/json`),v=new Blob([JSON.stringify(x.data,null,2)],{type:"application/json"}),w=window.URL.createObjectURL(v),B=document.createElement("a");B.href=w,B.download=`platform_analytics_${new Date().toISOString().split("T")[0]}.json`,B.click()}}catch(x){console.error(x)}h(!1)};if(u)return l.jsx("div",{className:"loading-spinner"});const g=[{id:"overview",label:t("topic_analysis"),icon:l.jsx(Qf,{size:16})},{id:"plagiarism",label:t("plagiarism_detection"),icon:l.jsx(Ui,{size:16})},{id:"time-to-solve",label:t("time_to_solve"),icon:l.jsx(vs,{size:16})},{id:"export",label:t("export_report"),icon:l.jsx(zg,{size:16})}];return l.jsxs("div",{className:"animate-fadeIn",children:[l.jsx("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1.5rem",flexWrap:"wrap"},children:g.map(y=>l.jsxs("button",{onClick:()=>n(y.id),style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.6rem 1.2rem",borderRadius:"10px",border:"none",cursor:"pointer",fontWeight:600,fontSize:"0.85rem",background:e===y.id?"var(--primary)":"var(--card-bg)",color:e===y.id?"#fff":"var(--text-secondary)",boxShadow:e===y.id?"0 4px 15px rgba(59,130,246,0.3)":"0 1px 3px rgba(0,0,0,0.1)",transition:"all 0.2s"},children:[y.icon," ",y.label]},y.id))}),e==="overview"&&o&&l.jsxs("div",{children:[l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"1.5rem",marginBottom:"1.5rem"},children:o.byType.map((y,x)=>l.jsxs("div",{style:{padding:"1.5rem",borderRadius:"16px",background:"var(--card-bg)",boxShadow:"0 2px 12px rgba(0,0,0,0.06)",border:"1px solid var(--border-color)"},children:[l.jsx("div",{style:{fontWeight:700,fontSize:"1.1rem",marginBottom:"1rem",textTransform:"capitalize"},children:y.type}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"0.75rem",textAlign:"center"},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"1.5rem",fontWeight:800},children:y.submissions}),l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-muted)"},children:t("submissions")})]}),l.jsxs("div",{children:[l.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:800,color:y.avgScore>=70?"#10b981":"#f59e0b"},children:[y.avgScore,"%"]}),l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-muted)"},children:t("avg_score")})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"1.5rem",fontWeight:800,color:"#3b82f6"},children:y.uniqueStudents}),l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-muted)"},children:t("students")})]})]}),l.jsx("div",{style:{marginTop:"1rem",height:"8px",borderRadius:"4px",background:"rgba(0,0,0,0.08)",overflow:"hidden"},children:l.jsx("div",{style:{height:"100%",width:`${y.passRate}%`,borderRadius:"4px",background:"linear-gradient(90deg, #10b981, #34d399)",transition:"width 0.5s"}})}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"4px",fontSize:"0.7rem",color:"var(--text-muted)"},children:[l.jsxs("span",{children:[y.passRate,"% ",t("pass_rate")]}),l.jsxs("span",{children:[y.failRate,"% ",t("fail_rate")]})]})]},x))}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem",marginBottom:"1.5rem"},children:[l.jsxs("div",{className:"dashboard-panel",children:[l.jsxs("h3",{className:"panel-title",children:[l.jsx(kr,{size:18,color:"#f59e0b"})," ",t("by_difficulty")]}),o.byDifficulty.map((y,x)=>{const v={easy:"#10b981",medium:"#f59e0b",hard:"#ef4444"};return l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",padding:"0.75rem",borderRadius:"10px",background:"var(--bg-secondary)",marginBottom:"0.5rem"},children:[l.jsx("span",{style:{fontWeight:700,width:"70px",textTransform:"capitalize",color:v[y.difficulty]||"#3b82f6"},children:y.difficulty}),l.jsx("div",{style:{flex:1},children:l.jsx("div",{style:{height:"8px",borderRadius:"4px",background:"rgba(0,0,0,0.08)",overflow:"hidden"},children:l.jsx("div",{style:{height:"100%",width:`${y.passRate}%`,borderRadius:"4px",background:v[y.difficulty]||"#3b82f6"}})})}),l.jsxs("span",{style:{fontWeight:700,fontSize:"0.85rem",width:"45px",textAlign:"right"},children:[y.avgScore,"%"]}),l.jsx("span",{style:{fontSize:"0.7rem",color:"var(--text-muted)",width:"40px"},children:y.submissions})]},x)})]}),l.jsxs("div",{className:"dashboard-panel",children:[l.jsxs("h3",{className:"panel-title",children:[l.jsx(Dr,{size:18,color:"#8b5cf6"})," ",t("by_language")]}),o.byLanguage.map((y,x)=>l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",padding:"0.75rem",borderRadius:"10px",background:"var(--bg-secondary)",marginBottom:"0.5rem"},children:[l.jsx("span",{style:{fontWeight:700,width:"90px"},children:y.language}),l.jsx("div",{style:{flex:1},children:l.jsx("div",{style:{height:"8px",borderRadius:"4px",background:"rgba(0,0,0,0.08)",overflow:"hidden"},children:l.jsx("div",{style:{height:"100%",width:`${y.passRate}%`,borderRadius:"4px",background:Jy[x%Jy.length]}})})}),l.jsxs("span",{style:{fontWeight:700,fontSize:"0.85rem",width:"45px",textAlign:"right"},children:[y.avgScore,"%"]}),l.jsx("span",{style:{fontSize:"0.7rem",color:"var(--text-muted)",width:"40px"},children:y.submissions})]},x))]})]}),o.topProblems.length>0&&l.jsxs("div",{className:"dashboard-panel",children:[l.jsxs("h3",{className:"panel-title",children:[l.jsx(nd,{size:18,color:"#ef4444"})," ",t("most_attempted_problems")]}),l.jsx("div",{style:{overflowX:"auto"},children:l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.8rem"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{borderBottom:"2px solid var(--border-color)"},children:[l.jsx("th",{style:{textAlign:"left",padding:"0.6rem"},children:"#"}),l.jsx("th",{style:{textAlign:"left",padding:"0.6rem"},children:t("problem")}),l.jsx("th",{style:{textAlign:"center",padding:"0.6rem"},children:t("type")}),l.jsx("th",{style:{textAlign:"center",padding:"0.6rem"},children:t("difficulty")}),l.jsx("th",{style:{textAlign:"center",padding:"0.6rem"},children:t("attempts")}),l.jsx("th",{style:{textAlign:"center",padding:"0.6rem"},children:t("avg_score")}),l.jsx("th",{style:{textAlign:"center",padding:"0.6rem"},children:t("pass_rate")})]})}),l.jsx("tbody",{children:o.topProblems.map((y,x)=>l.jsxs("tr",{style:{borderBottom:"1px solid var(--border-color)"},children:[l.jsx("td",{style:{padding:"0.6rem",fontWeight:700,color:"#3b82f6"},children:x+1}),l.jsx("td",{style:{padding:"0.6rem",fontWeight:600},children:y.title}),l.jsx("td",{style:{padding:"0.6rem",textAlign:"center",textTransform:"capitalize"},children:y.type}),l.jsx("td",{style:{padding:"0.6rem",textAlign:"center"},children:l.jsx("span",{style:{padding:"0.15rem 0.5rem",borderRadius:"6px",fontSize:"0.7rem",fontWeight:600,background:y.difficulty==="easy"?"rgba(16,185,129,0.12)":y.difficulty==="medium"?"rgba(251,191,36,0.12)":"rgba(239,68,68,0.12)",color:y.difficulty==="easy"?"#10b981":y.difficulty==="medium"?"#f59e0b":"#ef4444"},children:y.difficulty})}),l.jsx("td",{style:{padding:"0.6rem",textAlign:"center",fontWeight:600},children:y.attempts}),l.jsxs("td",{style:{padding:"0.6rem",textAlign:"center",fontWeight:700,color:y.avgScore>=70?"#10b981":"#f59e0b"},children:[y.avgScore,"%"]}),l.jsxs("td",{style:{padding:"0.6rem",textAlign:"center"},children:[y.passRate,"%"]})]},x))})]})})]})]}),e==="plagiarism"&&r&&l.jsxs("div",{children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))",gap:"1rem",marginBottom:"1.5rem"},children:[l.jsxs("div",{style:{padding:"1.25rem",borderRadius:"14px",background:"var(--card-bg)",boxShadow:"0 2px 8px rgba(0,0,0,0.06)",borderLeft:"4px solid #3b82f6"},children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-muted)",textTransform:"uppercase",fontWeight:600},children:t("total_submissions")}),l.jsx("div",{style:{fontSize:"2rem",fontWeight:800},children:r.stats.totalSubmissions})]}),l.jsxs("div",{style:{padding:"1.25rem",borderRadius:"14px",background:"var(--card-bg)",boxShadow:"0 2px 8px rgba(0,0,0,0.06)",borderLeft:"4px solid #ef4444"},children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-muted)",textTransform:"uppercase",fontWeight:600},children:t("plagiarism_flags")}),l.jsx("div",{style:{fontSize:"2rem",fontWeight:800,color:"#ef4444"},children:r.stats.plagiarismCount})]}),l.jsxs("div",{style:{padding:"1.25rem",borderRadius:"14px",background:"var(--card-bg)",boxShadow:"0 2px 8px rgba(0,0,0,0.06)",borderLeft:"4px solid #f59e0b"},children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-muted)",textTransform:"uppercase",fontWeight:600},children:t("plagiarism_rate")}),l.jsxs("div",{style:{fontSize:"2rem",fontWeight:800,color:"#f59e0b"},children:[r.stats.plagiarismRate,"%"]})]}),l.jsxs("div",{style:{padding:"1.25rem",borderRadius:"14px",background:"var(--card-bg)",boxShadow:"0 2px 8px rgba(0,0,0,0.06)",borderLeft:"4px solid #8b5cf6"},children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-muted)",textTransform:"uppercase",fontWeight:600},children:t("repeat_offenders")}),l.jsx("div",{style:{fontSize:"2rem",fontWeight:800,color:"#8b5cf6"},children:r.repeatOffenders.length})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem",marginBottom:"1.5rem"},children:[l.jsxs("div",{className:"dashboard-panel",children:[l.jsxs("h3",{className:"panel-title",style:{color:"#ef4444"},children:[l.jsx(Qn,{size:18})," ",t("repeat_offenders")]}),r.repeatOffenders.length>0?r.repeatOffenders.map((y,x)=>l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.75rem",borderRadius:"8px",background:"rgba(239,68,68,0.05)",marginBottom:"0.5rem"},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontWeight:600},children:y.name}),l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-muted)"},children:y.copiedFrom.slice(0,3).join(", ")})]}),l.jsxs("span",{style:{background:"#ef4444",color:"#fff",padding:"0.2rem 0.6rem",borderRadius:"20px",fontWeight:700,fontSize:"0.8rem"},children:[y.count,"x"]})]},x)):l.jsx("div",{style:{textAlign:"center",color:"var(--text-muted)",padding:"1rem"},children:t("no_offenders")})]}),l.jsxs("div",{className:"dashboard-panel",children:[l.jsxs("h3",{className:"panel-title",children:[l.jsx(yh,{size:18,color:"#f59e0b"})," ",t("most_copied_problems")]}),r.byProblem.length>0?r.byProblem.map((y,x)=>l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.75rem",borderRadius:"8px",background:"var(--bg-secondary)",marginBottom:"0.5rem"},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontWeight:600},children:y.title}),l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-muted)",textTransform:"capitalize"},children:y.difficulty})]}),l.jsxs("span",{style:{fontWeight:700,color:"#f59e0b"},children:[y.flaggedCount," flags"]})]},x)):l.jsx("div",{style:{textAlign:"center",color:"var(--text-muted)",padding:"1rem"},children:t("no_data")})]})]}),l.jsxs("div",{className:"dashboard-panel",children:[l.jsxs("h3",{className:"panel-title",children:[l.jsx(Ui,{size:18,color:"#ef4444"})," ",t("all_flagged_submissions")]}),r.flaggedSubmissions.length>0?l.jsx("div",{style:{overflowX:"auto"},children:l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.8rem"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{borderBottom:"2px solid var(--border-color)"},children:[l.jsx("th",{style:{textAlign:"left",padding:"0.6rem"},children:t("student")}),l.jsx("th",{style:{textAlign:"left",padding:"0.6rem"},children:t("problem")}),l.jsx("th",{style:{textAlign:"center",padding:"0.6rem"},children:t("language")}),l.jsx("th",{style:{textAlign:"center",padding:"0.6rem"},children:t("score")}),l.jsx("th",{style:{textAlign:"left",padding:"0.6rem"},children:t("copied_from")}),l.jsx("th",{style:{textAlign:"right",padding:"0.6rem"},children:t("date")})]})}),l.jsx("tbody",{children:r.flaggedSubmissions.slice(0,30).map((y,x)=>l.jsxs("tr",{style:{borderBottom:"1px solid var(--border-color)"},children:[l.jsx("td",{style:{padding:"0.6rem",fontWeight:600},children:y.studentName}),l.jsx("td",{style:{padding:"0.6rem"},children:y.problemTitle}),l.jsx("td",{style:{padding:"0.6rem",textAlign:"center"},children:y.language}),l.jsx("td",{style:{padding:"0.6rem",textAlign:"center"},children:y.score}),l.jsx("td",{style:{padding:"0.6rem",color:"#ef4444"},children:y.copiedFromName||y.copiedFrom}),l.jsx("td",{style:{padding:"0.6rem",textAlign:"right",fontSize:"0.75rem",color:"var(--text-muted)"},children:new Date(y.submittedAt).toLocaleDateString()})]},x))})]})}):l.jsx("div",{style:{textAlign:"center",color:"var(--text-muted)",padding:"2rem"},children:t("no_plagiarism_detected")})]})]}),e==="time-to-solve"&&i&&l.jsxs("div",{children:[l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1.5rem",marginBottom:"1.5rem"},children:i.difficultySummary.map((y,x)=>{const w={easy:{bg:"rgba(16,185,129,0.08)",border:"#10b981"},medium:{bg:"rgba(251,191,36,0.08)",border:"#f59e0b"},hard:{bg:"rgba(239,68,68,0.08)",border:"#ef4444"}}[y.difficulty]||{bg:"rgba(59,130,246,0.08)",border:"#3b82f6"};return l.jsxs("div",{style:{padding:"1.5rem",borderRadius:"16px",background:w.bg,border:`2px solid ${w.border}`},children:[l.jsx("div",{style:{fontWeight:800,fontSize:"1.2rem",textTransform:"capitalize",color:w.border,marginBottom:"1rem"},children:y.difficulty}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-muted)",textTransform:"uppercase"},children:t("problems")}),l.jsx("div",{style:{fontSize:"1.5rem",fontWeight:800},children:y.problems})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-muted)",textTransform:"uppercase"},children:t("avg_time")}),l.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:800},children:[y.avgTimeMinutes,"m"]})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-muted)",textTransform:"uppercase"},children:t("avg_attempts")}),l.jsx("div",{style:{fontSize:"1.5rem",fontWeight:800},children:y.avgAttempts})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-muted)",textTransform:"uppercase"},children:t("solve_rate")}),l.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:800,color:w.border},children:[y.avgSolveRate,"%"]})]})]})]},x)})}),l.jsxs("div",{className:"dashboard-panel",children:[l.jsxs("h3",{className:"panel-title",children:[l.jsx(vs,{size:18,color:"#3b82f6"})," ",t("all_problems_metrics")]}),l.jsx("div",{style:{overflowX:"auto"},children:l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.8rem"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{borderBottom:"2px solid var(--border-color)"},children:[l.jsx("th",{style:{textAlign:"left",padding:"0.6rem"},children:t("problem")}),l.jsx("th",{style:{textAlign:"center",padding:"0.6rem"},children:t("type")}),l.jsx("th",{style:{textAlign:"center",padding:"0.6rem"},children:t("difficulty")}),l.jsx("th",{style:{textAlign:"center",padding:"0.6rem"},children:t("students")}),l.jsx("th",{style:{textAlign:"center",padding:"0.6rem"},children:t("total_attempts")}),l.jsx("th",{style:{textAlign:"center",padding:"0.6rem"},children:t("avg_attempts")}),l.jsx("th",{style:{textAlign:"center",padding:"0.6rem"},children:t("avg_time")}),l.jsx("th",{style:{textAlign:"center",padding:"0.6rem"},children:t("solve_rate")})]})}),l.jsx("tbody",{children:i.problems.map((y,x)=>l.jsxs("tr",{style:{borderBottom:"1px solid var(--border-color)"},children:[l.jsx("td",{style:{padding:"0.6rem",fontWeight:600},children:y.title}),l.jsx("td",{style:{padding:"0.6rem",textAlign:"center",textTransform:"capitalize"},children:y.type}),l.jsx("td",{style:{padding:"0.6rem",textAlign:"center"},children:l.jsx("span",{style:{padding:"0.15rem 0.5rem",borderRadius:"6px",fontSize:"0.7rem",fontWeight:600,background:y.difficulty==="easy"?"rgba(16,185,129,0.12)":y.difficulty==="medium"?"rgba(251,191,36,0.12)":"rgba(239,68,68,0.12)",color:y.difficulty==="easy"?"#10b981":y.difficulty==="medium"?"#f59e0b":"#ef4444"},children:y.difficulty})}),l.jsx("td",{style:{padding:"0.6rem",textAlign:"center"},children:y.studentCount}),l.jsx("td",{style:{padding:"0.6rem",textAlign:"center"},children:y.totalAttempts}),l.jsx("td",{style:{padding:"0.6rem",textAlign:"center",fontWeight:600},children:y.avgAttempts}),l.jsx("td",{style:{padding:"0.6rem",textAlign:"center"},children:y.avgTimeMinutes?`${y.avgTimeMinutes}m`:"-"}),l.jsxs("td",{style:{padding:"0.6rem",textAlign:"center",fontWeight:700,color:y.solveRate>=70?"#10b981":y.solveRate>=40?"#f59e0b":"#ef4444"},children:[y.solveRate,"%"]})]},x))})]})})]})]}),e==="export"&&l.jsx("div",{children:l.jsxs("div",{className:"dashboard-panel",style:{textAlign:"center",padding:"3rem 2rem"},children:[l.jsx(zg,{size:56,color:"var(--primary)",style:{marginBottom:"1rem"}}),l.jsx("h3",{style:{margin:"0 0 0.5rem",fontSize:"1.5rem"},children:t("export_platform_analytics")}),l.jsx("p",{style:{color:"var(--text-muted)",marginBottom:"2rem",maxWidth:"600px",margin:"0 auto 2rem"},children:t("export_platform_description")}),l.jsxs("div",{style:{display:"flex",gap:"1.5rem",justifyContent:"center",flexWrap:"wrap"},children:[l.jsxs("button",{onClick:()=>m("csv"),disabled:f,style:{padding:"1rem 2.5rem",borderRadius:"14px",border:"none",cursor:"pointer",background:"linear-gradient(135deg, #059669, #10b981)",color:"#fff",fontWeight:700,fontSize:"1rem",opacity:f?.6:1,display:"flex",alignItems:"center",gap:"0.5rem",boxShadow:"0 4px 15px rgba(16,185,129,0.3)"},children:[l.jsx(Oa,{size:20})," ",t("download_csv")]}),l.jsxs("button",{onClick:()=>m("json"),disabled:f,style:{padding:"1rem 2.5rem",borderRadius:"14px",border:"none",cursor:"pointer",background:"linear-gradient(135deg, #1e40af, #3b82f6)",color:"#fff",fontWeight:700,fontSize:"1rem",opacity:f?.6:1,display:"flex",alignItems:"center",gap:"0.5rem",boxShadow:"0 4px 15px rgba(59,130,246,0.3)"},children:[l.jsx(Dr,{size:20})," ",t("download_json")]})]})]})})]})}const ihe=C.createContext(null),ahe=C.createContext(null),xb=()=>C.useContext(ihe),Sbt=()=>C.useContext(ahe);function P6({children:t,allowedRoles:e}){const{user:n}=xb();return n?e&&!e.includes(n.role)?l.jsx(Hy,{to:`/${n.role}`,replace:!0}):t:l.jsx(Hy,{to:"/login",replace:!0})}const Cbt="http://localhost:8000/api";function kbt(){const[t,e]=C.useState(null),[n,r]=C.useState(()=>{const d=localStorage.getItem("theme");return d||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}),[s,i]=C.useState(!0),a=Q8();C.useEffect(()=>{try{const d=localStorage.getItem("currentUser");d&&d!=="undefined"&&e(JSON.parse(d))}catch(d){console.error("Failed to parse saved user:",d),localStorage.removeItem("currentUser")}i(!1)},[]),C.useEffect(()=>{document.documentElement.setAttribute("data-theme",n),localStorage.setItem("theme",n)},[n]);const o=async(d,f)=>{try{const h=await fetch(`${Cbt}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:d,password:f})}),m=await h.json();if(!h.ok)throw new Error(m.error||"Login failed");return e(m.user),localStorage.setItem("currentUser",JSON.stringify(m.user)),a(`/${m.user.role}`),{success:!0}}catch(h){return{success:!1,error:h.message}}},c=()=>{e(null),localStorage.removeItem("currentUser"),a("/login")},u=()=>{r(d=>d==="light"?"dark":"light")};return s?l.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",background:"var(--bg-secondary)"},children:l.jsx("div",{className:"loading-spinner"})}):l.jsx(ihe.Provider,{value:{user:t,login:o,logout:c},children:l.jsx(ahe.Provider,{value:{theme:n,toggleTheme:u},children:l.jsxs(CE,{children:[l.jsx(us,{path:"/login",element:t?l.jsx(Hy,{to:`/${t.role}`,replace:!0}):l.jsx(Tye,{})}),l.jsx(us,{path:"/student/*",element:l.jsx(P6,{allowedRoles:["student"],children:l.jsx(Mxt,{})})}),l.jsx(us,{path:"/mentor/*",element:l.jsx(P6,{allowedRoles:["mentor"],children:l.jsx(tbt,{})})}),l.jsx(us,{path:"/admin/*",element:l.jsx(P6,{allowedRoles:["admin"],children:l.jsx(hbt,{})})}),l.jsx(us,{path:"/",element:t?l.jsx(Hy,{to:`/${t.role}`,replace:!0}):l.jsx(Hy,{to:"/login",replace:!0})}),l.jsx(us,{path:"*",element:l.jsx(Hy,{to:"/",replace:!0})})]})})})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(t=>console.log("[PWA] Service Worker registered:",t.scope)).catch(t=>console.warn("[PWA] SW registration failed:",t))});if(!localStorage.getItem("theme")){const t=window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.setAttribute("data-theme",t?"dark":"light")}Cpe.createRoot(document.getElementById("root")).render(l.jsx(Hp.StrictMode,{children:l.jsx(Hme,{children:l.jsx(_ye,{children:l.jsx(kbt,{})})})}));export{js as _,Bbt as c,nc as g};
